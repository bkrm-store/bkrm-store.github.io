{"version":3,"sources":["components/SearchBar/SearchCustomer.js","components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary.js","views/SalesView/Cart/CartTableRow/CartTableRow.js","views/SalesView/Cart/Cart.js","views/SalesView/Invoice/InvoiceTool/InvoiceFilter.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceTableRow.js","views/SalesView/Invoice/Invoice.js","views/SalesView/InvoiceReturn/InvoiceReturnTool/InvoiceReturnFilter.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnTableRow.js","views/SalesView/InvoiceReturn/InvoiceReturn.js","views/SalesView/SalesView.js","components/Button/MenuButton.js","components/TableCommon/style/mainViewStyle.js","components/TableCommon/TableHeader/TableHeader.js","assets/img/icon/no-results-1.png","components/TableCommon/TableWrapper/TableWrapper.js","components/TableCommon/util/sortUtil.js","api/customerApi.js","components/MiniTableRow/MiniTableRow.js","assets/constant/tableHead.js","assets/constant/tableType.js","components/TableCommon/util/format.js","components/ReceiptPrinter/ReceiptPrinter.js","components/Button/ButtonQuantity.js","components/StatusPopup/StatusPopup.js","api/orderApi.js","api/supplierApi.js","components/CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary.js","components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp.js","components/TableCommon/style/rowStyle.js","components/TableCommon/ToolBar/ToolBar.js","api/purchaseOrderApi.js","assets/img/product/tch.jpeg","api/refundApi.js","api/purchaseReturnApi.js","components/Category/CategorySelect.js","components/TableCommon/TableWrapper/Pagination.js","components/StatusModal/StatusModal.js","components/SnackBar/SnackBarGeneral.js","components/Modal/PayRemaining.js","assets/img/icon/empty-cart.png","components/Modal/DialogWrapper.js","components/CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary.js","assets/img/icon/barcode1.png","views/InventoryView/Inventory/AddInventory/AddCategory.js","views/SalesView/Cart/DiscountPopup/DiscountPopup.js","assets/img/icon/giftbox.png","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderModal.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail.js","views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail.js","views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail.js","views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail.js","assets/img/ava/avaa.jpeg","views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/styles.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/UpdateInventory.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/BranchInventoryPopUp.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/VarianceModal.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/PrintBarcodePopUp.js","assets/img/barcode/3.jpeg","assets/img/barcode/2.jpeg","assets/img/barcode/1.jpeg","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail.js","components/Category/List/UpdateCategory.js","components/Category/List/RootCategory.js","components/Category/CategoryTree.js","views/InventoryView/Inventory/Category/Category.js","components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/UpdateCustomer/UpdateCustomer.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/UpdateSupplier/UpdateSupplier.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/ChangeEmployeePwd/ChangeEmployeePwd.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail.js","components/MoreInfo/MoreInfo.js","components/Select/CategorySelect.js","components/MenuProduct/MenuProduct.js","components/Button/CartButton.js","api/promotionCouponApi.js","components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn.js","components/Email/CustomerRegisterEmail.js","components/SearchBar/SearchBarCode.js","views/InventoryView/Inventory/AddInventory/styles.js","components/SearchBar/SearchWithAutoComplete.js","components/TextField/TagsInput.js","views/InventoryView/Inventory/AddInventory/AddAttribute.js","views/InventoryView/Inventory/AddInventory/RelaltedItemList.js","views/InventoryView/Inventory/AddInventory/AddInventory.js","views/ManagerView/Customer/AddCustomer/AddCustomer.js","components/TextField/DiscountInputDetail.js","components/SelectBatch/SelectBatch.js","views/InventoryView/OrderProductList/OrderProductListTool/OrderProductListFilter.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListTableRow.js","views/InventoryView/OrderProductList/OrderProductList.js"],"names":["useStyles","makeStyles","theme","createStyles","input","borderRadius","multilineColor","color","customization","primaryColor","marginRight","SearchCustomer","withStyles","root","TextField","props","useTheme","classes","useEffect","selectedCustomer","filter","createFilterOptions","stringify","option","removeAccents","name","phone","style","width","Autocomplete","filterOptions","autoComplete","freeSolo","onKeyUp","event","key","handleSearchBarSelect","value","options","customers","item","status","getOptionLabel","concat","onChange","renderInput","params","fullWidth","placeholder","margin","InputProps","startAdornment","InputAdornment","position","endAdornment","IconButton","size","onClick","setAddCustomer","fontSize","grey","handleClickOpen","renderOption","Grid","container","direction","justifyContent","Typography","variant","marginBox","marginTop","marginRow","hidden","display","headerTitle","popup","borderColor","padding","paddingLeft","boxShadow","CartSummary","cartData","handleSelectCustomer","currentCustomer","handleUpdatePaidAmount","handleUpdateDiscount","handleUpdatePaymentMethod","handleSearchCustomer","handleCheckDelivery","handleConfirm","selectedBranch","setSelectedBranch","currentBranch","mode","discountData","reloadCustomers","isScore","handleUpdateDiscountDetail","handleUpdateSelectedPromotion","handleUpdateBestDetailSelectedPromotion","products","React","useState","open","setOpen","useDispatch","filteredPromotion","console","log","length","arr","map","pro","sortedRow","JSON","parse","promotion_condition","sort","a","b","totalCost","Number","total_amount","push","detailCondition","discountKey","discountType","id","handlePromotion","selectedPromotion","openDiscount","setOpenDiscount","addCustomer","anchorEl","setAnchorEl","openDiscountDetail","Boolean","info","useSelector","state","store_setting","store","general_configuration","setting","canEnterDiscountWhenSell","returnMoney","paid_amount","discount","discountPro","otherFee","otherfee","calculateTotalQuantity","cartItem","vat","otherFeeMoney","listCost","reduce","sum","fee","type","Box","minHeight","alignItems","spacing","xs","Date","toLocaleDateString","toLocaleTimeString","AddCustomer","handleClose","onReload","isCart","children","className","ListItem","src","require","default","height","marginLeft","listGiftItem","title","onClose","totalCartAmount","fontWeight","bestDetailSelectedPromotion","discountValue","backgroundColor","paddingRight","Popper","placement","zIndex","DiscountInputDetail","role","currentTarget","openNotification","textAlign","Divider","background","scores","points","inputProps","e","target","FormControl","component","RadioGroup","payment_method","FormControlLabel","labelPlacement","control","Radio","label","Button","disabled","disable","CartRow","branch","branchs","branches","row","handleDeleteItemCart","handleChangeItemQuantity","handleUpdateBatches","handleChangeItemPrice","mini","imageType","index","typeShow","showImage","isGiftPromotion","updateQuantity","newQuantity","uuid","selectBatchOpen","setSelectBatchOpen","canFixPriceSell","show","setShow","findBranchQuantity","rs","branch_inventories","find","x","quantity_available","TableRow","hover","onMouseOver","onMouseLeave","TableCell","align","product_code","minWidth","marginBottom","sx","img_urls","at","defaultProduct","paddingTop","paddingBottom","cart","defaultPrice","unit_price","inventory","MoreInfo","ordering_quantity","has_batches","quantity","ButtonQuantity","miniCart","setQuantity","branch_quantity","isManageInventory","boldText","colSpan","flexDirection","gap","selectedBatches","batch","Tooltip","Chip","batch_code","expiry_date","substring","additional_quantity","onDelete","newBatches","selectedBatch","isLessDate","toDateString","deleteIcon","DeleteOutline","SelectBatch","handleSubmit","batches","forEach","newBatch","total","Cart","setDisable","searchBarState","store_uuid","branch_uuid","defaultPaymentAmount","setDiscountData","user_uuid","user","dispatch","reloadProduct","setReloadProduct","window","localStorage","getItem","data","cartList","customer","delivery","discountDetail","loadCartLocalStorage","setCartList","setProducts","setCustomers","setItem","cartMode","setTypeShow","setMode","setShowImage","selectedIndex","setSelectedIndex","addProduct","setAddProduct","isUpdateTotalAmount","setIsUpdateTotalAmount","openSnack","setOpenSnack","message","snackStatus","setSnackStatus","xsScreen","useMediaQuery","breakpoints","down","updateTotalAmount","searchKey","customerApi","getCustomers","search_key","response","loadProducts","productApi","searchBranchProduct","loadCustomers","cust","vouchers","loadPromotionCoupons","promotionCouponApi","getActivePromotionVoucher","promotions","intervalID","setInterval","clearInterval","setReloadCustomers","loadingCustomer","handleDeleteAllItem","newCartList","order","setOrder","orderBy","setOrderBy","selectedOption","batchBarCode","itemIndex","findIndex","batchInfo","newCartItem","bar_code","list_price","update","$push","cloneDeep","existedBatchIndex","statusAction","failedStatus","itemUuid","$splice","isNaN","_","sumBy","splice","newPrice","$set","bestCondition","bestDetailSelectedCondition","totalOtherFee","customerScore","parseInt","code","setCode","openPopUpWarning","setOpenPopUpWarning","emptyCart","printReceiptWhenSell","canSellWhenNegativeQuantity","alowDebt","correctQuantity","every","element","notExistNullQuantity","notExistZeroPrice","handleConfirmCallApi","d","moment","now","orderTime","unix","format","trim","details","body","customer_uuid","toString","Math","min","creation_date","paid_date","tax","shipping","is_customer_order","other_fee_value","other_fee_detail","promotion_value","standard_price","promotion_detail","promotion_id","orderApi","addOrder","res","order_code","handlePrint","componentRef","useRef","useReactToPrint","content","current","AddInventory","setReload","SnackBarGeneral","reason","sm","Card","ChangeCartBtn","handleClick","handleChoose","handleDelete","handleAdd","SearchProduct","isFilter","Switch","checked","infoActions","setSearchBarState","SearchBarCode","ButtonBase","Avatar","headerAvatar","stroke","MenuProduct","selectedItem","TableWrapper","TableHeader","onRequestSort","property","headerData","HeadCells","TableBody","stableSort","getComparator","isPromotion","amount","method","obj","discountUpdate","toFixed","checkProduct","percentFee","listGift","idPro","detail","numberGiftItem","TableContainer","maxHeight","Table","isDebtWarning","existZeroPrice","ref","ReceiptPrinter","cartModal","PopUpWarningZeroPrice","ModalWrapperWithClose","drawer","flexShrink","drawerPaper","textField","text","InvoiceFilter","handleToggleFilter","openFilter","query","setOrders","setQuery","formik","useFormik","initialValues","onSubmit","values","startDate","setFieldValue","endDate","Drawer","anchor","paper","InputLabelProps","shrink","handleChange","required","minTotalAmount","maxTotalAmount","minDiscount","maxDiscount","formControl","Select","labelId","MenuItem","paymentMethod","InvoiceTableRow","handleOpenRow","openRow","hidenCollumn","colorText","useRowStyles","promotionDiscountValue","clsx","rowClicked","fontName","split","reverse","join","substr","customer_name","total_quantity","includes","debt","InvoiceDetail","parentProps","Invoice","orders","page","limit","pagingState","setPagingState","totalRows","setTotalRows","totalAmount","setTotalAmount","initialQuery","setRowOpen","setOpenFilter","reload","loadData","getAllOfBranch","total_rows","tableRef","createRef","getDataExport","btngroup1","customizeAction","setSidebarOpen","setItemMenuOpen","Link","to","ToolBar","dataTable","handleDeleteAll","deleteApi","deleteAll","successfulStatus","Modal","confirm","onOk","tableType","TableType","textSearch","orderByOptions","setSort","setSearchKey","handleRemoveFilter","columnsToKeep","dbName","displayName","partnerName","date","typeBill","Pagination","list","ComponentToPrint","firstDate","slice","flexGrow","isReport","InvoiceReturnFilter","setRefunds","orderCode","defaultValue","InvoiceReturnTableRow","refund_code","created_at","InvoiceReturnDetail","InvoiceReturn","refunds","refundApi","SalesView","path","useRouteMatch","permissions","exact","p","OrderProductList","StyledMenu","border","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","palette","primary","main","common","white","table","button","typography","commonAvatar","mediumAvatar","transition","btngroup","visuallyHidden","clip","overflow","top","icon","tab","indicator","hoverCard","cardRoot","media","appBar","flex","StyledTableCell","head","isCustomer","headColor","headCell","StyledPaper","Paper","dense","setDense","scrollIntoView","stickyHeader","showSizeChanger","newCurrent","newPageSize","pageSizeChange","descendingComparator","array","comparator","stabilizedThis","el","calculateTotalReturnQuantity","returnQuantity","createCustomer","storeUuid","url","axiosClient","post","get","getCustomer","customerUuid","deleteCustomer","delete","updateCustomer","put","payDebt","importCustomerJson","json","updateCustomerVouchers","getCustomerDebts","getCustomerGroups","updateCustomerGroup","createCustomerGroup","deleteCustomerGroup","Transition","forwardRef","BillMiniTableRow","dateAdvanceSetting","secondaryColor","fullScreen","TransitionComponent","edge","isMini","PartnerMiniTableRow","img","score","typePartner","alt","ava","ReturnCartMiniTableRow","handleProductPriceChange","handleItemQuantityChange","activeFixPrice","returnCart","returnImport","maxWidth","returnPrice","returned_quantity","isReturn","ProductMiniTableRow","min_reorder_quantity","VarianceProductMiniTableRow","variance","img_url","InventoryHeadCells","disablePadding","InventoryOrderHeadCells","InventoryReturnOrderHeadCells","SupplierHeadCells","InvoiceHeadCells","InvoiceReturnHeadCells","EmployeeHeadCells","CustomerHeadCells","CartHeadCells","ImportHeadCells","CartReturnHeadCells","ImportReturnHeadCells","OrderHeadCells","CheckHeadCells","OrderListHeadCells","CheckHistoryHeadCells","EmployeeScheduleHeadCells","InventoryCheckHeadCells","VoucherHeadCells","DiscountHeadCells","TransferInventoryHeadCells","CashbookHeadCells","INVOICE","INVOICE_RETURN","INVENTORY","INVENTORY_ORDER","INVENTORY_RETURN","SUPPLIER","CHECK_LIST","ORDER_LIST","TRANSFER_INVENTORY","EMPLOYEE","CUSTOMER","FormatedStatus","FormatedProductStatus","lowStock","overStock","FormatedProductStatusReport","FormatedStatusOrder","centerQR","center","right","Largetext","weight","divider","orderDate","QRCode","NomalReceiptPrinter","link","store_configuration","web_page","logo","created_by_user","contentNote","readOnly","custom_web","orientation","flexItem","quantity_per_unit","fontStyle","Docso","doc","ImportReceiptPrinter","supplier","HtmlTooltip","tooltip","pxToRem","error_quantity","onMouseOut","Fragment","fill","textfieldClass","description","notification","branchUuid","getAllOfStore","getOrder","orderUuid","searchOrder","editOrderApi","deleteOrder","searchCustomerOrder","processCustomerOrder","customerOrderId","confirmCustomerOrder","cancleCustomerOrder","paymentCustomerOrder","updateCustomerOrder","newDetails","supplierApi","createSupplier","headers","getSuppliers","getSupplier","supplierUuid","deleteSupplier","inactiveSupplier","activeSupplier","updateSupplier","ImportReturnSummary","handlePaymentMethodChange","handlePaidAmountChange","purchase_order_code","InventoryReturnPopUp","purchaseOrder","handleCloseReturn","reloadDetail","purchase_order_id","supplier_id","branch_id","max_return_quantity","purchase_order_batches","purchaseReturn","setPurchaseReturn","handleChangeBatches","itemId","newPurchaseReturn","handleDeleteItem","export_date","purchase_order_uuid","product_id","purchase_order_detail_id","purchaseReturnApi","removeInventory","purchase_return_code","closeButton","DialogContent","card","ImportReturnTableRow","paidAmount","newSelectedBatches","borderBottom","large","toolbar","search","exportExcel","newData","rowRs","cl","workSheet","xlsx","utils","json_to_sheet","workBook","book_new","book_append_sheet","write","bookType","writeFile","err","hasImport","importByJSON","excel_data","excel_head","excel_name","isOnlySearch","customizable","extra","openImport","setOpenImport","custom","category_id","max_order","customCl","setCustomCl","excel","setExcel","jsonData","setJsonData","listCl","setListCl","barcodeIcon","htmlFor","autoWidth","o","actions","dataTableFull","cursor","select","SelectProps","native","preventDefault","files","reader","FileReader","onload","result","workbook","read","sheetName","SheetNames","worksheet","Sheets","excelLines","sheet_to_json","Object","keys","readAsArrayBuffer","readCustomizedProduct","myJson","product","category_name","readUploadFile","line","address","email","payment_info","total_payment","error","readCustomerUploadFile","purchaseOrderApi","addInventory","getPurchaseOrder","purchaseOrderUuid","searchPurchaseOrder","editPurchaseOrder","purchaseOrdersUuid","deletePurchaseOrder","updateDetail","getRefund","refundUuid","searchRefund","getPurchaseReturn","purchaseReturnUuid","searchPurchaseReturn","CategorySelect","categoryList","category","MyOption","currentLevel","i","subCategory","Paginations","scrollTo","rowsPerPageOptions","rowsPerPage","labelRowsPerPage","count","success","warning","Alert","autoHideDuration","severity","PayRemaining","editApiCall","resetForm","enableReinitialize","pay","validationSchema","Yup","lessThan","moreThan","paid","errors","touched","onBlur","handleBlur","helperText","isValid","DialogWrapper","InvoiceReturnSummary","order_total_amount","AddCategory","setCategoryList","parent_category_uuid","categoryInfo","setCategoryInfo","fetchAllCategory","getAllCategory","getNestedCategory","response_1","reset","handleAddCategory","handleCloseAndReset","addCategory","onReset","gutterBottom","dropdownStyle","treeData","val","treeDefaultExpandAll","getDiscountType","DiscountPopup","setValue","promotion","setPromotion","check","setCheck","getColorSelected","selectedData","some","getBestDetailSelectedCondition","quantityWarn","setQuantityWarn","fetchCategoryList","getListItem","isGiftCategory","getAllProductInCategoryParent","listGiftCategory","toLocaleString","multiple","handleCheck","renderValue","selected","newCheck","handleChangeGiftQuantity","handleApplyPromotion","OrderModal","customerOrder","isOpen","inventoryInfo","orderredQuantity","branchInventory","getBranchInventory","getBatches","newOrder","new_customer","ward","province","district","order_id","productId","renderQuantityInput","detailIndex","InputLabel","labelWidth","handleSelectBatch","selectedBatchIndex","handleChangeBatchQuantity","handleChangeDetailQuantity","handleCancelOrder","customer_order_code","TableHead","scope","isOrderEmpty","typo","borderWidth","OrderProductListDetail","isOrderModalOpen","setIsOrderModalOpen","handlePayment","Collapse","in","timeout","unmountOnExit","city","historyRow","employee","keepMounted","ListItemIcon","ListItemText","Dialog","tag","lineHeight","boxSizing","outline","span","textOverflow","whiteSpace","DiscountDetail","rowsInvoice","promotion_code","startDay","endDay","isActive","start_date","end_date","times","byMonth","byDay","byDate","byTime","customer_birth","discountRow","numberBuyItem","flexWrap","listBuyItem","typeDiscountItem","TableRowDetailCart","created_user_name","refund","setRefund","is_new","InventoryOrderDetail","setPurchaseOrder","posted_to_inventory","date_received","currentDate","debtAmount","openPayRemaining","setOpenPayRemaining","editInventoryOrderApiCall","supplier_name","is_imported","startIcon","InventoryReturnDetail","purchase_order","CheckHistoryDetail","moneyDif","ele","product_name","inventory_check_code","branch_name","user_name","branch_inventory","is_checked","checked_batch","checked_quantity","VoucherDetail","box","UploadImages","avaUpload","UpdateInventory","openAddCategory","setOpenAddCategory","images","setImages","setDisplay","displayList","productInfo","isUrl","productFormik","barcode","importedPrice","salesPrice","unit","re_order_point","updateProductHandler","bodyFormData","FormData","append","prev","cur","image","updateProduct","clearAllImages","onKeyDown","displayImage","URL","createObjectURL","BranchInventoryPopUp","openModal","setOpenModal","generateInitial","valueQuantity","setValueQuantity","confirmTransferQuantity","to_id","value_quantity","Array","isArray","to_name","created_user_id","created_user_type","transferInventory","currenBranchInventory","totalQuantity","DialogTitle","textTransform","newValueQuantity","DialogActions","VarianceModal","suppliers","productDetail","setProductDetail","isOpenUpdate","setIsOpenUpdate","deleteConfirm","setDeleteConfirm","handleCloseDelete","handleConfirmDelete","deleteProduct","fetchProduct","getProduct","openDetailInventory","setOpenDetailInventory","showThumbs","notification_period","attribute_value","attVal","ConfirmPopUp","PrintBarcodePopUp","codeType","setCodeType","printStoreName","setPrintStoreName","printBatch","setPrintBatch","col","setCol","batchCode","setBatchCode","handleChooseBarCode","start","end","BarCodeModel","displayValue","idx","InventoryDetail","thisReload","setThisReload","isOpenVarianceDetailModal","setIsOpenVariaceDetailModal","selectedVariance","setSelectedVariance","openPrintBarcode","setOpenPrintBarcode","imageList","has_variance","variations","UpdateCategory","isDelete","setIsDelete","handleUpdateCategory","editCategory","handleDeleteCategory","deleteCategory","ModalWrapper","nested","RootCategory","subCategories","setSubCategories","getSubCategory","categories","useNestedApi","setUpdate","List","fromRoot","textDecoration","CategoryTree","parentCategories","setParentCategories","getParentCategory","categoryPopup","overflowY","Category","setReset","maxWith","InvoiceReturnPopUp","customer_id","order_batches","newRefund","import_date","order_uuid","order_detail_id","omit","CartReturnTableRow","returnLimit","haveReturnQuantity","date1","date2","abs","day","UpdateCustomer","phoneExist","setPhoneExist","clicked","setClicked","customerFormik","customerDetail","paymentInfo","matches","FormHelperText","UploadImage","CustomerDetail","openPayDebt","setOpenPayDebt","editItem","setEditItem","handleDeleteCustomer","setPaidAmount","customer_code","groups","g","UpdateSupplier","supplierDetail","supplierFormik","company","handleUpdateSupplier","SupplierDetail","editSupplier","setEditSupplier","handleDeleteSupplier","supplier_code","ChangeEmployeePwd","employeeDetail","owner_password","password","confirm_password","oneOf","handleChangePassword","closeModalAndResetData","userApi","owenerChangePassword","employee_password","salaryTypeMapping","fix","EmployeeDetail","handleReload","openEdit","setOpenEdit","date_of_birth","id_card_num","salary_type","salary","setEmployeeDetail","fetchEmp","employeeApi","getEmployee","changePwd","setChangePwd","EditEmployee","employee_code","permission","activeEmployee","inactiveEmployee","deleteEmployee","arrow","saveData","setData","isNotSelect","categoryId","setCategoryId","recursiveSearchTree","findedCategory","getAllChild","cat","child","filterCategory","allChild","allCat","apply","category_uuid","selectedNodeUuid","onSelect","selectedKeys","node","isCheck","allProduct","setAllProduct","selectedItemUuid","findItem","findedItem","real_quantity","renderListOption","colorCard","alignItem","alignCenter","btn","btnBottom","StyledBadge","styled","Badge","CartButton","number","storeInfo","badgeContent","createPromotion","createVoucher","updatePromotion","updateVoucher","getAllPromotions","getAllVouchers","hardText","getTitle","onMouseDown","CustomerRegisterEmail","header","footer","renderToString","setBarcode","onEnter","autoFocus","onKeyPress","expand","transform","transitions","create","duration","shortest","expandOpen","attrCard","attrHead","rooot","SearchWithAutoComplete","searchApiCall","nextRef","handleDefaultSelect","setOptions","searchValue","setSearchValue","loadingData","fetchData","indexOf","timer","setTimeout","clearTimeout","onInputChange","autoSelect","getOptionSelected","chip","TagsInput","setSelectedItem","selectedTags","tags","other","inputValue","setInputValue","handleKeyDown","newSelectedItem","replace","getInputProps","onFocus","tabIndex","handleInputChange","defaultProps","AddAttribute","attributeList","datas","setDatas","setRelatedList","newArr","mySet","items","_set","j","k","generateList","updateFieldChanged","attr","updateValueChanged","deleteAttr","addAttrRow","AttributeRow","inputAttr","setInputAttr","openPopupAddAttr","setOpenPopupAddAttr","isEditPopUp","handleChangeAttr","valid","RelaltedItemList","relatedList","handleChangeProperties","newValue","newRow","TreeSelect","SHOW_PARENT","Quill","register","ImageResize","modules","imageURL","setImageURL","addProductHandler","createProduct","selectSampleProductHandler","searchSampleProductHandler","searchDefaultProducts","salesPriceRef","focus","expanded","setExpanded","handleExpandClick","expandedDescription","setExpandedDescription","handleExpandedDescription","handleAddProductWithVariation","attributeValues","att","addProductWithVaration","recommendedProduct","toLowerCase","inputRef","expiryDate","Checkbox","variation","CardHeader","action","formats","clipboard","matchVisual","imageResize","parchment","import","storeApi","sendEmail","handleChangeType","onClickAway","isInventoryCheck","isImport","setSelectedBatches","Ribbon","offset","getColorBatch","newSelectedList","nonZeroBatch","OrderProductListTableRow","orderProductList","JSONdata","customerOrders","setCustomerOrders"],"mappings":"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","file":"static/js/23.2431c42d.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  Grid,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  useTheme,\n  withStyles,\n  makeStyles,\n  createStyles,\n} from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { removeAccents } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    input: {\n      borderRadius: \"20px\",       \n    },\n    multilineColor:{\n      color:theme.customization.primaryColor[500],\n      marginRight:-20\n  }\n  })\n);\n\nconst CustomTextField = withStyles({\n  root: {\n    \"& .MuiOutlinedInput-root\": {\n      \"& fieldset\": {\n        borderRadius: 14,\n      },\n    },\n  },\n})(TextField);\n\nconst SearchCustomer = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  // const [selectedOption, setSelectedOption] = useState(props.selected)\n  // const [options, setOptions] = React.useState([]);\n\n  useEffect(() => {\n\n  }, [props.selectedCustomer]);\n  // console.log(\"selectedCustomer\",props.selectedCustomer)\n  const renderOption = (option) => {\n    //display value in Popper elements\n    return (\n      <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\">\n        <Typography variant=\"h5\">{option.name}</Typography>\n        <Typography variant=\"body1\">{option.phone}</Typography>\n      </Grid>\n    );\n  };\n\n  const renderInput = (params) => (\n    <TextField\n      {...params}\n      fullWidth\n      placeholder=\"Tìm khách hàng\"\n      margin=\"normal\"\n      // onClick={()=>props.selectedCustomer? console.log(\"hello\"):null}\n      InputProps={\n        // props.selectedCustomer?.name.length === 0 \n        !props.selectedCustomer\n          ? {\n              ...params.InputProps,\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={props.handleClickOpen}\n                  style={{ marginRight: -30 }}\n                >\n                  <AddIcon />\n                </IconButton>\n              ),\n            }\n          : {\n              ...params.InputProps,\n              classes: { input: classes.multilineColor },\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {/* <SearchIcon style={{ color: grey[500] }} /> */}\n                  <PersonIcon style={{ color: theme.customization.primaryColor[500] }} /> \n\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={()=>{\n                    props.handleSearchBarSelect(null)\n                    props.setAddCustomer({ name: \"\", phone: \"\" })\n                  }}\n                  style={{ marginRight: -30 }}\n                >\n                  <ClearOutlinedIcon fontSize=\"small\" style={{ color: theme.customization.primaryColor[500] }} />\n                </IconButton>\n              ),\n            }\n      }\n    />\n  );\n\n  const getOptionLabel = (option) => (option.name ? option.name.concat(option.phone? ` - ${option.phone}` :'') : \"\");\n  const filter = createFilterOptions({\n    stringify: option => `${removeAccents(option.name)}  - ${option.phone}`,\n  });\n  return (\n    <div style={{ width: \"100%\" }}>\n      <Autocomplete\n        filterOptions={filter}\n        autoComplete={false}\n        freeSolo\n        onKeyUp={(event) => {\n          // if (event.key === \"Enter\") {\n          //   props.handleSearchCustomer(event.target.value) \n          // }\n          if(props.selectedCustomer && (event.key === \"Delete\" || event.key === \"Backspace\") ){\n            props.handleSearchBarSelect(null)\n          }\n        }}\n        value={props.selectedCustomer}\n        options={props.customers.filter(item => item.status ==='active')}\n        getOptionLabel={getOptionLabel}\n        onChange={(event, value) => {\n          if (value) {\n            // setSelectedOption(value);\n            props.handleSearchBarSelect(value);\n          }\n        }}\n        // onInputChange={()=>{\n        //   if(props.selectedCustomer?.name.length !== 0){\n        //     // props.handleSearchBarSelect(null)\n        //     props.setAddCustomer({ name: \"\", phone: \"\" })\n        //   }\n          \n        // }}\n        renderInput={renderInput}\n        renderOption={renderOption}\n      />\n    </div>\n  );\n};\n\nexport default SearchCustomer;\n","import React from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  DialogActions,\n  DialogContent,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  RadioGroup,\n  Radio,\n  ListItem,\n  Paper,\n  ButtonBase,\n  Avatar,\n  Popover,\n  Divider\n} from \"@material-ui/core\";\nimport {calculateTotalQuantity} from \"../../../../components/TableCommon/util/sortUtil\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport { useSelector } from \"react-redux\";\n\nimport AddCustomer from \"../../../../views/ManagerView/Customer/AddCustomer/AddCustomer\";\nimport giftBox from \"../../../../assets/img/icon/giftbox.png\";\n// import giftBox from \"../../../../assets/img/icon/gift.png\";\n// import giftBox from \"../../../../assets/img/icon/gift2.png\";\n\nimport SearchCustomer from \"../../../SearchBar/SearchCustomer\";\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\n\n// import VNDInput from '../../../TextField/NumberFormatCustom';\n// import { VNDFormat,ThousandFormat } from '../../../TextField/NumberFormatCustom';\nimport setting from \"../../../../assets/constant/setting\";\n\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../../../TextField/NumberFormatCustom\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport DiscountPopUp from \"../../../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\nimport DiscountInputDetail from \"../../../TextField/DiscountInputDetail\";\nimport openNotification from \"../../../../components/StatusPopup/StatusPopup\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    popup: { borderColor: theme.customization.primaryColor[500], padding: 5, paddingLeft:12, boxShadow: \"0px 5px 10px 0px rgba(0, 0, 0, 0.5)\" },\n  })\n);\nconst CartSummary = (props) => {\n  const {\n    cartData,\n    handleSelectCustomer,\n    currentCustomer,\n    handleUpdateDiscount,\n    handleUpdatePaidAmount,\n    handleUpdatePaymentMethod,\n    handleCheckDelivery,\n    handleSearchCustomer,\n    handleConfirm,\n    selectedBranch,\n    setSelectedBranch,\n    customers,\n    currentBranch,\n    mode,\n    reloadCustomers,\n    discountData,\n    isScore,\n    handleUpdateDiscountDetail,\n    handleUpdateSelectedPromotion,\n    handleUpdateBestDetailSelectedPromotion,\n    products\n  } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const dispatch = useDispatch();\n\n\n  //mode 2: popup\n  const [openPopUp, setOpenPopUp] = React.useState(false);\n  const handleClickOpenPopUp = () => {\n    setOpenPopUp(true);\n  };\n\n  const handleClosePopUp = () => {\n    setOpenPopUp(false);\n  };\n\n  // giao hang\n  const [deliver, setDeliver] = React.useState(false);\n\n  const handleChangeDeliver = (event) => {\n    setDeliver(event.target.checked);\n  };\n\n\n  // so tien khach đưa\n  const [customerMoney, setCustomerMoney] = React.useState(\"0\");\n\n\n  // const handlePromotion = () =>{ \n  //   if(discountData.length !==0 ){ \n  //     let arr = []\n  //      discountData?.map(( pro) => {\n  //       const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return b.totalCost - a.totalCost})\n  //       console.log(\"sortedRow\",sortedRow)\n  //       for ( let i = 0; i <sortedRow.length ; i++){\n  //         if(Number(cartData.total_amount) >= Number(sortedRow[i].totalCost)){\n  //            arr.push({...sortedRow[i], name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})\n  //            return \n  //         }\n  //       }\n  //     })\n  //     return arr\n  //   }\n  //   return []\n  // }\n  // let filteredPromotion = handlePromotion()\n\n  const handlePromotion = () =>{\n    console.log(\"discountData.length \",discountData.length )\n    if(discountData.length ===0 ){return [] }\n    \n    var arr = []\n    discountData?.map(( pro) => {\n      // // thap den cao\n      // const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return a.totalCost - b.totalCost})\n      // thap den cao\n      const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return b.totalCost - a.totalCost})\n      if (Number(cartData.total_amount) >= Number(sortedRow[sortedRow.length - 1].totalCost) ){arr.push({detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})}\n    })\n    return arr\n  }\n  let filteredPromotion = handlePromotion()\n\n\n  // const [selectedPromotion, setSelectedPromotion] = React.useState(null);\n  let  selectedPromotion = cartData.selectedPromotion\n  const [openDiscount, setOpenDiscount] = React.useState(false);\n\n  const [addCustomer, setAddCustomer] =  React.useState({ name: \"\", phone: \"\" });\n  React.useEffect(()=>{\n    if(addCustomer?.name?.length !==  0){props.handleSelectCustomer(addCustomer);setAddCustomer({ name: \"\", phone: \"\" })}\n  })\n  console.log(\"currentCustomer\",currentCustomer)\n\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openDiscountDetail = Boolean(anchorEl);\n\n  const info = useSelector((state) => state.info);\n  console.log(\"info\",info)\n   const store_setting = info.store.general_configuration\n  ? JSON.parse(info.store.general_configuration)\n  : setting;\n  const canEnterDiscountWhenSell = store_setting?.canEnterDiscountWhenSell?.status\n  const handleClick = (event) => {\n      if(canEnterDiscountWhenSell || info.role === 'owner'){\n        setAnchorEl(anchorEl ? null : event.currentTarget);\n      }else{\n        openNotification('error', 'Bạn không có quyền nhập giảm giá', '')\n      }\n  };\n\n  let returnMoney =  cartData.paid_amount - (cartData.total_amount - cartData.discount - cartData.discountPro + cartData.otherFee) \n\n  const totalQuantity = calculateTotalQuantity(cartData.cartItem)\n\n\n \n  const otherfee = store_setting?.vat\n  let otherFeeMoney = otherfee?.listCost ? otherfee?.listCost?.reduce((sum,fee)=>fee.type!==\"%\"? sum + Number(fee.value):sum , 0) :0;\n\n\n\n\n  console.log(\"cartData\",cartData)\n\n  // const getBestPromotion = ()=> {\n  //   let bestCondition = selectedPromotion.detailCondition.map((pro) =>{if (Number(cartData.total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n  //   bestCondition =bestCondition.filter(item => item !== null)[0]\n  //   return  bestCondition\n  // }\n  return (\n    <Box style={{ padding: 30, minHeight: \"80vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          {/* 1. BASIC INFO */}\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">{currentBranch.name}</Typography>\n            {/* <BranchSelect \n                            setSelectedBranch={setSelectedBranch}\n                            selectedBranch={selectedBranch}\n                        /> */}\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <div style={{ width: \"100%\" }}>\n          <SearchCustomer\n            handleClickOpen={handleClickOpen}\n            handleSearchCustomer={handleSearchCustomer}\n            customers={customers}\n            selectedCustomer={\n              currentCustomer\n              // currentCustomer ? currentCustomer : { name: \"\", phone: \"\" }\n            }\n            handleSearchBarSelect={handleSelectCustomer}\n            setAddCustomer={setAddCustomer}\n          />\n        </div>\n\n        {/* <AddCustomer open={open} handleClose={handleClose} /> */}\n        {open &&<AddCustomer \n        open={open} \n        handleClose={()=>{setOpen(false)}}  \n        onReload={props.reloadCustomers} \n        setAddCustomer={setAddCustomer}\n        isCart={true}\n        />}\n        {/* when change mode to menu product */}\n        {props.children}\n\n\n        {/* 2. PAYMENT INFO  */}\n        {/* {!mode ? ( */}\n         \n            {/* 2.1 Mode 1 */}\n           {!mode? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginBox}\n            >\n              <Typography variant=\"h5\">Tổng SL sản phẩm ({cartData.cartItem.length}) </Typography>\n              <Typography variant=\"body2\">\n                <ThousandFormat\n                  value={calculateTotalQuantity(cartData.cartItem)}\n                ></ThousandFormat>\n              </Typography>\n            </Grid>:null}\n\n          <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n              alignItems='center'\n            >\n              <div>\n                <ListItem style={{padding: 0,margin:0}}>\n                <Typography variant=\"h5\">{!canEnterDiscountWhenSell && mode ?`Tổng tiền (${calculateTotalQuantity(cartData.cartItem)})`:`Tổng tiền hàng`}</Typography>\n                {/* { filteredPromotion.length > 0   ? \n                <div onClick={()=>{setOpenDiscount(!openDiscount)}}>\n                    <img id=\"gift\" src={require('../../../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} />\n                </div>\n                :null} */}\n                { filteredPromotion.length  > 0  ? \n                <div onClick={()=>{setOpenDiscount(!openDiscount)}}>\n                    <img id=\"gift\" src={require('../../../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} />\n                </div>\n                :null}\n                \n                </ListItem>\n              \n              </div>\n              {openDiscount && <DiscountPopUp products={products}handleUpdateSelectedPromotion={handleUpdateSelectedPromotion} selectedPromotion={cartData.selectedPromotion} listGiftItem={cartData.listGiftItem}filteredPromotion={filteredPromotion} open={openDiscount} title=\"Khuyến mãi trên hóa đơn\" onClose={()=>{setOpenDiscount(!openDiscount)}} totalCartAmount={cartData.total_amount} handleUpdateBestDetailSelectedPromotion={handleUpdateBestDetailSelectedPromotion}/>}\n\n              \n       \n            <Typography variant=\"body2\"  style={!canEnterDiscountWhenSell && mode?{color: \"#2096f3\", fontWeight: 600,fontSize:18 }:{}} >\n                <VNDFormat value={cartData.total_amount} />\n              </Typography>\n            </Grid>\n            \n                 \n          {(canEnterDiscountWhenSell  && mode)|| !mode?\n          <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n               <div>\n                <ListItem style={{padding: 0,margin:0}}>\n                \n                {/* <Typography variant=\"h5\">Giảm giá {selectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({selectedPromotion.discountValue}%)</b>:\"\"}</Typography> */}\n                {/* <Typography variant=\"h5\">Giảm giá {getBestPromotion()?.type ===\"%\" ? <b style={{color:'red'}} >({getBestPromotion().discountValue}%)</b>:\"\"}</Typography>\n                { selectedPromotion?.discountKey === \"invoice\" ? \n                <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                :null} */}\n\n              <Typography variant=\"h5\">Giảm giá {cartData.bestDetailSelectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({cartData.bestDetailSelectedPromotion?.discountValue}%)</b>:\"\"}</Typography>\n                { selectedPromotion?.discountKey === \"invoice\" && selectedPromotion?.discountType===\"discountInvoice\"? \n                <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                :null}\n                <Popper  placement=\"left-start\" open={openDiscountDetail} anchorEl={anchorEl} onClose={()=>setAnchorEl(null)}   style={{zIndex:1000000}} >   \n                    <DiscountInputDetail handleUpdateDiscountDetail={handleUpdateDiscountDetail} cartData={cartData} setAnchorEl={setAnchorEl} />\n                </Popper>\n                </ListItem>\n              \n              </div>\n              <Box  onClick={handleClick} style={{ width: 90 ,color:'#616161',textAlign: \"right\"}}>\n                <VNDFormat value={Number(cartData.discount) + Number(cartData.discountPro)}/>\n                <Divider style={{ background: anchorEl?theme.customization.primaryColor[500]:'#616161' }} />\n              </Box>\n              {/* style={{color:anchorEl?theme.customization.primaryColor[500]:'#616161'}} */}\n              {/* <VNDInput\n              // disabled\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                size=\"small\"\n                // defaultValue={cartData.discount}\n                value={cartData.discount}\n                inputProps={{ style: { textAlign: \"right\"} }}\n                // onChange={(e) => handleUpdateDiscount(e.target.value)}\n                onClick={handleClick}\n              /> */}\n            </Grid>\n            { otherfee?.status ?\n            otherfee?.listCost?.length ?\n            otherfee?.listCost?.map((fee)=>{\n              console.log(\"fee\",fee)\n              if(fee.name.length >0)\n              return (\n                <Grid\n                container\n                direction=\"row\"\n                justifyContent=\"space-between\"\n                className={classes.marginRow}\n              >\n                <Typography variant=\"h5\" >{fee.name}</Typography>\n                <Typography variant=\"body2\" >\n                  <VNDFormat\n                    // style={{ color: \"#2096f3\",fontWeight: 600, }}\n                    // value={fee.type === \"%\"?  Number(fee.value)*(Number(cartData.total_amount) - Number(cartData.discount) - Number(cartData.discountPro)) / 100 : Number(cartData.total_amount) === 0? \"0\" :fee.value  }\n                    value={fee.type === \"%\"?  Number(fee.value)*(Number(cartData.total_amount) - Number(cartData.discount) - Number(cartData.discountPro)) / 100 :fee.value  }\n\n                  />\n                </Typography>\n              </Grid>\n              )\n            }):null\n            :null}\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\" >Tổng tiền</Typography>\n              <Typography variant=\"body2\" >\n                <VNDFormat\n                  style={{ color: \"#2096f3\",fontWeight: 600, }}\n                  value={Number(cartData.total_amount) !== 0 ?cartData.total_amount - cartData.discount -  cartData?.discountPro +  cartData.otherFee : cartData.total_amount - cartData.discount -  cartData?.discountPro  + otherFeeMoney   }\n                />\n              </Typography>\n            </Grid>\n            </>:null}\n           {isScore && currentCustomer? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tích điểm</Typography>\n              <Typography variant=\"body2\">\n                <ListItem style={{padding:0, margin:0}}>\n                <ThousandFormat\n                  // style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={cartData.scores}\n                />\n               {currentCustomer?.points? <Typography>/{currentCustomer.points + cartData.scores}</Typography> : null} \n               </ListItem>\n              </Typography>\n            </Grid>:null}\n\n            {/* {cartData.total_amount - cartData.discount  !== 0 || cartData.total_amount === 0 ?<Grid */}\n            {cartData.total_amount - cartData.discount  !== 0 ?<Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Khách thanh toán</Typography>\n              <VNDInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                // defaultPrice={(cartData.total_amount - cartData.discount).toString()}\n                // defaultValue={(cartData.total_amount - cartData.discount).toString()}\n                value={cartData.paid_amount}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n                onChange={(e) => handleUpdatePaidAmount(e.target.value)}\n              />\n            </Grid>:null}\n\n\n            {cartData.total_amount - cartData.discount  -  cartData?.discountPro + cartData?.otherFee   !== 0 ?\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\" style={returnMoney <0 ?{color:'red', fontWeight:500}:{}}>{returnMoney <0 ? 'Nợ' :'Tiền thối'}</Typography>\n              {/* <Input.ThousandSeperatedInput\n                                    id=\"standard-basic\" style={{ width: 90 }}\n                                    size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\n                                    value={Number(customerMoney) - cartData.paid_amount}\n                                /> */}\n              <Typography variant=\"body2\" style={returnMoney <0 ?{color:'red', fontWeight:500}:{}}>\n                \n                <VNDFormat\n                  value={\n                    cartData.paid_amount -\n                    (cartData.total_amount - cartData.discount  -  cartData?.discountPro + cartData.otherFee)\n                  }\n                />\n              </Typography>\n            </Grid>:null}\n\n           <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n              // className={classes.marginRow}\n              style={{marginTop:mode?-10:null}}\n            >\n              <FormControl component=\"fieldset\">\n                <RadioGroup\n                  aria-label=\"gender\"\n                  name=\"gender1\"\n                  value={cartData.payment_method}\n                  onChange={(e)=>handleUpdatePaymentMethod(e.target.value)}\n                >\n                  <Grid container direction=\"row\">\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"card\"\n                      control={<Radio  size=\"small\"/>}\n                      label=\"Thẻ\"\n                    />\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"cash\"\n                      control={<Radio   size=\"small\"/>}\n                      label=\"Tiền mặt\"\n                    />\n                  </Grid>\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n\n            {/* <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n            >\n              <FormControlLabel\n                labelPlacement=\"start\"\n                control={\n                  <Checkbox checked={cartData.delivery} onChange={(e)=>handleCheckDelivery(e.target.checked)} />\n                }\n                label=\"Giao hàng\"\n              />\n            </Grid> */}\n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{ marginTop:!mode? 60:0 }}\n              onClick={handleConfirm}\n              disabled={props.disable}\n            >\n              Thanh toán\n            </Button>\n          {/* </>\n        ) : (\n          */}\n          {/* <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n              style={{marginTop:-15}}\n            >\n              <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n              <Typography variant=\"body2\">500.000</Typography>\n            </Grid>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Giảm giá</Typography>\n              <Input.ThousandSeperatedInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n              />\n            </Grid>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{  }}\n              onClick={handleClickOpenPopUp}\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Grid item>Thanh toán  ( {calculateTotalQuantity(cartData.cartItem)} ) </Grid>\n                <Grid item>500.000 </Grid>\n              </Grid>\n            </Button>\n            <Dialog\n              open={openPopUp}\n              onClose={handleClosePopUp}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <CheckoutPopUp />\n            </Dialog>\n          </>\n        )} */}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default CartSummary;\n\n// const CheckoutPopUp = (props) => {\n//   const { onClose, handleChangePayment, payment } = props;\n//   const theme = useTheme();\n//   const classes = useStyles(theme);\n//   return (\n//     <>\n//       <Box style={{ marginTop: 20, marginLeft: 15, marginBottom: 10 }}>\n//         <Typography className={classes.headerTitle} variant=\"h5\">\n//           Trả tiền NCC\n//         </Typography>\n//       </Box>\n//       <DialogContent>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n//           <Typography variant=\"body2\">500.000</Typography>\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\" style={{ paddingRight: 50 }}>\n//             Đã trả CNN\n//           </Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Công nợ</Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"flex-end\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <FormControl component=\"fieldset\">\n//             <RadioGroup\n//               aria-label=\"gender\"\n//               name=\"gender1\"\n//               value={payment}\n//               onChange={handleChangePayment}\n//             >\n//               <Grid container direction=\"row\">\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"card\"\n//                   control={<Radio />}\n//                   label=\"Thẻ\"\n//                 />\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"cash\"\n//                   control={<Radio />}\n//                   label=\"Tiền mặt\"\n//                 />\n//               </Grid>\n//             </RadioGroup>\n//           </FormControl>\n//         </Grid>\n//       </DialogContent>\n//       <DialogActions>\n//         <Button\n//           variant=\"contained\"\n//           onClick={onClose}\n//           fullWidth\n//           color=\"primary\"\n//           style={{ marginTop: 40 }}\n//         >\n//           Thanh toán ()\n//         </Button>\n//       </DialogActions>\n//     </>\n//   );\n// };\n\n","import React, { useEffect, useState } from \"react\";\n//import style\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\n//impỏrt library\nimport {\n  Box,\n  TextField,\n  ListItem,\n  IconButton,\n  TableRow,\n  TableCell,\n  Tooltip,\n  Chip,\n  Button,\n  Typography,\n  Grid,\n} from \"@material-ui/core\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\n\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n//import project\nimport * as Input from \"../../../../components/TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\nimport DiscountPopUp from \"../DiscountPopup/DiscountPopup\";\nimport icon from \"../../../../assets/img/product/tch.jpeg\";\nimport SelectBatch from \"../../../../components/SelectBatch/SelectBatch\";\nimport { useSelector } from \"react-redux\";\n\nimport MoreInfo from \"../../../../components/MoreInfo/MoreInfo\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\n\nimport defaultProduct from \"../../../../assets/img/product/default-product.png\";\nimport setting from \"../../../../assets/constant/setting\";\nimport { isLessDate } from \"../../../../utils\";\n\nexport const CartRow = (props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const haveDiscount = true;\n  const info = useSelector((state) => state.info);\n  const branch = info.branch;\n  const branchs = info.store.branches\n  const {\n    row,\n    // branchs,\n    discountData,\n    handleDeleteItemCart,\n    handleChangeItemQuantity,\n    handleUpdateBatches,\n    handleChangeItemPrice,\n    mini,\n    imageType,\n    index,\n    typeShow,\n    showImage,\n    isGiftPromotion\n  } = props;\n  console.log(\"cart table row\", row)\n  const updateQuantity = (newQuantity) => {\n    handleChangeItemQuantity(row.uuid, newQuantity);\n  };\n  const [openDiscount, setOpenDiscount] = React.useState(false);\n  const handleOpenDiscount = () => {\n    setOpenDiscount(!openDiscount);\n  };\n\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\n  //const [selectedBatches, setSelectedBatches] = useState([]);\n\n  // useEffect(() => {\n  //   if (row.batches?.length >= 1) {\n  //     // setSelectedBatches([{ ...row.batches[0], additional_quantity: 0 }]);\n  //     setSelectedBatches(row.selectedBatches)\n  //   }\n  //   // alert(JSON.stringify(row.selectedBatches))\n  // }, []);\n\n  // useEffect(() => {\n  //   if(!isGiftPromotion){\n  //     let total = 0;\n  //     row.selectedBatches.forEach((batch) => {\n  //       total += Number(batch.additional_quantity);\n  //     });\n  //     updateQuantity(total);\n  //     handleUpdateBatches(row.uuid, row.selectedBatches);\n  //   }\n  // }, [selectedBatches]);\n\n  const handleSelectBatches = (batches) => {\n    if (isGiftPromotion) return;\n    \n    const newBatches = [];\n    row.selectedBatches.forEach((selectedBatch) => {\n      const newBatch = batches.find(\n        (batch) => batch.batch_code === selectedBatch.batch_code\n      );\n      if (newBatch) {\n        newBatches.push({\n          ...selectedBatch,\n          additional_quantity:\n            Number(selectedBatch.additional_quantity) +\n            Number(newBatch.additional_quantity),\n        });\n      } else {\n        newBatches.push(selectedBatch);\n      }\n    });\n    batches.forEach((newBatch) => {\n      if (\n        !newBatches.find((batch) => newBatch.batch_code === batch.batch_code)\n      ) {\n        newBatches.push(newBatch);\n      }\n    });\n\n    let total = 0;\n    newBatches.forEach((batch) => {\n      total += Number(batch.additional_quantity);\n    });\n    updateQuantity(total);\n    handleUpdateBatches(row.uuid, newBatches);\n    // setSelectedBatches(newBatches);\n\n  };\n\n  const store_setting = info.store.general_configuration\n    ? JSON.parse(info.store.general_configuration)\n    : setting;\n\n  const canFixPriceSell = store_setting?.canFixPriceSell;\n\n  const [show, setShow] = React.useState(false);\n\n  const findBranchQuantity = (id) => {\n    const rs = row.branch_inventories.find(\n      (x) => x.uuid === id\n    )?.quantity_available;\n    if (rs) {\n      return rs;\n    } else {\n      return 0;\n    }\n  };\n  function getCommon(array1, array2) {\n    return array1.filter(object1 => {\n      return array2.some(object2 => {\n        return object1.id === object2.id;\n      });\n    });\n  }\n\n  const getListOfPromotionOfProduct = (product) =>{\n    let satisfy =  discountData.map((pro)=>{\n      let promotionCondition = JSON.parse(pro.promotion_condition)\n      \n      let proSatisfy = promotionCondition.map((condition)=>{\n          console.log(\"allooooo\")\n          if(condition.isBuyCategory){\n            //\n            return false\n          }else{\n            // console.log(\"allooooo\",getCommon(condition.listBuyItem,product ) )\n            // console.log(\"condition.listBuyItem.filter((item)=>item.uuid === product.uuid).length > 0\",condition.listBuyItem.filter((item)=>item.uuid === product.uuid).length > 0)\n            const isSatisfied = condition.listBuyItem.filter((item)=>item.uuid === product.uuid)\n            console.log(\"isSatisfied\",isSatisfied.length > 0)\n            return isSatisfied.length > 0 \n          }\n        })\n        return proSatisfy.some(v => v === true)\n      \n    })\n    // arr.push({detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})\n    // return satisfy.some(v => v === true) ? [{detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id}]: []\n    return satisfy.some(v => v === true)\n\n  }\n  var color = theme.customization.mode === \"Light\"? typeShow==='list'?'#000':null: null\n  return (\n    <>\n      <TableRow\n        hover\n        key={props.row.uuid}\n        onMouseOver={() => setShow(true)}\n        onMouseLeave={() => setShow(false)}\n        // style={{color:'#000'}}\n      >\n        {/* {mini ? null : <TableCell align=\"left\">{row.id + 1}</TableCell>} */}\n        {/* <TableCell align=\"left\" style={!mini?{}:{paddingLeft:0, paddingRight:!imageType?25:15}}>{imageType?'':`${row.id + 1}.`}</TableCell> */}\n        <TableCell align=\"left\" style={!mini?{}:{paddingLeft:0, paddingRight:!imageType?25:15}}>{imageType?'':`${index }.`}</TableCell>\n\n        {/* Sửa lại thành product_code */}\n        {mini ? null : <TableCell align=\"left\"  style={{ paddingRight: 20, }}>\n          {row.product_code}\n        </TableCell>}\n        {/* <TableCell align=\"left\" style={mini ? {maxWidth: 50}: { minWidth: 200 }}> */}\n        <TableCell align=\"left\" style={{ minWidth: 170 }}  padding={'none'}>\n          <ListItem\n            style={ {marginLeft:-10, marginTop: -10, marginBottom: -10, padding:0 }}\n            alignItems=\"center\"\n          >\n           {showImage?  <Box\n              component=\"img\"\n              sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15,marginTop:12, marginBottom:12  }}\n              src={\n                JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) ||\n                defaultProduct\n              }\n            />:null}\n            <Grid style={{paddingTop:12, paddingBottom:12,marginBottom:imageType?3:0}}>\n              <ListItem>\n                <Typography style={!mini?{}:{fontWeight:imageType?600:null,color:color}}>{row.name}</Typography>\n                {isGiftPromotion ?<div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:8,marginLeft:7,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>:null}\n                </ListItem>\n                {imageType ?\n                 canFixPriceSell.status && canFixPriceSell.cart || info?.role === 'owner'? (\n                  <Input.ThousandSeperatedInput\n                    id=\"standard-basic\"\n                    // style={mini ? {maxWidth: 50} : { width: 72 }}\n                    style={{ width: 72 }}\n      \n                    size=\"small\"\n                    inputProps={{ style: { textAlign: \"right\"  } }}\n                    defaultPrice={row.unit_price}\n                    value={row.unit_price}\n                    onChange={(e) =>\n                      handleChangeItemPrice(props.row.uuid, e.target.value)\n                    }\n                  />\n                ) : (\n                  <Input.ThousandFormat value={row.unit_price}>\n                    {\" \"}\n                  </Input.ThousandFormat>\n                ):null}\n            </Grid>\n            {show && store_setting?.inventory.status && !mini? (\n              <MoreInfo>\n                 {branchs.length > 1?\n                 <>\n                    <ListItem>\n                      <Typography style={{ width: 180 }}></Typography>\n                      <Typography style={{ fontWeight: 700 }}>Tồn</Typography>\n                      <Typography style={{ fontWeight: 700 , marginLeft: 10}}>   Đặt</Typography>\n                    </ListItem>\n                    {branchs.map((item) => {\n                      return (\n                        <ListItem>\n                          <ListItem style={{ width: 180, margin: 0, padding: 0 }}>\n                            <Typography\n                              style={{ fontWeight: 700, marginRight: 10 }}\n                            >\n                              {item.name}\n                            </Typography>\n                            {item.uuid === branch.uuid ? (\n                              <CheckCircleIcon fontSize=\"small\" color=\"primary\" />\n                            ) : null}\n                          </ListItem>\n                          <Grid justifyContent=\"flex-end\">\n                            <Typography>{findBranchQuantity(item.uuid)}</Typography>\n                          </Grid>\n                          <Grid justifyContent=\"flex-end\" style={{marginLeft: 10}}>\n                            <Typography>{row.branch_inventories.find(b => b.uuid === item.uuid)?.ordering_quantity}</Typography>\n                          </Grid>\n                        </ListItem>\n                      );\n                    })}\n                    </>:\n                   <Typography  style={{fontWeight:700, color:'#000'}}>{`Tồn kho:\\u00a0\\u00a0\\u00a0  `} {findBranchQuantity(branchs[0].uuid)}</Typography>\n\n                  }\n                {/* {row.branch_inventories.map(item =>(\n                   <ListItem >\n                      <ListItem style={{width:280, margin:0, padding:0}}>\n                          <Typography style={{fontWeight:700, marginRight:10}}>{item.name}</Typography>\n                          {item.uuid === branch.uuid ? <CheckCircleIcon fontSize=\"small\" color='primary'/> :null} \n                      </ListItem>\n                      <Typography>{item.quantity_available}</Typography>\n                    </ListItem>\n                ))}   */}\n              </MoreInfo>\n            ) : null}\n            {/* {getListOfPromotionOfProduct(row) ? (\n              <img\n                id=\"gift\"\n                src={require(\"../../../../assets/img/icon/giftbox.png\").default}\n                style={{ height: 16, width: 16, marginLeft: 10, marginTop: -3 }}\n                onClick={() => setOpenDiscount(true)}\n              />\n            ) : null} */}\n            {false ? (\n              <img\n                id=\"gift\"\n                src={require(\"../../../../assets/img/icon/giftbox.png\").default}\n                style={{ height: 16, width: 16, marginLeft: 10, marginTop: -3 }}\n                onClick={() => setOpenDiscount(true)}\n              />\n            ) : null}\n          </ListItem>\n          {openDiscount && (\n            <DiscountPopUp\n              open={openDiscount}\n              title={`Khuyến mãi trên ${row.product_code} - ${row.name}`}\n              onClose={() => {\n                setOpenDiscount(false);\n              }}\n            />\n          )}\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\n       \n        {row.has_batches  || isGiftPromotion? (\n          <TableCell align=\"center\">\n            {row.quantity}\n          </TableCell>\n        ) : (\n          <TableCell align=\"center\"padding='none' >\n            <ButtonQuantity\n              // isMini={mini?true:false}\n              miniCart={mini}\n              quantity={row.quantity}\n              setQuantity={updateQuantity}\n              branch_quantity={row.branch_quantity}\n              isManageInventory={store_setting?.inventory.status}\n            />\n          </TableCell>\n         \n        )}\n\n      {imageType?null:\n      <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n          { !isGiftPromotion ?\n          canFixPriceSell.status && canFixPriceSell.cart ? (\n            <Input.ThousandSeperatedInput\n              id=\"standard-basic\"\n              // style={mini ? {maxWidth: 50} : { width: 72 }}\n              style={{ width: 72, marginLeft:-5 }}\n\n              size=\"small\"\n              inputProps={{ style: { textAlign: \"right\" } }}\n              defaultPrice={row.unit_price}\n              value={row.unit_price}\n              onChange={(e) =>\n                handleChangeItemPrice(props.row.uuid, e.target.value)\n              }\n            />\n          ) : (\n            <Input.ThousandFormat value={row.unit_price} style={{marginLeft:-5}}>\n              {\" \"}\n            </Input.ThousandFormat>\n          ):\n          <Box style={{marginTop:10}}>\n            <Input.ThousandFormat value={0} style={{marginLeft:-5, }}/><br/>\n            <Input.ThousandFormat  value={`-${row.unit_price}`} style={{marginLeft:-5,color:'red'}}/>\n          </Box>\n          \n          } \n        </TableCell>  }  \n        \n        <TableCell align=\"right\" className={classes.boldText} padding={mini ? \"none\" : \"normal\"}>\n          {!mini?<VNDFormat value={!isGiftPromotion?row.unit_price * row.quantity:0} style={{color:color}}/>:<Input.ThousandFormat value={row.unit_price * row.quantity} style={{paddingLeft:imageType? 0:20, color:color}}/>}\n        </TableCell>\n\n        {!isGiftPromotion?\n        <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n          <IconButton aria-label=\"expand row\" size=\"small\" style={{marginLeft:10}}>\n            <DeleteForeverTwoToneIcon\n              onClick={() => handleDeleteItemCart(row.uuid)}\n            />\n          </IconButton>\n        </TableCell>:null}\n      </TableRow>\n      {row.has_batches ? (\n        <TableRow>\n          <TableCell colSpan={1}></TableCell>\n          <TableCell colSpan={10}>\n            <div style={{ display: \"flex\", flexDirection: \"row\", gap: 10 }}>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                onClick={() => setSelectBatchOpen(true)}\n                \n              >\n                Chọn lô\n              </Button>\n              {row.selectedBatches.map((batch) => (\n                <Tooltip title={`Tồn kho - ${batch.quantity}`}>\n                  <Chip\n                    label={`${\n                      batch?.batch_code ? batch?.batch_code : \"Mới\"\n                    }${batch?.expiry_date ? \"(\" + batch?.expiry_date.substring(0,10) + \"): \" : \": \"}  ${\n                      batch.additional_quantity\n                    }`}\n                    key={batch.id}\n                    onDelete={() => {\n                      const newBatches = row.selectedBatches.filter(\n                        (selectedBatch) => selectedBatch.id !== batch.id\n                      );\n                      handleUpdateBatches(row.uuid, newBatches);\n                    }}\n                    color={batch.expiry_date ? isLessDate(batch.expiry_date, (new Date()).toDateString()) ? \"secondary\" : \"primary\" : \"primary\"}\n                    deleteIcon={<DeleteOutline />}\n                    variant=\"outlined\"\n                  />\n                </Tooltip>\n              ))}\n              {selectBatchOpen && (\n                <SelectBatch\n                  isCart={true}\n                  handleSubmit={handleSelectBatches}\n                  row={row}\n                  handleClose={() => setSelectBatchOpen(false)}\n                />\n              )}\n            </div>\n          </TableCell>\n        </TableRow>\n      ) : null}\n    </>\n  );\n};\n\n\n// export const CartRowMini = ({ row }) => {\n//   const classes = useStyles();\n\n//   return (\n//     <>\n//       <TableRow hover key={row.id}>\n//         <TableCell align=\"left\">\n//           <ListItem\n//             style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\n//           >\n//             <Box\n//               component=\"img\"\n//               sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\n//               src={icon}\n//             />\n//             <Box direction=\"column\">\n//               <Typography\n//                 className={classes.boldText}\n//                 style={{\n//                   marginBottom: 3,\n//                   fontSize: 14.5,\n//                   width: 135,\n//                   textOverflow: \"ellipsis\",\n//                   overflow: \"hidden\",\n//                   whiteSpace: \"nowrap\",\n//                 }}\n//               >\n//                 {row.name}\n//               </Typography>\n//               {/* <Typography>{row.price}</Typography> */}\n//               <Input.ThousandSeperatedInput\n//                 id=\"standard-basic\"\n//                 style={{ width: 70 }}\n//                 size=\"small\"\n//                 defaultPrice={row.price}\n//               />\n//             </Box>\n//           </ListItem>\n//         </TableCell>\n\n//         <TableCell align=\"left\" padding=\"none\">\n//           <TextField\n//             variant=\"outlined\"\n//             defaultValue={row.quantity}\n//             style={{ width: 37, margin: 0 }}\n//             size=\"small\"\n//             inputProps={{\n//               style: { paddingLeft: 5, paddingRight: 5, textAlign: \"center\" },\n//             }}\n//           />\n//         </TableCell>\n\n//         <TableCell align=\"right\" className={classes.boldText}>\n//           700.000\n//         </TableCell>\n//         <TableCell align=\"left\">\n//           <IconButton\n//             aria-label=\"expand row\"\n//             size=\"small\"\n//             style={{ marginLeft: -25 }}\n//           >\n//             <DeleteForeverOutlinedIcon />\n//           </IconButton>\n//         </TableCell>\n//       </TableRow>\n//     </>\n//   );\n// };\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\nimport { grey } from \"@material-ui/core/colors\";\nimport moment from \"moment\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ReceiptPrinter } from \"../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport { CartBottom } from \"../../../components/Button/CartButton\";\nimport AddInventory from \"../../InventoryView/Inventory/AddInventory/AddInventory\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport {cloneDeep} from 'lodash'\n\n//import library\nimport {\n  Grid,\n  Card,\n  Box,\n  Table,\n  Tab,\n  TableContainer,\n  CardContent,\n  CardMedia,\n  CardActionArea,\n  FormControlLabel,\n  Switch,\n  Menu,\n  MenuItem,\n  ListItem,\n  IconButton,\n  TableBody,\n  Typography,\n  ButtonBase,\n  AvatarTypeMap,\n  Tooltip,\n  Avatar,\n  TableCell,\n  TableRow,\n  Button,\n  Divider\n} from \"@material-ui/core\";\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\n\nimport SearchBarCode from \"../../../components/SearchBar/SearchBarCode\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\n\n//import project\n//rieng\nimport CartSummary from \"../../../components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary\";\nimport { CartRow, CartRowMini } from \"./CartTableRow/CartTableRow\";\n//chung\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\";\nimport ChangeCartBtn from \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\";\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport {\n  getComparator,\n  stableSort,\n} from \"../../../components/TableCommon/util/sortUtil\";\n\nimport orderApi from \"../../../api/orderApi\";\n// update state\nimport update from \"immutability-helper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\nimport customerApi from \"../../../api/customerApi\";\n// FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\nimport { calculateTotalQuantity } from \"../../../components/TableCommon/util/sortUtil\";\nimport { CartMiniTableRow, VarianceProductMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../api/branchApi\";\nimport setting from \"../../../assets/constant/setting\";\nimport { infoActions } from \"../../../store/slice/infoSlice\";\nimport productApi from \"../../../api/productApi\";\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport promotionCouponApi from '../../../api/promotionCouponApi';\nimport { loadingActions } from \"../../../store/slice/loadingSlice\";\nimport ModalWrapperWithClose from \"../../../components/Modal/ModalWrapperWithClose\";\nimport { enableMapSet } from \"@reduxjs/toolkit/node_modules/immer\";\nimport _ from 'lodash'\n\nconst Cart = () => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [selectedBranch, setSelectedBranch] = useState({});\n  const [disable, setDisable] = useState(false)\n\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const searchBarState = info.searchBarState;\n  const store_uuid = info.store.uuid;\n  const branch = info.branch;\n  const branch_uuid = info.branch.uuid;\n  const store_setting = info.store.general_configuration\n    ? JSON.parse(info.store.general_configuration)\n    : setting;\n\n  const defaultPaymentAmount = store_setting?.defaultPaymentAmount.status && store_setting?.defaultPaymentAmount.cart \n  console.log(\"store_setting\",store_setting)\n  console.log(\"defaultPaymentAmount\",defaultPaymentAmount)\n\n    const canEnterDiscountWhenSell = store_setting?.canEnterDiscountWhenSell?.status\n\n  const [discountData, setDiscountData] = useState([]);\n\n  const user_uuid = useSelector((state) => state.info.user.uuid);\n  const dispatch = useDispatch();\n  const [reloadProduct, setReloadProduct] = useState(false);\n\n  const loadCartLocalStorage = () => {\n    if (window.localStorage.getItem(\"cartListData\")) {\n      const data = JSON.parse(window.localStorage.getItem(\"cartListData\"));\n      if (data.user_uuid === user_uuid) {\n        return data.cartList;\n      }\n    }\n    return [\n      {\n        customer: null,\n        cartItem: [],\n        total_amount: \"0\",\n        paid_amount: \"0\",\n        discount: \"0\",\n        payment_method: \"cash\",\n        delivery: false,\n        scores: \"0\",\n        discountDetail:{value:'0', type:'VND' },\n        selectedPromotion:null,\n        bestDetailSelectedPromotion:null,\n        discountPro:0,\n        otherFee:0,\n        listGiftItem:[]\n      },\n    ];\n  };\n\n\n  const [cartList, setCartList] = React.useState(loadCartLocalStorage());\n  const [products, setProducts] = useState([]);\n  const [customers, setCustomers] = useState([]);\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"cartListData\",\n      JSON.stringify({ user_uuid: user_uuid, cartList: cartList })\n    );\n  }, [cartList]);\n\n\n\n\n  useEffect(() => {\n    if (products?.length) {\n      window.localStorage.setItem(\n        \"products\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          branch_uuid: branch_uuid, \n          data: products })\n      );\n    }\n  }, [products]);\n\n  useEffect(() => {\n    if (customers?.length) {\n      window.localStorage.setItem(\n        \"customers\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          data: customers })\n      );\n    }\n  }, [customers]);\n\n  useEffect(() => {\n    if (window.localStorage.getItem(\"products\")) {\n      const products = JSON.parse(window.localStorage.getItem(\"products\"));\n      if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n        console.log(products.data)\n        setProducts(products.data);\n      }\n    }\n    if (window.localStorage.getItem(\"mode\")) {\n      const cartMode = JSON.parse(window.localStorage.getItem(\"mode\"));\n      if (cartMode.store_uuid === store_uuid ) {\n        setTypeShow(cartMode.typeShow)\n        setMode(cartMode.mode);\n        setShowImage(cartMode.showImage);\n        \n      }\n    }\n    if (window.localStorage.getItem(\"customers\")) {\n      const customers = JSON.parse(window.localStorage.getItem(\"customers\"));\n      if (customers.store_uuid === store_uuid ) {\n        setCustomers(customers.data);\n      }\n    }\n  }, [store_uuid, branch_uuid])\n\n\n  //// ----------II. FUNCTION\n  const otherfee = store_setting?.vat\n\n  let otherFeeMoney =  otherfee?.listCost? otherfee?.listCost?.reduce((sum,fee)=>fee.type!==\"%\"? sum + Number(fee.value):sum , 0) :0;\n\n\n  // 1.Cart\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const [addProduct, setAddProduct] = useState(false);\n\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Tạo hóa đơn thất bại\",\n  });\n\n  console.log(\"promotionpromotion\",cartList[selectedIndex].selectedPromotion)\n  console.log(\"promotionpromotion\",cartList[selectedIndex].bestDetailSelectedPromotion)\n\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n\n\n  const handleSearchCustomer = async (searchKey) => {\n    try {\n      const response = await customerApi.getCustomers(store_uuid, {\n        search_key: searchKey,\n      });\n      setCustomers(response.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateCustomerVouchers = async (customerUuid, vouchers) => {\n    try {\n      const response = await customerApi.updateCustomerVouchers(\n        customerUuid,\n        vouchers\n      );\n      dispatch(\n        statusAction.successfulStatus(\"Cập nhật voucher của khách thành công\")\n      );\n    } catch (err) {\n      console.log(err);\n      dispatch(statusAction.failedStatus(\"Cập nhật vouchers thất bại\"));\n    }\n  };\n\n  const loadProducts = async () => {\n    try {\n      const response = await productApi.searchBranchProduct(\n        store_uuid,\n        branch_uuid,\n        \"\"\n      );\n      setProducts(response.data)\n\n    } catch (err) {\n      console.log(err)\n    }\n    // dispatch(infoActions.setProducts(response.data));\n  };\n\n  useEffect(() => {\n    console.log(\"reload heer\")\n    loadProducts();\n  }, [reloadProduct])\n\n  useEffect(() => {\n    const loadCustomers = async () => {\n      try {\n        const response = await customerApi.getCustomers(store_uuid);\n        const customers = response.data.map((cust) => ({\n          ...cust,\n          vouchers: JSON.parse(cust.vouchers ? cust.vouchers : \"[]\"),\n        }));\n        setCustomers(customers);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    const loadPromotionCoupons = async () => {\n      const response = await promotionCouponApi.getActivePromotionVoucher(store_uuid)\n      console.log(\"response.promotions\",response.promotions)\n      setDiscountData(response.promotions);\n    } \n    if (store_uuid) {\n      loadCustomers();\n      loadPromotionCoupons()\n    }\n    if (store_uuid && branch_uuid) {\n      loadProducts();\n    }\n\n    //  loadingActions.finishLoad();\n\n    const intervalID = setInterval(() => {\n      if (store_uuid && branch_uuid) {\n        loadProducts();\n      }\n    }, 60000 * 5);\n\n    return () => {\n      clearInterval(intervalID)\n    }\n  }, [store_uuid, branch_uuid]);\n\n  const [reloadCustomers, setReloadCustomers] = useState(false);\n  useEffect(() => {\n    const loadingCustomer = async () => {\n      try {\n        const response = await customerApi.getCustomers(store_uuid);\n        setCustomers(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    if (store_uuid) {\n      loadingCustomer();\n    }\n  }, [reloadCustomers]);\n\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleChoose = (index) => {\n    setSelectedIndex(index);\n    handleClose();\n  };\n  const handleAdd = () => {\n    // ADD CART\n    setCartList([\n      ...cartList,\n      {\n        customer: null,\n        cartItem: [],\n        total_amount: \"0\",\n        paid_amount: \"0\",\n        payment_method: \"cash\",\n        discount: \"0\",\n        delivery: false,\n        scores: \"0\",\n        discountDetail:{value:'0', type:'VND' },\n        selectedPromotion:null,\n        bestDetailSelectedPromotion:null,\n        discountPro:0,\n        otherFee:0,\n        listGiftItem:[]\n\n      },\n    ]);\n    setSelectedIndex(cartList?.length);\n    handleClose();\n  };\n\n  const handleDeleteAllItem = (index) => {\n    const newCartList = [...cartList];\n\n    // newCartList[index].cartItem = [];\n     newCartList[index] ={\n      customer: null,\n      cartItem: [],\n      total_amount: \"0\",\n      paid_amount: \"0\",\n      payment_method: \"cash\",\n      discount: \"0\",\n      delivery: false,\n      scores: \"0\",\n      discountDetail:{value:'0', type:'VND' },\n      selectedPromotion:null,\n      bestDetailSelectedPromotion:null,\n      discountPro:0,\n      otherFee:0,\n      listGiftItem:[]\n\n    }\n\n    setCartList(newCartList)\n\n    handleClose();\n  }\n\n  const handleDelete = (index) => {\n    // DELETE CART\n    cartList.splice(index, 1);\n    if (cartList?.length === 0) {\n      setCartList([\n        {\n          customer: null,\n          cartItem: [],\n          total_amount: \"0\",\n          paid_amount: \"0\",\n          discount: \"0\",\n          payment_method: \"cash\",\n          delivery: false,\n          scores: \"0\",\n          discountDetail:{value:'0', type:'VND' },\n          selectedPromotion:null,\n          bestDetailSelectedPromotion:null,\n          discountPro:0,\n          otherFee:0,\n          listGiftItem:[]\n\n        },\n      ]);\n    } else {\n      setCartList(cartList);\n    }\n    if (selectedIndex === index) {\n      setSelectedIndex(0);\n    } else if (selectedIndex > index) {\n      setSelectedIndex(selectedIndex - 1);\n    }\n    \n    handleClose();\n  };\n  const updateCustomer = (value) => {\n    let newArr = [...cartList]; // copying the old datas array\n    newArr[selectedIndex].customer = value;\n    setCartList(newArr);\n  };\n\n  //2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(null);\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n\n  //mode\n  const [mode, setMode] = React.useState(false);\n  const [showImage, setShowImage] = React.useState(true);\n  const [typeShow, setTypeShow] = useState('list')\n  const handleChangeMode = (event) => {\n    setMode(event.target.checked);\n  };\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"mode\",\n      JSON.stringify({store_uuid: store_uuid,  mode: mode, typeShow: typeShow , showImage:showImage})\n    );\n  }, [mode,typeShow,showImage]);\n\n  // handle search select item add to cart\n  const handleSearchBarSelect = (selectedOption, batchBarCode) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item?.uuid === selectedOption.uuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item?.uuid === selectedOption.uuid\n    );\n    \n    const batchInfo = batchBarCode \n      ? selectedOption.batches.find(b => b.batch_code === batchBarCode)\n      : selectedOption.batches.at(-1);\n\n    if (!batchInfo && selectedOption.has_batches) {\n      statusAction.failedStatus(\"Không tìm thấy lô\")\n      return;\n    }\n    \n    if (!item) {\n      let newCartItem = {\n        id: cartList[selectedIndex].cartItem?.length,\n        uuid: selectedOption.uuid,\n        quantity: selectedOption.has_batches && !batchBarCode ? 0 : 1,\n        product_code: selectedOption.product_code,\n        bar_code: selectedOption.bar_code,\n        unit_price: selectedOption.list_price,\n        img_urls: selectedOption.img_urls,\n        name: selectedOption.name,\n        branch_quantity: Number(selectedOption.branch_quantity),\n        has_batches: selectedOption.has_batches,\n        batches: selectedOption.batches,\n        branch_inventories: selectedOption.branch_inventories,\n        selectedBatches: selectedOption.has_batches ? [{...batchInfo, additional_quantity: 1}] : []\n      };\n      \n      let newCartList = update(cartList, {\n        [selectedIndex]: { cartItem: { $push: [newCartItem] } },\n      });\n\n      setCartList(newCartList);\n      setIsUpdateTotalAmount(!isUpdateTotalAmount);\n    }\n\n    // batch\n      // - batch_code included\n      // - no batch => add a first\n    if (item && item.has_batches) {\n      let newCartList = cloneDeep(cartList);\n      const existedBatchIndex = item.selectedBatches.findIndex(b => b.batch_code === batchInfo.batch_code);\n      if (existedBatchIndex !== -1) {\n        newCartList[selectedIndex].cartItem[itemIndex].selectedBatches[existedBatchIndex].additional_quantity += 1 \n      } else {\n        batchInfo.additional_quantity = 1;\n        newCartList[selectedIndex].cartItem[itemIndex].selectedBatches.push(batchInfo);\n      }\n      newCartList[selectedIndex].cartItem[itemIndex].quantity += 1\n      setCartList(newCartList);\n      setIsUpdateTotalAmount(!isUpdateTotalAmount);\n    }\n    // not batch\n    if (item && !item.has_batches) {\n      handleChangeItemQuantity(\n        selectedOption.uuid,\n        cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n      );\n    }\n  };\n\n  const handleDeleteItemCart = (itemUuid) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: { cartItem: { $splice: [[itemIndex, 1]] } },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleChangeItemQuantity = (itemUuid, newQuantity) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item.uuid === itemUuid\n    );\n    if(isNaN(newQuantity)){newQuantity = ''}\n    if (newQuantity === 0 && !item.has_batches) {\n      handleDeleteItemCart(itemUuid);\n      return;\n    }\n    if (newQuantity < 0){return } \n  \n    let newCartList = cloneDeep(cartList);\n    newCartList[selectedIndex].cartItem[itemIndex].quantity = newQuantity;\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleUpdateBatches = (itemUuid, selectedBatches) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n\n    if (itemIndex === -1) return;\n    const newCartList = [...cartList];\n    newCartList[selectedIndex].cartItem[itemIndex].selectedBatches =\n      selectedBatches;\n    const newQuantity = _.sumBy(selectedBatches, (b) => b.additional_quantity);\n    if (newQuantity) {\n      newCartList[selectedIndex].cartItem[itemIndex].quantity = newQuantity;\n    } else {\n      newCartList[selectedIndex].cartItem.splice(itemIndex, 1);\n    }\n      \n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleChangeItemPrice = (itemUuid, newPrice) => {\n    if (newPrice < 0){return } \n\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: {\n        cartItem: { [itemIndex]: { unit_price: { $set: newPrice } } },\n      },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleSelectCustomer = (selectedCustomer) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { customer: { $set: selectedCustomer } },\n    });\n    setCartList(newCartList);\n  };\n\n  // console.log(\"HELLOO cartList[selectedIndex].selectedPromotion\",cartList[selectedIndex].selectedPromotion)\n  const handleUpdatePaidAmount = (amount) => {\n    if (amount < 0){return } \n    let newCartList = update(cartList, {\n      [selectedIndex]: { paid_amount: { $set: amount } },\n    });\n    setCartList(newCartList);\n  };\n  //PROMOTIONFUNC\n  const handleUpdateSelectedPromotion = (selectedPromotion, checkProduct=null) => {\n    console.log(\"checkProduct\",checkProduct)\n    let newCartList = update(cartList, {\n      [selectedIndex]: { selectedPromotion: { $set: null }, bestDetailSelectedPromotion:{ $set: null },discountPro:{ $set: null },listGiftItem:{ $set: [] } },\n    });\n    if(!selectedPromotion){\n      setCartList(newCartList);\n      return\n    }\n    // setCartList(newCartList);\n    let bestDetailSelectedCondition = selectedPromotion?.detailCondition?.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n    bestDetailSelectedCondition =bestDetailSelectedCondition.filter(item => item !== null)[0]\n\n\n     newCartList = update(newCartList, {\n      [selectedIndex]: { selectedPromotion: { $set: selectedPromotion } ,bestDetailSelectedPromotion:{$set:bestDetailSelectedCondition}},\n    });\n    let discountPro = selectedPromotion.discountKey ===\"invoice\" && bestDetailSelectedCondition.type==='%' ? (Number(bestDetailSelectedCondition.discountValue) * Number(cartList[selectedIndex].total_amount)/100) : Number(bestDetailSelectedCondition.discountValue) ;\n \n\n    newCartList = update(newCartList, {\n      [selectedIndex]: {discountPro:{ $set: discountPro}},\n    });\n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n    let totalOtherFee = percentFee * (Number(cartList[selectedIndex].total_amount) - Number(discountPro)- Number(cartList[selectedIndex].discount) )/100 +  otherFeeMoney\n\n \n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        otherFee: { $set: totalOtherFee },\n      },\n    }) \n\n    if(selectedPromotion.discountType === \"sendGift\" ){\n      // const listGift = checkProduct ?checkProduct.detail: bestDetailSelectedCondition.listGiftItem\n      const listGift = checkProduct.idPro ?checkProduct.detail: bestDetailSelectedCondition.listGiftItem.map((item) =>{return {...item, quantity:bestDetailSelectedCondition.numberGiftItem}})\n      let listGiftItem = listGift?.map((selectedOption)=>{\n        if(selectedOption.quantity >0 && !selectedOption.has_batches)\n        return { id: cartList[selectedIndex].cartItem?.length,\n          uuid: selectedOption.uuid,\n          quantity: selectedOption.has_batches ? 0 : selectedOption.quantity,\n          product_code: selectedOption.product_code,\n          bar_code: selectedOption.bar_code,\n          unit_price: selectedOption.list_price,\n\n          img_urls: selectedOption.img_urls,\n          name: selectedOption.name,\n          branch_quantity: Number(selectedOption.branch_quantity),\n          has_batches: selectedOption.has_batches,\n          batches: selectedOption.batches,\n          branch_inventories: selectedOption.branch_inventories,\n          standard_price: selectedOption.standard_price,\n          }\n      })\n      console.log(\"hello Gia Le\",listGiftItem)\n      listGiftItem= listGiftItem.filter((item)=> item)\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          listGiftItem: { $set: listGiftItem },\n        },\n      }) \n    }\n    \n    if(defaultPaymentAmount ){\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          paid_amount: { $set: Number(cartList[selectedIndex].total_amount) - Number(discountPro) -     Number(cartList[selectedIndex].discount)+ totalOtherFee },\n        },\n      }) \n    }\n    setCartList(newCartList);\n  };\n  const handleUpdateBestDetailSelectedPromotion = (bestDetailSelectedPromotion) => {\n    if(!bestDetailSelectedPromotion){return}\n    let newCartList = update(cartList, {\n      [selectedIndex]: { bestDetailSelectedPromotion: { $set: bestDetailSelectedPromotion } },\n    });\n    setCartList(newCartList);\n  };\n\n  const handleUpdatePaymentMethod = (method) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { payment_method: { $set: method } },\n    });\n    setCartList(newCartList);\n  };\n  const handleUpdateDiscountDetail = (obj) => {\n\n    let discountUpdate =  obj.type === '%'?( (Number(obj.value) * Number(cartList[selectedIndex].total_amount)/100/100).toFixed() * 100).toString() : obj.value \n\n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n    let totalOtherFee = percentFee * (Number(cartList[selectedIndex].total_amount) - Number(discountUpdate))/100 +  otherFeeMoney\n\n\n    let newCartList = update(cartList, {\n      // [selectedIndex]: { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)).toString() }},\n      [selectedIndex]: defaultPaymentAmount? { discountDetail: { $set: obj } , discount:{ $set: discountUpdate },  otherFee: { $set:totalOtherFee },paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)+ Number(totalOtherFee)).toString() }}:\n        { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, otherFee: { $set:totalOtherFee }} ,\n\n    });\n  \n    setCartList(newCartList);\n  };\n\n  const handleUpdateDiscount = (amount) => {\n    // // if (amount > cartList[selectedIndex].total_amount) {\n    // //   return;\n    // // }\n    // let newCartList = update(cartList, {\n\n    //   [selectedIndex]:defaultPaymentAmount? { discount: { $set: amount },paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) -Number(amount)).toString() }  }:\n    //   // [selectedIndex]:defaultPaymentAmount? { discount: { $set: amount }}:\n\n    //   { discount: { $set: amount } },\n\n    // });\n\n\n    // if( defaultPaymentAmount){\n    //   newCartList = update(newCartList, {\n    //     [selectedIndex]: {\n    //       // paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) - Number(amount) + Number(totalOtherFee)).toString() },\n    //     },\n    //   }) };\n\n    // //\n\n    // if (store_setting?.customerScore.status) {\n    //   newCartList = update(newCartList, {\n    //     [selectedIndex]: {\n    //       scores: {\n    //         $set: parseInt(\n    //           (cartList[selectedIndex].total_amount - amount) /\n    //             store_setting?.customerScore.value\n    //         ),\n    //       },\n    //     },\n    //   });\n    // }\n\n\n    // setCartList(newCartList);\n  };\n\n  const handleCheckDelivery = (delivery) => {\n    let newCartList = update(cartList, {\n      // [selectedIndex]: { delivery: { $set: delivery } },\n    });\n\n    setCartList(newCartList);\n  };\n\n\n\n  // PROMOTION\n  useEffect(() => {\n    if(cartList[selectedIndex]?.selectedPromotion && cartList[selectedIndex]?.bestDetailSelectedPromotion){\n      let bestCondition = cartList[selectedIndex]?.selectedPromotion?.detailCondition.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n      bestCondition = bestCondition.filter(item => item !== null)[0]\n      if(bestCondition?.totalCost !== cartList[selectedIndex]?.bestDetailSelectedPromotion?.totalCost){\n        let newCartList = update(cartList, {\n          [selectedIndex]: { \n            selectedPromotion: { $set: null }, \n            bestDetailSelectedPromotion:{ $set: null },\n            discountPro:{ $set: null },\n            listGiftItem:{ $set: [] } },\n        });\n        setCartList(newCartList);\n      }\n    }\n  }, [cartList[selectedIndex].total_amount]);\n\n\n  useEffect(() => {\n    if(cartList[selectedIndex].total_amount < cartList[selectedIndex].discount ){\n      let newCartList = update(cartList, {\n        [selectedIndex]: {\n           discount: { $set: \"0\" }, \n           discountDetail: { $set: {value:'0', type:'VND' }}, \n           discountPro:{$set:\"0\"} } ,\n           listGiftItem:{$set:[]}\n      });\n      setCartList(newCartList);\n    }\n\n  }, [cartList[selectedIndex].total_amount]);\n\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    cartList[selectedIndex].cartItem.forEach((item) => {\n      total += item.unit_price * item.quantity;\n    });\n\n    let newCartList = update(cartList, {\n      [selectedIndex]: { total_amount: { $set: total } },\n    });\n\n    // newCartList = update(newCartList, {\n    //   [selectedIndex]: {\n    //     paid_amount: { $set: total - cartList[selectedIndex].discount },\n    //   },\n    // }) ;\n    // \n\n    //\n    let discountPro = 0\n    if(cartList[selectedIndex]?.selectedPromotion){\n      let bestDetailSelectedCondition = cartList[selectedIndex]?.selectedPromotion?.detailCondition?.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n      bestDetailSelectedCondition =bestDetailSelectedCondition?.filter(item => item !== null)[0]\n      discountPro= cartList[selectedIndex]?.selectedPromotion?.discountKey ===\"invoice\" && bestDetailSelectedCondition?.type==='%' ? (Number(bestDetailSelectedCondition?.discountValue) * Number(total)/100) : Number(bestDetailSelectedCondition?.discountValue) ;\n\n    }\n   \n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n\n    let totalOtherFee = percentFee * (Number(total) - Number(cartList[selectedIndex].discount) - Number(discountPro))/100 +  otherFeeMoney\n\n\n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        otherFee: { $set:totalOtherFee },\n      },\n    });\n\n    if(discountPro!==0){\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          discountPro: { $set: discountPro },\n        },\n      }) \n    }\n\n\n    if( defaultPaymentAmount){\n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        paid_amount: { $set: total - cartList[selectedIndex].discount -discountPro  + totalOtherFee },\n      },\n    }) };\n    // \n    if (store_setting?.customerScore.status) {\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          scores: {\n            $set: parseInt(\n              (total - cartList[selectedIndex].discount -discountPro+ totalOtherFee) /\n                store_setting?.customerScore.value\n            ),\n          },\n        },\n      });\n    }\n    setCartList(newCartList);\n  };\n\n  const[code,setCode] =React.useState(\"\")\n  const [openPopUpWarning, setOpenPopUpWarning] = useState(false);\n  const handleCloseWarning = () =>{\n    setOpenPopUpWarning(false)\n  }\n\n  console.log(\"cartList[selectedIndex]?.listGiftItem\",cartList[selectedIndex]?.listGiftItem)\n  \n\n  const handleConfirm = async () => {\n    let cart = cartList[selectedIndex];\n\n    var emptyCart = cart.cartItem?.length === 0;\n    const printReceiptWhenSell = store_setting?.printReceiptWhenSell;\n    const canSellWhenNegativeQuantity = store_setting?.canSellWhenNegativeQuantity;\n    const alowDebt =  store_setting?.alowDebt;\n    // var correctQuantity = cart.cartItem.every(function (element, index) {\n    //   if (element.quantity > element.branch_quantity) return false;\n    //   else return true;\n    // });\n\n    var correctQuantity = store_setting?.inventory.status && !canSellWhenNegativeQuantity.status\n      ? cart.cartItem.every(function (element, index) {\n          if (element.quantity > element.branch_quantity) return false;\n          else return true;\n        })\n      : true;\n\n    var notExistNullQuantity =  cart.cartItem.every(function (element, index) {\n      if (element.quantity === '' || Number(element.quantity)===0) return false;\n      else return true;\n    })\n    var notExistZeroPrice =  cart.cartItem.every(function (element, index) {\n      if (Number(element.unit_price)  === 0) return false;\n      else return true;\n    })\n\n    if (emptyCart || !correctQuantity || !notExistNullQuantity|| (!alowDebt.status && Number(cart.paid_amount) < Number(cart.total_amount) - Number(cart.discount) )) {\n      setOpenSnack(true);\n      if (emptyCart) {\n        setSnackStatus({\n          style: \"error\",\n          message: \"Giỏ hàng trống\",\n        });\n      } else if ( !correctQuantity ) {\n        setSnackStatus({\n          style: \"error\",\n          message: \"Giỏ hàng bị vượt tồn kho\",\n        });\n      }else if(!notExistNullQuantity){\n        setSnackStatus({\n          style: \"error\",\n          message: \"Có sản phẩm chưa nhập số lượng\",\n        });\n      }else{\n        setSnackStatus({\n          style: \"error\",\n          message: \"Không cho phép khách hàng nợ\",\n        });\n      }\n    } \n\n    else if(!notExistZeroPrice || ( cart.paid_amount < cart.total_amount + cart.otherFee -cart.discountPro - cart.discount && !cart.customer)){\n        setOpenPopUpWarning(true)\n        return \n    }\n    else {\n      handleConfirmCallApi()\n\n\n      // let d = moment.now() / 1000;\n\n      // let orderTime = moment\n      //   .unix(d)\n      //   .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n      // let details = cart.cartItem.map((item) => ({ ...item, discount: \"0\" }));\n      // console.log(cart.paid_amount, cart.total_amount, cart.discount);\n      // let body = {\n      //   customer_uuid: cart.customer ? cart.customer.uuid : \"\",\n      //   total_amount: cart.total_amount.toString(),\n      //   payment_method: cart.payment_method,\n      //   paid_amount: Math.min(cart.paid_amount, Number(cart.total_amount) - Number(cart.discount)),\n      //   discount: cart.discount,\n      //   status:\n      //     cart.paid_amount < cart.total_amount - cart.discount\n      //       ? \"debt\"\n      //       : \"closed\",\n      //   details: details,\n      //   creation_date: orderTime,\n      //   paid_date: orderTime,\n      //   tax: \"0\",\n      //   shipping: \"0\",\n      //   delivery: cart.delivery,\n      //   is_customer_order: false,\n      //   points: cart.scores,\n      // };\n\n      // try {\n      //   let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n        \n      //   setSnackStatus({\n      //     style: \"success\",\n      //     message: \"Tạo hóa đơn thành công: \" + res.data.order.order_code,\n      //   });\n      //   setOpenSnack(true);\n      //   if (printReceiptWhenSell.status && printReceiptWhenSell.cart) {\n      //     setCode(res.data.order.order_code)\n      //     handlePrint();\n      //   }\n      //   handleDelete(selectedIndex);\n      // } catch (err) {\n      //   setSnackStatus({\n      //     style: \"error\",\n      //     message: \"Tạo hóa đơn thất bại!\",\n      //   });\n      //   setOpenSnack(true);\n      //   console.log(err);\n      // }\n      // loadProducts()\n    }\n  };\n  // console.log(\"cartcartcartcartcartcart\",cartList[selectedIndex])\n\n  const handleConfirmCallApi  = async () => {\n    const printReceiptWhenSell = store_setting?.printReceiptWhenSell;\n    let cart = cartList[selectedIndex];\n    \n    let d = moment.now() / 1000;\n\n    let orderTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    let details = cart.cartItem.map((item) => ({ ...item, discount: \"0\" }));\n    console.log(cart.paid_amount, cart.total_amount, cart.discount);\n    const otherFee = otherfee?.listCost?.map((fee)=>{\n      if(fee.type === \"%\") {return({name:fee.name, value:Number(fee.value)*(Number(cart.total_amount) - Number(cart.discount) - Number(cart.discountPro)) / 100 })} else{return({name:fee.name, value:fee.value})}\n    })\n\n\n    console.log(\"cart.listGiftItem\",cart.listGiftItem)\n\n    let body = {\n      customer_uuid: cart.customer ? cart.customer.uuid : \"\",\n      total_amount: cart.total_amount.toString(),\n      payment_method: cart.payment_method,\n      paid_amount: Math.min(cart.paid_amount, Number(cart.total_amount) + Number(cart.otherFee) - Number(cart.discount)),\n      discount: cart.discount,\n      \n      status:\n        cart.paid_amount < cart.total_amount - cart.discount\n          ? \"debt\"\n          : \"closed\",\n      details: details,\n      creation_date: orderTime,\n      paid_date: orderTime,\n      tax: \"0\",\n      shipping: \"0\",\n      delivery: cart.delivery,\n      is_customer_order: false,\n      points: cart.scores,\n      //\n\n      other_fee_value: cart.otherFee,\n      other_fee_detail: otherFee,\n      promotion_value: cart.discountPro + cartList[selectedIndex]?.listGiftItem.reduce((sum, a) => sum + Number(a.standard_price),0),\n      promotion_detail: {\n        selectedPromotion: cart.selectedPromotion, \n        bestDetailSelectedPromotion: cart.bestDetailSelectedPromotion,\n        listGiftItem:cart.listGiftItem\n      },\n      promotion_id: cart.selectedPromotion?.id\n    };\n\n    try {\n      setDisable(true);\n      let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n      \n      setSnackStatus({\n        style: \"success\",\n        message: \"Tạo hóa đơn thành công: \" + res.data.order.order_code,\n      });\n      setOpenSnack(true);\n      if (printReceiptWhenSell.status && printReceiptWhenSell.cart) {\n        setCode(res.data.order.order_code)\n        handlePrint();\n      }\n      handleDeleteAllItem(selectedIndex);\n    } catch (err) {\n      setSnackStatus({\n        style: \"error\",\n        message: \"Tạo hóa đơn thất bại!\",\n      });\n      setOpenSnack(true);\n      console.log(err);\n    }\n    setDisable(false)\n    loadProducts()\n  }\n\n\n\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  //   }\n  // };\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\n\n\n  console.log(\"cartList[selectedIndex].listGiftItem\",cartList[selectedIndex].listGiftItem)\n  return (\n    <>\n    <Grid  container   direction=\"row\" justifyContent=\"space-between\"  alignItems=\"center\"  spacing={2}>\n      {addProduct &&\n       <AddInventory\n        open={addProduct}\n        handleClose={() => {\n          setAddProduct(false)\n        }}\n        setReload={() => {\n          setReloadProduct(!reloadProduct)\n        }}\n      />}{\" \"}\n    \n    <SnackBarGeneral handleClose={handleCloseSnackBar} open={openSnack} status={snackStatus}  />\n     \n     \n     {/* 1. TABLE CARD (left) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?7:8}>\n        <Card className={classes.root}>\n          <Box style={{ padding: xsScreen ? 0 : 30,  minHeight: \"79vh\", paddingBottom: 0,}}  >\n            <Box style={{ height: xsScreen ? null : \"69vh\" }}>\n              {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\n              <Grid container direction=\"row\"  justifyContent=\"space-between\" alignItems=\"center\" style={{ marginTop: -10, marginBottom: 30 }}   >\n                <Grid>\n                  <ListItem>\n                    {/* 1.1.1 Title */}\n                    <Typography variant=\"h3\"> Bán hàng </Typography>\n                    <Typography variant=\"h3\"  style={{  marginLeft: 10,  color: theme.customization.primaryColor[500], }} >\n                      {\" \"}   # {selectedIndex + 1}\n                    </Typography>\n                    {/* 1.1.2. Btn Channge Cart */}\n                    <ChangeCartBtn\n                      selectedIndex={selectedIndex}\n                      anchorEl={anchorEl}\n                      cartList={cartList}\n                      handleClick={handleClick}\n                      handleClose={handleClose}\n                      handleChoose={handleChoose}\n                      handleDelete={handleDelete}\n                      handleAdd={handleAdd}\n                      isCart={true}\n                    />\n                  </ListItem>\n                </Grid>\n                <Grid>\n                <Grid container alignItems=\"center\">\n                  {!mode? \n                  <>\n                    <Grid item>\n                      <FormControlLabel   control={ <Switch  size=\"small\"  checked={searchBarState === 'barcode'}  onChange={(e, checked) => { dispatch(infoActions.setSearchBarState(checked ? 'barcode' : 'search'))  }} color=\"primary\"  />  } label={\"Dùng mã vạch\"}  />\n                    </Grid>\n                    <Grid item>\n                      {searchBarState === 'barcode' ? (\n                        <SearchBarCode  products={products} \n                          handleSearchBarSelect={handleSearchBarSelect}\n                        />\n                      ) : (\n                        <SearchProduct\n                          products={products} \n                          handleSearchBarSelect={handleSearchBarSelect}\n                          isCart={true}\n                        />\n                      )}\n                    </Grid>\n                  </>:\n                 <SearchProduct products={products} setProducts={setProducts} isFilter={true} />\n                  }\n                    {info.role === 'owner'?\n                    <Grid item>\n                      <ButtonBase\n                        sx={{ borderRadius: \"1px\" }}\n                        onClick={() => {\n                          setAddProduct(true);\n                        }}\n                        style={{ marginLeft: 10 }}\n                      >\n                        <Avatar\n                          variant=\"rounded\"\n                          className={classes.headerAvatar}\n                        >\n                          <Tooltip title=\"Thêm sản phẩm\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                          </Tooltip>\n                        </Avatar>\n                      </ButtonBase>\n                    </Grid>:null}\n                  </Grid>\n                </Grid>\n              </Grid>\n\n              {/* 1.2 TABLE */}\n              {!mode ? (\n                  <TableWrapper isCart={true} >\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.CartHeadCells}\n                      isCart={true}\n                    />\n                    <TableBody>\n                      { stableSort( cartList[selectedIndex].cartItem, getComparator(order, orderBy) )\n                      .map((row, index) => {\n                        return (\n                          <CartRow\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            index={cartList[selectedIndex].cartItem?.length - index}\n                            showImage={showImage}\n                          />\n                        );\n                      })}\n                    </TableBody>\n                  </TableWrapper>   \n \n              ) : (\n                //  Mode nha hang\n                <MenuProduct \n                  products={products} \n                  handleSearchBarSelect={handleSearchBarSelect}\n                  isCart={true}\n                  selectedItem={cartList[selectedIndex]?.cartItem}\n                  typeShow={typeShow}\n                  setTypeShow={setTypeShow}\n                  setProducts={setProducts}\n                  showImage={showImage}\n                  setShowImage={setShowImage}\n                />\n              )}\n            </Box>\n            {/* 1.3 CHANGE MODE  */}\n            \n            {/* <FormControlLabel control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",   margin: -20,  marginTop: 45, }} /> */}\n         {cartList[selectedIndex].listGiftItem?.length > 0?\n          <Box style={{ marginTop: -85, }}>\n            <Divider/>\n            <ListItem>\n              <Typography><b>Khuyến mãi hoá đơn</b></Typography>\n              <CardGiftcardIcon  style={{marginLeft:10, color:'red'}}/>\n              </ListItem>\n              <TableBody>\n                      { stableSort( cartList[selectedIndex].listGiftItem, getComparator(order, orderBy) )\n                      .map((row, index) => {\n                        return (\n                          <CartRow\n                            isPromotion={true}\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            // handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            index={cartList[selectedIndex].cartItem?.length - index}\n                            showImage={showImage}\n                            isGiftPromotion={true}\n                            index={index+1}\n                          />\n             \n                        );\n                      })}\n                      \n                    </TableBody>\n                    \n                    {/* <ListItem>\n                    <Typography style={{fontWeight:500,color:'#00b3ff'}}>Tặng 1 voucher HELLOWORLD</Typography>\n                    <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                </ListItem> */}\n            </Box>:null}\n\n          </Box>\n          <FormControlLabel control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",  }} />\n\n        </Card>\n      </Grid>\n      \n      {/* 2.SUMMARY CARD (right) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?5:4} className={classes.root}>\n        <Card className={classes.root}>\n          <Box style={{ padding: 0, minHeight: \"82vh\" }}>\n            {/* {!mode ? ( */}\n              <CartSummary\n                products={products}\n                disable={disable}\n                setSelectedBranch={setSelectedBranch}\n                selectedBranch={selectedBranch}\n                cartData={cartList[selectedIndex]}\n                handleSelectCustomer={handleSelectCustomer}\n                handleSearchCustomer={handleSearchCustomer}\n                handleUpdateDiscount={handleUpdateDiscount}\n                handleUpdatePaidAmount={handleUpdatePaidAmount}\n                handleUpdatePaymentMethod={handleUpdatePaymentMethod}\n                handleCheckDelivery={handleCheckDelivery}\n                handleConfirm={handleConfirm}\n                currentCustomer={cartList[selectedIndex].customer}\n                currentBranch={branch}\n                mode={mode}\n                customers={customers}\n                reloadCustomers={() => setReloadCustomers(!reloadCustomers)}\n                //discount\n                discountData={discountData.filter(\n                  (discount) => discount.discountKey === \"invoice\"\n                )}\n                isScore={store_setting?.customerScore.status}\n                handleUpdateDiscountDetail={handleUpdateDiscountDetail}\n                handleUpdateSelectedPromotion={handleUpdateSelectedPromotion}\n                handleUpdateBestDetailSelectedPromotion={handleUpdateBestDetailSelectedPromotion}\n              >\n                {!mode ? null:\n                  <TableContainer  style={{ maxHeight: !canEnterDiscountWhenSell && mode ?\"44vh\":\"37vh\", height:!canEnterDiscountWhenSell && mode ?\"44vh\": \"37vh\",}} >\n                   <Table  size=\"small\">\n\n                    <TableBody>\n                      {stableSort( cartList[selectedIndex].cartItem, getComparator(order, orderBy) )\n                        .map((row, index) => {\n                        return (\n                          <CartRow\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            mini={true}\n                            imageType={typeShow==='image' && mode}\n                            index={cartList[selectedIndex].cartItem?.length - index}\n                            typeShow={typeShow}\n                            showImage={showImage}\n\n                          />\n                        );\n                      })}\n                    </TableBody>\n                    </Table>\n                  </TableContainer>     \n              }\n              </CartSummary>\n          </Box>\n        </Card>\n      </Grid>\n      <PopUpWarningZeroPrice  open={openPopUpWarning} handleClose={handleCloseWarning} handleConfirmCallApi={handleConfirmCallApi} isDebtWarning={ cartList[selectedIndex].paid_amount < cartList[selectedIndex].total_amount  +cartList[selectedIndex].otherFee -cartList[selectedIndex].discountPro - cartList[selectedIndex].discount && !cartList[selectedIndex].customer} \n      existZeroPrice={!cartList[selectedIndex].cartItem.every(function (element, index) { if (Number(element.unit_price)  === 0) return false; else return true;})} />\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={cartList[selectedIndex]} code={code} type={store_setting?.printReceiptWhenSell.cartModal}/>\n        </div>\n      </div>\n    </Grid>\n              {/* <ReceiptPrinter cart={cartList[selectedIndex]} code={code} /> */}\n</>\n  );\n};\n\nexport default Cart;\n\n\nconst PopUpWarningZeroPrice = ({open,handleClose,handleConfirmCallApi, isDebtWarning,existZeroPrice}) =>{\n  const theme = useTheme();\n\n  return (\n    <ModalWrapperWithClose title={isDebtWarning?\"Hoá đơn nợ chưa có thông tin khách hàng\":\"Có sản phẩm đang có giá bán bằng 0\"} open={open} handleClose={handleClose}>\n      <Typography style={{ marginTop: 10, marginBottom: 10 }}>\n      {isDebtWarning?\"Bạn chưa nhập thông tin khách hàng. Hệ thống không theo dõi công nợ với khách lẻ.\" :\"Giỏ hàng đang có sản phẩm có giá bán bằng 0.\"}\n      </Typography>\n    {existZeroPrice && isDebtWarning?\n    <>\n      <Typography variant=\"h3\" style={{ marginTop: 10, marginBottom: 10 }}>\n        Có sản phẩm đang có giá bán bằng 0\n      </Typography>\n      <Typography style={{ marginTop: 10, marginBottom: 30 }}>\n         Giỏ hàng đang có sản phẩm có giá bán bằng 0\n      </Typography>\n      </>:null}\n\n\n      <Typography style={{ fontWeight: 600, color:theme.customization.primaryColor[500] }}>\n        Bạn có chắc chắn muốn tiếp tục thanh toán?\n      </Typography>\n\n      <Grid item xs={12}style={{  display: \"flex\",  flexDirection: \"row\", justifyContent: \"flex-end\", paddingTop: 20, }} >\n        <Button onClick={handleClose} variant=\"contained\" size=\"small\" style={{ marginRight: 20 }}color=\"secondary\" >\n          {\" \"} Huỷ{\" \"}\n        </Button>\n        <Button onClick={() => {handleConfirmCallApi(); handleClose()}} variant=\"contained\" size=\"small\" color=\"primary\" >\n          Xác nhận{\" \"}\n        </Button>\n      </Grid>\n    </ModalWrapperWithClose>\n  )\n}\n\n\n\n\n // Dien thoai\n//  cartList[selectedIndex].cartItem.map((row, index) => {\n//   return (\n//     <CartMiniTableRow\n//       row={row}\n//       handleDeleteItemCart={handleDeleteItemCart}\n//       handleChangeItemPrice={handleChangeItemPrice}\n//       handleChangeItemQuantity={handleChangeItemQuantity}\n//       discountData={discountData.filter(\n//         (discount) => discount.discountKey === \"product\"\n//       )}\n//       isCart={true}\n//     />\n//   );\n// })\n\n// {xsScreen ? (\n//   <CartBottom\n//     numberItem={\n//       calculateTotalQuantity(cartList[selectedIndex].cartItem)\n//         ? calculateTotalQuantity(cartList[selectedIndex].cartItem)\n//         : \"0\"\n//     }\n//   />\n// ) : null}\n\n/* <TableBody>\n  {cartList[selectedIndex].cartItem.map((row, index) => {\n    return <CartRowMini row={row} />;\n  })}\n</TableBody> */","import React from 'react'\nimport {\n  Drawer, TextField, Typography, Button, Grid, MenuItem, Select, InputLabel, FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useFormik } from 'formik';\nimport orderApi from '../../../../api/orderApi';\nimport { convertDateToString } from '../../../../utils';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n      padding: 15\n    },\n    textField: { marginBottom: 10 },\n    text: { marginBottom: 10, marginTop: 15 }\n  })\n);\nconst InvoiceFilter = (props) => {\n  const { handleToggleFilter, openFilter, setOrders, query, setQuery } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n  const formik = useFormik({\n    initialValues: query,\n    onSubmit: async values => {\n      // console.log(values)\n      // const res = await orderApi.searchOrder(store_uuid, branch_uuid, values)\n      handleToggleFilter()\n      setQuery(values)\n    },\n  });\n  React.useEffect(() =>{\n    formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n    formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n\n  },[])\n\n  return (\n    <Drawer\n      anchor=\"right\"\n      onClose={handleToggleFilter}\n      open={openFilter}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      className={classes.drawer}\n    >\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n      {/* Giao hàng, dia chi giao ???*/}\n      {/* tiền giảm ???*/}\n\n\n      {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\" className={classes.text} >Ngày bán:</Typography>\n      <TextField id=\"startDate\" label=\"Từ\" \n        type=\"date\" \n        name=\"startDate\"\n        // defaultValue={formik.values.startDate} \n        \n        variant=\"outlined\" size=\"small\" fullWidth \n        className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        // value={formik.values.startDate.length === 0 ? current :formik.values.startDate} \n        value={formik.values.startDate}  \n        onChange={formik.handleChange}\n      />\n      <TextField \n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n        // defaultValue={formik.values.endDate} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.endDate}  \n        // value={formik.values.endDate.length === 0 ? current :formik.values.endDate} \n        onChange={formik.handleChange}\n      />\n     \n\n      {/* 2.Tien from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Tiền hoá đơn:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minTotalAmount\"\n        value={formik.values.minTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n        required label=\"Đến\" variant=\"outlined\" \n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.maxTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n      {/* 3.Giảm giá from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Giảm giá:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" \n        name=\"minDiscount\" id=\"minDiscount\"\n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.minDiscount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" \n        id=\"maxDiscount\" name=\"maxDiscount\"\n        className={classes.textField}\n        value={formik.values.maxDiscount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n\n\n      {/* 4.Chi nhanh */}\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Trang thai */}\n      <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"status\"\n          name=\"status\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.status}\n        >\n          <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\n        </Select>\n      </FormControl>\n\n\n\n      {/* 5.Pttt */}\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"paymentMethod\" name=\"paymentMethod\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.paymentMethod}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"card\">Thẻ</MenuItem>\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n        </Select>\n      </FormControl>\n\n      {/* BUTTON */}\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={formik.handleSubmit}\n        style={{ marginTop: 30 }}>\n        Lọc\n      </Button>\n\n\n\n    </Drawer>\n  )\n}\n\nexport default InvoiceFilter\n\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\n\nimport { TableCell, TableRow } from \"@material-ui/core\";\nimport useRowStyles from \"../../../../components/TableCommon/style/rowStyle\";\n\nimport { FormatedStatus } from \"../../../../components/TableCommon/util/format\";\nimport InvoiceDetail from \"./InvoiceDetail/InvoiceDetail\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\n\nfunction InvoiceTableRow(props) {\n  const { row, handleOpenRow, openRow, onReload,hidenCollumn ,colorText} = props;\n  const theme = useTheme();\n\n  const classes = useRowStyles();\n\n  console.log(\"row.promotion_detail?.selectedPromotion\",row.promotion_detail?.selectedPromotion)\n  const promotionDiscountValue = row.promotion_detail?.selectedPromotion?.discountType ===\"discountInvoice\" ? row.promotion_value :0\n\n  return (\n    <>\n      {/* ROW */}\n      <TableRow\n        onClick={() => handleOpenRow(row.uuid)}\n        key={row.uuid}\n        className={clsx(\n          classes.row,\n          openRow === row.uuid ? classes.rowClicked : null\n        )}\n        style={{color:colorText}}\n      >\n        <TableCell align=\"left\"  style={{color:colorText}}>{row.order_code}</TableCell>\n        <TableCell align=\"left\" className={colorText?null:classes.fontName} style={{color:colorText}}>\n          {/* {new Date(row.creation_date).toLocaleString()} */}\n          {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n        </TableCell>\n        <TableCell\n          align=\"left\"\n          style={{ minWidth: 150 }}\n          style={{color:colorText}}\n          // className={classes.fontName}\n        >\n          {row.customer_name}\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n        {/* <TableCell align=\"right\">\n          {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\n        </TableCell> */}\n        <TableCell align=\"right\" style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n        <TableCell align=\"right\" \n        style={{fontWeight:colorText ?null:500,color:colorText}}\n        // style={{color: theme.customization.mode === \"Light\"? '#000': null}}\n        >\n          {\" \"}\n          <VNDFormat value={Number(row.total_amount) - Number(row.discount)  - Number(promotionDiscountValue) + Number(row.other_fee_value)} />\n        </TableCell>\n        {hidenCollumn?.includes(\"debt\") ?null:\n        <TableCell align=\"center\" style={{color:colorText}}>\n          <FormatedStatus debt={Number(row.total_amount) - Number(row.discount)  - Number(promotionDiscountValue)+ Number(row.other_fee_value)  - Number(row.paid_amount) > 0 ? 1 : 0} />\n        </TableCell> }\n      </TableRow>\n\n      {/* DETAIL */}\n      <TableRow>\n        {/* colspan  => số cột trong collapse */}\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n          <InvoiceDetail parentProps={props} />\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n\nexport default InvoiceTableRow;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {Modal} from 'antd'\nimport moment from \"moment\";\n\n//import api\n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\nimport InvoiceFilter from \"./InvoiceTool/InvoiceFilter\";\nimport InvoiceTableRow from \"./InvoiceTableRow/InvoiceTableRow\";\n//chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\n\nimport JSONdata from \"../../../assets/JsonData/invoice.json\";\nimport orderApi from \"../../../api/orderApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\n\nconst Invoice = () => {\n  // fetch data here\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const dispatch = useDispatch();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [orders, setOrders] = useState([]);\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0);\n  const [totalAmount, setTotalAmount] = useState(0);\n  // api\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n\n  /// search sort\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minDiscount: null,\n    maxDiscount:null,\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    status: '',\n    paymentMethod: '',\n    orderBy: 'orders.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  const [query, setQuery] = useState(initialQuery)\n\n  //// 2. Table\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // header sort\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"id\");\n  const handleDeleteAll = () => {\n    const deleteApi = async () => {\n      console.log(\"delete api called\")\n      try {\n        const res = await orderApi.deleteAll(store_uuid, branch_uuid);\n        dispatch(statusAction.successfulStatus(\"Xóa tất cả hóa đơn thành công\"));\n      } catch (err) {\n        dispatch(statusAction.failedStatus(\"Xóa tất cả hóa đơn thất bại\"));\n      }\n    }\n    Modal.confirm({\n      content: \"Bạn chắc chắn muốn xóa tất cả hóa đơn, hành động này không thể quay lại\",\n      onOk() {\n        deleteApi()\n        onReload()\n      },\n    });\n  }\n\n  //3. ToolBar\n  //3.2. filter\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n  const [reload, setReload] = useState(false);\n  const onReload = () => {\n    console.log(\"onReload called\")\n    setReload(!reload);\n  };\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await orderApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query,\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n        setOrders(response.data);\n        setTotalAmount(response.total_amount);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query, reload]);\n\n  const tableRef = React.createRef();\n\n\n  const getDataExport = async () => {\n    try {\n      const response = await orderApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus(\"Không thể lấy dữ liệu!\"));\n      console.log(error);\n    }\n  }\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Grid direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Hoá đơn\n        </Typography>\n        {/* <Typography variant=\"body2\" style={{paddingLeft: 25}}>\n          <b style={{color:'#000'}}>{\"Số đơn: \"}</b>\n          <ThousandFormat value={totalRows}></ThousandFormat>\n          {\" - \"}\n          <b style={{color:'#000'}}>{\"Tổng: \"}</b>\n          <VNDFormat  value={totalAmount} />\n        </Typography> */}\n       \n        </Grid>\n\n        <Grid className={classes.btngroup1}>\n          <ButtonBase\n            sx={{ borderRadius: \"16px\" }}\n            onClick={() => {\n              dispatch(customizeAction.setSidebarOpen(false));\n              dispatch(customizeAction.setItemMenuOpen(1));\n            }}\n            component={Link}\n            to=\"/home/sales/cart\"\n          >\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Thêm hoá đơn\">\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={orders}\n        handleDeleteAll={handleDeleteAll}\n        tableType={TableType.INVOICE}\n        textSearch={\"#, Khách, Người bán,...  \"} /*handlePrint={handlePrint}*/\n        handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n        getDataExport={getDataExport}\n        orderByOptions={[\n          { value: \"orders.created_at\", label: \"Ngày bán\" },\n          { value: \"total_amount\", label: \"Tổng tiền bán\" },\n        ]}\n        orderBy={query.orderBy}\n        setOrderBy={(value) => setQuery({ ...query, orderBy: value })}\n        sort={query.sort}\n        setSort={(value) => setQuery({ ...query, sort: value })}\n        searchKey={query.searchKey}\n        setSearchKey={(value) => setQuery({ ...query, searchKey: value })}\n        handleRemoveFilter={handleRemoveFilter}\n        columnsToKeep={[\n          { dbName: \"order_code\", displayName: \"Mã hoá đơn\" },\n          { dbName: \"customer_name\", displayName: \"Khách hàng\" },\n          { dbName: \"created_at\", displayName: \"Ngày bán\" },\n          { dbName: \"total_amount\", displayName: \"Tổng tiền hoá đơn\" },\n          { dbName: \"paid_amount\", displayName: \"Tiền khách đã trả\" },\n          { dbName: \"status\", displayName: \"Trạng thái\" },\n          { dbName: \"payment_method\", displayName: \"Phương thức thanh toán\" },\n          { dbName: \"created_user_type\", displayName: \"Tài khoản thực hiện\" },\n          { dbName: \"created_user_name\", displayName: \"Tên người thực hiện\" },\n        ]}\n      />\n      <InvoiceFilter\n        openFilter={openFilter}\n        setQuery={setQuery}\n        query={query}\n        handleToggleFilter={handleToggleFilter}\n        setOrders={setOrders}\n      />\n\n      {/* 3. TABLE */}\n      {!xsScreen ? (\n        <TableWrapper\n          pagingState={{ ...pagingState, total_rows: totalRows }}\n          setPagingState={setPagingState}\n          list={orders}\n          tableRef={tableRef}\n        >\n          <TableHeader\n            classes={classes}\n            order={order}\n            orderBy={orderBy}\n            onRequestSort={handleRequestSort}\n            headerData={HeadCells.InvoiceHeadCells}\n          />\n          <TableBody>\n          <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n            </TableRow>\n            {orders.map((row, index) => {\n              return (\n                <>\n                {/* <TableRow style={{backgroundColor:theme.customization.primaryColor[50]}}> */}\n                <InvoiceTableRow\n                  key={row.uuid}\n                  row={row}\n                  openRow={openRow}\n                  handleOpenRow={handleOpenRow}\n                  onReload={onReload}\n                  // hidenCollumn={[\"\"]}\n                />\n                </>\n              );\n            })}\n          </TableBody>\n        </TableWrapper>\n      ) : (\n        <>\n          <Box style={{ minHeight: \"50vh\" }}>\n            {orders.map((row, index) => {\n              return (\n                // <InvoiceTableRow\n                //   key={row.uuid}\n                //   row={row}\n                //   openRow={openRow}\n                //   handleOpenRow={handleOpenRow}\n                //   onReload={onReload}\n                // />\n                <BillMiniTableRow\n                  key={row.uuid}\n                  row={row}\n                  openRow={openRow}\n                  handleOpenRow={handleOpenRow}\n                  onReload={onReload}\n                  totalCost={row.total_amount}\n                  id={row.order_code}\n                  partnerName={row.customer_name}\n                  date={row.paid_date}\n                  typeBill={\"Hoá đơn\"}\n                />\n              );\n            })}\n          </Box>\n          <Pagination\n            pagingState={{ ...pagingState, total_rows: totalRows }}\n            setPagingState={setPagingState}\n            list={orders}\n          />\n        </>\n      )}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint orders={orders} classes={classes} query={query}  totalRows={totalRows}  totalAmount={totalAmount}/>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default Invoice;\n\nconst ComponentToPrint = ({ orders, classes,query ,totalRows,totalAmount }) => {\n  const firstDate = orders.slice(-1)[0] ?orders.slice(-1)[0].creation_date.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê hoá đơn */}\n          THỐNG KÊ HOÁ ĐƠN\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InvoiceHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {orders.map((row, index) => {\n            return  <InvoiceTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n            </TableRow>\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );\n};\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useSelector } from 'react-redux';\nimport { useFormik } from 'formik';\nimport moment from 'moment'\nimport refundApi from '../../../../api/refundApi';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst InvoiceReturnFilter = (props) => {\n  const {handleToggleFilter,openFilter, setRefunds} =props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n  const formik = useFormik({\n    initialValues: {\n      startDate: '',\n      endDate: '',\n      orderCode: '',\n      minTotalAmount: null,\n      maxTotalAmount: null,\n      status: 'debt',\n      paymentMethod: '',\n    },\n    onSubmit: async values => {\n      // const res = await refundApi.searchRefund(store_uuid, branch_uuid, values)\n      handleToggleFilter()\n      // setRefunds(res.data)\n    },\n  });\n  React.useEffect(() =>{\n    formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n    formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n\n  },[])\n\n  return (\n    <Drawer\n      anchor=\"right\"\n      onClose={handleToggleFilter}\n      open={openFilter}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      className={classes.drawer}\n    >\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n      {/* Giao hàng, dia chi giao ???*/}\n      {/* tiền giảm ???*/}\n\n\n      {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\" className={classes.text} >Mã hoá đơn:</Typography>\n      <TextField \n        id=\"orderCode\" label=\"Mã hoá đơn\" type=\"text\" name=\"orderCode\"\n        defaultValue={formik.values.orderCode} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.orderCode}  \n        onChange={formik.handleChange}\n      />\n\n      <Typography variant=\"h5\" className={classes.text} >Ngày tạo:</Typography>\n      <TextField id=\"startDate\" label=\"Từ\" \n        type=\"date\" \n        name=\"startDate\"\n        defaultValue={formik.values.startDate} \n        variant=\"outlined\" size=\"small\" fullWidth \n        className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.startDate} \n        onChange={formik.handleChange}\n      />\n      <TextField \n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n        defaultValue={formik.values.endDate} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.endDate}  \n        onChange={formik.handleChange}\n      />\n     \n\n      {/* 2.Tien from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Tiền đơn trả:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minTotalAmount\"\n        value={formik.values.minTotalAmount}\n        onChange={formik.handleChange}\n        // value={formik.values.minTotalAmount}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n        required label=\"Đến\" variant=\"outlined\" \n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.maxTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n      \n\n\n\n      {/* 4.Chi nhanh */}\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Trang thai */}\n      {/* <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"status\"\n          name=\"status\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.status}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\n        </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Pttt */}\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"paymentMethod\" name=\"paymentMethod\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.paymentMethod}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"card\">Thẻ</MenuItem>\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n        </Select>\n      </FormControl>\n\n      {/* BUTTON */}\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={formik.handleSubmit}\n        style={{ marginTop: 30 }}>\n        Lọc\n      </Button>\n\n\n\n    </Drawer>\n  )\n}\n\nexport default InvoiceReturnFilter\n\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { TableCell, TableRow } from '@material-ui/core';\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle';\n\nimport InvoiceReturnDetail from './InvoiceReturnDetail/InvoiceReturnDetail';\nimport { VNDFormat } from '../../../../components/TextField/NumberFormatCustom';\n\nfunction InvoiceReturnTableRow(props) {\n  const { row, handleOpenRow, openRow,colorText } = props;\n  const classes = useRowStyles();\n  return (\n    <>\n      {/* ROW */}\n      <TableRow\n        onClick={() => handleOpenRow(row.uuid)}\n        key={row.uuid}\n        className={clsx(classes.row, (openRow === row.uuid) ? classes.rowClicked : null)}\n        style={{color:colorText}}\n      >\n        <TableCell align=\"left\" style={{color:colorText}}>{row.refund_code}</TableCell>\n        {/* <TableCell align=\"left\" className={classes.fontName}>{row.created_at}</TableCell> */}\n        <TableCell align=\"left\" className={colorText?null:classes.fontName} style={{color:colorText}}>{row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n\n        <TableCell align=\"left\" style={{ minWidth: 100,color:colorText }} >{row.customer_name}</TableCell>\n        {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n        {/* <TableCell align=\"right\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell> */}\n        <TableCell align=\"right\" style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n        <TableCell align=\"right\" className={colorText?null:classes.fontName}style={{color:colorText}} ><VNDFormat value={row.total_amount}/></TableCell>\n        {/* <TableCell align=\"right\" ></TableCell>\n        <TableCell align=\"right\" ></TableCell> */}\n        \n      </TableRow>\n\n      {/* DETAIL */}\n      <TableRow>\n        {/* colspan  => số cột trong collapse */}\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n          <InvoiceReturnDetail parentProps={props}/>\n        </TableCell>\n\n      </TableRow>\n    </>\n  );\n}\n\nexport default InvoiceReturnTableRow;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n// import style\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n// import lib\nimport { useReactToPrint } from \"react-to-print\";\n// import api\n\n// import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n/// /import project\n// riêng\nimport InvoiceReturnFilter from \"./InvoiceReturnTool/InvoiceReturnFilter\";\nimport InvoiceReturnTableRow from \"./InvoiceReturnTableRow/InvoiceReturnTableRow\";\n// chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport refundApi from \"../../../api/refundApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\n\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nfunction InvoiceReturn() {\n  // fetch data here\n  const invoiceReturnList = [];\n  const [refunds, setRefunds] = useState([]);\n  // api\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  /// / 2. Table\n\n  // collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // // header sort\n  // const [order, setOrder] = React.useState('asc');\n  // const [orderBy, setOrderBy] = React.useState('id');\n\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minDiscount: null,\n    maxDiscount: null,\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    status: '',\n    paymentMethod: '',\n    orderBy: 'refunds.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  \n\n  const handleRequestSort = (event, property) => {\n    /// / (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  // 3. ToolBar\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  // 3.1. search\n\n  // 3.2. filter\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n\n  // 3.3. loc cot\n\n  const [reload, setReload] = useState(false);\n\n  const [query, setQuery] = useState(initialQuery)\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0)\n  const [totalAmount, setTotalAmount] = useState(0);\n\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await refundApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n        setRefunds(response.data);\n        setTotalAmount(response.total_amount);\n\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, store_uuid, branch_uuid, query]);\n  const getDataExport = async () => {\n    try {\n      const response = await refundApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n  const tableRef = React.createRef();\n\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Đơn trả\n        </Typography>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT */}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={refunds}\n        tableType={TableType.INVOICE_RETURN}\n        textSearch=\"#,#hđ, Khách, Người trả,...  \" /* handlePrint={handlePrint} */\n        handlePrint={handlePrint}\n        handleToggleFilter={handleToggleFilter}\n\n        orderByOptions={[\n          {value: 'refunds.created_at', label: 'Ngày nhập'},\n          {value: 'refunds.total_amount', label: 'Tổng tiền tra'},\n        ]}\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n        handleRemoveFilter={handleRemoveFilter}\n        getDataExport={getDataExport}\n        columnsToKeep = {[\n          {dbName:\"refund_code\",displayName:\"Mã đơn trả\"},\n          {dbName:\"creation_date\",displayName:\"Ngày nhập\"},\n          {dbName:\"customer_name\",displayName:\"Nhà cung cấp\"},\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \n          {dbName:\"paid_amount\",displayName:\"Tổng tiền đã thu\"}, \n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"},\n          {dbName:\"created_user_type\",displayName:\"Tài khoản thực hiện\"},\n          {dbName:\"created_user_name\",displayName:\"Tên người thực hiện\"},\n        ]}\n      />\n      <InvoiceReturnFilter\n        openFilter={openFilter}\n        handleToggleFilter={handleToggleFilter}\n        setRefunds={setRefunds}\n      />\n      {/* 3. TABLE */}\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState} \n        list={refunds}\n        tableRef={tableRef}\n        >\n        <TableHeader\n          classes={classes}\n          // order={order}\n          // orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          headerData={HeadCells.InvoiceReturnHeadCells}\n        />\n        <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/><TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n        <TableBody>\n          {refunds.map((row, index) => (\n            <InvoiceReturnTableRow\n              key={row.uuid}\n              row={row}\n              openRow={openRow}\n              handleOpenRow={handleOpenRow}\n            />\n          ))}\n        </TableBody>\n      </TableWrapper>:\n          <>\n           <Box style={{minHeight:'50vh'}}>\n          {refunds.map((row, index) => (\n            // <InvoiceReturnTableRow\n            //   key={row.uuid}\n            //   row={row}\n            //   openRow={openRow}\n            //   handleOpenRow={handleOpenRow}\n            // />\n            <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \n          totalCost={row.total_amount}  id={row.refund_code} partnerName={row.customer_name} date={row.created_at} \n          typeBill={\"Đơn trả\"}/>\n\n          ))}\n          </Box>\n          <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}         list={refunds}/>\n    \n          </>\n          }\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint refunds={refunds} classes={classes} query={query} totalRows={totalRows}  totalAmount={totalAmount}/>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nexport default InvoiceReturn;\n\nconst ComponentToPrint = ({ refunds, classes , query,totalRows,totalAmount}) => {\n\n  const firstDate = refunds.slice(-1)[0] ?refunds.slice(-1)[0].created_at.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê đơn trả */}\n          THỐNG KÊ ĐƠN TRẢ\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InvoiceReturnHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {refunds.map((row, index) => {\n            return  <InvoiceReturnTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/><TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );\n};\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Cart from \"./Cart/Cart\";\nimport Invoice from \"./Invoice/Invoice\";\nimport InvoiceReturn from \"./InvoiceReturn/InvoiceReturn\";\nimport OrderProductList from \"../InventoryView/OrderProductList/OrderProductList\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst SalesView = (props) => {\n  const { path } = useRouteMatch();\n  const permissions = useSelector((state) => state.info.user.permissions);\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <Redirect\n          to={\n            permissions?.find((p) => p.name === \"sales\")\n              ? `${path}/cart`\n              : \"/home\"\n          }\n        />\n      </Route>\n      <Route exact path={`${path}/cart`} component={Cart} />\n      <Route path={`${path}/invoice`} component={Invoice} />\n      <Route path={`${path}/invoice-return`} component={InvoiceReturn} />\n      {/* <Route path={`${path}/order-list/order`} component={OrderProduct} /> */}\n      <Route path={`${path}/order-list`} component={OrderProductList} />\n    </Switch>\n  );\n};\n\nexport default SalesView;\n","import {withStyles} from \"@material-ui/core/styles\";\nimport {Menu,MenuItem,} from '@material-ui/core';\n\nexport const StyledMenu = withStyles({\n    paper: {\n      border: '1px solid #d3d4d5',\n    },\n  })((props) => (\n    <Menu\n      \n      elevation={0}\n      getContentAnchorEl={null}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      {...props}\n    />\n  ));\n  \nexport  const StyledMenuItem = withStyles((theme) => ({\n    root: {\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n          color: theme.palette.common.white,\n        },\n      },\n    },\n  }))(MenuItem);","import { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default  makeStyles((theme) =>({\n    root: {\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      borderRadius:theme.customization.borderRadius,\n      color: '#000000',\n      boxShadow: \"none\",\n    },\n  \n    headerTitle:{\n      padding: '24px',\n      marginTop:-5,\n      marginBottom:-10,\n      fontSize: '1.125rem'\n    },\n\n    table:{\n      width:\"100%\",\n    },\n    button: {\n      margin: theme.spacing(1),\n      paddingRight:-10\n    },\n\n    headerAvatar: {\n      ...theme.typography.commonAvatar,\n      ...theme.typography.mediumAvatar,\n      transition: 'all .05s ease-in-out',\n      background:theme.palette.primary.main ,\n      '&:hover': {\n        background: theme.customization.primaryColor[400],\n      },\n\n    },\n    btngroup:{\n      marginRight:20,\n      marginTop:10\n    },\n    btngroup1:{\n      marginRight:20,\n      marginTop:10\n    },\n\n    visuallyHidden: {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: 1,\n      margin: -1,\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      top: 20,\n      width: 1,\n    },\n    icon: {\n      color:theme.customization.mode === 'Light' ?grey[700] :grey[50]\n  },\n    padding:{\n      marginLeft:24,\n      marginRight:24\n\n    },\n    tab: {\n      minWidth: 60,\n      width: 60, \n\n      color:theme.customization.primaryColor[200],\n      // fontSize:20,\n      // fontWeight:500\n  },\n  indicator:{\n    backgroundColor:theme.customization.primaryColor[200],\n  },\n  boldText:{\n    fontWeight:700,\n    \n  },\n  hoverCard:{\n    // backgroundColor:'#fff',\n    boxShadow:'0px 10px 20px rgba(0,0,0,0.1)',\n    \"&:hover\": {\n      // backgroundColor: theme.customization.primaryColor[50],\n      boxShadow:'0px 10px 10px rgba(0,0,0,0.2)',\n    }\n},\ncardRoot: {\n  width: 200,\n},\nmedia: {\n  height: 140,\n},\nappBar: {\n  position: 'relative',\n  backgroundColor:theme.customization.primaryColor[500],\n  height:60\n},\ntitle: {\n  marginLeft: theme.spacing(2),\n  flex: 1,\n},\n\n}));\n\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\n\n// import library\nimport {TableHead,TableRow,TableCell,TableSortLabel} from '@material-ui/core';\nimport { grey} from '@material-ui/core/colors'\n\n\n\nconst StyledTableCell = withStyles((theme) => ({\n    head: {\n      backgroundColor: theme.customization.mode === \"Light\"? null: grey[800],\n      // color: theme.customization.mode === \"Light\"? null: grey[500],\n      color: theme.customization.mode === \"Light\"? null: grey[500],\n\n    },\n    \n}))(TableCell);\n\n  \nfunction TableHeader(props) {\n    const theme = useTheme();\n    const { classes, order, orderBy, onRequestSort,headerData,isCart,isCustomer,color } = props;\n    const createSortHandler = (property) => (event) => {\n      // onRequestSort(event, property);\n    };\n    \n    return (\n      <TableHead className={classes.headColor} >\n        <TableRow >\n            {headerData.map((headCell) => (\n            // <StyledTableCell\n            //     key={headCell.id}\n            //     align={headCell.align}\n            //     // sortDirection={orderBy === headCell.id ? order : false}\n            // >\n            //     <TableSortLabel\n            //     active={orderBy === headCell.id}\n            //     // direction={orderBy === headCell.id ? order : 'asc'}\n            //     onClick={createSortHandler(headCell.id)}\n            //     style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n            //     >\n            //     {headCell.label}\n            //     {/* {orderBy === headCell.id  ? (\n            //         <span className={classes.visuallyHidden}>\n            //         {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n            //         </span>\n            //     ) : null} */}\n            //     </TableSortLabel>\n            // </StyledTableCell>\n\n            <StyledTableCell\n              key={headCell.id}\n              align={headCell.align}\n              // sortDirection={orderBy === headCell.id ? order : false}\n              // style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n              style={{color:isCustomer?\"#000\": theme.customization.mode === \"Light\"? color?color:null: grey[500], fontSize:isCustomer?16:null}}\n\n             >\n                  {headCell.label}\n            </StyledTableCell>\n              \n            ))}\n             {isCart?  <StyledTableCell/>: null}\n            \n        </TableRow>\n      </TableHead>\n        );\n    }\n\n\nexport default TableHeader","export default __webpack_public_path__ + \"static/media/no-results-1.27ba7507.png\";","import React from 'react'\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\nimport {Table,TableContainer,FormControlLabel,Switch,Paper, TablePagination,Grid,Box,Typography,Divider} from '@material-ui/core';\nimport empltyImage from \"../../../assets/img/icon/empty-cart.png\"\nimport empltyImage2 from \"../../../assets/img/icon/no-results-1.png\"\nimport { Empty } from 'antd';\n\n\nimport { Pagination } from 'antd';\n\nconst TableWrapper = (props) => {\n    const {isCart, isReport, pagingState, setPagingState,list,tableRef} = props;\n\n    // console.log(\"pagingState\",pagingState)\n    const theme = useTheme();\n    // const classes = useStyles(theme);\n    // table\n    // const [dense, setDense] = React.useState(isReport?true:false);\n    const [dense, setDense] = React.useState(isCart ?false:true);\n\n\n    const handleChangeDense = (event) => {\n      setDense(event.target.checked);\n    };\n    React.useEffect(()=>{\n        tableRef?.current && tableRef?.current?.scrollIntoView();\n    },[list])\n\n    return (\n    <>\n        <StyledPaper style={{width: '100%', marginBottom: theme.spacing(2)}}>\n            {/* Chinh size tablw */}\n\n            {/* <TableContainer style={{maxHeight: '90vh',}}> */}\n            {/* <TableContainer style={{maxHeight: '84vh', minHeight:'60vh'}}> */}\n            {/* <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}> */}\n            <TableContainer style={{maxHeight: '66vh', minHeight:'60vh'}}>\n\n                <Table\n                    ref={tableRef}\n                    aria-labelledby=\"tableTitle\"\n                    size={dense ? 'small' : 'medium'}\n                    // size={dense ? 'small' : 'small'}\n\n                    aria-label=\"enhanced table\"\n                    stickyHeader \n                >\n                    {props.children}\n\n                </Table>\n                \n            </TableContainer>\n            \n        </StyledPaper>\n\n            {/* Add page navigation here...  */}\n            {isCart || isReport? null :\n               \n                <Grid container justifyContent='flex-end' >     \n                        <FormControlLabel\n                            control={<Switch checked={dense} onChange={handleChangeDense} />}\n                            label=\"Thu nhỏ\"\n                            style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n                        />\n                        <Pagination\n                        style={{marginRight:40}}\n                            showSizeChanger\n                            total={pagingState?.total_rows}\n                            current={pagingState?.page +1}\n                            onChange={(newCurrent, newPageSize) => {\n                                const pageSizeChange = pagingState?.limit !== newPageSize;\n                                if (!pageSizeChange) {\n                                    setPagingState({ ...pagingState, page: newCurrent -1 })\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n                                } else {\n                                    setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n\n                                }\n                              }}\n                            />\n                        \n                </Grid>\n                \n            \n            }\n    </>\n    )\n}\n\nconst StyledPaper = withStyles((theme) => ({\n    root: {\n      boxShadow:\"none\",\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      color: theme.customization.mode === \"Light\"? null: grey[700]\n    },\n  }))(Paper);\n\nexport default TableWrapper\n\n\n\n// const Empty = ()  =>{\n//     return(\n//         <Box style={{height:'65vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n//             <Box>\n//                 <Box component=\"img\" sx={{ height: 150,  width: 150, marginBottom: 15, borderRadius: 2, color:'#b6b6b6' }} src={empltyImage2} />\n//                 <Typography variant=\"h3\">Giỏ hàng trống</Typography>\n//             </Box>\n//         </Box>\n\n\n//     )\n// }\n\n    // if(list){\n    //     // return <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n    //     return (\n    //         <>\n    //         {/* <Divider /> */}\n    //     <Box style={{height:'67vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n    //     <Empty \n    //     // image=\"https://minimal-assets-api.vercel.app/assets/illustrations/illustration_empty_cart.svg\" \n    //     image={empltyImage2}\n    //     imageStyle={{ height: 150, }} \n    //         description={ <div style={{marginTop:20, marginLeft:-20}}>\n    //             <Typography variant='h3' >Giỏ hàng trống</Typography>\n    //             <Typography style={{color:'gray', marginTop:15}}>Chưa có sản phẩm nào trong giỏ hàng</Typography>\n    //         </div>}/>\n    //     </Box> </>)\n    // }\n\n    \n\n\n\n\n\n\n\n\n// PAGING NAVAGATION CŨ\n\n // <div style={{display: 'flex', flexDirection: 'row-reverse', gap: 10,marginTop:-20, marginRight:20, marginBottom:-10 }}>\n    //     <TablePagination\n    //         rowsPerPageOptions={[10, 25, 100]}\n    //         labelRowsPerPage={\"Số dòng\"}\n    //         component=\"div\"\n    //         count={pagingState?.total_rows}\n    //         rowsPerPage={pagingState?.limit}\n    //         page={pagingState?.page}\n    //         onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n    //         onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n\n\n    //     />\n        \n    //     <FormControlLabel\n    //         control={<Switch checked={dense} onChange={handleChangeDense} />}\n    //         label=\"Thu nhỏ\"\n    //         style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n    //     />\n    // </div>","function descendingComparator(a, b, orderBy) {\n   if ( orderBy !== null){\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    \n    } else{\n        if (b.id< a.id) {\n            return -1;\n        }\n        if (b.id > a.id) {\n            return 1;\n        }\n        return 0;\n    }\n    return 0;\n}\n// function descendingComparator(a, b, orderBy) {\n//     if (b.id< a.id) {\n//         return -1;\n//     }\n//     if (b.id > a.id) {\n//         return 1;\n//     }\n//     return 0;\n// }\nexport function getComparator(order, orderBy) {\n    return order === 'desc'\n      ? (a, b) => descendingComparator(a, b, orderBy)\n      : (a, b) => -descendingComparator(a, b, orderBy);\n  }\n  \nexport  function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}\n\n\nexport function calculateTotalQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=Number(item.quantity) )\n    return value\n  }\n  export function calculateTotalReturnQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=item.returnQuantity )\n    return value\n  }\n\n  ","import axiosClient from \"./axiosClient\";\n\nconst customerApi = {\n  createCustomer: (storeUuid, body) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.post(url, body);\n  },\n  getCustomers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.delete(url);\n  },\n  updateCustomer: (storeUuid, customerUuid,body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.put(url,body);\n  },\n  payDebt: (storeUuid, customerUuid, body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n  importCustomerJson : (storeUuid, json) => {\n    const url = `stores/${storeUuid}/customers/addCustomersByJson`;\n    return axiosClient.post(url, {\n      \"json_data\": json\n    });\n  },\n  updateCustomerVouchers: (storeUuid, customerUuid,vouchers) => {\n    const url = `stores/${storeUuid}/customer/${customerUuid}`;\n    return axiosClient.post(url, {\n      \"vouchers\": JSON.stringify(vouchers)\n    });\n  },\n  getCustomerDebts: (storeUuid, query) => {\n    const url = `stores/${storeUuid}/customerDebts`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomerGroups: (storeUuid) => {\n    const url = `stores/${storeUuid}/customerGroups`;\n    return axiosClient.get(url);\n  },\n  updateCustomerGroup: (storeUuid, id, body) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.put(url, body);\n  },\n  createCustomerGroup: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/customerGroups/`;\n    return axiosClient.post(url, body);\n  },\n  deleteCustomerGroup: (storeUuid, id) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.delete(url);\n  },\n};\nexport default customerApi;\n","import React from 'react'\nimport {Box,TextField,Avatar,Slide,Divider,ListItemSecondaryAction,Dialog,AppBar,Toolbar,Button,ListItem,IconButton,TableRow,TableCell,Typography, Grid} from '@material-ui/core'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport useStyles from \"../TableCommon/style/mainViewStyle\";\nimport icon from '../../assets/img/product/tch.jpeg';\nimport * as Input from '../TextField/NumberFormatCustom'\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\nimport InvoiceReturnDetail from \"../../views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail\";\nimport InvoiceDetail from \"../../views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail\";\nimport InventoryOrderDetail from \"../../views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail\";\nimport InventoryReturnDetail from \"../../views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail\";\nimport OrderProductListDetail from \"../../views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail\";\nimport CheckHistoryDetail from \"../../views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail\"\nimport CustomerDetail from \"../../views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail\"\nimport SupplierDetail from \"../../views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail\"\nimport EmployeeDetail from \"../../views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail\"\nimport DiscountDetail from '../../views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail';\nimport VoucherDetail from '../../views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {ThousandFormat} from \"../TextField/NumberFormatCustom\"\nimport ava from '../../assets/img/product/lyimg.jpeg';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport InventoryDetail from '../../views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail';\nimport DiscountPopUp from \"../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\nimport ButtonQuantity from \"../../components/Button/ButtonQuantity\";\n\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\n\nexport const CartMiniTableRow = (props) =>{\n    const classes = useStyles(); \n    const haveDiscount = true;\n\n    const {row,discountData, handleDeleteItemCart,isManageInventory, handleChangeItemQuantity, isCart,handleChangeItemPrice} = props\n    const updateQuantity = (newQuantity) => {\n        handleChangeItemQuantity(row.uuid, newQuantity)\n      }\n\n    const [openDiscount, setOpenDiscount] = React.useState(false);\n    const handleOpenDiscount = () =>{\n      setOpenDiscount(!openDiscount)\n    }\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n    const canFixPriceSell= store_setting?.canFixPriceSell\n    const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.cart) :(canFixPriceSell.status && canFixPriceSell.import) \n    return (\n        <>\n         <ListItem  style={{ padding:10}}>   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n                        <div>\n                            <ListItem style={{margin:0,padding:0}} >    \n                                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                                {haveDiscount ? \n                                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                                :null}\n                                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n                            </ListItem  > \n                            <ListItem style={{margin:0,padding:0}} >    \n                            {activeFixPrice?\n                            <Input.ThousandSeperatedInput \n                                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                                inputProps={{style: { textAlign: \"right\" }}} \n                                defaultPrice={row.unit_price} \n                                value={row.unit_price} \n\n                                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>:\n                                <Input.ThousandFormat  value={row.unit_price} > </Input.ThousandFormat>}\n\n                                <Typography style={{marginLeft:10}}>x</Typography>\n                            </ListItem  > \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\nexport const BillMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {totalCost, id,partnerName ,date, typeBill } = props;\n    const{promotion_condition,dateAdvanceSetting, type} = props;\n    const classes = useStyles(); \n    const theme = useTheme();\n\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n        <div style={{margin:10}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(typeBill === \"Khuyến mãi\"?row.id:row.uuid)}}  >\n            <Grid item>\n                <Typography style={{ fontWeight:500,marginTop:-5,fontSize:15, marginBottom:3}}>{id}</Typography>\n                <Typography style={{ fontSize:14}}>{partnerName}</Typography>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n                \n          {typeBill ===\"Voucher\"?<Typography style={{ fontSize:11, marginTop:-15, marginBottom:7}}> Ngày hết hạn:</Typography>:null}\n\n           <Typography style={{color:\"#6b6b6b\", fontSize:10, marginTop:-8, marginBottom:5,textAlign: 'right'}}>{date?.substring(0, 16)}</Typography>\n            \n            {typeBill === \"Khuyến mãi\"  ?<Typography style={{marginTop:10}} >{totalCost}  </Typography>:null}\n            {typeBill === \"Đơn đặt hàng\"  || typeBill === \"Voucher\"?<Typography style={{fontWeight:500, fontSize:17, color:\"orange\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill === \"Đơn kiểm kho\"?<Typography style={{fontWeight:500, fontSize:17, color:totalCost >=0?\"green\":\"red\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill !== \"Đơn đặt hàng\" &&typeBill !== \"Đơn kiểm kho\" &&typeBill !== \"Voucher\" && typeBill !== \"Khuyến mãi\"? <Typography style={{fontWeight:500, fontSize:17, color:typeBill  === \"Hoá đơn\" || typeBill === \"Đơn nhập hàng\"?theme.customization.primaryColor[500]:theme.customization.secondaryColor[500],textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            \n            \n            </Grid>\n        </Grid> \n        <Divider style={{marginTop:2}} />\n\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typeBill} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typeBill === \"Hoá đơn\"? <InvoiceDetail parentProps={props}  isMini={true} />:null}\n            {typeBill === \"Đơn trả\"? <InvoiceReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn nhập hàng\"? <InventoryOrderDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn trả hàng nhập\"? <InventoryReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn đặt hàng nhập\"? <OrderProductListDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn kiểm kho\"? <CheckHistoryDetail parentProps={props}  isMini={true}/>:null}\n            {/* {typeBill === \"Khuyến mãi\"? <DiscountDetail parentProps={props}  isMini={true} promotion_condition={promotion_condition} type={type}/>:null} */}\n            {typeBill === \"Voucher\"? <VoucherDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Khuyến mãi\"?  <DiscountDetail isMini={true}parentProps={props} promotion_condition={promotion_condition}dateAdvanceSetting={dateAdvanceSetting} type={type} />       :null}\n\n        </Dialog>\n        </div>\n    )\n}\n\nexport const PartnerMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {img, id,name ,phone, score,typePartner } = props\n    const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n\n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                    {typePartner !== \"Nhà cung cấp\"?<Avatar alt=\"Remy Sharp\" src={img} style={{marginRight:20,}} className={classes.ava} />:null}\n                    <div>\n                        <Typography style={{marginBottom:2, marginTop:-5,marginBottom:3}}>{name}</Typography>\n                        <ListItem  style={{margin:0, padding:0}}>\n                            <PhoneIcon style={{width:10, height:10, marginRight:2, color:\"#8f8f8f\"}}/>\n                            <Typography style={{color:'#36afff', fontSize:12}}>{phone}</Typography>\n                        </ListItem>  \n                    </div>\n                </ListItem>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n            <Typography style={{marginTop:-5,fontSize:12,color:\"#474747\"}}>{id}</Typography>\n            {typePartner === \"Khách hàng\"?<Typography style={{fontWeight:500, fontSize:14,marginTop:8, color:\"green\",textAlign: 'right'}}>{score}</Typography> :null}\n\n            </Grid>\n        </Grid> \n\n        <Divider style={{marginTop:2}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typePartner === \"Khách hàng\"? <CustomerDetail parentProps={props}  isMini={true} />:null}\n            {typePartner === \"Nhân viên\"? <EmployeeDetail parentProps={props}  isMini={true}/>:null}\n            {typePartner === \"Nhà cung cấp\"? <SupplierDetail parentProps={props}  isMini={true}/>:null}\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const ReturnCartMiniTableRow = ({ detail, handleProductPriceChange,isCart, handleItemQuantityChange }) =>{\nconst classes = useStyles();\n  const theme = useTheme();\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n    \n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.returnCart) :(canFixPriceSell.status && canFixPriceSell.returnImport) \n\n    return (\n        <>\n        <Typography style={{fontSize:16}} >{detail.product_code} - {detail.name} </Typography>\n        <ListItem style={{margin:0,padding:0}} >  \n            <Typography style={{color:\"#6b6b6b\", marginRight:10}} >Giá bán: </Typography>\n            <Input.VNDFormat style={{ width: 70 ,color:\"#6b6b6b\"}} value={detail.unit_price}/>  \n        </ListItem  > \n        <Typography style={{ marginBottom:-10, marginTop:10, color:\"red\"}} >Giá trả: </Typography>\n\n        <ListItem style={{margin:0,padding:0}} >  \n           {activeFixPrice? <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={detail.returnPrice} \n                value={detail.returnPrice}\n                onChange={e => handleChangePrice(e.target.value)}/>\n           : <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>\n            }\n                <ButtonQuantity quantity={detail.returnQuantity} limit={detail.quantity - detail.returned_quantity} setQuantity={handleChangeQuantity}  show={show} setShow={setShow} isReturn={true} isMini={true}/> \n        </ListItem  > \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\nexport const ProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n    const haveDiscount = true;\n\n    const {row, handleOpenRow, openRow } = props\n    const {img, id,name ,list_price,standard_price,typePartner ,branch_quantity,min_reorder_quantity,isManageInventory} = props\n    // const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item xs={9}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={JSON.parse(row.img_urls)?.at(0) || defaultProduct}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{name}</Typography>\n                    <Typography style={{}}>Vốn: <ThousandFormat value={standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={3} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n               {isManageInventory?  <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(branch_quantity,min_reorder_quantity)}}>Tồn: <ThousandFormat value={branch_quantity}/></Typography>\n               : <Typography></Typography>}\n                <Typography style={{textAlign: 'right', }}>Bán: <ThousandFormat value={list_price}/></Typography>\n            </Grid>\n        </Grid> \n\n\n        <Divider style={{marginTop:3}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n            <InventoryDetail parentProps={props}  openRow={openRow} isMini={true} />\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const CheckMiniTableRow = ({ detail, handleItemRealQuantityChange, handleDeleteItem }) =>{\n    const classes = useStyles();\n    const [show, setShow] = React.useState(\"none\");\n    useEffect(() => { }, [detail]);\n  \n    const onChangeRealQuantity = (newQuantity) => {\n      handleItemRealQuantityChange(detail.id, newQuantity);\n    };\n \n    return (\n        <>\n        <ListItem  >   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={detail.img_url} />\n                        <div>\n                            <Typography style={{fontSize:15, marginBottom:10}} >detail.name</Typography>\n                           \n                            <Typography style={{marginLeft:10}}>detail.branch_quantity</Typography> \n                            {/* <ThousandFormat  value={detail.branch_quantity} /> */}\n                        \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                         <ButtonQuantity quantity={100} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/> \n                        {/* <ButtonQuantity quantity={detail.real_quantity} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/>  */}\n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n\n                {/* <ThousandFormat  value={Number(detail.real_quantity) - Number(detail.branch_quantity)} /> */}\n                {/* <VNDFormat value={(Number(detail.real_quantity) - Number(detail.branch_quantity)) *\n          detail.standard_price} /> */}\n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\n\n\nexport const VarianceProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n   \n\n    const {variance,onClick} = props\n\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          \n          >\n            <Grid item xs={8}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={variance.img_url}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{variance.name}</Typography>\n                    <Typography style={{}}>Giá vốn: <ThousandFormat value={variance.standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={4} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n                <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(variance.branch_quantity,variance.min_reorder_quantity)}}>Tồn: <ThousandFormat value={variance.branch_quantity}/></Typography>\n                <Typography style={{textAlign: 'right', }}>Giá bán: <ThousandFormat value={variance.list_price}/></Typography>\n            </Grid>\n        </Grid> \n        <Box style={{display:'flex',justifyContent:'right'}}>\n        <Button style={{marginTop:10, }} size=\"small\" color=\"primary\" variant=\"outlined\"\n        onClick={onClick}>Chi tiết</Button>\n        </Box>\n\n        <Divider style={{marginTop:3}} />\n       \n        </div>\n    )\n}\n{/* <ListItem  style={{ padding:10}}>   \n<ListItem  style={{margin:0, padding:0}}>    \n        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n        <div>\n            <ListItem style={{margin:0,padding:0}} >    \n                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                {haveDiscount ? \n                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                :null}\n                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n            </ListItem  > \n            <ListItem style={{margin:0,padding:0}} >    \n            <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={row.unit_price} \n                value={row.unit_price} \n\n                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>\n                <Typography style={{marginLeft:10}}>x</Typography>\n            </ListItem  > \n        </div>\n    </ListItem  >  \n    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n    </ListItemSecondaryAction>\n\n</ListItem  >  \n<Divider style={{marginTop:7}}/> */}","// -----------HEADER TABLE\n\n//  ID phải trùng tên ATTRIBUTE THÌ MỚI SORT ĐC\n\nexport const InventoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"center\", disablePadding: false, label: \"Sản phẩm\" },\n  // { id: \"bar_code\", align: \"center\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"category\", align: \"left\", disablePadding: false, label: \"Danh mục\" },\n  { id: \"price\", align: \"right\", disablePadding: false, label: \"Giá bán\" },\n  {\n    id: \"import_price\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Giá vốn\",\n  },\n  {\n    id: \"quantity\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Tình trạng\",\n  },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Tồn kho\" },\n\n  { id: \"reoder_point\", align: \"center\", disablePadding: false, label: \"Đang đặt\" },\n\n  { id: \"reorder_quantity\", align: \"center\", disablePadding: false, label: \"Đặt lại sau\" },\n];\nexport const InventoryOrderHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày nhập\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  { id: \"debt\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InventoryReturnOrderHeadCells = [\n  // them cột tình trạng\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n\n  // { id: \"import_id\", align: \"left\", disablePadding: false, label: \"#Đơn nhập\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\n\nexport const SupplierHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên NCC\" },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  // { id: \"email\", align: \"left\", disablePadding: false, label: \"Email\" },\n  // { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  {\n    id: \"total_cost\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  {\n    id: \"debt\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Nợ NCC\",\n  },\n  { id: \"debtStatus\", align: \"center\", disablePadding: false, label: \"\" },\n];\n\nexport const InvoiceHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày bán\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng tiền\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InvoiceReturnHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n  // { id: \"invoid_id\", align: \"left\", disablePadding: false, label: \"#Hoá đơn\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const EmployeeHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"email\", align: \"left\", disablePadding: true, label: \"Email\" },\n  // { id: \"role\", align: \"left\", disablePadding: true, label: \"Chức năng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: true, label: \"Chi nhánh\" },\n  { id: \"function\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\n\nexport const CustomerHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  // { id: 'img', align: false, disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Khách hàng\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"score\", align: \"right\", disablePadding: true, label: \"Tích điểm\" },\n  { id: \"total\", align: \"right\", disablePadding: true, label: \"Tổng tiền mua\" },\n  { id: \"debt\", align: \"right\", disablePadding: true, label: \"Tổng nợ\" },\n  { id: \"debtStatus\", align: \"center\", disablePadding: true, label: \"\" },\n];\n\nexport const CartHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  // { id: \"price\", align: \"right\", disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Đơn giá\" },\n\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const ImportHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Giá nhập\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const CartReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá bán\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const ImportReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá nhập\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const OrderHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Khoảng giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const CheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"quantity\", align: \"right\", disablePadding: true, label: \"Tồn kho\" },\n  {\n    id: \"real-quantity\",\n    align: \"center\",\n    disablePadding: true,\n    label: \"SL thực tế\",\n  },\n  { id: \"balance\", align: \"right\", disablePadding: true, label: \"Lệch\" },\n];\n\nexport const OrderListHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Khách hàng\",\n  },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Khoảng tiền\" },\n  { id: \"status\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const CheckHistoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày kiểm\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"inventory\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng SL lệch\",\n  },\n  {\n    id: \"substract\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền lệch\",\n  },\n  // { id: \"status\", align: \"left\", disablePadding: false, label: \"Chức vụ\" },\n  {\n    id: \"employee\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const DeliveryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"payment\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Hình thức trả\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng hoá đơn\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n  {\n    id: \"employee\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const EmployeeScheduleHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"timecheck\", align: \"center\", disablePadding: true, label: \"Thời gian\" },\n  { id: \"status\", align: \"center\", disablePadding: true, label: \"Chấm công\" },\n];\n\nexport const InventoryCheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\n  { id: \"inventory\", align: \"left\", disablePadding: false, label: \"Tồn kho\" },\n  { id: \"real\", align: \"left\", disablePadding: false, label: \"Thực tế\" },\n  {\n    id: \"diffQuantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"SL lệch\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Giá trị lệch\" },\n];\n\nexport const VoucherHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên voucher\" },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"value\", align: \"left\", disablePadding: true, label: \"Mệnh giá\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const DiscountHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  {\n    id: \"name\",\n    align: \"left\",\n    disablePadding: true,\n    label: \"Tên chương trình\",\n  },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"type\", align: \"left\", disablePadding: true, label: \"Hình thức\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const TransferInventoryHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên SP\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"SL\" },\n  { id: \"from\", align: \"left\", disablePadding: false, label: \"Từ\" },\n  { id: \"to\", align: \"left\", disablePadding: false, label: \"Đến\" },\n  { id: \"user\", align: \"left\", disablePadding: false, label: \"Người thực hiện\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n  { id: \"status\", align: \"left\", disablePadding: false, label: \"\" },\n\n];\n\nexport const CashbookHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"Giá trị\" },\n  { id: \"user_type\", align: \"left\", disablePadding: false, label: \"Đối tác\" },\n  { id: \"user_name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n  { id: \"type\", align: \"left\", disablePadding: false, label: \"Loại thu chi\" },\n];","// ------------TABLE TYPE\n\n// Sales\nexport const INVOICE = \"Hoá_đơn\";\nexport const INVOICE_RETURN = \"Đơn_trả\";\nexport const CUSTOMER_ORDER = \"Đơn_đặt_hàng\";\n\n// inventory\nexport const INVENTORY = \"Sản_phẩm\";\nexport const INVENTORY_ORDER = \"Đơn_nhập_hàng\";\nexport const INVENTORY_RETURN = \"Đơn_trả_hàng_nhập\";\nexport const SUPPLIER = \"Nhà_cung_cấp\";\nexport const CHECK_LIST = \"Đơn_kiểm_kho\";\nexport const ORDER_LIST = \"Đơn_đặt_hàng\";\nexport const TRANSFER_INVENTORY = \"Đơn_chuyển_kho\";\n\n// HR\nexport const EMPLOYEE = \"Nhân_viên\";\n\n//Manager\nexport const CUSTOMER = \"Khách_hàng\";\n\n\n\n//CART\nexport const CART = \"Giỏ_hàng\";\nexport const IMPORT = \"Nhập hàng\";\nexport const CART_RETURN = \"Trả_hàng\";\nexport const IMPORT_RETURN = \"Trả_hàng_nhập\";\n\n","import { Chip, Box, Avatar } from \"@material-ui/core\";\n\nexport const FormatedStatus = (props) => {\n  if (props.debt === 0) {\n    return (\n      <Chip\n        label=\"Trả đủ\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn nợ\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\nexport const FormatedProductStatus = (props) => {\n  if (Number(props.quantity) <= 0) {\n    return (\n      <Chip\n        label=\"Hết hàng\"\n        color=\"#ff007d\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff007d\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= Number(props.lowStock)) {\n    return (\n      <Chip\n        label=\"Sắp hết\"\n        color=\"#ffc02b\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ffc02b\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else if (Number(props.quantity) >= Number(props.overStock)) {\n    return (\n      <Chip\n        label=\"Vượt tối đa\"\n        color=\"white\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"red\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n       \n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn hàng\"\n        color=\"#00ded7\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#00ded7\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n\nexport const FormatedProductStatusReport = (props) => {\n  if (Number(props.quantity) === 0) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ff007d\",\n        }}\n      ></Box>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= props.lowStock) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ffc02b\",\n        }}\n      ></Box>\n    );\n  } else {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#00ded7\",\n        }}\n      ></Box>\n    );\n  }\n};\n\nexport const FormatedStatusOrder = (props) => {\n  switch (props.status) {\n    case \"new\":\n      return (\n        <Chip\n          label=\"Chờ chấp nhận\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n    case \"confirmed\":\n      return (\n        <Chip\n          label=\"Chờ giao\"\n          color=\"#ffc02b\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ffc02b\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ giao\"}{\" \"}\n        </Chip>\n      );\n    case \"cancelled\":\n      return (\n        <Chip\n          label=\"Đã hủy\"\n          color=\"#00ded7\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#00ded7\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Đã hủy\"}{\" \"}\n        </Chip>\n      );\n    case \"paid\":\n      return (\n        <Chip\n          label=\"Hoàn thành\"\n          color=\"#76ff03\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#76ff03\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Hoàn thành\"}{\" \"}\n        </Chip>\n      );\n    default:\n      return (\n        <Chip\n          label=\"Chờ xử lý\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n  }\n};\n\nexport const FormatedStatusCheck = (props) => {\n  if (props.status === 0) {\n    return (\n      <Chip\n        label=\"Cân bằng\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Cân bằng\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Không cân bằng\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Không cân bằng\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n","import React from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport TableHeader  from '../../components/TableCommon/TableHeader/TableHeader'\nimport TableWrapper from '../../components/TableCommon/TableWrapper/TableWrapper'\nimport {ThousandFormat} from '../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\nimport setting from \"../../assets/constant/setting\"\nimport {Docso} from \"../../utils\"\nimport  clsx from \"clsx\"\n//import library\nimport {\n    Grid,\n    Card,\n    Box,\n    Tabs,\n    Tab,\n    TableContainer,\n    CardContent,\n    CardMedia,\n    CardActionArea,\n    FormControlLabel,\n    Switch,\n    Menu,\n    MenuItem,\n    ListItem,\n    IconButton,\n    TableBody,\n    Typography,\n    Table,\n    TableHead,\n    TableRow,TableCell,Divider\n  } from \"@material-ui/core\";\n  import ReactQuill, {Quill} from 'react-quill';\n  import CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        flexGrow: 1,\n        textAlign: \"center\",\n        // fontSize: \"13.5px\",\n        // fontSize: \"12em\",\n        fontWeight: 700,\n        marginTop:10,\n        color: \"#000\",\n    },\n    centerQR:{\n        flexGrow: 1,\n        textAlign: \"center\",\n       \n    },\n    center:{\n        flexGrow: 1,\n        textAlign: \"center\",\n        color: \"#000\",\n        fontSize:\"10px\",\n        // fontSize: \"10em\",\n    },\n    right:{\n        flexGrow: 1,\n        textAlign: \"right\",\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n    },\n    text:{\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n        // textAlign: \"center\",\n    },\n    Largetext:{\n      color: \"#000\",\n      fontSize: \"12px\",\n    },\n    media: {\n      // height: '10%',\n      // // width: '10%'\n      // height: 50,\n      // width:50\n    },\n    weight:{\n      fontWeight:600\n    },\n    root: {\n      maxWidth: 10,\n      \n    },\n    divider: {\n      // Theme Color, or use css color in quote\n      background: '#000',\n  },\n}));\nlet d = moment.now() / 1000;\n\nlet orderTime = moment\n.unix(d)\n.format(\"DD/MM/YYYY HH:mm\", { trim: false });\n\nlet orderDate = moment\n.unix(d)\n.format(\"DD/MM/YYYY\", { trim: false });\n\n// CON THIEU LINK WEB + LOGO + MA HOA DON\nvar QRCode = require('qrcode.react');\n\n\nexport const NomalReceiptPrinter = ({cart, date,code, type}) => {\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n    const store = info.store.store_configuration? JSON.parse(info.store.store_configuration): null\n\n//     const web_link = store_setting.status ? info.store.web_page:null\n//     var link = web_link ? web_link : store? store.custom_web : null ;\n//     var logo  = store? store.img_url :null ;\n\n    var link = info.store.web_page ? \"https://cuahangcuatoi.net/#/store/\" + info.store.web_page : \"\";\n    var logo  = store_setting?.img_url ;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const item = cart.cartItem? cart.cartItem :cart.details\n    const otherfee = store_setting?.vat\n    let otherFeeMoney = otherfee?.listCost ? otherfee?.listCost?.reduce((sum,fee)=>fee.type!==\"%\"? sum + Number(fee.value):sum , 0) :0;\n\n    return (\n        <div style={{paddingLeft: -10}} >\n            {/* Logo */}\n           {logo? \n            <div className={classes.centerQR} style={{marginBottom:5}}  >\n              <img src={logo} style={{height:50}}/>\n            </div>:null}\n              \n           {/* In đơn cũ thì ko lấy store?? */}\n           {/* {\n             cart.branch ?\n             <>\n             <Typography className={classes.center}>Địa chỉ: {cart.branch.address}, {cart.branch.ward} , {cart.branch.district}</Typography>\n            <Typography className={classes.center}>Điện thoại: {cart.branch.phone}</Typography>\n             </>:\n            //  get current branch\n            <>\n             <Typography className={classes.center}>Địa chỉ: {info.store.district}, P. {info.store.ward} ,Q. {info.store.district}, {info.store.province}</Typography>\n             <Typography className={classes.center}>Điện thoại: {info.store.phone}</Typography>\n            </>\n           } */}\n            \n\n            {/*  */}\n            <Typography className={classes.title} style={{fontSize: \"13.5px\"}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n            <Typography className={classes.center}>Mã HĐ: {code}</Typography>\n            <Typography className={classes.center} style={{marginBottom:10}}>Ngày: {date? date: orderTime}</Typography>\n           \n            <Box style={{marginBottom:5}}>\n              <Typography className={classes.text} >Thu ngân: {cart.created_by_user? cart.created_by_user.name: info.user.name}</Typography>\n              <Typography className={classes.text} >Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n            </Box>\n            {/* List */}\n              \n            {type ==='large'?\n            <>\n              <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Đơn giá</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={4}>\n                          <   Typography className={classes.text} >{row.name}</Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.unit_price}/></Typography>\n                            </Grid>\n                            <Grid item xs={2}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity}/></Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                    );\n                })} \n                </>:\n\n                <>\n                 <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={7}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={5}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={7}>\n                              <Typography className={classes.text} >{row.name}</Typography>\n                              <ListItem style={{padding:0, margin:0}}>\n                             <Typography className={classes.text} ><ThousandFormat value={row.quantity}/> x <ThousandFormat value={row.unit_price}/></Typography>\n                              </ListItem>\n                            </Grid>\n                            <Grid item xs={5}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                     );\n                  })} \n\n                </>}\n\n              {cart.listGiftItem?.length >0?\n              <>\n              \n              <ListItem>\n              <Typography className={classes.text} ><b>Khuyến mãi hoá đơn</b></Typography>\n                <CardGiftcardIcon style={{marginLeft:7,width:15, height:15, color:\"#000\"}}/>\n              </ListItem>\n              <Divider />\n\n              {cart.listGiftItem?.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={7}>\n                              <ListItem style={{margin:0, padding:0}}>\n                              <Typography className={classes.text} >{row.name}</Typography>\n                              <div >\n                                <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:8,height:15,fontWeight:500,borderRadius:5,marginLeft:7, paddingTop:-3,  paddingBottom:-3,  paddingLeft:5,  paddingRight:5}}>KM</Box>\n                               </div>\n                              </ListItem>\n                              <ListItem style={{padding:0, margin:0}}>\n                             <Typography className={classes.text} ><ThousandFormat value={row.quantity}/> x \n                             <ThousandFormat value={row.unit_price}/>  \n                             {/* <ThousandFormat value={0}/> */}\n                             </Typography>\n                              </ListItem>\n                            </Grid>\n                            <Grid item xs={5}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={0}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider />\n                        </>\n                     );\n                  })}\n                  </> \n                :null} \n              \n\n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:10}}>\n              <Grid item xs={5}>\n                {Number(cart.discount) > 0 || Number(cart.otherFee) >0?\n                  <>\n                  <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                \n                  </>\n                :null}\n                {Number(cart.discount) +Number(cart.discountPro) > 0 ?\n                    <ListItem style={{margin:0, padding:0}}>\n                    <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}\n                    {cart.bestDetailSelectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({cart.bestDetailSelectedPromotion?.discountValue}%)</b>:\"\"}\n                    </Typography>\n                    {cart.selectedPromotion?.discountKey === \"invoice\" && cart.selectedPromotion?.discountType===\"discountInvoice\"? \n                     <div >\n                           <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:8,height:15,fontWeight:500,borderRadius:5,marginLeft:7, paddingTop:-3,  paddingBottom:-3,  paddingLeft:5,  paddingRight:5}}>KM</Box>\n                     </div>\n                     :null}\n                    </ListItem>\n                :null}\n                  { otherfee?.listCost?.map((fee)=>(\n                     <Typography className={clsx(classes.text,classes.weight)}>\n                     {fee.name}{\" \"} \n                     </Typography>\n                  ))}\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Khách đưa:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền thối:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                {Number(cart.discount) > 0 || Number(cart.otherFee) >0?\n                  <>\n                    <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                    <Typography >\n                      <ThousandFormat className={clsx(classes.text,classes.weight)} value={Number(cart.discount) + Number(cart.discountPro)} />\n                    </Typography>\n                 </>\n                :null}\n                   { otherfee?.listCost?.map((fee)=>(\n                    <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={ fee.type === \"%\" ? Number(fee.value)*(Number(cart.total_amount) - Number(cart.discount) - Number(cart.discountPro)) /100 : fee.value}/></Typography>\n                   ))}\n\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount- cart.discountPro +cart.otherFee }/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount - cart.discount -cart.discountPro + cart.otherFee)} /></Typography>\n\n              </Grid>\n            </Grid>\n            {store_setting.printReceiptWhenSell.contentNote?\n            <Box>\n            <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n      \n            <Typography className={classes.center}> --------------------------</Typography>\n            {link? \n            <>\n                <Typography className={classes.center}> Mở camera và quét mã để truy cập trang web</Typography>\n                <div className={classes.centerQR} style={{marginBottom:10, marginTop:10 }}>\n                   {/* <QRCode value={link}  style={{height:\"50%\", width:\"50%\"}}/> */}\n                   <QRCode value={link}  size={65}/>\n                </div> \n                </>\n            : null}\n            <Typography className={classes.center}>Cảm ơn và hẹn gặp lại !</Typography> \n        </div>\n    )\n}\n\nexport const ReceiptPrinter = ({cart, date,code,type}) => {\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  var link = store_setting?.custom_web;\n  var logo  = store_setting?.img_url ;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n  // console.log(\"typetypetype\",type)\n  if(type !== 'other'){\n    return <NomalReceiptPrinter cart={cart} date={date} code={code} type={type}/>\n  }\n \n  return (\n      <div style={{padding:30, }} >\n          {/* Logo */}\n          {/* <Typography className={classes.title} style={{fontSize: \"18px\", marginBottom:-2}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n          <Typography className={classes.center} style={{ fontSize: \"12px\", marginBottom:15}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography> */}\n          <Grid container justifyContent='space-between'  alignItems='center' style={{marginBottom:15}}>\n              \n              <Grid>\n              <Typography className={classes.title} style={{fontSize: \"18px\"}}>PHIẾU XUẤT KHO</Typography>\n              <Typography className={classes.center} style={{ fontSize: \"12px\"}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography>\n              </Grid>\n              <Grid >\n              <Typography className={classes.Largetext} style={{marginTop:10}}> <b>Khách hàng:</b> {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n              <Typography className={classes.Largetext} ><strong>Điện thoại:</strong> {cart.customer?.phone} </Typography> \n              </Grid>\n          </Grid>\n\n          {/* <Box style={{marginBottom:10}}>\n            <Grid container>\n              <Grid item xs={7}><Typography className={classes.Largetext} style={{fontWeight:500}}>Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography>  </Grid>\n              <Grid item xs={5}><Typography className={classes.Largetext} style={{fontWeight:500}}>Điện thoại: {cart.customer?.phone} </Typography>  </Grid>\n            </Grid>\n            <Typography className={classes.Largetext} style={{fontWeight:500}}>Địa chỉ: {cart.customer?.address } </Typography> \n          </Box> */}\n          {/* List */}\n            <Divider classes={{root: classes.divider}}/>\n              <ListItem  style={{margin:0, padding:0,}}>\n                  <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{marginTop:3, marginBottom:3}} >STT</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Tên hàng hoá, dịch vụ</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn vị</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Số lượng</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn giá</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Thành tiền</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n              </ListItem>\n            <Divider classes={{root: classes.divider}}/>\n                {item.map((row, index) => {\n                  return (\n                    <>\n                    <ListItem  style={{margin:0, padding:0,}}>\n                        <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                              <Typography className={clsx(classes.Largetext)}style={{marginTop:2, marginBottom:2}} >{index +1}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"left\",marginTop:2, marginBottom:2, paddingLeft:4}}>{row.name}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}>{row.quantity_per_unit ?row.quantity_per_unit :\"Cái\"}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}><ThousandFormat value={ row.quantity}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"right\", marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={ row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                  </ListItem>\n                   <Divider classes={{root: classes.divider}}/>  \n                   \n                  </>\n                  );\n              })} \n            {/* <Divider classes={{root: classes.divider}}/>   */}\n          <ListItem  style={{margin:0, padding:0,}}>    \n            <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:3120}} >\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                  <Typography className={clsx(classes.Largetext,)}style={{marginTop:3, marginBottom:3, fontWeight:600}} >TỔNG CỘNG</Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                  <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3, fontWeight:600}}><ThousandFormat value={ item?.reduce((sum,a) => sum + Number(a.quantity),0)}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 1700}}>\n                  <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:3, marginBottom:3, paddingRight:4, fontWeight:600}}><ThousandFormat value={cart.total_amount}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n        </ListItem>\n        <Divider classes={{root: classes.divider}}/>  \n        <ListItem  style={{margin:0, padding:0,justifyContent:'space-between' , }}> \n            <ListItem  style={{margin:0, padding:0,}}> \n                <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                <Typography className={clsx(classes.Largetext)} style={{fontWeight:600,marginTop:2, marginBottom:2,marginLeft:5}}>Viết bằng chữ:</Typography>\n                <Typography className={clsx(classes.Largetext)} style={{marginTop:2, marginBottom:2,marginLeft:5, fontStyle:'italic'}}> {new Docso().doc(Number(cart.total_amount))} đồng./.</Typography>\n            </ListItem> \n            <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n\n        </ListItem> \n        <Divider classes={{root: classes.divider}}/>  \n        \n      {store_setting.printReceiptWhenSell.contentNote?\n      <Box>\n      <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n      <div>\n          <Grid container justifyContent='space-around' style={{marginTop:20}}>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người mua hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người giao hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người bán hàng </Typography>  </Grid>\n          </Grid>\n        </div> \n      </div>\n  )\n\n}\n\nexport const ImportReceiptPrinter = ({cart, date}) => {\n  const info = useSelector((state) => state.info);\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n    return (\n          <div >\n\n          {/*  */}\n          <Typography className={classes.title} >PHIẾU NHẬP HÀNG</Typography>\n          <Typography className={classes.center}>Mã phiếu: {}</Typography>\n          <Typography className={classes.center} style={{marginBottom:25}}>Thời gian: {date? date: orderTime}</Typography>\n        \n          \n          <Typography className={classes.text} >Chi nhánh nhập: {cart.branch ? cart.branch.name :info.branch.name}</Typography>\n          <Typography className={classes.text} >Người tạo: {cart.created_by_user ? cart.created_by_user.name :info.user.name}</Typography>\n          <Typography className={classes.text} style={{marginBottom:10}}>Nhà cung cấp: {cart.supplier?.name} </Typography>\n        \n          {/* List */}\n      \n          <Divider classes={{root: classes.divider}}/>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >STT</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Mã hàng</Typography>\n                  </Grid>\n                  <Grid item xs={4}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Đơn giá</Typography>\n                  </Grid>\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >SL</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >T.Tiền</Typography>\n                  </Grid>\n              </Grid>\n              <Divider classes={{root: classes.divider}}/>      \n\n         \n                  {item.map((row, index) => {\n                  return (\n                      <>\n                     \n                      <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{index+1}</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.bar_code}</Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.name}</Typography>\n                        </Grid>\n                       \n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.unit_price}/></Typography>\n                        </Grid>\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity}/></Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                      </>\n                  );\n              })}\n            \n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}>\n              <Grid item xs={5}>\n                <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền trả NCC:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Còn lại:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                <Typography >\n                  <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount}/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount)} /></Typography>\n\n              </Grid>\n            </Grid>   \n\n        <Grid container direction=\"row\" justifyContent=\"space-around\">\n              <Typography className={clsx(classes.text,classes.weight)}>\n                  Nhà cung cấp\n              </Typography>\n \n            <Typography className={clsx(classes.text,classes.weight)}>\n                  Người lập phiếu\n              </Typography>\n          </Grid>\n      </div>\n    )\n}\n\n","import React, { useEffect } from 'react'\nimport {Grid,Card,Box,Tooltip,TextField,ListItem,Divider,IconButton,TableRow,TableCell,TableBody,Typography} from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport clsx from \"clsx\";\nimport WarningIcon from '@material-ui/icons/Warning';\nconst ButtonQuantity = (props) =>{\n    const classes = useStyles();\n    const {quantity,setQuantity, limit, isReturn,branch_quantity,isMini,miniCart,isCustomer,isManageInventory, mini} = props;\n    const [show, setShow] = React.useState('none');\n  \n    const handleIncrement = () => {\n      //them cai nay\n       if (limit && Number(limit) === 0){\n        setQuantity(quantity)\n        return\n      }\n\n      else if(limit) {\n        if(quantity >= Number(limit)) {\n          setQuantity(quantity)\n          return\n        } \n      } \n     \n      setQuantity(quantity+ 1);\n    };\n  \n    const handleDecrement = () => {\n      if(quantity >=1){setQuantity(quantity- 1);}\n    };\n\n    \n    const handleShow = () => {\n      setShow('block');\n    };\n    const handleClose = () => {\n      setShow('none');\n    };\n  \n    const HtmlTooltip = withStyles((theme) => ({\n      tooltip: {\n        backgroundColor: '#9f9fa1',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(12),\n        border: '1px solid #dadde9',\n      },\n    }))(Tooltip);\n\n    var error_quantity = quantity > branch_quantity;\n\n    const handleQuantity = (e) =>{\n\n      //  if (!isNaN(e.target.value) && e.target.value >0){\n      //   setQuantity(parseInt(e.target.value))\n      // } \n     setQuantity(parseInt(e.target.value))\n    }\n   \n    return(\n    <ListItem onMouseOver={handleShow} onMouseOut={handleClose} style={isMini ||miniCart? {padding:0,paddingTop:5,paddingBottom:5, margin:0} : {}} > \n\n        {error_quantity && isMini && isManageInventory?\n            <HtmlTooltip title={ <React.Fragment>\n                <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>   <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n                </React.Fragment> } >\n              <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n          </HtmlTooltip>:null}\n\n          {/* margin:isMini?0:null, padding:isMini?0:null */}\n         {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity && isManageInventory ? \"red\":null,margin:isMini?0:null, padding:isMini?0:null,}} aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleDecrement} >\n            <RemoveIcon fontSize=\"inherit\" />\n          </IconButton> :null}\n             \n           <TextField  variant={isMini || miniCart? \"outlined\" : \"standard\"} id=\"standard-basic\" style={{width:isMini||miniCart?35 + (quantity).toString().length*10-10:35,minWidth:45,padding:0, marginLeft:isCustomer || isMini?20:null,marginRight:isCustomer|| isMini?20:null}} className={clsx(classes.textfieldClass,(show === 'none'||miniCart) ? classes.padding : null)}  size=\"small\" inputProps={{style: { textAlign: isMini?\"center\": \"right\", color: error_quantity  && isManageInventory  ? \"red\":null, fontWeight:error_quantity  && isManageInventory ? 600:null,\n              backgroundColor:error_quantity  && isManageInventory ?\"#ffe8e8\":null, height:miniCart?12:null\n            }}} \n          value={quantity} onChange={handleQuantity}/>\n     \n           \n          {isReturn ? `/${limit}`: null}\n          {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity  && isManageInventory  ? \"red\":null ,margin:isMini?0:null, padding:isMini?0:null,} } aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleIncrement}>\n            <AddIcon fontSize=\"inherit\" />\n          </IconButton>:null}\n\n\n\n{/* Error  */}\n          {error_quantity && !isMini  && isManageInventory  && !miniCart?\n     \n        <HtmlTooltip\n        title={\n          <React.Fragment>\n            <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>\n            <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n           \n          </React.Fragment>\n        }\n      >\n         <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n      </HtmlTooltip>\n         \n          \n          :null}\n\n    </ListItem>  \n    )\n  }\n\nexport default ButtonQuantity\n","import { Button, notification, Space } from \"antd\";\n\nconst openNotification = (type, message, description) => {\n  notification[type]({\n    message: message,\n    description: description,\n    placement: \"bottomRight\",\n    // placement: \"topRight\",\n    // style:{marginTop:60}\n    // style:{backgroundColor:'#4BB04F',  fontWeight:500}\n\n  });\n};\nexport default openNotification;\n","import axiosClient from \"./axiosClient\";\n\nconst orderApi = {\n  addOrder: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/addOrder`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/orders`;\n    return axiosClient.get(url, {});\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  getOrder: (storeUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/orders/${orderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  editOrderApi: (storeUuid, branchUuid, orderUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.put(url, body);\n  },\n  deleteOrder: (storeUuid, branchUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.delete(url);\n  },\n  deleteAll: (storeUuid, branchUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/deleteAll`;\n    return axiosClient.delete(url);\n  },\n\n  // api for customer order\n  searchCustomerOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders`;\n    return axiosClient.get(url, { params: query });\n  },\n  processCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/process`;\n    return axiosClient.get(url);\n  },\n  confirmCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/confirm`;\n    return axiosClient.post(url, body);\n  },\n  cancleCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/cancel`;\n    return axiosClient.post(url);\n  },\n  paymentCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/payment`;\n    return axiosClient.post(url, body);\n  },\n  updateCustomerOrder: (storeUuid, branchUuid, customerOrderId, newDetails) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/updateDetails`;\n    return axiosClient.post(url, {\n      details: JSON.stringify(newDetails),\n    });\n  },\n};\nexport default orderApi;\n","import axiosClient from \"./axiosClient\";\nconst supplierApi = {\n  createSupplier: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/suppliers`;\n    return axiosClient.post(url, body, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n  },\n  getSuppliers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/suppliers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.delete(url);\n  },\n  inactiveSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"inactive\" });\n  },\n  activeSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"active\" });\n  },\n  updateSupplier: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.post(url, body);\n  },\n  payDebt: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n};\nexport default supplierApi;\n","import React, { useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport { grey } from \"@material-ui/core/colors\";\n\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nconst ImportReturnSummary = ({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  let _value = null;\n  useEffect(() => {}, [data]);\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch?.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n              Trả đơn nhập\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.purchase_order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.supplier?.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\"> Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})</Typography>\n          <Typography variant=\"body2\">{calculateTotalReturnQuantity(data.details)}</Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">NCC đã trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng nhập\n        </Button>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default ImportReturnSummary;\n","import React, { useEffect } from \"react\";\nimport {\n  Card,\n  ListItem,\n  DialogContent,\n  Box,\n  Grid,\n  TableBody,\n  Typography,\n  TableCell,\n  TableRow,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport * as _ from \"lodash\";\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport update from \"immutability-helper\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport moment from \"moment\";\nimport ImportReturnSummary from \"../../CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary\";\n\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n// import library\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\nimport SearchProduct from \"../../SearchBar/SearchProduct\";\nimport TableHeader from \"../../TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../TableCommon/TableWrapper/TableWrapper\";\nimport * as Input from \"../../TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../Button/ButtonQuantity\";\nimport purchaseReturnApi from \"../../../api/purchaseReturnApi\";\n\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport { ReturnCartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InventoryReturnPopUp(props) {\n  const { purchaseOrder, classes, handleCloseReturn, reload, reloadDetail } =\n    props;\n  const theme = useTheme();\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  // 2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [purchaseReturn, setPurchaseReturn] = React.useState({\n    purchase_order_code: purchaseOrder.purchase_order_code,\n    purchase_order_id: purchaseOrder.id,\n    branch: purchaseOrder.branch,\n    supplier: purchaseOrder.supplier,\n    supplier_id: purchaseOrder.supplier_id,\n    branch_id: purchaseOrder.branch_id,\n    total_amount: 0,\n    details: purchaseOrder.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      purchase_order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: \"cash\",\n    paid_amount: \"0\",\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = _.cloneDeep(purchaseReturn);\n\n    newPurchaseReturn.details[itemIndex].selectedBatches = newBatches;\n    newPurchaseReturn.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Trả hàng thất bại\",\n  });\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    purchaseReturn.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    const newPurchaseReturn = update(purchaseReturn, {\n      total_amount: { $set: total },\n      paid_amount: { $set: total },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    if (newQuantity === 0) {\n      handleDeleteItem(itemId);\n      return;\n    }\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      paid_amount: { $set: paidAmount },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      payment_method: { $set: paymentMethod },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const dispatch = useDispatch();\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const export_date = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    const body = {\n      purchase_order_uuid: purchaseOrder.uuid,\n      supplier_id: purchaseReturn.supplier_id,\n      total_amount: purchaseReturn.total_amount.toString(),\n      payment_method: purchaseReturn.payment_method,\n      paid_amount: purchaseReturn.paid_amount.toString(),\n      status:\n        purchaseReturn.paid_amount >= purchaseReturn.total_amount\n          ? \"closed\"\n          : \"debt\",\n      details: purchaseReturn.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        purchase_order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        purchase_order_batches: detail.purchase_order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      export_date,\n    };\n\n    try {\n      const res = await purchaseReturnApi.removeInventory(\n        store_uuid,\n        purchaseOrder.branch.uuid,\n        body\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Trả hàng thành công: ${res.data.purchase_return_code}`\n        )\n      );\n      reload();\n      reloadDetail();\n      handleCloseReturn();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Trả hàng thất bại!\"));\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  return (\n    <>\n      <Grid\n        container\n        direction=\"row\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n      >\n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n            Trả hàng nhập\n          </Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={handleCloseReturn}\n        >\n          <CloseIcon />\n        </IconButton>\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          spacing={2}\n        >\n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n                {/* JSON data attribute phải giongso table head id */}\n\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n                {!xsScreen ? (\n                  <TableWrapper isCart>\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.ImportReturnHeadCells}\n                    />\n                    <TableBody>\n                      {purchaseReturn.details.map((detail, index) => (\n                        <ImportReturnTableRow\n                          handleProductPriceChange={handleProductPriceChange}\n                          handleItemQuantityChange={handleItemQuantityChange}\n                          handleChangeBatches={handleChangeBatches}\n                          detail={detail}\n                        />\n                      ))}\n                    </TableBody>\n                  </TableWrapper>\n                ) : (\n                  purchaseReturn.details.map((detail, index) => (\n                    <ReturnCartMiniTableRow\n                      handleProductPriceChange={handleProductPriceChange}\n                      handleItemQuantityChange={handleItemQuantityChange}\n                      detail={detail}\n                      isCart={false}\n                    />\n                  ))\n                )}\n              </Box>\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <ImportReturnSummary\n                data={purchaseReturn}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n    </>\n  );\n}\n\nexport default InventoryReturnPopUp;\nfunction ImportReturnTableRow({\n  detail,\n  handleProductPriceChange,\n  handleItemQuantityChange,\n  handleChangeBatches,\n}) {\n  const classes = useStyles();\n  const [show, setShow] = React.useState(\"none\");\n  useEffect(() => {}, [detail]);\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>\n        {detail.product_code}\n      </TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      {/* <TableCell align=\"left\">{detail.bar_code}</TableCell> */}\n      <TableCell align=\"right\">\n        {\" \"}\n        <Input.ThousandFormat value={detail.unit_price} />\n      </TableCell>\n      <TableCell align=\"right\">\n      {canFixPriceSell.status && canFixPriceSell.returnCart?\n        <Input.ThousandSeperatedInput\n          id=\"standard-basic\"\n          style={{ width: 70 }}\n          size=\"small\"\n          inputProps={{ style: { textAlign: \"right\" } }}\n          defaultPrice={detail.returnPrice}\n          onChange={(e) => handleChangePrice(e.target.value)}\n        />:\n        <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n      </TableCell>\n\n      <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n      <TableCell align=\"right\" className={classes.boldText}>\n        <Input.VNDFormat\n          value={Number(detail.returnQuantity) * Number(detail.returnPrice)}\n        />\n      </TableCell>\n    </TableRow>\n  );\n}\n","import { makeStyles, useTheme,withStyles ,} from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default makeStyles((theme)=>({\n  root: {\n    '& > *': {\n      borderBottom: 'unset',\n    },\n  },\n  rowClicked:{\n    //backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n    backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    \n  },\n  row:{\n    '&:hover': {\n      // backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n      backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    },\n  },\n  large: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  fontName:{\n    fontWeight: 450,\n  }\n}));","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import project\nimport {\n  CardHeader,\n  Tooltip,\n  TextField,\n  IconButton,\n  InputAdornment,\n  Box,\n  Button,\n  Typography,\n  MenuItem,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select\n} from \"@material-ui/core\";\n\n// import - icon\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport ViewColumnTwoToneIcon from \"@material-ui/icons/ViewColumnTwoTone\";\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport SearchTwoToneIcon from \"@material-ui/icons/SearchTwoTone\";\nimport barcodeIcon from \"../../../assets/img/icon/barcode_grey.png\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport NoteAddTwoToneIcon from \"@material-ui/icons/NoteAddTwoTone\";\n// import third party\nimport xlsx from \"xlsx\";\nimport SimpleModal from \"../../Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../Modal/ModalWrapperWithClose\";\nimport { applyMiddleware } from \"@reduxjs/toolkit\";\nimport { DeleteForever } from \"@material-ui/icons\";\nimport DeleteForeverOutlined from \"@material-ui/icons/DeleteForeverOutlined\";\n// import SimpleModal from \"../../Modal/ModalWrapper\";\n\n//--thu vien nay bij loi font\n// import jsPDF from 'jspdf'\n// import 'jspdf-autotable'\nconst cell = [\"A1\", \"B1\", \"C1\", \"D1\", \"E1\", \"F1\", \"G1\", \"H1\", \"I1\", \"J1\", \"K1\",];\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    icon: {\n      color: theme.customization.mode === \"Light\" ? grey[700] : grey[50],\n    },\n    toolbar: {\n      justifyContent: \"left\",\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 10,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 0,\n      //\n      width: 260,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    actions: {\n      marginTop: 0,\n    },\n  })\n);\nconst exportExcel = (dataTable, tableType, columnsToKeep = []) => {\n  try {\n    const newData = []\n    dataTable.map((row) => {\n      let rowRs = {}\n      columnsToKeep.map((cl) => {\n        rowRs = { ...rowRs, [cl.displayName]: row[cl.dbName] }\n      })\n      newData.push(rowRs)\n    })\n    const workSheet = xlsx.utils.json_to_sheet(newData);\n    const workBook = xlsx.utils.book_new();\n\n    xlsx.utils.book_append_sheet(workBook, workSheet, tableType);\n    //Buffer\n    //let buf=XLSX.write(workBook,{bookType:\"xlsx\",type:\"buffer\"})\n    //Binary string\n    xlsx.write(workBook, { bookType: \"xlsx\", type: \"binary\" });\n    //Download\n    xlsx.writeFile(workBook, `${tableType}.xlsx`);\n  } catch (err) {\n    console.log(err)\n  }\n};\n\nconst ToolBar = (props) => {\n  const {\n    dataTable,\n    tableType,\n    handlePrint,\n    textSearch,\n    handleToggleFilter,\n    hasImport,\n    importByJSON,\n    excel_head,\n    excel_data,\n    excel_name,\n    columnsToKeep,\n    searchKey, setSearchKey,\n    orderByOptions, orderBy, setOrderBy,\n    handleRemoveFilter,\n    sort, setSort,\n    isOnlySearch,\n    getDataExport,\n    customizable,\n    handleDeleteAll,\n    extra,\n  } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [openImport, setOpenImport] = useState(false);\n  const [custom, setCustom] = useState(true)\n  const [customCl, setCustomCl] = useState({\n    name: \"Sản phẩm\",\n    bar_code: \"Mã vạch\",\n    category_id: \"Danh mục\",\n    list_price: \"Giá bán\",\n    standard_price: \"Giá vốn\",\n    quantity_per_unit: \"Đơn vị\",\n    quantity: \"Tồn kho\",\n    min_reorder_quantity: \"Tồn nhỏ nhất\",\n    max_order: \"Tồn lớn nhất\",\n    img_urls: \"Hình ảnh\",\n    has_batches: \"Lô\",\n    description: \"Miêu tả\"\n  })\n  // const [json, setJson] = useState(null);\n\n  const readUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    if (e.target.files) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        // debugger\n        const data = e.target.result;\n        const workbook = xlsx.read(data, { type: \"array\" });\n        const sheetName = workbook.SheetNames[0];\n        const worksheet = workbook.Sheets[sheetName];\n        const myJson = xlsx.utils.sheet_to_json(worksheet)\n        try {\n          const json = myJson.map((product) => ({\n            name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n            list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n            standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n            category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n            bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n            quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n            min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n            description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n            has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n            max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n            img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n            quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n          }))\n          setJsonData(json);\n        } catch (err) {\n          console.log(err)\n        }\n      };\n      reader.readAsArrayBuffer(e.target.files[0]);\n    }\n  };\n  const [excel, setExcel] = useState([])\n  const readCustomerUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          const json = excelLines.map((line) => ({\n            name: line[\"Tên khách hàng\"],\n            phone: line[\"Số điện thoại\"],\n            address: line[\"Địa chỉ\"],\n            email: line[\"Email\"],\n            payment_info: line[\"Thông tin thanh toán\"],\n            points: line[\"Tích điểm\"],\n            total_payment: line[\"Tổng tiền mua\"],\n            debt: line[\"Còn nợ\"],\n          }))\n          setJsonData(json);\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  };\n  const handleImport = () => {\n    setOpenImport(false);\n    if (custom && customizable) {\n      console.log(\"customCl\",customCl)\n      setListCl([])\n      const json = excel.map((product) =>\n      \n       {\n        console.log(\"customCl.img_urls\",product[customCl.img_urls])\n\n         return ({\n        name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n        list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n        standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n        category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n        bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n        quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n        min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n        description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n        has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n        max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n        // img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n        img_urls: product[customCl.img_urls] ? product[customCl.img_urls] : \"\",\n\n        quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n      })})\n      importByJSON(json);\n    } else {\n      importByJSON(jsonData);\n    }\n  };\n  const [jsonData, setJsonData] = useState([]);\n\n  const [listCl, setListCl] = useState([]);\n\n  useEffect(() => {\n    setListCl([])\n  }, [openImport])\n\n  const readCustomizedProduct = (e) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          setExcel(excelLines)\n          setListCl(Object.keys(excelLines[0]))\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch(err) {\n      console.log(err)\n    }\n    \n  };\n  return (\n\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Grid item>\n          <Grid container direction=\"row\">\n            <Tooltip title=\"Nhấn Enter để tìm kiếm\">\n              <TextField\n                style={{ marginTop: 12, marginLeft: 10 }}\n                variant=\"outlined\"\n                onKeyUp={(e) => {\n                  if (e.key === \"Enter\" || e.target.value === \"\") {\n                    setSearchKey(e.target.value)\n                  }\n                }\n                }\n                placeholder={textSearch} /*placeholder='Tìm kiếm ...'*/\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchTwoToneIcon className={classes.icon} />\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23 }}\n                        src={barcodeIcon}\n                      />\n                    </InputAdornment>\n                  ),\n                  className: classes.search,\n                }}\n              />\n            </Tooltip>\n            {!isOnlySearch &&\n\n              <div style={{ marginLeft: 30, display: 'flex', flexDirection: 'row', gap: 10 }}>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Sắp xếp theo\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"orderBy\"\n                    value={orderBy}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setOrderBy(e.target.value)}\n                  >\n                    {orderByOptions?.map(o => <MenuItem value={o.value}>{o.label}</MenuItem>)}\n                  </Select>\n                </FormControl>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Thứ tự\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"sort\"\n                    value={sort}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setSort(e.target.value)}\n                  >\n                    <MenuItem value=\"asc\">Tăng dần</MenuItem>\n                    <MenuItem value=\"desc\">Giảm dần</MenuItem>\n                  </Select>\n                </FormControl>\n                <Button onClick={handleRemoveFilter}>\n                  Bỏ lọc\n                </Button>\n              </div>\n            }\n            {extra ? extra : null}\n          </Grid>\n        </Grid>\n        \n        <Grid item>\n          <Box className={classes.actions}>\n            <Tooltip\n              title=\"Nhập excel\"\n              style={{ display: hasImport ? null : \"none\" }}\n            >\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => setOpenImport(true)}\n              >\n                <NoteAddTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"Xuất excel\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={async () => {\n                  if (getDataExport) {\n                    const dataTableFull = await getDataExport();\n                    exportExcel(dataTableFull, tableType, columnsToKeep);\n                  } else {\n                    exportExcel(dataTable, tableType, columnsToKeep);\n                  }\n                }}\n              >\n                <GetAppTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            {/* {handleDeleteAll ? <Tooltip\n              title=\"Xóa tất cả hóa đơn\"\n            >\n              <IconButton\n                aria-label=\"deletealll \"\n                onClick={() => handleDeleteAll()}\n              >\n                <DeleteForeverOutlined className={classes.icon} />\n              </IconButton>\n            </Tooltip>: null} */}\n\n            <Tooltip title=\"In danh sách\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => {\n                  handlePrint();\n                }}\n              >\n                <PrintTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n            {/* <Tooltip title=\"Chọn cột\">\n            <IconButton aria-label=\"filter list\">\n              <ViewColumnTwoToneIcon className={classes.icon} />\n            </IconButton>\n          </Tooltip> */}\n            {!isOnlySearch &&\n              <Tooltip title=\"Lọc\">\n                <IconButton aria-label=\"filter list\" onClick={handleToggleFilter}>\n                  <FilterListTwoToneIcon className={classes.icon} />\n                </IconButton>\n              </Tooltip>\n            }\n\n            \n\n          </Box>\n        </Grid>\n      </Grid>\n\n      {openImport && <ModalWrapperWithClose\n        open={openImport}\n        handleClose={() => setOpenImport(false)}\n        title=\"Nhập dữ liệu từ file excel\"\n      >\n\n        {customizable ?\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name, columnsToKeep.filter(cl => cl.dbName != \"product_code\"));\n              }}\n            >\n              Excel mẫu\n            </a> hoặc <a style={{ color: \"blue\", cursor: \"pointer\" }}> tùy chỉnh </a>\n            )\n          </Typography> :\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name,  columnsToKeep.filter(cl => cl.dbName != \"total_payment\" && cl.dbName !=\"debt\"));\n              }}\n            >\n              Excel mẫu\n            </a>\n            )\n          </Typography>\n        }\n\n\n        {\n          custom && listCl.length > 0 && excel && customizable &&\n          <Grid container spacing={2} style={{ marginBottom: 15, width: 600, maxWidth: \"90vw\" }} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tên sản phẩm</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.name} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, name: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá bán</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.list_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, list_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá vốn</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.standard_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, standard_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Danh mục</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.category_id} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, category_id: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>            \n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mã vạch</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.bar_code} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, bar_code: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Đơn vị</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity_per_unit} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, quantity_per_unit: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn nhỏ nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.min_reorder_quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, min_reorder_quantity: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn lớn nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.max_order} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, max_order: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Hình ảnh (url1, url2,...)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.img_urls} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, img_urls: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mô tả</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.description} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, description: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn kho</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, quantity: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Lô (Có hoặc không)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.has_batches} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, has_batches: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n          </Grid>\n        }\n        {custom  && customizable?\n          <form>\n            <label htmlFor=\"upload\">Chọn file <strong>của bạn</strong>: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => { readCustomizedProduct(e) }}\n            />\n          </form>\n          :\n          <form>\n            <label htmlFor=\"upload\">Chọn file: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => {\n                if (customizable) {\n                  readUploadFile(e, setJsonData);\n                } else {\n                  readCustomerUploadFile(e, setJsonData);\n                }\n              }}\n            />\n          </form>\n        }\n\n        <Button\n          style={{ marginTop: 40 }}\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          onClick={handleImport}\n        >\n          Nhập\n        </Button>\n      </ModalWrapperWithClose>}\n    </>\n\n  );\n};\n\nexport default ToolBar;\n\nconst studentData = [\n  {\n    id: 1,\n    name: \"Quần dài\",\n    category: \"Thực phẩm\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 2,\n    name: \"Quần đùi\",\n    category: \"Bánh kẹo\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 3,\n    name: \"Áo dài\",\n    category: \"Đồ dùng\",\n    price: 250,\n    import_price: 120,\n  },\n  {\n    id: 4,\n    name: \"Bánh\",\n    category: \"Quần áo\",\n    price: 520,\n    import_price: 102,\n  },\n  {\n    id: 5,\n    name: \"Kẹo\",\n    category: \"Quần áo\",\n    price: 220,\n    import_price: 100,\n  },\n  {\n    id: 6,\n    name: \"Khăn giấy\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 7,\n    name: \"Quần dài\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 8,\n    name: \"Túi xách\",\n    category: \"Quần áo\",\n    price: 150,\n    import_price: 350,\n  },\n  {\n    id: 9,\n    name: \"Laptop\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 10,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 11,\n    name: \"Máy tính cầm ta\",\n    category: \"Quần áo\",\n    price: 223,\n    import_price: 152,\n  },\n  {\n    id: 12,\n    name: \"Tập vở\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 154,\n  },\n  {\n    id: 13,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 1223,\n    import_price: 354,\n  },\n];\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseOrderApi = {\n  addInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/addInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseOrder: (storeUuid, purchaseOrderUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/${purchaseOrderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/`;\n    return axiosClient.get(url, { params: query });\n  },\n  editPurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.put(url, body)\n  },\n  deletePurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.delete(url)\n  },\n  updateDetail: (storeUuid, branchUuid, detail) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-order-details/${detail.id}`;\n    return axiosClient.put(url, detail);\n  }\n};\nexport default purchaseOrderApi;\n","export default __webpack_public_path__ + \"static/media/tch.cc1a031b.jpeg\";","import axiosClient from './axiosClient';\n\nconst refundApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/refunds/`;\n    return axiosClient.get(url, {});\n  },\n  getRefund: (storeUuid, refundUuid) => {\n    const url = `stores/${storeUuid}/refunds/${refundUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchRefund: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default refundApi;\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseReturnApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseReturn: (storeUuid, purchaseReturnUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns/${purchaseReturnUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseReturn: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default purchaseReturnApi;\n","import React from 'react'\n\nconst CategorySelect = (props) => {\n    const {categoryList} =  props \n    return (\n        categoryList.map((category) => <MyOption category={category} currentLevel={0} />)\n\n    )\n}\n\nexport default CategorySelect\n\nconst MyOption = (props) => {\n    const { category, currentLevel } = props\n    let padding = \"\"\n    for (let i = 0; i < currentLevel; i++) {\n        padding += \"\\u00a0\\u00a0\\u00a0\\u00a0\"\n    }\n    try {\n        return (\n            [\n                <option key={category.key} value={category.uuid} >\n                    {padding + category.name}\n                </option>,\n                ...category.children?.map((subCategory) => <MyOption category={subCategory} currentLevel={currentLevel + 1} />)\n            ]\n        )\n    } catch (error) {\n        console.log(category)\n        return []\n    }\n}","import React from 'react'\nimport {Table,TableContainer,Box,Grid,FormControlLabel,Switch,Paper, TablePagination,Typography} from '@material-ui/core';\nimport { Pagination } from 'antd';\n\nconst Paginations = ({ pagingState, setPagingState, list}) => {\n\n  React.useEffect(()=>{\n    window.scrollTo(0, 0);\n  },[list])\n\n\n\n  return (\n    <TablePagination\n        // style={{marginTop:-25,marginBottom:60, marginLeft:-5}}\n        rowsPerPageOptions={[10, 25, 100]}\n        rowsPerPage={10}\n        labelRowsPerPage={\"Dòng\"}\n        component=\"div\"\n        count={pagingState?.total_rows}\n        rowsPerPage={pagingState?.limit}\n        page={pagingState?.page}\n        onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n        onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n    />\n    // <Box style={{width:500}}>\n    // <Pagination\n\n    //       style={{minWidth:500}}\n    //         size=\"small\"\n    //         total={pagingState?.total_rows}\n    //         current={pagingState?.page +1}\n    //         onChange={(newCurrent, newPageSize) => {\n    //             const pageSizeChange = pagingState?.limit !== newPageSize;\n    //             if (!pageSizeChange) {\n    //                 setPagingState({ ...pagingState, page: newCurrent -1 })\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n    //             } else {\n    //                 setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n\n    //             }\n    //           }}\n    //           showSizeChanger={true}\n    //         />\n  // </Box>\n  )\n}\n\nexport default Paginations","import { Modal, Button, Space } from \"antd\";\n\nexport function info() {\n  Modal.info({\n    title: \"This is a notification message\",\n    content: (\n      <div>\n        <p>some messages...some messages...</p>\n        <p>some messages...some messages...</p>\n      </div>\n    ),\n    onOk() {},\n  });\n}\n\nexport function success(message) {\n  Modal.success({\n    content: message,\n  });\n}\n\nexport function error(title, content) {\n  Modal.error({\n    title: title,\n    content:content,\n\n  });\n}\n\nexport function warning(title, content) {\n  Modal.warning({\n    title: title,\n    content: content,\n  });\n}\n","import React from 'react'\nimport MuiAlert from '@material-ui/lab/Alert';\nimport {Snackbar} from '@material-ui/core';\n\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\nconst SnackBarGeneral = (props) => {\n    const {open,status, handleClose} =props;\n    return (\n        <Snackbar\n        anchorOrigin={{ vertical: 'top',horizontal:  'right' }}\n        open={open}\n        onClose={handleClose}\n        autoHideDuration={2000} \n      >\n        <Alert severity={status.style} onClose={handleClose}>\n            {status.message}\n        </Alert> \n      </Snackbar>\n    )\n}\n\nexport default SnackBarGeneral\n","import { Box, Button, Grid, Typography } from \"@material-ui/core\";\nimport { useFormik } from \"formik\";\nimport React, { useState } from \"react\";\nimport VNDInput, { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport ModalWrapper from \"./ModalWrapper\";\nimport * as Yup from \"yup\";\nimport purchaseOrderApi from \"../../api/purchaseOrderApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\nconst PayRemaining = (props) => {\n  const { open, editApiCall, reloadDetail } = props;\n  const handleClose = () => {\n    props.handleClose();\n    formik.resetForm();\n  };\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: { pay: props.debt },\n    validationSchema: Yup.object({\n      pay: Yup.number()\n        .required(\"Vui lòng nhập số tiền\")\n        .lessThan(props.debt + 1, \"Tiền trả phải ít hơn nợ\")\n        .moreThan(0, \"Tiền trả phải lớn hơn 0\"),\n    }),\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  const handleSubmit = async () => {\n    handleClose();\n    try {\n      const response = await editApiCall(store_uuid, branch_uuid, props.uuid, {\n        paid_amount: Number(formik.values.pay) + props.paid,\n        status: formik.values.pay === props.debt ? \"closed\" : \"debt\",\n      });\n      dispatch(statusAction.successfulStatus(\"Trả thêm tiền thành công\"));\n      props.onReload();\n\n      reloadDetail();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Trả thêm tiền thất bại\"));\n    }\n  };\n  return (\n    <ModalWrapper open={open} handleClose={handleClose} title=\"Trả thêm\">\n      {props.title}\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 400, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Đã trả</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.paid} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn nợ</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.debt} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Trả lần này</Typography>\n        </Grid>\n        <Grid item xs={9}>\n          <VNDInput\n            name=\"pay\"\n            size=\"small\"\n            label=\"Số tiền muốn trả\"\n            value={formik.values.pay}\n            error={formik.errors.pay && formik.touched.pay}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            helperText={formik.touched.pay ? formik.errors.pay : null}\n          />\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn lại</Typography>\n        </Grid>\n        <Grid item xs={4}>\n          <Typography variant=\"h5\">\n            {\" \"}\n            <VNDFormat value={props.debt - formik.values.pay} />\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleClose}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n              onClick={handleSubmit}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default PayRemaining;\n","export default __webpack_public_path__ + \"static/media/empty-cart.f70a0162.png\";","import React from 'react'\nimport {\n\n    DialogContent,\n    DialogTitle,\n    Typography,\n\n    Dialog,\n  } from \"@material-ui/core\";\nconst DialogWrapper = (props) => {\n\n    const {handleClose, title,open} = props\n  return (\n    <Dialog  open={open} onClose={handleClose} maxWidth={'md'} >\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography style={{paddingTop: '24px', marginTop:-15, marginBottom:-10, }}  variant=\"h2\">\n         {title}\n        </Typography>\n\n      </DialogTitle>\n\n      <DialogContent>\n          {props.children}\n      </DialogContent>\n    \n    </Dialog>\n  )\n}\n\nexport default DialogWrapper","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n  ListItem\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport setting from \"../../../../assets/constant/setting\"\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nfunction InvoiceReturnSummary({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  console.log(\"dataaaaa\",data)\n\n  useEffect(() => {}, [data]);\n\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 10 }}>\n              Trả hoá đơn\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.customer.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\">\n            {/* Số lượng sản phẩm trả */}\n            Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})\n          </Typography>\n          <Typography variant=\"body2\">\n          <Input.ThousandFormat value={calculateTotalReturnQuantity(data.details)} />\n          </Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"> <Input.VNDFormat value={data.order_total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        {store_setting?.customerScore.status && data.customer.name !== \"Khách lẻ\"? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tích điểm</Typography>\n              <Typography variant=\"body2\">\n                <ListItem style={{padding:0, margin:0}}>\n                <Input.ThousandFormat\n                  // style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={-data.scores}\n                />\n               {data.customer?.points? <Typography>/{data.customer.points}</Typography> : null} \n               </ListItem>\n              </Typography>\n            </Grid>:null}\n\n\n        {/*\n                <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Phí trả hàng\n                    </Typography>\n                    <Input.ThousandSeperatedInput id=\"standard-basic\" style={{width:90 }} size=\"small\" inputProps={{style: { textAlign: \"right\" }}}  />\n                </Grid> */}\n\n        {/* <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Tổng đơn trả\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        400.000\n                    </Typography>\n                </Grid> */}\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Đã trả khách</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        \n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng\n        </Button>\n      </Grid>\n    </Box>\n  );\n}\n\nexport default InvoiceReturnSummary;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3aAAAN2gFLGPbrAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAEJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhihLswAAABV0Uk5TAAUGCxEWGxwgISg8SF5weZCbtrjYjtqLCgAAA55JREFUeNrt1FFPglAYgGFBHAL9/9/ZWrOMhG7CtnP26WFqF/U8V+3jg8Ps1c0GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4rKrPRoflUpdOfix3zW/Xj6j333+cjvFrdOlkHMPlbZvulExyu106+fgMl9ttOjme7rzTVeml92nF++R39fHkrBnCANohDmBYEcB+WZ7iANrsNcbncLnr0p2SSW7IAmhewuWnOgv79c47QxX+L0reJ79ruDA5n/5PfukICEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAB4qCa+NM3xteXSVHDEXLCcnzUXPHBeM7nwnJJDp+r68o07U33T++R3zQXPqfpsdPC1+LN6HwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPy6L03NV0bW8W9jAAAAAElFTkSuQmCC\"","import {\n  Button,\n  FormControl,\n  Grid,\n  InputLabel,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\"\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport { TreeSelect } from 'antd';\n\n\nconst AddCategory = (props) => {\n  const [categoryList, setCategoryList] = useState([]);\n  const [categoryInfo, setCategoryInfo] = useState({\n    name: \"\",\n    parent_category_uuid: \"\",\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  useEffect(() => {\n    const fetchAllCategory = async () => {\n      try {\n        const response = await productApi.getAllCategory(store_uuid);\n        const response_1 = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response_1.data);\n      } catch (error) { }\n    };\n    fetchAllCategory();\n  }, [props.reset]);\n\n\n\n  const dispatch = useDispatch();\n  const handleAddCategory = async () => {\n    handleCloseAndReset()\n    try {\n      const response = await productApi.addCategory(store_uuid, categoryInfo);\n      props.onReset()\n      dispatch(statusAction.successfulStatus(\"Tạo danh mục thành công\"));\n\n\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo danh mục thất bại\"));\n    }\n  };\n  const handleCloseAndReset = () => {\n    props.handleClose()\n    setCategoryInfo({\n      name: \"\",\n      parent_category_uuid: \"\",\n    })\n  }\n  console.log(\"categoryInfo\",categoryInfo)\n  return (\n    <ModalWrapper {...props}>\n      <Typography variant=\"h4\" gutterBottom>\n        Thêm danh mục mới\n      </Typography>\n      <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Tên danh mục\"\n            variant=\"outlined\"\n            size=\"small\"\n            required\n            fullWidth\n            onChange={(e) =>\n              setCategoryInfo({ ...categoryInfo, name: e.target.value })\n            }\n          />\n        </Grid>\n        <Grid item xs={12}>\n          {/* <FormControl size=\"small\" variant=\"outlined\" fullWidth>\n            <InputLabel htmlFor=\"category\">Danh mục cha</InputLabel>\n            <Select\n              native\n              label=\"Danh mục cha\"\n              id=\"category\"\n              value={categoryInfo.uuid}\n              onChange={(e) =>\n                setCategoryInfo({\n                  ...categoryInfo,\n                  parent_category_uuid: e.target.value,\n                })\n              }\n            >\n              <option aria-label=\"None\" value=\"\" />\n              <CategorySelect categoryList={categoryList}/>\n              \n            </Select>\n          </FormControl> */}\n            <TreeSelect\n            placeholder=\"Danh mục cha\"\n                  id=\"category\"\n                  name=\"category\"  \n                  style={{ width: '100%'}}   \n                  dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                  treeData={categoryList}\n                  value={categoryInfo.uuid}\n                  onChange={(val)=>\n                    setCategoryInfo({\n                    ...categoryInfo,\n                    parent_category_uuid: val,\n                  })}\n                  treeDefaultExpandAll\n                  \n                />\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          {\" \"}\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            style={{ marginRight: 20 }}\n            onClick={props.handleClose}\n            size=\"small\"\n          >\n            Hủy\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"small\"\n            onClick={handleAddCategory}\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default AddCategory;\n\n","import React, {useState,useEffect} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\"\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {getAllProductInCategoryParent} from \"../../../../utils\"\nimport { ThousandSeperatedInput } from '../../../../components/TextField/NumberFormatCustom';\nimport productApi from \"../../../../api/productApi\";\nimport {useSelector,useDispatch} from 'react-redux'\nimport openNotification from \"../../../../components/StatusPopup/StatusPopup\";\nimport { success ,error,warning, info} from '../../../../components/StatusModal/StatusModal';\n\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst DiscountPopup = ({open,onClose,title,filteredPromotion,handleUpdateSelectedPromotion,selectedPromotion,listGiftItem,totalCartAmount,handleUpdateBestDetailSelectedPromotion,products}) => {\n    console.log(\"selectedPromotion\",filteredPromotion)\n    const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [value, setValue] = React.useState(selectedPromotion?selectedPromotion.id.toString():null);\n  console.log(\"value\",value)\n  console.log(\"selectedPromotionselectedPromotion\",selectedPromotion)\n  const [promotion, setPromotion] =  React.useState(selectedPromotion? selectedPromotion:null);\n//   const [check, setCheck] =  React.useState(selectedPromotion?selectedPromotion.listGiftItem:[]);\n\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:selectedPromotion.listGiftItem}:{idPro:null, detail:[]});\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:listGiftItem?listGiftItem:[]}:{idPro:null, detail:[]});\nconst [check, setCheck] =  React.useState({idPro:null, detail:[]});\nconst [openPopUpWarning, setOpenPopUpWarning]=  React.useState(false);\n\n// selectedPromotion.listGiftItem\n  function getColorSelected (selectedData,itemUuid  ){\n    if(!selectedData){return}\n    return selectedData.some(function(e) {return e.uuid.includes(itemUuid); }) ?  theme.customization.primaryColor[50]:null \n  }\n  const handleChange = (promotion) => {\n\n    if(Number(promotion.id) === Number(value)){\n        setValue(null);\n        setPromotion(null)\n    }else{\n        setValue(promotion.id.toString());\n        setPromotion(promotion)\n    }\n  };\n\n  console.log(\"check\",check)\n  const getBestDetailSelectedCondition = (promotion) =>{\n    if(promotion){\n        let bestDetailSelectedCondition = promotion?.detailCondition?.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n        bestDetailSelectedCondition =bestDetailSelectedCondition? bestDetailSelectedCondition.filter(item => item !== null)[0]:null\n        return bestDetailSelectedCondition\n    }\n  }\n  const [categoryList,setCategoryList] = useState(null)\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n  const branch_uuid = info.branch.uuid;\n\n  const [quantityWarn, setQuantityWarn] = useState(false)\n\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        console.log(\"response.data\",response.data)\n\n        // productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, []);\n\n  const getListItem = (bestDetailSelectedCondition) => {\n    if(!bestDetailSelectedCondition.isGiftCategory){\n        return bestDetailSelectedCondition.listGiftItem\n    }else{\n        return getAllProductInCategoryParent(products,categoryList,bestDetailSelectedCondition.listGiftCategory[0])\n    }\n  \n  }\n  const handleCheck = (value, idPro) =>{\n    // console.log(\"valuevaluevaluevaluevalue\",value)\n    if(idPro !== promotion.id){\n        return setOpenPopUpWarning(true)\n    }else{\n        // openNotification('warning', 'Chọn chương trình khuyến mãi trước khi chọn sản phẩm', '')\n        // warning(\"Chọn chương trình khuyến mãi trước khi chọn sản\");\n        \n        // setCheck({idPro:idPro, detail:value.value.map((item ) => {return {...item, quantity:1}})})\n        // \n        setCheck({idPro:idPro, detail:value?.map((item)=> {return {...item, quantity:1}})})\n\n    }\n    // setCheck({idPro:idPro, detail:value.map((item)=> {return {...item, quantity:1}})})\n    // return setCheck({idPro:idPro, detail:value.map((item)=> {return {...item, quantity:1}})})\n  }\n\n  console.log(\"valuevaluevaluevaluecheck\",check)\n  useEffect(()=>{\n    setCheck({idPro:null, detail:[]})\n    setOpenPopUpWarning(false)\n  }, [promotion])\n  useEffect(()=>{\n    setQuantityWarn(false)\n  },[check])\n\n  const handleChangeGiftQuantity = (idPro,product, newQuantity) => {\n    const itemIndex = check.detail.findIndex(\n        (item) => item.uuid === product.uuid\n      );\n      const newCheck = {...check};\n      newCheck.detail[itemIndex].quantity = newQuantity;\n      console.log(\"newCheck\",newCheck)\n      setCheck(newCheck)\n  }\n  const handleApplyPromotion  = () =>{\n    console.log(\"check\",check.detail.reduce((sum,item) => sum + Number(item.quantity)  ,0))\n    \n    let bestCondition = promotion?.detailCondition?.map((promotion) =>{if (Number(totalCartAmount) >= Number(promotion.totalCost)) {return promotion}else{return null}})\n    bestCondition =bestCondition?.filter(item => item !== null)[0]\n    let bestDetailSelectedCondition = getBestDetailSelectedCondition(promotion)\n    if(bestDetailSelectedCondition?.numberGiftItem < check?.detail?.reduce((sum,item) => sum + Number(item.quantity),0)){\n        setQuantityWarn(true)\n        return \n    }\n    handleUpdateBestDetailSelectedPromotion(getBestDetailSelectedCondition(promotion));\n    handleUpdateSelectedPromotion(promotion, check);\n    onClose()\n  }\n\n    return (\n        // <Dialog open={open} handleClose={onClose} title={title}>\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"md\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            {title}\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n\n                <Grid  container direction=\"row\" justifyContent=\"\" style={{marginBottom:8}}>\n                    <Grid item style={{width:10,marginRight:30}} >                      \n                    </Grid>\n                    <Grid item style={{width:250,marginRight:30}} >\n                        <Typography className={clsx(classes.text,classes.weight)} >Chương trình khuyến mãi</Typography>\n                    </Grid>\n                    <Grid item style={{width:250, marginRight:30}}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Hình thức khuyến mãi</Typography>\n                    </Grid>\n                </Grid>\n                <Divider style={{marginBottom:8}} />\n                {/* // */}\n                {openPopUpWarning?<Typography style={{color:'red', fontWeight:500, }}>Chọn chương trình khuyến mãi trước khi chọn sản phẩm</Typography>:null}\n                {quantityWarn?<Typography style={{color:'red', fontWeight:500, }}>Số lượng sản phẩm chọn lớn hơn số lượng cho phép tặng</Typography>:null}\n\n                <FormControl component=\"fieldset\">\n                    <RadioGroup value={value} >\n                        {filteredPromotion?.map((pro) => {\n                            let bestCondition = pro.detailCondition.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n                            bestCondition =bestCondition.filter(item => item !== null)[0]\n                            let bestDetailSelectedCondition = getBestDetailSelectedCondition(pro)\n                            return (\n                                <Grid  key={pro.id} container direction=\"row\" justifyContent=\"\">\n                                        <Grid item style={{width:10,marginRight:30}} >\n                                            <FormControlLabel value={pro.id.toString()} control={<Radio  size=\"small\" onClick={()=>handleChange(pro)}/>}  />\n                                            {/* <FormControlLabel value={promotion} control={<Radio  size=\"small\" onClick={()=>handleChange(promotion)}/>}  /> */}\n\n                                        </Grid>\n                                        <Grid item style={{width:250,marginRight:30,marginTop:10, color:\"#383737\"}} >\n                                            <Typography >{pro.name}</Typography>\n                                        </Grid>\n                                        <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                            <Typography  >{pro.discountKey ===\"invoice\" ? \"Hoá đơn\" : \"Sản phẩm\"} - {getDiscountType(pro.discountKey,pro.discountType)}</Typography>\n                                            <Typography  style={{fontSize:12}}>{pro.discountType ===\"sendGift\" ? `(${bestDetailSelectedCondition.numberGiftItem} sản phẩm)`:null }</Typography>\n                                        </Grid>\n                                        {pro.discountType ===\"discountInvoice\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                <Typography  >Giảm giá <b style={{color:'#00b3ff', fontWeight:600}}>{bestDetailSelectedCondition.discountValue.toLocaleString()} {bestDetailSelectedCondition.type}</b> {\"\\u00a0\\u00a0\"}(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ) </Typography>\n                                            </Grid>\n                                        :null }\n                                         {pro.discountType ===\"sendGift\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                {Number(bestDetailSelectedCondition.numberGiftItem) === 1 &&  !bestDetailSelectedCondition.isGiftCategory && bestDetailSelectedCondition.listGiftItem.length === 1 ? \n                                                    <Typography><b > Tặng sản phẩm </b> <b style={{color:'#00b3ff', fontWeight:500}}>{bestDetailSelectedCondition.listGiftItem[0].product_code}-{bestDetailSelectedCondition.listGiftItem[0].name}</b></Typography>\n                                                    :\n                                                    <>\n                                                    <Typography style={{marginBottom:5}}><b > Tặng sản phẩm </b> </Typography>\n                                                    <Select multiple  variant=\"outlined\" fullWidth   id=\"branches\"  name=\"branches\" size=\"small\"\n                                                        value={check.detail}\n                                                        onChange={(e)=>handleCheck(e.target.value,pro.id)}\n                                                    \n                                                        renderValue={(selected) => \n                                                            selected?.map((item) => {\n                                                                return getListItem(bestDetailSelectedCondition).find( (product) => product.uuid === item.uuid)?.name;\n                                                            }).join(\", \")\n                                                        }\n                                                        placeholder=\"Sản phẩm\"\n                                                        style={{width:200, marginLeft:20, height:50}}\n                                                            >\n                                                            {getListItem(bestDetailSelectedCondition)?.map((item) => (\n                                                                <MenuItem key={item.uuid} value={item} \n                                                                style={{backgroundColor:getColorSelected(check.detail, item.uuid) }} \n                                                                > \n                                                                <Grid container justifyContent='space-between'>\n                                                                    {item.name}\n                                                                    {getColorSelected(check.detail, item.uuid)? <CheckIcon color='primary'/> :null}\n                                                                </Grid >\n                                                                </MenuItem>\n                                                            ))}\n                                                    </Select>\n                                                    { check.idPro === pro.id ?\n                                                     check.detail.map((item)=>{\n                                                        return (\n                                                            <ListItem>\n                                                                <Typography>{item.product_code} - {item.name}</Typography>\n                                                                <ThousandSeperatedInput value={item.quantity} onChange={(e)=>handleChangeGiftQuantity(pro.id,item,e.target.value)}/>\n                                                            </ListItem>\n                                                        )\n                                                    }) :null }\n                                      \n                                                    \n                                                    </>\n                                                }\n                                             \n                                                <Typography  >(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ )</Typography>\n\n                                               \n                                            </Grid>\n                                        :null }\n                                    </Grid>      \n                            )})}\n                    <Divider />\n                </RadioGroup>\n            </FormControl> \n            </DialogContent>\n            \n            <DialogActions>\n        <Button\n          onClick={onClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          onClick={()=>{handleApplyPromotion()}}\n        >\n          Áp dụng\n        </Button>\n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default DiscountPopup\n\nfunction getDiscountType (discountKey, discountType){\n\n    if(discountKey === \"invoice\"){\n        if(discountType ===\"sendGift\"){return \"Tặng hàng\"}\n        else if (discountType ===\"sendVoucher\"){ return \"Tặng voucher\"}\n        else{ return \"Giảm giá hoá đơn\"}\n    }else{\n        if(discountType ===\"sendGift\"){return \"Mua hàng tặng hàng\"}\n        else{return \"Giá bán theo số lượng mua\"}\n    }\n}","export default __webpack_public_path__ + \"static/media/giftbox.a742d657.png\";","import {\n  Box,\n  Button,\n  Grid,\n  TextField,\n  Typography,\n  Select,\n  MenuItem,\n  Chip,\n  InputLabel,\n  FormControl,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport VNDInput, {\n  VNDFormat,\n} from \"../../../../../components/TextField/NumberFormatCustom\";\nimport ModalWrapper from \"../../../../../components/Modal/ModalWrapper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport orderApi from \"../../../../../api/orderApi\";\nimport openNotification from \"../../../../../components/StatusPopup/StatusPopup\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst OrderModal = ({ handleClose, customerOrder, isOpen }) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branch = info.branch;\n  const dispatch = useDispatch();\n\n  const [inventoryInfo, setInventoryInfo] = useState([]);\n\n  const [order, setOrder] = useState({});\n\n  useEffect(async () => {\n    try {\n      if (store_uuid && branch_uuid) {\n        const res = await orderApi.processCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          customerOrder.id\n        );\n\n        const inventoryInfo = res.data;\n        const details = JSON.parse(\n          customerOrder.details ? customerOrder.details : \"[]\"\n        )?.map((detail) => ({\n          orderredQuantity: detail.quantity,\n          branchInventory: getBranchInventory(detail.id, inventoryInfo),\n          batches: getBatches(detail.id, inventoryInfo),\n          selectedBatches: [],\n          name: detail.name,\n          product_code: detail.product_code,\n          unit_price: detail.list_price,\n          id: detail.id,\n          uuid: detail.uuid,\n          discount: 0,\n          has_batches: detail.has_batches,\n          quantity: detail.has_batches\n            ? 0\n            : Math.min(\n                detail.quantity,\n                getBranchInventory(detail.id, inventoryInfo)\n              ),\n        }));\n\n        const newOrder = {\n          new_customer: {\n            name: customerOrder.name,\n            phone: customerOrder.phone,\n            address: customerOrder.address,\n            ward: customerOrder.ward,\n            province: customerOrder.province,\n            district: customerOrder.district,\n          },\n          details: details,\n          discount: 0,\n          description: \"\",\n          total_amount: _.sumBy(\n            details,\n            (detail) => detail.quantity * detail.unit_price\n          ),\n          status: \"debt\",\n        };\n\n        setOrder(newOrder);\n      }\n    } catch (err) {\n      console.log(err);\n      openNotification(\"error\", \"Không thể lấy dữ liệu tồn kho\");\n    }\n  }, []);\n\n  const handleConfirm = async () => {\n    let d = moment.now() / 1000;\n    let orderTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n    let body = {\n      ...order,\n      discount: order.discount.toString(),\n      paid_amount: 0,\n      payment_method: \"cash\",\n      creation_date: orderTime,\n      paid_date: \"\",\n      tax: \"0\",\n      shipping: \"0\",\n      is_customer_order: true,\n      new_customer: JSON.stringify(order.new_customer),\n    };\n\n    try {\n      \n      handleClose();\n      let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n      let updateCustomerOrderRes = await orderApi.confirmCustomerOrder(\n        store_uuid,\n        branch.uuid,\n        customerOrder.id,\n        {\n          order_code: res.data.order.order_code,\n          order_id: res.data.order.id,\n        }\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Tạo hóa đơn thành công ${res.data.order.order_code}`\n        )\n      );\n    } catch (err) {\n      dispatch(statusAction.failedStatus(`Tạo hóa đơn thất bại`));\n      console.log(err);\n    }\n  };\n  const getBranchInventory = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    const branchInventory = product?.branch_inventories.find(\n      (branchInventory) => branchInventory.branch_id === branch.id\n    );\n    return branchInventory?.quantity_available;\n  };\n\n  const getBatches = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    return product?.batches;\n  };\n\n  const handleSelectBatch = (e, detailIndex) => {\n    const batch = e.target.value;\n    if (\n      order.details[detailIndex].selectedBatches.find(\n        (selectedBatch) => selectedBatch.batch_code === batch.batch_code\n      )\n    ) {\n      return;\n    }\n    const newSelectedBatches = [...order.details[detailIndex].selectedBatches];\n    newSelectedBatches.push({ ...batch, additional_quantity: 0 });\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches = newSelectedBatches;\n    setOrder(newOrder);\n  };\n\n  const handleChangeBatchQuantity = (e, detailIndex, selectedBatchIndex) => {\n    const value = Number(e.target.value);\n    if (\n      value >\n        order.details[detailIndex].selectedBatches[selectedBatchIndex]\n          .quantity ||\n      value < 0\n    ) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches[\n      selectedBatchIndex\n    ].additional_quantity = value;\n    newOrder.details[detailIndex].quantity = _.sumBy(\n      newOrder.details[detailIndex].selectedBatches,\n      \"additional_quantity\"\n    );\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const handleChangeDetailQuantity = (e, detailIndex) => {\n    const value = Number(e.target.value);\n    if (value > order.details[detailIndex].branchInventory || value < 0) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].quantity = value;\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const renderQuantityInput = (detail, detailIndex) => {\n    if (detail?.has_batches) {\n      return (\n        <>\n          <Typography>Tổng: {detail.quantity}</Typography>\n          <FormControl variant=\"standard\">\n            <InputLabel id=\"batch-label\">Lô</InputLabel>\n            <Select\n              labelId=\"batch-label\"\n              autoWidth\n              labelWidth={100}\n              fullWidth\n              onChange={(e) => handleSelectBatch(e, detailIndex)}\n            >\n              {detail.batches.map((batch) => (\n                <MenuItem value={batch} key={batch.code}>{`${\n                  batch.batch_code\n                }(${batch.expiry_date ? batch.expiry_date : \"\"})-${\n                  batch.quantity\n                }`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {detail.selectedBatches.map((batch, selectedBatchIndex) => (\n            <div\n              style={{\n                marginTop: 5,\n                marginBottom: 5,\n                display: \"flex\",\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                gap: 5,\n                backgroundColor: \"#eee\",\n              }}\n            >\n              <Typography>{`${batch.batch_code}${\n                batch.expiry_date ? \"(\" + batch.expiry_date + \")\" : \"\"\n              }`}</Typography>\n              <TextField\n                type=\"number\"\n                size=\"small\"\n                style={{ width: 30 }}\n                value={batch.additional_quantity}\n                onChange={(e) =>\n                  handleChangeBatchQuantity(e, detailIndex, selectedBatchIndex)\n                }\n              />\n              <Typography>{`/${batch.quantity}`}</Typography>\n            </div>\n          ))}\n        </>\n      );\n    } else {\n      return (\n        <TextField\n          type=\"number\"\n          size=\"small\"\n          style={{ width: 30 }}\n          value={Math.min(detail.quantity, detail.branchInventory)}\n          onChange={(e) => handleChangeDetailQuantity(e, detailIndex)}\n        />\n      );\n    }\n  };\n\n  const isOrderEmpty = () => {\n    return order.details?.every((detail) => detail.quantity === 0);\n  };\n\n  const handleCancelOrder = async () => {\n    handleClose();\n    try {\n      const res = await orderApi.cancleCustomerOrder(store_uuid, branch_uuid, customerOrder.id);\n      dispatch(statusAction.successfulStatus(\"Hủy đơn đặt thành công\"));\n    } catch (err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Hủy đơn đặt thất bại\"))\n    }\n  }\n\n  return (\n    <ModalWrapperWithClose open={isOpen} handleClose={handleClose} title=\"Đơn đặt\">\n      <Typography variant=\"h3\">{customerOrder.customer_order_code}</Typography>\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 800, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={12} container spacing={2}>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Typography>Tên khách: {customerOrder.name}</Typography>\n              <Typography>Số điện thoại: {customerOrder.phone}</Typography>\n              <Typography>Địa chỉ: {customerOrder.address}</Typography>\n            </Box>\n          </Grid>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tạm tính</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Giảm giá</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                  onChange={(e) =>\n                    setOrder({ ...order, discount: Number(e.target.value) })\n                  }\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tổng hóa đơn</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount - order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n        <TableContainer component={Paper}>\n          <Table aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell align=\"right\">Sản phẩm</TableCell>\n                <TableCell align=\"right\">SL đặt</TableCell>\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">SL bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                <TableCell align=\"right\">Trạng thái</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {order.details?.map((detail, detailIndex) => (\n                <TableRow key={detail.product_code}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell align=\"right\">{detail.name}</TableCell>\n                  <TableCell align=\"right\">{detail.orderredQuantity}</TableCell>\n                  <TableCell align=\"right\">{detail.branchInventory}</TableCell>\n                  <TableCell align=\"right\">{detail.unit_price}</TableCell>\n                  <TableCell align=\"right\">\n                    {renderQuantityInput(detail, detailIndex)}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <VNDFormat value={detail.quantity * detail.unit_price} />{\" \"}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {detail.quantity < detail.orderredQuantity ? (\n                      <Typography style={{ color: \"red\" }}>Không đủ</Typography>\n                    ) : (\n                      <Typography style={{ color: \"green\" }}>Đủ</Typography>\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleCancelOrder}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              onClick={handleConfirm}\n              disabled={isOrderEmpty()}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapperWithClose>\n  );\n};\n\nexport default OrderModal;\n","import React, {useState, useEffect} from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport { VNDFormat,ThousandFormat } from '../../../../../components/TextField/NumberFormatCustom';\n\nimport { grey} from '@material-ui/core/colors'\nimport OrderModal from './OrderModal';\nimport orderApi from '../../../../../api/orderApi';\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport moment from 'moment';\nimport { useDispatch, useSelector } from 'react-redux';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nconst getOrderStatus = (status) =>{\n  if(status === \"new\") {return \"Chờ chấp nhận\"}\n  if(status===\"cancelled\") {return \"Đã hủy\"}\n  if(status===\"confirmed\") {return \"Chờ giao\"}\n  if(status===\"paid\") {return \"Hoàn thành\"}\n}\nconst OrderProductListDetail = (props) => {\n    const {row,openRow, reload }= props.parentProps;\n    const {isMini}= props.parentProps;\n\n    const [isOrderModalOpen, setIsOrderModalOpen] = useState(false);\n\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branch = info.branch;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n\n    const handleCloseReturn = () => {\n      setOpen(false);\n    };\n\n    const dispatch = useDispatch();\n\n    const handlePayment = async () => {\n      let d = moment.now() / 1000;\n      let paid_date = moment\n        .unix(d)\n        .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n      try {\n        const res = await orderApi.paymentCustomerOrder(store_uuid, branch_uuid, row.id , {paid_date: paid_date})\n        reload();\n        dispatch(statusAction.successfulStatus('Thanh toán thành công'))\n      }catch(err) {\n        console.log(err);\n        dispatch(statusAction.failedStatus('Thanh toán thất bại'))\n      }\n    }\n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse in={openRow === row.id} timeout=\"auto\" unmountOnExit>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn đặt\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.customer_order_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày đặt{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tên khách\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.name}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Số điện thoại\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.phone}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                 { getOrderStatus(row.status)}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Địa chỉ{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.address}{`, `}{row.ward} {`, `}{row.district}{`, `}{row.city}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={6} sm={6} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>    \n                        </Grid>\n                        <Grid item  sm={4} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.branch} </Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                <TableCell align=\"right\">Số lượng</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                {/* <TableCell align=\"right\">Đã nhập</TableCell>\n                     <TableCell align=\"right\">Trạng thái</TableCell> */}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {JSON.parse(row.details ? row.details : \"[]\").map(\n                (historyRow) => (\n                  <TableRow key={historyRow.product_id}>\n                    <TableCell component=\"th\" scope=\"row\">\n                      {historyRow.product_code}\n                    </TableCell>\n                    <TableCell>{historyRow.name}</TableCell>\n                    <TableCell align=\"right\">\n                      <ThousandFormat value={historyRow.quantity} />\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <VNDFormat value={historyRow.list_price} />\n                    </TableCell>\n                    <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                      <VNDFormat\n                        value={historyRow.quantity * historyRow.list_price}\n                      />\n                    </TableCell>\n                    {/* <TableCell align=\"right\"><ThousandFormat value={0} /></TableCell>\n                       <TableCell align=\"right\">Đã nhập đủ</TableCell> */}\n                  </TableRow>\n                )\n              )}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={JSON.parse(row.details).} /> </Typography>\n                        </Grid>\n                    </Grid> */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng số mặt hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={\n                        JSON.parse(row.details ? row.details : \"[]\").length\n                      }\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Giảm giá\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Cần thu\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount - row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số mặt hàng đã nhập đủ</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">2/4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n              {/* \n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả NCC</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Box>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n            {currentUser === row.employee ? (\n              <>\n                {\" \"}\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Xoá\n                </Button>{\" \"}\n              </>\n            ) : null}\n\n            <Button disabled={row.status !== 'new'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => setIsOrderModalOpen(true)}>\n              Xử lý đơn đặt\n            </Button>\n            \n            <Button disabled={row.status !== 'confirmed'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={handlePayment}>\n              Thanh toán\n            </Button>\n\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn đặt\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid>\n\n          {isOrderModalOpen && <OrderModal customerOrder={row} handleClose={() => {setIsOrderModalOpen(false); reload()}} isOpen={isOrderModalOpen}/>}\n\n          <Dialog\n            fullWidth={true}\n            maxWidth=\"lg\"\n            open={open}\n            onClose={handleCloseReturn}\n            aria-labelledby=\"form-dialog-title\"\n          >\n            <InventoryReturnPopUp\n              handleCloseReturn={handleCloseReturn}\n              row={row}\n              classes={classes}\n            />\n          </Dialog>\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default OrderProductListDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\n\n//import library\nimport {Box,Grid,Collapse,Divider,ListItem,Typography,Button,ListItemIcon,ListItemText,IconButton,Table,  TableRow, TableCell, TableHead, TableBody} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\nimport clsx from \"clsx\"\nimport { ThousandFormat, VNDFormat } from '../../../../../../components/TextField/NumberFormatCustom';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  weight: {\n    fontWeight: 500,\n    color: \"#000\",\n    fontSize: 14,\n  },\n  tag:{\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 24,\n    margin: 2,\n    lineHeight: 22,\n    backgroundColor: \"#fafafa\",\n    border: \"1px solid #e8e8e8\",\n    borderRadius: 2,\n    boxSizing: \"contentBox\",\n    padding: \"0 4px 0 10px\",\n    outline: 0,\n    \n  },\n  span:{\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst DiscountDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n    const {promotion_condition,dateAdvanceSetting,type,isMini} = props;\n\n    const rowsInvoice  = props.promotion_condition;\n    console.log(\"rowsInvoice\",props.promotion_condition)\n    // const rowsInvoice = props.promotion_condition;\n\n    \n    // const discountKey= promotion_condition?.discountKey;// invoice, product\n    // const discountType = promotion_condition?.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n    const discountKey= row.discountKey;// invoice, product\n    const discountType = row.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n\n    // CALL APII (đổi thanhd api)\n\n\n\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const isActive =  (startDay, endDay) =>{\n      const current   = new Date() \n      // return (startDay !== \"0000-00-00\" ?new Date(startDay) <= current : true) && ( endDay !== \"0000-00-00\" ?current <= new Date(endDay) :true)\n      return (startDay   ?new Date(startDay) <= current : true) && ( endDay  ?current <= new Date(endDay) :true)\n\n    }\n    return (\n        <Collapse in={ isMini ? true :openRow === row.id } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={12} sm={6}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.promotion_code} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={4} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Hình thức</Typography>    \n                          </Grid>\n                          <Grid item  >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{type}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n\n\n                <Grid item xs={12} sm={6}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status ==='active' && isActive(row.start_date,row.end_date)? \"Hoạt động\" : 'Chưa hoạt động' }</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                      \n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.start_date ? `Từ ${row.start_date?.split('-').reverse().join('/')}` : null}  {row.end_date ? `-  Đến ${row.end_date?.split('-').reverse().join('/')}` :\"(Không giới hạn)\"}</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                      \n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Áp dụng</Typography>    \n                        </Grid>\n                        <Grid item >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.times} lần</Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                      \n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền</Typography>    \n                        </Grid>\n                        <Grid item >\n                        <VNDFormat value={row.totalAmount} />\n                        </Grid>\n                    </Grid>\n\n                    {/* Thay TRUE thành nếu list theo thứ ngày tháng,.. ko empty thì show */}\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo tháng</Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byMonth?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo ngày</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDay?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4}>\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo thứ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDate?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo giờ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byTime?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {row.customer_birth?\n                      <Typography style={{fontWeight:500, color:\"red\"}}> * Áp dụng vào ngày sinh nhật của khách hàng *</Typography> : null\n                    }\n                    \n                  </Grid>\n               \n              </Grid>\n          \n          \n          \n          {/* Header */}\n         <div style={{backgroundColor:theme.customization.primaryColor[50], height:35, marginTop:20,paddingTop:10, paddingLeft:15, marginLeft:10, marginRight:10}}>\n          <Grid  container direction=\"row\" justifyContent=\"\">\n              {/* col 1 */}\n              {discountKey ===\"invoice\"?\n              <Grid item style={{width:150, marginRight:30}}>\n                <Typography className={clsx(classes.text,classes.weight)} >Tổng tiền hàng</Typography>\n              </Grid>:null\n              }\n              {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType==\"priceByQuantity\" ?\n              <>\n              <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL mua</Typography>\n              </Grid>\n              <Grid item style={{ marginRight:190}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng mua</Typography>\n              </Grid>\n               </>:null\n              }\n               { discountType ===\"discountInvoice\"?\n                  <Grid item >\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Giá trị khuyến mãi</Typography>\n                </Grid>:null\n                }\n                {['sendGift','sendVoucher'].includes(discountType) ?\n                  <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL tặng</Typography>\n              </Grid>:null\n                }\n                {discountType ===\"sendGift\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng tặng</Typography>\n                    </Grid> :null\n               }\n               {discountType ===\"sendVoucher\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Voucher</Typography>\n                    </Grid> :null\n               }\n            </Grid>\n          </div>\n\n          {rowsInvoice?.map((discountRow, index) => {\n              return (\n                  <>\n                  <div style={{paddingLeft:15, marginLeft:10, marginRight:10}}>\n                  <Grid container direction=\"row\" justifyContent=\"\">\n                      {/* col 1 */}\n                      {discountKey ===\"invoice\"?\n                      <Grid item  container direction=\"row\" alignItems=\"center\" style={{width:130,marginRight:52, height:40}} >\n                          <Grid item> <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> Từ </Typography> </Grid> \n                          <Grid item> <VNDFormat style={{marginRight:10, color:\"#000\", fontSize:13}} value= {discountRow.totalCost}> </VNDFormat> </Grid> \n                      </Grid>:null\n                      }\n                      {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType ==='priceByQuantity'?\n                      <>\n                      <Grid item style={{width:80,height:40, marginTop:10}} >\n                          <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> {discountRow.numberBuyItem} </Typography> \n                      </Grid>\n                      <Grid item style={{ marginTop:6, width:360,}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listBuyItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name} </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                            \n                        </Grid> \n                      </>\n                      :null }\n                      {\n                        discountType ==='priceByQuantity'? \n                        <>\n                          <Grid item style={{width:70,marginRight:50, height:40, marginTop:10}} >\n                            <Typography style={{color:\"#000\", fontWeight:500,fontSize:14}}> {discountRow.typeDiscountItem === \"price\" ? \"Giá bán:\" : \"Giảm giá\"}   </Typography>\n                          </Grid>\n                        </>\n                        :null\n                      }\n                      {/* col 2 */}\n                      {discountType ===\"discountInvoice\"  || discountType ==='priceByQuantity'?\n                      <Grid item >\n                        <Grid item  container direction=\"row\" alignItems=\"center\" style={{height:40}}>\n                          <Grid item> <ThousandFormat style={{color:\"#000\", fontSize:13, marginRight:5}} value={discountRow.discountValue}>  </ThousandFormat> </Grid> \n                          <Grid item> <Typography style={{color:\"#000\", fontSize:13}}>   {discountRow.type}  </Typography> </Grid> \n                        </Grid>\n                      </Grid>\n                      :null\n                      }\n                    {/* col 3 */}\n                    {['sendGift','sendVoucher'].includes(discountType) ?\n                    <Grid item style={{width:50,marginRight:30, height:4, marginTop:10}} >\n                        <Typography style={{color:\"#000\", fontSize:13}}>{discountRow.numberGiftItem}  </Typography>\n                    </Grid>:null\n                    }\n                    {discountType ===\"sendGift\"?\n                          <Grid item style={{ marginTop:6}} >\n                              <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name}  </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid>  :null\n                    }\n                    {discountType ===\"sendVoucher\"?\n    \n                          <Grid item style={{ marginTop:10}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.name}</span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid> :null\n                    }\n                  \n                      \n                </Grid>\n                </div>\n                \n                <Divider classes={{root: classes.divider}} style={{marginLeft:10, marginRight:10}}/>\n                  </>\n\n\n            );\n          })}\n          {row.orders?.length ? <Table size=\"small\" aria-label=\"purchases\" style={{marginTop:20}}>\n            <TableHead>\n              <TableRow style={{backgroundColor:theme.customization.primaryColor[50], color: \"#000\"}}>\n                <TableCell>Mã Hóa đơn</TableCell>\n                <TableCell>Ngày bán</TableCell>\n                {/* <TableCell>Mã vạch</TableCell> */}\n                <TableCell align=\"right\">Khuyến mãi</TableCell>\n                <TableCell align=\"right\">Hóa đơn</TableCell>\n                <TableCell align=\"right\">Người tạo</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {row.orders.map((o) =>  <TableRowDetailCart detail={o} />)}\n            </TableBody>\n\n          </Table> : null}\n          \n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default DiscountDetail\n\nconst TableRowDetailCart = ({ detail }) => {\n  return (\n    <TableRow key={detail.order_id}>\n      <TableCell component=\"th\" scope=\"row\">\n        {detail.order_code}\n      </TableCell>\n      <TableCell>{detail.creation_date}</TableCell>\n      <TableCell align=\"right\">\n        <VNDFormat value={detail.promotion_value} />\n      </TableCell>\n      <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n        <VNDFormat value={detail.total_amount} />\n      </TableCell>\n      <TableCell component=\"right\" scope=\"row\">\n        {detail.created_user_name}\n      </TableCell>\n    </TableRow>\n  )\n}","import React , { useRef}from 'react';\nimport { useTheme, makeStyles, createStyles } from '@material-ui/core/styles';\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {VNDFormat,ThousandFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n// import library\nimport {\n  Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,Chip\n} from '@material-ui/core';\n\n// import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n// import project\nimport { grey } from '@material-ui/core/colors';\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton';\nimport { useSelector } from 'react-redux';\nimport refundApi from '../../../../../api/refundApi';\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) => createStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle: {\n    fontSize: '1.125rem',\n  },\n  typo: {\n    marginBottom: 20,\n  },\n  background: {\n    background: theme.customization.mode === 'Light' ? theme.customization.primaryColor[50] : grey[700],\n  },\n\n}));\n\nfunction InvoiceReturnDetail(props) {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  //  tam thoi\n  const currentUser = 'Minh Tri';\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  const [refund, setRefund] = React.useState({\n    branch: null,\n    details: []\n  })\n\n  React.useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await refundApi.getRefund(store_uuid, row.uuid);\n        setRefund(res.data);\n      } catch (error) {\n        setRefund({\n          branch: null,\n          details: []\n        });\n      }\n    }\n    if (openRow === row.uuid) {\n      loadData();\n\n    }\n  }\n  , [props.parentProps.openRow]);\n\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  console.log(\"refund\",refund)\n\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã đơn trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.refund_code}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã hoá đơn</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{refund.order?.order_code}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Ngày trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.created_at}\n                  {' '} */}\n                  {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Khách hàng</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.customer?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Người thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.created_by_user?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tình trạng</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{`Cần trả ${(row.total_amount - row.paid_amount).toString()}`}</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat value={row.total_amount} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.branch?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phương thức thanh toán</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n\n        </Grid>\n\n        <Typography variant=\"h4\" gutterBottom component=\"div\" style={{ marginTop: 30 }}>\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Ma SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n\n            </TableRow>\n          </TableHead>\n          <TableBody>\n\n            {refund.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                \n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>\n                  {detail.bar_code}\n                </TableCell> */}\n                <TableCell align=\"right\">\n                  <ThousandFormat value={detail.quantity} />\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                <VNDFormat value={detail.unit_price} />\n                </TableCell>\n               \n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box className={classes.background} style={{ padding: 10, borderRadius: theme.customization.borderRadius, marginTop: 10 }}>\n          <Grid container direction=\"column\">\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng SL sản phẩm ({refund.details?.length})</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat \n                  value={calculateTotalQuantity(refund.details)}\n                /></Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                <VNDFormat value={row.total_amount} />\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả hàng</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng đơn trả</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả khách</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.paid_amount}</Typography>\n              </Grid>\n            </Grid> */}\n\n          </Grid>\n        </Box>\n\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"}style={{ marginTop: 20 }}>\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee\n            ? (\n              <>\n                {' '}\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Sửa</Button>\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Xoá</Button>\n                {' '}\n\n              </>\n            )\n            : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n\n        </Grid>\n\n      </Box>\n\n         {/* 3. Receipt */}\n         <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={refund} date={row.created_at} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n}\n\nexport default InvoiceReturnDetail;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ImportReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\nimport {currentDate} from \"../../../../../utils\"\n//import library \nimport {\n  Dialog,\n  Tooltip,\n  Chip,\n  Card,\n  DialogContent,\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InventoryReturnPopUp from \"../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp\";\n\nimport { grey } from \"@material-ui/core/colors\";\n\n// api\nimport purchaseOrderApi from \"../../../../../api/purchaseOrderApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nconst InventoryOrderDetail = (props) => {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n  //  tam thoi\n\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = purchaseOrderApi.deletePurchaseOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa đơn nhập thành công\"));\n      props.parentProps.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa đơn nhập thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [purchaseOrder, setPurchaseOrder] = useState({\n    branch: null,\n    details: [],\n  });\n\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseOrderApi.getPurchaseOrder(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseOrder(res.data);\n      } catch (error) {\n        setPurchaseOrder({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n\n  const updateDetail = async (detail) => {\n    if(store_uuid && branch_uuid) {\n      try {\n        const response = await purchaseOrderApi.updateDetail(store_uuid, branch_uuid, {...detail, posted_to_inventory: 1, date_received: currentDate()});\n        props.parentProps.onReload();\n        setReload(!reload)\n        statusAction.successfulStatus(\"Nhập thành công\");\n      } catch(err) {\n        statusAction.failedStatus(\"Nhập thất bại\")\n      }\n    } \n  }\n\n  useEffect(() => {}, [purchaseOrder]);\n  const debtAmount =\n    Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount);\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return purchaseOrderApi.editPurchaseOrder(\n      store_uuid,\n      branch_uuid,\n      uuid,\n      body\n    );\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        reloadDetail={() => setReload(!reload)}\n        onReload={props.parentProps.onReload}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Trả nợ đơn nhập hàng <i>{row.purchase_order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={ true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date\n                    ?.split(\" \")[0]\n                    .split(\"-\")\n                    .reverse()\n                    .join(\"/\")\n                    .concat(\n                      \"\\u00a0\\u00a0\" +\n                        row.creation_date?.split(\" \")[1].substr(0, 5)\n                    )}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.created_by_user\n                    ? purchaseOrder.created_by_user.name\n                    : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={3}>\n                <Box>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {debtAmount > 0 ? \"Còn nợ \" : \"Trả đủ\"}\n                    {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat\n                    value={row.total_amount - row.discount}\n                  ></VNDFormat>{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.branch ? purchaseOrder.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Đổi trả</TableCell>\n              <TableCell align=\"right\">Giá nhập</TableCell>\n              <TableCell align=\"left\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseOrder.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat\n                    value={Number(detail.quantity) * Number(detail.unit_price)}\n                  />\n                  {!row.is_imported && !detail.posted_to_inventory ? <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{ marginLeft: 15, height: 30 }} onClick={() => updateDetail(detail)}>\n            Nhập\n          </Button>: null}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n\n\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseOrder.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseOrder.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography\n                  variant=\"body1\"\n                  gutterBottom\n                  component=\"div\"\n                  style={{\n                    fontWeight: 500,\n                    color: theme.customization.primaryColor[500],\n                  }}\n                >\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Đã trả NCC\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n          {/* {info.user?.uuid?.includes(purchaseOrder?.created_by_user?.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 15}}\n              // onClick={handleDelete}\n            >\n              Xóa đơn nhập\n          </Button> :null} */}\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n            style={{ marginLeft: 15 }}\n            onClick={handleDelete}\n          >\n            Xóa đơn nhập\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={handleClickOpen}\n            disabled={\n              Number(row.total_amount) -\n                Number(row.discount) -\n                Number(row.paid_amount) >\n              0\n            }\n          >\n            Trả hàng\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In đơn nhập\n          </Button>\n\n          {!row.is_imported ? <Button variant=\"contained\" color=\"secondary\"size=\"small\" style={{ marginLeft: 15 }} onClick={() => handlePrint()}>\n            Nhập hàng\n          </Button> : null}\n{/* \n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n\n        {/* 3. Receipt */}\n        <div style={{ display: \"none\" }}>\n          <div ref={componentRef}>\n            <ImportReceiptPrinter\n              cart={purchaseOrder}\n              date={row.creation_date}\n            />\n          </div>\n        </div>\n\n        {/* Tra hang */}\n\n        <Dialog\n          fullWidth={true}\n          maxWidth=\"lg\"\n          open={open}\n          onClose={handleCloseReturn}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <InventoryReturnPopUp\n            handleCloseReturn={handleCloseReturn}\n            purchaseOrder={purchaseOrder}\n            classes={classes}\n            reload={props.parentProps.onReload}\n            reloadDetail={() => setReload(!reload)}\n          />\n        </Dialog>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryOrderDetail;\n\nconst headCells = [\n  { id: \"stt\", numeric: false, disablePadding: true, label: \"Stt\" },\n  { id: \"id\", numeric: false, disablePadding: true, label: \"#\" },\n  { id: \"name\", numeric: false, disablePadding: true, label: \"Tên\" },\n  { id: \"price\", numeric: true, disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", numeric: true, disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", numeric: true, disablePadding: true, label: \"Thành tiền\" },\n];\n","import React, { useRef,useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n\n//import library\nimport {\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  Chip,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\n\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\nimport purchaseReturnApi from \"../../../../../api/purchaseReturnApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n  })\n);\n\nconst InventoryReturnDetail = (props) => {\n  const { row, openRow ,} = props.parentProps;\n  //  tam thoi\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [purchaseReturn, setPurchaseReturn] = useState({\n    branch: null,\n    details: [],\n  });\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseReturnApi.getPurchaseReturn(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseReturn(res.data);\n      } catch (error) {\n        setPurchaseReturn({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow]);\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  \n\n\n  return (\n    <Collapse in={props.isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã trả hàng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_return_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.purchase_order\n                    ? purchaseReturn.purchase_order.purchase_order_code\n                    : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày trả{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.supplier ? purchaseReturn.supplier.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.created_by_user\n                    ? purchaseReturn.created_by_user.name\n                    : \"\" }\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  Cần thu{\" \"}\n                  <VNDFormat value={row.total_amount - row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả </Typography>\n\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.branch ? purchaseReturn.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item   sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              {/* thêm cột giá trả */}\n              <TableCell>#</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseReturn.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                <TableCell align=\"right\">\n                  {detail.quantity}\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).filter(batch => batch.returned_quantity !== 0).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n              </Grid>\n            </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseReturn.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseReturn.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.total_amount} </Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n\n              <Grid item xs={7} sm={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n\n              </Grid>\n              <Grid item  xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}> \n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  NCC đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={3}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả hàng nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n\n       {/* 3. Receipt */}\n       <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={purchaseReturn} date={row.creation_date} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n};\n\nexport default InventoryReturnDetail;\n","import React, { useEffect } from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Tooltip, Chip, Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport {ThousandFormat, VNDFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\n\n\nimport { grey} from '@material-ui/core/colors'\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\n\nconst CheckHistoryDetail = (props) => {\n    const {row, openRow }= props.parentProps;\n    const {isMini}= props;\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    //calculate\n    const moneyDif = row.details\n    ?.map((detail) => detail.quantity * detail.unit_price)\n    .reduce((total, ele) => total + ele, 0)\n\n \n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse\n        in={isMini ? true : openRow === row.uuid}\n        timeout=\"auto\"\n        unmountOnExit\n      >\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.product_name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn kiểm\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.inventory_check_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày kiểm{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tồn kho\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    SL thực tế\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.details.sum}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    Không cân bằng\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongSLthucte - row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Chi nhánh thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.branch_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Người thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.user_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                {/* <TableCell>Mã vạch</TableCell> */}\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">SL thực tế</TableCell>\n                <TableCell align=\"right\">Lệch</TableCell>\n                <TableCell align=\"right\">Giá trị</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {row.details?.map((detail) => (\n                <TableRow key={detail.product_id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell>{detail.product_name}</TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat value={detail.branch_inventory} />\n\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              label={`${checked_batch.batch_code}-${checked_batch.quantity}`}\n                              size=\"small\"\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat\n                      value={\n                        Number(detail.branch_inventory) +\n                        Number(detail.quantity)\n                      }\n                    />\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              size=\"small\"\n                              label={`${checked_batch.batch_code}-${checked_batch.checked_quantity}`}\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <ThousandFormat value={detail.quantity} />\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <VNDFormat value={detail.quantity * detail.unit_price} />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng SL lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={row.details\n                        ?.map((detail) => detail.quantity)\n                        .reduce((total, ele) => total + ele, 0)}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tiền lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat\n                      style={{\n                        fontWeight: 700,\n                        color: moneyDif > 0 ? \"green\" : \"red\",\n                      }}\n                      value={moneyDif}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                <Grid item xs={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.total}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n          </Box>\n\n          {/* <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn nhập\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid> */}\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default CheckHistoryDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Box,Grid,Collapse,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst VoucherDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    return (\n        <Collapse in={ openRow === row.uuid } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  \n                <Grid item xs={12} sm={4}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.uuid} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Mệnh giá</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n                          </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số lượng</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n                <Grid item xs={12} sm={4}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">3.000.000</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">500.000</Typography>\n                        </Grid>\n                    </Grid>\n                    \n                  </Grid>\n               \n              </Grid>\n\n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\" } style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                            \n                           \n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default VoucherDetail\n","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n}));\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput , { ThousandSeperatedInput }from \"../../../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"../../../Category/Category\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../../../api/productApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport CategorySelect from \"../../../../../../components/Category/CategorySelect\";\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst UpdateInventory = (props) => {\n  const dispatch = useDispatch();\n  const { handleClose, open,isManageInventory } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  useEffect(()=>{\n    const displayList = JSON.parse(props.productInfo.img_urls ? props.productInfo.img_urls : \"[]\").map((img) => ({link:img,isUrl: true}))\n    setDisplay(displayList)\n  },[props.productInfo.images])\n  const addImageHandler = (e) => {\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n  };\n  const productFormik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      name: props.productInfo.name,\n      barcode: props.productInfo.bar_code ? props.productInfo.bar_code : '',\n      importedPrice: props.productInfo.standard_price || 0,\n      salesPrice: props.productInfo.list_price || 0,\n      category: props.productInfo.category.uuid || \"Mặc định\",\n      unit: props.productInfo.quantity_per_unit || '',\n      re_order_point: props.productInfo.min_reorder_quantity || 0,\n      product_code: props.productInfo.product_code || '',\n      max_order:props.productInfo.max_order || '',\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number().required(\"Nhập giá vốn\").moreThan(-1, \"Giá vốn không được âm\"),\n      salesPrice: Yup.number().required(\"Nhập giá bán\").moreThan(-1, \"Giá bán không được âm\"),\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(-1, \"Số lượng đặt hàng lại không được âm\"),\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n    }),\n  })\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const updateProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\"list_price\", productFormik.values.salesPrice.toString());\n      bodyFormData.append(\"standard_price\",productFormik.values.importedPrice.toString());\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\"product_code\", productFormik.values.product_code.toString());\n      bodyFormData.append(\"quantity_per_unit\", productFormik.values.unit.toString());\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      const img_url = display.reduce((prev,cur) =>{\n        if(cur.isUrl){\n          return prev.concat(cur.link,\",\")\n        }\n        return prev\n      },\"\")\n      bodyFormData.append(\"img_urls\", img_url);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n      const response = await productApi.updateProduct(\n        store_uuid,\n        props.productInfo.uuid,\n        bodyFormData\n      );\n      dispatch(statusAction.successfulStatus(\"Sửa sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error)\n      dispatch(statusAction.failedStatus(\"Sửa thất bại\"));\n    }\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, props.productInfo]);\n  \n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm()\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (!displayImage.isUrl) {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <AddCategory open={openAddCategory} handleClose={handleCloseCategory} />\n      <Box className={classes.root}>\n        <Typography\n          className={classes.headerTitle}\n          variant=\"h5\"\n          gutterBottom\n          style={{ marginBottom: 20 }}\n        >\n          Chỉnh sửa sản phẩm\n        </Typography>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            />\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n\n            <Box className={`${classes.box} ${classes.margin}`}>\n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                <InputLabel htmlFor=\"category\">Danh mục</InputLabel>\n                <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select>\n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              value={productFormik.values.salesPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) > Number(productFormik.values.salesPrice) ?<Typography variant='h6' style={{color:'red'}}> Giá vốn đang lớn hơn giá bán !!</Typography>:null} */}\n\n           {isManageInventory?\n           <>\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n             <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 3 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <Button\n              onClick={handleCloseAndReset}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              style={{ marginRight: 20 }}\n            >\n              Huỷ\n            </Button>\n            <Button\n              onClick={() => {\n                updateProductHandler();\n              }}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"primary\"\n              disabled = {!(productFormik.isValid ) }\n            >\n              Sửa\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default UpdateInventory;\n","import React, {useState} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst BranchInventoryPopUp = ({open,onClose, branchs,branch_inventories,setReload,batches,has_batches,row }) => {\n    const theme = useTheme();\n  const classes = useStyles(theme);\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  console.log(\"branch_inventories\",branch_inventories)\n  const findBranchQuantity = (id) => {\n    // if(!branch_inventories){return -1}\n    const rs = branch_inventories?.find(x => x.uuid === id)?.quantity_available\n    if(rs){return rs.toLocaleString() }\n    else{ return 0}\n  }\n  const [openModal, setOpenModal] = useState(null)\n  const dispatch = useDispatch();\n    const generateInitial = () =>{\n        let arr = []\n         batches.map(item => arr.push({batch_code: item.batch_code , quantity: 0, expiry_date: item.expiry_date, position: item.position} ))\n        return arr\n    }\n    const [valueQuantity,setValueQuantity] = useState(!has_batches?0:generateInitial())\n  const confirmTransferQuantity = async () => {  \n    //CALL API HERE\n    //   openModal : branch chuyển tới\n\n    //   valueQuantity: SL chuyển \n    //( + nếu là lô thì là array object [{batch_code:\"L0001\", quantity:\"2\"}])\n     //( + nếu ko là lô thì là số \n\n    const body = {\n        to_id: openModal.id,\n        value_quantity: has_batches ? _.sumBy(valueQuantity, 'quantity') : valueQuantity,\n        batches: JSON.stringify(Array.isArray(valueQuantity) ? valueQuantity.filter(batch => batch.quantity) : []),\n        has_batches: has_batches,\n        product_id: row.id,\n        to_name: openModal.name,\n        created_user_id: info.user.id,\n        created_user_name: info.user.name,\n        created_user_type: info.role,\n    }\n    try {\n        const res = await productApi.transferInventory(store_uuid, branch_uuid, body);\n        dispatch(statusAction.successfulStatus('Chuyển tồn kho thành công!'))\n    } catch (err) {\n        console.log(err)\n        dispatch(statusAction.failedStatus('Chuyển tồn kho thất bại'))\n    }\n\n    setOpenModal(null)\n    onClose()\n    setReload()\n  }\n  const currenBranchInventory = findBranchQuantity(branch_uuid)\n var totalQuantity = 0;\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"xs\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            Chi tiết tồn kho\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n               \n                  {batches?.length !== 0 ? \n                  <>\n                  <Grid container  style={{ marginBottom:10}}>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Mã lô </Grid>\n                        <Grid item xs={4} style={{color:'#000', fontWeight:500}}> Ngày hết hạn </Grid>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Vị trí </Grid>\n                        <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn kho </Grid>\n                    </Grid>\n\n                    {batches?.map((batch) => (\n                        <Grid container  spacing={2}>\n                                <Grid item xs={3}> {batch?.batch_code} </Grid>\n                                <Grid item xs={4}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                                <Grid item xs={3}> {batch?.position} </Grid>\n                                <Grid item xs={2}> {batch?.quantity} </Grid>\n                        </Grid>\n                     )) } \n                      <Divider style={{margin:20}} />\n                    </>\n                     :null}\n              \n               \n                <Grid container style={{marginBottom:10}}>\n                    <Grid item xs={6}> </Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Đặt </Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn </Grid>\n                    <Grid item xs={2}> </Grid>\n                </Grid>\n                {branchs.map((item=>{ \n                const quantity  = findBranchQuantity(item.uuid)\n                totalQuantity = totalQuantity +Number(quantity) \n                    return (\n                    <Grid container>\n                        <Grid item xs={6} style={{color:'#000', fontWeight:500, marginBottom:25}}>\n                            {item.name}\n                        {item.uuid === branch_uuid ? <CheckCircleIcon style={{marginLeft:10}}fontSize=\"small\" color='primary'/> :null} </Grid>\n\n                        <Grid item xs={2}>{row.branch_inventories.find(b => b.uuid === item.uuid)?.ordering_quantity}</Grid>\n                        <Grid item xs={2}>{quantity}</Grid>\n\n                       <Grid item xs={2}> {item.uuid !== branch_uuid ? <Button color='primary' variant='contained'size='small'style={{textTransform:'none'}} onClick={()=>setOpenModal(item)}>Chuyển</Button>:null}</Grid>\n                    </Grid>\n                )}))}\n\n                \n                <Divider />\n                <Grid container>\n                    <Grid item xs={7} ></Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}>Tổng: {totalQuantity}</Grid>\n                    <Grid item xs={3}> </Grid>\n                </Grid>\n\n\n\n                {openModal?<ModalWrapperWithClose size='h4' title={<ListItem><Typography variant='h4'>Chuyển tồn kho đến </Typography><Typography variant='h4' style={{marginLeft:5,color:theme.customization.primaryColor[500]}}>{openModal.name} </Typography>  </ListItem>}open={openModal !== null}handleClose={()=>setOpenModal(null)}>\n                        \n                {!has_batches?\n                        <>\n                        <Typography variant='h5'>Số lượng </Typography>\n                        <ListItem>\n                            <ThousandSeperatedInput value={valueQuantity} onChange={(e)=>{setValueQuantity(e.target.value)}}/>\n                            <Typography style={{fontWeight:500}}> / {currenBranchInventory}</Typography>\n                        </ListItem>\n                        {valueQuantity > Number(currenBranchInventory)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                    </>:\n                    batches.map((batch) => {\n                        let newValueQuantity = [...valueQuantity]\n                        let index = newValueQuantity.findIndex(item=>item.batch_code ===  batch?.batch_code)\n                      \n                     return(\n                        <Grid container  spacing={3} alignItems='center' style={{margin:2}}>\n                            <Grid item xs={3}> {batch?.batch_code} </Grid>\n                            <Grid item xs={3}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                            <Grid container item xs={4}  alignItems='center'>  \n                                    <Grid item xs={6}>\n                                        <ThousandSeperatedInput \n                                        value={newValueQuantity[index]?.quantity} \n                                            onChange={(e)=>{\n                                                newValueQuantity[index].quantity= Number(e.target.value)\n                                                setValueQuantity(newValueQuantity)                                          \n                                            }}\n                                            />\n                                    </Grid>\n                                    <Grid item xs={6}> <Typography style={{fontWeight:500}}> / {batch?.quantity}</Typography></Grid>\n                                    {newValueQuantity[index]?.quantity > Number(batch?.quantity)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                            </Grid>\n                        </Grid>\n                     )})  \n                    \n                    }\n                        <Button disabled={valueQuantity > Number(currenBranchInventory) || valueQuantity === 0} onClick={()=>{confirmTransferQuantity()}}  variant=\"contained\" size=\"small\"  color=\"secondary\" style={{marginTop:20}}>\n                            Xác nhận \n                        </Button>\n\n                    </ModalWrapperWithClose>:null}\n\n            </DialogContent>\n            <DialogActions>\n        <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n            Huỷ \n        </Button>\n       \n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default BranchInventoryPopUp\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nimport DialogWrapper from \"../../../../../components/Modal/DialogWrapper\";\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst VarianceModal = (props) => {\n  const { row ,branchs,setReload,batches,has_batches,isManageInventory} = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const dispatch = useDispatch();\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleCloseUpdate = (status) => {\n    if (status) {\n      props.parentProps.setReload(true);\n    }\n    setIsOpenUpdate(false);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  console.log(\"rowwww\",row)\n  console.log(\"productDetail\",productDetail)\n  \n  // useEffect(() => {\n  //   const fetchProduct = async () => {\n  //     try {\n  //       const response = await productApi.getProduct(store_uuid, row.uuid, {\n  //         branch_uuid: branch_uuid,\n  //       });\n  //       setProductDetail(response.data);\n  //     } catch (err) {\n  //       console.log(err);\n  //     }\n  //   };\n\n  //   fetchProduct();\n  // }, [store_uuid]);\n    \n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchProduct();\n  }, []);\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\n\n  console.log(\"row.branch_inventories\",productDetail.branch_inventories)\n\n  return (\n    // <ModalWrapperWithClose\n    // handleClose={() => props.handleClose(false)}\n    // title={\"Chi tiết biến thể\"}\n    // open={props.open}\n    // >\n    <DialogWrapper\n      handleClose={() => props.handleClose(false)}\n      title={\"Chi tiết biến thể\"}\n      open={props.open}\n    >\n      <div style={{ width: 800 }}>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={4}>\n              <Box\n                sx={{\n                  height: 170,\n                  width: 170,\n                  borderRadius: 2,\n                  marginLeft: 15,\n                }}\n              >\n                <Carousel showThumbs={false}>\n                  {JSON.parse(\n                    productDetail.img_urls ? productDetail.img_urls : \"[]\"\n                  )?.map((url) => (\n                    <img\n                      key={url}\n                      src={url}\n                      height={xsScreen ? \"100\" : \"170\"}\n                      width={xsScreen ? \"100\" : \"170\"}\n                      // height= \"170\"\n                      // width= \"170\"\n                    />\n                  ))}\n                </Carousel>\n              </Box>\n            </Grid>\n\n            <Grid container direction=\"column\" item xs={8}>\n              <Grid container direction=\"row\">\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tên sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.product_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã vạch\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.bar_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Danh mục\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.category.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Đơn vị\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.quantity_per_unit}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá bán\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat value={productDetail.list_price}></VNDFormat>\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá vốn\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat\n                          value={productDetail.standard_price}\n                        ></VNDFormat>{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    {isManageInventory? \n                    <>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tồn kho\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={2}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.branch_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                    {branchs.length >1?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={productDetail.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={setReload}\n                    batches={batches}\n                    has_batches={productDetail.has_batches}\n                   />\n                   \n                   :null}\n                 \n                  </Grid>\n                  {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {productDetail.notification_period} ngày</Typography>:null}\n\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL đặt hàng lại\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.min_reorder_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL nhập hàng tối đa\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.max_order}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    </>:null}\n                </Grid>\n              </Grid>\n\n              {JSON.parse(row.attribute_value ? row.attribute_value : \"[]\").map(\n                (attVal) => (\n                  <Grid container direction=\"row\">\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          marginRight: 10,\n                          borderRadius: 5,\n                        }}\n                      >\n                        {attVal.name}\n                      </div>\n                    </Grid>\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          borderRadius: 5,\n                        }}\n                      >\n                        <strong>{attVal.value}</strong>\n                      </div>\n                    </Grid>\n                  </Grid>\n                )\n              )}\n\n              <Grid\n                container\n                direction=\"row\"\n                justifyContent={xsScreen ? null : \"flex-end\"}\n                style={{ marginTop: 20 }}\n              >\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setIsOpenUpdate(true);\n                  }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setDeleteConfirm(true);\n                  }}\n                >\n                  Xoá\n                </Button>\n\n                <IconButton\n                  aria-label=\"more\"\n                  aria-controls=\"long-menu\"\n                  aria-haspopup=\"true\"\n                  onClick={handleClick}\n                  size=\"small\"\n                  style={{ marginLeft: 10 }}\n                >\n                  <MoreVertIcon />\n                </IconButton>\n\n                <StyledMenu\n                  id=\"customized-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <InboxIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"In mã tem\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <HighlightOffTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Ngừng kinh doanh\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <LocalOfferTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử giá\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử kiểm kê\" />\n                  </StyledMenuItem>\n                </StyledMenu>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n      </div>\n      {isOpenUpdate && <UpdateInventory\n        open={isOpenUpdate}\n        handleClose={handleCloseUpdate}\n        productInfo={productDetail}\n        setReload={() => {\n          props.setReload();\n          props.handleClose()\n        }}\n      />}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={handleCloseDelete}\n        handleConfirm={handleConfirmDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n    </DialogWrapper>\n    /* </ModalWrapperWithClose> */\n  );\n};\n\nexport default VarianceModal;\n","// import React, {useState,useEffect,useRef} from 'react'\n// import { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n// import {\n//     Button,\n//     TextField,\n//     DialogActions,\n//     DialogContent,\n//     DialogTitle,\n//     Typography,\n//     Grid,\n//     Avatar,\n//     Dialog,\n//     FormControl,\n//     InputLabel,\n//     Select,\n//     MenuItem,\n//     Card,\n//     FormControlLabel,\n//     Checkbox,\n//     Divider,\n//     ButtonBase,\n//     Tooltip,\n//     CardHeader,\n//     Input,\n//     Chip,\n//     IconButton,\n//     FormLabel,\n//     RadioGroup,\n//     Radio,\n//     Box,\n//     ListItem\n//   } from \"@material-ui/core\";\n// import clsx  from \"clsx\"\n// import _ from 'lodash'\n\n// import CloseIcon from \"@material-ui/icons/Close\";\n// import CheckCircleIcon from '@material-ui/icons/CheckCircle';\n// import { batch, useDispatch, useSelector } from \"react-redux\";\n// import ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\n// import { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\n// import productApi from '../../../../../api/productApi'\n// import { statusAction } from '../../../../../store/slice/statusSlice';\n// import barcocde1 from \"../../../../../assets/img/barcode/1.jpeg\"\n// import barcocde2 from \"../../../../../assets/img/barcode/2.jpeg\"\n// import barcocde3 from \"../../../../../assets/img/barcode/3.jpeg\"\n// import { useReactToPrint } from \"react-to-print\";\n// import Barcode from 'react-barcode';\n// import { returnStatement } from '@babel/types';\n// const useStyles = makeStyles((theme) =>\n//     createStyles({\n//     weight:{\n//         fontWeight:500,\n//         color: \"#000\",\n//         fontSize: 14,\n//     },\n//     headerTitle: {\n//         fontSize: \"1.125rem\",\n//       },\n\n// })\n// );\n// const PrintBarcodePopUp = ({open,onClose, row }) => {\n//     const theme = useTheme();\n//     const classes = useStyles(theme);\n   \n//     console.log(\"row\",row)\n\n//     const [quantity , setQuantity] = useState(1)\n//     const [codeType , setCodeType] = useState(\"code\")\n//     const [printStoreName , setPrintStoreName] = useState(\"yes\")\n//     const [printBatch , setPrintBatch] = useState(row.has_batches === 0?\"no\" :\"yes\")\n//     const [col , setCol] = useState(null)\n//     const [batchCode , setBatchCode] = useState(row.batches[0]?.batch_code)\n\n//     console.log(\"ow.has_batch \",row.has_batches )\n//     console.log(\"row.has_batch === 0\",row.has_batches === 0 )\n//     const [openPrintBarcode,setOpenPrintBarcode] =  useState(row.batches[0]?.batch_code)\n\n//       // toolbar\n//   const componentRef = useRef();\n//   const handlePrint = useReactToPrint({\n//     content: () => componentRef.current,\n//   });\n//   const handleChooseBarCode = (col) => {\n//     setCol(col)\n\n//   }\n//   useEffect (()=>{\n//     if(col){handlePrint()}\n//   },[col])\n\n\n//     return (\n//         <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"sm\" fullWidth={true}>\n//             <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n//                     <DialogTitle id=\"form-dialog-title\">\n//                         <Typography className={classes.headerTitle} variant=\"h3\" >\n//                             In mã tem\n//                         </Typography>\n//                     </DialogTitle>\n\n//                     <IconButton aria-label=\"close\"   onClick={onClose}>\n//                         <CloseIcon  fontSize=\"small\" />\n//                     </IconButton>\n//             </Grid>\n           \n//             <DialogContent>\n//                 <Grid container  >\n//                     <Grid item  xs={4}>\n//                         <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Số lượng in:</Typography>\n//                         {/* <TextField value={quantity} onChange={(e)=>setQuantity(e.target.value)}/> */}\n//                         <ThousandSeperatedInput style={{width:100}}value={quantity} onChange={(e)=>setQuantity(e.target.value)}/>\n//                         <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã in:</Typography>\n//                         <FormControl className={classes.formControl}>\n//                             <Select value={codeType} onChange={(e)=>setCodeType(e.target.value)} >\n//                             <MenuItem value={\"code\"}>Mã hàng</MenuItem>\n//                             {row.product_code ?<MenuItem value={\"barcode\"}>Mã vạch</MenuItem>:null}\n//                             </Select>\n//                         </FormControl>\n//                         <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Tên cửa hàng</Typography>\n//                         <FormControl className={classes.formControl}>\n//                             <Select value={printStoreName} onChange={(e)=>setPrintStoreName(e.target.value)} >\n//                             <MenuItem value={\"yes\"}>In tên cửa hàng</MenuItem>\n//                             <MenuItem value={\"no\"}>Không in tên cửa hàng</MenuItem>\n//                             </Select>\n//                         </FormControl>\n//                         {row.has_batches? \n//                             <>\n//                          <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>In lô</Typography>\n//                             <FormControl className={classes.formControl}>\n//                                 <Select value={printBatch} onChange={(e)=>setPrintBatch(e.target.value)} >\n//                                 <MenuItem value={\"yes\"}>In mã lô</MenuItem>\n//                                 <MenuItem value={\"nno\"}>Không in mã lô</MenuItem>\n//                                 </Select>\n//                             </FormControl>\n//                             {printBatch.includes(\"yes\") ? \n//                             <>\n//                             <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã lô</Typography>\n//                             <FormControl className={classes.formControl}>\n//                                 <Select value={batchCode} onChange={(e)=>setBatchCode(e.target.value)} >\n//                                 { row.batches.map((batch)=>{\n//                                     return(\n//                                          <MenuItem value={batch?.batch_code}>{batch?.batch_code}</MenuItem>\n//                                     )\n//                                 }) }\n//                                 </Select>\n//                             </FormControl>\n//                             </>\n//                             :null}\n//                             </>:null    \n//                     }\n//                     </Grid>\n//                     <Grid item container xs={8} spacing={3}>\n//                         <Grid item container>\n//                             <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde3} /></Grid>\n//                             <Grid item xs={7}>\n//                                 <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 3 nhãn (Khổ giấy in nhãn 104x22mm / 4.2x0.9 inch)  </Typography>\n//                                 <Button  onClick={()=>handleChooseBarCode(4)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}} >\n//                                     Xem bản in \n//                                 </Button>\n//                             </Grid>\n//                         </Grid>\n//                         <Grid item container>\n//                             <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde2} /></Grid>\n//                             <Grid item xs={7}>\n//                                 <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 2 nhãn (Khổ giấy in nhãn 72x22mm)  </Typography>\n//                                 <Button  onClick={()=>handleChooseBarCode(6)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}}  >\n//                                     Xem bản in \n//                                 </Button>\n//                             </Grid>\n            \n//                         </Grid>\n//                         <Grid item container>\n//                             <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde1} /></Grid>\n//                             <Grid item xs={7}>\n//                                 <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 1 nhãn  (Khổ giấy in nhãn 50x30mm)  </Typography>\n//                                 <Button  onClick={()=>handleChooseBarCode(12)}  variant=\"contained\" size=\"small\"  color=\"primary\"  style={{marginTop:20}} >\n//                                     Xem bản in \n//                                 </Button>\n//                             </Grid>\n//                         </Grid>\n//                     </Grid>\n//                 </Grid>\n\n//                 <div style={{ display: \"none\" }}>\n//                     <div ref={componentRef}>\n//                         <ComponentToPrint row={row} quantity={quantity} codeType={codeType} printStoreName={printStoreName} printBatch={printBatch} col={col} batchCode={batchCode}/>\n//                     </div>\n//                 </div>\n\n//             </DialogContent>\n//             <DialogActions>\n//             <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n//                 Huỷ \n//             </Button>\n          \n//             </DialogActions>    \n//         </Dialog>\n//     )\n// }\n\n// export default PrintBarcodePopUp\n// const ComponentToPrint = ({ row ,quantity,codeType,printStoreName,printBatch,col,batchCode}) => {\n//     const info = useSelector((state) => state.info);\n//     const BarCodeModel = ({margin}) =>{\n//         return (\n//         // <Box style={{ textAlign:'center', padding:20}}>\n//         //     {printStoreName.includes(\"yes\") ? <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>{info.store.name}</Typography>:\"\"}\n//         //     {/* {printBatch.includes(\"no\")?\n//         //     // <div style={{width:100, heigth:20}}>\n//         //         <Barcode value={codeType ===\"code\" ?row.product_code:row.bar_code }   width='1px' \n//         //         height='10px' />\n//         //     //  </div>\n//         //     : <Barcode value={codeType ===\"code\" ?row.product_code.concat(\"_\"+ batchCode):row.bar_code.concat(\"_\"+ batchCode) } \n//         //     // format=\"CODE128\" \n//         //     // className=\"ss\" \n//         //     // displayValue={false} \n//         //     width='1px' \n//         //     height='10px'\n            \n//         //     />} */}\n          \n\n              \n//         // </Box>\n//         <Grid container item xs={col} style={{marginBottom:margin}} >\n//              {printBatch.includes(\"no\")?\n//              <div>\n//                   <div style={{width:102, textAlign:'center'}}>\n//               <Typography style={{color:'#000', fontSize:7, marginBottom:3}}>{row.product_code}</Typography> \n//               </div>\n//               <Barcode \n//                 value={codeType ===\"code\" ?row.product_code:row.bar_code }\n//                 format=\"CODE128\" \n//                 // className=\"ss\" \n//                 displayValue={false} \n//                 fontSize=\"10px\"\n//                 width='1px' \n//                 height='30px'\n//                 margin=\"0px\"\n//                 padding=\"0px\"\n\n//                 />\n//                 <div style={{width:102, textAlign:'center', marginTop:3}}>\n//                 <Typography style={{color:'#000', fontSize:7, }}>{row.name}</Typography> \n//                  <Typography style={{color:'#000', fontSize:7,}}>{row.list_price?.toLocaleString()} VNĐ</Typography> \n                 \n//                 </div>\n                \n//              </div>:\n//               <div>\n//               <Typography>{row.product_code}</Typography> \n//                 <Barcode \n//                 // value={codeType ===\"code\" ?row.product_code.concat(\"_\"+ batchCode):row.bar_code.concat(\"_\"+ batchCode)}\n//                 value={row.product_code.concat(\"-\"+ batchCode)}\n//                 format=\"CODE128\" \n//                 fontSize=\"10px\"\n//                 // className=\"ss\" \n//                 displayValue={false} \n//                 width='1px' \n//                 height='30px'\n//                 />\n//                  <Typography>{row.name}</Typography> \n//                  <Typography>{row.list_price}</Typography> \n//                 </div>}\n//              </Grid>\n//         )\n//     }\n//     function range(start, end) {\n//         return Array(end - start + 1).fill().map((_, idx) => start + idx)\n//       }\n//       console.log(\" range(1,Number(quantity))\", range(1,Number(quantity)))\n\n//     return (\n//         // <Grid container>\n//         //     {range(1,Number(quantity)).map(()=> {\n//         //         return(\n//         //             <Grid container item xs={col} justifyContent=\"center\">\n//         //                 <BarCodeModel />\n//         //             </Grid>    \n//         //         )\n//         //     })}\n\n//         // </Grid>\n        \n//        <div style={{paddingTop:25,paddingLeft:40}}>\n//            <Grid container >\n//              <BarCodeModel  margin={70} />\n//              <BarCodeModel  margin={70}/>\n//              <BarCodeModel  margin={0}/>\n//              </Grid>\n//        </div>\n       \n     \n//     );\n//   };\n  \nimport React, {useState,useEffect,useRef} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport barcocde1 from \"../../../../../assets/img/barcode/1.jpeg\"\nimport barcocde2 from \"../../../../../assets/img/barcode/2.jpeg\"\nimport barcocde3 from \"../../../../../assets/img/barcode/3.jpeg\"\nimport { useReactToPrint } from \"react-to-print\";\nimport Barcode from 'react-barcode';\nimport { returnStatement } from '@babel/types';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst PrintBarcodePopUp = ({open,onClose, row }) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n   \n    console.log(\"row\",row)\n\n    const [quantity , setQuantity] = useState(1)\n    const [codeType , setCodeType] = useState(\"code\")\n    const [printStoreName , setPrintStoreName] = useState(\"yes\")\n    const [printBatch , setPrintBatch] = useState(row.has_batches === 0?\"no\" :\"yes\")\n    const [col , setCol] = useState(null)\n    const [batchCode , setBatchCode] = useState(row.batches[0]?.batch_code)\n\n    console.log(\"ow.has_batch \",row.has_batches )\n    console.log(\"row.has_batch === 0\",row.has_batches === 0 )\n    const [openPrintBarcode,setOpenPrintBarcode] =  useState(row.batches[0]?.batch_code)\n\n      // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  const handleChooseBarCode = (col) => {\n    setCol(col)\n\n  }\n  useEffect (()=>{\n    if(col){handlePrint()}\n  },[col])\n\n\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"sm\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            In mã tem\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n                <Grid container  >\n                    <Grid item  xs={4}>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Số lượng in:</Typography>\n                        {/* <TextField value={quantity} onChange={(e)=>setQuantity(e.target.value)}/> */}\n                        <ThousandSeperatedInput style={{width:100}}value={quantity} onChange={(e)=>setQuantity(e.target.value)}/>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã in:</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={codeType} onChange={(e)=>setCodeType(e.target.value)} >\n                            <MenuItem value={\"code\"}>Mã hàng</MenuItem>\n                            {row.product_code ?<MenuItem value={\"barcode\"}>Mã vạch</MenuItem>:null}\n                            </Select>\n                        </FormControl>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Tên cửa hàng</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={printStoreName} onChange={(e)=>setPrintStoreName(e.target.value)} >\n                            <MenuItem value={\"yes\"}>In tên cửa hàng</MenuItem>\n                            <MenuItem value={\"no\"}>Không in tên cửa hàng</MenuItem>\n                            </Select>\n                        </FormControl>\n                        {row.has_batches? \n                            <>\n                         <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>In lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={printBatch} onChange={(e)=>setPrintBatch(e.target.value)} >\n                                <MenuItem value={\"yes\"}>In mã lô</MenuItem>\n                                <MenuItem value={\"nno\"}>Không in mã lô</MenuItem>\n                                </Select>\n                            </FormControl>\n                            {printBatch.includes(\"yes\") ? \n                            <>\n                            <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={batchCode} onChange={(e)=>setBatchCode(e.target.value)} >\n                                { row.batches.map((batch)=>{\n                                    return(\n                                         <MenuItem value={batch?.batch_code}>{batch?.batch_code}</MenuItem>\n                                    )\n                                }) }\n                                </Select>\n                            </FormControl>\n                            </>\n                            :null}\n                            </>:null    \n                    }\n                    </Grid>\n                    <Grid item container xs={8} spacing={3}>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde3} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 3 nhãn (Khổ giấy in nhãn 104x22mm / 4.2x0.9 inch)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(4)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde2} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 2 nhãn (Khổ giấy in nhãn 72x22mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(6)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}}  >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n            \n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde1} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 1 nhãn  (Khổ giấy in nhãn 50x30mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(12)}  variant=\"contained\" size=\"small\"  color=\"primary\"  style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n                <div style={{ display: \"none\" }}>\n                    <div ref={componentRef}>\n                        <ComponentToPrint row={row} quantity={quantity} codeType={codeType} printStoreName={printStoreName} printBatch={printBatch} col={col} batchCode={batchCode}/>\n                    </div>\n                </div>\n\n            </DialogContent>\n            <DialogActions>\n            <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n                Huỷ \n            </Button>\n          \n            </DialogActions>    \n        </Dialog>\n    )\n}\n\nexport default PrintBarcodePopUp\nconst ComponentToPrint = ({ row ,quantity,codeType,printStoreName,printBatch,col,batchCode}) => {\n    const info = useSelector((state) => state.info);\n    const BarCodeModel = ({margin}) =>{\n        return (\n        // <Box style={{ textAlign:'center', padding:20}}>\n        //     {printStoreName.includes(\"yes\") ? <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>{info.store.name}</Typography>:\"\"}\n        //     {/* {printBatch.includes(\"no\")?\n        //     // <div style={{width:100, heigth:20}}>\n        //         <Barcode value={codeType ===\"code\" ?row.product_code:row.bar_code }   width='1px' \n        //         height='10px' />\n        //     //  </div>\n        //     : <Barcode value={codeType ===\"code\" ?row.product_code.concat(\"_\"+ batchCode):row.bar_code.concat(\"_\"+ batchCode) } \n        //     // format=\"CODE128\" \n        //     // className=\"ss\" \n        //     // displayValue={false} \n        //     width='1px' \n        //     height='10px'\n            \n        //     />} */}\n          \n\n              \n        // </Box>\n        <Grid container item xs={col} style={{marginBottom:margin}} >\n             {printBatch.includes(\"no\")?\n             <div>\n                  <div style={{width:102, textAlign:'center'}}>\n              <Typography style={{color:'#000', fontSize:8, marginBottom:3}}>{row.product_code}</Typography> \n              </div>\n              <Barcode \n                value={codeType ===\"code\" ?row.product_code:row.bar_code }\n                format=\"CODE128\" \n                // className=\"ss\" \n                displayValue={false} \n                fontSize=\"10px\"\n                width='1px' \n                height='30px'\n                margin=\"0px\"\n                padding=\"0px\"\n\n                />\n                <div style={{width:102, textAlign:'center', marginTop:3}}>\n                <Typography style={{color:'#000', fontSize:8, }}>{row.name}</Typography> \n                 <Typography style={{color:'#000', fontSize:8,}}>{row.list_price?.toLocaleString()} VNĐ</Typography> \n                 \n                </div>\n                \n             </div>:\n             <div>\n             <div style={{width:150, textAlign:'center'}}>\n         <Typography style={{color:'#000', fontSize:8, marginBottom:3}}>{row.product_code.concat(\"_\"+ batchCode)}</Typography> \n         </div>\n         <Barcode \n            value={row.product_code.concat(\"_\"+ batchCode)}\n           format=\"CODE128\" \n           // className=\"ss\" \n           displayValue={false} \n           fontSize=\"10px\"\n        //    width={0.7} \n        width='1px' \n           height='30px'\n           margin=\"0px\"\n           padding=\"0px\"\n\n           />\n           <div style={{width:150, textAlign:'center', marginTop:3}}>\n           <Typography style={{color:'#000', fontSize:8, }}>{row.name}</Typography> \n            <Typography style={{color:'#000', fontSize:8,}}>{row.list_price?.toLocaleString()} VNĐ</Typography> \n            \n           </div>\n           \n        </div>\n    }\n             </Grid>\n        )\n    }\n    function range(start, end) {\n        return Array(end - start + 1).fill().map((_, idx) => start + idx)\n      }\n      console.log(\" range(1,Number(quantity))\", range(1,Number(quantity)))\n\n    return (\n        // <Grid container>\n        //     {range(1,Number(quantity)).map(()=> {\n        //         return(\n        //             <Grid container item xs={col} justifyContent=\"center\">\n        //                 <BarCodeModel />\n        //             </Grid>    \n        //         )\n        //     })}\n\n        // </Grid>\n        \n       <div style={{paddingTop:30,paddingLeft:20}}>\n           <Grid container >\n             <BarCodeModel  margin={65} />\n             <BarCodeModel  margin={65}/>\n             <BarCodeModel  margin={0}/>\n             </Grid>\n       </div>\n    );\n  };\n  ","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBUWFRgWFhUYGRgaHBoeGhoYHBwYHBwaHBgeGhwYGhwhIS4lHB4rHxwaJjgmKy8xNTU1GiQ7QDs0Py40NTEBDAwMEA8QHBIRHjQhISE0NDQ0NDQ0NDQ0NDQ0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ND80NDQ/NDQ/Mf/AABEIAOEA4QMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAAAAgMEBQYBB//EAEUQAAEDAgMCCwUGBAUDBQAAAAEAAhEDIQQSMUFRBSIyYXGBkaGxwfAGExZT0UJScpLS4RQjYoIVM6Ky8RdDVAckRHPC/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAEDAgT/xAAcEQEBAAMBAQEBAAAAAAAAAAAAAQIREjEhA1H/2gAMAwEAAhEDEQA/APRviZvy3doQPaZny3doWbiFxosuOqrTfErPlu7Qj4mZ8t3aFmW7Vw7OvxTqrppj7TM+W7tG5B9pmfLd2hZlw8/ouHy9eKdU00x9p2fLd2hB9qGfLd2hZl1ky86KdU1Gs+KGfLd2hcPtSz5bu0LJOckuddTqmo13xUz5bu0I+KmfLd2hZCVwFOqvMbD4qZ8t3aFw+1bPlu7QsgHJMp1TmNj8VsmPdu7QufFjPlu7QseXXXM11O6cxsvitny3doXD7WM+W7tCyBdf1uXMyd05jXn2tZ8p/aFwe19P5btm0bVki/Tp8kbukeCd05jXfFzPlv7RvhHxez5btu0bFj2fTxXXDX+5XqnMa4+2DPlP7Qj4wZ8p/aFkNnrcku2J1TmNh8YM+U/tCPjFnyn9oWOI9daCp3TmNgfbJnyn9oR8ZM+U/tCxblxyd05jX/HNP5TvzNQsFZCvVOY1UdyAEstXWhdacmgERonmUCU4cOnNTqIRXSnKtMxYE80R4pok/cd3fVOavUNP2dfem3Ov651M/hCdu62sdPOkPwBF57lOavUQyVw6qYeD3bwkO4PfzKc1eojSuFLLD6BHklUsO52gmFOam4ZCHJ84N/3e8JiowjVSyrKQUDVdA16/NcAUdOzfsQQuJQQcPl9F2L9fkkOCWBc9fiqOjQ80eKNvW7wSAbHqXSb9Z8ECibHqSI09bkA+A8Ugvt650HW+SHeu1ccfBcKDhXHoK4QghQhdnmXEGwhP4Vk39SmYVhhWQ0c62xn1jQ9hgxE7JuJ51WYnGlji0up5gBALX621cLaubs2jeriq9rQXOIAGpNhuVRj8LRfmILC90zx4MZQDF7GzOwFaOXP8QbDTmZdrS4Q8RILnEGNAGmxEm0xIXa+ODbg0iCYbmc5mrQ5oNjJIk23KLVwRfm4jDIhxbUAj/Lm1/uOMzsO9K/w5z30y+mWgOzGKjCGmMwBGTjNloaIIPK3BDawo1s4ljWPAJBIfoR9nQ7MvapLqQkJvg3ANosyNJImZdEkwBJgDYApUXUojYgFpGVhdYzDgIjQAHUnq0UdlUOcxrqTwXTeGua20mXAmPNWSy/8AhPunsJdIBBMNMEAMpxO+Qw9AO5UW4iHTSfLROUNaZEkANJgEmDbonUT1j2ZsuR4vqWENtG2I269O5Z+m0MyE1bDMTDX3mgxg0bB48u/u5inTgqtR9UMq3inAzPbEFl9Iu5j9NjhvU0NDRc1+mYfiYW+IVRwuyC3r8loWNgAbgPBUHDQ4zevxWefjrH1V7+lAldaVwa+t6xbOH12JQC5+yD670A3xP0Sxr2pA1HMhp8ym0d+z2JJPj5Ic63Z4lA8/JNqGHwKTAj162oafAoG3oPkg4712fuuH166kFH7eCABsubAu5kmFRE6kJEFCDbFquW0QAONFtyqmnxVjmXoxYUPpgi5B5iNxkJh2Dp/cZ+UX05uYdiiYmnUBLxVDW5mm5MQPswbC+6CZuVHp4ioc7TWYeI7I8OYDOocQBYAFsnS4tv6RZDCMEwxlxlMCJB2dFyuNwNMGQxs6WnS9ui57SozXvcC33oaQ8QQWFxptdDs0hwk8YaDQaXATh6uILhnNOIGYMMweNMTs5J6j1zSJ1Ki1k5WxMTc3hLCj4SpVM52tGkZTOwT3kjq50+w6oprE0g8AEuEGeK7KdN42XnqCYOCGyrWH94O+1xpfuCRWxVZrjFPMMwiLcW8kGTJ0OgA0uuNx73e8aKUPYJAMkON4AOUTMW27wFQ+3DkNLfePuQQTBIiLDfpt3pTKThP8xxnaWi2lhzWOs8o80MnFuIlrJh7muvsaDmc2AZuCBMXSaXCQJcPdvAbcEtjMMs255kR0b0E6lYQ5xcd8RN9wtzdSoeGzxm9B8VcYbEh8w1zYjlADWdL7wVRcMv47ejzKyz8dY+oLTquMKba7xSwVi2dB0XVwawN6lU8C87O0prZsw3b0JuNehWQ4LdHKA050f4QY5Y7E1XPUVjo7/BdOvWFPfwW7YQbyo+Iwzm6jbuTVXcMN2daSNvR5LrRp1pI383kooIt1/VH1QXeu1c+v1VHB9VyV0rmxBGQuSuq7G1YbjpCnAqupm46VPaV6MWFR+E6bnsLWiTmp81g9pd/pBWap8GVQwhzYcaRbym6mkxh2/wBB7FosVjchAyPcImWidNeuFV4upQeS5zHguBkBrL8TLJn7WUxfm5l25NUsC/3j3Fhgipu+3inOj8pBVdiODqs1D7t93gjim4a19x/p7QrMYbDcV+Z4GeLkRmD3VCXTciWu1nXpUrgp9Bmcsc6CWNIcIuJptAAGpLeskb1FXRKQw2SKNZr2hzbg6WI2xoV2mbIGOFHkMkSDmpi2t3tCzGExVX3ZPvHz7oHlOsXUmX11mT0krVVsWxhAc4Anfu39yrsZVzZnMxLWiHHlARxQJG8SQZ6NlkEBmPfneM7ogEX34rL/ALbdCYp8J1s725zbEBg05JLxl05h2KyNOrIP8TTILiNAA7judkbrBAgankjSDml4GjAdnex/GBa6GzEAXhovIcetBYuKx3tLiiyo0R9gH/U5a8m0hYb2uMV2/gb/AL3LL9PHWHqHRxs7Fb8HUHVbgQNrjoObnPMqngLg41n3kMbGY+DRzlbikwNaGtADRoBoFjI0yy0RhsIxmgvtcdf2T65KJXTgFcJRKCqApDkopDlBDr4NpuLHmVVWw7m66bx0K9KS5gIg3UsdS6Z9x9dq4dvrUlS8bhSy4uLqG2fXN/yprTvewXdiGrhK4gjQuIzIVGyY646VOBbFn9yrJ06VJpusvRiwqSX/ANXckOqnf3KrqVMQCYDCMxibcW8AXkWgknaI0MhLcRWdnbka1zQ3I7VridRyh42ldaRa+/PoI996gquNaqRIa0Q8ggg8ZgB4wuMskW1sZukUsVWJdmolo+zxgZtaY0vF/wCrmQWfvx6CG1wNqiYeu505mFlhEmZkGRzER3pVB1utA/Uex3Ka02Oomx1Gia91S+4zs3iN24KC7hB4JBpPIlwsHaN01aAZtoSNb2hFPhHOHZGHM0sBa/ixnI3A6TJ5kE80qRbkyjLMwCRffbpXRQpRGQRMxNpuZjfLiesqCccC1rww5DmkmxGUGbXnQjXZtXKfCbCCcrgBOrb2y3A22dNtztxQW7HtDcrRAAgLE+1oLsS0NEksYAN5LnQFq6FZrw4gEZTBkReAfAhUVSnmx2Y6U2NP9xkN8SepZfpPjrH5VpwfhRSptYNl3He46ny6AFKD1F96PXr1CPfBZOkxr0ouUL3/AOyg8J8J5Gw27z3c6bNLStimMu9wHSYUJ3DtAWz9gd9Fg+FOFg1xzkvedk+J2dCqH8OP2NaB1nvlN1dPWsPwjSfZj2k7pv2ap9zl5HhuGATxmxzg6dWq13AvD5BDXuzMOjtSOk7QmzTWLqGCb7NicARDbmSIOhVFi6BY6NRs6JC0cKFwnQzMnaPRVsXG6UEygbUHpXCfFcu0SUIyoVRrR5+Seou1UWb+tyfoOW+PrLInhFhdTe1ok5TA3kXA7Qs83g+oHO4hALKjRpeS1rdu0M71pMTUc0S1hffQGDG8b1WYl2d0vw75ECRBmHjtbt6zbVaOUFmGqB+bK67am/Vz3VB4hRcThawc+GvguYQRm0iDH5j2Ke3g+m4OBp1m5ba8qcreKeYNbaw4otopOEyNe97WVGy28tsRmLrACc0udbmQW4cmcM7inpPkijVzAnK5sGIcI6xzXTeGdY9KgRwq9wZLSQc9PSZgvaDpzEqiwmLrRd7+TR1J2uObXm1V7icW1hAIcZ+6CYjUmOcgf3DnitxOKY+XCtUbIcYGf7rbiCALEGOvfIhnA42oSQXusykRO8s43aU1wfwnVc+mC8kOe4HS4Bp20/qd2qS4DKH/AMS/KS4SQ4CePrBERmERHJHNEzA4hjWkmoXgvdlLsxI4odkGpMCT1Hcgty6x6FTOH8yo7eWDqDJ//RVk54LJGhA71DbTkuO93gwBcZ+LDRB9dC6KRupbaadbTWLtXmk712LM8NYnI17z9kWHPOUd5W5NOy879rKZ91WaBcGeprw490osYaviC4kkySZnnSBVKjucuBy70m09j1d8FVTpsKzdNyvuCti4sWV6Z7J4wvplhMlkR+E6K+Cxnsg+KrhsyHucP3WyJUiZelJLhaEZkLpGYxNOHFsdHXdNRtUzhUfzD0DzULuXFaTxGQlShU20oN/W5KpCbJtuoS8Obj1sWuPrPLxysWNs5xFidCQANpIEDr1XGOYSAKjSToAQSbTYTJspNSix0ZmtMTEgGJ1jcs3Wx2V7f5bAWPyiA4RLyzQOg8UO12rXThcB7Mpf7ziiSSbQBqSJkajtTmUfME/vG9VB4QAeQabeO9lN2vJdUrMNp/oJ583QmauPYKkmi3NkL82ZwMlxJA3CaYPSAgvjRdsee0pinTcSYMQlcH02FrKjWBrnMkxeA7jEdElOYc8Z/T9U0E+7fpnE7pO6fBBpP+/3/so+PwtNrS8tJ4w0cRd7oJG67ie0aGFV4LE0nSCx5a/3Lg15a4NlwygW2HWZtbRBe+7qfe9diMj947voqXCYqnUDLPzNDA15yl4963PZxnQNjuuucG4xj8jWOrj3hkFxaYyy8idgIzDr2aoLt5eBc25oXcE8OFthPif2TVRmSmW5nOja4yTLpueuOpReBa/L5nvHeucpuaWLxrbpQCS1yUvO6KlZb2jwsOzwC11ndMberwWmcUzXpNeC1wkHWVVjwvhngp1FxIEsJ4p3f0u3HxVYvY+EvZ9wksGdp+ydY3R9oLIYn2epZjmYWHcCW/6TYKzL+mt+MfT1Ws4Ko5Wgndb6pzCcA0w7isLjsmXd2i0eE4EeeM8ZRu+0erYpld+LJr1O9laGUOeftWHQNT63LR5lS0H5IboB67vWl7CjUlQqaCugpoOSs1pVRR8Ju/mHq+vmoc+utOYsy9x5/wBvJNgX6VzWk8Q0JWVCo0jDf1uS6Gz1tTLPXYnKN+xa436zy8TXGBO5VWJqUHDivphxIMkNvqZuDGrjmjVWgY/1Cadhz91vYFqzU7KRcRD8O42OgkkFrs1gLS55t8zVKoYUOcwvNFwLCHZdS0ttliLSXzzFWYw5BBDGSNCALDmukNw0GRTYDvDQE2HqQaBlZENtAOnMmqJ4z+n6rjKbm8ljRoLCLCwFtyZY9wcbSTqLqbEjEMa4ZXaEgxMXBzDvCqX4DIeJSzNAaAc/3ILQZcLzPUNdhm4hmeM9KY0mbdFuZRv4Kn8nZGr9IAjuHYqRGw2EewgNw8AZYl4PIY5rJ5tATzynuCuC2MDHFrmOYXANLg63GYCTF5aZ604aLAGj3bgGzHGdImJvqZgargpsDQ3K+BYcZ3N2mwuefegmY13EPV4qh4Fr8esP63HtcforbEV8wiI6Vk+C8TFZ/O94/wBRXOV+x1jPlb/DVgRG1PgqhZiMsFW+GxAeJGu1Z54/drD5K6EkBKAWalSkuAOoBXZSQqhJgaADoso9YyFIcEw9SrFTXbBKcw1T169ebmJCiUzHruRVrTekY/FZG8508u+O9NHEBokmB6sqDF44vfOzZ1eu9TaybPNfPclBRm1L9CcY5HREoTedCuhomu9dSew5v1fRMz4eQTmH5XUtMfWd8WOIoh7Mp0MbjoQdCCDpoVS8IOawuYKtZrjBkHM0ZnDQBw2nu3WN8w2HQq7hHg9r8z+MXBohrSBOW4FxtK3Zo78dTa4vzvA5TmxMgtaANbXM23lM16zW5We/e2cwFi4kgBrpdM6uBHOma+F4pb7uqRlyyINm5uMZaNcjdJ5QRUwud7CWVWw86tFsxN3c3EGn3ggtcI8vio2oSwl0NygCOTG+zgfV05S5b+pJwGFFJjWAkhs3O2ST5rtLlv6vBQMYpjxLhVDWyIlsgWyx0SR61i0MWX5ga7YmmWOYLlriBcFsDNoNd9tFYYulnYWzF2mddHA+Sz7cG2kcrnmQKQ5Mf5b2OJ5WhzAfVBPZi3Oa1wrMzBozDRhLoc06ZuQHbdy7QxT3DK2pSe83EE8nM4TAvqIne09CqsMxgGQPJLgwDiEcmmKY1O3OLa6qTwHwflyVQ8OaaeUWLT/mPfMHTlx1ILLEzkbmjNImNJgzC86p1ctUne4nvK9Fx5sOnyK81qsuelZZtMWuo15AT7KxaZBuqHg7EyI2hWrHypvZY0GD4TDrOsVZsdKx0qTh+EHs2yNxUsNNQUSqenw6z7QhPjhij98Bc6NJrnJp5Kiv4Xo/fUSvw5TGhJ7lF0k4gqrrVwy7rKHi+HXGzLc4+v7KodULgSTP7osxS8djXPMaNGg6tqaa9M7fW5LabetyjpNa+wTjXeKiMNvXMpLCimZKFyedCqNS869H0TtDleudMOOvranKR4/WF3PXFWbasCIUOphmEky8EmTlcRfo0/4CntJycWJgxOk7JUN9es2ZYw2kDMGk77Sb6ejbdkaFJgIOepYk3dIMzY7xdGRuac9TWYkRrMaaJ9tZ5yEsbDgyW7WuMl8mSCGwNl51SH1agMe6Dr6gtAjMQLEzMQ7rjVAUntbJzvM/evF9iQyuA9xMwfJSGPJcAaUDa61uLOmutkllNud9hAi3SgjYioHRFRzI+6NemR0pkB3/AJDvyDm/ftUmrVhxHuSQDq1p0gmdI1jQ9MGxbZiGuBLaRlrgHB0NIkSTt06ulA25zoAFe8EE5NTbjRsP1Sg82/mi2vF1v3bupddVZY+6OVzQQYM30BbFrc+1JZXYWh3uniYtluOKDfdqR0goEY+qCAAZ29ywJEre8JMaGSBFj4SsKxvrsWX6etcDlBkCRqrCjX2GxSMNS7k+/DeutZ7dWHRUXHvUJzHDQpt1V3MmzSW5ybc5RX1ncybL3Eaps0kPqgJl9QnohIjXoSnC56FztXW+SBolAX9b0Rp1IrpF+vyXQbety5HilAW9c6B1pt63J5jlGZon6Z09bUQiUJM8yFRrP27yl0xDh+IeCQB4hLp8odP0C7nrirmhyVWcNYF9SC2LNcDJjUt+hVlTMCDZRa9R+Y5HsjYHTI55HWt2SiqYeW2ezR/2gLOD8uv/ANjPzLlWg4+6DXMkPpTx26NY1pi97wI5wrJ1AyJZhyJHlcSLER3DRK9wAQG06eUPzSDGmjgPvWEqhzgSg9lFrXiHAnbPenmHjv8A7fBLp1HEmWgDYQ6dsadEHrTFJ/8AMffd3C6A4TDyziTmzM5OsZ2z3SqRjK4a6feTAi7thdp3dyvcTVe2MrM+s3AiNl9SfI9dbWpZnFxoPk3OVwG1uhF83FB7boIz/f5Kn+ZM1MvKnkNyx1zCd4ENbO73hfGVsZ5icjCddsl3eunAsbEUqhBaLTMc17BwygzvVhQflDWBj4AAkxAAFp7NygjcMniH8L/BYmgy62fDh4jvwP8ABZXAU7z60WP6etcPE/D0rKSGW6/MJykyyU02WbpAq0tfW9RcRRufWxWbhcqPUZJ9cyKqns060kst2qa9mijPZAHWim3s16EEXPQluGo5knS/MiON29C7uRl19bF0NuiidekJR9dq4PNLb9fFQdYLet6epBNs+qdZ69dSojxzIT0IRGnadPxeSXQ5TekeKbGz+4peG5TekdwldT1yvmMBEkSq7+Oo/aa4f6tZ+6T93y1Biywx4o6/FVfDmMewgNdALHkiAZIiNeYFelidz0jls7K4AtdsOYw0b5J5k26pQFnEtObLB1JzFoIibFwIVfU4Re1ojLZsjitgcSqWxa0ZGpeI4SeHUpDDnLA6WjQhpdG65KCybSolwaHcY6C06Tu3JLME3M4bB23SuBapfSY97Wh5mcrYuCW26gn6R47+kIIL6NEGC+LkXsLAkwSIMQZ3aINCkI4+py2M8aJgkaGN67ws5lNhqBjHOk6j+ku16lWsxbQx7RTEF7wRmdqabySN1hEDSVBYmiySPeXABN9AdDrpY9iU3Ct2P7+eN6q8Xwiw03PdRaQ0hoGYgQ1+QaDZmJUrg33dbM00wAyAOMTZ4zHouEEfhuhkY+8yw/RUnB1KGT1rRe0h/lu/D4uVRhmwxvQsf09a4+H27ujz+i4Ds5l0O8fqhwnvWbojb63pl7b9fmE8BfrSSL+t6KhPHn670w+mY6j3qdWZ4eQTNVturzRUKq3XfASXN16FKqs19bk09mvQPogaLdUAX6kojXoCGtuOYevBAlo8fNKA80R4lKYPEqBTB6606weuv/hcptulsHrsVDOQISMhQiNK42H4fFSMKOOOv/aAtAfY93zm/kP6k5R9lXNM+9bt+yfqtJjduLfhihyR0KLicXTOZudocJF4kHS0i8dYV83gJ4Ee8b+U/VIf7O5tSw9LJ81tuM9Vk3Mc45W1qV5gENM8sNA4uyefQ9aqdBxcwufScA4mA1vJlw4tpB/yxr9krUN9mgCCCwEGQQyCDv1XG+zIBmWTe4aQb67eYdidQ0rqIYBlZlAGxsQJvoEzhzxn/iV1S9ncvJc0aaNOzTauUfZ5zZ/mNMmeSfqm4aU2JpMeMjwDzExsI8Ce1VFbCPGbJRY6SXDjEZjDwDOfdk2faPVrMR7KteZc4ExEwRaZix9W3Jk+xdOIzf7u7jW1TcTVZStg3lj2fw7YkkDOeNxnO1zWuGHrPQrjC4RjJyCM0TcnSd/SVa1fZIOMmodhtIuAADY83QnG+y8OzCpfnBI0A0nmnrKbhqsl7RniEbw3veAoAGnMPqtrj/ZJ1T/utHJ+yTyXZt6j/BL/AJ7fyH9Sxzlt+NcbJGUtBXHaW3+ZWrHsQ75zfyH9SV8FO+c38h/UueavUZFu/oQdnQtZ8Du+e38h/Uj4If8APb+Q7vxJzV6jHvbPrmTb2adA8lsz7EOt/Pb+Q7vxLh9hnW/nt/If1JzTqMTUZr1eEJo07lbt/sK4/wDfb+Q75+8kn2Dd89v5D+pTmnUYJzOV62BJay/r1tW7PsA+I/iG7PsH9S5/0+dM/wAQ3T7h/UnFOowjW6daWxunPK24/wDT59v/AHDfyH9S63/0/eP/AJDdv2D+pOKdRjGC6ca2/rnC2PwC757fyHn/AKk58COmfft/If1JxU6jASdyFuP+nr//ACG/kP6kK806j0BC6hauAhCEAhCEAhCEAhCEAhCEAhCEAhCEAhCEAhCEAhCFAIQhUCEIQCEIQCEIQf/Z\"","export default \"data:image/jpeg;base64,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\"","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { ThousandFormat, VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport VarianceModal from \"./VarianceModal\";\nimport { VarianceProductMiniTableRow } from \"../../../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../../../api/branchApi\";\n\nimport defaultProduct from \"../../../../../assets/img/product/default-product.png\"\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nimport PrintBarcodePopUp from \"./PrintBarcodePopUp\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst InventoryDetail = (props) => {\n  const { row, openRow, setReload ,isManageInventory} = props.parentProps;\n  const { isMini } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [thisReload, setThisReload] = useState(false);\n  const dispatch = useDispatch();\n\n\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      setReload();\n      // console.log(response);\n    } catch (error) {\n      // console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branchs = info.store.branches\n \n  // const [branchs, setBranchs] = useState(info.branchsOfStore);\n\n  const [isOpenVarianceDetailModal, setIsOpenVariaceDetailModal] =\n    useState(false);\n  const [selectedVariance, setSelectedVariance] = useState({});\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    if (openRow === row.uuid) {\n      fetchProduct();\n    }\n  }, [store_uuid, openRow, thisReload]);\n  const handleCloseUpdate = (status) => {\n    setIsOpenUpdate(false);\n  };\n\n\nconst [openPrintBarcode,setOpenPrintBarcode] =  useState(false)\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\nconsole.log(\"productDetail.img_urls\",productDetail)\n\nlet  imageList =row.img_urls ? JSON.parse(row.img_urls):null\nimageList = Array.isArray(imageList)? imageList :[imageList]\n// || defaultProduct\n  return row.has_variance ? (\n    <>\n      {openRow === row.uuid &&\n        productDetail.variations?.map((variance) => {\n          return !xsScreen ? (\n            <>\n              <TableRow>\n                <TableCell align=\"left\">{\"               \"}</TableCell>\n                <TableCell align=\"left\">{variance.product_code}</TableCell>\n                <TableCell align=\"left\" style={{ minWidth: 200 }}>\n                  <ListItem\n                    style={{\n                      marginLeft: -30,\n                      marginTop: -10,\n                      marginBottom: -10,\n                    }}\n                  >\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 50,\n                        width: 50,\n                        borderRadius: 10,\n                        marginRight: 15,\n                      }}\n                      src={JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) || defaultProduct}\n                    />\n                    <Typography className={classes.fontName}>\n                      {variance.name}\n                    </Typography>\n                  </ListItem>\n                </TableCell>\n\n\n                <TableCell align=\"left\">{variance.category?.name}</TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.list_price} />\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.standard_price} />\n                </TableCell>\n                <TableCell align=\"center\">\n                  <FormatedProductStatus\n                    quantity={variance.branch_quantity}\n                    lowStock={variance.min_reorder_quantity}\n                  />\n                </TableCell>\n                <TableCell align=\"right\" className={classes.fontName}>\n                  {variance.branch_quantity}\n                </TableCell>\n                <TableCell\n                  onClick={() => {\n                    setIsOpenVariaceDetailModal(true);\n                    setSelectedVariance(variance);\n                  }}\n                >\n                  <Button size=\"small\" color=\"primary\" variant=\"outlined\" >\n                    Chi tiết\n                  </Button>\n                </TableCell>\n              </TableRow>\n            </>\n          ) : (\n            <VarianceProductMiniTableRow\n              key={row.uuid}\n              variance={variance}\n              onClick={() => {\n                setIsOpenVariaceDetailModal(true);\n                setSelectedVariance(variance);\n              }}\n            />\n          );\n        })}\n      {isOpenVarianceDetailModal && (\n        <VarianceModal\n          open={isOpenVarianceDetailModal}\n          parentProps={props.parentProps}\n          row={selectedVariance}\n          handleClose={() => setIsOpenVariaceDetailModal(false)}\n          branchs={branchs}\n          // handleBranchQuantity={()=>{setOpenDetailInventory(true); console.log(\"helllllooo\")}}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n         batches={row.batches}\n         has_batches={row.has_batches}\n         isManageInventory={isManageInventory}\n        />\n      )}\n    </>\n  ) : (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      {isOpenUpdate && (\n        <UpdateInventory\n          handleClose={handleCloseUpdate}\n          open={isOpenUpdate}\n          productInfo={productDetail}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n          isManageInventory={isManageInventory}\n        />\n      )}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleConfirm={handleConfirmDelete}\n        handleClose={handleCloseDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={4}>\n      \n           {imageList.at(0) ?\n            <Box\n              sx={{\n                // height: 170,\n                // width: 170,\n                height: xsScreen ? 100 : 170,\n                width: xsScreen ? 100 : 170,\n                borderRadius: 2,\n                marginLeft: 15,\n                marginBottom: xsScreen ? 10 : 0,\n              }}\n            >\n              <Carousel showThumbs={false}>\n                { \n                imageList?.map((url) => (\n                  <img\n                    key={url}\n                    src={url}\n                    height={xsScreen ? \"100\" : \"170\"}\n                    width={xsScreen ? \"100\" : \"170\"}\n                    // height= \"170\"\n                    // width= \"170\"\n                  />\n                ))}\n              </Carousel>\n            </Box>:\n              <Box\n                    component=\"img\"\n                    sx={{\n                    height: xsScreen ? 100 : 170,\n                    width: xsScreen ? 100 : 170,\n                    marginLeft: 7,\n                    marginRight: 7,\n                    borderRadius: 20,\n                    }}\n                    src={defaultProduct}\n                    style={{marginBottom:20}}\n                />}\n          </Grid>\n\n          <Grid container direction=\"column\" item xs={12} sm={8}>\n            <Grid container direction=\"row\">\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tên sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.product_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã vạch\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.bar_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Danh mục\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.category.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Đơn vị\n                    </Typography>\n                  </Grid>\n                  <Grid ListItemText sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.quantity_per_unit}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá bán\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat value={productDetail.list_price}></VNDFormat>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá vốn\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat\n                        value={productDetail.standard_price}\n                      ></VNDFormat>{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                {isManageInventory?\n                <>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\" alignItems='center'>\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tồn kho\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={2}>\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.branch_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.branch_quantity} />\n                  </Grid>\n                  {branchs.length >1 || row.has_batches?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={row.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={() => {\n                      setReload();\n                      setThisReload(!thisReload);\n                     }}\n                     batches={row.batches}\n                     has_batches={row.has_batches}\n                     row={row}\n                   />\n                   \n                   :null}\n                </Grid>\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {row.notification_period} ngày</Typography>:null}\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL đặt hàng lại\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.min_reorder_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.min_reorder_quantity} />\n\n                  </Grid>\n                </Grid>\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={7}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL nhập hàng tối đa\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={5}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.max_order}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.max_order} />\n\n                  </Grid>\n                </Grid>\n                </>:null\n                }\n              </Grid>\n            </Grid>\n\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent={\"flex-end\"}\n              style={{ marginTop: 20 }}\n            >\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setIsOpenUpdate(true);\n                }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setDeleteConfirm(true);\n                }}\n              >\n                Xoá\n              </Button>\n\n              {openPrintBarcode?\n                  <PrintBarcodePopUp\n                    open={openPrintBarcode}\n                    onClose={()=>setOpenPrintBarcode(false)}\n                    row={row}\n                   />\n                   \n                   :null}\n\n              <IconButton\n                aria-label=\"more\"\n                aria-controls=\"long-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n                size=\"small\"\n                style={{ marginLeft: 10 }}\n              >\n                <MoreVertIcon />\n              </IconButton>\n\n              <StyledMenu\n                id=\"customized-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                <StyledMenuItem onClick={() => { setOpenPrintBarcode(true) }}>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <InboxIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"In mã tem\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <HighlightOffTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Ngừng kinh doanh\" />\n                </StyledMenuItem>\n\n                {/* <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <LocalOfferTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử giá\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử kiểm kê\" />\n                </StyledMenuItem> */}\n              </StyledMenu>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryDetail;\n","import {\n    Button,\n    FormControl,\n    Grid,\n    InputLabel,\n    Select,\n    TextField,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport ConfirmPopUp from \"../../ConfirmPopUp/ConfirmPopUp\";\n\nconst UpdateCategory = (props) => {\n    const [categoryInfo, setCategoryInfo] = useState({\n        name: \"\",\n        parent_category_uuid: \"\",\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch = useDispatch();\n    useEffect(() => {\n        setCategoryInfo(props.category);\n    }, [props.category]);\n    const [isDelete, setIsDelete] = useState(false);\n    const handleUpdateCategory = async () => {\n        handleCloseAndReset();\n        try {\n            await productApi.editCategory(\n                store_uuid,\n                props.category.uuid,\n                categoryInfo\n            );\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Cập nhật danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Cập nhật danh mục thất bại\"));\n        }\n    };\n    const handleDeleteCategory = async () => {\n        handleCloseAndReset();\n        if (props.category.children.length > 0) {\n            dispatch(\n                statusAction.failedStatus(\n                    \"Không thể xóa danh mục do có danh mục con, hãy xóa danh mục con trước\"\n                )\n            );\n            return;\n        }\n        try {\n            await productApi.deleteCategory(store_uuid,props.category.uuid);\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Xóa danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Xóa danh mục thất bại\"));\n        }\n    };\n    const handleCloseAndReset = () => {\n        props.handleClose();\n        setCategoryInfo(props.category);\n    };\n    return (\n        <ModalWrapper {...props}>\n            <Typography variant=\"h4\" gutterBottom>\n                Cập nhật danh mục\n            </Typography>\n            <ConfirmPopUp\n                open={isDelete}\n                handleConfirm={handleDeleteCategory}\n                handleClose={() => setIsDelete(false)}\n                message={\n                    <Typography>\n                        Xóa vĩnh viễn danh mục <b>{props.category.name} ?</b>\n                    </Typography>\n                }\n            />\n            <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        label=\"Tên danh mục\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        required\n                        fullWidth\n                        value={categoryInfo?.name}\n                        onChange={(e) =>\n                            setCategoryInfo({ ...categoryInfo, name: e.target.value })\n                        }\n                    />\n                </Grid>\n                <Grid\n                    item\n                    xs={12}\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        justifyContent: \"flex-end\",\n                    }}\n                >\n                    {\" \"}\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        size=\"small\"\n                        style={{ marginRight: 20 }}\n                        onClick={() => {\n                            setIsDelete(true);\n                        }}\n                    >\n                        Xóa danh mục\n                    </Button>\n                    <Button\n                    color=\"primary\"\n                        variant=\"contained\"\n                        onClick={handleUpdateCategory}\n                        size=\"small\"\n                    >\n                        Lưu thay đổi\n                    </Button>\n                </Grid>\n            </Grid>\n        </ModalWrapper>\n    );\n};\n\nexport default UpdateCategory;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from \"react-redux\";\nimport productApi from \"../../../api/productApi\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport zIndex from \"@material-ui/core/styles/zIndex\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport UpdateCategory from \"./UpdateCategory\";\n\nconst useStyles = makeStyles((theme) => ({\n  nested: {\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nexport default function RootCategory(props) {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [subCategories, setSubCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getSubCategory(\n          store_uuid,\n          props.category.uuid\n        );\n        setSubCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if(!props.useNestedApi){\n      fetchCategoryList();\n    }else{\n      setSubCategories()\n    }\n  }, [store_uuid, props.category.uuid, props.reset]);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n    handleClose()\n  };\n  const [update, setUpdate] = useState(false)\n  const handleOpenEdit = () => setUpdate(true)\n  const handleClose = () => setUpdate(false)\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={props.fromRoot ? classes.root : classes.nested}\n    >\n      <UpdateCategory onReset={props.onReset} open={update} handleClose={handleClose} category={props.category}/>\n      <ListItem >\n        <ListItemText\n          primary={\n            <Tooltip  title=\"Cập nhật\">\n              <Button style={{display:\"flex\",flexDirection:\"row\",justifyContent:\"flex-start\", textDecoration:\"none\",textTransform:\"none\"}} fullWidth onClick={handleOpenEdit}>\n                <ListItemIcon>\n                  <CategoryIcon/>\n                </ListItemIcon>\n                {props.category.name}\n              </Button>\n            </Tooltip>\n          }\n        />\n        {props.category.children.length === 0 ? null : open ? (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandLess />{\" \"}\n          </IconButton>\n        ) : (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandMore button />{\" \"}\n          </IconButton>\n        )}\n      </ListItem>\n      <Collapse in={open} unmountOnExit>\n        {subCategories.map((category) => (\n          <RootCategory key={category.uuid} category={category} onReset={props.onReset} reset={props.reset}/>\n        ))}\n      </Collapse>\n    </List>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport RootCategory from \"./List/RootCategory\";\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from \"react-redux\";\nimport { Box } from \"@material-ui/core\";\n\nconst CategoryTree = (props) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [parentCategories, setParentCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getParentCategory(store_uuid);\n        setParentCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid,props.reset]);\n  return (\n    <Box {...props}>\n      {parentCategories.map((category) => (\n        <RootCategory key={category.uuid} category={category} reset={props.reset} onReset={props.onReset} fromRoot={true}/>\n      ))}\n    </Box>\n  );\n};\n\nexport default CategoryTree;\n","import React, { useState } from \"react\";\n\n//import library\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\n\n// import icon\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddCategory from \"../AddInventory/AddCategory\";\n// import project\nimport CategoryTree from \"../../../../components/Category/CategoryTree\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Modal from \"../../../../components/Modal/ModalWrapper\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    categoryPopup: {\n      maxHeight: \"80vh\", \n      overflowY: \"scroll\",\n      margin: -20,\n    }\n  })\n);\n\nconst Category = (props) => {\n  const { handleClose, open } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  // loại lương\n  const [openAddCategory, setOpenAddCategory] = React.useState(false);\n  const handleCloseCategory = () => {\n    setOpenAddCategory(false);\n  };\n  const [reset, setReset] = useState(true)\n  const onReset = () => {\n    setReset(reset => !reset)\n  }\n\n\n\n\n  return (\n    <Modal open={open} handleClose={handleClose}>\n      <AddCategory onReset={onReset} open={openAddCategory} handleClose={handleCloseCategory} reset={reset} />\n      <Box className={classes.categoryPopup}>\n        <Box\n          flexDirection=\"row\"\n          display=\"flex\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{padding:20}}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Danh mục\n          </Typography>\n\n          <IconButton\n            aria-label=\"add\"\n            color=\"primary\"\n            onClick={() => {\n              setOpenAddCategory(true);\n            }}\n          >\n            <AddIcon />\n          </IconButton>\n        </Box>\n        <CategoryTree style={{ width: 500, maxWith: \"80%\" }} reset={reset} onReset={onReset} />\n      </Box>\n    </Modal>\n  );\n};\n\nexport default Category;\n","import React, { useEffect } from 'react';\nimport {\n  Dialog, TextField, Card, ListItem, DialogContent, Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSelector, useDispatch } from 'react-redux';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport useStyles from '../../TableCommon/style/mainViewStyle';\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// import library\n\nimport InvoiceReturnSummary from '../../CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary';\n\nimport * as HeadCells from '../../../assets/constant/tableHead';\nimport * as TableType from '../../../assets/constant/tableType';\nimport SearchProduct from '../../SearchBar/SearchProduct';\nimport TableHeader from '../../TableCommon/TableHeader/TableHeader';\nimport TableWrapper from '../../TableCommon/TableWrapper/TableWrapper';\nimport { getComparator, stableSort } from '../../TableCommon/util/sortUtil';\nimport * as Input from '../../TextField/NumberFormatCustom';\nimport ButtonQuantity from '../../Button/ButtonQuantity';\nimport refundApi from '../../../api/refundApi';\nimport SnackBarGeneral from '../../SnackBar/SnackBarGeneral';\nimport {statusAction} from '../../../store/slice/statusSlice';\nimport {ReturnCartMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport _ from 'lodash';\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InvoiceReturnPopUp(props) {\n  const { order, classes, handleCloseReturn , reload, reloadDetail } = props;\n  const theme = useTheme();\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const dispatch = useDispatch();\n  // 2. Table sort\n  // const [order, setOrder] = React.useState('desc');\n  // const [orderBy, setOrderBy] = React.useState('stt');\n  // const handleRequestSort = (event, property) => {\n  //     const isAsc = orderBy === property && order === 'asc';\n  //     setOrder(isAsc ? 'desc' : 'asc');\n  //     setOrderBy(property);\n  // };\n\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [refund, setRefund] = React.useState({\n    order_code: order.order_code,\n    order_id: order.id,\n    branch: order.branch,\n    customer: order.customer,\n    customer_id: order.customer_id,\n    branch_id: order.branch_id,\n    order_total_amount: order.total_amount,\n    total_amount: 0,\n    details: order.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: 'cash',\n    paid_amount: '0',\n    scores:'0'\n  });\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: 'error',\n    message: 'Trả hàng thất bại',\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newRefund = _.cloneDeep(refund);\n\n    // console.log(newBatches);\n    newRefund.details[itemIndex].selectedBatches = newBatches;\n    newRefund.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    // console.log(newRefund);\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    refund.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    let newRefund = update(refund, {\n      total_amount: { $set: total },\n      // paid_amount:{ $set: total.toString() },\n      paid_amount: { $set: total },\n      scores: { $set:  store_setting?.customerScore.status  ? parseInt((total)/store_setting?.customerScore.value)  :'0'},\n      \n    });\n    // newRefund = update(refund, {\n    //   paid_amount:{ $set: total },\n      \n    // });\n    \n\n    setRefund(newRefund);\n    \n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newRefund = update(refund, { paid_amount: { $set: paidAmount } });\n    setRefund(newRefund);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newRefund = update(refund, { payment_method: { $set: paymentMethod } });\n    setRefund(newRefund);\n  };\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const import_date = moment.unix(d).format('YYYY-MM-DD HH:mm:ss', { trim: false });\n\n    const body = {\n      order_uuid: order.uuid,\n      customer_id: refund.customer_id,\n      total_amount: refund.total_amount.toString(),\n      payment_method: refund.payment_method,\n      paid_amount: refund.paid_amount,\n      points:refund.scores,\n      status:\n      refund.paid_amount >= refund.total_amount\n        ? 'closed'\n        : 'debt',\n      details: refund.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        order_batches: detail.order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      import_date,\n     \n    };\n\n    try {\n      const res = await refundApi.removeInventory(\n        store_uuid,\n        refund.branch.uuid,\n        body,\n      );\n      dispatch(statusAction.successfulStatus(`Trả hàng thành công: ${res.data.refund_code}`))\n      reload();\n      reloadDetail();\n      handleCloseReturn()\n    } catch (err) {\n      dispatch(statusAction.failedStatus('Trả hàng thất bại!'))\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  return (\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n       \n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 30 }}>Trả hàng</Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleCloseReturn}>\n          <CloseIcon />\n        </IconButton>\n\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" spacing={2}>\n         \n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: '75vh' }}>\n                {/* JSON data attribute phải giongso table head id */}\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n               {!xsScreen ? ( <TableWrapper isCart>\n                  <TableHeader\n                    classes={classes}\n                                    // order={order}\n                                    // orderBy={orderBy}\n                                    // onRequestSort={handleRequestSort}\n                    headerData={HeadCells.CartReturnHeadCells}\n                  />\n                  <TableBody>\n                    {/* {\n                                    stableSort(row.list, getComparator(order, orderBy))\n                                        .map((row, index) => {\n                                        return (\n                                            <CartReturnTableRow row={row}/>\n                                        );})\n                                } */}\n\n                    {refund.details.map((detail, index) => (\n                      <CartReturnTableRow\n                        handleProductPriceChange={handleProductPriceChange}\n                        handleItemQuantityChange={handleItemQuantityChange}\n                        detail={detail}\n                        handleChangeBatches={handleChangeBatches}\n                      />\n                    \n                    ))}\n                  </TableBody>\n                </TableWrapper>):\n                refund.details.map((detail, index) => (\n                  // <CartReturnTableRow\n                  //   handleProductPriceChange={handleProductPriceChange}\n                  //   handleItemQuantityChange={handleItemQuantityChange}\n                  //   detail={detail}\n                  // />\n                  <ReturnCartMiniTableRow\n                    detail={detail}\n                    handleProductPriceChange={handleProductPriceChange}\n                    handleItemQuantityChange={handleItemQuantityChange}\n                    isCart={true}\n                  />\n\n                ))\n              }\n              </Box>\n            </Card>\n          </Grid>\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <InvoiceReturnSummary\n                data={refund}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n\n    </>\n  );\n}\n\nexport default InvoiceReturnPopUp;\n\nfunction CartReturnTableRow({ detail, handleProductPriceChange, handleItemQuantityChange, handleChangeBatches }) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n\n\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>{detail.product_code}</TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      <TableCell align=\"right\"><Input.ThousandFormat style={{ width: 70 }} value={detail.unit_price}/></TableCell>\n      <TableCell align=\"right\">\n      { canFixPriceSell.status && canFixPriceSell.returnImport?\n        <Input.ThousandSeperatedInput id=\"standard-basic\" style={{ width: 70 }} size=\"small\" inputProps={{ style: { textAlign: 'right' } }} defaultPrice={detail.returnPrice} onChange={(e) => handleChangePrice(e.target.value)} />\n     :<Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n     \n        </TableCell>\n\n      {/* <TableCell align=\"left\" padding=\"none\">\n        <ButtonQuantity\n          quantity={detail.returnQuantity}\n          limit={detail.quantity - detail.returned_quantity}\n          setQuantity={handleChangeQuantity}\n          show={show}\n          setShow={setShow}\n          isReturn={true}\n        />\n      </TableCell> */}\n            <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n\n      <TableCell align=\"right\" className={classes.boldText}>\n     < Input.VNDFormat value={Number(detail.returnQuantity) * Number(detail.returnPrice)} />\n      </TableCell>\n\n    </TableRow>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\n// import library\nimport {\n  Dialog,\n  Card,\n  DialogContent,\n  Box,\n  Tooltip,\n  Chip,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  Divider,\n  ListItem,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n// import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\n\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InvoiceReturnPopUp from \"../../../../../components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp\";\n\nimport orderApi from \"../../../../../api/orderApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport invoiceApi from \"../../../../../api/invoiceApi\";\nimport setting from \"../../../../../assets/constant/setting\"\nimport {statusAction} from '../../../../../store/slice/statusSlice'\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nfunction InvoiceDetail(props) {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n  const promotionDiscountValue = row.promotion_detail?.selectedPromotion?.discountType ===\"discountInvoice\" ?  row.promotion_value :0\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n \n  //  tam thoi\n\n\n  const theme = useTheme();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles(theme);\n  const [reload, setReload] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = orderApi.deleteOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa hóa đơn thành công\"));\n      onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa hóa đơn thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [order, setOrder] = useState({\n    customer: { name: \"\" },\n    created_by_user: { name: \"\" },\n    branch: null,\n    details: [],\n  });\n\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await orderApi.getOrder(store_uuid, row.uuid);\n        // console.log(res.data)\n        console.log(\"res\",res.data)\n        setOrder(res.data);\n      } catch (error) {\n        setOrder({\n          customer: { name: \"\" },\n          created_by_user: { name: \"\" },\n          branch: null,\n          details: [],\n        });\n      }\n\n      // },\n      //   [props.parentProps.openRow],\n      // );\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n  const debtAmount = order.total_amount - order.discount - promotionDiscountValue+row.other_fee_value - order.paid_amount;\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return orderApi.editOrderApi(store_uuid, branch_uuid, uuid, body);\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n\n  function getDifferenceInDays(date1, date2) {\n    const diffInMs = Math.abs(date2 - date1);\n    return diffInMs / (1000 * 60 * 60 * 24);\n  }\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const type = store_setting?.printReceiptWhenSell.cartModal;\n\n  const returnLimit = store_setting?.returnLimit\n\n\n  // const haveReturnQuantity = order.details.ex(()=>returned_quantity)\n  var haveReturnQuantity =   order.details.every(function (element, index) {\n    if ( Number(element.returned_quantity) === 0) return false;\n    else return true;\n  })\n\n  console.log(\"rowrowrowrowrowrow\",row)\n\n\n  const TableRowDetailCart = ({detail}) =>{\n    return (\n      <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail?.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                {/* <TableCell align=\"right\">{detail.returned_quantity}</TableCell> */}\n                {haveReturnQuantity?\n                 <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>:null}\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n    )\n  }\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        onReload={props.parentProps.onReload}\n        reloadDetail={() => setReload(!reload)}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Thu thêm hóa đơn <i>{row.order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày bán{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách hàng\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.customer ? order.customer.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người bán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.created_by_user ? order.created_by_user.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* Cần thu <VNDFormat value={debtAmount} /> */}\n                  {debtAmount > 0 ? \"Cần thu thêm \" : \"Trả đủ\"}\n                  {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={order.total_amount - order.discount  - promotionDiscountValue+row.other_fee_value} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.branch ? order.branch.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              {haveReturnQuantity ?<TableCell align=\"right\">Đổi trả</TableCell>:null}\n              <TableCell align=\"right\">Giá bán</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {order.details.map((detail) => (\n              <TableRowDetailCart detail={detail}/>\n              // <TableRow key={detail.product_id}>\n              //   <TableCell component=\"th\" scope=\"row\">\n              //     {detail.product_code}\n              //   </TableCell>\n              //   <TableCell>{detail.name}</TableCell>\n              //   {/* <TableCell>{detail.bar_code}</TableCell> */}\n              //   <TableCell align=\"right\">\n              //     <div>\n              //       {detail.quantity}\n              //       <div>\n              //         {detail.batches\n              //           ? JSON.parse(detail.batches).map((batch) => (\n              //               <Chip\n              //                 size=\"small\"\n              //                 label={`${\n              //                   batch?.batch_code ? batch?.batch_code : \"Mới\"\n              //                 }(${\n              //                   batch?.expiry_date\n              //                     ? batch?.expiry_date.substring(0, 10)\n              //                     : \"\"\n              //                 }) - ${batch.additional_quantity}`}\n              //                 key={batch.id}\n              //                 color={batch.is_new ? \"primary\" : \"secondary\"}\n              //                 variant=\"outlined\"\n              //               />\n              //             ))\n              //           : null}\n              //       </div>\n              //     </div>\n              //   </TableCell>\n              //   {/* <TableCell align=\"right\">{detail.returned_quantity}</TableCell> */}\n              //   {haveReturnQuantity?\n              //    <TableCell align=\"right\">\n              //     <div>\n              //       {detail.returned_quantity}\n              //       <div>\n              //         {detail.batches\n              //           ? JSON.parse(detail.batches).map((batch) => (\n              //               <Chip\n              //                 size=\"small\"\n              //                 label={`${\n              //                   batch?.batch_code ? batch?.batch_code : \"Mới\"\n              //                 }(${\n              //                   batch?.expiry_date\n              //                     ? batch?.expiry_date.substring(0, 10)\n              //                     : \"\"\n              //                 })-${batch.returned_quantity}`}\n              //                 key={batch.id}\n              //                 color={batch.is_new ? \"primary\" : \"secondary\"}\n              //                 variant=\"outlined\"\n              //               />\n              //             ))\n              //           : null}\n              //       </div>\n              //     </div>\n              //   </TableCell>:null}\n              //   <TableCell align=\"right\">\n              //     <VNDFormat value={detail.unit_price} />\n              //   </TableCell>\n              //   <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n              //     <VNDFormat value={detail.quantity * detail.unit_price} />\n              //   </TableCell>\n              // </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n\n        {row.promotion_detail?.selectedPromotion?\n          <Box style={{marginTop:15}}>\n            {/* <Divider/> */}\n              <ListItem>\n              <Typography><b style={{color:'red'}}>Khuyến mãi </b></Typography>\n                  <CardGiftcardIcon  style={{marginLeft:10, color:'red'}}/>\n              </ListItem>\n             <Typography style={{ color:'#000'}}><b>{row.promotion_detail?.selectedPromotion.name}: </b> \n                Tổng tiền hàng từ {row.promotion_detail?.bestDetailSelectedPromotion?.totalCost.toLocaleString()} đ \n                { row.promotion_detail?.selectedPromotion?.discountType ===\"discountInvoice\"?\n                  ` giảm giá ${row.promotion_detail?.bestDetailSelectedPromotion?.discountValue.toLocaleString()} ${row.promotion_detail?.bestDetailSelectedPromotion?.type}`:\n                  ` tặng:`\n                }\n             </Typography>\n            { row.promotion_detail?.listGiftItem?.map((detail)=>{\n              return (\n                <TableRow key={detail.product_id}>\n                 <TableCell>{detail.quantity} sản phẩm</TableCell>\n                <TableCell>{detail.product_code} - {detail.name}</TableCell>\n               \n              \n              </TableRow>\n              )\n            })\n               \n            }\n         \n            </Box>:null}\n\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                {/* <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography> */}\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({order.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(order.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá {row.promotion_detail?.bestDetailSelectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({row?.promotion_detail?.bestDetailSelectedPromotion?.discountValue}%)</b>:\"\"}\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.discount + promotionDiscountValue} />\n                </Typography>\n              </Grid>\n            </Grid>\n            { \n           \n            row.other_fee_detail?.map((fee)=>{\n              if(fee.name.length >0)\n              return (\n               <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n               <Grid item xs={7} sm={2}>\n                 <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    {fee.name}\n                 </Typography>\n               </Grid>\n               <Grid item xs={2} sm={2}>\n                 <Typography variant=\"body1\" gutterBottom component=\"div\">\n                   <VNDFormat value={fee.type === \"%\"?  Number(fee.value)*(Number(row.total_amount) - Number(row.discount) - Number(row.promotion)) / 100 :fee.value  } />\n                 </Typography>\n               </Grid>\n             </Grid>\n              )\n            })\n           }\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\" style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                  <VNDFormat value={row.total_amount - row.discount  - promotionDiscountValue+row.other_fee_value} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          // justifyContent=\"flex-end\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n        \n          {info.user.uuid?.includes(order?.created_by_user.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n              style={{ marginLeft: 15}}\n              onClick={handleDelete}\n            >\n              Xóa hóa đơn\n          </Button> :null}\n\n          {returnLimit.status === false || returnLimit.status === true && (getDifferenceInDays(new Date(),new Date(row.creation_date)) < returnLimit.day) ?\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n                style={{ marginLeft: 15 }}\n                onClick={handleClickOpen}\n              >\n                Trả hàng\n            </Button>\n          :null}\n           <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In hoá đơn\n          </Button>\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton> */}\n         \n\n          {/* <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In hoá đơn\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n      {/* \n      <Dialog fullWidth maxWidth=\"lg\" open={open} onClose={handleCloseReturn} aria-labelledby=\"form-dialog-title\">\n        <InvoiceReturnPopUp handleCloseReturn={handleCloseReturn} order={order} classes={classes} /> */}\n\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={order} date={row.creation_date?.split(\" \")[0].split('-').reverse().join('/')} code={row.order_code} type={type}/>\n        </div>\n      </div>\n\n      {/* Tra hang */}\n\n      <Dialog\n        fullWidth\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleCloseReturn}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <InvoiceReturnPopUp\n          handleCloseReturn={handleCloseReturn}\n          order={order}\n          classes={classes}\n          reloadDetail={() => setReload(!reload)}\n          reload={onReload}\n        />\n      </Dialog>\n    </Collapse>\n  );\n}\n\nexport default InvoiceDetail;\n","import React, {useEffect,useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import library\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Avatar,\n  Dialog,\n  FormHelperText\n} from \"@material-ui/core\";\n\n//import project\nimport customerApi from \"../../../../../../api/customerApi\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    ava: {\n      width: theme.spacing(7),\n      height: theme.spacing(7),\n    },\n    textField: {\n      width: \"100%\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateCustomer = (props) => {\n  const { handleClose, open, onReload } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [phoneExist, setPhoneExist] = React.useState(false);\n  const [clicked, setClicked] =useState(false)\n\n\n  const customerFormik = useFormik({\n    initialValues: {\n      name: props.customerDetail?.name || \"\",\n      email: props.customerDetail?.email || \"\",\n      phone: props.customerDetail?.phone || \"\",\n      address: props.customerDetail?.address || \"\",\n      paymentInfo: props.customerDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n  })\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  // const handleCloseAndReset =() =>{\n  //   // handleClose()\n  //   onReload()\n  //   customerFormik.resetForm()\n  // } \n  useEffect(() =>{\n    if(phoneExist) {setPhoneExist(false)}\n  },[customerFormik.values.phone])\n\n  const dispatch = useDispatch()\n  return (\n \n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Chỉnh sửa khách hàng\n        </Typography>\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-around\"\n            spacing={3}\n          >\n            <Grid item xs={7}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Tên khách hàng\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                required\n                name = \"name\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.name}\n                error={customerFormik.touched.name && customerFormik.errors.name}\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                required\n                id=\"outlined-basic\"\n                label=\"Số điện thoại\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"phone\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.phone}\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\n                onBlur={customerFormik.handleBlur}\n              />\n               { phoneExist && (\n                <FormHelperText error>Số điện thoại đã được sử dụng</FormHelperText>\n              )}\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Địa chỉ\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name= \"address\"\n                // required\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.address}\n                error={customerFormik.touched.address && customerFormik.errors.address}\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n            <Grid item xs={5}>\n              <TextField\n                id=\"date\"\n                label=\"Thông tin thanh toán\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.textField}\n                name = \"paymentInfo\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.paymentInfo}\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Email\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name = \"email\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.email}\n                error={customerFormik.touched.email && customerFormik.errors.email}\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={handleClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          onClick={async () => {\n            setClicked(true)\n            let body = {\n              name: customerFormik.values.name,\n              email: customerFormik.values.email,\n              phone: customerFormik.values.phone,\n              address: customerFormik.values.address,\n              payment_info: customerFormik.values.paymentInfo,\n            };\n\n            try {\n              const response = await customerApi.updateCustomer(store_uuid, props.customerDetail.uuid, body)\n              handleClose()\n              // handleCloseAndReset()\n              dispatch(statusAction.successfulStatus(\"Sửa thông tin khách hàng thành công\"));\n              onReload()\n              \n            } catch (err) {\n              // dispatch(statusAction.failedStatus(\"Sửa thông tin khách hàng thất bại\"));\n              setPhoneExist(true)\n              setClicked(false)\n            }\n\n          }}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled = {!(customerFormik.isValid  )|| clicked}\n        >\n          Lưu thay đổi\n        </Button>\n      </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default UpdateCustomer;\n","import { Box, Button, Collapse, Grid, IconButton, InputAdornment, ListItem, ListItemIcon, ListItemText, TextField, Typography } from '@material-ui/core';\nimport React, {useState} from 'react'\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton'\nimport VNDInput, { ThousandFormat, ThousandSeperatedInput, VNDFormat } from '../../../../../components/TextField/NumberFormatCustom';\nimport { createStyles, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\nimport { Tag } from 'antd';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport UpdateCustomer from \"../CustomerDetail/UpdateCustomer/UpdateCustomer\"\nimport avaUpload from '../../../../../assets/img/ava/avaa.jpeg';\nimport customerApi from \"../../../../../api/customerApi\";\nimport moment from 'moment'\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\n\n\n\n//import icon\n\n\n\n\n//import image\n// import avaUpload from '../../../../../assets/img/product/lyimg.jpeg';\n\n\n//import project \n\n\n\n\n\n\n// import CustomerDebtDetail from \"./CustomerDebtDetail\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      '& .MuiTextField-root': {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: '1.125rem'\n    },\n    typo: {\n      marginBottom: 20\n    }\n\n  }));\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n\n      }}\n      src={avaUpload}\n    />\n\n  )\n}\nconst CustomerDetail = (props) => {\n\n  const { row, openRow } = props.parentProps;\n\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editItem, setEditItem] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const dispatch = useDispatch();\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n\n  const handleDeleteCustomer = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await customerApi.deleteCustomer(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.onReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await customerApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n          date: moment(new Date()).format(\"YYYY-MM-DD\")\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.onReload();\n      }\n    } catch(err) {\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n\n// const [openDetaiDebt,setOpenDetaiDebt] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteCustomer}\n        message={\n          <Typography>\n            Xóa vĩnh viễn khách hàng <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Thu nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n          {/* <VNDInput\n          size=\"small\"\n          value={paidAmount}\n          onChange={(e) => {\n            const amount = Number(e.target.value);\n            if (amount < 0 || amount > row.debt) return;\n            setPaidAmount(e.target.value);\n          }}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              {\" \"}\n              / <VNDFormat value={row.debt} />\n            </InputAdornment>\n          }\n        /> */}\n        <ListItem>\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editItem &&<UpdateCustomer customerDetail={row} open={editItem} onReload={props.parentProps.onReload} handleClose={() => { setEditItem(false) }} />}\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={3}>\n            <UploadImage />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\" >\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.customer_code} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Số điện thoại</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Thông tin thanh toán</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Địa chỉ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.address} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Email</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.email} </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n\n          <Grid item xs={12} sm={4}>\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tích điểm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={row.points} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền mua</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.total_payment} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Còn nợ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.debt} /> </Typography>\n              </Grid>\n              {/* {row.debt > 0?\n              <Grid item sm={3} >\n                  <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetaiDebt(true)}> Chi tiết</Button>            \n                </Grid>:null}\n                {openDetaiDebt?\n                <CustomerDebtDetail  \n                open={openDetaiDebt} \n                 onClose={()=>setOpenDetaiDebt(false)}\n                 setReload={() => {\n                  // setReload();\n                  // setThisReload(!thisReload);\n                  \n                 }}\n                 />:null} */}\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Nhóm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                {row.groups?.map(g => <Tag color=\"magenta\" >{g}</Tag>)}\n              </Grid>\n\n            </Grid>\n            </Grid>\n              \n            \n\n        </Grid>\n\n        {/* Button */}\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"} style={{ marginTop: 20 }}>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setEditItem(true) }}>Sửa</Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setDeleteConfirm(true) }}>Xoá</Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {   \n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              \n              props.parentProps.onReload();\n  \n            }}\n            \n            >\n              <ListItemIcon style={{ marginRight: -15 }} >\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n\n          </StyledMenu>\n\n\n        </Grid>\n\n      </Box>\n    </Collapse>\n  )\n\n}\n\nexport default CustomerDetail\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport supplierApi from \"../../../../../../api/supplierApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Dialog,\n  Box,\n  Paper,\n  IconButton,\n  Tooltip,\n} from \"@material-ui/core\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {},\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateSupplier = (props) => {\n  const { handleClose, open, supplierDetail } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const supplierFormik = useFormik({\n    initialValues: {\n      name: supplierDetail?.name || \"\",\n      email: supplierDetail?.email || \"\",\n      phone: supplierDetail?.phone || \"\",\n      address: supplierDetail?.address || \"\",\n      company: supplierDetail?.company || \"\",\n      paymentInfo: supplierDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên nhà cung cấp\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\"),\n        // .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n    enableReinitialize: true\n  })\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const dispatch = useDispatch();\n  const handleUpdateSupplier = async () => {\n    handleClose()\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", supplierFormik.values.name.toString());\n      bodyFormData.append(\"email\", supplierFormik.values.email.toString());\n      bodyFormData.append(\"phone\", supplierFormik.values.phone.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.paymentInfo.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.company.toString());\n      bodyFormData.append(\"address\", supplierFormik.values.address.toString());\n      await supplierApi.updateSupplier(store_uuid, supplierDetail.uuid, bodyFormData)\n      dispatch(statusAction.successfulStatus(\"Sửa nhà cung cấp thành công\"));\n      props.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Sửa nhà cung cấp thất bại\"));\n      console.log(err);\n    }\n  };\n  const handleCloseAndReset =() =>{\n\n    supplierFormik.resetForm()\n  }\n  return (\n    <SimpleModal\n      open={open}\n      handleClose={()=>{handleClose();handleCloseAndReset();}}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <Box style={{ width: 550, maxWidth: \"100%\" }}>\n        <Typography className={classes.headerTitle} variant=\"h5\" gutterBottom>\n          Chỉnh sửa nhà cung cấp\n        </Typography>\n        <Grid container spacing={2} style={{ marginTop: 10 }}>\n          <Grid item xs={12}>\n            <TextField\n              required\n              id=\"outlined-basic\"\n              label=\"Tên nhà cung cấp\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.name}\n              error={supplierFormik.touched.name && supplierFormik.errors.name}\n              helperText={supplierFormik.touched.name ? supplierFormik.errors.name : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              // required\n              id=\"outlined-basic\"\n              label=\"Địa chỉ\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"address\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.address}\n              error={supplierFormik.touched.address && supplierFormik.errors.address}\n              helperText={supplierFormik.touched.address ? supplierFormik.errors.address : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Số điện thoại\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              // required\n              name=\"phone\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.phone}\n              error={supplierFormik.touched.phone && supplierFormik.errors.phone}\n              helperText={supplierFormik.touched.phone ? supplierFormik.errors.phone : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Email\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              name=\"email\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.email}\n              error={supplierFormik.touched.email && supplierFormik.errors.email}\n              helperText={supplierFormik.touched.email ? supplierFormik.errors.email : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Tên công ty\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"company\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.company}\n              error={supplierFormik.touched.company && supplierFormik.errors.company}\n              helperText={supplierFormik.touched.company ? supplierFormik.errors.company : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Thông tin thanh toán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"paymentInfo\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.paymentInfo}\n              error={supplierFormik.touched.paymentInfo && supplierFormik.errors.paymentInfo}\n              helperText={supplierFormik.touched.paymentInfo ? supplierFormik.errors.paymentInfo : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n            marginTop: 20,\n          }}\n        >\n          <Button\n           onClick={()=>{handleClose();handleCloseAndReset();}}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n          >\n            Huỷ\n          </Button>\n          <Button\n            style={{ marginLeft: 10 }}\n            onClick={handleUpdateSupplier}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={!supplierFormik.isValid}\n          >\n            Lưu thay đổi\n          </Button>\n        </Grid>\n      </Box>\n    </SimpleModal>\n  );\n};\n\nexport default UpdateSupplier;\n","import React, {useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  ListItem,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport supplierApi from \"../../../../../api/supplierApi\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport UpdateSupplier from \"./UpdateSupplier/UpdateSupplier\";\nimport { VNDFormat, ThousandFormat, ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst SupplierDetail = (props) => {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editSupplier,setEditSupplier] = React.useState(false);\n  const dispatch = useDispatch();\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleDeleteSupplier = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await supplierApi.deleteSupplier(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await supplierApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.setReload();\n      }\n    } catch(err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteSupplier}\n        message={\n          <Typography>\n            Xóa vĩnh viễn nhà cung cấp <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Trả nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n        <ListItem >\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editSupplier &&<UpdateSupplier supplierDetail={row} open={editSupplier} handleClose = {() => setEditSupplier(false)} onReload= {props.parentProps.setReload}/>}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={6}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item  xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.phone}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.address}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n              \n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền đã nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat  value={row.total_payment} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Còn nợ\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                <VNDFormat  value={row.debt} /> \n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Thông tin thanh toán\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_info}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Công ty\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.company}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick = {() => setEditSupplier(true)}>\n            Sửa\n          </Button>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setDeleteConfirm(true);\n            }}\n          >\n            Xoá\n          </Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {     \n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              props.parentProps.setReload();\n            }}\n            >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default SupplierDetail;\n","import { Typography, Grid, TextField,Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useSelector,useDispatch } from \"react-redux\";\nimport {statusAction} from \"../../../../../../store/slice/statusSlice\"\nimport userApi from \"../../../../../../api/userApi\"\n\nconst ChangeEmployeePwd = (props) => {\n    const { open, handleClose, employeeDetail } = { ...props };\n    const formik = useFormik({\n        enableReinitialize: true,\n        initialValues: {\n            owner_password:\"\",\n            password: \"\",\n            confirm_password: \"\",\n        },\n        validationSchema: Yup.object({\n            owner_password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            confirm_password: Yup.string()\n                .required(\"Nhập lại mật khẩu\")\n                .oneOf([Yup.ref(\"password\"), null], \"Mật khẩu không khớp\"),\n        }),\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch= useDispatch()\n    const handleChangePassword = async () => {  \n        closeModalAndResetData()\n        try{\n            const response = userApi.owenerChangePassword(store_uuid,employeeDetail.uuid,{\n                owner_password:formik.values.owner_password,\n                employee_password: formik.values.password\n            })\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thành công\"))\n        }catch(error){\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thất bại\"))\n        }\n    }\n    const closeModalAndResetData = () => {\n        formik.resetForm()\n        handleClose()\n    }\n    return (\n        <SimpleModal open={open} handleClose={closeModalAndResetData}>\n            <Typography variant=\"h4\" gutterBottom>\n                Đổi mật khẩu\n            </Typography>\n\n            <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        variant=\"filled\"\n                        fullWidth\n                        label=\"Tên nhân viên\"\n                        value={employeeDetail.name}\n                        disabled\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"owner_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu chủ cửa hàng\"\n                        onChange={formik.handleChange}\n                        value={formik.values.owner_password}\n                        error={formik.touched.owner_password && formik.errors.owner_password}\n                        helperText={formik.touched.owner_password ? formik.errors.owner_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu mới\"\n                        onChange={formik.handleChange}\n                        value={formik.values.password}\n                        error={formik.touched.password && formik.errors.password}\n                        helperText={formik.touched.password ? formik.errors.password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"confirm_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Nhập lại mật khẩu\"\n                        onChange={formik.handleChange}\n                        value={formik.values.confirm_password}\n                        error={formik.touched.confirm_password && formik.errors.confirm_password}\n                        helperText={formik.touched.confirm_password ? formik.errors.confirm_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n            </Grid>\n            <Grid\n                item\n                xs={12}\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\",\n                    paddingTop: 20,\n                }}\n            >\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    style={{ marginRight: 20 }}\n                    onClick={closeModalAndResetData}\n                >\n                    Hủy\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={handleChangePassword}\n                    style={{ marginRight: 20 }}\n                    disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n                >\n                    Sửa\n                </Button>\n            </Grid>\n        </SimpleModal>\n    );\n};\n\nexport default ChangeEmployeePwd;\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport LockIcon from '@material-ui/icons/Lock';\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\nimport Chip from \"@mui/material/Chip\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import image\nimport avaUpload from \"../../../../../assets/img/product/lyimg.jpeg\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\"\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport employeeApi from \"../../../../../api/employeeApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport EditEmployee from \"../../AddEmployee/EditEmployee\";\nimport ChangeEmployeePwd from \"./ChangeEmployeePwd/ChangeEmployeePwd\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = ({ src }) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n      }}\n      src={src}\n    />\n  );\n};\n\nconst permissionsMapping = {\n  \"manage-employees\": \"Nhân sự\",\n  \"manage-orders\": \"Bán hàng\",\n  \"manage-purchase-orders\": \"Đặt hàng\",\n  \"manage-purchase-returns\": \"Nhập hàng\",\n};\n\nconst salaryTypeMapping = {\n  fix: \"Lương cứng\",\n  \"per-shift\": \"Lương theo ca\",\n};\n\nconst EmployeeDetail = (props) => {\n  const { row, openRow, handleReload } = props.parentProps;\n  const { isMini } = props;\n\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [openEdit, setOpenEdit] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [employeeDetail, setEmployeeDetail] = React.useState({\n    uuid: \"\",\n    name: \"\",\n    user_name: \"\",\n    date_of_birth: \"\",\n    id_card_num: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    permissions: [],\n    salary_type: \"\",\n    salary: \"\",\n    branches: []\n  });\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [reload, setReload] = useState(false)\n  useEffect(() => {\n    const fetchEmp = async () => {\n      try {\n        const response = await employeeApi.getEmployee(store_uuid, row.uuid);\n        setEmployeeDetail(response.data);\n      } catch (err) {\n        setEmployeeDetail({\n          uuid: \"\",\n          name: \"\",\n          user_name: \"\",\n          date_of_birth: \"\",\n          id_card_num: \"\",\n          phone: \"\",\n          email: \"\",\n          address: \"\",\n          permissions: [],\n          salary_type: \"\",\n          salary: \"\",\n          branches: []\n        });\n      }\n    };\n    if (openRow === row.uuid && store_uuid) {\n      fetchEmp();\n    }\n  }, [openRow,reload]);\n  const [changePwd, setChangePwd] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      {openEdit && (<EditEmployee\n        handleClose={(status) => {\n          if (status === \"Success\") {\n            dispatch(statusAction.successfulStatus(\"Chỉnh sửa thành công\"))\n            setReload(!reload)\n          } else if (status === \"Failed\") {\n            dispatch(statusAction.failedStatus(\"Chỉnh sửa thất bại\"))\n          }\n          setOpenEdit(false);\n          handleReload();\n        }}\n        open={openEdit}\n        employee={employeeDetail}\n      />)}\n      <ChangeEmployeePwd open={changePwd} handleClose={() => setChangePwd(false)} employeeDetail={employeeDetail} />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={3} >\n            <UploadImage src={employeeDetail.img_url} />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.employee_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên đăng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.user_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày sinh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.date_of_birth}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  CMND\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.id_card_num}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.phone}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.address}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={4}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chức năng\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.permissions.map((permission) => (\n                    <Chip label={permission.description} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.branches?.map((branch) => (\n                    <Chip label={branch.name} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Loại lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {salaryTypeMapping[employeeDetail.salary_type]}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mức lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={employeeDetail.salary}/>\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === 'active' ? \"Kích hoạt\" :\"Ngưng hoạt động\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n        </Grid>\n\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setOpenEdit(true);\n            }}\n          >\n            Sửa\n          </Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={async () => {\n            if (row.status === \"inactive\") {\n              try {\n                const response = await employeeApi.activeEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                handleReload()\n              } catch (err) {\n                console.log(err)\n                dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n              }\n            } else if (row.status === \"active\") {\n              try {\n                const response = await employeeApi.inactiveEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n              }\n            }\n\n          }}>\n            {row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n          </Button>\n\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={async () => {\n              try {\n                const response = await employeeApi.deleteEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Xoá nhân viên thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Xoá nhân viên thất bại\"))\n              }\n            }} >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xoá\" />\n            </StyledMenuItem>\n\n            {info.role === \"owner\" &&\n              <StyledMenuItem onClick={() => setChangePwd(true)} >\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <LockIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Mật khẩu\" />\n              </StyledMenuItem>}\n\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default EmployeeDetail;\n","import React from 'react'\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\n\nimport InfoTwoToneIcon from '@material-ui/icons/InfoTwoTone';\nimport {Typography,Tooltip} from '@material-ui/core';\n\nconst HtmlTooltip = withStyles((theme) => ({\n    tooltip: {\n      backgroundColor: '#6b6b6b',\n      // color: 'rgba(0, 0, 0, 0.87)',\n      color: '#fff',\n      // maxWidth: 220,\n      fontSize: theme.typography.pxToRem(12),\n      border: '1px solid #000',\n    },\n  }))(Tooltip);\n\nconst MoreInfo = (props) => {\n  const {title, content} = props\n    return (\n        <div> \n            <HtmlTooltip\n                arrow\n                title={\n                <React.Fragment>\n                    {/* <Typography color=\"inherit\">Tooltip with HTML</Typography>\n                    <em>{\"And here's\"}</em> <b>{'some'}</b> <u>{'amazing content'}</u>.{' '}\n                    {\"It's very engaging. Right?\"} */}\n                    {props.children}\n                </React.Fragment>\n                }\n            >\n              <InfoTwoToneIcon fontSize=\"small\" />\n            </HtmlTooltip>\n        </div>\n    )\n}\n\nexport default MoreInfo\n","import React ,{useEffect,useState}from 'react'\nimport {Typography,Divider,Card,Grid,Paper,InputAdornment,Box,TextField,Button,InputLabel,MenuItem,FormControl,Select,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\n\nimport { TreeSelect,Tree } from 'antd';\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from 'react-redux'\n\nconst CategorySelect = ({data,saveData,setData, isNotSelect,setOpenFilter}) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branches = info.store.branches \n    const [categoryId, setCategoryId] = useState('all');\n\n    const [categoryList, setCategoryList] = useState([]);\n    const [allProduct, setAllProduct] =  useState([]);\n    // useEffect(()=>{\n    //   if ( window.localStorage.getItem(\"products\")) {\n    //     const products = JSON.parse(window.localStorage.getItem(\"products\"));\n    //     if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n    //       setAllProduct(products.data);\n    //     }\n    //   }\n    // },[])\n\n\n    const recursiveSearchTree = (category) => {\n        const findedCategory=category.find(e => e.uuid === categoryId);\n        if(findedCategory){return findedCategory}\n        for(let i = 0; i< category.length ; i++){\n          if(category[i].children.length > 0){return recursiveSearchTree(category[i].children)}\n        } \n      };\n      const getAllChild  =(cat) => {\n        if(!cat){return}\n        if(cat.children.length === 0){return cat.uuid}\n        return cat.children.map((child)=>{\n          return getAllChild(child)\n        })\n      }\n      const filterCategory = () =>{\n        if(categoryId === 'all') {\n          setData(saveData)\n            // setData(allProduct)\n        }else{\n          let cat =  recursiveSearchTree(categoryList)\n          let allChild = cat?.children?.length !== 0? getAllChild(cat) : []\n          allChild =  [].concat.apply([], allChild)\n          let allCat =  allChild ?[... allChild, cat?.uuid]: allChild\n         //   setData(saveData.filter(data =>  allCat?.includes(data.category_uuid ) ))\n        //  let newAllProduct = [...allProduct]\n        //  newAllProduct = newAllProduct.filter(data =>  allCat?.includes(isNotSelect?data.category.uuid:data.category_uuid ))\n        // setData(newAllProduct)\n        // var newProductData = [...allProduct]\n        // newProductData = setData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid ))\n        setData(saveData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid )))\n\n        }\n      }\n    \n    const fetchAllCategory = async () => {\n        try {\n            const response = await productApi.getNestedCategory(store_uuid);\n            setCategoryList(response.data);\n        } catch (error) { }\n    };\n\n    useEffect(()=>{\n        if (store_uuid && branch_uuid &&saveData) {fetchAllCategory()}\n        },[])\n\n    useEffect(()=>{\n        if(categoryList&& data &&saveData.length !==0) {\n            filterCategory()\n            // if(isNotSelect && categoryId) {setOpenFilter(false)}\n        }\n        \n        },[categoryId])\n\n    const [selectedNodeUuid,setSelectedNodeUuid] = useState(null)\n    const onSelect = (selectedKeys, info) => {\n        if(info.node.uuid){\n            setCategoryId(info.node.uuid)\n        }else{\n            setCategoryId('all')\n        }\n        // setCategoryId(info.node.uuid)\n        setOpenFilter(false)\n    };\n    console.log(\"selectedNodeUuid\",selectedNodeUuid)\n\n if(isNotSelect){\n     return (\n         <>\n        <Tree\n        // showLine={true}\n        // showIcon={true}\n        // defaultExpandedKeys={['0-0-0']}\n        // onSelect={(selectedKeys, info)=>console.log(info.node.uuid)}\n        onSelect={onSelect}\n        // onChange={(val)=>setCategoryId(val )}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n      /> \n      {/* <Button variant=\"contained\"  onClick={()=>{setCategoryId(selectedNodeUuid);}}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n\n      </>\n     )\n }       \n  return (\n    <TreeSelect\n        style={{ width: 220}}   \n        dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n        value={categoryId}\n        onChange={(val)=>setCategoryId(val )}\n        treeDefaultExpandAll\n        placeholder=\"Danh mục\"\n        \n    />\n  )\n}\n\nexport default CategorySelect","import React, {useState,useEffect} from 'react'\nimport icon from '../../assets/img/product/tch.jpeg';\nimport InventoryList from '../../assets/JsonData/inventory.json';\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport { useSelector } from 'react-redux';\n//import library \nimport {Grid,Card,Box,Table,TableCell,Modal,Tooltip,Dialog,Tabs,Tab,TableRow,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography, Button} from '@material-ui/core'\nimport { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\nimport TableHeader from \"../TableCommon/TableHeader/TableHeader\" \nimport TableWrapper from \"../TableCommon/TableWrapper/TableWrapper\" \nimport ListIcon from '@material-ui/icons/List';\nimport ImageTwoToneIcon from '@material-ui/icons/ImageTwoTone';\nimport ListAltTwoToneIcon from '@material-ui/icons/ListAltTwoTone';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport clsx from \"clsx\"\nimport { TreeSelect } from 'antd';\nimport CategorySelect from \"../Select/CategorySelect\"\nimport { grey } from \"@material-ui/core/colors\";\nimport BrokenImageTwoToneIcon from '@material-ui/icons/BrokenImageTwoTone';\nimport WallpaperTwoToneIcon from '@material-ui/icons/WallpaperTwoTone';\nconst MenuProduct = ({products, setProducts, handleSearchBarSelect, isCart, selectedItem,typeShow,setTypeShow,isCheck,showImage,setShowImage}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const InventoryHeadCells = [\n      { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n      { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n      { id: \"price\", align: \"right\", disablePadding: false, label: isCart? \"Giá bán\":'Giá vốn' },\n      { id: \"inventory\", align: \"right\", disablePadding: false, label: \"Tồn kho\" },\n      { id: \"\", align: \"right\", disablePadding: false, label: \"\" },\n    ];\n    const [categoryList, setCategoryList] = useState([]);\n    const [categoryId, setCategoryId] = useState('all');\n    // redux\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting;\n\n    // const [typeShow, setTypeShow] = useState('list')\n    const [allProduct, setAllProduct] =  useState([]);\n    useEffect(()=>{\n      if ( window.localStorage.getItem(\"products\")) {\n        const products = JSON.parse(window.localStorage.getItem(\"products\"));\n        if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n          setAllProduct(products.data);\n        }\n      }\n    },[])\n\n    const selectedItemUuid =selectedItem.length ===0?[]: selectedItem.map((item)=>item.uuid)\n    const findItem = (item)=>{\n     const findedItem =  selectedItem.find(row => item.uuid === row.uuid)\n     if(isCheck){return findedItem?.real_quantity}\n     return findedItem?.quantity\n    // return findedItem?.real_quantity\n    // console.log(\"findedItem\",findedItem)\n    }\n\n    const [openFilter, setOpenFilter] = useState(false)\n    const [filter, setFilter] = useState(null)\n    const renderListOption = () => {\n      const color = theme.customization.mode === \"Light\"  ? '#000' : '#fff'\n      return (\n        <>\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}} >\n        <Table size={'small'} stickyHeader >\n            <TableHeader\n                classes={classes}\n                headerData={store_setting?.inventory.status ?InventoryHeadCells: InventoryHeadCells.filter(item => item.id !== \"inventory\")}\n                color={color}\n              />\n              <TableBody>\n                {products.map((row, index) => {\n                  let findedItem= findItem(row)\n                  return (\n                  <TableRow key={row.uuid}  onClick={() => handleSearchBarSelect(row)} style={{color:color,backgroundColor:selectedItemUuid.includes(row.uuid) &&( theme.customization.mode === \"Light\"  ? theme.customization.primaryColor[50] : grey[700])}}>\n                    <TableCell align=\"left\" style={{color:color}}> {row.product_code} </TableCell>\n                      <TableCell align=\"left\"  >\n                        <ListItem style={{ marginLeft: -30, marginTop: -10, marginBottom: -10, }}  >\n                         {showImage? <Box component=\"img\" sx={{ height: 35, width: 35, borderRadius: 10, marginRight: 15 }} src={JSON.parse(row.img_urls)?.at(0) || defaultProduct} />:null}\n                          <Typography className={classes.fontName} style={{color:color}}>{row.name}</Typography>\n                        </ListItem>\n                    </TableCell>\n                    <TableCell align=\"right\" > <VNDFormat value={isCart? row.list_price : row.standard_price } style={{color:color}} /> </TableCell>\n                      {store_setting?.inventory.status ? <TableCell align=\"right\" className={classes.fontName} style={{fontWeight:500,color:color}}> {row.branch_quantity}  </TableCell> : null}\n                      <TableCell align=\"right\" style={{color:theme.customization.secondaryColor[500], fontWeight:600}}>{findedItem? `x ${findItem(row)}`:''}</TableCell>\n                  </TableRow>\n                ); })}\n              </TableBody>\n          </Table>\n          </TableContainer>\n        </>\n      );\n    };\n\n    const renderImageOption = () => {\n      return (\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}>\n        <Grid container spacing={2} >\n        {products.map((item, index) => {\n            let findedItem= findItem(item)\n            return(\n              <Grid item>\n              <Card  className={clsx(classes.hoverCard,classes.item,classes.colorCard)} style={{ width:120, borderRadius:7,backgroundColor: theme.customization.mode === \"Light\"  ? null: grey[700]}} >\n                <CardActionArea  onClick={() => handleSearchBarSelect(item)}>\n                {showImage?<CardMedia\n                        style={{height:120, margin:5, marginBottom:-5, borderRadius:7}}\n                        image={JSON.parse(item.img_urls ? item.img_urls : \"[]\").length  ? JSON.parse(item.img_urls ? item.img_urls : \"[]\").at(0) : defaultProduct}\n                     />:null}\n                    <CardContent style={{margin:-5}}>\n                        <Typography gutterBottom  style={{color:'#000', fontWeight:500, fontSize:Number(12)}}> {item.name} </Typography>\n                        <Grid container alignItem='center'justifyContent='space-between'>\n                        <Typography   className={classes.alignCenter} style={{color:'#000', fontWeight:'#000', fontSize:Number(12)}} >\n                            {item.list_price.toLocaleString()} đ\n                        </Typography>\n                        <Typography style={{color:theme.customization.secondaryColor[500], fontWeight:600, marginTop:-2}} >{findedItem? `x ${findItem(item)}`:''} </Typography>\n                        </Grid>\n                    </CardContent>   \n              </CardActionArea>\n          </Card>\n          </Grid> \n          )})}\n          \n          \n        </Grid>\n        </TableContainer>\n      );\n    };\n    \n\n    return (\n          <div style={{marginTop:-25}}>\n           {/* <Tooltip title=\"Dạng danh sách\"> <ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')} style={{marginRight:5}}/> </Tooltip> */}\n           <Tooltip title=\"Dạng danh sách\" aria-label=\"add\"><ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')}  style={{marginRight:5}} /></Tooltip>\n           <Tooltip title=\"Dạng hình ảnh\" aria-label=\"add\"><ImageTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('image')}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Lọc\" aria-label=\"add\"><FilterListTwoToneIcon  fontSize=\"small\"onClick={()=>setOpenFilter(true)}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Hiển thị hình\" aria-label=\"add\"><WallpaperTwoToneIcon fontSize=\"small\"  onClick={()=>setShowImage(!showImage)} /></Tooltip>\n            \n             {typeShow === 'list'&& renderListOption()}\n             {typeShow === 'image'&& renderImageOption()}\n             <Dialog open={openFilter} onClose={()=>setOpenFilter(false)} >\n                  <Box style={{ marginTop: 10,  marginBottom: 10,padding:10 }}>\n          \n                    <Typography variant=\"h5\" style={{fontSize:18, marginBottom:20, paddingRight:100}}>\n                      Chọn danh mục\n                    </Typography>\n        \n                    <CategorySelect data={products} saveData={allProduct} setData={setProducts} isNotSelect={true} setOpenFilter={setOpenFilter}/>\n                    {/* <Button variant=\"contained\"  onClick={()=>setOpenFilter(false)}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n                  </Box>\n            \n             </Dialog>\n          </div>\n \n    )\n}\n\nexport default MenuProduct\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// const categoryBig = ['Quần áo', 'Bánh kẹo', 'Đồ dùng', 'Điện thoại', 'Máy tính']\n\n\n   // //tab menu\n    // const [value, setValue] = React.useState(0);\n    // const handleChange = (event, newValue) => {\n    //     setValue(newValue);\n    // }; \n/* <Tabs style={{marginBottom:10, marginLeft:-20}}  variant=\"scrollable\" scrollButtons=\"auto\" indicatorColor=\"secondary\" textColor=\"secondary\"value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n  {categoryBig.map((item)=>{\n  return(\n      <Tab label={item} style={{ minWidth: 100,textTransform: 'none'}} />          \n      )\n  })}\n</Tabs> */","import React from \"react\";\nimport { Fab, IconButton, Tooltip, ButtonBase, Badge } from \"@material-ui/core\";\nimport { makeStyles, createStyles, styled } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { IconSettings } from \"@tabler/icons\";\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    btn: {\n      position: \"fixed\",\n      top: 200,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n\n    btnBottom: {\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n  })\n);\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n  \"& .MuiBadge-badge\": {\n    border: `3px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\",\n  },\n}));\nconst CartButton = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const {number} = props\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      aria-label=\"add\"\n      className={classes.btn}\n      component={Link}\n      to={`/store/${props.storeInfo?.web_page}/cart`}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }}>\n        <StyledBadge color=\"error\" badgeContent={number}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport const CartBottom = ({numberItem}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      className={classes.btnBottom} \n      onClick={()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:\"smooth\"})}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }} >\n        <StyledBadge color=\"error\" badgeContent={numberItem}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport default CartButton;\n","import axiosClient from \"./axiosClient\";\nimport moment from \"moment\";\nconst promotionCouponApi = {\n  createPromotion: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/createPromotion`;\n    return axiosClient.post(url, body);\n  },\n\n  createVoucher: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/createVoucher`;\n    return axiosClient.post(url, body);\n  },\n  updatePromotion: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/updatePromotion`;\n    return axiosClient.put(url, body);\n  },\n  updateVoucher: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/updatePromotion`;\n    return axiosClient.put(url, body);\n  },\n  getActivePromotionVoucher: (storeUuid) => {\n    let d = moment.now() / 1000;\n\n    let currentDate = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD\", { trim: false });\n    const url = `stores/${storeUuid}/getActivePromotionVoucher`;\n    return axiosClient.get(url, {\n      params: {\n        date: currentDate,\n      },\n    });\n  },\n  getAllPromotions: (storeUuid,query) => {\n    const url = `stores/${storeUuid}/getAllPromotions`;\n    return axiosClient.get(url, {\n      params: query,\n    });\n  },\n  getAllVouchers: (storeUuid,query) => {\n    const url = `stores/${storeUuid}/getAllVouchers`;\n    return axiosClient.get(url, {\n      params: query,\n    });\n  },\n};\nexport default promotionCouponApi;\n","import React from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n//import library \nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\n\nimport AddIcon from '@material-ui/icons/Add';\nimport SwapVertTwoToneIcon from '@material-ui/icons/SwapVertTwoTone';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\nconst ChangeCartBtn = (props) => {\n    const {selectedIndex,anchorEl,cartList,handleClick,handleClose,handleChoose,handleDelete,handleAdd, isCart} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    let hardText = isCart ? \"Khách lẻ\" :\"Nhà cung cấp lẻ\";\n\n    const getTitle = (cart) => {\n        if (isCart) {\n            return cart.customer === null ? hardText : cart.customer.name\n        } else {\n            return cart.supplier === null  ? hardText: cart.supplier.name\n        }\n    }\n\n    return (\n        <>\n\n        {cartList.length === 1 ?\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <AddIcon fontSize=\"inherit\" onClick={handleAdd} />\n            </IconButton>:\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <SwapVertTwoToneIcon fontSize=\"inherit\"  onClick={handleClick}/>\n            </IconButton>\n        }\n            <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            \n        >\n            {cartList.map((cart, index) => (\n                <MenuItem\n                    key={index}\n                    selected={index === selectedIndex}\n                >\n                    <Grid container direction=\"row\" justifyContent=\"space-between\"spacing={1}>\n                        <Grid container item onMouseDown={()=>handleChoose(index)} item xs={10}  >\n                            <Box style={{marginRight:10}}>#{index + 1}</Box>\n                            {getTitle(cart)}         \n                        </Grid>\n                \n                        <Grid container xs={2} item>\n                            <IconButton  size=\"small\" style={{color:'#000000'}}>\n                                <HighlightOffTwoToneIcon fontSize=\"inherit\" onClick={()=>handleDelete(index )} />\n                            </IconButton>\n                        </Grid>\n                    </Grid>\n                    \n                </MenuItem>\n                ))}\n\n            <MenuItem onClick={handleAdd}><Box style={{marginRight:10, fontSize:20}}>+</Box>Tạo giỏ mới</MenuItem>\n        </Menu> \n        </>\n    )\n}\n\nexport default ChangeCartBtn\n","import { renderToString } from 'react-dom/server'\n\nconst CustomerRegisterEmail = (header, footer, customer, store) => {\n    \n    return renderToString(\n        <>\n        {header}\n        <div>\n            Xin chào <strong>{customer.name}</strong>, \n        </div>\n        <div>\n            Email này được gửi từ {store.name},<br/>\n            Chúc mừng bạn đã trở thành khách hàng thân thiết của cửa hàng chúng tôi.<br/>\n            Đây là mã khách hàng của bạn <strong>{customer.customer_code}</strong>, sử dụng mã này để tích điểm nhé!\n            \n            <br/>\n            Thông tin của bạn:\n            <ul>\n                <li>Tên: {customer.name}</li>\n                <li>Số điện thoại: {customer.phone}</li>\n                <li>Thông tin thanh toán: {customer.payment_info}</li>\n            </ul>\n        </div>\n        {footer}\n        </>\n    )\n}\n\nexport default CustomerRegisterEmail;","import {\n    InputAdornment,\n    Box\n} from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport barcodeIcon from \"../../assets/img/icon/barcode_grey.png\";\nimport productApi from \"../../api/productApi\";\nimport { CustomTextField } from \"./SearchProduct\"\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\n\nconst SearchBarCode = (props) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const products = info.products;\n\n\n    const [barcode,setBarcode] = useState(\"\")\n\n    const dispatch = useDispatch();\n    const onEnter = async (e) =>{\n        // if(e.key === \"Enter\" && barcode != \"\"){\n        //     try {\n        //         const response = await productApi.searchBranchProduct(\n        //             store_uuid,\n        //             branch_uuid,\n        //             barcode\n        //           );\n        //           if (response.data.length > 0){\n        //             props.handleSearchBarSelect(response.data[0]);\n        //             setBarcode(\"\")\n        //             dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n        //           }\n        //     } catch (error) {\n        //         console.log(error)\n        //         dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n        //     }\n        // }\n        if (e.key === \"Enter\" && barcode != \"\") {\n          if (barcode.includes(\"_\")){\n              let list = barcode.split(\"_\")\n              let product = props.products.find(\n                (product) => product.product_code.includes(list[0])\n              )\n              if (product) {\n                props.handleSearchBarSelect(product,list[1]);\n                setBarcode(\"\");\n                dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n              } else {\n                setBarcode(\"\");\n                dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));  \n              }\n          } else {\n            const product = props.products.find(\n              (product) => product.product_code === barcode || product.bar_code === barcode\n            );\n            if (product) {\n              props.handleSearchBarSelect(product);\n              setBarcode(\"\");\n              dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n            } else {\n              setBarcode(\"\");\n              dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n            }\n          }\n          \n        }\n    }\n    return <CustomTextField\n        fullWidth\n        placeholder=\"Quét mã vạch\"\n        variant=\"outlined\"\n        size=\"small\"\n        autoFocus\n        onKeyPress={onEnter}\n        onChange = {(e) => setBarcode(e.target.value)}\n        value = {barcode}\n        InputProps={{\n            startAdornment: (\n                <InputAdornment position=\"start\">\n                    <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n            ),\n            endAdornment: (\n                <InputAdornment position=\"end\">\n                    <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23, marginRight: 10 }}\n                        src={barcodeIcon}\n                    />\n                </InputAdornment>\n            ),\n            style: {\n                width: 300,\n                padding: \"3px\",\n                margin: \"0px\"\n            },\n        }}\n    />\n}\nexport default SearchBarCode;","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  attrCard:{\n    margin:\"5px 0px 25px 0px\", \n    boxShadow: \"none\",border: '1px solid' , borderColor:\"#c9c9c9\"\n  },\n  attrHead:{\n    backgroundColor:\"#E4E4E4\", height:40, color:\"#000\"\n  },\n  rooot: {\n    '& .MuiFormLabel-root.Mui-disabled': {\n      color: 'red',\n    },\n  },\n}));\n","/* eslint-disable no-use-before-define */\nimport React, { useRef, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Box, Button, Grid, InputAdornment, Typography } from \"@material-ui/core\";\nimport productApi from \"../../api/productApi\";\nimport { useEffect } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nexport default function SearchWithAutoComplete(props) {\n  const {\n    searchApiCall,\n    onSelect,\n    renderInput,\n    renderOption,\n    getOptionLabel,\n    value,\n    nextRef,\n    handleDefaultSelect\n  } = props;\n  const [options, setOptions] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const loadingData = async (e, searchKey) => {\n    setSearchValue(searchKey);\n  };\n\n\n  useEffect(() => {\n    const fetchData = async (searchKey = searchValue) => {\n      if (searchKey !== \"\") {\n        try {\n          const key = searchKey.slice(0, searchKey.indexOf(\"(\"))\n          const response = await searchApiCall(key);\n          setOptions(response.data);\n          onSelect(response.data[0])\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    };\n    const timer = setTimeout(() => fetchData(), 500);\n    return () => clearTimeout(timer);\n  }, [searchValue]);\n  return (\n    <Autocomplete\n      options={options}\n      freeSolo\n      getOptionLabel={getOptionLabel}\n      renderOption={renderOption}\n      onInputChange={loadingData}\n      autoSelect\n      getOptionSelected={(option, value) => option.bar_code === value.bar_code}\n      onChange={(e, value) => onSelect(value)}\n      size=\"small\"\n      renderInput={renderInput}\n\n    />\n  );\n}\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Downshift from \"downshift\";\n\nconst useStyles = makeStyles(theme => ({\n  chip: {\n    margin: theme.spacing(0.5, 0.25)\n  }\n}));\n\nexport default function TagsInput({ ...props }) {\n  const classes = useStyles();\n\n  const { selectedItem, setSelectedItem, selectedTags, placeholder, tags, ...other } = props;\n  const [inputValue, setInputValue] = React.useState(\"\");\n  // const [selectedItem, setSelectedItem] = React.useState([]);\n\n  useEffect(() => {\n    setSelectedItem(tags);\n  }, [tags]);\n\n  useEffect(() => {\n    selectedTags(selectedItem);\n  }, [selectedItem, selectedTags]);\n  \n\n\n  function handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      const newSelectedItem = [...selectedItem];\n      const duplicatedValues = newSelectedItem.indexOf(\n        event.target.value.trim()\n      );\n\n      if (duplicatedValues !== -1) {\n        setInputValue(\"\");\n        return;\n      }\n      if (!event.target.value.replace(/\\s/g, \"\").length) return;\n\n      newSelectedItem.push(event.target.value.trim());\n      setSelectedItem(newSelectedItem);\n      setInputValue(\"\");\n    }\n    if (\n      selectedItem.length &&\n      !inputValue.length &&\n      event.key === \"Backspace\"\n    ) {\n      setSelectedItem(selectedItem.slice(0, selectedItem.length - 1));\n    }\n  }\n  function handleChange(item) {\n    let newSelectedItem = [...selectedItem];\n    if (newSelectedItem.indexOf(item) === -1) {\n      newSelectedItem = [...newSelectedItem, item];\n    }\n    setInputValue(\"\");\n    setSelectedItem(newSelectedItem);\n  }\n\n  const handleDelete = item => () => {\n    const newSelectedItem = [...selectedItem];\n    newSelectedItem.splice(newSelectedItem.indexOf(item), 1);\n    setSelectedItem(newSelectedItem);\n  };\n\n  function handleInputChange(event) {\n    setInputValue(event.target.value);\n  }\n  return (\n    <React.Fragment>\n      <Downshift\n        id=\"downshift-multiple\"\n        inputValue={inputValue}\n        onChange={handleChange}\n        selectedItem={selectedItem}\n      >\n        {({ getInputProps }) => {\n          const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\n            onKeyDown: handleKeyDown,\n            placeholder\n          });\n          return (\n            <div>\n              <TextField\n                InputProps={{\n                  startAdornment: selectedItem.map(item => (\n                    <Chip\n                      key={item}\n                      tabIndex={-1}\n                      label={item}\n                      className={classes.chip}\n                      onDelete={handleDelete(item)}\n                    />\n                  )),\n                  onBlur,\n                  onChange: event => {\n                    handleInputChange(event);\n                    onChange(event);\n                  },\n                  onFocus\n                }}\n                {...other}\n                {...inputProps}\n              />\n            </div>\n          );\n        }}\n      </Downshift>\n    </React.Fragment>\n  );\n}\nTagsInput.defaultProps = {\n  tags: []\n};\nTagsInput.propTypes = {\n  selectedTags: PropTypes.func.isRequired,\n  tags: PropTypes.arrayOf(PropTypes.string)\n};\n","import React, { useEffect, useState } from 'react'\nimport TagsInput from \"../../../../components/TextField/TagsInput\"\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport EditTwoToneIcon from '@material-ui/icons/EditTwoTone';\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\";\n\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\nimport AddIcon from '@material-ui/icons/Add';\nimport {Button,TextField, Grid, FormControl, Select,MenuItem,Typography, ListItem} from \"@material-ui/core\";\nimport RemoveIcon from '@material-ui/icons/Remove';\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\n\n\nconst AddAttribute = ({ attributeList, datas, setDatas, setRelatedList, list_price, standard_price }) => {\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n\n    function generateList   ()  {\n        let newArr = [...datas];\n\n        var mySet  = [];\n        for (let i = 0; i < newArr.length ; i++){\n            if(mySet.length === 0 ){\n                mySet= newArr[i].items\n              \n            }\n            else{\n                var _set = [];\n                for (let j = 0; j < mySet.length ; j++ ){\n                    for (let k = 0; k < newArr[i].items.length ; k++ ){\n                        _set.push(mySet[j].concat( ` -  `,newArr[i].items[k]))\n                        // _set.push({name:mySet[j].concat( ' - ',newArr[i].items[k]), attList:[]})\n\n                    }\n                }\n                if(_set.length !== 0) {mySet = _set}\n\n            }\n         }\n        return mySet\n      }\n\n      useEffect (() =>{\n        var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n        generateList().map(e =>list.push({name:e,product_code:\"\",quantity:0, bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n\n        setRelatedList(list)\n    \n\n      },[datas])\n\n    const updateFieldChanged = (index, attr) => {\n        let newArr = [...datas];\n        newArr[index].key = attr;\n        setDatas(newArr);\n\n    }\n    const updateValueChanged = (index,value)=>{\n        let newArr = [...datas];\n        newArr[index].items = value;\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const deleteAttr = (key) => {\n        let newArr = [...datas];\n        // newArr = newArr.filter(row => row.key !== key)\n        newArr = newArr.filter(row => row.id !== key)\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const addAttrRow = () => {\n        let newArr = [...datas];\n        newArr.push({ id:new Date(), key: \"unset\", items: []})\n        setDatas(newArr);\n    //     var list = []\n    //     generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n    //     setRelatedList(list)\n    }\n\n    return (\n        <div style={{ marginBottom: 10 }}>\n            {datas.map((data, index) => {\n                return (\n                    <AttributeRow attributeList={attributeList} index={index} data={data} datas={datas} updateFieldChanged={updateFieldChanged} deleteAttr={deleteAttr}  updateValueChanged={updateValueChanged}/>\n                )\n            })}\n            <Button variant=\"outlined\" size=\"small\" color=\"primary\" style={{ marginLeft: 20, marginTop: 10, textTransform: \"none\" }}\n                startIcon={<AddIcon />}\n                onClick={() => addAttrRow()}>\n                Thêm thuộc tính\n            </Button>\n\n            \n        </div>\n    )\n}\n\nexport default AddAttribute\n\n\nconst AttributeRow = ({ attributeList, data, datas, updateFieldChanged, index, deleteAttr, setDatas ,updateValueChanged}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [inputAttr, setInputAttr] =  useState(false)\n\n\n    //  popup\n  const [openPopupAddAttr, setOpenPopupAddAttr] = useState(false);\n  const [isEditPopUp, setIsEditPopUp] = useState(false);\n\n\n    const [value, setValue] = React.useState([]);\n\n\n    const handleChangeAttr = (event) => {\n        var valid = true;\n        datas.map((row)=>{if(row.key === event.target.value){valid = false}    })\n\n        if (valid){\n            updateFieldChanged(index, event.target.value)   \n        } else{}\n    };\n\n    const [selectedItem, setSelectedItem] = React.useState([]);\n\n    function handleSelecetedTags(items) {\n        setValue(items);\n    }\n\n    useEffect(() => {\n        updateValueChanged(index, value)  \n    }, [value]);\n\n    return (\n        <Grid container className={classes.row} alignItems=\"center\">\n            <Grid container item xs={11} alignItems=\"center\" >\n               {!inputAttr? <FormControl className={classes.formControl}>\n                    <Select value={data.key} onChange={handleChangeAttr}  >\n                        <MenuItem value=\"unset\" selected disabled hidden>Chọn thuộc tính...</MenuItem>\n                        {attributeList.map((attr) => {\n                            return (<MenuItem value={attr.name}>{attr.name}</MenuItem>)\n                        })}\n                        {/* <MenuItem   hidden>\n                            <AddIcon fontSize=\"small\"style={{marginRight:5, marginLeft:-5}}/>\n                            <Typography style={{color:\"#000\", fontSize:12}} onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(false)}}>Tạo thuộc tính mới</Typography>\n                        </MenuItem> */}\n                    </Select>\n\n                </FormControl>:\n                <TextField\n                style={{width:230}}\n                        value={data.key}\n                        onChange={handleChangeAttr}\n                />\n                                /* <EditTwoToneIcon style={{ marginRight: 60 }}  onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(true)}}/> */\n                    }\n                {inputAttr === false ?\n                <AddIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(true); updateFieldChanged(index, '')    }} />:    \n                <RemoveIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(false);updateFieldChanged(index, '')  }} />\n                }\n                <TagsInput style={{ minWidth: 270 }} selectedTags={handleSelecetedTags} selectedItem={selectedItem} setSelectedItem={setSelectedItem} placeholder=\"Nhấn giá trị và enter\"\n                />\n            </Grid>\n\n            <Grid container item xs={1} >\n                {/* <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.key) }} /> */}\n                <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.id) }} />\n            </Grid>\n\n            <ModalWrapperWithClose     \n                open={openPopupAddAttr}\n                handleClose={() => setOpenPopupAddAttr(false)}\n                title={isEditPopUp? \"Sửa thuộc tính\" :\"Thêm thuộc tính\"}\n            >\n                 <Grid container alignItems=\"center\" style={{margin:\"20px 10px 30px 10px\"}}>\n                    <Typography style={{marginRight:40, color:\"#000\", fontWeight:500}}>Tên thuộc tính:  </Typography> \n                    <TextField />\n                 </Grid>\n                 {isEditPopUp?\n                    //  Edit, Delete\n                    // null\n                    <div style={{flexGrow: 1,textAlign: \"right\"}}>\n                        <Button size=\"small\" variant=\"contained\" color=\"secondary\">Xoá</Button>\n                        <Button size=\"small\" variant=\"contained\" color=\"primary\" style={{marginLeft:10}}>Sửa</Button>\n                    </div>\n                    :\n                    // add\n                    <Button style={{flexGrow: 1,textAlign: \"center\"}} variant=\"contained\" color=\"primary\">Thêm</Button>               \n                }       \n            </ModalWrapperWithClose>\n\n        </Grid>\n    )\n}\n","import React, {useEffect} from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport {Button, Grid, TextField,FormControl,TableRow,TableCell,Divider,TableBody, Select,MenuItem, Typography} from \"@material-ui/core\";\nimport clsx from \"clsx\"\nimport {ThousandFormat, ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\nimport TableWrapper from '../../../../components/TableCommon/TableWrapper/TableWrapper'\nimport TableHeader  from '../../../../components/TableCommon/TableHeader/TableHeader'\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\nconst RelaltedItemList = ({relatedList, setRelatedList , list_price,standard_price,isManageInventory}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0, attribute_values}\n\n\n\n\n\n    const handleDelete = (index)=> {\n        var newArr = [...relatedList];\n        newArr = newArr.filter(row => row.name !== index)\n        setRelatedList(newArr)\n    }\n\n    const handleChangeProperties = (index, property, newValue) => {\n        const newArr = relatedList.map(row => {\n            if (row.name === index) {\n                const newRow = {...row}\n                newRow[property] = newValue;\n                return newRow;\n            } else {\n                return row\n            }\n        })\n        setRelatedList(newArr);\n    }\n\n    return (\n        <div>\n           <TableWrapper isCart={true}>\n                <TableHeader\n                    classes={classes}\n                    headerData={isManageInventory? CustomerHeadCells :CustomerHeadCells.filter(i => i.id !== \"quantity\")\n                    }\n                />\n                <TableBody>\n                {relatedList.map((row, index) => {\n                    return (\n\n                      <TableRow>\n                        <TableCell align=\"center\" style={{color:'#000', fontWeight:500}}>{row.name}</TableCell>\n                        {/* <TableCell align=\"center\">\n                          <TextField\n                            value={row.product_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"product_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                        </TableCell> */}\n                        <TableCell align=\"center\">\n                          <TextField\n                            value={row.bar_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"bar_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                          \n                        </TableCell>\n                       {isManageInventory?\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.quantity}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"quantity\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>:null}\n\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.standard_price}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"standard_price\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.list_price}\n                            onChange={(e) => {\n                                handleChangeProperties(\n                                  row.name,\n                                  \"list_price\",\n                                  Math.abs( e.target.value)\n                                )\n                            }\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <DeleteForeverTwoToneIcon\n                            onClick={() => handleDelete(row.name)}\n                          />\n                        </TableCell>\n                      </TableRow>\n\n                    );\n                })}\n                </TableBody>\n            </TableWrapper>\n            \n          \n        </div>\n        \n    )\n}\n\nexport default RelaltedItemList\n\n\nconst CustomerHeadCells = [\n    { id: 'name', align: 'center', disablePadding: true, label: 'Tên' },\n    // { id: 'product_code', align: 'center', disablePadding: true, label: 'Mã hàng' }, \n    { id: 'bar_code', align: 'center', disablePadding: true, label: 'Mã vạch' }, \n    { id: 'quantity', align: 'center', disablePadding: true, label: 'Tồn kho ban đầu' },  \n    { id: 'standard_price', align: 'center', disablePadding: true, label: 'Giá vốn' },\n    { id: 'unit_price', align: 'center', disablePadding: true, label: 'Giá bán' },\n    { id: 'action', align: 'center', disablePadding: true, label: '' },\n];\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n  FormControlLabel,\n  Switch,\n  Collapse,\n  Paper,\n  Card,\n  CardHeader,\n  Checkbox,\n  ListItem\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput, {\n  ThousandSeperatedInput,\n} from \"../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"./AddCategory\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../api/productApi\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SearchWithAutoComplete from \"../../../../components/SearchBar/SearchWithAutoComplete\";\nimport { urltoFile } from \"../../../../api/helper\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport { infoActions } from \"../../../../store/slice/infoSlice\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { FormatedImage } from \"../../../../components/SearchBar/SearchProduct\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport clsx from \"clsx\";\nimport TagsInput from \"../../../../components/TextField/TagsInput\";\nimport AddAttribute from \"./AddAttribute\";\nimport RelaltedItemList from \"./RelaltedItemList\";\nimport SnackBarGeneral from \"../../../../components/SnackBar/SnackBarGeneral\";\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport setting from \"../../../../assets/constant/setting\"\nimport ReactQuill, {Quill} from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport ImageResize from 'quill-image-resize-module-react';\n// import Tree from \"../../../../components/Select/Tree\"\nimport { TreeSelect } from 'antd';\nimport { StepBackwardOutlined } from \"@ant-design/icons\";\nimport { DownCircleTwoTone } from '@ant-design/icons'\n\n\nimport 'antd/dist/antd.css';\n// import \"../../../../index.css\"\nconst { SHOW_PARENT } = TreeSelect;\n\nQuill.register('modules/imageResize', ImageResize);\n\n\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\n\nconst AddInventory = (props) => {\n  const { handleClose, open } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  const [imageURL, setImageURL] = useState(\"\");\n  const addImageHandler = (e) => {\n   try{\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n   }catch(err) {\n     console.log(err)\n   }\n  };\n\n  const [description, setDescription] = useState('');\n\n  const productFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      barcode: \"\",\n      importedPrice: 0,\n      salesPrice: 0,\n      category: \"\",\n      unit: \"\",\n      re_order_point: 0,\n      product_code: \"\",\n      has_batches: false,\n      quantity:0,\n      max_order:999999999,\n      description:\"\",\n      notification_period:7,\n\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number()\n        // .moreThan(0, \"Giá vốn phải lớn hơn không\"),\n        .moreThan(-1, \"Giá vốn không được âm\"),\n\n      salesPrice: Yup.number()\n        .moreThan(-1, \"Giá bán phải lớn hơn không\"),\n\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(\n        -1,\n        \"Số lượng đặt hàng lại không được âm\"\n      ),\n\n      quantity: Yup.number().moreThan(-1, \"Tồn kho ban đầu không được âm\"),\n\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n      notification_period: Yup.number().moreThan(-1, \"Số ngày không được âm\"),\n    }),\n  });\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Tên thuộc tính trống\",\n  });\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  // dispatch(infoActions.setStore({...info.store, general_configuration: \"{\\\"inventory\\\":{\\\"status\\\":true},\\\"recommendedProduct\\\":{\\\"status\\\":true},\\\"variation\\\":{\\\"status\\\":true},\\\"expiryDate\\\":{\\\"status\\\":true},\\\"customerScore\\\":{\\\"status\\\":false,\\\"value\\\":10000,\\\"exceptDiscountProduct\\\":false,\\\"exceptDiscountInvoice\\\":false,\\\"exceptVoucher\\\":false},\\\"email\\\":{\\\"status\\\":false,\\\"emailAddress\\\":\\\"\\\",\\\"password\\\":\\\"\\\"},\\\"notifyDebt\\\":{\\\"status\\\":true,\\\"checkDebtAmount\\\":true,\\\"debtAmount\\\":\\\"500000\\\",\\\"checkNumberOfDay\\\":false,\\\"numberOfDay\\\":\\\"15\\\",\\\"typeDebtDay\\\":\\\"firstDebt\\\",\\\"canNotContinueBuy\\\":false,\\\"canNotContinueDebt\\\":false},\\\"returnLimit\\\":{\\\"status\\\":false,\\\"day\\\":7},\\\"canFixPriceSell\\\":{\\\"status\\\":false,\\\"cart\\\":false,\\\"import\\\":true,\\\"returnCart\\\":true,\\\"returnImport\\\":true},\\\"printReceiptWhenSell\\\":{\\\"status\\\":true,\\\"cart\\\":true,\\\"import\\\":false,\\\"returnCart\\\":false,\\\"returnImport\\\":false,\\\"order\\\":false,\\\"checkInventroy\\\":false},\\\"discount\\\":{\\\"status\\\":true,\\\"applyMultiple\\\":false,\\\"applyOnline\\\":true},\\\"voucher\\\":{\\\"status\\\":true},\\\"delivery\\\":{\\\"status\\\":true},\\\"vat\\\":{\\\"status\\\":false,\\\"listCost\\\":[{\\\"key\\\":\\\"1\\\",\\\"costName\\\":\\\"\\\",\\\"value\\\":0,\\\"type\\\":\\\"%\\\"}]},\\\"orderLowStock\\\":{\\\"status\\\":true,\\\"choiceQuantity\\\":\\\"select\\\",\\\"selectQuantity\\\":\\\"latest\\\",\\\"inputQuantity\\\":10,\\\"selectSuplier\\\":\\\"latest\\\"},\\\"autoApplyDiscount\\\":{\\\"status\\\":true}}\"}));\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const addProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit ? productFormik.values.unit.toString() :\"Cái\"\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"quantity\",\n        productFormik.values.quantity\n          ? productFormik.values.quantity.toString()\n          : 0\n      );\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(datas)\n      );\n      bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.createProduct(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [reset, setReset] = useState(true);\n  const onReset = () => {\n    setReset((reset) => !reset);\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, reset]);\n\n  const selectSampleProductHandler = (product) => {\n    if (product && product.name) {\n      try {\n        productFormik.setFieldValue(\"name\", product.name, true);\n        productFormik.setFieldValue(\"barcode\", product.bar_code, true);\n        clearAllImages();\n        setDisplay([{ link: product.img_url, isUrl: true }]);\n        setImages([]);\n        setImageURL(product.img_url);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const searchSampleProductHandler = async (searchKey) => {\n    return productApi.searchDefaultProducts(searchKey, 1);\n  };\n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm();\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n    setImageURL(\"\");\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (displayImage.isUrl) {\n      setImageURL(\"\");\n    } else {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  const renderNameInput = (params) => {\n    return (\n      <TextField\n        {...params}\n        required\n        label=\"Tìm kiếm sp mẫu bằng tên hoặc mã vạch\"\n        variant=\"outlined\"\n        fullWidth\n        autoFocus\n        size=\"small\"\n        InputProps={{\n          ...params.InputProps,\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon />\n            </InputAdornment>\n          ),\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Box\n                component=\"img\"\n                sx={{ height: 23, width: 23, marginRight: -30 }}\n                src={barcodeIcon}\n              />\n            </InputAdornment>\n          ),\n          onKeyDown: (e) => {\n            if (e.key.toLowerCase() === \"arrowdown\") {\n              onFocus(salesPriceRef);\n            }\n          },\n        }}\n      />\n    );\n  };\n  const renderOptionTest = (option) => {\n    return (\n      <Grid fullWidth container direction=\"row\">\n        <Grid item xs={3}>\n          <FormatedImage url={option.img_url} />\n        </Grid>\n        <Grid item xs={9} container direction=\"column\">\n          <Typography variant=\"h5\">{option.name}</Typography>\n          <Typography variant=\"body2\">{option.bar_code}</Typography>\n        </Grid>\n      </Grid>\n    );\n  };\n  const getOptionLabel = (option) => {\n    if (option.name) {\n      return option.name + \" \" + \"(\" + option.bar_code + \")\";\n    }\n    return option;\n  };\n  const salesPriceRef = useRef();\n  const onFocus = (ref) => {\n    ref.current.focus();\n  };\n\n  //ATTRIBUTE\n  // api get all attribute\n  const attributeList = [\n    { id: \"1\", name: \"MÀU\" },\n    { id: \"2\", name: \"KÍCH THƯỚC\" },\n    { id: \"3\", name: \"CHẤT LIỆU\" },\n    { id: \"4\", name: \"VỊ\" },\n    { id: \"5\", name: \"BỘ NHỚ\" },\n  ];\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n  const [expandedDescription, setExpandedDescription] = React.useState(false);\n  const handleExpandedDescription = () => {\n    setExpandedDescription(!expandedDescription);\n  };\n  //Lô, HSD\n  const [outOfDate, setOutOfDate] = React.useState(\"false\");\n\n  // Attr\n  const [datas, setDatas] = useState([{ key: \"unset\", items: [] }]);\n\n  // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0}\n  const [relatedList, setRelatedList] = useState([]);\n  // const [attrOfProduct, setAttrOfProduct] = useState([]);\n\n  // console.log(\"relatedList\",relatedList)\n\n  const handleAddProductWithVariation = async () => {\n    if (relatedList.length !== 0) {\n      // var isValid = datas.map(item => item.key === 'unset'?  false  )\n      for (let i = 0; i < datas.length; i++) {\n        if (datas[i].key === \"unset\") {\n          setOpenSnack(true);\n          setSnackStatus({ style: \"error\", message: \"Tên thuộc tính trống\" });\n          return;\n        }\n      }\n    }\n    // handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit.toString()\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n       bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n\n      \n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"quantity\", 0);\n      for (var i = 0; i < relatedList.length; i++) {\n        const values = relatedList[i].name.split(\"-\");\n        const attributeValues = [];\n        const attrOfProduct = datas.map((item) => item.key);\n        attrOfProduct.forEach((att, index) => {\n          if (values[index])\n            attributeValues.push({\n              // name: att.name,\n              name: att,\n              value: values[index],\n            });\n        });\n        bodyFormData.append(\n          \"variations[]\",\n          JSON.stringify({\n            ...relatedList[i],\n            attribute_value: JSON.stringify(attributeValues),\n          })\n        );\n      }\n      bodyFormData.append(\n        \"attribute_value\",\n        JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.addProductWithVaration(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      // handleClose();\n      props.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [value, setValue] = useState(null)\n\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\nreturn (\n    <Dialog\n      open={open}\n      onClose={handleCloseAndReset}\n      aria-labelledby=\"form-dialog-title\"\n      maxWidth=\"md\"\n    >\n     \n      \n      <Box className={classes.root}>\n        <AddCategory\n          open={openAddCategory}\n          handleClose={handleCloseCategory}\n          onReset={onReset}\n        />\n        <SnackBarGeneral\n          handleClose={() => setOpenSnack(false)}\n          open={openSnack}\n          status={snackStatus}\n        />\n        <Box\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{ marginBottom: 20 }}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Thêm sản phẩm\n          </Typography>\n          <Box style={{ width: \"70%\" }}>\n            {store_setting?.recommendedProduct\n              .status ? (\n              <SearchWithAutoComplete\n                handleDefaultSelect={selectSampleProductHandler}\n                onSelect={selectSampleProductHandler}\n                searchApiCall={searchSampleProductHandler}\n                renderInput={renderNameInput}\n                getOptionLabel={getOptionLabel}\n                renderOption={renderOptionTest}\n                filterOptions={(options, state) => options}\n              />\n            ) : null}\n          </Box>\n        </Box>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            \n            />\n            {/* <TextField\n              label=\"Mã sản phẩm (tự động)\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"product_code\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.product_code}\n            /> */}\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n            <Box className={`${classes.box} ${classes.margin}`}>\n             \n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                {/* <InputLabel htmlFor=\"category\">Danh mục</InputLabel> */}\n                {/* <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select> */}\n                <TreeSelect\n                      id=\"category\"\n                      name=\"category\"  \n                      style={{ width: '100%'}}   \n                      dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                      treeData={categoryList}\n                      value={productFormik.values.category}\n                      onChange={(val)=>productFormik.setFieldValue(\"category\",val )}\n                      treeDefaultExpandAll\n                      onBlur={productFormik.handleBlur}\n                      \n                    />\n                    \n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              inputRef={salesPriceRef}\n              value={productFormik.values.salesPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"salesPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.list_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"importedPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.standard_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) >\n            Number(productFormik.values.salesPrice) ? (\n              <Typography variant=\"h6\" style={{ color: \"red\" }}>\n                {\" \"}\n                Giá vốn đang lớn hơn giá bán !!\n              </Typography>\n            ) : null} */}\n            {store_setting?.inventory.status ?\n            <>\n            <ThousandSeperatedInput\n              label=\"Tồn kho ban đầu\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"quantity\"\n              value={productFormik.values.quantity}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"quantity\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.quantity = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.quantity && productFormik.errors.quantity\n              }\n              helperText={\n                productFormik.touched.quantity\n                  ? productFormik.errors.quantity\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>\n          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10, marginBottom:20 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 5 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n        </Grid>\n        {/* {store_setting?.expiryDate.status  ? ( */}\n\n        {store_setting?.expiryDate.status  &&store_setting?.inventory.status ? (\n          // <div style={{ flexGrow: 1, textAlign: \"right\" , alignItems:'center'}}>\n             <Grid container alignItems=\"center\" justifyContent='flex-end'>\n            {productFormik.values.has_batches?\n            < >\n             <Typography>Thông báo trước khi hết HSD </Typography>\n             <ThousandSeperatedInput\n            //  label=\"Thông báo trước khi hết HSD\"\n              // variant=\"outlined\"\n              // fullWidth\n              size=\"small\"\n             style={{marginRight:10}}\n              name=\"notification_period\"\n              value={productFormik.values.notification_period}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.notification_period &&\n                productFormik.errors.notification_period\n              }\n              helperText={\n                productFormik.touched.notification_period\n                  ? productFormik.errors.notification_period\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n             />\n            <Typography style={{marginRight:10}}>ngày </Typography>\n          </>\n        \n             :null\n\n        }\n        \n            <FormControlLabel\n              control={\n                <Checkbox\n                  //checked={outOfDate}\n                  name=\"has_batches\"\n                  checked={productFormik.values.has_batches}\n                  onChange={productFormik.handleChange}\n                  //onChange={(event) => setOutOfDate(event.target.checked)}\n                />\n              }\n              label=\"Lô, hạn sử dụng\"\n            />\n   </Grid>\n          /* </div> */\n        ) : null}\n\n        {store_setting?.variation.status ? (\n          <>\n            <Card className={classes.attrCard} >\n              <CardHeader\n                onClick={handleExpandClick}\n                action={\n                  <IconButton\n                    size=\"small\"\n                    className={clsx(classes.expand, {\n                      [classes.expandOpen]: expanded,\n                    })}\n                    onClick={handleExpandClick}\n                    aria-expanded={expanded}\n                  >\n                    <ExpandMoreIcon />\n                  </IconButton>\n                }\n                title=\"Thuộc tính\"\n                className={classes.attrHead}\n              />\n              <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                <AddAttribute\n                  attributeList={attributeList}\n                  datas={datas}\n                  setDatas={setDatas}\n                  setRelatedList={setRelatedList}\n                  list_price={productFormik.values.salesPrice}\n                  standard_price={productFormik.values.importedPrice}\n                  // attrOfProduct={attrOfProduct}\n                  // setAttrOfProduct={setAttrOfProduct}\n                />\n              </Collapse>\n            </Card>\n            {/* GENERATE LIST */}\n            {relatedList.length > 0 ? (\n              <Card className={classes.attrCard}>\n                <CardHeader\n                  title=\"Danh sách hàng cùng loại\"\n                  className={classes.attrHead}\n                />\n                {/*  !!!! Handle value phần này */}\n                <RelaltedItemList\n                  relatedList={relatedList}\n                  setRelatedList={setRelatedList}\n                  isManageInventory = {store_setting?.inventory.status}\n                />\n              </Card>\n            ) : null}\n          </>\n\n        ) : null}\n\n\n      {/* MÔ TẢ */}\n      <Card className={classes.attrCard}>\n          <CardHeader\n            onClick={handleExpandedDescription}\n            action={ <IconButton size=\"small\" className={clsx(classes.expand, {  [classes.expandOpen]: expandedDescription, })}  onClick={handleExpandedDescription} aria-expanded={expanded} >  <ExpandMoreIcon /> </IconButton> }\n            title=\"Mô tả\"\n            className={classes.attrHead}\n          />\n          <Collapse in={expandedDescription} timeout=\"auto\" unmountOnExit style={{padding:0}}>\n              <ReactQuill theme=\"snow\" name=\"description\"value={productFormik.values.description} onChange={(val) => productFormik.setFieldValue(\"description\",val)}  modules={modules} formats={formats}  placeholder={'Write something...'} />\n          </Collapse>\n\n\n        </Card>\n        {/* <div>\n        <Tree />\n        </div> */}\n\n        {/* Button */}\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <Button\n            onClick={handleCloseAndReset}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n            style={{ marginRight: 20 }}\n          >\n            Huỷ\n          </Button>\n          <Button\n            onClick={() => {\n              if (relatedList.length) {\n                handleAddProductWithVariation();\n              } else {\n                addProductHandler();\n              }\n            }}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={\n              !(\n                productFormik.isValid \n                // &&\n                // Object.keys(productFormik.touched).length > 0\n              ) ||\n              Number(productFormik.values.importedPrice) >\n                Number(productFormik.values.salesPrice)\n            }\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Box>\n     \n    </Dialog>\n  \n  );\n};\n\nexport default AddInventory;\n\n\nconst modules = {\n  toolbar: [\n    [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n    [{size: []}],\n    [{ align: '' }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [{'color':[]}],\n    [{'background':[]}],\n    [{'list': 'ordered'}, {'list': 'bullet'}, \n     {'indent': '-1'}, {'indent': '+1'}],\n    ['link', 'image', 'video'],\n    ['clean'],\n    \n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  },\n  imageResize: {\n    parchment: Quill.import('parchment'),\n    modules: ['Resize', 'DisplaySize','Toolbar']\n }\n}\n\n\nconst formats = [\n  'header', 'font', 'size',\n  'bold', 'italic', 'underline', 'strike', 'blockquote',\n  'list', 'bullet', 'indent',\n  'link', 'image', 'video','color','background'\n]\n\n","import React, {useEffect,useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import library\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Avatar,\n  Dialog,\n  FormHelperText\n} from \"@material-ui/core\";\n\n//import project\nimport customerApi from \"../../../../api/customerApi\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport storeApi from \"../../../../api/storeApi\";\nimport CustomerRegisterEmail from \"../../../../components/Email/CustomerRegisterEmail\";\nimport Fuse from 'fuse.js'\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    ava: {\n      width: theme.spacing(7),\n      height: theme.spacing(7),\n    },\n    textField: {\n      width: \"100%\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst AddCustomer = (props) => {\n  const { handleClose, open, onReload } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [phoneExist, setPhoneExist] = React.useState(false);\n  const [clicked, setClicked] =useState(false)\n\n  const customerFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\",\n      paymentInfo:\"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\")\n        .matches(/^\\d+$/),\n      email: Yup.string().email(\"Email không chính xác\")\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n    }),\n  })\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  // const handleCloseAndReset =() =>{\n  //   onReload()\n  //   // handleClose()\n  //   customerFormik.resetForm()\n  // } \n \n  useEffect(() =>{\n    if(phoneExist) {setPhoneExist(false)}\n  },[customerFormik.values.phone])\n\n  const dispatch = useDispatch()\n  return (\n \n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Thêm khách hàng\n        </Typography>\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-around\"\n            spacing={3}\n          >\n            <Grid item sm={7}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Tên khách hàng\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                required\n                name = \"name\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.name}\n                error={customerFormik.touched.name && customerFormik.errors.name}\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Số điện thoại\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"phone\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.phone}\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\n                onBlur={customerFormik.handleBlur}\n              />\n               { phoneExist && (\n                <FormHelperText error>Số điện thoại đã được sử dụng</FormHelperText>\n              )}\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Địa chỉ\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name= \"address\"\n                // required\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.address}\n                error={customerFormik.touched.address && customerFormik.errors.address}\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n            <Grid item sm={5}>\n              \n              <TextField\n                id=\"outlined-basic\"\n                label=\"Email\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name = \"email\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.email}\n                error={customerFormik.touched.email && customerFormik.errors.email}\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"date\"\n                label=\"Thông tin thanh toán\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.textField}\n                name = \"paymentInfo\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.paymentInfo}\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={ handleClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          onClick={async () => {   \n            // handleClose()  \n            setClicked(true)\n            let body = {\n              name: customerFormik.values.name,\n              email: customerFormik.values.email,\n              phone: customerFormik.values.phone,\n              address: customerFormik.values.address,\n              payment_info: customerFormik.values.paymentInfo,\n            };\n\n            try {\n              const response = await customerApi.createCustomer(store_uuid, body);\n              if (customerFormik.values.email) {\n                const customer = response.data;\n                if (customer) {\n                  const emailRes = await storeApi.sendEmail(\n                    store_uuid, customer.email, customer.name, \"Chúc mừng khách hàng mới\", CustomerRegisterEmail(\"\", \"\", customer, info.store) )\n                }\n              }\n              handleClose()  \n              dispatch(statusAction.successfulStatus(\"Tạo khách hàng thành công\"));\n              // handleCloseAndReset()\n             \n              props.onReload()\n              \n              // props.handleSelectCustomer(response.data)\n              if(props.isCart){\n                props.setAddCustomer(response.data)\n              }\n              \n            } catch (err) {\n              // dispatch(statusAction.failedStatus(\"Số điện thoại đã được sử dụng\"));\n              setPhoneExist(true)\n              setClicked(false)\n              console.log(err)\n            }\n\n          }}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled = {!(customerFormik.isValid\n            //  && Object.keys(customerFormik.touched).length > 0\n             ) \n             || clicked}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default AddCustomer;\n","import React from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  DialogActions,\n  DialogContent,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  RadioGroup,\n  Radio,\n  ListItem,\n  Paper,\n  ButtonBase,\n  Avatar,\n  Popover\n} from \"@material-ui/core\";\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport * as Input from \"./NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../TextField/NumberFormatCustom\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    popup: { borderColor: theme.customization.primaryColor[500], padding: 5, paddingLeft:12, boxShadow: \"0px 5px 10px 0px rgba(0, 0, 0, 0.5)\" }\n  })\n);\n\nconst DiscountInputDetail = ({handleUpdateDiscountDetail,cartData,setAnchorEl}) =>{\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    \n    const handleChangeValue = (e) =>{\n      // if(e.target.value < 0){e.target.value = 0}\n      console.log(\"e.target.value.includes('-') \",!e.target.value )\n\n      // if(!e.target.value){e.target.value = 0; return; }\n      if(e.target.value < 0 || e.target.value.includes('-') ){return}\n\n      else if(cartData.discountDetail?.type === \"%\"){\n        if(Number(e.target.value) > 100){ \n          handleUpdateDiscountDetail({value:'100', type:'%'})\n        }\n        else{  \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value, type:'%'})\n        }\n      }\n      else{\n        if(Number(e.target.value) > Number(cartData.total_amount)){ \n          handleUpdateDiscountDetail({value: cartData.total_amount, type:'VND'})\n        }\n        else{ \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value.toString(), type:'VND'})\n  \n        }\n      }\n    }\n    const handleChangeType = (type) =>{\n      if(type === \"%\") {\n        handleUpdateDiscountDetail({type:'%',value:(Number(cartData.discountDetail?.value) / Number(cartData.total_amount)*100).toFixed(2).toString()})\n      }else{\n        handleUpdateDiscountDetail({type:'VND',value:((Number(cartData.discountDetail?.value) *Number(cartData.total_amount)/100 / 100).toFixed() * 100).toString()})\n      }\n    }\n  \n    return(\n      <ClickAwayListener onClickAway={()=>setAnchorEl(null)}>\n        <Paper  variant=\"outlined\" className={classes.popup}  >\n           <Grid  container alignItems='center' spacing={2} >\n                  <Grid item><Typography variant=\"h5\" >Giảm giá </Typography></Grid>\n                  <Grid item>\n                  <ListItem>\n                    <Input.ThousandSeperatedInput style={{color:\"#000\", marginRight:10, width:90}} \n                     value={cartData.discountDetail?.value}\n                     onChange={handleChangeValue}\n                    /> \n                    <Grid item style={{ marginRight:5}}> \n                        <ButtonBase sx={{ borderRadius: '16px', }} \n                            onClick={()=>handleChangeType(\"VND\")}\n                            // onClick={handleChangeMoneyTypeToVND}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"VND\"?  theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >VND</Typography>\n                          </Avatar>     \n                      </ButtonBase>\n                      </Grid> \n                      <Grid item> \n                        <ButtonBase sx={{ borderRadius: '16px' }} \n                            onClick={()=>handleChangeType(\"%\")}\n                            // onClick={handleChangeMoneyTypeToPercent}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"%\"?theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >%</Typography>\n                          </Avatar>    \n                      </ButtonBase>\n                    </Grid> \n                    </ListItem> \n                  </Grid>\n               </Grid>\n\n               <Grid  container alignItems='center' justifyContent=\"space-between\"spacing={3} >\n                    <Grid item><Typography variant=\"h5\" >Khuyến mãi</Typography></Grid>\n                    <Grid item>{<VNDFormat value={cartData.discountPro} style={{marginRight:20, }}/>}</Grid>\n               </Grid>\n  \n      </Paper>\n      </ClickAwayListener>\n    )\n  }\n\nexport default DiscountInputDetail","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useState } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Typography } from \"@material-ui/core\";\nimport * as _ from \"lodash\";\nimport {getColorBatch} from \"../../utils\"\nimport { Badge } from \"antd\";\n\nexport default function SelectBatch({ handleSubmit, handleClose, row, isInventoryCheck, isCart, isImport }) {\n  const [selectedBatches, setSelectedBatches] = useState([]);\n\n  return (\n    <Dialog open={true}>\n      {/* <DialogTitle\n        style={{ fontSize: 16, paddingRight:30 }}\n      >{`Chọn lô của ${row.product_code} - ${row.name}`}</DialogTitle> */}\n      <Typography style={{ fontSize: 16,fontWeight:600, marginTop:15, marginLeft:15, paddingRight:30 }}>{`Chọn lô ${row.product_code} - ${row.name}`}</Typography>\n\n      <DialogContent>\n        <Autocomplete\n          options={isCart ? row.batches.filter(b => b?.quantity !== '0') : row.batches}\n          getOptionLabel={(batch) =>\n            `${batch?.batch_code} - ${\n              batch?.expiry_date ? batch?.expiry_date.substring(0,10) : \"\"\n            } - Tồn kho: ${batch?.quantity}`\n          }\n          renderInput={(params) => (\n            <TextField {...params} label=\"Tìm mã lô\" variant=\"standard\" />\n          )}\n          onChange={(e, value) => {\n            if (value) {\n              setSelectedBatches(\n                _.uniqBy(\n                  [\n                    ...selectedBatches,\n                    ...[{ ...value, additional_quantity: 0, is_new: false }],\n                  ],\n                  \"batch_code\"\n                )\n              );\n            }\n          }}\n        />\n        <div style={{ marginTop: 20 }}>\n          {selectedBatches.map((batch) => {\n            return (\n              <Badge.Ribbon offset={[10, 10]} text={getColorBatch(batch, row.notification_period).status} color={getColorBatch(batch, row.notification_period).color}>\n                <div\n                  key={batch?.batch_code}\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    gap: 10,\n                    border: \"2px solid #eee\",\n                    borderRadius: 5,\n                    marginBottom: 10,\n                    alignItems: \"center\",\n                    width: 500,\n                    justifyContent: \"space-between\",\n                    paddingLeft: 10,\n                    paddingRight: 50,\n                    paddingTop: 5,\n                    paddingBottom: 5,\n                  }}\n                >\n                  <Typography variant=\"h5\">{`${batch?.batch_code} - ${\n                    batch?.expiry_date ? batch?.expiry_date?.substring(0, 10) : \"\"\n                  } - Tồn kho: ${batch?.quantity}`}</Typography>\n                  <TextField\n                    type=\"number\"\n                    style={{ width: 100 }}\n                    value={batch.additional_quantity}\n                    onChange={(e) => {\n                      if (Number(e.target.value) < 0) return;\n                      const newSelectedList = selectedBatches.map(\n                        (selectedBatch) => {\n                          if (selectedBatch.batch_code === batch.batch_code) {\n                            return {\n                              ...selectedBatch,\n                              additional_quantity: Number(e.target.value),\n                            };\n                          } else {\n                            return selectedBatch;\n                          }\n                        }\n                      );\n                      setSelectedBatches(newSelectedList);\n                    }}\n                  ></TextField>\n                </div>\n              </Badge.Ribbon>\n            );\n          })}\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" size=\"small\"variant=\"contained\" onClick={handleClose}>\n          Hủy\n        </Button>\n        <Button\n          color=\"primary\"\n          size=\"small\"variant=\"contained\"\n          onClick={() => {\n            if (!isInventoryCheck) {\n              const nonZeroBatch = selectedBatches.filter(\n                (batch) => batch.additional_quantity\n              );\n              handleSubmit(nonZeroBatch);\n            } else {\n              handleSubmit(selectedBatches);\n            }\n            handleClose();\n          }}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst OrderProductListFilter = (props) => {\n    const {handleToggleFilter,openFilter} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    return (\n    <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n         {/* Nhan vien, NCC?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n         {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\"className={classes.text} >Ngày đặt:</Typography>\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n      {/* 2,Khoảng tiền from-to*/}\n      <Typography variant=\"h5\"className={classes.text} >Tiền đơn nhập:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n      <VNDInput required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n      //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n       {/* 3.Chi nhanh */}\n       <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl>\n\n      {/* 4. Trang thai */}\n      <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\n      </Select>\n      </FormControl>\n\n        {/* BUTTON */}\n        <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\n           Lọc\n      </Button>\n\n\n          \n    </Drawer>\n    )\n}\n\nexport default OrderProductListFilter\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\nimport { VNDFormat,ThounsandFormat } from '../../../../components/TextField/NumberFormatCustom';\nimport {TableCell,TableRow} from '@material-ui/core';\n\nimport {FormatedStatusOrder} from '../../../../components/TableCommon/util/format'\nimport OrderProductListDetail from './OrderProductListDetail/OrderProductListDetail'\nimport { Typography } from '@mui/material';\n\nconst OrderProductListTableRow = (props) => {\n    const { row, handleOpenRow,openRow, reload,colorText,isReport} = props;\n    const classes = useRowStyles();\n\n    console.log(\"rowrowrowrow\",row)\n    return (\n        <>\n        {/* ROW */}\n            <TableRow\n            onClick={() => handleOpenRow(row.id)}   \n            key={row.id}\n            className={ clsx(classes.row,(openRow === row.id) ? classes.rowClicked : null)}\n            >\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.customer_order_code}</TableCell>\n                {/* <TableCell align=\"left\"className={classes.fontName}>{row.created_at}</TableCell> */}\n                <TableCell align=\"left\"className={colorText?null:classes.fontName}  style={{color:colorText}}> {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n                <TableCell align=\"left\"className={colorText?null:classes.fontName} style={{color:colorText}}>{row.name}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.phone}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.address}{`, `}{row.ward}{`, `}{row.district}{`, `}{row.city}</TableCell>\n                <TableCell align=\"right\" className={colorText?null:classes.fontName}  style={{color:colorText}}><VNDFormat value={row.total_amount} /></TableCell>\n                {isReport?null:<TableCell align=\"center\">\n                        <FormatedStatusOrder status={row.status}/>:\n                </TableCell>}\n                {/* <TableCell align=\"left\">{row.address}</TableCell> */}\n            </TableRow>\n\n        {/* DETAIL */}\n            <TableRow>\n              {/* colspan  => số cột trong collapse */}\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \n                    <OrderProductListDetail parentProps={props} openRow={openRow} reload={reload}/>       \n              </TableCell>\n       \n            </TableRow>\n        </>\n    )\n}\n\nexport default OrderProductListTableRow\n","import React, {useState, useEffect,useRef} from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {Typography,Card,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody,Box} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useReactToPrint } from \"react-to-print\";\n\n//import api \n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n\n//import constant\nimport * as HeadCells from '../../../assets/constant/tableHead'\nimport *  as TableType from '../../../assets/constant/tableType'\n\n////import project\nimport OrderProductListFilter from './OrderProductListTool/OrderProductListFilter'\n\nimport OrderProductListTableRow from './OrderProductListTableRow/OrderProductListTableRow'\n//chung\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\nimport ToolBar from '../../../components/TableCommon/ToolBar/ToolBar'\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\n\nimport JSONdata from '../../../assets/JsonData/inventoryOrder.json'\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\n\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\n\nimport orderApi from '../../../api/orderApi';\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport moment from \"moment\";\n\n\nconst OrderProductList = () => {\n   // fetch data here\n   const orderProductList = JSONdata;\n  \n\n   const theme = useTheme();\n   const classes = useStyles(theme);\n   const dispatch = useDispatch();\n   const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n  \n\n\n   //// 2. Table\n   //collapse\n   const [openRow, setRowOpen] = React.useState(null);\n   const handleOpenRow = (row) => {\n       if (row !==  openRow){setRowOpen(row);}\n       else{setRowOpen(null)}  \n   };\n\n   // header sort \n   const [order, setOrder] = React.useState('asc');\n   const [orderBy, setOrderBy] = React.useState('id');\n   \n   const handleRequestSort = (event, property) => {\n     //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n     // const isAsc = orderBy === property && order === 'asc';\n     // setOrder(isAsc ? 'desc' : 'asc');\n     // setOrderBy(property);\n   };\n\n\n    //3. ToolBar\n     // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n    //3.1. search\n\n    //3.2. filter\n    const [openFilter, setOpenFilter] = React.useState(false);\n    const handleToggleFilter = () => {\n      setOpenFilter(!openFilter);\n    };\n\n    //3.3. loc cot\n\n\n\n\n    // fileter\n    const [customerOrders, setCustomerOrders] = useState([])\n    const initialQuery = {\n      startDate: '',\n      endDate: '',\n      minTotalAmount: 0,\n      maxTotalAmount: 0,\n      status: '',\n      orderBy: 'customer_orders.created_at',\n      sort: 'desc',\n      searchKey: '',\n    };\n    const handleRemoveFilter = () => {\n      setQuery(initialQuery)\n    }\n    const [query, setQuery] = useState(initialQuery)\n    const [reload, setReload] = React.useState(false);\n    const [pagingState, setPagingState] = useState({\n      page: 0,\n      limit: 10,\n    });\n    const [totalRows, setTotalRows] = useState(0)\n    const onReload = () => {\n      setReload(!reload);\n    };\n    const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await orderApi.searchCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows);\n        setCustomerOrders(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid ) {\n      \n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query, reload]);\n\n  const tableRef = React.createRef();\n\n  const getDataExport = async () => {\n    try {\n      const response = await orderApi.searchCustomerOrder(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus(\"Không thể lấy dữ liệu!\"));\n      console.log(error);\n    }\n  }\n\n  return (\n    <Card className={classes.root} >\n          <Grid \n            container\n            direction=\"row\"\n            justifyContent=\"space-between\"  \n          > \n              {/* 1. ADD POP UP */}\n                <Typography className={classes.headerTitle} variant=\"h5\">\n                    Đơn đặt hàng\n                </Typography>\n\n                <Grid className={classes.btngroup1} >\n                    <ButtonBase \n                        sx={{ borderRadius: '16px' }} \n                        onClick={()=>{dispatch(customizeAction.setSidebarOpen(false));}}\n                        component={Link}\n                        to='/home/inventory/order-list/order' \n                        >\n                        <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\n                            <Tooltip title=\"Đặt hàng\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                            </Tooltip>\n                        </Avatar>\n                    </ButtonBase>\n            </Grid>\n          </Grid>\n    \n          <Divider />\n\n          {/* 2. SEARCH - FILTER - EXPORT*/}\n          {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n          {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/ }\n          <ToolBar  dataTable={orderProductList} tableType={TableType.ORDER_LIST}  textSearch={'#, NCC, Nguoi đặt,...'}\n           handleToggleFilter={handleToggleFilter}  handlePrint={handlePrint}\n\n           orderByOptions={[\n            {value: 'customer_orders.created_at', label: 'Ngày tạo'},\n            {value: 'total_amount', label: 'Tổng tiền'},\n          ]}\n          orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n          sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n          searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n          handleRemoveFilter={handleRemoveFilter}\n          getDataExport={getDataExport}\n          columnsToKeep = {[\n            {dbName:\"customer_order_code\",displayName:\"Mã đơn đặt\"},\n            {dbName:\"name\",displayName:\"Tên khách\"},\n            {dbName:\"phone\",displayName:\"Số điện thoại\"},\n            {dbName:\"total_amount\",displayName:\"Tổng tiền\"}, \n            {dbName:\"status\",displayName:\"Trạng thái\"}, \n            {dbName:\"description\",displayName:\"Ghi chú\"},\n          ]}\n           \n           /> \n\n          {/* <OrderProductListFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/> */}\n\n\n\n          {/* 3. TABLE */}\n          {!xsScreen?<TableWrapper\n           pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           tableRef={tableRef}\n\n          >\n              <TableHeader\n                classes={classes}\n                order={order}\n                orderBy={orderBy}\n                onRequestSort={handleRequestSort}\n                headerData={HeadCells.OrderListHeadCells}\n              />\n              <TableBody>\n                {customerOrders.map((row, index) => {\n                  console.log(\"row\",row)\n                    return (\n                      <OrderProductListTableRow key={row.id} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} reload={onReload}/>\n         \n                    );\n                })}\n              </TableBody>\n          </TableWrapper>:\n         <>\n          <Box style={{minHeight:'50vh'}}>\n         { orderProductList.map((row, index) => {\n            return (\n              <BillMiniTableRow key={row.id} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  \n              //onReload={onReload} \n              totalCost={10000}  id={\"OR00001\"} partnerName={\"THAY THẾ\"} date={\"22/12/2008\"} \n              typeBill={\"Đơn đặt hàng nhập\"} />\n            );\n          })}\n          </Box>\n          <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           />\n    \n          </>}\n          <div  style={{display:'none'}} >\n            <div ref={componentRef}  >\n            <ComponentToPrint  customerOrders={customerOrders} classes={classes}/>\n            </div>\n        \n          </div>\n     \n      </Card>\n  )\n}\n\nexport default OrderProductList\n\nconst ComponentToPrint = ({customerOrders,classes}) =>{\n  return (\n  <div style={{padding:10}}>\n  <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n  <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n    <Typography style={{  fontSize: 18, fontWeight: 600}} >\n      {/* Thống kê đơn đặt hàng */}\n      THỐNG KÊ ĐƠN ĐẬT HÀNG\n    </Typography>\n    {/* <Typography  >\n      {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n    </Typography> */}\n    {/* {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền lệch từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n    {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}  */}\n\n  </Box>\n  <div>\n  <TableWrapper  isReport={true} >\n    <TableHeader\n    color=\"#000\"\n      classes={classes}\n      headerData={HeadCells.OrderListHeadCells.filter(item => item.id !== \"status\")}\n    />\n    <TableBody>\n      {customerOrders.map((row, index) => {\n        return  <OrderProductListTableRow colorText={\"#000\"} key={row.uuid} row={row} isReport={true}/>\n        })}\n    </TableBody>\n    </TableWrapper>\n  </div>\n</div>\n  )\n}"],"sourceRoot":""}