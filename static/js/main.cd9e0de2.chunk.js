(this.webpackJsonpbkrm_thesis=this.webpackJsonpbkrm_thesis||[]).push([[15],{123:function(e,t,n){"use strict";var r=n(9),a={createBranch:function(e,t){var n="stores/".concat(e,"/branches");return r.a.post(n,t)},getBranches:function(e){var t="/stores/".concat(e,"/branches");return r.a.get(t)},getAllBranches:function(e){var t="/stores/".concat(e,"/branches/getAllBranches");return r.a.get(t)},getBranch:function(e,t){var n="/stores/".concat(e,"/branches/").concat(t);return r.a.get(n)},deleteBranch:function(e,t){var n="/stores/".concat(e,"/branches/").concat(t);return r.a.delete(n)},updateBranch:function(e,t,n){var a="/stores/".concat(e,"/branches/").concat(t);return r.a.post(a,n)},inactiveBranch:function(e,t){var n="/stores/".concat(e,"/branches/").concat(t);return r.a.put(n,{status:"inactive"})},activeBranch:function(e,t){var n="/stores/".concat(e,"/branches/").concat(t);return r.a.put(n,{status:"active"})}};t.a=a},138:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),i=n.n(o),c=n(81),s=n(115),u=n(33),l=n.n(u);function d(e){return{fontFamily:e.customization.fontFamily,h6:{fontWeight:500,color:e.heading,fontSize:"0.75rem"},h5:{fontSize:"0.875rem",color:e.heading,fontWeight:500},h4:{fontSize:"1rem",color:e.heading,fontWeight:600},h3:{fontSize:"1.25rem",color:e.heading,fontWeight:600},h2:{fontSize:"1.5rem",color:e.heading,fontWeight:700},h1:{fontSize:"2.125rem",color:e.heading,fontWeight:700},subtitle1:{fontSize:"0.875rem",fontWeight:500,color:e.textDark},subtitle2:{fontSize:"0.75rem",fontWeight:400,color:e.darkTextSecondary},caption:{fontSize:"0.75rem",color:e.darkTextSecondary,fontWeight:400},body1:{fontSize:"0.875rem",fontWeight:400,lineHeight:"1.334em"},body2:{letterSpacing:"0em",fontWeight:400,lineHeight:"1.5em",color:e.darkTextPrimary},mainContent:{backgroundColor:e.background},menuCaption:{fontSize:"0.875rem",fontWeight:500,color:e.heading,padding:"6px",textTransform:"capitalize",marginTop:"10px"},commonAvatar:{cursor:"pointer",borderRadius:"8px"},smallAvatar:{width:"22px",height:"22px",fontSize:"1rem"},mediumAvatar:{width:"34px",height:"34px",fontSize:"1.2rem"},largeAvatar:{width:"44px",height:"44px",fontSize:"1.5rem"}}}function f(e){var t=e.customization.colorLevel;return{primary:{light:e.customization.primaryColor[t],main:e.customization.primaryColor[500]},secondary:{light:e.customization.secondaryColor[50],main:e.customization.secondaryColor[500]},text:{primary:e.darkTextPrimary,secondary:e.darkTextSecondary},background:{paper:e.paper,default:e.paper}}}var p=function(e){var t={colors:l.a,heading:e.themeText,paper:e.themeBackground,darkTextPrimary:e.themeGreyText,customization:e};return Object(s.b)({customization:e,palette:f(t),typography:d(t),mixins:{toolbar:{minHeight:"48px",padding:"16px","@media (min-width: 600px)":{minHeight:"48px"}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1500}}})},h=n(17),m=n(59),b=n(11),g=n(206),y=n(91),j=n(90),v=n(18),O=n(86),x=n(3),S=["children"],k=function(e){var t=e.children,n=Object(O.a)(e,S),r=Object(h.f)((function(e){return e.auth.isLoggedIn})),a=Object(b.g)();return r&&sessionStorage.setItem("BKRMprev",a.pathname),Object(x.jsx)(b.b,Object(v.a)(Object(v.a)({},n),{},{render:function(){return r?t:Object(x.jsx)(b.a,{to:{pathname:"/login"}})}}))},w=n(209),L=n(201),z=n(202),M=n(118),B=Object(M.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:10,minWidth:"100%",minHeight:"100vh"},modal:{alignItems:"center",justifyContent:"center",display:"flex",width:"100vw",minHeight:"100vh"},box:{width:"100%"},btn:{marginTop:-9,marginRight:-3},loading:{maxWidth:100}}}));function C(){var e=Object(h.f)((function(e){return e.loading.isLoading})),t=B();return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(w.a,{open:e,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)(L.a,{children:Object(x.jsx)(z.a,{className:t.container})})})})})}var I=n(207),_=n(210),P=n(208),R=n(35);function T(e){return Object(x.jsx)(P.a,Object(v.a)({elevation:6,variant:"filled"},e))}var W=function(){var e=Object(h.f)((function(e){return e.status.open})),t=Object(h.f)((function(e){return e.status.status})),n=Object(h.f)((function(e){return e.status.message})),o=Object(h.e)();return Object(r.useEffect)((function(){e&&setTimeout((function(){o(R.b.closeStatus())}),1e3)}),[e,o]),Object(x.jsx)(a.a.Fragment,{children:1==t?Object(x.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e,children:Object(x.jsx)(T,{severity:"success",children:n})}):0==t?Object(x.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e,children:Object(x.jsx)(T,{severity:"error",children:n})}):null})},F=n(20),D=n.n(F),U=n(38),N=n(205),H=(n(9),function(){var e=function(){var e=Object(U.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{fetch("https://cdn.shopify.com/s/files/1/0234/8017/2591/products/young-man-in-bright-fashion_925x_f7029e2b-80f0-4a40-a87b-834b9a283c39.jpg").then((function(e){return console.log(e)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(N.a,{onClick:e,children:"Trye"})}),A=(n(138),a.a.lazy((function(){return Promise.all([n.e(6),n.e(12),n.e(20),n.e(32)]).then(n.bind(null,1809))}))),J=a.a.lazy((function(){return Promise.all([n.e(6),n.e(33),n.e(45)]).then(n.bind(null,1832))})),K=a.a.lazy((function(){return Promise.all([n.e(6),n.e(41)]).then(n.bind(null,1817))})),E=a.a.lazy((function(){return Promise.all([n.e(2),n.e(6),n.e(8),n.e(12),n.e(19)]).then(n.bind(null,1808))})),G=a.a.lazy((function(){return Promise.all([n.e(29),n.e(46)]).then(n.bind(null,1822))}));var q=function(){var e=Object(h.f)((function(e){return e.customize})),t=(Object(h.f)((function(e){return e.info.store.uuid})),Object(h.f)((function(e){return e.auth.isLoggedIn}))),n=Object(h.e)(),a=Object(r.useState)("/home"),o=Object(c.a)(a,2),i=o[0],s=o[1];return Object(r.useEffect)((function(){n(Object(j.c)()),s(sessionStorage.getItem("BKRMprev"))}),[n]),Object(x.jsx)(g.a,{theme:p(e),children:Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(C,{}),children:Object(x.jsxs)(z.a,{children:[Object(x.jsx)(C,{}),Object(x.jsx)(W,{}),Object(x.jsx)(I.a,{}),Object(x.jsx)(m.a,{children:Object(x.jsxs)(b.d,{children:[Object(x.jsx)(b.b,{path:"/",exact:!0,children:Object(x.jsx)(b.a,{to:"/home"})})," ",Object(x.jsx)(k,{path:"/home",children:Object(x.jsx)(A,{})}),Object(x.jsx)(b.b,{path:"/login",exact:!0,children:t?Object(x.jsx)(b.a,{to:i}):Object(x.jsx)(J,{})}),Object(x.jsx)(b.b,{path:"/signup",exact:!0,children:t?Object(x.jsx)(b.a,{to:i}):Object(x.jsx)(K,{})}),Object(x.jsx)(b.b,{path:"/main",component:G}),Object(x.jsx)(b.b,{path:"/store",children:Object(x.jsx)(b.d,{children:Object(x.jsx)(b.b,{path:"/store/:storeWebPage",children:Object(x.jsx)(E,{})})})}),Object(x.jsx)(b.b,{path:"/test",component:H}),Object(x.jsx)(b.b,{path:"*",component:y.a})]})})]})})})},Q=n(55);i.a.render(Object(x.jsx)(h.a,{store:Q.a,children:Object(x.jsx)(q,{})}),document.getElementById("root"))},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(26),a=Object(r.b)({name:"info",initialState:{user:{user_name:"",name:"",email:"",email_verified_at:null,phone:"",date_of_birth:"",status:"",gender:null,uuid:"",created_at:"",updated_at:"",permissions:[]},store:{uuid:"",name:"",address:"",ward:"",province:"",phone:"",status:"",image:"",created_at:"",updated_at:"",district:"",general_configuration:null,store_configuration:'{"facebook":null,"instagram":null,"custom_web":null,"img_url":null}'},branch:{uuid:"",name:"",id:""},role:"",products:[],searchBarState:"search"},reducers:{setUser:function(e,t){e.user=t.payload},setStore:function(e,t){e.store=t.payload},setRole:function(e,t){e.role=t.payload},setBranch:function(e,t){e.branch=t.payload},setProducts:function(e,t){e.products=t.payload},setSearchBarState:function(e,t){e.searchBarState=t.payload}}});t.a=a;var o=a.actions},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(26),a=Object(r.b)({name:"auth",initialState:{isLoggedIn:!1},reducers:{logIn:function(e){e.isLoggedIn=!0},logOut:function(e){e.isLoggedIn=!1}}}),o=a.actions;t.b=a},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(26),a=Object(r.b)({name:"loading",initialState:{isLoading:!1},reducers:{startLoad:function(e){e.isLoading=!0},finishLoad:function(e){e.isLoading=!1}}});t.a=a;var o=a.actions},33:function(e,t,n){e.exports={paper:"#fff",primaryLight:"#e3f2fd",primary200:"#90caf9",primaryMain:"#2196f3",primaryDark:"#1e88e5",primary800:"#1565c0",secondaryLight:"#ede7f6",secondary200:"#b39ddb",secondaryMain:"#673ab7",secondaryDark:"#5e35b1",secondary800:"#4527a0",successLight:"#b9f6ca",success200:"#69f0ae",successMain:"#00e676",successDark:"#00c853",errorLight:"#ef9a9a",errorMain:"#f44336",errorDark:"#c62828",orangeLight:"#fbe9e7",orangeMain:"#ffab91",orangeDark:"#d84315",warningLight:"#fff8e1",warningMain:"#ffe57f",warningDark:"#ffc107",grey50:"#fafafa",grey100:"#f5f5f5",grey200:"#eee",grey300:"#e0e0e0",grey500:"#9e9e9e",grey600:"#757575",grey700:"#616161",grey800:"#2d2d2d",grey900:"#000"}},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(33),a=n.n(r),o=n(43),i=n(49),c=n(56),s=n(26),u={fontFamily:"'Roboto', sans-serif",borderRadius:12,mode:"Light",menu:"1",themeBackground:a.a.paper,themeText:a.a.grey900,themeGreyText:a.a.grey700,primaryColor:o.a,secondaryColor:i.a,colorLevel:50,isSidebarOpen:null,itemMenuOpen:localStorage.getItem("BKRMopening")?localStorage.getItem("BKRMopening"):-1,showMenu:["salesModule","inventoryModule","hrModule","reportModule"]},l=Object(s.b)({name:"customize",initialState:u,reducers:{setFontFamily:function(e,t){e.fontFamily=t.payload},setMenu:function(e,t){e.menu=t.payload},setShowMenu:function(e,t){e.showMenu=t.payload},setBorderRadius:function(e,t){e.borderRadius=t.payload},setMode:function(e,t){"Light"===t.payload?(e.mode=t.payload,e.themeBackground=a.a.paper,e.themeText=a.a.grey900,e.themeGreyText=a.a.grey700,e.primaryColor=o.a,e.colorLevel=50):(e.mode=t.payload,e.themeBackground=a.a.grey800,e.themeText=a.a.grey50,e.themeGreyText=a.a.grey50,e.primaryColor=c.a,e.colorLevel=700)},setPrimaryColor:function(e,t){e.primaryColor=t.payload},setSecondaryColor:function(e,t){e.secondaryColor=t.payload},setColorLevel:function(e,t){0===t.payload?e.colorLevel=50:e.colorLevel=t.payload},setState:function(e,t){t.payload},setSidebarOpen:function(e,t){e.isSidebarOpen=t.payload},setItemMenuOpen:function(e,t){e.itemMenuOpen=t.payload}}});t.b=l;var d=l.actions},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(26),a=Object(r.b)({name:"loading",initialState:{status:null,message:"",open:!1},reducers:{successfulStatus:function(e,t){e.status=!0,e.message=t.payload,e.open=!0},failedStatus:function(e,t){e.status=!1,e.message=t.payload,e.open=!0},closeStatus:function(e){e.open=!1,e.message="",e.status=null}}});t.a=a;var o=a.actions},55:function(e,t,n){"use strict";var r=n(26),a=n(34),o=n(31),i=n(32),c=n(25),s=n(35),u=n(89),l=Object(r.a)({reducer:{customize:a.b.reducer,auth:o.b.reducer,loading:i.a.reducer,info:c.a.reducer,status:s.a.reducer,customerPage:u.b.reducer}});t.a=l},60:function(e,t,n){"use strict";var r=n(18),a=n(9),o={ownerRegister:function(e){return a.a.post("/register",JSON.stringify(Object(r.a)({},e)))},signIn:function(e){return a.a.post("/login",JSON.stringify(Object(r.a)({},e)))},logOut:function(){return a.a.post("/logout")},verify:function(){return a.a.get("/verify-token")},getCity:function(){return a.a.get("/address/provinces")},getDistrict:function(e){return a.a.get("".concat("/address/provinces","/").concat(e,"/districts"))},getWard:function(e,t){return a.a.get("".concat("/address/provinces","/").concat(e,"/districts/").concat(t,"/wards"))},owenerChangePassword:function(e,t,n){var r="/stores/".concat(e,"/employees/").concat(t,"/updateEmployeePassword");return a.a.post(r,n)},confirmPassword:function(e,t){var n="/stores/".concat(e,"/confirmPassword");return a.a.post(n,t)},editProfile:function(e,t){var n="/stores/".concat(e,"/editProfile");return a.a.post(n,t,t instanceof FormData?{headers:{"content-type":"multipart/form-data"}}:null)}};t.a=o},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(26),a=Object(r.b)({name:"customerPage",initialState:{storeInfo:{},products:[],order:{name:"",phone:"",address:"",cartItem:[],branch_id:57},categories:[]},reducers:{setProducts:function(e,t){e.products=t.payload},setOrder:function(e,t){e.order=t.payload},setCategories:function(e,t){e.categories=t.payload},setStoreInfo:function(e,t){e.storeInfo=t.payload}}});t.b=a;var o=a.actions},9:function(e,t,n){"use strict";var r=n(93),a=n.n(r),o=n(112),i=n.n(o),c=n(55),s=n(31),u=n(35),l=a.a.create({baseURL:"https://www.cuahangcuatoi.net/bkrm-api/public/index.php/api",headers:{"content-type":"application/json"},paramsSerializer:function(e){return i.a.stringify(e)}});l.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e&&e.data?e.data:e}),(function(e){var t;throw"401"==(null===(t=e.response)||void 0===t?void 0:t.status)&&(document.URL.includes("/login")||document.URL.includes("/signup")||(console.log(!document.URL.includes("/login")),c.a.dispatch(s.a.logOut()),c.a.dispatch(u.b.failedStatus("H\u1ebft phi\xean \u0111\u0103ng nh\u1eadp")))),e})),t.a=l},90:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var r=n(18),a=n(20),o=n.n(a),i=n(38),c=n(31),s=n(32),u=n(25),l=n(34),d=n(60),f=(n(123),n(43)),p=n(49),h=n(35),m=(n(17),function(){return function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(s.b.startLoad()),n=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.verify();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,n();case 5:a=e.sent,console.log(a),a?(t(c.a.logIn()),t(y(a.user.customization)),"owner"===a.role?t(u.b.setUser(Object(r.a)(Object(r.a)({},a.user),{},{permissions:[{id:1,name:"inventory",description:"Kho h\xe0ng"},{id:2,name:"employee",description:"Nh\xe2n s\u1ef1"},{id:3,name:"sales",description:"B\xe1n h\xe0ng"},{id:4,name:"product",description:"S\u1ea3n ph\u1ea9m"},{id:5,name:"report",description:"B\xe1o c\xe1o"}]}))):t(u.b.setUser(Object(r.a)(Object(r.a)({},a.user),{},{permissions:a.permission}))),t(u.b.setStore(a.store)),t(u.b.setRole(a.role))):t(c.a.logOut()),t(s.b.finishLoad()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t(c.a.logOut()),t(s.b.finishLoad());case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}),b=function(e,t){return function(){var n=Object(i.a)(o.a.mark((function n(a){var l,f;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(s.b.startLoad()),l=function(){var n=Object(i.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.signIn({user_name:e,password:t,role:"owner"});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=2,n.next=5,l();case 5:(f=n.sent).access_token&&(localStorage.setItem("token",f.access_token),a(c.a.logIn()),a(s.b.finishLoad()),a(y(f.user.customization)),a(u.b.setUser(Object(r.a)(Object(r.a)({},f.user),{},{permissions:[{id:1,name:"inventory",description:"Kho h\xe0ng"},{id:2,name:"employee",description:"Nh\xe2n s\u1ef1"},{id:3,name:"sales",description:"B\xe1n h\xe0ng"},{id:4,name:"product",description:"S\u1ea3n ph\u1ea9m"},{id:5,name:"report",description:"B\xe1o c\xe1o"}]}))),a(u.b.setStore(f.store)),a(u.b.setRole(f.role))),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(2),a(c.a.logOut()),a(s.b.finishLoad()),a(h.b.failedStatus("T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"));case 14:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(i.a)(o.a.mark((function n(a){var l,f;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(s.b.startLoad()),l=function(){var n=Object(i.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.signIn({user_name:e,password:t,role:"employee"});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=2,n.next=5,l();case 5:(f=n.sent).access_token&&(localStorage.setItem("token",f.access_token),a(c.a.logIn()),a(s.b.finishLoad()),a(u.b.setUser(Object(r.a)(Object(r.a)({},f.user),{},{permissions:f.permissions}))),a(u.b.setStore(f.store)),a(u.b.setRole(f.role)),a(h.b.successfulStatus("Login successfully"))),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(2),a(c.a.logOut()),a(s.b.finishLoad()),a(h.b.failedStatus("Login failed"));case 14:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(t){try{!function(){sessionStorage.setItem("customization",e);var n=JSON.parse(e);t(l.a.setBorderRadius(n.borderRadius)),t(l.a.setColorLevel(n.colorLevel)),t(l.a.setFontFamily(n.fontFamily)),t(l.a.setMode(n.mode)),t(l.a.setMenu(n.menu)),t(l.a.setPrimaryColor(n.primaryColor)),t(l.a.setSecondaryColor(n.secondaryColor)),t(l.a.setShowMenu(n.showMenu))}()}catch(r){var n={fontFamily:"'Roboto', sans-serif",borderRadius:12,mode:"Light",menu:"1",primaryColor:f.a,secondaryColor:p.a,colorLevel:50,showMenu:["salesModule","inventoryModule","hrModule","reportModule"]};sessionStorage.setItem("customization",JSON.stringify(n)),console.log(r)}}}},91:function(e,t,n){"use strict";n(0);var r=n(3);t.a=function(){return Object(r.jsx)("div",{children:"No Match Page"})}}},[[176,16,18]]]);
//# sourceMappingURL=main.cd9e0de2.chunk.js.map