{"version":3,"sources":["views/InventoryView/Supplier/AddSupplier/AddSupplier.js","components/SearchBar/SearchSupplier.js","components/CheckoutComponent/CheckoutSummary/ImportSummary/ImportSummary.js","views/InventoryView/Import/ImportTableRow/AddBatch.js","views/InventoryView/Import/ImportTableRow/SelectBatch.js","views/InventoryView/Import/ImportTableRow/ImportTableRow.js","views/InventoryView/Import/RecommendOrderPopUp/TableRowWithSelect.js","views/InventoryView/Import/RecommendOrderPopUp/RecommendOrderPopUp.js","views/InventoryView/Import/Import.js","views/InventoryView/Inventory/CustomExcel.js","views/InventoryView/Inventory/InventoryTableRow/InventoryTableRow.js","components/Popper/ProductImportPopper.js","views/InventoryView/Inventory/InventoryTool/InventoryFilter.js","views/InventoryView/Inventory/Inventory.js","views/InventoryView/InventoryOrder/InventoryOrderTool/InventoryOrderFilter.js","views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderTableRow.js","views/InventoryView/InventoryOrder/InventoryOrder.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnTableRow.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTool/InventoryReturnFilter.js","views/InventoryView/InventoryReturnOrder/InventoryReturnOrder.js","components/CheckoutComponent/CheckoutSummary/OrderSummary/OrderSummary.js","components/CheckoutComponent/CheckoutSummary/CheckSummary/CheckSummary.js","views/InventoryView/Check/CheckTableRow/CheckTableRow.js","views/InventoryView/Check/Check.js","views/InventoryView/CheckHistory/CheckHistoryTool/CheckHistoryFilter.js","views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryTableRow.js","api/inventoryCheckApi.js","components/CheckoutComponent/CheckoutSummary/InventoryCheckSumary/InventroyCheckSumary.js","components/PopupCheck/InventoryCheckPopUp.js","views/InventoryView/CheckHistory/CheckHistory.js","views/InventoryView/Supplier/SupplierTool/SupplierFilter.js","views/InventoryView/Supplier/SupplierTableRow/SupplierTableRow.js","views/InventoryView/Supplier/Supplier.js","views/InventoryView/TransferInventory/TransferInventoryRow/TransferInventoryTableRow.js","views/InventoryView/TransferInventory/TransferInventoryRow/InventoryOrderDetail/InventoryOrderDetail.js","api/transferInventoryApi.js","views/InventoryView/TransferInventory/TransferInventory.js","views/InventoryView/InventoryView.js","components/Button/MenuButton.js","components/TableCommon/style/mainViewStyle.js","components/TableCommon/TableHeader/TableHeader.js","assets/img/icon/no-results-1.png","components/TableCommon/TableWrapper/TableWrapper.js","components/TableCommon/util/sortUtil.js","components/Modal/ModalWrapperWithClose.js","api/customerApi.js","components/MiniTableRow/MiniTableRow.js","assets/constant/tableHead.js","assets/constant/tableType.js","components/TableCommon/util/format.js","components/ReceiptPrinter/ReceiptPrinter.js","components/Button/ButtonQuantity.js","api/orderApi.js","components/StatusPopup/StatusPopup.js","api/supplierApi.js","components/CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary.js","components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp.js","components/TableCommon/style/rowStyle.js","components/TableCommon/ToolBar/ToolBar.js","api/purchaseOrderApi.js","assets/img/product/tch.jpeg","api/refundApi.js","api/purchaseReturnApi.js","components/Category/CategorySelect.js","components/TableCommon/TableWrapper/Pagination.js","components/SnackBar/SnackBarGeneral.js","components/Modal/PayRemaining.js","assets/img/icon/empty-cart.png","components/Modal/DialogWrapper.js","components/CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary.js","assets/img/icon/barcode1.png","views/InventoryView/Inventory/AddInventory/AddCategory.js","views/SalesView/Cart/DiscountPopup/DiscountPopup.js","assets/img/icon/giftbox.png","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderModal.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail.js","views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail.js","views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail.js","views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail.js","assets/img/ava/avaa.jpeg","views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/styles.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/UpdateInventory.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/BranchInventoryPopUp.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/VarianceModal.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/PrintBarcodePopUp.js","assets/img/barcode/3.jpeg","assets/img/barcode/2.jpeg","assets/img/barcode/1.jpeg","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail.js","components/Category/List/UpdateCategory.js","components/Category/List/RootCategory.js","components/Category/CategoryTree.js","views/InventoryView/Inventory/Category/Category.js","components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/UpdateCustomer/UpdateCustomer.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/UpdateSupplier/UpdateSupplier.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/ChangeEmployeePwd/ChangeEmployeePwd.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail.js","components/SnackBar/SnackBar.js","components/MoreInfo/MoreInfo.js","components/Select/CategorySelect.js","components/MenuProduct/MenuProduct.js","components/Button/CartButton.js","components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn.js","components/SearchBar/SearchBarCode.js","views/InventoryView/Inventory/AddInventory/styles.js","components/SearchBar/SearchWithAutoComplete.js","components/TextField/TagsInput.js","views/InventoryView/Inventory/AddInventory/AddAttribute.js","views/InventoryView/Inventory/AddInventory/RelaltedItemList.js","views/InventoryView/Inventory/AddInventory/AddInventory.js","assets/constant/excel.js","components/TextField/DiscountInputDetail.js","components/SelectBatch/SelectBatch.js","views/InventoryView/OrderProductList/OrderProductListTool/OrderProductListFilter.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListTableRow.js","views/InventoryView/OrderProductList/OrderProductList.js"],"names":["useStyles","makeStyles","theme","createStyles","root","headerTitle","fontSize","input","display","AddSupplier","props","handleClose","open","useTheme","classes","useState","image","supplierFormik","useFormik","initialValues","name","email","phone","address","company","paymentInfo","validationSchema","Yup","required","length","store_uuid","useSelector","state","info","store","uuid","dispatch","useDispatch","handleAddSupplier","a","bodyFormData","FormData","append","values","toString","supplierApi","createSupplier","response","statusAction","successfulStatus","onReload","isImport","setAddSupplier","data","failedStatus","console","log","Dialog","onClose","DialogTitle","id","Typography","className","variant","DialogContent","Grid","container","spacing","style","marginTop","item","xs","TextField","label","fullWidth","size","onChange","handleChange","value","error","touched","errors","helperText","onBlur","handleBlur","sm","DialogActions","Button","onClick","color","marginLeft","disabled","isValid","borderRadius","multilineColor","customization","primaryColor","marginRight","SearchSupplier","withStyles","useEffect","filter","createFilterOptions","stringify","option","removeAccents","selectedSupplier","width","Autocomplete","freeSolo","options","suppliers","status","getOptionLabel","concat","onKeyUp","event","key","handleSearchBarSelect","filterOptions","renderInput","params","placeholder","margin","InputProps","startAdornment","InputAdornment","position","endAdornment","IconButton","grey","handleClickOpen","renderOption","direction","justifyContent","marginBox","marginRow","hidden","ImportSummary","cartData","handleSelectSupplier","currentSupplier","handleUpdatePaidAmount","handleUpdateDiscount","handleUpdatePaymentMethod","handleConfirm","currentBranch","mode","handleUpdateDiscountDetail","reloadSuppliers","setIsOrder","isOrder","React","setOpen","openPopUp","setOpenPopUp","handleClosePopUp","calculateTotalQuantity","cartList","map","quantity","addSupplier","anchorEl","setAnchorEl","openDiscountDetail","Boolean","returnMoney","total_amount","discount","paid_amount","Box","padding","minHeight","alignItems","Date","toLocaleDateString","toLocaleTimeString","children","cartItem","Number","fontWeight","Popper","placement","zIndex","DiscountInputDetail","currentTarget","textAlign","Divider","background","inputProps","e","target","textTransform","FormControl","component","RadioGroup","payment_method","FormControlLabel","labelPlacement","control","Radio","Checkbox","CheckoutPopUp","setDiscount","marginBottom","paddingRight","toLocaleString","type","AddBatch","handleSubmit","row","batch_code","additional_quantity","expiry_date","toISOString","substring","batch","setBatch","autoFocus","min","disable","SelectBatch","selectedBatches","setSelectedBatches","product_code","batches","_","is_new","flexDirection","gap","border","newSelectedList","selectedBatch","nonZeroBatch","ImportRow","handleDeleteItemCart","handleChangeItemQuantity","handleChangeItemPrice","handleUpdateBatches","mini","imageType","index","typeShow","showImage","branch","branchs","branches","updateQuantity","newQuantity","addBatchOpen","setAddBatchOpen","selectBatchOpen","setSelectBatchOpen","total","forEach","store_setting","general_configuration","JSON","parse","setting","canFixPriceSell","show","setShow","findBranchQuantity","rs","branch_inventories","find","x","quantity_available","TableRow","hover","onMouseOver","onMouseLeave","TableCell","align","paddingLeft","minWidth","ListItem","sx","height","src","img_urls","at","defaultProduct","paddingTop","paddingBottom","import","role","unit_price","MoreInfo","has_batches","ButtonQuantity","miniCart","setQuantity","boldText","colSpan","Tooltip","title","Chip","onDelete","newBatches","deleteIcon","DeleteOutline","newBatch","push","descendingComparator","b","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","sort","headCells","numeric","disablePadding","EnhancedTableHead","onSelectAllClick","numSelected","rowCount","onRequestSort","TableHead","indeterminate","checked","headCell","sortDirection","TableSortLabel","active","property","visuallyHidden","EnhancedTableToolbar","useToolbarStyles","setOpenChooseCart","isNoSupplier","handleAddToCart","onlyOneCart","Toolbar","clsx","highlight","RowData","selected","hanđleChangeQuantity","handleClick","isItemSelected","indexOf","labelId","tabIndex","scope","img","fontName","list_price","standard_price","isMini","TableRowWithSelect","dataRecommend","handleAddOrderReccomend","setOrder","setOrderBy","setSelected","openChooseCart","rows","selectedIndex","newSelected","slice","cartIndex","selectRow","includes","bar_code","img_url","newCartList","supplier","supplier_uuid","closeAll","TableContainer","maxHeight","Table","stickyHeader","table","newSelecteds","n","TableBody","palette","secondary","main","backgroundColor","lighten","light","text","primary","dark","flex","paper","clip","overflow","top","ChooseCartPopUp","maxWidth","List","cart","RecommendOrderPopUp","setLoadingOrderButton","choiceQuantity","orderLowStock","selectQuantity","selectSuplier","dataHaveNotPurchase","purchase_histories","dataWillProcess","processedData","setProcessedData","noHistoryQuantity","datawithNoHistory","orderQuantityRecommend","supplierRecommend","inputQuantity","parseInt","reduce","p","c","occurrences","acc","o","Object","keys","purchase","processDataRecommend","itemUuid","itemIndex","findIndex","RecommendProductGroupBySupplier","supplierGroup","cartRowListBySupplier","RecommendProductGroupWithoutSupplier","Import","selectedBranch","setSelectedBranch","xsScreen","useMediaQuery","breakpoints","down","branch_uuid","searchBarState","user_uuid","user","defaultPaymentAmount","canEnterDiscountWhenSell","window","localStorage","getItem","discountDetail","loadLocalImportListStorage","setCartList","products","setProducts","setSuppliers","cartMode","setTypeShow","setMode","setShowImage","setItem","loadProducts","productApi","searchBranchProduct","fetchSupplier","getSuppliers","intervalID","setInterval","clearInterval","setSelectedIndex","addProduct","setAddProduct","isUpdateTotalAmount","setIsUpdateTotalAmount","openSnack","setOpenSnack","message","snackStatus","setSnackStatus","updateTotalAmount","reloadSupplier","setReloadSupplier","reloadProduct","setReloadProduct","handleDelete","splice","selectedOption","newCartItem","extreme","update","$push","$splice","isNaN","newPrice","$set","printReceiptWhenSell","emptyCart","notExistNullQuantity","every","element","extremeQuantity","setOpenPopUpWarning","setExtremes","setOpenExtremeWarning","handleConfirmCallApi","d","moment","now","importTime","unix","format","trim","body","Math","details","returned_quantity","import_date","is_imported","purchaseOrderApi","addInventory","res","purchase_order_code","handlePrint","componentRef","useRef","useReactToPrint","content","current","openPopUpWarning","extremes","openExtremeWarning","handleClickRecommend","productOrderRecommend","setDataRecommend","setOpenRecommendOrderPopUp","openNotification","openRecommendOrderPopUp","loadingOrderButton","AddInventory","setReload","SnackBarGeneral","reason","Card","ChangeCartBtn","handleChoose","handleAdd","isCart","SearchProduct","isFilter","Switch","infoActions","setSearchBarState","SearchBarCode","ButtonBase","Avatar","headerAvatar","stroke","ButtonComponent","button","loading","DialogWrapper","newCart","MenuProduct","selectedItem","TableWrapper","TableHeader","headerData","HeadCells","amount","method","obj","discountUpdate","toFixed","items","ref","PopUpWarningZeroPrice","isDebtWarning","ModalWrapperWithClose","PopUpWarningExtreme","CircularProgress","CustomExcel","category_id","quantity_per_unit","min_reorder_quantity","max_quantity","urls","description","customCl","setCustomCl","getReorderPoint","leadTime","lead_times","sale_velocity","totalOrder","total_order","days","velocity","InventoryTableRow","handleOpenRow","openRow","isManageInventory","hidenCollumn","colorText","useRowStyles","imageList","Array","isArray","rowClicked","category","branch_quantity","lowStock","overStock","max_order","InventoryDetail","parentProps","errorHeadings","styled","Paper","typography","body2","category_name","ProductImportPopper","dataTable","setDataTable","errorMessages","errField","err","mappedData","omit","elevation","alignContent","join","drawer","flexShrink","drawerPaper","textField","InventoryFilter","handleToggleFilter","openFilter","query","setQuery","formik","onSubmit","Drawer","anchor","CategorySelect","minStandardPrice","maxStandardPrice","minListPrice","maxListPrice","minInventory","maxInventory","formControl","InputLabelProps","shrink","Inventory","productList","setProductList","reload","setSearchValue","setOpenFilter","importProductByJSON","jsonData","setOpenProductImportPopper","setIsLoadingProduct","storeApi","importProductJSON","setProductErrors","setPagingState","pagingState","page","initialQuery","searchKey","categoryId","limit","totalRows","setTotalRows","loadData","getProductsOfBranch","total_rows","openCategory","setOpenCategory","addStatus","openBar","setOpenBar","setRowOpen","openProductImportPopper","isLoadingProduct","productErrors","tableRef","createRef","btngroup","Category","SnackBar","handleCloseBar","ToolBar","textSearch","tableType","TableType","handleSearchValueChange","hasImport","importByJSON","excel_data","excel","excel_name","customizable","customExcel","columnsToKeep","dbName","displayName","orderByOptions","inventory","setSort","setSearchKey","handleRemoveFilter","typePartner","Pagination","list","ComponentToPrint","flexGrow","isReport","InventoryOrderFilter","setPurchaseOrders","startDate","setFieldValue","endDate","minTotalAmount","maxTotalAmount","minDiscount","maxDiscount","paymentMethod","InventoryOrderTableRow","creation_date","split","reverse","substr","supplier_name","total_quantity","isImported","debt","InventoryOrder","purchaseOrders","totalAmount","setTotalAmount","getAllOfBranch","getDataExport","btngroup1","customizeAction","setSidebarOpen","setItemMenuOpen","Link","to","totalCost","partnerName","date","typeBill","firstDate","InventoryReturnTableRow","purchase_return_code","InventoryReturnDetail","InventoryReturnFilter","setPurchaseReturns","defaultValue","purchaseReturns","InventoryReturnOrder","purchaseReturnApi","CheckSummary","updateCustomer","currentCustomer","openConfirm","setOpenConfirm","handleCloseConfirm","setAddStatus","CheckRow","stt","icon","price","CheckRowMini","textOverflow","whiteSpace","Check","customer","newArr","CheckHistoryFilter","CheckHistoryTableRow","quantityDifference","detail","ele","moneyDifference","num","inventory_check_code","created_at","user_name","CheckHistoryDetail","inventoryCheckApi","create","storeUuid","branchUuid","url","axiosClient","post","get","search","ava","InventoryCheckSummary","userName","branchName","real_quantity","InventoryCheckPopUp","handleCloseReturn","success","failure","branch_name","note","inventoryCheck","setInventoryCheck","newInventoryCheck","handleDeleteItem","itemId","handleItemRealQuantityChange","handleConfirmBalance","product_id","branch_inventory","handleProductSelect","product","newDetails","handleChangeDetailBatches","closeButton","card","isCheck","InventoryCheckTableRow","setBatches","onChangeRealQuantity","is_checked","checked_quantity","checked_batch","checkedBatch","indexOfBatch","handleChangeBatchQuantity","handleDeleteBatch","isReturn","m","handleSelectBatch","CheckHistory","inventoryChecks","setInventoryChecks","addOpen","setAddOpen","closeInvetoryCheck","setIsClosePopUp","closePopUp","code","SupplierFilter","SupplierTableRow","supplier_code","total_payment","SupplierDetail","Supplier","supplerList","setSupplierList","filterSupplier","result","sup","showOnlyDebt","setShowOnlyDebt","isOnlySearch","extra","TransferInventoryTableRow","typo","borderWidth","right","from_name","from_batches","to_name","to_batches","created_user_name","created_user_type","transferInventoryApi","TransferInventory","setData","InventoryView","path","useRouteMatch","permissions","exact","PageNotFound","StyledMenu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","common","white","MenuItem","boxShadow","commonAvatar","mediumAvatar","transition","tab","indicator","hoverCard","cardRoot","media","appBar","StyledTableCell","head","isCustomer","headColor","StyledPaper","dense","setDense","scrollIntoView","showSizeChanger","newCurrent","newPageSize","pageSizeChange","calculateTotalReturnQuantity","returnQuantity","modal","Fragment","customerApi","createCustomer","getCustomers","getCustomer","customerUuid","deleteCustomer","delete","put","payDebt","importCustomerJson","json","updateCustomerVouchers","vouchers","getCustomerDebts","getCustomerGroups","updateCustomerGroup","createCustomerGroup","deleteCustomerGroup","Transition","forwardRef","BillMiniTableRow","promotion_condition","dateAdvanceSetting","secondaryColor","fullScreen","TransitionComponent","edge","PartnerMiniTableRow","score","alt","ReturnCartMiniTableRow","handleProductPriceChange","handleItemQuantityChange","activeFixPrice","returnCart","returnImport","defaultPrice","returnPrice","ProductMiniTableRow","VarianceProductMiniTableRow","variance","InventoryHeadCells","InventoryOrderHeadCells","InventoryReturnOrderHeadCells","SupplierHeadCells","InvoiceHeadCells","InvoiceReturnHeadCells","EmployeeHeadCells","CustomerHeadCells","CartHeadCells","ImportHeadCells","CartReturnHeadCells","ImportReturnHeadCells","OrderHeadCells","CheckHeadCells","OrderListHeadCells","CheckHistoryHeadCells","EmployeeScheduleHeadCells","InventoryCheckHeadCells","VoucherHeadCells","DiscountHeadCells","TransferInventoryHeadCells","CashbookHeadCells","INVOICE","INVOICE_RETURN","INVENTORY","INVENTORY_ORDER","INVENTORY_RETURN","SUPPLIER","CHECK_LIST","ORDER_LIST","TRANSFER_INVENTORY","EMPLOYEE","CUSTOMER","FormatedStatus","FormatedProductStatus","FormatedProductStatusReport","FormatedStatusOrder","centerQR","center","Largetext","weight","divider","orderTime","orderDate","QRCode","require","NomalReceiptPrinter","link","store_configuration","web_page","logo","created_by_user","otherFee","contentNote","readOnly","ReceiptPrinter","custom_web","orientation","flexItem","sum","fontStyle","Docso","doc","ImportReceiptPrinter","HtmlTooltip","tooltip","pxToRem","error_quantity","onMouseOut","fill","textfieldClass","orderApi","addOrder","getAllOfStore","getOrder","orderUuid","searchOrder","editOrderApi","deleteOrder","deleteAll","searchCustomerOrder","processCustomerOrder","customerOrderId","confirmCustomerOrder","cancleCustomerOrder","paymentCustomerOrder","updateCustomerOrder","notification","headers","getSupplier","supplierUuid","deleteSupplier","inactiveSupplier","activeSupplier","updateSupplier","ImportReturnSummary","handlePaymentMethodChange","handlePaidAmountChange","InventoryReturnPopUp","purchaseOrder","reloadDetail","purchase_order_id","supplier_id","branch_id","max_return_quantity","purchase_order_batches","purchaseReturn","setPurchaseReturn","handleChangeBatches","newPurchaseReturn","export_date","purchase_order_uuid","purchase_order_detail_id","removeInventory","ImportReturnTableRow","paidAmount","newSelectedBatches","borderBottom","large","toolbar","exportExcel","newData","rowRs","cl","workSheet","xlsx","utils","json_to_sheet","workBook","book_new","book_append_sheet","write","bookType","writeFile","excel_head","handleDeleteAll","openImport","setOpenImport","custom","setExcel","setJsonData","listCl","setListCl","barcodeIcon","htmlFor","autoWidth","actions","dataTableFull","cursor","select","SelectProps","native","preventDefault","files","reader","FileReader","onload","workbook","read","sheetName","SheetNames","worksheet","Sheets","excelLines","sheet_to_json","readAsArrayBuffer","readCustomizedProduct","myJson","readUploadFile","line","payment_info","points","readCustomerUploadFile","getPurchaseOrder","purchaseOrderUuid","searchPurchaseOrder","editPurchaseOrder","purchaseOrdersUuid","deletePurchaseOrder","updateDetail","refundApi","getRefund","refundUuid","searchRefund","getPurchaseReturn","purchaseReturnUuid","searchPurchaseReturn","categoryList","MyOption","currentLevel","i","subCategory","Paginations","scrollTo","rowsPerPageOptions","rowsPerPage","labelRowsPerPage","count","Alert","autoHideDuration","severity","PayRemaining","editApiCall","resetForm","enableReinitialize","pay","lessThan","moreThan","paid","InvoiceReturnSummary","order_code","order_total_amount","customerScore","scores","AddCategory","setCategoryList","parent_category_uuid","categoryInfo","setCategoryInfo","fetchAllCategory","getAllCategory","getNestedCategory","response_1","reset","handleAddCategory","handleCloseAndReset","addCategory","onReset","gutterBottom","dropdownStyle","treeData","val","treeDefaultExpandAll","getDiscountType","discountKey","discountType","DiscountPopup","filteredPromotion","handleUpdateSelectedPromotion","selectedPromotion","totalCartAmount","listGiftItem","handleUpdateBestDetailSelectedPromotion","setValue","promotion","setPromotion","idPro","check","setCheck","getColorSelected","selectedData","some","getBestDetailSelectedCondition","bestDetailSelectedCondition","detailCondition","pro","fetchCategoryList","getListItem","isGiftCategory","listGiftCategory","getAllProductInCategoryParent","bestCondition","numberGiftItem","discountValue","multiple","handleCheck","renderValue","newCheck","handleChangeGiftQuantity","OrderModal","customerOrder","isOpen","inventoryInfo","orderredQuantity","branchInventory","getBranchInventory","getBatches","newOrder","new_customer","ward","province","district","sumBy","paid_date","tax","shipping","is_customer_order","order_id","productId","renderQuantityInput","detailIndex","InputLabel","Select","labelWidth","selectedBatchIndex","handleChangeDetailQuantity","handleCancelOrder","customer_order_code","isOrderEmpty","OrderProductListDetail","isOrderModalOpen","setIsOrderModalOpen","handlePayment","Collapse","in","timeout","unmountOnExit","city","historyRow","employee","keepMounted","ListItemIcon","ListItemText","tag","lineHeight","boxSizing","outline","span","DiscountDetail","rowsInvoice","promotion_code","startDay","endDay","isActive","start_date","end_date","byMonth","byDay","byDate","byTime","customer_birth","discountRow","numberBuyItem","flexWrap","listBuyItem","typeDiscountItem","InvoiceReturnDetail","refund","setRefund","refund_code","InventoryOrderDetail","setPurchaseOrder","posted_to_inventory","date_received","currentDate","debtAmount","openPayRemaining","setOpenPayRemaining","editInventoryOrderApiCall","startIcon","purchase_order","moneyDif","product_name","VoucherDetail","box","UploadImages","avaUpload","UpdateInventory","openAddCategory","setOpenAddCategory","images","setImages","setDisplay","displayList","productInfo","isUrl","productFormik","barcode","importedPrice","salesPrice","unit","re_order_point","updateProductHandler","prev","cur","updateProduct","clearAllImages","onKeyDown","displayImage","URL","createObjectURL","BranchInventoryPopUp","openModal","setOpenModal","arr","generateInitial","valueQuantity","setValueQuantity","confirmTransferQuantity","to_id","value_quantity","created_user_id","transferInventory","currenBranchInventory","totalQuantity","newValueQuantity","VarianceModal","productDetail","setProductDetail","isOpenUpdate","setIsOpenUpdate","deleteConfirm","setDeleteConfirm","handleCloseDelete","handleConfirmDelete","deleteProduct","fetchProduct","getProduct","openDetailInventory","setOpenDetailInventory","showThumbs","notification_period","attribute_value","attVal","ConfirmPopUp","PrintBarcodePopUp","codeType","setCodeType","printStoreName","setPrintStoreName","has_batch","printBatch","setPrintBatch","col","setCol","batchCode","setBatchCode","handleChooseBarCode","BarCodeModel","thisReload","setThisReload","isOpenVarianceDetailModal","setIsOpenVariaceDetailModal","selectedVariance","setSelectedVariance","openPrintBarcode","setOpenPrintBarcode","has_variance","variations","UpdateCategory","isDelete","setIsDelete","handleUpdateCategory","editCategory","handleDeleteCategory","deleteCategory","ModalWrapper","nested","RootCategory","subCategories","setSubCategories","getSubCategory","categories","useNestedApi","setUpdate","fromRoot","textDecoration","CategoryTree","parentCategories","setParentCategories","getParentCategory","categoryPopup","overflowY","setReset","maxWith","InvoiceReturnPopUp","customer_id","order_batches","newRefund","cloneDeep","order_uuid","order_detail_id","CartReturnTableRow","InvoiceDetail","date1","date2","cartModal","returnLimit","haveReturnQuantity","abs","day","UpdateCustomer","phoneExist","setPhoneExist","clicked","setClicked","customerFormik","customerDetail","matches","FormHelperText","UploadImage","CustomerDetail","openPayDebt","setOpenPayDebt","editItem","setEditItem","handleDeleteCustomer","setPaidAmount","customer_code","groups","g","UpdateSupplier","supplierDetail","handleUpdateSupplier","editSupplier","setEditSupplier","handleDeleteSupplier","ChangeEmployeePwd","employeeDetail","owner_password","password","confirm_password","oneOf","handleChangePassword","closeModalAndResetData","userApi","owenerChangePassword","employee_password","salaryTypeMapping","fix","EmployeeDetail","handleReload","openEdit","setOpenEdit","date_of_birth","id_card_num","salary_type","salary","setEmployeeDetail","fetchEmp","employeeApi","getEmployee","changePwd","setChangePwd","EditEmployee","employee_code","permission","activeEmployee","inactiveEmployee","deleteEmployee","arrow","saveData","isNotSelect","setCategoryId","recursiveSearchTree","findedCategory","getAllChild","cat","child","filterCategory","allChild","allCat","apply","category_uuid","selectedNodeUuid","onSelect","selectedKeys","node","allProduct","setAllProduct","selectedItemUuid","findItem","findedItem","renderListOption","colorCard","alignItem","alignCenter","btn","btnBottom","StyledBadge","Badge","CartButton","number","storeInfo","badgeContent","hardText","getTitle","onMouseDown","setBarcode","onEnter","onKeyPress","expand","transform","transitions","duration","shortest","expandOpen","attrCard","borderColor","attrHead","rooot","SearchWithAutoComplete","searchApiCall","nextRef","handleDefaultSelect","setOptions","searchValue","loadingData","fetchData","timer","setTimeout","clearTimeout","onInputChange","autoSelect","getOptionSelected","chip","TagsInput","setSelectedItem","selectedTags","tags","other","inputValue","setInputValue","handleKeyDown","newSelectedItem","replace","getInputProps","onFocus","handleInputChange","defaultProps","AddAttribute","attributeList","datas","setDatas","setRelatedList","mySet","_set","j","k","generateList","updateFieldChanged","attr","updateValueChanged","deleteAttr","addAttrRow","AttributeRow","inputAttr","setInputAttr","openPopupAddAttr","setOpenPopupAddAttr","isEditPopUp","handleChangeAttr","valid","RelaltedItemList","relatedList","handleChangeProperties","newValue","newRow","TreeSelect","SHOW_PARENT","Quill","register","ImageResize","modules","imageURL","setImageURL","addProductHandler","createProduct","selectSampleProductHandler","searchSampleProductHandler","searchDefaultProducts","salesPriceRef","focus","expanded","setExpanded","handleExpandClick","expandedDescription","setExpandedDescription","handleExpandedDescription","handleAddProductWithVariation","attributeValues","att","addProductWithVaration","recommendedProduct","toLowerCase","inputRef","expiryDate","variation","CardHeader","action","formats","clipboard","matchVisual","imageResize","parchment","excel_name_product","excel_data_product","excel_name_customer","excel_data_customer","popup","handleChangeType","onClickAway","discountPro","isInventoryCheck","OrderProductListTableRow","OrderProductList","orderProductList","JSONdata","customerOrders","setCustomerOrders"],"mappings":"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","file":"static/js/22.472200a2.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport supplierApi from \"../../../../api/supplierApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Dialog,\n  Box,\n  Paper,\n  IconButton,\n  Tooltip,\n} from \"@material-ui/core\";\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {},\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst AddSupplier = (props) => {\n  const { handleClose, open } = props;\n  // tam thoi\n  const statusState = \"Success\";\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [image, setImage] = useState([]);\n  const [display, setDisplay] = useState([]);\n  const addImageHandler = (e) => {    \n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImage(e.target.files[0]);\n    setDisplay(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const supplierFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\",\n      company:\"\",\n      paymentInfo:\"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên nhà cung cấp\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\"),\n      email: Yup.string().email(\"Email không chính xác\")\n        // .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n    }),\n  })\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const clearImage = () => {\n    setDisplay([]);\n    setImage([]);\n  };\n  const dispatch = useDispatch();\n  const handleAddSupplier = async () => {\n    handleClose()\n    // handleCloseAndReset()\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", supplierFormik.values.name.toString());\n      bodyFormData.append(\"email\", supplierFormik.values.email.toString());\n      bodyFormData.append(\"phone\", supplierFormik.values.phone.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.paymentInfo.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.company.toString());\n      bodyFormData.append(\"address\", supplierFormik.values.address.toString());\n      bodyFormData.append(\"image\", image);\n\n      // await supplierApi.createSupplier(\n      //   store_uuid,\n      //   bodyFormData\n      // );\n      const response = await supplierApi.createSupplier(\n        store_uuid,\n        bodyFormData\n      );\n      dispatch(statusAction.successfulStatus(\"Tạo nhà cung cấp thành công\"));\n      props.onReload();\n      if(props.isImport){\n        props.setAddSupplier(response.data)\n      }\n\n\n     \n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Tạo nhà cung cấp thất bại\"));\n      console.log(err);\n    }\n    // handleCloseAndReset()\n  };\n  // const handleCloseAndReset =() =>{\n  //   handleClose()\n  //   setImage([])\n  //   setDisplay([])\n  //   supplierFormik.resetForm()\n  // } \n  return (\n    // <SimpleModal\n    //   open={open}\n    //   handleClose={handleCloseAndReset}\n    //   aria-labelledby=\"form-dialog-title\"\n    // >\n    //   <Box style={{ width: 550, maxWidth: \"100%\" }}>\n    //     <Typography className={classes.headerTitle} variant=\"h5\" gutterBottom>\n    //       Thêm nhà cung cấp\n    //     </Typography>\n    <Dialog open={open} onClose={handleClose} >\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Thêm nhà cung cấp\n        </Typography>\n\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n        {/* <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n          {display.length ? (\n            <Tooltip title=\"Xóa hình ảnh\">\n              <Button size=\"small\" onClick={() => clearImage()}>\n                <Box\n                  component=\"img\"\n                  sx={{\n                    height: 70,\n                    width: 70,\n                    marginLeft: 7,\n                    marginRight: 7,\n                    borderRadius: 2,\n                  }}\n                  src={display}\n                />\n              </Button>\n            </Tooltip>\n          ) : (\n            <UploadImages />\n          )}\n\n          <input\n            accept=\"image/*\"\n            className={classes.input}\n            id=\"icon-button-file\"\n            type=\"file\"\n            onChange={addImageHandler}\n          />\n          {display.length === 0 ? (\n            <label htmlFor=\"icon-button-file\">\n              <IconButton\n                color=\"primary\"\n                aria-label=\"upload picture\"\n                component=\"span\"\n              >\n                <PhotoCamera />\n              </IconButton>\n            </label>\n          ) : null}\n        </Box> */}\n\n        <Grid container spacing={2} style={{ marginTop: 10 }}>\n          <Grid item xs={12}>\n            <TextField\n              required\n              id=\"outlined-basic\"\n              label=\"Tên nhà cung cấp\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name = \"name\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.name}\n              error={supplierFormik.touched.name && supplierFormik.errors.name}\n              helperText={supplierFormik.touched.name ? supplierFormik.errors.name : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              // required\n              id=\"outlined-basic\"\n              label=\"Địa chỉ\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name= \"address\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.address}\n              error={supplierFormik.touched.address && supplierFormik.errors.address}\n              helperText={supplierFormik.touched.address ? supplierFormik.errors.address : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12} sm={4}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Số điện thoại\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              // required\n              name=\"phone\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.phone}\n              error={supplierFormik.touched.phone && supplierFormik.errors.phone}\n              helperText={supplierFormik.touched.phone ? supplierFormik.errors.phone : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12} sm={8}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Email\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              name = \"email\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.email}\n              error={supplierFormik.touched.email && supplierFormik.errors.email}\n              helperText={supplierFormik.touched.email ? supplierFormik.errors.email : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Tên công ty\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name = \"company\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.company}\n              error={supplierFormik.touched.company && supplierFormik.errors.company}\n              helperText={supplierFormik.touched.company ? supplierFormik.errors.company : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Thông tin thanh toán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name = \"paymentInfo\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.paymentInfo}\n              error={supplierFormik.touched.paymentInfo && supplierFormik.errors.paymentInfo}\n              helperText={supplierFormik.touched.paymentInfo ? supplierFormik.errors.paymentInfo : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n        </Grid>\n        </div>\n      </DialogContent>\n        <DialogActions>\n        {/* <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n            marginTop: 20,\n          }}\n        > */}\n          <Button\n            onClick={handleClose}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n          >\n            Huỷ\n          </Button>\n          <Button\n            style={{ marginLeft: 10 }}\n            onClick={handleAddSupplier}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled = {!(supplierFormik.isValid)} // && Object.keys(supplierFormik.touched).length > 0\n          >\n            Thêm\n          </Button>\n        {/* </Grid> */}\n      {/* </Box>\n    </SimpleModal> */}\n    </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default AddSupplier;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Grid,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  useTheme,\n  withStyles,\n  makeStyles,\n  createStyles,\n} from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\nimport supplierApi from \"../../api/supplierApi\";\nimport { useSelector } from \"react-redux\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { render } from \"sass\";\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { removeAccents } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    input: {\n      borderRadius: \"20px\",\n    },\n    multilineColor:{\n      color:theme.customization.primaryColor[500],\n      marginRight:-20\n  }\n  })\n);\n\nconst CustomTextField = withStyles({\n  root: {\n    \"& .MuiOutlinedInput-root\": {\n      \"& fieldset\": {\n        borderRadius: 14,\n      },\n    },\n  },\n})(TextField);\n\nconst SearchSupplier = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  // const [selectedOption, setSelectedOption] = useState(props.selectedSupplier);\n  // const [options, setOptions] = React.useState([]);\n\n  // redux\n  // const info = useSelector((state) => state.info);\n  // const store_uuid = info.store.uuid;\n\n  useEffect(() => {\n    // loadingData();\n  }, []);\n\n  // const loadingData = async () => {\n  //   const response = await supplierApi.getSuppliers(store_uuid);\n  //   setOptions(response.data)\n  //   setSelectedOption(response.data[0]);\n  //   props.handleSearchBarSelect(response.data[0])\n  // };\n\n  const renderOption = (option) => {\n    //display value in Popper elements\n    return (\n      <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\">\n        <Typography variant=\"h5\">{option.name}</Typography>\n        <Typography variant=\"body1\">{option.phone}</Typography>\n      </Grid>\n    );\n  };\n\n  const renderInput = (params) => (\n    <TextField\n      {...params}\n      fullWidth\n      placeholder=\"Tìm nhà cung cấp\"\n      margin=\"normal\"\n      InputProps={\n        // props.selectedSupplier?.name?.length === 0 \n        !props.selectedSupplier\n          ? {\n              ...params.InputProps,\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={props.handleClickOpen}\n                  style={{ marginRight: -30 }}\n                >\n                  <AddIcon />\n                </IconButton>\n              ),\n            }\n          : {\n              ...params.InputProps,\n              classes: { input: classes.multilineColor },\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {/* <SearchIcon style={{ color: grey[500] }} /> */}\n                  <PersonIcon style={{ color: theme.customization.primaryColor[500] }} /> \n                  \n                </InputAdornment>\n              ),\n\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={()=>{\n                    props.handleSearchBarSelect(null)\n                    props.setAddSupplier({ name: \"\", phone: \"\" })\n                  }}\n                  style={{ marginRight: -30 }}\n                >\n                  <ClearOutlinedIcon fontSize=\"small\"  style={{ color: theme.customization.primaryColor[500] }}/>\n                </IconButton>\n              ),\n              \n\n            }\n      }\n    />\n  );\n\n  const getOptionLabel = (option) => (option.name ? option.name.concat(option.phone? ` - ${option.phone}` :'') : \"\");\n  const filter = createFilterOptions({\n    stringify: option => `${removeAccents(option.name)}  - ${option.phone}`,\n  });\n  console.log(\"selectedSupplier\",props.selectedSupplier)\n  return (\n    <div style={{ width: \"100%\" }}>\n      <Autocomplete\n        freeSolo \n        value={props.selectedSupplier}\n        options={props.suppliers.filter(item => item.status ==='active')}\n        getOptionLabel={getOptionLabel}\n        onKeyUp={(event) => {\n          // if (event.key === \"Enter\") {\n          //   props.handleSearchCustomer(event.target.value) \n          // }\n          if(props.selectedSupplier && (event.key === \"Delete\" || event.key === \"Backspace\") ){\n            props.handleSearchBarSelect(null)\n          }\n        }}\n        filterOptions={filter}\n\n        onChange={(event, value) => {\n          if (value) {\n            // setSelectedOption(value);\n            props.handleSearchBarSelect(value);\n          }\n          \n        }}\n        // onInputChange={()=>{\n        //   // if(props.selectedSupplier?.name?.length !== 0){\n        //   if(props.selectedSupplier?.supplier_code){\n        //     props.handleSearchBarSelect({ name: \"\", phone: \"\" })\n        //     props.setAddSupplier({ name: \"\", phone: \"\" })\n        //   }\n          \n        // }}\n        renderInput={renderInput}\n        renderOption={renderOption}\n      />\n    </div>\n  );\n};\n\nexport default SearchSupplier;\n","import React, {useState,useEffect} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {Grid,Card,Box,Typography,TextField,InputAdornment,DialogActions,DialogContent,IconButton,Button,Dialog,FormControlLabel,\n  Checkbox,FormControl,FormLabel,RadioGroup,Radio,ListItem,Divider,Popper} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddSupplier from \"../../../../views/InventoryView/Supplier/AddSupplier/AddSupplier\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../../../TextField/NumberFormatCustom\";\nimport SearchSupplier from \"../../../SearchBar/SearchSupplier\";\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport { grey } from \"@material-ui/core/colors\";\n\nimport SupplierData from \"../../../../assets/JsonData/supplier.json\";\nimport supplierApi from \"../../../../api/supplierApi\";\nimport { CardTravelTwoTone } from \"@material-ui/icons\";\nimport BranchSelect from \"../../BranchSelect/BranchSelect\";\nimport moment from \"moment\";\n// update state\nimport update from \"immutability-helper\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport DiscountInputDetail from \"../../../TextField/DiscountInputDetail\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n  })\n);\nconst ImportSummary = (props) => {\n  const {\n    cartData,\n    handleSelectSupplier,\n    currentSupplier,\n    handleUpdateDiscount,\n    handleUpdatePaidAmount,\n    handleUpdatePaymentMethod,\n    handleConfirm,\n    currentBranch,\n    suppliers,\n    mode,\n    reloadSuppliers,\n    handleUpdateDiscountDetail,\n    setIsOrder,\n    isOrder,\n  } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const dispatch = useDispatch();\n\n  const handleChangePayment = (event) => {\n    handleUpdatePaymentMethod(event.target.value);\n  };\n\n  //mode 2: popup\n  const [openPopUp, setOpenPopUp] = React.useState(false);\n  const handleClickOpenPopUp = () => {\n    setOpenPopUp(true);\n  };\n\n  const handleClosePopUp = () => {\n    setOpenPopUp(false);\n  };\n\n  function calculateTotalQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=item.quantity )\n    return value\n  }\n  const [addSupplier, setAddSupplier] =  React.useState({name:'', phone:''})\n  React.useEffect(()=>{\n    if(addSupplier?.name?.length !==  0){props.handleSelectSupplier(addSupplier); setAddSupplier({name:'', phone:''})}\n  })\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openDiscountDetail = Boolean(anchorEl);\n\n  const handleClick = (event) => {\n      setAnchorEl(anchorEl ? null : event.currentTarget);\n    };\n\n    const returnMoney = cartData.total_amount - cartData.discount - cartData.paid_amount\n  return (\n    <Box style={{ padding: 30, minHeight: \"80vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          {/* 1. BASIC INFO */}\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">{currentBranch.name}</Typography>\n            {/* <BranchSelect \n                            setSelectedBranch={setSelectedBranch}\n                            selectedBranch={selectedBranch}\n                        /> */}\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <div style={{ width: \"100%\" }}>\n          <SearchSupplier\n            suppliers={suppliers}\n            handleClickOpen={handleClickOpen}\n            selectedSupplier={currentSupplier\n              // currentSupplier ? currentSupplier : { name: \"\", phone: \"\" }\n            }\n            handleSearchBarSelect={handleSelectSupplier}\n            setAddSupplier={setAddSupplier}\n          />\n        </div>\n\n       {open&& <AddSupplier\n          open={open}\n          // handleClose={handleClose}\n          handleClose={()=>{setOpen(false)}}\n          onReload={props.reloadSuppliers}\n          setAddSupplier={setAddSupplier}\n          isImport={true}\n     \n        />}\n\n        {/* when change mode to menu product */}\n        {props.children}\n\n        {/* 2. PAYMENT INFO  */}\n        {/* {!mode ? ( */}\n          {/* {true ? (\n          <> */}\n            {/* 2.1 Mode 1 */}\n           {!mode? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginBox}\n            >\n              <Typography variant=\"h5\">Tổng SL sản phẩm ({cartData.cartItem.length}) </Typography>\n              <Typography variant=\"body2\">\n                <ThousandFormat\n                  // value={cartData.cartItem.length}\n                  value={calculateTotalQuantity(cartData.cartItem)}\n                ></ThousandFormat>\n              </Typography>\n            </Grid>:null}\n\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">{Number(cartData.discount)===0 && mode ?`Tổng tiền (${calculateTotalQuantity(cartData.cartItem)})`:`Tổng tiền hàng`}</Typography>\n              <Typography variant=\"body2\" style={Number(cartData.discount)===0 && mode?{color: \"#2096f3\", fontWeight: 600,fontSize:18 }:{}}>\n                <VNDFormat value={cartData.total_amount} />\n              </Typography>\n            </Grid>\n\n        {/* {Number(cartList[selectedIndex].discount)==0 && mode? */}\n         {(Number(cartData.discount)!==0  && mode)|| !mode?\n         <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Giảm giá</Typography>\n              <Popper  placement=\"left-start\" open={openDiscountDetail} anchorEl={anchorEl} onClose={()=>setAnchorEl(null)}   style={{zIndex:1000000}} >   \n                    <DiscountInputDetail handleUpdateDiscountDetail={handleUpdateDiscountDetail} cartData={cartData} setAnchorEl={setAnchorEl} />\n                </Popper>\n              \n              <Box  onClick={handleClick} style={{ width: 90 ,color:'#616161',textAlign: \"right\"}}>\n                <VNDFormat value={cartData.discount}/>\n                <Divider style={{ background: anchorEl?theme.customization.primaryColor[500]:'#616161' }} />\n              </Box>\n              {/* <VNDInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                value={cartData.discount}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n                onChange={(e) => handleUpdateDiscount(e.target.value)}\n              /> */}\n            </Grid>\n        \n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tổng tiền</Typography>\n              <Typography variant=\"body2\">\n                <VNDFormat\n                  style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={cartData.total_amount - cartData.discount}\n                />\n              </Typography>\n            </Grid>\n            </>:null}\n      \n            {cartData.total_amount - cartData.discount  !== 0?\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Trả NCC</Typography>\n              <VNDInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                // defaultPrice={cartData.total_amount - cartData.discount}\n                // defaultPrice={(cartData.total_amount - cartData.discount).toString()}\n                value={cartData.paid_amount}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n                onChange={(e) => handleUpdatePaidAmount(e.target.value)}\n              />\n            </Grid> :null}\n{/* \n            { cartData.total_amount -\n                  cartData.discount -\n                  cartData.paid_amount > 0? */}\n               {cartData.total_amount - cartData.discount  !== 0?\n                   <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n              style={returnMoney > 0  ? {color:'red', fontWeight:500}:{}}\n            >\n              <Typography variant=\"h5\">{returnMoney > 0 ? \"Còn nợ\" :\"Tiền thu lại\"}</Typography>\n              {/* <VNDInput\n                    id=\"standard-basic\" style={{ width: 90 }}\n                    size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\n                    value={cartData.total_amount - cartData.discount - cartData.paid_amount}\n                /> */}\n              <VNDFormat\n                // id=\"standard-basic\" style={{ width: 90 }}\n                // size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\n                value={\n                  cartData.paid_amount-\n                  (\n                  cartData.total_amount -\n                  cartData.discount )\n              \n                }\n                style={returnMoney > 0  ? {color:'red', fontWeight:500}:{}}\n              />\n            </Grid>:null}\n            {/* :null} */}\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n              // className={classes.marginRow}\n              style={{marginTop:mode?-10:null}}\n\n            >\n             {mode && Number(cartData.discount) === 0? <Button size=\"small\"color='primary'style={{textTransform:'none', }} onClick={handleClickOpenPopUp}>Nhập giảm giá</Button>:null}\n            {openPopUp ? <Dialog open={openPopUp}  onClose={handleClosePopUp} > <CheckoutPopUp  cartData={cartData}  onClose={handleClosePopUp} handleUpdateDiscountDetail={handleUpdateDiscountDetail}/> </Dialog>:null}\n              <FormControl component=\"fieldset\">\n                <RadioGroup\n                  aria-label=\"gender\"\n                  name=\"gender1\"\n                  value={cartData.payment_method}\n                  onChange={handleChangePayment}\n                >\n                  <Grid container direction=\"row\">\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"card\"\n                      control={<Radio  size=\"small\"/>}\n                      label=\"Thẻ\"\n                    />\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"cash\"\n                      control={<Radio size=\"small\"/>}\n                      label=\"Tiền mặt\"\n                    />\n                  </Grid>\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-end\" alignItems=\"center\" style={{ marginTop: mode ? -10 : null }}>\n              <FormControlLabel\n                value={isOrder}\n                control={<Checkbox />}\n                label=\"Đặt hàng\"\n                labelPlacement=\"start\"\n                onChange={(e) => setIsOrder(e.target.value)}\n              />\n            </Grid>\n          \n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{ marginTop: mode?0:80 }}\n              onClick={()=>handleConfirm(1)}\n            >\n              Nhập hàng\n            </Button>\n{/*            \n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"secondary\"\n              style={{ marginTop: 10 }}\n              onClick={()=>handleConfirm(0)}\n            >\n              Đặt hàng NCC\n            </Button> */}\n{/*            \n          </>\n        ) : ( */}\n          {/* /* 2.2 Mode 2 */ }\n          {/* <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n              <Typography variant=\"body2\">500.000</Typography>\n            </Grid>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Giảm giá</Typography>\n              <Input.ThousandSeperatedInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n              />\n            </Grid>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{ marginTop: 20 }}\n              onClick={handleClickOpenPopUp}\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Grid item>Thanh toán </Grid>\n                <Grid item>500.000 </Grid>\n              </Grid>\n            </Button>\n            <Dialog\n              open={openPopUp}\n              onClose={handleClosePopUp}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <CheckoutPopUp />\n            </Dialog>\n          </>\n        )} */}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default ImportSummary;\nconst CheckoutPopUp = (props) => {\n  const { onClose, handleUpdateDiscountDetail, cartData } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [discount, setDiscount] = useState(cartData.discount)\n  return (\n    <>\n      <Box style={{ marginTop: 20, marginLeft: 15, marginBottom: 10 }}>\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Trả tiền NCC\n        </Typography>\n      </Box>\n      <DialogContent>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\" style={{ paddingRight: 50 }}>Tổng tiền hàng</Typography>\n          <Typography variant=\"body2\">{cartData.total_amount?.toLocaleString()}</Typography>\n        </Grid>\n   \n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Giảm giá</Typography>\n          <Input.ThousandSeperatedInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={discount}\n           onChange={(e) => {if(e.target.value <=cartData.total_amount){ setDiscount(e.target.value)}}}\n          />\n        </Grid>\n        <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tổng tiền</Typography>\n              <Typography variant=\"body2\">\n                <VNDFormat\n                  style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={cartData.total_amount - discount}\n                />\n              </Typography>\n            </Grid>\n       \n      </DialogContent>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          // onClick={onClose}\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={()=>{handleUpdateDiscountDetail({type:'VND',value:discount});onClose();}}\n        >\n          OK\n        </Button>\n      </DialogActions>\n    </>\n  );\n};\n\n\n// const CheckoutPopUp = (props) => {\n//   const { onClose, handleChangePayment, payment } = props;\n//   const theme = useTheme();\n//   const classes = useStyles(theme);\n//   return (\n//     <>\n//       <Box style={{ marginTop: 20, marginLeft: 15, marginBottom: 10 }}>\n//         <Typography className={classes.headerTitle} variant=\"h5\">\n//           Trả tiền NCC\n//         </Typography>\n//       </Box>\n//       <DialogContent>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n//           <Typography variant=\"body2\">500.000</Typography>\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\" style={{ paddingRight: 50 }}>\n//             Đã trả CNN\n//           </Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Công nợ</Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"flex-end\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <FormControl component=\"fieldset\">\n//             <RadioGroup\n//               aria-label=\"gender\"\n//               name=\"gender1\"\n//               value={payment}\n//               onChange={handleChangePayment}\n//             >\n//               <Grid container direction=\"row\">\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"card\"\n//                   control={<Radio />}\n//                   label=\"Thẻ\"\n//                 />\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"cash\"\n//                   control={<Radio />}\n//                   label=\"Tiền mặt\"\n//                 />\n//               </Grid>\n//             </RadioGroup>\n//           </FormControl>\n//         </Grid>\n//       </DialogContent>\n//       <DialogActions>\n//         <Button\n//           variant=\"contained\"\n//           onClick={onClose}\n//           fullWidth\n//           color=\"primary\"\n//           style={{ marginTop: 40 }}\n//         >\n//           Thanh toán\n//         </Button>\n//       </DialogActions>\n//     </>\n//   );\n// };\n","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport productApi from \"../../../../api/productApi\";\nimport { useSelector } from \"react-redux\";\nimport {\n  error,\n  openNotification,\n  success,\n} from \"../../../../components/StatusPopup/StatusPopup\";\nimport { Typography } from \"antd\";\n\nexport default function AddBatch({ handleSubmit, handleClose, row }) {\n  const [batch, setBatch] = useState({\n    id: new Date().toString(),\n    batch_code: \"\",\n    // additional_quantity: 0,\n    // expiry_date: null,\n    additional_quantity: 1,\n    expiry_date: new Date().toISOString().substring(0, 10),\n    position: \"\",\n  });\n  return (\n    <Dialog open={true} aria-labelledby=\"form-dialog-title\">\n      {/* <DialogTitle  style={{ fontSize: 16, paddingRight:30 }}>Thêm lô mới</DialogTitle> */}\n      <Typography style={{ fontSize: 18,fontWeight:600, marginTop:15, marginLeft:15, paddingRight:30 }}>Thêm lô mới</Typography>\n      <DialogContent>\n        {/* <TextField\n          autoFocus\n          margin=\"dense\"\n          name=\"batch_code\"\n          label=\"Mã lô (tự động)\"\n          fullWidth\n          value={batch.batch_code}\n          onChange={e => setBatch({...batch, batch_code: e.target.value})}\n          // error={formik.touched.name && formik.errors.name}\n          // helperText={formik.touched.name ? formik.errors.name : null}\n        /> */}\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          name=\"expiry_date\"\n          fullWidth\n          // defaultValue={new Date().toISOString().substring(0, 10)}\n          type=\"date\"\n          label=\"Ngày hết hạn\"\n          value={batch.expiry_date}\n          onChange={(e) => {\n            setBatch({ ...batch, expiry_date: e.target.value });\n          }}\n        />\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          type=\"number\"\n          name=\"additional_quantity\"\n          label=\"Số lượng nhập\"\n          fullWidth\n          value={batch.additional_quantity}\n          InputProps={{ inputProps: { min: 1 } }}\n          onChange={(e) => {\n            const value = Number(e.target.value);\n            if (value <= 0) {\n              return;\n            } else {\n              setBatch({ ...batch, additional_quantity: value });\n            }\n          }}\n        />\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"Vị trí\"\n          fullWidth\n          value={batch.position}\n          onChange={(e) => setBatch({ ...batch, position: e.target.value })}\n          // error={formik.touched.name && formik.errors.name}\n          // helperText={formik.touched.name ? formik.errors.name : null}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={handleClose}>\n          Hủy\n        </Button>\n        <Button\n          disable={!batch.additional_quantity}\n          color=\"primary\"\n          onClick={() => {\n            handleSubmit(batch);\n            handleClose();\n          }}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useSelector } from \"react-redux\";\nimport { openNotification } from \"../../../../components/StatusPopup/StatusPopup\";\nimport { useState } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Typography } from \"@material-ui/core\";\nimport * as _ from \"lodash\";\n\nexport default function SelectBatch({ handleSubmit, handleClose, row }) {\n  const [selectedBatches, setSelectedBatches] = useState([]);\n  return (\n    <Dialog open={true}>\n      <Typography\n        style={{ marginTop:15, marginLeft:15 }}\n        variant='h3'\n      >{`Chọn lô của ${row.product_code} - ${row.name}`}</Typography>\n      <DialogContent>\n        <Autocomplete\n          options={row.batches}\n          getOptionLabel={(batch) =>\n            `${batch?.batch_code} - ${\n              batch?.expiry_date ? batch?.expiry_date : \"\"\n            } - Tồn kho: ${batch?.quantity}`\n          }\n          renderInput={(params) => (\n            <TextField {...params} label=\"Tìm mã lô\" variant=\"standard\" />\n          )}\n          onChange={(e, value) => {\n            if (value) {\n              setSelectedBatches(\n                _.uniqBy(\n                  [\n                    ...selectedBatches,\n                    ...[{ ...value, additional_quantity: 0, is_new: false }],\n                  ],\n                  \"batch_code\"\n                )\n              );\n            }\n          }}\n        />\n        <div style={{ marginTop: 20 }}>\n          {selectedBatches.map((batch) => {\n            return (\n              <div\n                key={batch?.batch_code}\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  gap: 10,\n                  border: \"2px solid #eee\",\n                  borderRadius: 5,\n                  marginBottom: 10,\n                  alignItems: \"center\",\n                  width: 500,\n                  justifyContent: \"space-between\",\n                  padding: 10,\n                }}\n              >\n                <Typography variant=\"h5\">{`${batch?.batch_code} - ${\n                  batch?.expiry_date ? batch?.expiry_date : \"\"\n                } - Tồn kho: ${batch?.quantity}`}</Typography>\n                <TextField\n                  type=\"number\"\n                  style={{ width: 100 }}\n                  value={batch.additional_quantity}\n                  onChange={(e) => {\n                    if (Number(e.target.value) < 0) return;\n                    const newSelectedList = selectedBatches.map(\n                      (selectedBatch) => {\n                        if (selectedBatch.batch_code === batch.batch_code) {\n                          return {\n                            ...selectedBatch,\n                            additional_quantity: Number(e.target.value),\n                          };\n                        } else {\n                          return selectedBatch;\n                        }\n                      }\n                    );\n                    setSelectedBatches(newSelectedList);\n                  }}\n                ></TextField>\n              </div>\n            );\n          })}\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" size=\"small\"variant=\"contained\" onClick={handleClose}>\n          Hủy\n        </Button>\n        <Button\n          color=\"primary\"\n          size=\"small\"variant=\"contained\" \n          onClick={() => {\n            const nonZeroBatch = selectedBatches.filter(\n              (batch) => batch.additional_quantity\n            );\n            handleSubmit(nonZeroBatch);\n            handleClose();\n          }}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\n//import style\nimport { useTheme } from \"@material-ui/core/styles\";\n\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\n//impỏrt library\nimport {\n  Box,\n  TextField,\n  ListItem,\n  IconButton,\n  TableRow,\n  TableCell,\n  Typography,\n  Chip,\n  Button,\n  Grid,\n  Tooltip,\n} from \"@material-ui/core\";\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n\nimport { DeleteOutline } from \"@material-ui/icons\";\n//import project\nimport * as Input from \"../../../../components/TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\nimport VNDInput from \"../../../../components/TextField/NumberFormatCustom\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\nimport icon from \"../../../../assets/img/product/tch.jpeg\";\nimport AddBatch from \"./AddBatch\";\nimport SelectBatch from \"./SelectBatch\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport defaultProduct from '../../../../assets/img/product/default-product.png'\nimport MoreInfo from \"../../../../components/MoreInfo/MoreInfo\"\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport setting from \"../../../../assets/constant/setting\"\n\nexport const ImportRow = (props) => {\n  const theme= useTheme()\n  const classes = useStyles();\n  const {\n    row,\n    // branchs,\n    handleDeleteItemCart,\n    handleChangeItemQuantity,\n    handleChangeItemPrice,\n    handleUpdateBatches,\n    mini,\n    imageType,\n    index,\n    typeShow,\n    showImage\n  } = props;\n  const info = useSelector((state) => state.info);\n  const branch = info.branch;\n  const branchs = info.store.branches\n\n  const updateQuantity = (newQuantity) => {\n    handleChangeItemQuantity(row.uuid, newQuantity);\n  };\n  const [addBatchOpen, setAddBatchOpen] = useState(false);\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\n\n  const [selectedBatches, setSelectedBatches] = useState([]);\n  const handleSubmit = (newBatch) => {\n    setSelectedBatches([\n      ...selectedBatches,\n      ...[{ ...newBatch, is_new: true, quantity: 0 }],\n    ]);\n  };\n\n  const handleSelectBatches = (batches) => {\n    const newBatches = [];\n    selectedBatches.forEach((selectedBatch) => {\n      const newBatch = batches.find(\n        (batch) => batch.batch_code === selectedBatch.batch_code\n      );\n      if (newBatch) {\n        newBatches.push({\n          ...selectedBatch,\n          additional_quantity:\n            Number(selectedBatch.additional_quantity) +\n            Number(newBatch.additional_quantity),\n        });\n      } else {\n        newBatches.push(selectedBatch);\n      }\n    });\n    batches.forEach((newBatch) => {\n      if (\n        !newBatches.find((batch) => newBatch.batch_code === batch.batch_code)\n      ) {\n        newBatches.push(newBatch);\n      }\n    });\n    setSelectedBatches(newBatches);\n  };\n\n  useEffect(() => {\n    let total = 0;\n    selectedBatches.forEach((batch) => {\n      total += Number(batch.additional_quantity);\n    });\n    console.log(total);\n    updateQuantity(total);\n    handleUpdateBatches(row.uuid, selectedBatches);\n  }, [selectedBatches]);\n\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  const [show, setShow] = React.useState(false);\n\n\nconst findBranchQuantity = (id) => {\n  const rs = row.branch_inventories?.find(x => x.uuid === id)?.quantity_available\n  if(rs){return rs }\n  else{ return 0}\n}\n\nconsole.log(\"imageType\",imageType)\nvar color = theme.customization.mode === \"Light\"? typeShow==='list'?'#000':null: null\n\n  return (\n    <>\n      <TableRow hover key={props.row.uuid} onMouseOver={()=>  setShow(true)}  onMouseLeave={()=> setShow(false)} >\n      <TableCell align=\"left\" style={!mini?{}:{paddingLeft:0, paddingRight:!imageType?25:15}}>{imageType?'':`${index }.`}</TableCell>\n\n      {mini ? null : <TableCell align=\"left\"  style={{ paddingRight: 20 }}>\n        {row.product_code}\n      </TableCell>}\n        <TableCell align=\"left\" style={{ minWidth: 170 }}  padding={'none'}>\n          <ListItem\n            style={ {marginLeft:imageType?-10: -10, marginTop: -10, marginBottom: -10, padding:0 }}\n            alignItems=\"center\"\n          >\n            {showImage? <Box\n              component=\"img\"\n              sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15,marginTop:12, marginBottom:12 }}\n              src={\n                JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) ||\n                defaultProduct\n              }\n            />:null}\n            {/* <Typography>{row.name}</Typography> */}\n            <Grid style={{paddingTop:12, paddingBottom:12}}>\n                <Typography style={!mini?{}:{fontWeight:imageType?600:null,color:color}}>{row.name}</Typography>\n                {imageType ?\n                canFixPriceSell.status && canFixPriceSell.import || info?.role === 'owner'?\n                  <Input.ThousandSeperatedInput\n                    id=\"standard-basic\"\n                    style={{ width: 72 }}\n                    size=\"small\"\n                    inputProps={{ style: { textAlign: \"right\",marginBottom:5 } }}\n                    value={row.unit_price}\n                    onChange={(e) =>\n                      handleChangeItemPrice(props.row.uuid, e.target.value)\n                    }\n\n                  />\n                  :\n                   <Input.ThousandFormat  value={row.unit_price} > </Input.ThousandFormat>\n                  \n               :null}\n            </Grid>\n\n            {show  && !mini? \n             <MoreInfo  >     \n                 {branchs.length > 1?\n                    <>\n                    <ListItem >\n                      <Typography style={{width:180}}></Typography>\n                      <Typography style={{fontWeight:700}}>Tồn</Typography>\n                    </ListItem>\n\n                    {branchs.map((item) => {\n                      return(\n                      <ListItem >\n                          <ListItem style={{width:180, margin:0, padding:0}}>\n                              <Typography style={{fontWeight:700, marginRight:10}}>{item.name}</Typography>\n                              {item.uuid === branch.uuid ? <CheckCircleIcon fontSize=\"small\" color='primary'/> :null} \n                          </ListItem>\n                          <Typography>{findBranchQuantity(item.uuid)}</Typography>\n                    </ListItem>\n                    ) })}\n                    </> :\n                 \n                    <Typography  style={{fontWeight:700, color:'#000'}}>{`Tồn kho:\\u00a0\\u00a0\\u00a0  `} {findBranchQuantity(branchs[0].uuid)}</Typography>\n                    /* <Typography style={{fontWeight:700}}> {findBranchQuantity(branchs[0].uuid)}</Typography> */\n       \n                 }\n            </MoreInfo>\n    \n           :null}\n          </ListItem>\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\n   \n\n        {row.has_batches ? (\n          <TableCell align=\"center\" padding=\"none\">\n            {row.quantity}\n          </TableCell>\n        ) : (\n          <TableCell align=\"left\" padding=\"none\" padding={mini ? \"none\" : \"normal\"}>\n            <ButtonQuantity\n              miniCart={mini}\n              quantity={row.quantity}\n              setQuantity={updateQuantity}\n            />\n          </TableCell>\n        )}\n\n      {imageType?null:\n      <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n        {canFixPriceSell.status && canFixPriceSell.import || info?.role === 'owner'?\n          <Input.ThousandSeperatedInput\n            id=\"standard-basic\"\n            style={{ width: 72, marginLeft:-15}}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={row.unit_price}\n            onChange={(e) =>\n              handleChangeItemPrice(props.row.uuid, e.target.value)\n            }\n          />\n          :\n           <Input.ThousandFormat  value={row.unit_price} style={{ marginLeft:-10}}> </Input.ThousandFormat>\n          }\n        </TableCell>}  \n\n        <TableCell align=\"right\" className={classes.boldText}  padding={mini ? \"none\" : \"normal\"}>\n        {!mini?<VNDFormat value={row.unit_price * row.quantity}style={{color:color}} />:<Input.ThousandFormat value={row.unit_price * row.quantity} style={{paddingLeft:imageType? 0:20, color:color}}/>}\n        </TableCell>\n        <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n          <IconButton aria-label=\"expand row\" size=\"small\" style={{marginLeft:10}}>\n            <DeleteForeverTwoToneIcon\n              onClick={() => handleDeleteItemCart(row.uuid)}\n            />\n          </IconButton>\n        </TableCell>\n      </TableRow>\n      {row.has_batches ? (\n        <TableRow >\n         {mini?null: <TableCell colSpan={1}></TableCell>}\n          <TableCell colSpan={10}>\n            <div style={{ display: \"flex\", flexDirection: \"row\", }}>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                onClick={() => setSelectBatchOpen(true)}\n                style={{marginRight:10}}\n              >\n                Chọn lô\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                onClick={() => setAddBatchOpen(true)}\n              >\n                Tạo lô\n              </Button>\n              {selectedBatches.map((batch) => (\n                <Tooltip title={`Tồn kho - ${batch.quantity}`}>\n                  <Chip\n                    label={`${\n                      batch?.batch_code ? batch?.batch_code : \"Mới\"\n                    } - ${batch?.expiry_date} - ${batch.additional_quantity}`}\n                    key={batch.id}\n                    onDelete={() => {\n                      const newBatches = selectedBatches.filter(\n                        (selectedBatch) => selectedBatch.id !== batch.id\n                      );\n                      setSelectedBatches(newBatches);\n                    }}\n                    color={batch.is_new ? \"primary\" : \"secondary\"}\n                    deleteIcon={<DeleteOutline />}\n                    variant=\"outlined\"\n                  />\n                </Tooltip>\n              ))}\n              {addBatchOpen && (\n                <AddBatch\n                  handleSubmit={handleSubmit}\n                  handleClose={() => setAddBatchOpen(false)}\n                  row={row}\n                />\n              )}\n              {selectBatchOpen && (\n                <SelectBatch\n                  handleSubmit={handleSelectBatches}\n                  row={row}\n                  handleClose={() => setSelectBatchOpen(false)}\n                />\n              )}\n            </div>\n          </TableCell>\n        </TableRow>\n      ) : null}\n    </>\n  );\n};\n// export const ImportRowMini = ({ row }) => {\n//   const classes = useStyles();\n\n//   return (\n//     <TableRow hover key={row.id}>\n//       <TableCell align=\"left\">\n//         <ListItem\n//           style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\n//         >\n//           <Box\n//             component=\"img\"\n//             sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\n//             src={icon}\n//           />\n//           <Box direction=\"column\">\n//             <Typography\n//               className={classes.boldText}\n//               style={{\n//                 marginBottom: 3,\n//                 fontSize: 14.5,\n//                 width: 135,\n//                 textOverflow: \"ellipsis\",\n//                 overflow: \"hidden\",\n//                 whiteSpace: \"nowrap\",\n//               }}\n//             >\n//               {row.name}\n//             </Typography>\n//             {/* <Typography>{row.price}</Typography> */}\n//             <Input.ThousandSeperatedInput\n//               id=\"standard-basic\"\n//               style={{ width: 70 }}\n//               size=\"small\"\n//               defaultPrice={row.price}\n//             />\n//           </Box>\n//         </ListItem>\n//       </TableCell>\n\n//       <TableCell align=\"left\" padding=\"none\">\n//         <TextField\n//           variant=\"outlined\"\n//           defaultValue={row.quantity}\n//           style={{ width: 37, margin: 0 }}\n//           size=\"small\"\n//           inputProps={{\n//             style: { paddingLeft: 5, paddingRight: 5, textAlign: \"center\" },\n//           }}\n//         />\n//       </TableCell>\n\n//       <TableCell align=\"right\" className={classes.boldText}>\n//         700.000\n//       </TableCell>\n//       <TableCell align=\"left\">\n//         <IconButton\n//           aria-label=\"expand row\"\n//           size=\"small\"\n//           style={{ marginLeft: -25 }}\n//         >\n//           <DeleteForeverOutlinedIcon />\n//         </IconButton>\n//       </TableCell>\n//     </TableRow>\n//   );\n// };\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport {Table,Button, ListItem,Box,List, Grid,Modal,Dialog} from '@material-ui/core';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport defaultProduct from \"../../../../assets/img/product/default-product.png\"\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\n\n\n\n// 0. DATA\n\n// 1. SORT\nfunction descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction getComparator(order, orderBy) {\n  return order === 'desc'\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n}\n\nfunction stableSort(array, comparator) {\n  const stabilizedThis = array.map((el, index) => [el, index]);\n  stabilizedThis.sort((a, b) => {\n    const order = comparator(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map((el) => el[0]);\n}\n\nconst headCells = [\n    { id: 'product_code', numeric: false, disablePadding: true, label: 'Mã SP', align:'left' },\n    { id: 'name', numeric: false, disablePadding: true, label: 'Tên' ,align:'left' },\n    { id: 'list_price', numeric: true, disablePadding: false, label: 'Giá bán',align:'right'  },\n    { id: 'standard_price', numeric: true, disablePadding: false, label: 'Giá nhập',align:'right' },\n    { id: 'quantity', numeric: true, disablePadding: false, label: 'SL đặt' ,align:'center'},\n    // { id: 'supplier_uuid', numeric: true, disablePadding: false, label: 'NCC',align:'center' },\n  ];\n  \n\n\nfunction EnhancedTableHead(props) {\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = props;\n  const createSortHandler = (property) => (event) => {\n    onRequestSort(event, property);\n  };\n\n  return (\n    <TableHead>\n      <TableRow>\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            indeterminate={numSelected > 0 && numSelected < rowCount}\n            checked={rowCount > 0 && numSelected === rowCount}\n            onChange={onSelectAllClick}\n            inputProps={{ 'aria-label': 'select all desserts' }}\n          />\n        </TableCell>\n        {headCells.map((headCell) => (\n          <TableCell\n            key={headCell.id}\n            // align={headCell.numeric ? 'right' : 'left'}\n            align={headCell.align }\n\n            padding={headCell.disablePadding ? 'none' : 'normal'}\n            sortDirection={orderBy === headCell.id ? order : false}\n          >\n            <TableSortLabel\n              active={orderBy === headCell.id}\n              direction={orderBy === headCell.id ? order : 'asc'}\n              onClick={createSortHandler(headCell.id)}\n            >\n              {headCell.label}\n              {orderBy === headCell.id ? (\n                <span className={classes.visuallyHidden}>\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                </span>\n              ) : null}\n            </TableSortLabel>\n          </TableCell>\n        ))}\n      </TableRow>\n    </TableHead>\n  );\n}\n\n\n// 3. TOOL BAR\n\nconst EnhancedTableToolbar = (props) => {\n\n    const classes = useToolbarStyles();\n    // const {rows,selected, cartList} = props;\n    const { numSelected ,isNoSupplier,setOpenChooseCart,handleAddToCart,handleClose,onlyOneCart} = props;\n    if(numSelected  === 0 ){\n        return null\n    }\n  return (\n    <Toolbar\n      className={clsx(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n      style={{height:10,position:\"sticky\"}}\n    >\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\n          Đã chọn: {numSelected} \n        </Typography>\n        {/* {isNoSupplier? */}\n      <Button variant=\"contained\" size='small' color='primary' style={{width:120, marginRight:15}} \n        onClick={()=>{\n          if(onlyOneCart){ \n            handleClose() ;\n            handleAddToCart(0)\n          }\n          else{setOpenChooseCart(true)}\n        }}\n        >\n         Bỏ vô giỏ \n      </Button>\n      {/* :null } */}\n        <Button variant=\"contained\" size='small' color='secondary' style={{width:140}} \n        onClick={()=>{\n            handleClose()\n            handleAddToCart()      \n        }}\n        >\n         Tạo đơn mới\n      </Button>\n\n\n\n\n      \n    </Toolbar>\n  );\n};\n\n\n\n// 4. TABLE ROW\n\n\nconst TableRowWithSelect = (props) => {\n  const classes = useStyles();\n  const {dataRecommend,hanđleChangeQuantity,handleAddOrderReccomend,handleClose,isNoSupplier,cartList} = props\n  const [order, setOrder] = React.useState('asc');\n  const [orderBy, setOrderBy] = React.useState('product_code');\n  const [selected, setSelected] = React.useState([]);\n  const [openChooseCart, setOpenChooseCart] = useState(false)\n\n  const rows = dataRecommend\n\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  const handleSelectAllClick = (event) => {\n    if (event.target.checked) {\n      const newSelecteds = rows.map((n) => n.uuid);\n      setSelected(newSelecteds);\n      return;\n    }\n    setSelected([]);\n  };\n\n  const handleClick = (event, uuid) => {\n    const selectedIndex = selected.indexOf(uuid);\n    let newSelected = [];\n    if (selectedIndex === -1) {\n      newSelected = newSelected.concat(selected, uuid);\n    } else if (selectedIndex === 0) {\n      newSelected = newSelected.concat(selected.slice(1));\n    } else if (selectedIndex === selected.length - 1) {\n      newSelected = newSelected.concat(selected.slice(0, -1));\n    } else if (selectedIndex > 0) {\n      newSelected = newSelected.concat(\n        selected.slice(0, selectedIndex),\n        selected.slice(selectedIndex + 1),\n      );\n    }\n\n    setSelected(newSelected);\n  };\n\n  const isSelected = (uuid) => selected.indexOf(uuid) !== -1;\n\n\n  const handleAddToCart = (cartIndex=null) =>{\n    // existOrder, newOrder\n    let selectRow = rows.filter(row  => selected.includes(row.uuid))\n    const cartItem = selectRow.map((row, index)=>{\n      let newCartItem = {\n        id: index ,\n        uuid: row.item.uuid,\n        quantity: row.quantity,\n        bar_code: row.item.bar_code,\n        product_code: row.item.product_code,\n        unit_price: row.item.standard_price,\n        img_url: row.item.img_url,\n        name: row.item.name,\n        has_batches: row.item.has_batches,\n        batches: [],\n        // branch_inventories:row.item.branch_inventories\n        branch_inventories:[]\n      };\n      return newCartItem\n    })\n\n    console.log(\"cartItemsssss\",cartItem)\n    console.log(\"newCartList\")\n    let newCartList = {\n      // supplier reccomend này ko đủ như searh trên kia nha .... ko biết có lỗi gì api ko\n      supplier: isNoSupplier?null: {name:rows[0].supplier.name, phone:rows[0].supplier.phone, uuid:rows[0].supplier_uuid},       \n      cartItem: cartItem,\n      total_amount: 0,\n      paid_amount: 0,\n      discount: 0,\n      payment_method: \"cash\"\n    }\n    // handleClose()\n    handleAddOrderReccomend(newCartList,cartIndex)\n  }\n\n  if(!dataRecommend){return}\n  return (\n    <>\n        {openChooseCart ? <ChooseCartPopUp  cartList={cartList} handleAddToCart={handleAddToCart} open={openChooseCart} handleClose={()=>{setOpenChooseCart(false); }} closeAll={handleClose} />:null}\n\n        {/* <EnhancedTableToolbar  handleAddToCart={handleAddToCart} numSelected={selected.length} handleAddOrderReccomend={handleAddOrderReccomend} selected={selected} rows={rows}  handleClose={handleClose} isNoSupplier={isNoSupplier} cartList={cartList} setOpenChooseCart={setOpenChooseCart}/> */}\n        <EnhancedTableToolbar onlyOneCart={cartList.length === 1}  handleAddToCart={handleAddToCart} numSelected={selected.length}isNoSupplier={isNoSupplier}setOpenChooseCart={setOpenChooseCart} handleClose={handleClose}/>\n\n        <TableContainer style={{maxHeight:550}} >\n          <Table\n          stickyHeader\n            className={classes.table}\n            // size={dense ? 'small' : 'medium'}\n            size={'medium'}\n          >\n            <EnhancedTableHead\n              classes={classes}\n              numSelected={selected.length}\n              order={order}\n              orderBy={orderBy}\n              onSelectAllClick={handleSelectAllClick}\n              onRequestSort={handleRequestSort}\n              rowCount={rows.length}\n              style={{position:\"sticky\"}}  \n\n            />\n            <TableBody>\n              {stableSort(rows, getComparator(order, orderBy))\n               .map((row, index) => {\n\n                  return<RowData  row={row} index={index} selected={selected} hanđleChangeQuantity={hanđleChangeQuantity} handleClick={handleClick}/>\n                })}\n             \n            </TableBody>\n          </Table>\n        </TableContainer>\n    </>\n  );\n}\n\nconst RowData = ({row, index,selected,hanđleChangeQuantity,handleClick}) =>{\n  const classes = useStyles();\n  const isSelected = (uuid) => selected.indexOf(uuid) !== -1;\n\n  const isItemSelected = isSelected(row.uuid);\n    const labelId = `enhanced-table-checkbox-${index}`;\n    const [quantity, setQuantity] = useState(row.quantity)\n\n    const updateQuantity = (newQuantity) => {\n      setQuantity(newQuantity)\n      hanđleChangeQuantity(row.uuid, newQuantity);\n    };\n    return (\n      <TableRow\n        hover\n        // onClick={(event) => handleClick(event, row.uuid)}\n        role=\"checkbox\"\n        aria-checked={isItemSelected}\n        tabIndex={-1}\n        key={row.uuid}\n        selected={isItemSelected}\n      >\n        <TableCell padding=\"checkbox\">\n          <Checkbox\n            checked={isItemSelected}\n            inputProps={{ 'aria-labelledby': labelId }}\n            onClick={(event) => handleClick(event, row.uuid)}\n          />\n        </TableCell>\n        <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\" style={{minWidth:100}}>\n          {row?.product_code}\n        </TableCell>\n        <TableCell align=\"left\"   style={{width:250,paddingTop:10, paddingBottom:10 }} padding=\"none\" >\n              <ListItem\n                  style={{ margin:0,marginLeft: -30, marginTop: -10, marginBottom: -10 , padding:0, }}\n              >\n                  <Box\n                  component=\"img\"\n                  sx={{ height: 50, width: 50, borderRadius: 10, marginRight: 15 }}\n                  src={row.img || defaultProduct}\n                  />\n                  <Typography className={classes.fontName}>{row?.name}</Typography>\n              </ListItem>\n        </TableCell>\n        <TableCell align=\"right\"  style={{minWidth:110}}>{row?.list_price.toLocaleString()}</TableCell>\n        <TableCell align=\"right\"  style={{minWidth:120}}>{row?.standard_price.toLocaleString()}</TableCell>\n        \n       \n        <TableCell align=\"center\"  style={{minWidth:100}}>\n        <ButtonQuantity\n            quantity={quantity}\n            setQuantity={updateQuantity}\n            isMini={true}\n          />\n        </TableCell>\n        {/* <TableCell align=\"right\">{row.supplier?.name}</TableCell> */}\n        \n      </TableRow>\n    );\n}\nexport default  TableRowWithSelect\n\n\n\nEnhancedTableHead.propTypes = {\n    classes: PropTypes.object.isRequired,\n    numSelected: PropTypes.number.isRequired,\n    onRequestSort: PropTypes.func.isRequired,\n    onSelectAllClick: PropTypes.func.isRequired,\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\n    orderBy: PropTypes.string.isRequired,\n    rowCount: PropTypes.number.isRequired,\n  };\n  \nEnhancedTableToolbar.propTypes = {\n    numSelected: PropTypes.number.isRequired,\n};\n\nconst useToolbarStyles = makeStyles((theme) => ({\n    root: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(1),\n    },\n    highlight:\n      theme.palette.type === 'light'\n        ? {\n            color: theme.palette.secondary.main,\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n          }\n        : {\n            color: theme.palette.text.primary,\n            backgroundColor: theme.palette.secondary.dark,\n          },\n    title: {\n      flex: '1 1 100%',\n    },\n  }));\n  const useStyles = makeStyles((theme) => ({\n      root: {\n        width: '100%',\n      },\n      paper: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n      },\n      table: {\n        minWidth: 750,\n      },\n      visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n      },\n    }));\n  \n\nconst ChooseCartPopUp = ({cartList,handleClose,open,closeAll,handleAddToCart}) => {\n  const getTitle = (cart) => {\n    return cart.supplier === null ||cart.supplier?.name?.length === 0  ? \"Nhà cung cấp lẻ\": cart.supplier.name\n  }\n  return (\n    <Dialog\n    open={open}\n    onClose={handleClose}\n    // fullWidth={true}\n    maxWidth={\"xs\"}\n    >\n    <Box style={{margin:20, marginBottom:0}}>\n      <Typography variant='h3' style={{marginBottom:10}}>Chọn giỏ hàng</Typography>\n      <div style={{width:300, marginRight:20}}>\n       \n        <List >\n       {cartList?.map((cart, index) => (\n          <ListItem\n              key={index}\n              style={{padding:0, margin:0, marginBottom:20}}\n              alignItems='center'\n          >\n          <Grid container direction=\"row\" justifyContent=\"space-between\"spacing={1} alignItems='center'>\n              <Grid container item item xs={10}  >\n                  <Box style={{marginRight:20, color:'#000', fontWeight:500, fontSize:17}}>#{index + 1}</Box>\n                  {/* <Typography style={{color:'#000', fontWeight:400, fontSize:16}}>{getTitle(cart)}  </Typography>        */}\n              </Grid>\n              <Grid container xs={2} item >\n                  <Button color='primary' variant='contained' size=\"small\" color='primary' \n                  onClick={()=>{\n                    handleClose()\n                    closeAll()\n                    handleAddToCart( index)\n                  }} >\n                      Chọn\n                  </Button>\n              </Grid>\n          </Grid>\n          \n      </ListItem>\n      ))} \n      </List>\n      </div>   \n    </Box>\n  </Dialog>\n  )\n}","import {\n    Grid,\n    Card,\n    Box,\n    TableContainer,\n    FormControlLabel,\n    Switch,\n    ListItem,\n    TableBody,\n    Typography,\n    ButtonBase,\n    Avatar,\n    Tooltip,\n    TextField,\n    Button,\n\n  } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nimport React, {useState,useEffect} from 'react'\nimport TableRowWithSelect from \"./TableRowWithSelect\"\nimport * as _ from \"lodash\";\n\nconst RecommendOrderPopUp = ({dataRecommend,handleAddOrderReccomend,handleClose,store_setting,setLoadingOrderButton,cartList}) => {\n    const theme = useTheme();\n\n    useEffect(()=>{\n        setLoadingOrderButton(false)\n    },[])\n    const choiceQuantity = store_setting?.orderLowStock.choiceQuantity\n    const selectQuantity= store_setting?.orderLowStock.selectQuantity\n    const selectSuplier= store_setting?.orderLowStock.selectSuplier\n    \n    let dataHaveNotPurchase = dataRecommend?.filter(item => item.purchase_histories?.length  === 0 )\n    let dataWillProcess = dataRecommend?.filter(item => item.purchase_histories?.length  > 0 )\n    \n    const processDataRecommend = () =>{ \n        const noHistoryQuantity = store_setting?.orderLowStock.noHistoryQuantity\n        let datawithNoHistory = dataHaveNotPurchase.map((item) =>({\n            img:JSON.parse(item.img_urls)?.at(0) ,\n            uuid:item.uuid,\n            product_code: item.product_code,\n            name: item.name,\n            list_price: item.list_price,\n            standard_price: item.standard_price,\n            quantity: Number(noHistoryQuantity),\n            // quantity: noHistoryQuantity,\n            supplier:null,\n            supplier_uuid:null,\n            item:item\n        }))\n        let data =  dataWillProcess.map((item) =>{\n            var orderQuantityRecommend = 0;\n            var supplierRecommend = null;\n            // Calculate quantity\n            if(choiceQuantity === \"number\"){\n                orderQuantityRecommend = Number(store_setting?.orderLowStock.inputQuantity)\n            }   else{\n                if(selectQuantity === \"latest\"){\n                    orderQuantityRecommend = Number(item.purchase_histories[0]?.quantity)\n                }else{\n                    orderQuantityRecommend = parseInt(item.purchase_histories.reduce( ( p, c ) => p + c.quantity, 0 ) / item.purchase_histories.length)\n                }\n            }\n            // Nếu là NCC lẻ thì sao\n            if(selectSuplier === \"latest\"){\n                supplierRecommend = {name:item.purchase_histories[0]?.name , supplier_uuid: item.purchase_histories[0]?.supplier_uuid}\n                // supplierRecommend = item.purchase_histories[0]?.supplier_uuid\n            }else{\n                // manytime\n                //  Nếu có 2 cái bằng nhau thì sao chọn cái gần nhất\n                const occurrences =  item.purchase_histories.filter(item => item.name !== \"Nhà cung cấp lẻ\").reduce( (acc, o) =>  (acc[o.supplier_uuid] = (acc[o.supplier_uuid] || 0)+1 , acc) , {} );\n                supplierRecommend = Object.keys(occurrences).length !== 0? Object.keys(occurrences).reduce((a, b) => occurrences[a] >= occurrences[b] ? a : b) :null \n                supplierRecommend =  item.purchase_histories?.find(purchase => purchase.supplier_uuid === supplierRecommend)\n            }\n            console.log(\"supplierRecommend\",supplierRecommend)\n\n            let row ={\n                img:JSON.parse(item.img_urls)?.at(0),\n                uuid:item.uuid,\n                product_code: item.product_code,\n                name: item.name,\n                list_price: item.list_price,\n                standard_price: item.standard_price,\n                quantity: orderQuantityRecommend,\n                // quantity: orderQuantityRecommend.toString(),\n                supplier:supplierRecommend ?{name: supplierRecommend.name , phone:supplierRecommend.phone, supplier_uuid:supplierRecommend.supplier_uuid}:null,\n                supplier_uuid:supplierRecommend?.supplier_uuid,\n                item:item\n\n            }\n            // supplierRecommend?  dataWithFullData.push(row):dataWithNoSupplier.push(row) \n            return row\n        })\n      \n        // return  [datawithNoHistory,dataWithNoSupplier,dataWithFullData]\n        return [...data,...datawithNoHistory]\n    }\n\n    const [processedData, setProcessedData] = useState(null)\n    useEffect(()=>{\n        if(dataRecommend){  setProcessedData(processDataRecommend()) }\n    },[dataRecommend])\n   \n\n    const hanđleChangeQuantity = (itemUuid, newQuantity) =>{\n        let itemIndex = processedData.findIndex(\n            (item) => item.uuid === itemUuid\n        );\n        let newProcessedData = [...processedData];\n        newProcessedData[itemIndex].quantity = newQuantity;\n        // setProcessedData(newProcessedData);\n    }\n    \n    const RecommendProductGroupBySupplier = () =>{\n        // let supplierGroup = processedData?  _.groupBy(processedData[2], 'supplier_uuid') :null;\n        let supplierGroup = processedData?  _.groupBy(processedData.filter(data => data.supplier_uuid), 'supplier_uuid') :null;\n        return (\n            supplierGroup?\n            Object.keys(supplierGroup).map((supplier) =>{\n                let cartRowListBySupplier = supplierGroup[supplier]\n                console.log(\"cartRowListBySupplier[0].supplier\",cartRowListBySupplier[0].supplier)\n                return (\n                <Box style={{marginBottom:20, marginTop:10}}>\n                    {/* <Typography variant='h4'>{`${cartRowListBySupplier[0].supplier.name} (${cartRowListBySupplier[0].supplier.phone})`}</Typography> */}\n                    <Typography variant='h4'>{`${cartRowListBySupplier[0].supplier.name} `}</Typography>\n\n                    <TableRowWithSelect handleAddOrderReccomend={handleAddOrderReccomend} dataRecommend={supplierGroup[supplier]} hanđleChangeQuantity={hanđleChangeQuantity} handleClose={handleClose} cartList={cartList}/>\n                </Box>\n                )\n            })\n            :null   \n        )\n    }\n    const RecommendProductGroupWithoutSupplier = () =>{\n        let data = processedData?  processedData.filter(data => !data.supplier_uuid) :null;\n\n        return(\n            data?\n            <Box style={{marginBottom:20, marginTop:40}}>\n                    <Typography variant='h3' style={{marginBottom:20}}>{\"Chưa xác định được NCC\"}</Typography>\n                    <TableRowWithSelect handleAddOrderReccomend={handleAddOrderReccomend} dataRecommend={data}  hanđleChangeQuantity={hanđleChangeQuantity} handleClose={handleClose}  isNoSupplier={true} cartList={cartList}/>\n                </Box>\n            :null\n        )\n    }\n\n    if(dataRecommend === null){\n        return (\n        <>\n        <Typography style={{color:'#000', fontSize:15}}>\n            Không có gợi ý vì không có sản phẩm nào  \n        </Typography>\n        <Typography style={{color:'#000', fontSize:15}}>\n           trong kho đang sắp hết hàng hoặc hết hàng.\n        </Typography>\n        <Button variant=\"contained\" color='primary' fullWidth style={{marginTop:20}}onClick={handleClose}>OK</Button>\n        </>\n        )\n    }\n    return (\n        <>\n        {processedData?\n            <>\n                {/* <Box style={{display:'flex', justifyContent:\"flex-end\"}}  ><Button >Hello</Button></Box> */}\n                <RecommendProductGroupBySupplier/>\n                <RecommendProductGroupWithoutSupplier />\n\n           </>\n        :null} \n        </>   \n      )\n    \n}\n\nexport default RecommendOrderPopUp","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { CartBottom } from \"../../../components/Button/CartButton\";\n\nimport AddIcon from \"@material-ui/icons/Add\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport { useReactToPrint } from \"react-to-print\";\nimport { ImportReceiptPrinter } from \"../../../components/ReceiptPrinter/ReceiptPrinter\";\n//import library\nimport { Grid, Card, Box, TableContainer, FormControlLabel, Switch, ListItem, TableBody, Typography, ButtonBase,\n  Avatar, Tooltip, TextField, Button, CircularProgress, Table, Divider } from \"@material-ui/core\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport SearchBarCode from \"../../../components/SearchBar/SearchBarCode\";\n\n//import project\n//rieng\nimport ImportSummary from \"../../../components/CheckoutComponent/CheckoutSummary/ImportSummary/ImportSummary\";\nimport { ImportRow, ImportRowMini } from \"./ImportTableRow/ImportTableRow\";\n//chung\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\";\nimport ChangeCartBtn from \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\";\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport {\n  getComparator,\n  stableSort,\n} from \"../../../components/TableCommon/util/sortUtil\";\n\nimport purchaseOrderApi from \"../../../api/purchaseOrderApi\";\n// update state\nimport update from \"immutability-helper\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\nimport moment from \"moment\";\nimport AddInventory from \"../Inventory/AddInventory/AddInventory\";\nimport supplierApi from \"../../../api/supplierApi\";\nimport { CartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../api/branchApi\";\nimport setting from \"../../../assets/constant/setting\"\nimport productApi from \"../../../api/productApi\";\nimport openNotification from \"../../../components/StatusPopup/StatusPopup\";\nimport DialogWrapper from \"../../../components/Modal/DialogWrapper\";\nimport ReccomendOrderPopUp from \"./RecommendOrderPopUp/RecommendOrderPopUp\";\nimport { infoActions } from \"../../../store/slice/infoSlice\";\nimport ModalWrapperWithClose from \"../../../components/Modal/ModalWrapperWithClose\";\n\n// FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\n\nconst Import = () => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [selectedBranch, setSelectedBranch] = useState({});\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const searchBarState = info.searchBarState;\n  const dispatch = useDispatch();\n\n  const branch = info.branch;\n  const user_uuid = useSelector((state) => state.info.user.uuid);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const canEnterDiscountWhenSell = store_setting?.canEnterDiscountWhenSell?.status\n  const defaultPaymentAmount = store_setting?.defaultPaymentAmount.status && store_setting?.defaultPaymentAmount.import \n\n  const loadLocalImportListStorage = () => {\n    if (window.localStorage.getItem(\"importListData\")) {\n      const data = JSON.parse(window.localStorage.getItem(\"importListData\"));\n      console.log(\"data\",data)\n      if (data.user_uuid === user_uuid) {\n        return data.cartList;\n      }\n    }\n    return [\n      {\n        supplier: null,\n        cartItem: [],\n        total_amount: 0,\n        paid_amount: 0,\n        discount: 0,\n        payment_method: \"cash\",\n        discountDetail:{value:'0', type:'VND' }\n      },\n    ];\n  };\n  const [cartList, setCartList] = React.useState(loadLocalImportListStorage());\n  const [products, setProducts] = useState([]);\n  const [suppliers, setSuppliers] = React.useState([]);\n  ////------------ I. DATA (useState) ----------------\n\n  // local storage\n  // fetch localstorage\n  useEffect(() => {\n    if (window.localStorage.getItem(\"products\")) {\n      const products = JSON.parse(window.localStorage.getItem(\"products\"));\n      if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n        setProducts(products.data);\n      }\n    }\n    if (window.localStorage.getItem(\"mode\")) {\n      const cartMode = JSON.parse(window.localStorage.getItem(\"mode\"));\n      if (cartMode.store_uuid === store_uuid ) {\n        setTypeShow(cartMode.typeShow)\n        setMode(cartMode.mode);\n        setShowImage(cartMode.showImage);\n       \n      }\n    }\n\n    if (window.localStorage.getItem(\"suppliers\")) {\n      const suppliers = JSON.parse(window.localStorage.getItem(\"suppliers\"));\n      if (suppliers.store_uuid === store_uuid ) {\n        setSuppliers(suppliers.data);\n      }\n    }\n  }, [store_uuid, branch_uuid])\n\n  // update localstorage\n  useEffect(() => {\n    if (suppliers.length) {\n      window.localStorage.setItem(\n        \"suppliers\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          data: suppliers })\n      );\n    }\n  }, [suppliers]);\n  useEffect(() => {\n    if (products.length) {\n      window.localStorage.setItem(\n        \"products\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          branch_uuid: branch_uuid, \n          data: products })\n      );\n    }\n  }, [products]);\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"importListData\",\n      JSON.stringify({ user_uuid: user_uuid, cartList: cartList })\n    );\n  }, [cartList]);\n\n  const loadProducts = async () => {\n    const response = await productApi.searchBranchProduct(\n      store_uuid,\n      branch_uuid,\n      \"\"\n    );\n    setProducts(response.data)\n    // dispatch(infoActions.setProducts(response.data));\n  };\n\n  // call API\n  useEffect(() => {\n    const fetchSupplier = async () => {\n      const response = await supplierApi.getSuppliers(store_uuid);\n      setSuppliers(response.data);\n    };\n\n    if (store_uuid) {\n      fetchSupplier();\n    }\n    if (store_uuid && branch_uuid) {\n      loadProducts();\n    }\n\n    const intervalID = setInterval(() => {\n      if (store_uuid && branch_uuid) {\n        loadProducts();\n      }\n    }, 60000 * 5);\n\n    return () => {\n      clearInterval(intervalID)\n    }\n  }, [store_uuid, branch_uuid]);\n\n  //// ----------II. FUNCTION\n  // 1.Cart\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const [addProduct, setAddProduct] = useState(false);\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n \n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Nhập hàng thất bại\",\n  });\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const [reloadSupplier, setReloadSupplier] = useState(false);\n  const [reloadProduct, setReloadProduct] = useState(false);\n\n  useEffect(() => {\n    loadProducts()\n  }, [reloadProduct])\n\n  useEffect(() => {\n    const fetchSupplier = async () => {\n      const response = await supplierApi.getSuppliers(store_uuid);\n      setSuppliers(response.data);\n    };\n\n    fetchSupplier();\n  }, [reloadSupplier]);\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  console.log(\"selectedIndex\", selectedIndex)\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleChoose = (index) => {\n    setSelectedIndex(index);\n    handleClose();\n  };\n  const handleAdd = () => {\n    // ADD CART\n    setCartList([\n      ...cartList,\n      {\n        supplier: null,\n        cartItem: [],\n        total_amount: 0,\n        paid_amount: 0,\n        discount: 0,\n        payment_method: \"cash\",\n        discountDetail:{value:'0', type:'VND' }\n      },\n    ]);\n    setSelectedIndex(cartList.length);\n    handleClose();\n  };\n\n  \n\n  const handleDelete = (index) => {\n    // DELETE CART\n    cartList.splice(index, 1);\n    if (cartList.length === 0) {\n      setCartList([\n        {\n          supplier: null,\n          cartItem: [],\n          total_amount: \"0\",\n          paid_amount: \"0\",\n          discount: \"0\",\n          payment_method: \"cash\",\n          discountDetail:{value:'0', type:'VND' }\n        },\n      ]);\n      setSelectedIndex(0);\n    } else {\n      setCartList(cartList);\n    }\n    if (selectedIndex === index) {\n      setSelectedIndex(0);\n    } else if (selectedIndex > index) {\n      setSelectedIndex(selectedIndex - 1);\n    }\n    handleClose();\n  };\n  const updateCustomer = (value) => {\n    let newArr = [...cartList]; // copying the old datas array\n    newArr[selectedIndex].customer = value;\n    setCartList(newArr);\n  };\n\n  //2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(null);\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n\n  //mode\n  const [mode, setMode] = React.useState(false);\n  const [showImage, setShowImage] = React.useState(true);\n  const [typeShow, setTypeShow] = useState('list')\n  const handleChangeMode = (event) => {\n    setMode(event.target.checked);\n  };\n\n  // order or import\n  const [isOrder, setIsOrder] = useState(false);\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"mode\",\n      JSON.stringify({store_uuid: store_uuid,  mode: mode, typeShow: typeShow, showImage:showImage })\n    );\n  }, [mode,typeShow,showImage]);\n\n  // handle search select item add to cart\n  const handleSearchBarSelect = (selectedOption) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === selectedOption.uuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item.uuid === selectedOption.uuid\n    );\n\n    if (!item) {\n      let newCartItem = {\n        id: cartList[selectedIndex].cartItem.length,\n        uuid: selectedOption.uuid,\n        quantity: selectedOption.has_batches ? 0 : 1,\n        bar_code: selectedOption.bar_code,\n        product_code: selectedOption.product_code,\n        unit_price: selectedOption.standard_price,\n        img_urls: selectedOption.img_urls,\n        name: selectedOption.name,\n        has_batches: selectedOption.has_batches,\n        batches: selectedOption.batches,\n        branch_inventories:selectedOption.branch_inventories,\n        extreme: selectedOption.extreme\n      };\n\n      let newCartList = update(cartList, {\n        [selectedIndex]: { cartItem: { $push: [newCartItem] } },\n      });\n      setCartList(newCartList);\n      setIsUpdateTotalAmount(!isUpdateTotalAmount);\n      return;\n    }\n\n    if (!item.has_batches) {\n      handleChangeItemQuantity(\n        selectedOption.uuid,\n        cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n      );\n    }\n  };\n\n  const handleDeleteItemCart = (itemUuid) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: { cartItem: { $splice: [[itemIndex, 1]] } },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleChangeItemQuantity = (itemUuid, newQuantity) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item.uuid === itemUuid\n    );\n    if(isNaN(newQuantity)){newQuantity = ''}\n    if (newQuantity === 0 && !item.has_batches) {\n      handleDeleteItemCart(itemUuid);\n      return;\n    }\n    if (newQuantity < 0){return } \n\n\n    let newCartList = [...cartList];\n    newCartList[selectedIndex].cartItem[itemIndex].quantity = newQuantity;\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleChangeItemPrice = (itemUuid, newPrice) => {\n    if (newPrice < 0){return } \n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: {\n        cartItem: { [itemIndex]: { unit_price: { $set: newPrice } } },\n      },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleSelectSupplier = (selectedSupplier) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { supplier: { $set: selectedSupplier } },\n    });\n    setCartList(newCartList);\n  };\n\n  const handleUpdatePaidAmount = (amount) => {\n    if (amount < 0){return } \n    let newCartList = update(cartList, {\n      [selectedIndex]: { paid_amount: { $set: amount } },\n    });\n\n    setCartList(newCartList);\n  };\n\n  const handleUpdateBatches = (itemUuid, selectedBatches) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n\n    if (itemIndex === -1) return;\n    const newCartList = [...cartList];\n    newCartList[selectedIndex].cartItem[itemIndex].selectedBatches =\n      selectedBatches;\n\n    setCartList(newCartList);\n  };\n\n  const handleUpdatePaymentMethod = ( method) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { payment_method: { $set: method } },\n    });\n    setCartList(newCartList);\n  };\n  const handleUpdateDiscountDetail = (obj) => {\n    let discountUpdate =  obj.type === '%'?( (Number(obj.value) * Number(cartList[selectedIndex].total_amount)/100/100).toFixed() * 100).toString() : obj.value \n    let newCartList = update(cartList, {\n      // [selectedIndex]: { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)).toString() }},\n      [selectedIndex]: defaultPaymentAmount? { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)).toString() }}:\n      { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }} ,\n\n\n    });\n  \n    setCartList(newCartList);\n  };\n\n\n  const handleUpdateDiscount = (amount) => {\n    let newCartList = update(cartList, {\n      // [selectedIndex]: { discount: { $set: amount } },\n      // [selectedIndex]: { discount: { $set: amount },paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) -Number(amount)).toString() }  },\n      [selectedIndex]:defaultPaymentAmount? { discount: { $set: amount },paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) -Number(amount)).toString() }  }:\n      { discount: { $set: amount } },\n\n\n    });\n    setCartList(newCartList);\n  };\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    cartList[selectedIndex].cartItem.forEach((item) => {\n      total += item.unit_price * item.quantity;\n    });\n\n    let newCartList = update(cartList, {\n      [selectedIndex]: { total_amount: { $set: total } },\n    });\n    // newCartList = update(newCartList, {\n    //   [selectedIndex]: {\n    //     paid_amount: { $set: total - cartList[selectedIndex].discount },\n    //   },\n    // });\n    if( defaultPaymentAmount){\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          paid_amount: { $set: total - cartList[selectedIndex].discount },\n        },\n      }) };\n\n    setCartList(newCartList);\n  };\n\n\n  const handleConfirm = async (type) => {\n    // type ===  1 là nhập , type ===  0 là đặt\n    // CHECK ĐẶT THÀNH CÔNG ĐƠN ĐẶT SẼ VỀ SCREEN ĐƠN NHẬP HÀNG (trạng thái chờ nhận hàng) \n    // table row DETAIL có thể sửa giá nhập (nếu lúc nhập khác lúc đặt)\n\n    // Nếu đạt import summary có cho nnhapaj giảm giá + thanh toán trc ko ????\n\n    // BỎ  NÚT TRẢ HÀNG \n    // ??? CÓ CHO NHẬP TỪNG PHẦN KO ??\n    // + NẾU KO thì sẽ có nút nhập ở cuối -> bâms vào show tổng tiền nhập đã đc tính lại, tiền thanh toán, giảm gía, tiền đã thanh toán trc,...\n    // -----> thành công sẽ update lại trạng thái + nhập vô kho\n     // + NẾU CÓ thì sẽ mỗi row sp có thêm nút nhập -> bấm vô thì sẽ cộng tồn kho , vậy còn tiền thì sao ??(trừ theo mỗi lần bấm nhập -> nếu v thì sẽ ko âply đc giảm giá hay trừ đc khoản thanh toán trc ?? )\n    //  tiền -> phía dưới sẽ có nút thanh toán??\n    \n    // NẾU SỬA LẠI ĐƠN ĐẶT HOẶC HUỶ ĐƠN THÌ SAO ???\n\n    // NẾU LÀ SẢN PHẨM CÓ LÔ THÌ SAO ?? \n\n    let cart = cartList[selectedIndex];\n    console.log(\"cart.supplier\",cart.supplier)\n    const printReceiptWhenSell= store_setting?.printReceiptWhenSell\n    var emptyCart = cart.cartItem.filter((item) => item.quantity).length === 0;\n    // CHECK NẾU TYPE BẰNG 0(đặt) thì NCC ko đc null \n    // CHECK NẾU TYPE BẰNG 0(đặt) thì setting có  gửi mail NCC ko , nếu có thì warning email NCC rỗng  ?\n    var notExistNullQuantity =  cart.cartItem.every(function (element, index) {\n      if (element.quantity === ''|| Number(element.quantity)===0) return false;\n      else return true;\n    })\n\n    var extremeQuantity = cart.cartItem.filter((element, index) => {\n      if (Number(element.quantity) >= element.extreme && element.extreme !== 0 ) return true;\n      else return false;\n    })\n    if (emptyCart  ) {\n      setOpenSnack(true);\n      setSnackStatus({\n        style: \"error\",\n        message: \"Giỏ hàng trống\",\n      });\n\n      // setOpenSnack(true);\n      // console.log(err);\n    } else if(!notExistNullQuantity){\n      setOpenSnack(true);\n      setSnackStatus({\n        style: \"error\",\n        message: \"Có sản phẩm chưa nhập số lượng\",\n      });\n    }\n    else if(  cart.paid_amount < cart.total_amount - cart.discount && !cart.supplier){\n      setOpenPopUpWarning(true)\n      return \n    } else if (extremeQuantity.length) {\n      setExtremes(extremeQuantity);\n      setOpenExtremeWarning(true)\n    }\n    else {\n      handleConfirmCallApi(type)\n    }\n  };\n\n  const handleConfirmCallApi = async(type) =>{\n    let cart = cartList[selectedIndex];\n    const printReceiptWhenSell= store_setting?.printReceiptWhenSell\n\n    let d = moment.now() / 1000;\n    let importTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n     \n\n\n    let body = {\n      supplier_uuid: cart.supplier ? cart.supplier.uuid : \"\",\n      total_amount: cart.total_amount.toString(),\n      payment_method: cart.payment_method,\n      paid_amount: Math.min(cart.paid_amount, Number(cart.total_amount) - Number(cart.discount)),\n      discount: cart.discount.toString(),\n      // CHECK NẾU TYPE BẰNG 0  thì status là chờ hàng\n      status:\n        Number(cart.total_amount) - Number(cart.discount) >=\n        Number(cart.paid_amount)\n          ? \"debt\"\n          : \"closed\",\n      details: cart.cartItem.map((item) => ({\n        ...item,\n        selectedBatches: item.selectedBatches ? item.selectedBatches.map((batch) => ({\n          ...batch,\n          returned_quantity: 0,\n        })) : [],\n      })),\n      import_date: importTime,\n      is_imported: isOrder ? 0 : 1,\n    };\n    try {\n      console.log(body)\n       // CHECK NẾU TYPE BẰNG 0(đặt)  thì gọi api đặt hàng (hoặc sửa luôn api này nhưng ko cộng tòn kho)\n      // CHECK NẾU TYPE BẰNG 0(đặt) thì setting có  gửi mail NCC ko , nếu có api gửi mail ?\n      let res = await purchaseOrderApi.addInventory(\n        store_uuid,\n        branch.uuid,\n        body\n      );\n      setSnackStatus({\n        style: \"success\",\n        message: type === 1? \"Nhập hàng thành công: \" + res.data.purchase_order_code : \"Đặt hàng thành công: \" + res.data?.purchase_order_code ,\n      });\n      setOpenSnack(true);\n      if(printReceiptWhenSell.status && printReceiptWhenSell.import && type === 1){\n        handlePrint()    \n      }\n      // handlePrint();\n      handleDelete(selectedIndex);\n    } catch (err) {\n      setSnackStatus({\n        style: \"error\",\n        message: type === 1? \"Nhập hàng thất bại! \" :\"Dặt hàng thất bại! \" ,\n      });\n      setOpenSnack(true);\n      console.log(err);\n    }\n    loadProducts();\n  }\n\n\n\n  //print\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  //   }\n  // };\n\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\n  const [openPopUpWarning, setOpenPopUpWarning] = useState(false);\n  const [extremes, setExtremes] = useState([]);\n  const [openExtremeWarning, setOpenExtremeWarning] = useState(false);\n\n  const handleCloseWarning = () =>{\n    setOpenPopUpWarning(false)\n  }\n\n\n  // ******* GỢI Ý ĐẶT HÀNG ********\n  const handleClickRecommend = async () => {\n    if (store_uuid && branch_uuid) {\n      try {\n        const res = await productApi.productOrderRecommend(store_uuid, branch_uuid);\n        // alert(JSON.stringify(res.data, null, 2))\n        // setDataRecommend(JSON.stringify(res.data, null, 2))\n        setDataRecommend(res.data)\n\n        // setDataRecommend(null)\n        setOpenRecommendOrderPopUp(true)\n\n      } catch (err) {\n        console.log(err);\n        openNotification('error', 'Không thể tạo gợi ý', '')\n        setLoadingOrderButton(false)\n      }\n    }\n  }\n  const [openRecommendOrderPopUp, setOpenRecommendOrderPopUp] = useState(false)\n  const [dataRecommend, setDataRecommend] = useState(null)\n\n  const [loadingOrderButton, setLoadingOrderButton]  = useState(false)\n  const handleAddOrderReccomend = (newCartList,cartIndex) => {\n    if(cartIndex !== null){\n       // ADD EXIST CART\n       let newCart  =[...cartList]\n       newCart[cartIndex].cartItem = [...newCart[cartIndex].cartItem ,...newCartList.cartItem ]\n\n       setCartList(newCart)\n       setSelectedIndex(cartIndex);\n    }else{\n       // ADD NEW CART\n      setCartList([\n        ...cartList,\n        newCartList,\n      ]);\n      setSelectedIndex(cartList.length);\n    }\n  };\n\n  return (\n    <Grid  container   direction=\"row\" justifyContent=\"space-between\"  alignItems=\"center\"  spacing={2}>\n      {addProduct && \n      <AddInventory\n        open={addProduct}\n        handleClose={() => {\n          setAddProduct(false)\n        }}\n        setReload={() => {\n          setReloadProduct(!reloadProduct);\n        }}\n      />}{\" \"}\n     \n     <SnackBarGeneral handleClose={handleCloseSnackBar} open={openSnack} status={snackStatus}  />\n\n      {/* 1. TABLE CARD (left) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?7:8}>\n        <Card className={classes.root}>\n          <Box style={{ padding: xsScreen ? 0 : 30,  minHeight: \"79vh\", paddingBottom: 0,}}  >\n            <Box style={{ height: xsScreen ? null : \"70vh\" }}>\n              {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\n              <Grid container direction=\"row\"  justifyContent=\"space-between\" alignItems=\"center\" style={{ marginTop: -10, marginBottom: 30 }}   >\n\n                <Grid>\n                  <ListItem>\n                    {/* 1.1.1 Title */}\n                    <Typography variant=\"h3\"> Nhập hàng </Typography>\n                    <Typography variant=\"h3\"  style={{  marginLeft: 10,  color: theme.customization.primaryColor[500], }} >\n                      {\" \"}# {selectedIndex + 1}\n                    </Typography>\n                    {/* 1.1.2. Btn Channge Cart */}\n                    <ChangeCartBtn\n                      selectedIndex={selectedIndex}\n                      anchorEl={anchorEl}\n                      cartList={cartList}\n                      handleClick={handleClick}\n                      handleClose={handleClose}\n                      handleChoose={handleChoose}\n                      handleDelete={handleDelete}\n                      handleAdd={handleAdd}\n                      isCart={false}\n                    />\n                  </ListItem>\n                </Grid>\n                <Grid>\n                  <Grid container alignItems=\"center\">\n                  {!mode? \n                  <>\n                    <Grid item>\n                      <FormControlLabel   control={<Switch size=\"small\"  checked={searchBarState === 'barcode'}  onChange={(e, checked) => { dispatch(infoActions.setSearchBarState(checked ? 'barcode' : 'search'))  }} color=\"primary\"  />  } label={\"Dùng mã vạch\"}  />\n                    </Grid>\n                    <Grid item>\n                      {searchBarState === 'barcode' ? (\n                        <SearchBarCode\n                          products={products} \n                          handleSearchBarSelect={handleSearchBarSelect}\n                        />\n                      ) : (\n                        <SearchProduct\n                          products={products}\n                          handleSearchBarSelect={handleSearchBarSelect}\n                        />\n                      )}\n                    </Grid>\n                    </>:\n                     <SearchProduct products={products} setProducts={setProducts} isFilter={true} />\n                     }\n                    <Grid item>\n                      <ButtonBase\n                        sx={{ borderRadius: \"1px\" }}\n                        onClick={() => {\n                          setAddProduct(true);\n                        }}\n                        style={{ marginLeft: 10 }}\n                      >\n                        <Avatar\n                          variant=\"rounded\"\n                          className={classes.headerAvatar}\n                        >\n                          <Tooltip title=\"Thêm sản phẩm\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                          </Tooltip>\n                        </Avatar>\n                      </ButtonBase>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n              {store_setting?.orderLowStock.status ?\n              <ButtonComponent \n                variant=\"outlined\"\n                color=\"primary\"\n                size=\"small\"\n                className={classes.button}\n                // onClick={handleClickRecommend}\n                style={{marginTop:-30}}\n                onClick={()=>{setLoadingOrderButton(true);handleClickRecommend()}} loading={loadingOrderButton}\n                title={\" Gợi ý đặt hàng\"}\n              >\n                   Gợi ý đặt hàng\n            </ButtonComponent> :null}\n              \n\n              {openRecommendOrderPopUp?\n              <DialogWrapper \n                title={\"Gợi ý đặt hàng\"}\n                open={openRecommendOrderPopUp}   \n                handleClose={()=>setOpenRecommendOrderPopUp(false)}\n              > \n                  <ReccomendOrderPopUp setLoadingOrderButton={setLoadingOrderButton} handleAddOrderReccomend={handleAddOrderReccomend}dataRecommend={dataRecommend}  handleClose={()=>setOpenRecommendOrderPopUp(false)}  store_setting={store_setting} cartList={cartList} />\n              </DialogWrapper>:null}\n\n              {/* 1.2 TABLE */}\n              {!mode ? ( \n                  <TableWrapper isCart={true}>\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.ImportHeadCells}\n                      isCart={true}\n                    />\n                    <TableBody>\n                      {stableSort( cartList[selectedIndex].cartItem,\n                        getComparator(order, orderBy)\n                      ).map((row, index) => {\n                        return (\n                          <ImportRow\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            handleChangeItemQuantity={handleChangeItemQuantity}\n                            handleUpdateBatches={handleUpdateBatches}\n                            // branchs={branchs}\n                            index={cartList[selectedIndex].cartItem.length - index}\n                            showImage={showImage}\n                          />\n                        );\n                      })}\n                    </TableBody>\n                  </TableWrapper>\n              ) : (   \n                <MenuProduct\n                  products={products} \n                  handleSearchBarSelect={handleSearchBarSelect}\n                  selectedItem={cartList[selectedIndex].cartItem}\n                  typeShow={typeShow}\n                  setTypeShow={setTypeShow}\n                  setProducts={setProducts}\n                  showImage={showImage}\n                  setShowImage={setShowImage}\n\n                />\n              )}\n            </Box>\n            {/* 1.3 CHANGE MODE  */}\n            {/* <FormControlLabel control={<Switch size=\"small\" checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",   margin: -20,  marginTop: 40, }} /> */}\n          </Box>\n          <FormControlLabel control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",  }} />\n\n        </Card>\n      </Grid>\n      {/* 2.SUMMARY CARD (right) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?5:4} className={classes.root}>\n        <Card className={classes.root}>\n          <Box style={{ padding: 0, minHeight: \"82vh\" }}>\n            <ImportSummary\n                setSelectedBranch={setSelectedBranch}\n                selectedBranch={selectedBranch}\n                cartData={cartList[selectedIndex]}\n                handleSelectSupplier={handleSelectSupplier}\n                handleUpdateDiscount={handleUpdateDiscount}\n                handleUpdatePaidAmount={handleUpdatePaidAmount}\n                handleUpdatePaymentMethod={handleUpdatePaymentMethod}\n                handleConfirm={handleConfirm}\n                currentSupplier={cartList[selectedIndex].supplier}\n                mode={mode}\n                currentBranch={branch}\n                suppliers={suppliers}\n                reloadSuppliers={() => setReloadSupplier(!reloadSupplier)}\n                handleUpdateDiscountDetail={handleUpdateDiscountDetail}\n                setIsOrder={setIsOrder}\n                isOrder={isOrder}\n              > \n               {!mode ? null:\n               <>\n                <TableContainer  style={{ maxHeight:Number(cartList[selectedIndex].discount)!==0? \"37vh\":'44vh', height: Number(cartList[selectedIndex].discount)!==0? \"37vh\":'44vh'}}>\n                  <Table  size=\"small\">\n                      <TableBody>\n                      \n                        {stableSort( cartList[selectedIndex].cartItem,\n                        getComparator(order, orderBy)\n                      ).map((row, index) => {\n                          return (\n                            <ImportRow\n                              row={row}\n                              handleUpdateBatches={handleUpdateBatches}\n                              handleDeleteItemCart={handleDeleteItemCart}\n                              handleChangeItemPrice={handleChangeItemPrice}\n                              handleChangeItemQuantity={handleChangeItemQuantity}\n                              mini={true}\n                              imageType={typeShow==='image' && mode}\n                              index={cartList[selectedIndex].cartItem.length - index}\n                              typeShow={typeShow}\n                              showImage={showImage}\n                              />\n                          );\n                        })}\n                      </TableBody>\n                  </Table>  \n                  </TableContainer>\n           \n\n                  </>\n\n               }\n              </ImportSummary>\n          </Box>\n        </Card>\n      </Grid>\n      <PopUpWarningZeroPrice  open={openPopUpWarning} handleClose={handleCloseWarning} handleConfirmCallApi={handleConfirmCallApi} />\n      <PopUpWarningExtreme open={openExtremeWarning}  handleClose={() => setOpenExtremeWarning(false)} handleConfirmCallApi={handleConfirmCallApi} items={extremes} />\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ImportReceiptPrinter cart={cartList[selectedIndex]} />\n        </div>\n      </div>\n    </Grid>\n  );\n};\n\nexport default Import;\n\n\nconst PopUpWarningZeroPrice = ({open,handleClose,handleConfirmCallApi, isDebtWarning}) =>{\n  const theme = useTheme();\n\n  return (\n    <ModalWrapperWithClose title={\"Đơn nhập nợ chưa có thông tin nhà cung cấp\"} open={open} handleClose={handleClose}>\n      <Typography style={{ marginTop: 10, marginBottom: 10 }}>\n            Bạn chưa nhập thông tin nhà cung cấp. Hệ thống không theo dõi công nợ với nhà cung cấp lẻ.\n      </Typography>\n    {/* {existZeroPrice && isDebtWarning?\n    <>\n      <Typography variant=\"h3\" style={{ marginTop: 10, marginBottom: 10 }}>\n        Có sản phẩm đang có giá bán bằng 0\n      </Typography>\n      <Typography style={{ marginTop: 10, marginBottom: 30 }}>\n         Giỏ hàng đang có sản phẩm có giá bán bằng 0\n      </Typography>\n      </>:null} */}\n\n\n      <Typography style={{ fontWeight: 600, color:theme.customization.primaryColor[500] }}>\n        Bạn có chắc chắn muốn tiếp tục thanh toán?\n      </Typography>\n\n      <Grid item xs={12}style={{  display: \"flex\",  flexDirection: \"row\", justifyContent: \"flex-end\", paddingTop: 20, }} >\n        <Button onClick={handleClose} variant=\"contained\" size=\"small\" style={{ marginRight: 20 }}color=\"secondary\" >\n          {\" \"} Huỷ{\" \"}\n        </Button>\n        <Button onClick={() => {handleConfirmCallApi(); handleClose()}} variant=\"contained\" size=\"small\" color=\"primary\" >\n          Xác nhận{\" \"}\n        </Button>\n      </Grid>\n    </ModalWrapperWithClose>\n  )\n}\n\nconst PopUpWarningExtreme = ({open,handleClose,handleConfirmCallApi, isDebtWarning, items}) =>{\n  const theme = useTheme();\n\n  return (\n    <ModalWrapperWithClose title={\"Đơn nhập có lượng nhập bất thường\"} open={open} handleClose={handleClose}>\n      <Typography style={{ marginTop: 10, marginBottom: 10 }}>\n        Sản phẩm có lượng nhập nhiều hơn mức thường gặp.\n      </Typography>\n\n      {items.map(item => (<div><strong>{item.name}</strong> vượt <strong>{item.extreme}</strong></div>))}\n\n\n      <Typography style={{ fontWeight: 600, color:theme.customization.primaryColor[500] }}>\n        Bạn có chắc chắn muốn tiếp tục tạo đơn nhập\n      </Typography>\n\n      <Grid item xs={12}style={{  display: \"flex\",  flexDirection: \"row\", justifyContent: \"flex-end\", paddingTop: 20, }} >\n        <Button onClick={handleClose} variant=\"contained\" size=\"small\" style={{ marginRight: 20 }}color=\"secondary\" >\n          {\" \"} Huỷ{\" \"}\n        </Button>\n        <Button onClick={() => {handleConfirmCallApi(); handleClose()}} variant=\"contained\" size=\"small\" color=\"primary\" >\n          Xác nhận{\" \"}\n        </Button>\n      </Grid>\n    </ModalWrapperWithClose>\n  )\n}\n\n\n\nfunction ButtonComponent(props) {\n  const { onClick, loading } = props;\n  // const theme = useTheme();\n\n  return (\n    <Button {...props} onClick={onClick} disabled={loading} >\n      {loading && \n      <>\n      { props.title}\n      <CircularProgress style={{marginLeft:10}}size={14} />\n      </>\n      }\n      {!loading && props.title}\n    </Button>\n  );\n}\n\n\n//   cartList[selectedIndex].cartItem.map((row, index) => {\n//     return (\n//       <CartMiniTableRow\n//         row={row}\n//         handleDeleteItemCart={handleDeleteItemCart}\n//         handleChangeItemPrice={handleChangeItemPrice}\n//         handleChangeItemQuantity={handleChangeItemQuantity}\n//         isCart={false}\n//       />\n//     );\n//   })\n// )\n// {xsScreen ? <CartBottom numberItem={2} /> : null}\n","import { Box, Grid, TextField, Typography } from '@material-ui/core'\nimport React, { useState } from 'react'\n\nconst CustomExcel = () => {\n    const [customCl, setCustomCl] = useState({\n        product_code: \"Mã hàng\",\n        bar_code: \"Mã vạch\",\n        name: \"Tên\",\n        category_id: \"Danh mục\",\n        list_price: \"Giá bán\",\n        standard_price: \"Giá vốn\",\n        quantity_per_unit: \"Đơn vị\",\n        min_reorder_quantity: \"Tồn kho nhỏ nhất\",\n        max_quantity: \"Tồn kho lớn nhất\",\n        urls: \"Hình ảnh (url1, url2,...)\",\n        description: \"Mô tả\",\n    })\n    return (\n        <Grid container spacing={2} style={{ marginBottom: 15, width: 600, maxWidth: \"90vw\" }} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" >\n                    <Typography><b>Mã hàng</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.product_code} onChange={(e) => { setCustomCl({ ...customCl, product_code: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Mã vạch</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.bar_code} onChange={(e) => { setCustomCl({ ...customCl, bar_code: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Tên sản phẩm</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.name} onChange={(e) => { setCustomCl({ ...customCl, name: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Danh mục</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.category_id} onChange={(e) => { setCustomCl({ ...customCl, category_id: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Giá bán</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.list_price} onChange={(e) => { setCustomCl({ ...customCl, list_price: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Giá vốn</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.standard_price} onChange={(e) => { setCustomCl({ ...customCl, standard_price: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Đơn vị</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.quantity_per_unit} onChange={(e) => { setCustomCl({ ...customCl, quantity_per_unit: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Tồn kho nhỏ</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.min_reorder_quantity} onChange={(e) => { setCustomCl({ ...customCl, min_reorder_quantity: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Tồn kho lớn</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.max_quantity} onChange={(e) => { setCustomCl({ ...customCl, max_quantity: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Hình ảnh</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.urls} onChange={(e) => { setCustomCl({ ...customCl, urls: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Typography><b>Mô tả</b></Typography>\n                    <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.description} onChange={(e) => { setCustomCl({ ...customCl, description: e.target.value }) }}></TextField>\n                </Box>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default CustomExcel","import React from \"react\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useRowStyles from \"../../../../components/TableCommon/style/rowStyle\";\nimport clsx from \"clsx\";\nimport { grey } from \"@material-ui/core/colors\";\n\nimport {\n  TableCell,\n  TableRow,\n  Box,\n  Avatar,\n  ListItem,\n  Typography,\n  Chip,\n} from \"@material-ui/core\";\n\nimport InventoryDetail from \"./InventoryDetail/InventoryDetail\";\nimport { FormatedProductStatus } from \"../../../../components/TableCommon/util/format\";\nimport icon from \"../../../../assets/img/product/img.jpeg\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {ProductMiniTableRow} from \"../../../../components/MiniTableRow/MiniTableRow\"\nimport defaultProduct from \"../../../../assets/img/product/default-product.png\"\n\nconst getReorderPoint = (row) => {\n  const leadTime = row.lead_times; \n  const {total_order: totalOrder, days: days} = row.sale_velocity;\n  const velocity = days ? totalOrder / days : totalOrder;\n  console.log(leadTime, totalOrder, days)\n  return velocity * leadTime + row.min_reorder_quantity;\n}\n\nconst InventoryTableRow = (props) => {\n  const { row, handleOpenRow, openRow ,isManageInventory,hidenCollumn,colorText} = props;\n  const classes = useRowStyles();\n\n  let  imageList =row.img_urls ? JSON.parse(row.img_urls):null\n  imageList =imageList?  Array.isArray(imageList)? imageList :[imageList] :null\n  return (\n    <>\n      <TableRow\n        onClick={() => handleOpenRow(row.uuid)}\n        className={clsx(\n          classes.row,\n          openRow === row.uuid ? classes.rowClicked : null\n        )}\n        key={row.uuid}\n        style={{color:colorText}}\n      >\n        <TableCell align=\"left\" style={{color:colorText}}>\n          {row.product_code}\n        </TableCell>\n        <TableCell align=\"center\" style={{ minWidth: hidenCollumn?.includes(\"image\")? 50:200, color:colorText }}>\n          <ListItem\n            style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\n          >\n           {hidenCollumn?.includes(\"image\") ?null: <Box\n              component=\"img\"\n              sx={{ height: 50, width: 50, borderRadius: 10, marginRight: 15 }}\n              src={imageList?.at(0) || defaultProduct}\n            />}\n            <Typography className={colorText?null:classes.fontName} style={{color:colorText}}>{row.name}</Typography>\n          </ListItem>\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\n\n        <TableCell align=\"left\" style={{color:colorText}}>{row.category?.name}</TableCell>\n        <TableCell align=\"right\" style={{color:colorText}}>\n          <VNDFormat value={row.list_price} />\n        </TableCell>\n        <TableCell align=\"right\" style={{color:colorText}}>\n          <VNDFormat value={row.standard_price} />\n        </TableCell>\n        {isManageInventory ?\n        <>\n        {hidenCollumn?.includes(\"quantity\") ?null:<TableCell align=\"center\">\n          <FormatedProductStatus\n            quantity={row.branch_quantity}\n            lowStock={row.min_reorder_quantity}\n            overStock={row.max_order}\n          />\n        </TableCell> }\n        <TableCell align=\"center\" className={classes.fontName} style={{fontWeight:500, color:'#000'}}>\n          {row.branch_quantity}\n        </TableCell>\n\n        <TableCell align=\"center\" style={{color:colorText}}>\n          {getReorderPoint(row)}\n        </TableCell>\n\n        {/* <TableCell align=\"center\" style={{color:colorText}}>\n          --\n        </TableCell> */}\n\n          </>\n          : null}\n      </TableRow>\n\n      {/* DETAIL */}\n      <TableRow>\n        {/* colspan  => số cột trong collapse */}\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n          <InventoryDetail parentProps={props} openRow={openRow} isManageInventory/>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n};\n\nexport default InventoryTableRow;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Popper from \"@material-ui/core/Popper\";\nimport {Paper,Dialog} from \"@material-ui/core\";\nimport { styled } from \"@mui/material/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Grid from \"@mui/material/Grid\";\nimport Button from \"@mui/material/Button\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Typography from \"@mui/material/Typography\";\nimport Box from \"@mui/material/Box\";\nimport _ from \"lodash\"\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    border: \"1px solid\",\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nconst Item = styled(Paper)(({ theme }) => ({\n  ...theme.typography.body2,\n  padding: theme.spacing(1),\n  textAlign: \"left\",\n  color: theme.palette.text.secondary,\n  height: 50,\n}));\n\nconst errorHeadings = {\n  name: \"Tên sản phẩm\",\n  list_price: \"Giá bán\",\n  standard_price: \"Giá nhập\",\n  min_reorder_quantity: \"Tồn kho tối thiểu\",\n  max_order: \"Tồn kho tối đa\",\n  img_urls: \"Link ảnh\",\n  description: \"Mô tả\",\n  quantity_per_unit: \"Đơn vị\",\n  bar_code: \"Mã sản phẩm, barcode\",\n  quantity: \"Tồn kho ban đầu\",\n  category_name: \"Tên danh mục\",\n};\n\nconst ProductImportPopper = ({ open, loading, errors, handleClose }) => {\n  const classes = useStyles();\n  const [dataTable, setDataTable] = useState([]);\n\n  const errorMessages = (error) => {\n    const message = [];\n    try {\n      for (let errField in error) {\n        message.push(`${errorHeadings[errField]}: ${error[errField]}`);\n      }\n      return message;\n    } catch (err) {\n      handleClose();\n    }\n  };\n\n  useEffect(() => {\n    const mappedData = [];\n    console.log(\"IMPORT PRODUCT EXCEL ERRORS\", errors);\n    errors.forEach((error) => {\n      mappedData.push({\n        id: `Dòng ${error.row + 1}`,\n        error: errorMessages(_.omit(error, \"row\")),\n      });\n    });\n\n    setDataTable(mappedData);\n  }, [errors]);\n\n  const renderErrorCard = () => {\n    return dataTable?.map((error) => (\n      <div style={{ textAlign: \"left\", color: \"red\" }}>\n      {/* <> */}\n        <Typography style={{fontWeight:500}}>{error.id}:</Typography>\n        <Typography>{error.error.join(\", \")}</Typography>\n        {/* </> */}\n      </div>\n    ));\n  };\n\n  return (\n    open && (\n      // <div\n      //   style={{\n      //     zIndex: 200,\n      //     position: \"fixed\",\n      //     top: \"50%\",\n      //     left: \"50%\",\n      //     marginTop: \"-200px\",\n      //     marginLeft: \"-250px\",\n      //   }}\n      // >\n      <Dialog open={open} onClose={handleClose}>\n        <Paper\n          elevation={3}\n          style={{\n            // height: 400,\n            // width: 500,\n            padding: 20,\n          }}\n        >\n          <Grid container spacing={2}>\n            <Grid item xs={10}>\n              <Typography variant=\"h6\">Xử lý file excel</Typography>\n            </Grid>\n            <Grid item xs={2} alignContent={\"flex-end\"}>\n              <Button onClick={handleClose}>Đóng</Button>\n            </Grid>\n\n            {/* <Grid\n              container\n              spacing={2}\n              direction=\"column\"\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              style={{ marginTop: 30 }}\n            > */}\n              <div style={{padding:30}}>\n              {loading ? <CircularProgress /> : renderErrorCard()}\n              </div>\n            {/* </Grid> */}\n          </Grid>\n        </Paper>\n        </Dialog>\n\n    )\n  );\n};\n\nexport default ProductImportPopper;\n","import React from 'react'\nimport {\n  Drawer,Box,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport {ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useFormik } from 'formik';\nimport CategorySelect from \"../../../../components/Select/CategorySelect\"\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst InventoryFilter = (props) => {\n    const {handleToggleFilter,openFilter,query, setQuery,isManageInventory} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const formik = useFormik({\n      initialValues: query,\n      onSubmit: async values => {\n        // console.log(values)\n        // const res = await purchaseOrderApi.searchPurchaseOrder(store_uuid, branch_uuid, values)\n        // setPurchaseOrders(res.data)\n        handleToggleFilter()\n        setQuery(values)\n      },\n    });\n\n    return (\n    <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n\n      {/* 1. Danh muc  */}\n      <Typography variant=\"h5\"className={classes.text} >Danh mục:</Typography>\n      <Box style={{width:\"90%\"}}>\n      <CategorySelect />\n      </Box>\n\n      {/* 2. Tien von from-to */}\n      <Typography variant=\"h5\"className={classes.text} >Giá vốn:</Typography>\n      <VNDInput  label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minStandardPrice\"\n        value={formik.values.minStandardPrice}\n        onChange={formik.handleChange}\n      />\n      <VNDInput  label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n         name=\"maxStandardPrice\"\n         value={formik.values.maxStandardPrice}\n         onChange={formik.handleChange}\n      />\n\n      {/* 2. Tien ban from-to */}\n      <Typography variant=\"h5\"className={classes.text} >Giá bán:</Typography>\n      <VNDInput  label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n       name=\"minListPrice\"\n       value={formik.values.minListPrice}\n       onChange={formik.handleChange}\n      />\n      <VNDInput  label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"maxListPrice\"\n        value={formik.values.maxListPrice}\n        onChange={formik.handleChange}\n      />\n\n      {/* 4. Tồn kho from-to */} \n    {isManageInventory?\n    <>\n      <Typography variant=\"h5\"className={classes.text} style={{marginTop:-5}} >Tồn kho:</Typography>\n      <ThousandSeperatedInput  label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minInventory\"\n        value={formik.values.minInventory}\n        onChange={formik.handleChange}\n      />\n      <ThousandSeperatedInput  label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"maxInventory\"\n        value={formik.values.maxInventory}\n        onChange={formik.handleChange}\n      />\n</>:null}\n\n<Typography variant=\"h5\"className={classes.text} style={{marginTop:-5}} >Tình trạng tồn kho:</Typography>\n\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        name=\"status\"\n        value={formik.values.status}\n        onChange={formik.handleChange}\n      >\n        <MenuItem value=\"active\">Hết hàng</MenuItem>\n        <MenuItem value=\"inactive\">Sắp hết</MenuItem>\n        <MenuItem value=\"inactive\">Còn hàng</MenuItem>\n        <MenuItem value=\"inactive\">Vượt mức tồn kho</MenuItem>\n      </Select>\n      </FormControl>\n\n      <Typography variant=\"h5\" className={classes.text} >Ngày dự kiến hết hạn:</Typography>\n      <TextField \n        id=\"endDate\" label=\"Ngày dự kiến hết hạn\" type=\"date\" name=\"endDate\"\n        // defaultValue={formik.values.endDate} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        // value={formik.values.endDate}  \n        // value={formik.values.endDate.length === 0 ? current :formik.values.endDate} \n        // onChange={formik.handleChange}\n      />\n     \n\n\n\n      {/* 5. Tinh trang ton kho : còn hang het hang */} \n      {/* <Typography variant=\"h5\"className={classes.text} >Tình trạng:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Đã hết</MenuItem>\n        <MenuItem value=\"q1\">Sắp hết</MenuItem>\n        <MenuItem value=\"q1\">Còn hàng</MenuItem>\n      </Select>\n      </FormControl> */}\n\n      {/* 6. Ngày tao ? */}\n      {/* <Typography variant=\"h5\"className={classes.text} >Ngày bán:</Typography>\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      /> */}\n\n      {/* Ngung kinh doanh ? */}\n\n      <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\n\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        name=\"status\"\n        value={formik.values.status}\n        onChange={formik.handleChange}\n      >\n        <MenuItem value=\"active\">Hoạt động</MenuItem>\n        <MenuItem value=\"inactive\">Ngưng hoạt động</MenuItem>\n      </Select>\n      </FormControl>\n\n     \n\n       {/* BUTTON */}\n       <Button onClick={formik.handleSubmit} variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\n           Lọc\n      </Button>\n          \n\n\n          \n    </Drawer>\n    )\n}\n\nexport default InventoryFilter\n\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\nimport CustomExcel from \"./CustomExcel\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\n// import Pagination from \"@material-ui/lab/Pagination\";\n\n//import api\nimport productApi from \"../../../api/productApi\";\nimport storeApi from \"../../../api/storeApi\";\nimport branchApi from \"../../../api/branchApi\"\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\n//riêng\nimport Category from \"./Category/Category\";\nimport AddInventory from \"./AddInventory/AddInventory\";\nimport InventoryTableRow from \"./InventoryTableRow/InventoryTableRow\";\n//chung\nimport SnackBar from \"../../../components/SnackBar/SnackBar\";\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\n\nimport { useSelector,useDispatch } from \"react-redux\";\nimport openNotification from \"../../../components/StatusPopup/StatusPopup\";\n\n\nimport * as excel from \"../../../assets/constant/excel\";\n\nimport * as xlsx from \"xlsx\";\nimport ProductImportPopper from \"../../../components/Popper/ProductImportPopper\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { ProductMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport InventoryFilter from \"./InventoryTool/InventoryFilter\";\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\";\nimport { infoActions } from \"../../../store/slice/infoSlice\";\n\nimport defaultProduct from \"../../../assets/img/product/default-product.png\";\nimport setting from \"../../../assets/constant/setting\"\nimport empltyImage from \"../../../assets/img/icon/empty-cart.png\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport moment from \"moment\";\n\n\nconst Inventory = () => {\n  const [productList, setProductList] = useState([]);\n  const [reload, setReload] = useState(true);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const dispatch = useDispatch();\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n  const importProductByJSON = async (jsonData) => {\n    try {\n      setOpenProductImportPopper(true);\n      setIsLoadingProduct(true);\n      const res = await storeApi.importProductJSON(store_uuid, branch_uuid, jsonData);\n      if (res.status) {\n        setIsLoadingProduct(false);\n        setOpenProductImportPopper(false);\n        setReload(!reload);\n        dispatch(statusAction.successfulStatus(\"Nhập hàng thành công\"))\n      } else {\n        setIsLoadingProduct(false);\n        setProductErrors(res.data);\n        dispatch(statusAction.failedStatus(\"Nhập hàng thất bại\"))\n      }\n      // setOpen(true);\n    } catch (err) {\n      console.log(err);\n      dispatch(statusAction.failedStatus(\"Nhập hàng thất bại\"))\n      setIsLoadingProduct(false);\n      // setOpen(false);\n    }\n    \n  };\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid]);\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, []);\n\n  const initialQuery = {\n    orderBy: \"products.created_at\",\n    sort: \"desc\",\n    searchKey: \"\",\n    minStandardPrice: \"\",\n    maxStandardPrice: \"\",\n    minListPrice: \"\",\n    maxListPrice: \"\",\n    minInventory: \"\",\n    maxInventory: \"\",\n    status: \"\",\n    categoryId: \"\",\n  };\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery);\n  };\n  const [query, setQuery] = useState(initialQuery);\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n\n  const [totalRows, setTotalRows] = useState(0);\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, query]);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await productApi.getProductsOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query,\n          }\n        );\n        setTotalRows(response.total_rows);\n        setProductList(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, reload, query]);\n\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  //category\n  const [openCategory, setOpenCategory] = React.useState(false);\n  const handleClickOpenCategory = () => {\n    setOpenCategory(true);\n  };\n  const handleCloseCategory = () => {\n    setOpenCategory(false);\n  };\n\n  //status add\n  const [addStatus, setAddStatus] = React.useState(null);\n\n  //noti\n  const [openBar, setOpenBar] = React.useState(false);\n  const handleCloseBar = () => {\n    setOpenBar(false);\n  };\n\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // header sort\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"id\");\n\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  /// import product by file\n  const [openProductImportPopper, setOpenProductImportPopper] = useState(false);\n  const [isLoadingProduct, setIsLoadingProduct] = useState(false);\n  const [productErrors, setProductErrors] = useState([]);\n\n\n  // const handleClickRecommend = async () => {\n  //   if (store_uuid && branch_uuid) {\n  //     try {\n  //       const res = await productApi.productOrderRecommend(store_uuid, branch_uuid);\n  //       alert(JSON.stringify(res.data, null, 2))\n  //     } catch (err) {\n  //       console.log(err);\n  //       openNotification('error', 'Không thể tạo gợi ý', '')\n  //     }\n  //   }\n  // }\n\n  const tableRef = React.createRef();\n  return (\n    <Card className={classes.root}>\n      <ProductImportPopper\n        open={openProductImportPopper}\n        loading={isLoadingProduct}\n        errors={productErrors}\n        handleClose={() => {\n          setOpenProductImportPopper(false)\n          setProductErrors([])\n        }}\n      />\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Sản phẩm\n        </Typography>\n        <Grid className={classes.btngroup}>\n          <Tooltip title=\"Xem danh mục\">\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={handleClickOpenCategory}\n            >\n              Danh mục\n            </Button>\n          </Tooltip>\n          {/* <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={handleClickRecommend}\n            >\n              Gợi ý đặt hàng\n            </Button> */}\n\n          <ButtonBase sx={{ borderRadius: \"16px\" }} onClick={handleClickOpen}>\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Thêm sản phẩm\">\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      {/* Popup add */}\n      <Category open={openCategory} handleClose={handleCloseCategory} />\n      {open && (\n        <AddInventory\n          open={open}\n          handleClose={handleClose}\n          setReload={() => setReload(!reload)}\n        />\n      )}\n      {/* Noti */}\n      <SnackBar\n        openBar={openBar}\n        handleCloseBar={handleCloseBar}\n        addStatus={addStatus}\n      />\n\n      <Divider />\n       \n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        textSearch={\"Mã , Tên sản phẩm,...\"}\n        dataTable={productList}\n        tableType={TableType.INVENTORY}\n        handlePrint={handlePrint}\n        handleSearchValueChange={setSearchValue}\n        handleToggleFilter={handleToggleFilter}\n        hasImport={true}\n        importByJSON={importProductByJSON}\n        excel_data={excel.excel_data_product}\n        excel_name={excel.excel_name_product}\n        customizable={true}\n        customExcel = {CustomExcel}\n        columnsToKeep={[\n          { dbName: \"product_code\", displayName: \"Mã sản phẩm\" },\n          { dbName: \"name\", displayName: \"Sản phẩm\" },\n          { dbName: \"bar_code\", displayName: \"Mã vạch\" },\n          { dbName: \"list_price\", displayName: \"Giá bán\" },\n          { dbName: \"standard_price\", displayName: \"Giá vốn\"},\n          {dbName: \"quantity_per_unit\", displayName:\"Đơn vị\"},\n          {dbName: \"category_id\",displayName:\"Danh mục\"},\n          // { dbName: \"img_urls\", displayName: \"Hình ảnh (url1, url2,...)\" },\n          { dbName: \"img_urls\", displayName: \"Hình ảnh\" },\n\n          { dbName: \"quantity_available\", displayName: \"Tồn kho\" },\n          { dbName: \"min_reorder_quantity\", displayName: \"Tồn nhỏ nhất\" },\n          {dbName:\"max_order\",displayName:\"Tồn lớn nhất\"},\n          {dbName:\"has_batches\",displayName:\"Lô\"},\n          {dbName:\"desciption\",displayName:\"Mô tả\"}\n        ]}\n        orderByOptions={\n          store_setting?.inventory.status ?\n         [\n          { value: \"products.created_at\", label: \"Ngày tạo\" },\n          { value: \"products.list_price\", label: \"Gia ban\" },\n          { value: \"products.standard_price\", label: \"Gia von\" },\n          { value: \"products.quantity_available\", label: \"Ton kho\" },\n        ]:\n        [\n          { value: \"products.created_at\", label: \"Ngày tạo\" },\n          { value: \"products.list_price\", label: \"Gia ban\" },\n          { value: \"products.standard_price\", label: \"Gia von\" },\n        ]}\n        orderBy={query.orderBy}\n        setOrderBy={(value) => setQuery({ ...query, orderBy: value })}\n        sort={query.sort}\n        setSort={(value) => setQuery({ ...query, sort: value })}\n        searchKey={query.searchKey}\n        setSearchKey={(value) => setQuery({ ...query, searchKey: value })}\n        handleRemoveFilter={handleRemoveFilter}\n      />\n\n      <InventoryFilter\n        openFilter={openFilter}\n        setQuery={setQuery}\n        query={query}\n        setProductList={setProductList}\n        handleToggleFilter={handleToggleFilter}\n        isManageInventory={store_setting?.inventory.status }\n      />\n\n      {/* 3. TABLE */}\n      {!xsScreen ? (\n        <TableWrapper\n          pagingState={{ ...pagingState, total_rows: totalRows }}\n          setPagingState={setPagingState}\n          list={productList}\n          tableRef={tableRef}\n        >\n          <TableHeader\n            classes={classes}\n            order={order}\n            orderBy={orderBy}\n            onRequestSort={handleRequestSort}\n            headerData={store_setting?.inventory.status ?HeadCells.InventoryHeadCells:\n              HeadCells.InventoryHeadCells.filter(item => item.id !== \"inventory\" &&  item.id !== \"quantity\")\n            }\n          />\n          <TableBody>\n            {productList.map((row, index) => {\n              return (\n                <InventoryTableRow\n                  key={row.uuid}\n                  row={row}\n                  setReload={() => setReload(!reload)}\n                  openRow={openRow}\n                  handleOpenRow={handleOpenRow}\n                  isManageInventory={store_setting?.inventory.status}\n                />\n              );\n            })}\n\n          </TableBody>\n          \n\n        </TableWrapper>\n      ) : (\n        <>\n        <Box style={{minHeight:'50vh'}}>\n          {productList.map((row, index) => {\n            return (\n              // <ProductMiniTableRow\n              //   key={row.uuid}\n              //   row={row}\n              //   setReload={() => setReload(!reload)}\n              //   openRow={openRow}\n              //   handleOpenRow={handleOpenRow}\n              // />\n              // <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={() => setReload(!reload)}\n              // totalCost={row.total_amount}  id={row.purchase_order_code} partnerName={row.supplier_name} date={row.creation_date}\n              // typeBill={\"Sản phẩm\"} />\n              <ProductMiniTableRow\n                key={row.uuid}\n                row={row}\n                openRow={openRow}\n                handleOpenRow={handleOpenRow}\n                onReload={() => setReload(!reload)}\n                img={JSON.parse(row.img_urls ? row.img_urls : '[]')?.at(0) || defaultProduct}\n                id={row.product_code}\n                name={row.name}\n                list_price={row.list_price}\n                standard_price={row.standard_price}\n                branch_quantity={row.branch_quantity}\n                min_reorder_quantity={row.min_reorder_quantity}\n                typePartner={\"Sản phẩm\"}\n                isManageInventory={store_setting?.inventory.status}\n\n              />\n            );\n          })}\n           </Box>\n          <Pagination\n            pagingState={{ ...pagingState, total_rows: totalRows }}\n            setPagingState={setPagingState}\n            list={productList}\n            \n          />\n        </>\n      )}\n\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint productList={productList} classes={classes} query={query}/>\n        </div>\n      </div>\n    </Card>\n  );\n};\nexport default Inventory;\n\nconst ComponentToPrint = ({ productList, classes, query }) => {\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  return (\n\n    <div style={{padding:10}}>\n    <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n    <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n      <Typography style={{  fontSize: 20, fontWeight: 500}} >\n        Thống kê sản phẩm\n      </Typography>\n      {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n      {query.status? <Typography  > {`Tình trạng: ${query.status}`} </Typography>:null}\n      {/* {query.categoryId? <Typography  > {`Danh mục: ${query.categoryId === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null} */}\n      {query.minStandardPrice || query.maxStandardPrice ? <Typography  > {`Giá nhập từ: ${query.minStandardPrice?query.minStandardPrice:0}đ đến ${query.maxStandardPrice?query.maxStandardPrice:0}đ`} </Typography>:null}\n      {query.minListPrice || query.maxListPrice ? <Typography  > {`Giá bán từ: ${query.minListPrice?query.minListPrice:0}đ đến ${query.maxListPrice?query.maxListPrice:0}đ`} </Typography>:null}\n      {query.minInventory || query.maxInventory ? <Typography  > {`Tồn kho từ: ${query.minInventory?query.minInventory:0} đến ${query.maxInventory?query.maxInventory:0}`} </Typography>:null}\n\n    </Box>\n    <div>\n    <TableWrapper  isReport={true} >\n      <TableHeader\n      color=\"#000\"\n        classes={classes}\n        headerData={HeadCells.InventoryHeadCells.filter(item => item.id !== \"quantity\")}\n      />\n      <TableBody>\n        {productList.map((row, index) => {\n          console.log(\"rowrow\",row)\n          return  <InventoryTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"quantity\", \"image\"]}isManageInventory={store_setting?.inventory.status} />\n          })}\n      </TableBody>\n      </TableWrapper>\n    </div>\n  </div>\n  );\n};\n\n// PRINT làm lại sau\n\n//print\n// const componentRef = useRef();\n// const handlePrint = useReactToPrint({\n//     content: () => componentRef.current,\n// });\n\n{\n  /* <ComponentToPrint dataTable={dataTable} headerData={headerData} tableType={tableType} ref={componentRef} /> */\n}\n\n// function ComponentToPrint(props) {\n//   const [dataTable, setDataTable] = React.useState([])\n//   const [headerData, setHeaderData] = React.useState(props.headerData)\n//   const [tableType, setTableType] = React.useState(props.tableType)\n\n//   React.useEffect(() => {\n//     setDataTable(props.dataTable)\n//   }, [props.dataTable])\n\n//   return (\n//     <MyTable rows={dataTable} headerData={headerData} tableType={tableType} />\n//   )\n// }\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useFormik } from 'formik';\nimport moment from 'moment';\nimport purchaseOrderApi from '../../../../api/purchaseOrderApi';\nimport { useSelector } from 'react-redux';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst InventoryOrderFilter = (props) => {\n    const {handleToggleFilter,openFilter, setPurchaseOrders, query, setQuery} = props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n    const formik = useFormik({\n      initialValues: query,\n      onSubmit: async values => {\n        // console.log(values)\n        // const res = await purchaseOrderApi.searchPurchaseOrder(store_uuid, branch_uuid, values)\n        // setPurchaseOrders(res.data)\n        handleToggleFilter()\n        setQuery(values)\n      },\n    });\n\n    React.useEffect(() =>{\n      formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n      formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n  \n    },[])\n    return (\n      <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n        {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n        {/* Giao hàng, dia chi giao ???*/}\n        {/* tiền giảm ???*/}\n  \n  \n        {/* 1.Ngay from-to */}\n        <Typography variant=\"h5\" className={classes.text} >Ngày nhập:</Typography>\n        <TextField id=\"startDate\" label=\"Từ\" \n          type=\"date\" \n          name=\"startDate\"\n          // defaultValue={formik.values.startDate} \n          variant=\"outlined\" size=\"small\" fullWidth \n          className={classes.textField} \n          InputLabelProps={{ shrink: true }} \n          value={formik.values.startDate} \n          onChange={formik.handleChange}\n        />\n        <TextField \n          id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n          // defaultValue={formik.values.endDate} \n          variant=\"outlined\" size=\"small\" \n          fullWidth className={classes.textField} \n          InputLabelProps={{ shrink: true }} \n          value={formik.values.endDate}  \n          onChange={formik.handleChange}\n        />\n       \n  \n        {/* 2.Tien from-to*/}\n        <Typography variant=\"h5\" className={classes.text} >Tiền nhập:</Typography>\n        <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n          name=\"minTotalAmount\"\n          value={formik.values.minTotalAmount}\n          onChange={formik.handleChange}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n        />\n        <VNDInput \n          id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n          required label=\"Đến\" variant=\"outlined\" \n          fullWidth size=\"small\" className={classes.textField}\n          value={formik.values.maxTotalAmount}\n          onChange={formik.handleChange}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n        />\n  \n        {/* 3.Giảm giá from-to*/}\n        <Typography variant=\"h5\" className={classes.text} >Giảm giá:</Typography>\n        <TextField required label=\"Từ\" variant=\"outlined\" \n          name=\"minDiscount\" id=\"minDiscount\"\n          fullWidth size=\"small\" className={classes.textField}\n          value={formik.values.minDiscount}\n          onChange={formik.handleChange}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n        />\n        <VNDInput \n          required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" \n          id=\"maxDiscount\" name=\"maxDiscount\"\n          className={classes.textField}\n          value={formik.values.maxDiscount}\n          onChange={formik.handleChange}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n        />\n  \n  \n  \n        {/* 4.Chi nhanh */}\n        {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n        <FormControl\n            className={classes.formControl}\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n          >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"demo-simple-select-outlined\"\n          size=\"small\"\n          // onChange={(event) => { setGender(event.target.value) }}\n          // label=\" Chi nhánh\"\n          // value={gender}\n        >\n          <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n          <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n        </Select>\n        </FormControl> */}\n  \n  \n  \n        {/* 5.Trang thai */}\n        <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n        <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"status\"\n            name=\"status\"\n            size=\"small\"\n            onChange={formik.handleChange}\n            // label=\" Chi nhánh\"\n            value={formik.values.status}\n          >\n             <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n            <MenuItem value=\"debt\">Còn nợ</MenuItem>\n            <MenuItem value=\"closed\">Trả đủ</MenuItem>\n          </Select>\n        </FormControl>\n  \n  \n  \n        {/* 5.Pttt */}\n        <Typography variant=\"h5\" className={classes.text} >Phương thức thanh toán:</Typography>\n        <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"paymentMethod\" name=\"paymentMethod\"\n            size=\"small\"\n            onChange={formik.handleChange}\n            // label=\" Chi nhánh\"\n            value={formik.values.paymentMethod}\n          >\n             <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n            <MenuItem value=\"card\">Thẻ</MenuItem>\n            <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n          </Select>\n        </FormControl>\n  \n        {/* BUTTON */}\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={formik.handleSubmit}\n          style={{ marginTop: 30 }}>\n          Lọc\n        </Button>\n  \n  \n  \n      </Drawer>\n    )\n}\n\nexport default InventoryOrderFilter\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\n\nimport {TableCell,TableRow} from '@material-ui/core';\n\nimport {FormatedStatus} from '../../../../components/TableCommon/util/format'\nimport InventoryOrderDetail from './InventoryOrderDetail/InventoryOrderDetail'\nimport {VNDFormat} from '../../../../components/TextField/NumberFormatCustom'\nimport {Tag} from 'antd'\nconst InventoryOrderTableRow = (props) => {\n    const { row, handleOpenRow,openRow,hidenCollumn,colorText} = props;\n    const classes = useRowStyles();\n\n    return (\n        <>\n        {/* ROW */}\n            <TableRow\n            onClick={() => handleOpenRow(row.uuid)}   \n            key={row.uuid}\n            className={ clsx(classes.row,(openRow === row.uuid) ? classes.rowClicked : null)}\n            style={{color:colorText}}\n            >\n                <TableCell align=\"left\" style={{color:colorText}}>{row.purchase_order_code}</TableCell>\n                {/* <TableCell align=\"left\" >{row.creation_date}</TableCell> */}\n                <TableCell align=\"left\" className={colorText?null:classes.fontName}style={{color:colorText}}>{row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }</TableCell>\n\n                <TableCell align=\"left\"style={{color:colorText}}>{row.supplier_name}</TableCell>\n                {/* <TableCell align=\"left\"className={classes.fontName} style={{minWidth:150}}>{row.branch_name}</TableCell> */}\n                {/* <TableCell align=\"right\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell> */}\n                <TableCell align=\"right\"style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n                <TableCell align=\"right\" className={colorText?null:classes.fontName}style={{color:colorText}}><VNDFormat value={row.total_amount  -row.discount}/></TableCell>\n                {hidenCollumn?.includes(\"debt\") ?null:<TableCell align=\"center\" className={classes.fontName}>\n                    <FormatedStatus isImported={row.is_imported} debt={Number(row.total_amount) - Number( row.discount)  - Number(row.paid_amount) > 0 ? 1 : 0}/>\n                </TableCell>}\n               {/* {row.is_imported ? <Tag color=\"error\">Chưa nhập</Tag> : <Tag color=\"cyan\">Nhập đủ</Tag>} */}\n            </TableRow>\n\n        {/* DETAIL */}\n            <TableRow>\n              {/* colspan  => số cột trong collapse */}\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \n                    <InventoryOrderDetail parentProps={props}/>       \n              </TableCell>\n            </TableRow>\n        </>\n    )\n}\n\nexport default InventoryOrderTableRow\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\nimport InventoryOrderFilter from \"./InventoryOrderTool/InventoryOrderFilter\";\nimport InventoryOrderTableRow from \"./InventoryOrderTableRow/InventoryOrderTableRow\";\n//chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport purchaseOrderApi from \"../../../api/purchaseOrderApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\n\nconst InventoryOrder = () => {\n  // fetch data here\n  const [purchaseOrders, setPurchaseOrders] = useState([]);\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const dispatch = useDispatch();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  //// 2. Table\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minDiscount: null,\n    maxDiscount: null,\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    status: '',\n    paymentMethod: '',\n    orderBy: 'purchase_orders.creation_date',\n    sort: 'desc',\n    searchKey: '',\n  };\n\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  const [query, setQuery] = useState(initialQuery)\n\n  const [reload, setReload] = React.useState(false);\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0)\n  const [totalAmount, setTotalAmount] = useState(0);\n\n  //3.2. filter\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n  const onReload = () => {\n    setReload(!reload);\n  };\n  \n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await purchaseOrderApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows);\n        setPurchaseOrders(response.data);\n        setTotalAmount(response.total_amount);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid ) {\n      \n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, query, store_uuid, branch_uuid, reload]);\n\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Kiểm kho thất bại\",\n  });\n  const getDataExport = async () => {\n    try {\n      const response = await purchaseOrderApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n  const tableRef = React.createRef();\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Đơn nhập hàng\n        </Typography>\n\n        <Grid className={classes.btngroup1}>\n          <ButtonBase\n            sx={{ borderRadius: \"16px\" }}\n            onClick={() => {\n              dispatch(customizeAction.setSidebarOpen(false));\n              dispatch(customizeAction.setItemMenuOpen(4));\n            }}\n            component={Link}\n            to=\"/home/inventory/import\"\n          >\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Nhập hàng\">\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/}\n      <ToolBar\n        dataTable={purchaseOrders}\n        tableType={TableType.INVENTORY_ORDER}\n        textSearch={\"#, NCC, Nguoi nhap,...\"}\n        handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n\n        orderByOptions={[\n          {value: 'purchase_orders.creation_date', label: 'Ngày nhập'},\n          {value: 'total_amount', label: 'Tổng tiền nhập'},\n        ]}\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n        \n        handleRemoveFilter={handleRemoveFilter}\n        getDataExport={getDataExport}\n        columnsToKeep = {[\n          {dbName:\"purchase_order_code\",displayName:\"Mã đơn nhập\"},\n          {dbName:\"payment_date\",displayName:\"Ngày nhập\"},\n          {dbName:\"supplier_name\",displayName:\"Nhà cung cấp\"},\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \n          {dbName:\"paid_amount\",displayName:\"Tiền đã trả\"}, \n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"},\n          {dbName:\"created_user_type\",displayName:\"Tài khoản thực hiện\"},\n          {dbName:\"created_user_name\",displayName:\"Tên người thực hiện\"},\n        ]}\n      />\n\n      <InventoryOrderFilter\n        openFilter={openFilter}\n        setQuery={setQuery}\n        query={query}\n        setPurchaseOrders={setPurchaseOrders}\n        handleToggleFilter={handleToggleFilter}\n      />\n\n      {/* 3. TABLE */}\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n       list={purchaseOrders}\n       tableRef={tableRef}\n      >\n        <TableHeader\n          classes={classes}\n          headerData={HeadCells.InventoryOrderHeadCells}\n          pagingState={pagingState}\n          setPagingState={setPagingState}\n          \n        />\n        <TableBody>\n          <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n          </TableRow>\n          {purchaseOrders.map((row, index) => {\n            return (\n              <InventoryOrderTableRow\n                key={row.uuid}\n                row={row}\n                openRow={openRow}\n                handleOpenRow={handleOpenRow}\n                onReload={onReload}\n              />\n            );\n          })}\n        </TableBody>\n      </TableWrapper>\n      :\n      <>\n       <Box style={{minHeight:'50vh'}}>\n      {purchaseOrders.map((row, index) => {\n        return (\n      \n          <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \n          totalCost={row.total_amount}  id={row.purchase_order_code} partnerName={row.supplier_name} date={row.creation_date} \n          typeBill={\"Đơn nhập hàng\"} />\n      \n\n        );\n      })}\n      </Box>\n      <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}list={purchaseOrders}\n     />\n\n      </>\n       \n      \n      }\n\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint purchaseOrders={purchaseOrders} classes={classes}  query={query} totalRows={totalRows}totalAmount={totalAmount}/>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default InventoryOrder;\n\nconst ComponentToPrint = ({ purchaseOrders, classes,query,totalRows,totalAmount, }) => {\n \n  const firstDate = purchaseOrders.slice(-1)[0] ?purchaseOrders.slice(-1)[0].creation_date.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê đơn nhập hàng */}\n          THỐNG KÊ ĐƠN NHẬP HÀNG\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InventoryOrderHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {purchaseOrders.map((row, index) => {\n            return  <InventoryOrderTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n           <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n          </TableRow>\n\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );\n};\n\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\n\nimport { TableCell, TableRow } from '@material-ui/core';\n\nimport InventoryReturnDetail from './InventoryReturnDetail/InventoryReturnDetail'\nimport { FormatedStatus } from '../../../../components/TableCommon/util/format'\nimport { VNDFormat } from '../../../../components/TextField/NumberFormatCustom'\n\nconst InventoryReturnTableRow = (props) => {\n    const { row, handleOpenRow, openRow,colorText } = props;\n    const classes = useRowStyles();\n\n    console.log(\"row\",row)\n    return (\n        <>\n            {/* ROW */}\n            <TableRow\n                onClick={() => handleOpenRow(row.uuid)}\n                key={row.uuid}\n                className={clsx(classes.row, (openRow === row.uuid) ? classes.rowClicked : null)}\n                style={{color:colorText}}\n            >\n                <TableCell align=\"left\" style={{color:colorText}}>{row.purchase_return_code}</TableCell>\n                {/* <TableCell align=\"left\" className={classes.fontName}>{row.creation_date}</TableCell> */}\n                <TableCell align=\"left\" className={colorText?null:classes.fontName}style={{color:colorText}}>{row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }</TableCell>\n\n                <TableCell align=\"left\" style={{ minWidth: 150 ,color:colorText}}>{row.supplier_name}</TableCell>\n                {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n                {/* <TableCell align=\"right\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell> */}\n                <TableCell align=\"right\" style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n                <TableCell align=\"right\" className={colorText?null:classes.fontName}style={{color:colorText}}><VNDFormat value={row.total_amount} /></TableCell>\n                {/* <TableCell align=\"center\" className={classes.fontName}>\n                    <FormatedStatus debt={row.status === 'debt' ? 1 : 0} />\n                </TableCell> */}\n                {/* <TableCell align=\"right\" ></TableCell>\n                <TableCell align=\"right\" ></TableCell> */}\n            </TableRow>\n\n            {/* DETAIL */}\n            <TableRow>\n                {/* colspan  => số cột trong collapse */}\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n                    <InventoryReturnDetail parentProps={props} />\n                </TableCell>\n\n            </TableRow>\n        </>\n    )\n}\n\nexport default InventoryReturnTableRow\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom';\nimport { useFormik } from 'formik';\nimport moment from 'moment';\nimport purchaseReturnApi from '../../../../api/purchaseReturnApi';\nimport { useSelector } from 'react-redux';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst InventoryReturnFilter = (props) => {\n    const {handleToggleFilter,openFilter, setPurchaseReturns, query, setQuery} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n    const formik = useFormik({\n      initialValues: query,\n      onSubmit: async values => {\n        // console.log(values)\n        // const res = await purchaseReturnApi.searchPurchaseReturn(store_uuid, branch_uuid, values)\n        setQuery(values)\n        handleToggleFilter()\n      },\n    });\n\n    React.useEffect(() =>{\n      formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n      formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n  \n    },[])\n\n    return (\n      <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n        \n\n        {/* 1.Ngay from-to */}\n        <Typography variant=\"h5\" className={classes.text} >Ngày trả:</Typography>\n        <TextField id=\"startDate\" label=\"Từ\" \n          type=\"date\" \n          name=\"startDate\"\n          defaultValue={formik.values.startDate} \n          variant=\"outlined\" size=\"small\" fullWidth \n          className={classes.textField} \n          InputLabelProps={{ shrink: true }} \n          value={formik.values.startDate} \n          onChange={formik.handleChange}\n        />\n        <TextField \n          id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n          defaultValue={formik.values.endDate} \n          variant=\"outlined\" size=\"small\" \n          fullWidth className={classes.textField} \n          InputLabelProps={{ shrink: true }} \n          value={formik.values.endDate}  \n          onChange={formik.handleChange}\n        />\n       \n  \n        {/* 2.Tien from-to*/}\n        <Typography variant=\"h5\" className={classes.text} >Tiền trả:</Typography>\n        <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n          name=\"minTotalAmount\"\n          value={formik.values.minTotalAmount}\n          onChange={formik.handleChange}\n        />\n        <VNDInput \n          id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n          required label=\"Đến\" variant=\"outlined\" \n          fullWidth size=\"small\" className={classes.textField}\n          value={formik.values.maxTotalAmount}\n          onChange={formik.handleChange}\n        />\n\n        {/* 5.Trang thai */}\n        {/* <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n        <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"status\"\n            name=\"status\"\n            size=\"small\"\n            onChange={formik.handleChange}\n            // label=\" Chi nhánh\"\n            value={formik.values.status}\n          >\n             <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n            <MenuItem value=\"debt\">Còn nợ</MenuItem>\n            <MenuItem value=\"closed\">Trả đủ</MenuItem>\n          </Select>\n        </FormControl> */}\n  \n        {/* 5.Pttt */}\n        <Typography variant=\"h5\" className={classes.text}>Phương thức thanh toán:</Typography>\n        <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"paymentMethod\" name=\"paymentMethod\"\n            size=\"small\"\n            onChange={formik.handleChange}\n            // label=\" Chi nhánh\"\n            value={formik.values.paymentMethod}\n          >\n             <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n            <MenuItem value=\"card\">Thẻ</MenuItem>\n            <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n          </Select>\n        </FormControl>\n  \n        {/* BUTTON */}\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={formik.handleSubmit}\n          style={{ marginTop: 30 }}>\n          Lọc\n        </Button>\n      </Drawer>\n    )\n}\n\nexport default InventoryReturnFilter\n\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Divider,\n  Grid,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\n\n//import api\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\n//riêng\nimport InventoryReturnTableRow from \"./InventoryReturnTableRow/InventoryReturnTableRow\";\nimport InventoryReturnFilter from \"./InventoryReturnTool/InventoryReturnFilter\";\n\n//chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\n\nimport JSONdata from \"../../../assets/JsonData/inventoryReturn.json\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport purchaseReturnApi from \"../../../api/purchaseReturnApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport moment from \"moment\";\n\nconst InventoryReturnOrder = () => {\n  const [purchaseReturns, setPurchaseReturns] = useState([]);\n  const [openRow, setRowOpen] = React.useState(null);\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [reload, setReload] = useState(false);\n\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0)\n  const [totalAmount, setTotalAmount] = useState(0);\n\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    // status: '',\n    paymentMethod: '',\n    orderBy: 'purchase_returns.creation_date',\n    sort: 'desc',\n    searchKey: '',\n  };\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  const [query, setQuery] = useState(initialQuery)\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await purchaseReturnApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n        setPurchaseReturns(response.data);\n        setTotalAmount(response.total_amount);\n\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query]);\n  const getDataExport = async () => {\n    try {\n      const response = await purchaseReturnApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // header sort\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"id\");\n\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  //3. ToolBar\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  //3.1. search\n\n  //3.2. filter\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n\n  //3.3. loc cot\n  const tableRef = React.createRef();\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Đơn trả hàng nhập\n        </Typography>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      {/* <ToolBar  dataTable={inventoryReturnList} tableType={TableType.INVENTORY_RETURN} /*handlePrint={handlePrint}*/}\n      <ToolBar\n        dataTable={purchaseReturns}\n        tableType={TableType.INVENTORY_RETURN}\n        textSearch={\"#, #đn, NCC, Nguoi trả,...\"}\n        handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n\n        orderByOptions={[\n          {value: 'purchase_returns.creation_date', label: 'Ngày trả'},\n          {value: 'total_amount', label: 'Tổng tiền trả'},\n        ]}\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n        handleRemoveFilter={handleRemoveFilter}\n        getDataExport={getDataExport}\n        columnsToKeep = {[\n          {dbName:\"purchase_return_code\",displayName:\"Mã trả hàng nhập\"},\n          {dbName:\"purchase_order_code\",displayName:\"Mã đơn nhập\"},\n          {dbName:\"creation_date\",displayName:\"Ngày nhập\"},\n          {dbName:\"supplier_name\",displayName:\"Nhà cung cấp\"},\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \n          {dbName:\"paid_amount\",displayName:\"Tổng tiền đã thu\"}, \n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"},\n          {dbName:\"created_user_type\",displayName:\"Tài khoản thực hiện\"},\n          {dbName:\"created_user_name\",displayName:\"Tên người thực hiện\"},\n        ]}\n      />\n\n      <InventoryReturnFilter\n        openFilter={openFilter}\n        setQuery={setQuery}\n        query={query}\n        handleToggleFilter={handleToggleFilter}\n        setPurchaseReturns={setPurchaseReturns}\n      />\n\n      {/* 3. TABLE */}\n      {!xsScreen? <TableWrapper  pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n       list={purchaseReturns}\n       tableRef={tableRef}\n      >\n        <TableHeader\n          classes={classes}\n          order={order}\n          orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          headerData={HeadCells.InventoryReturnOrderHeadCells}\n        />\n        <TableBody>\n        <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/> \n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n          {purchaseReturns.map((row, index) => {\n            return (\n              <InventoryReturnTableRow\n                key={row.uuid}\n                row={row}\n                openRow={openRow}\n                handleOpenRow={handleOpenRow}\n              />\n            );\n          })}\n        </TableBody>\n      </TableWrapper>:\n      <>\n       <Box style={{minHeight:'50vh'}}>\n      {purchaseReturns.map((row, index) => {\n        return (\n          // <InventoryReturnTableRow\n          //   key={row.uuid}\n          //   row={row}\n          //   openRow={openRow}\n          //   handleOpenRow={handleOpenRow}\n          // />\n          <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \n          totalCost={row.total_amount}  id={row.purchase_return_code} partnerName={row.supplier_name} date={row.creation_date} \n          typeBill={\"Đơn trả hàng nhập\"}/>\n\n        );\n      })}\n      </Box>\n      <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState} list={purchaseReturns}/>\n\n      </>\n      }\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint\n            purchaseReturns={purchaseReturns}\n            classes={classes}\n            query={query}\n            totalRows={totalRows}\n            totalAmount={totalAmount}\n          />\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nconst ComponentToPrint = ({ purchaseReturns, classes, query,totalRows,totalAmount }) => {\n \n  const firstDate = purchaseReturns.slice(-1)[0] ?purchaseReturns.slice(-1)[0].creation_date.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê đơn trả hàng nhập */}\n          THỐNG KÊ ĐƠN TRẢ HÀNG NHẬP\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InventoryReturnOrderHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {purchaseReturns.map((row, index) => {\n            return  <InventoryReturnTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/> \n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );};\n\nexport default InventoryReturnOrder;\n","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport {Grid,Card,Box, Typography,TextField,InputAdornment,DialogActions,DialogContent,IconButton,Button,Dialog,FormControlLabel,Checkbox,FormControl,FormLabel,RadioGroup, Radio} from '@material-ui/core'\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddSupplier from '../../../../views/InventoryView/Supplier/AddSupplier/AddSupplier'\n\nimport SearchSupplier from '../../../SearchBar/SearchSupplier';\n\n//import project \nimport * as Input from '../../../TextField/NumberFormatCustom'\nimport { grey} from '@material-ui/core/colors'\n\nimport SupplierData from '../../../../assets/JsonData/supplier.json'\nimport supplierApi from '../../../../api/supplierApi';\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  marginBox:{\n    marginTop:30\n  },\n  marginRow:{\n    marginTop:5\n  },\n  hidden:{\n    display: \"none\",\n  },\n  headerTitle:{\n    fontSize: \"1.125rem\",\n  }\n}));\nconst OrderSummary = (props) => {\n    const {cartData, updateCustomer,currentCustomer, mode} = props;\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n      };\n    const handleClose = (status) => {\n        setOpen(false);\n    };\n\n    //phuong thuc thanh toan\n    const [payment, setPayment] = React.useState('cash');\n\n    const handleChangePayment = (event) => {\n        setPayment(event.target.value);\n    };\n    //mode 2: popup\n    const [openPopUp, setOpenPopUp] = React.useState(false);\n    const handleClickOpenPopUp = () => {\n        setOpenPopUp(true);\n    };\n\n    const handleClosePopUp = () => {\n        setOpenPopUp(false);\n    };\n\n\n    return (\n        \n        <Box style={{padding:30,minHeight:'80vh'}}>\n                    \n            <Grid container direction=\"column\"  alignItems=\"flex-start\" spacing={3}>\n                <Grid container direction=\"row\" justifyContent=\"space-between\" >\n                        {/* 1. BASIC INFO */}\n                    <Grid item  xs={8} container direction=\"column\"  alignItems=\"flex-start\">\n                        <Typography variant=\"h5\">\n                            Chi nhánh \n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Chi nhánh trung tâm\n                        </Typography>\n                        \n                    </Grid>\n                    \n                    <Grid item xs={4} container direction=\"column\"  alignItems=\"flex-end\">\n                        <Typography variant=\"body2\">\n                            22/12/2008\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            22:30\n                        </Typography>\n                    </Grid>\n                </Grid>\n                \n                <div style={{ width: '100%'}}>\n                    \n                        {/* <Autocomplete\n                            id=\"free-solo-demo\"\n                            freeSolo\n                            value={currentCustomer}\n                            options={SupplierData}\n                            getOptionLabel={(option) => option.name.concat(\" - \").concat(option.phone) } \n                            onChange={(event, value) => {updateCustomer(value);}} \n                            renderInput={(params) => (\n                                <TextField \n                                {...params}\n                                fullWidth \n                                placeholder=\"Tìm nhà cung cấp\"\n                                margin=\"normal\"  \n                                InputProps={currentCustomer === null? {\n                                    ...params.InputProps,\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                        <SearchIcon style={{color:grey[500]}}/>\n                                        </InputAdornment>\n                                    ),\n                                    endAdornment: (\n                                        <IconButton aria-label=\"delete\"  size=\"small\" onClick={handleClickOpen} style={{marginRight:-30}}>\n                                            <AddIcon/>\n                                        </IconButton>\n                                        ),\n                                    }: {\n                                    ...params.InputProps,\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                        <SearchIcon style={{color:grey[500]}}/>\n                                        </InputAdornment>\n                                    ),\n                                    }}\n                                \n                                />\n                            )}  \n                            renderOption={(option) => {\n                                return (\n                                <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\"  >\n                                    <Typography variant=\"h5\">{option.name}</Typography>\n                                    <Typography variant=\"body1\">{option.phone}</Typography>               \n                                </Grid>\n                                )\n                              }}          \n                        /> */}\n\n                        <SearchSupplier handleClickOpen={handleClickOpen} selectedSupplier={{name: \"\", phone:\"\"}}/>\n\n                </div>\n                \n                <AddSupplier  open={open} handleClose={handleClose}/>\n            \n                {/* when change mode to menu product */}\n                {props.children}\n\n                {/* 2. PAYMENT INFO  */}\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginBox}>\n                    <Typography variant=\"h5\">\n                        Tổng số mặt hàng\n                    </Typography>\n                    <Typography variant=\"body2\">\n                            5\n                    </Typography>\n                </Grid>\n\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Khoảng tiền hàng\n                    </Typography>\n                    <Typography variant=\"body2\">\n                            500.000\n                    </Typography>\n                </Grid>\n\n                {/* <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Tiền đã cọc\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        400.000\n                    </Typography>\n                </Grid> */}           \n                <Button variant=\"contained\" fullWidth color=\"primary\" style={{marginTop:40}} onClick={()=>{console.log(\"Gui mail NCC\")}}>\n                    Đặt hàng\n                </Button>\n        </Grid>\n    </Box>\n\n    )\n}\n\nexport default OrderSummary\n\n","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport {Grid,Card,Box, Typography,DialogTitle,TextField,InputAdornment,DialogActions,DialogContent,IconButton,Button,Dialog,FormControlLabel,Checkbox,FormControl,FormLabel,RadioGroup, Radio} from '@material-ui/core'\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddSupplier from '../../../../views/InventoryView/Supplier/AddSupplier/AddSupplier'\n\nimport SearchSupplier from '../../../SearchBar/SearchSupplier';\n\n//import project \nimport * as Input from '../../../TextField/NumberFormatCustom'\nimport { grey} from '@material-ui/core/colors'\n\nimport SupplierData from '../../../../assets/JsonData/supplier.json'\nimport supplierApi from '../../../../api/supplierApi';\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  marginBox:{\n    marginTop:30\n  },\n  marginRow:{\n    marginTop:5\n  },\n  hidden:{\n    display: \"none\",\n  },\n  headerTitle:{\n    fontSize: \"1.125rem\",\n  }\n}));\nconst CheckSummary = (props) => {\n    const {cartData, updateCustomer,currentCustomer, mode} = props;\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n      };\n    const handleClose = (status) => {\n        setOpen(false);\n    };\n\n    //phuong thuc thanh toan\n    const [payment, setPayment] = React.useState('cash');\n\n    const handleChangePayment = (event) => {\n        setPayment(event.target.value);\n    };\n    //mode 2: popup\n    const [openPopUp, setOpenPopUp] = React.useState(false);\n    const handleClickOpenPopUp = () => {\n        setOpenPopUp(true);\n    };\n\n    const handleClosePopUp = () => {\n        setOpenPopUp(false);\n    };\n\n     //check confirm\n    const [openConfirm, setOpenConfirm] = React.useState(false);\n     const handleOpenConfirm = () => {\n        setOpenConfirm(true);\n       };\n    const handleCloseConfirm = (status) => {\n        setOpenConfirm(false);\n        setAddStatus(status);\n        if(status === \"Success\"){\n            // onReload();\n            setOpenBar(true);\n        }else if (status === \"Fail\"){\n            setOpenBar(true);\n        }\n    };\n    //status add\n    const [addStatus, setAddStatus] = React.useState(null);\n    \n    //noti\n    const [openBar, setOpenBar] = React.useState(false);\n    const handleCloseBar = () => {\n      setOpenBar(false)\n    };\n\n\n    return (\n        \n        <Box style={{padding:30,minHeight:'80vh'}}>\n                    \n            <Grid container direction=\"column\"  alignItems=\"flex-start\" spacing={3}>\n                <Grid container direction=\"row\" justifyContent=\"space-between\" >\n                        {/* 1. BASIC INFO */}\n                    <Grid item  xs={8} container direction=\"column\"  alignItems=\"flex-start\">\n                        <Typography variant=\"h5\">\n                            Chi nhánh \n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Chi nhánh trung tâm\n                        </Typography>\n                        \n                    </Grid>\n                    \n                    <Grid item xs={4} container direction=\"column\"  alignItems=\"flex-end\">\n                        <Typography variant=\"body2\">\n                            22/12/2008\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            22:30\n                        </Typography>\n                    </Grid>\n                </Grid>\n                \n               \n                        \n                {/* when change mode to menu product */}\n                {props.children}\n\n                {/* 2. PAYMENT INFO  */}\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginBox}>\n                    <Typography variant=\"h5\">\n                        Tổng tồn kho\n                    </Typography>\n                    <Typography variant=\"body2\">\n                            5\n                    </Typography>\n                </Grid>\n\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                       Tổng SL thực tế\n                    </Typography>\n                    <Typography variant=\"body2\">\n                            500.000\n                    </Typography>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                       Tổng lệch\n                    </Typography>\n                    <Typography variant=\"body2\">\n                            500.000\n                    </Typography>\n                </Grid>\n\n                        \n                <Button variant=\"contained\" fullWidth color=\"primary\" style={{marginTop:40}} onClick={handleOpenConfirm}>\n                    Kiểm  kho\n                </Button>\n                <Dialog open={openConfirm} onClose={handleCloseConfirm} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h5\">\n                        Xác nhận\n                        </Typography>\n                    </DialogTitle>\n\n                    <DialogContent>\n                        Cân bằng kho của bạn\n                    </DialogContent>\n\n                    <DialogActions>\n                        <Button\n                        onClick={() => handleCloseConfirm(null)}\n                        variant=\"contained\"\n                        size=\"small\"\n                        color=\"secondary\"\n                        >\n                        Huỷ\n                        </Button>\n                        <Button\n                        variant=\"contained\"\n                        size=\"small\"\n                        color=\"primary\"\n                        >\n                        OK\n                        </Button>\n                    </DialogActions>\n                    </Dialog>\n\n\n        </Grid>\n    </Box>\n\n    )\n}\n\nexport default CheckSummary\n\n","import React from 'react'\n//import style\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\n//impỏrt library\nimport {Box,TextField,ListItem,IconButton,TableRow,TableCell,Typography} from '@material-ui/core'\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\n//import project \nimport * as Input from '../../../../components/TextField/NumberFormatCustom'\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\n\nimport icon from '../../../../assets/img/product/tch.jpeg';\n\n\nexport const CheckRow = ({row}) =>{\n    const classes = useStyles(); \n    const [quantity, setQuantity] = React.useState(row.quantity);\n\n    return (\n      <TableRow hover key={row.id}>\n         <TableCell align=\"left\" style={{width:5}}>{row.stt}</TableCell>\n          {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n          <TableCell align=\"left\" style={{minWidth:200}}>\n            <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}> \n                <Box component=\"img\" sx={{ height: 40, width: 40,  borderRadius:10,  marginRight:15 }}src={icon} />\n                {row.name}\n            </ListItem>  \n            </TableCell>\n          <TableCell align=\"right\">\n            100\n          </TableCell>\n  \n          <TableCell align=\"left\" padding='none' >\n            <ButtonQuantity quantity={quantity} setQuantity={setQuantity}/> \n          </TableCell> \n\n          <TableCell align=\"right\">\n             {99 -100}\n          </TableCell>\n          \n          <TableCell align=\"right\"className={classes.boldText}>{row.price * row.quantity}</TableCell>\n          <TableCell align=\"right\" >\n            <IconButton aria-label=\"expand row\" size=\"small\" >\n                <DeleteForeverOutlinedIcon/>\n            </IconButton>\n          </TableCell>\n        </TableRow>\n    )\n  }\nexport const CheckRowMini = ({row}) =>{\n    const classes = useStyles(); \n\n    return (\n        <TableRow hover key={row.id}>\n        \n          <TableCell align=\"left\" >\n            <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}> \n                <Box component=\"img\" sx={{ height: 40, width: 40,  borderRadius:10,  marginRight:15 }}src={icon} />\n                <Box direction=\"column\">\n\n                    <Typography className={classes.boldText} style={{marginBottom:3, fontSize:14.5,width:135, textOverflow: 'ellipsis' ,overflow: 'hidden',whiteSpace: 'nowrap' }}>{row.name}</Typography>\n                    <Typography>100</Typography>\n                    \n                </Box>\n            </ListItem>  \n        </TableCell>\n     \n          <TableCell align=\"left\" padding='none' >\n              <TextField variant=\"outlined\" defaultValue={row.quantity} style={{width:37,margin: 0}}  size=\"small\" inputProps={{style: { paddingLeft: 5,paddingRight: 5, textAlign: \"center\"}}} />\n          </TableCell> \n          \n          <TableCell align=\"right\"className={classes.boldText}>-5</TableCell>\n          <TableCell align=\"left\" >\n            <IconButton aria-label=\"expand row\" size=\"small\"style={{marginLeft:-25}} >\n                <DeleteForeverOutlinedIcon/>\n            </IconButton>\n          </TableCell>\n        </TableRow>\n    )\n  }\n\n\n","import React from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\nimport { grey} from '@material-ui/core/colors'\n\n//import library \nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\nimport ArrowBackTwoToneIcon from '@material-ui/icons/ArrowBackTwoTone';\nimport { Link } from \"react-router-dom\";\n//import constant\nimport * as HeadCells from '../../../assets/constant/tableHead'\n\n\n//import project\n//rieng\nimport CheckSummary from '../../../components/CheckoutComponent/CheckoutSummary/CheckSummary/CheckSummary'\nimport {CheckRow,CheckRowMini} from './CheckTableRow/CheckTableRow'\n//chung\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\"\nimport ChangeCartBtn from  \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\"\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\nimport TableHeader from '../../../components/TableCommon/TableHeader/TableHeader'\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\nimport {getComparator,stableSort} from '../../../components/TableCommon/util/sortUtil'\n\n// update state\nimport update from 'immutability-helper';\n\n // FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\n\nconst Check = () => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    ////------------ I. DATA (useState) ----------------\n    // Cart data get from search_product component \n    // const cartData = [\n    //     // QUANTITY có thể edit ->  truyền quatity edit ngược về cartData ??\n    //     //dựa vào id của text field quatity ??\n\n    //     //còn bị lỗi sort // tự generate stt\n    //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\n    //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\n    //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },  \n    //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\n    //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\n    //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },   \n        \n    // ]; \n    // chú ý cartList id from 1 to ... dùng để edit + delete\n    // const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: cartData}]);\n\n    const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: []}]);\n    //// ----------II. FUNCTION\n    // 1.Cart\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\n    \n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const handleChoose = (index) =>{\n        setSelectedIndex(index);\n        handleClose();\n    }\n    const handleAdd = () =>{\n        // ADD CART\n        setCartList([...cartList, { id: cartList.length + 1, customer:null, cartItem: []}]);\n        setSelectedIndex(cartList.length);\n        handleClose();\n    } \n    const handleDelete = (index) =>{\n        // DELETE CART\n        cartList.splice(index, 1);\n        setCartList(cartList);\n        if (selectedIndex === index){setSelectedIndex(0);}\n        else if(selectedIndex > index){setSelectedIndex(selectedIndex-1);}\n        handleClose();\n    }\n    const updateCustomer =  value => {  \n        let newArr = [...cartList]; // copying the old datas array\n        newArr[selectedIndex].customer = value; \n        setCartList(newArr);\n    }\n\n    //2. Table sort\n    const [order, setOrder] = React.useState('desc');\n    const [orderBy, setOrderBy] = React.useState('stt');\n    const handleRequestSort = (event, property) => {\n        const isAsc = orderBy === property && order === 'asc';\n        setOrder(isAsc ? 'desc' : 'asc');\n        setOrderBy(property);\n    };\n\n    //mode\n    const [mode, setMode] = React.useState(false);\n    const handleChangeMode = (event) => {\n        setMode(event.target.checked);\n    };\n\n\n    // handle search select \n    const handleSearchBarSelect = (selectedOption) => {\n        let newCartList = update(cartList, {[selectedIndex]: {cartItem: {$push: [selectedOption]}}})\n        setCartList(newCartList)\n    }\n   \n    return (\n        <Grid container direction=\"row\" justifyContent=\"space-between\"  alignItems=\"center\" spacing={2} >\n            \n            {/* 1. TABLE CARD (left) */}\n            <Grid item xs={12} sm={8}  >\n                <Card className={classes.root}>\n                    <Box style={{padding:30, minHeight:'80vh', paddingBottom:0}} >\n                        <Box style={{ height:'70vh'}}>\n                        {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\n                        <Grid \n                            container\n                            direction=\"row\"\n                            justifyContent=\"space-between\"  \n                            alignItems=\"center\"\n                            style={{marginTop:-10,marginBottom:30}}\n                        > \n                            <Grid>\n                                <ListItem  >\n                                    <IconButton \n                                    style={{marginLeft:-35,marginRight:10}}\n                                    component={Link}\n                                    to='/home/inventory/check-history' \n                                    \n                                    >\n                                        <ArrowBackTwoToneIcon/>\n                                    </IconButton>\n                                    {/* 1.1.1 Title */}\n                                    <Typography  variant=\"h3\" > Kiểm kho </Typography> \n                                    <Typography  variant=\"h3\" style={{marginLeft:10, color:theme.customization.primaryColor[500]}}> # {cartList[selectedIndex].id} </Typography> \n                                    {/* 1.1.2. Btn Channge Cart */}\n                                    <ChangeCartBtn selectedIndex={selectedIndex}anchorEl={anchorEl}cartList={cartList} handleClick={handleClick} handleClose={handleClose}handleChoose={handleChoose}handleDelete={handleDelete}handleAdd={handleAdd} isCart={false}/>                \n                                </ListItem>\n                            </Grid>\n                            <Grid>\n                                {/* 1.1.3. Search */}\n                                <SearchProduct handleSearchBarSelect={handleSearchBarSelect}/>    \n                            </Grid>\n                        </Grid>\n\n\n                        {/* 1.2 TABLE */}\n                        {!mode ? \n                            <TableWrapper isCart={true} >\n                                <TableHeader\n                                    classes={classes}\n                                    order={order}\n                                    orderBy={orderBy}\n                                    onRequestSort={handleRequestSort}\n                                    headerData={HeadCells.CheckHeadCells}\n                                    isCart={true}\n                                />\n                                <TableBody>\n                                {stableSort(cartList[selectedIndex].cartItem, getComparator(order, orderBy))\n                                    .map((row, index) => {\n                                    return (\n                                        <CheckRow row={row}/> \n                                    );})\n                                }\n                                </TableBody>\n                            </TableWrapper> \n                        :\n\n                        <MenuProduct />\n                        \n                        }\n                        </Box>\n                       {/* 1.3 CHANGE MODE  */}\n                        <FormControlLabel\n                            control={<Switch checked={mode} onChange={handleChangeMode} />}\n                            style={{display: \"flex\",justifyContent: \"flex-end\",margin:-10, marginTop:10}}\n                        />\n \n                    </Box>\n                </Card>\n            </Grid>\n\n\n            {/* 2.SUMMARY CARD (right) */}\n            <Grid item xs={12} sm={4} className={classes.root} >\n                \n                <Card className={classes.root}>\n                    <Box style={{padding:0,minHeight:'80vh', }}>\n                    {!mode  ?\n                        /* Viết hàm tính toán sau dựa trên cartData ... hiện tại đang set cứng giá trị */\n                        <CheckSummary cartData={cartList[selectedIndex].cartItem}  mode={mode}/>                    \n                        : \n                        <CheckSummary cartData={cartList[selectedIndex].cartItem} updateCustomer={updateCustomer}  currentCustomer={cartList[selectedIndex].customer} mode={mode}>\n                            <TableContainer style={{maxHeight: '40vh',marginBottom:20, height:'40vh'}}>                         \n                                <TableBody>\n                                {cartList[selectedIndex].cartItem.map((row, index) => {\n                                    return (\n                                    <CheckRowMini row={row}/> \n                                    );})\n                                }\n                                </TableBody>\n                            </TableContainer> \n                        </CheckSummary>\n  \n                    }\n                    </Box>\n                </Card>\n           \n           \n            </Grid>\n        </Grid>\n        \n    )\n}\n\nexport default Check\n\n\n\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl,Box\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport {ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\n\nimport { useFormik } from 'formik';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst CheckHistoryFilter = (props) => {\n    const {handleToggleFilter,openFilter,query, setQuery} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const formik = useFormik({\n      initialValues: query,\n      onSubmit: values => {\n        handleToggleFilter()\n        setQuery(values)\n      },\n    });\n\n\n    return (\n      <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n        {/* 1.Ngay from-to */}\n        <Typography variant=\"h5\" className={classes.text}>\n          Ngày kiểm:\n        </Typography>\n        <TextField\n          id=\"date\"\n          label=\"Từ\"\n          type=\"date\"\n          defaultValue=\"\"\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          className={classes.textField}\n          InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n          name=\"startDate\"\n          value={formik.values.startDate}\n          onChange={formik.handleChange}\n        />\n        <TextField\n          id=\"date\"\n          label=\"Đến\"\n          type=\"date\"\n          defaultValue=\"\"\n          variant=\"outlined\"\n          size=\"small\"\n          fullWidth\n          name=\"endDate\"\n          value={formik.values.endDate}\n          onChange={formik.handleChange}\n          className={classes.textField}\n          InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n        />\n        {/* 2.Chi nhanh */}\n        {/* <Typography variant=\"h5\" className={classes.text}>\n          Chi nhánh:\n        </Typography>\n        <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"demo-simple-select-outlined\"\n            size=\"small\"\n            // onChange={(event) => { setGender(event.target.value) }}\n            // label=\" Chi nhánh\"\n            // value={gender}\n          >\n            <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n            <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n          </Select>\n        </FormControl> */}\n        {/* 3. Lệch from-to */}\n        <Typography variant=\"h5\" className={classes.text}>\n          Lệch:\n        </Typography>\n        <ThousandSeperatedInput\n          label=\"Từ\"\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          className={classes.textField}\n          name=\"minTotalAmount\"\n          value={formik.values.minTotalAmount}\n          onChange={formik.handleChange}\n        />\n        <ThousandSeperatedInput\n          label=\"Đến\"\n          variant=\"outlined\"\n          fullWidth\n          size=\"small\"\n          className={classes.textField}\n          name=\"maxTotalAmount\"\n          value={formik.values.maxTotalAmount}\n          onChange={formik.handleChange}\n        />\n\n        {/* 4. Trang thai */}\n        {/* <Typography variant=\"h5\" className={classes.text}>\n          Trạng thái:\n        </Typography>\n        <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"demo-simple-select-outlined\"\n            size=\"small\"\n            // onChange={(event) => { setGender(event.target.value) }}\n            // label=\" Chi nhánh\"\n            // value={gender}\n          >\n            <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\n            <MenuItem value=\"q1\">Trả đủ</MenuItem>\n          </Select>\n        </FormControl> */}\n\n        {/* BUTTON */}\n        <Button onClick={formik.handleSubmit} variant=\"contained\" color=\"primary\" style={{ marginTop: 30 }} >\n          Lọc\n        </Button>\n      </Drawer>\n    );\n}\n\nexport default CheckHistoryFilter\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\n\nimport {TableCell,TableRow} from '@material-ui/core';\nimport {ThousandFormat, VNDFormat} from \"../../../../components/TextField/NumberFormatCustom\"\nimport {FormatedStatusCheck} from '../../../../components/TableCommon/util/format'\nimport CheckHistoryDetail from './CheckHistoryDetail/CheckHistoryDetail'\n\nconst CheckHistoryTableRow = (props) => {\n    const { row, handleOpenRow,openRow,colorText} = props;\n    const classes = useRowStyles();\n\n    const quantityDifference = row.details\n      ?.map((detail) => detail.quantity)\n      .reduce((total, ele) => total + ele, 0)\n    \n    const moneyDifference = row.details\n      ?.map((detail) => Number(detail.quantity) * Number(detail.unit_price))\n      .reduce((total, num) => total + num, 0)\n\n\n    return (\n      <>\n        {/* ROW */}\n        <TableRow\n          onClick={() => handleOpenRow(row.uuid)}\n          key={row.uuid}\n          className={clsx(\n            classes.row,\n            openRow === row.uuid ? classes.rowClicked : null\n          )}\n          style={{color:colorText}}\n        >\n          <TableCell align=\"left\" style={{color:colorText}}>{row.inventory_check_code}</TableCell>\n          <TableCell align=\"left\" className={colorText?colorText:classes.fontName}  style={{color:colorText}}>\n            {/* {row.created_at} */}\n            {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n          </TableCell>\n          {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n          <TableCell align=\"right\"  >\n           <ThousandFormat style={{fontWeight:colorText?null:700,color:colorText?colorText:quantityDifference >0 ?\"green\" :\"red\"}}value={quantityDifference} />\n          </TableCell>\n          <TableCell align=\"right\" >\n          <VNDFormat style={{fontWeight:colorText?null:700,color:colorText?colorText:quantityDifference >0 ?\"green\" :\"red\"}} value={moneyDifference}/>\n          </TableCell>\n          {/* <TableCell align=\"center\">\n                    <FormatedStatusCheck status={row.tongSLthucte - row.tongtonkho}/>\n                </TableCell> */}\n          {/* <TableCell align=\"left\">\n            {row.created_user_type === \"owner\" ? \"Chủ cửa hàng\" : \"Nhân viên\"}\n          </TableCell> */}\n          <TableCell align=\"center\"  style={{color:colorText}}>{row.user_name}</TableCell>\n        </TableRow>\n\n        {/* DETAIL */}\n        <TableRow>\n          {/* colspan  => số cột trong collapse */}\n          <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n            <CheckHistoryDetail parentProps={props} />\n          </TableCell>\n        </TableRow>\n      </>\n    );\n}\n\nexport default CheckHistoryTableRow\n","import axiosClient from \"./axiosClient\";\n\nconst inventoryCheckApi = {\n  create: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/inventory-checks/`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/inventory-checks/`;\n    return axiosClient.get(url, {params: query});\n  },\n  search: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/inventory-checks/`;\n    return axiosClient.get(url, { params: query });\n  },\n};\nexport default inventoryCheckApi;\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\n\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nfunction InventoryCheckSummary(props) {\n  const { data, handleConfirm, userName, branchName,mode } = props\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  useEffect(() => {}, [data, userName, branchName]);\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {branchName}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n         {!mode?\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 10 }}>\n              Người thực hiện\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              {userName}\n            </Typography>\n          </Grid>:\n          props.children}\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\">Số mặt hàng lệch</Typography>\n          <Typography variant=\"body2\">\n           <Input.ThousandFormat value={\n              data.details.filter(\n                (item) =>\n                  Number(item.branch_quantity) !== Number(item.real_quantity)\n              ).length\n            } />\n          </Typography>\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng sản phẩm lệch</Typography>\n          <Typography variant=\"body2\">\n          <Input.ThousandFormat value={data.details\n              .map(\n                (item) =>\n                  Number(item.real_quantity) - Number(item.branch_quantity)\n              )\n              .reduce((a, b) => a + b, 0)} />\n          </Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng giá trị lệch</Typography>\n          <Typography variant=\"body2\"> <Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: !mode ?40:0 }}\n          onClick={handleConfirm}\n          // disabled={data.total_amount === 0}\n        >\n          Kiểm kho\n        </Button>\n      </Grid>\n    </Box>\n  );\n}\n\nexport default InventoryCheckSummary;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  Card,\n  ListItem,\n  DialogContent,\n  Box,\n  Grid,\n  TableBody,\n  Typography,\n  FormControl,\n  Select,\n  InputLabel,\n  Table,\n  MenuItem,\n  TableCell,\n  TableRow,\n  Collapse,\n  Chip,\n  TextField,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  Tooltip,\n  IconButton,\n  Switch,\n  FormControlLabel,\n  TableContainer\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SelectBatch from \"../SelectBatch/SelectBatch\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport update from \"immutability-helper\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport SearchBarCode from \"../SearchBar/SearchBarCode\";\nimport moment from \"moment\";\nimport { Input } from \"@mui/material\";\nimport { VNDFormat, ThousandFormat } from \"../TextField/NumberFormatCustom\";\nimport useStyles from \"../TableCommon/style/mainViewStyle\";\n\nimport * as HeadCells from \"../../assets/constant/tableHead\";\nimport SearchProduct from \"../SearchBar/SearchProduct\";\nimport TableHeader from \"../TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../TableCommon/TableWrapper/TableWrapper\";\nimport inventoryCheckApi from \"../../api/inventoryCheckApi\";\nimport SnackBarGeneral from \"../SnackBar/SnackBarGeneral\";\nimport InventoryCheckSummary from \"../CheckoutComponent/CheckoutSummary/InventoryCheckSumary/InventroyCheckSumary\";\nimport ModalWrapperWithClose from \"../Modal/ModalWrapperWithClose\";\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\nimport ButtonQuantity from \"../Button/ButtonQuantity\";\n\nimport { CheckMiniTableRow } from \"../../components/MiniTableRow/MiniTableRow\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport productApi from \"../../api/productApi\";\nimport { infoActions } from \"../../store/slice/infoSlice\";\nimport MenuProduct from \"../../components/MenuProduct/MenuProduct\";\nimport {\n  getComparator,\n  stableSort,\n} from \"../../components/TableCommon/util/sortUtil\";\n\nfunction InventoryCheckPopUp({\n  classes,\n  setReload,\n  handleCloseReturn,\n  success,\n  failure,\n}) {\n  const [open, setOpen] = useState(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const theme = useTheme();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n  const dispatch = useDispatch();\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const searchBarState = info.searchBarState;\n\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const user_name = info.user.name;\n  const branch_name = info.branch.name;\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [inventoryCheck, setInventoryCheck] = React.useState({\n    total_amount: 0,\n    details: [],\n    note: \"\",\n  });\n\n  const [products, setProducts] = useState([]);\n  const [reloadProduct, setReloadProduct] = useState(false);\n\n  const loadProducts = async () => {\n    try {\n      const response = await productApi.searchBranchProduct(\n        store_uuid,\n        branch_uuid,\n        \"\"\n      );\n      setProducts(response.data)\n      \n     \n    } catch (err) {\n      console.log(err)\n    }\n    // dispatch(infoActions.setProducts(response.data));\n  };\n\n  useEffect(()=>{\n    if (window.localStorage.getItem(\"mode\")) {\n      const cartMode = JSON.parse(window.localStorage.getItem(\"mode\"));\n      if (cartMode.store_uuid === store_uuid ) {\n        setTypeShow(cartMode.typeShow)\n        setMode(cartMode.mode);\n        setShowImage(cartMode.showImage);\n       \n      }\n    }\n\n  },[])\n  useEffect(() => {\n    if (store_uuid && branch_uuid) {\n      loadProducts();\n    }\n    //  loadingActions.finishLoad();\n    const intervalID = setInterval(() => {\n      if (store_uuid && branch_uuid) {\n        loadProducts();\n      }\n    }, 60000 * 5);\n\n    return () => {\n      clearInterval(intervalID)\n    }\n  }, [store_uuid, branch_uuid]);\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Kiểm kho thất bại\",\n  });\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    inventoryCheck.details.forEach((item) => {\n      total +=\n        (Number(item.real_quantity) - Number(item.branch_quantity)) *\n        Number(item.standard_price);\n    });\n\n    const newInventoryCheck = update(inventoryCheck, {\n      total_amount: { $set: total },\n    });\n    setInventoryCheck(newInventoryCheck);\n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = inventoryCheck.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newInventoryCheck = update(inventoryCheck, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setInventoryCheck(newInventoryCheck);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemRealQuantityChange = (itemId, newQuantity) => {\n    \n    const itemIndex = inventoryCheck.details.findIndex(\n      (item) => item.id === itemId\n    );\n    \n    if(isNaN(newQuantity)){newQuantity = ''}\n    if (newQuantity === inventoryCheck.details[itemIndex].real_quantity && !inventoryCheck.details[itemIndex].has_batches) {\n      handleDeleteItem(itemId);\n      return;\n    }\n    if (newQuantity < 0){return } \n\n\n    const newInventoryCheck = update(inventoryCheck, {\n      details: {\n        [itemIndex]: {\n          real_quantity: { $set: newQuantity },\n        },\n      },\n    });\n    console.log(newInventoryCheck)\n    setInventoryCheck(newInventoryCheck);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleConfirm = () => {\n    var emptyCart = inventoryCheck.details.length === 0;\n    var notExistNullQuantity =   inventoryCheck.details.every(function (element, index) {\n      if (element.real_quantity === '') return false;\n        else return true;\n    })\n    if (emptyCart) {\n      setOpenSnack(true);\n      setSnackStatus({\n        style: \"error\",\n        message: \"Kiểm kho trống\",\n      });\n    }else if(!notExistNullQuantity){\n      setOpenSnack(true);\n      setSnackStatus({\n        style: \"error\",\n        message: \"Có sản phẩm chưa nhập số lượng\",\n      });\n    } else {\n      setOpen(true);\n    }\n  };\n\n  const handleConfirmBalance = async () => {\n    const d = moment.now() / 1000;\n\n    const export_date = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    const body = {\n      total_amount: inventoryCheck.total_amount,\n      details: inventoryCheck.details.map((detail) => ({\n        product_id: detail.id,\n        quantity: Number(detail.real_quantity) - Number(detail.branch_quantity),\n        unit_price: detail.standard_price,\n        uuid: detail.uuid,\n        branch_inventory: detail.branch_quantity,\n        batches: detail.batches.length ? detail.batches : \"\"\n      })),\n      note: inventoryCheck.note,\n    };\n\n    try {\n      const res = await inventoryCheckApi.create(store_uuid, branch_uuid, body);\n      handleCloseReturn();\n      success(res.data?.inventory_check_code);\n    } catch (err) {\n      failure();\n      console.log(err);\n    }\n    loadProducts();\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const handleProductSelect = (product) => {\n    if (inventoryCheck.details.find((d) => d.id === product.id)) {\n      return;\n    }\n    const newDetails = [\n      ...inventoryCheck.details,\n      {\n        ...product,\n        // real_quantity: 0,\n        real_quantity: Number(product.branch_quantity),\n      },\n    ];\n    setInventoryCheck({ ...inventoryCheck, details: newDetails });\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\n  const handleSwitchChange = () => {\n    setBarcodeChecked(!barcodeChecked);\n  };\n  \n  const handleChangeDetailBatches = (itemId, batches) => {\n    const itemIndex = inventoryCheck.details.findIndex(\n      (item) => item.id === itemId\n    );\n    \n    const newInventoryCheck = {...inventoryCheck};\n    newInventoryCheck.details[itemIndex].batches = batches;\n  }\n\n//mode\n  const [mode, setMode] = React.useState(false);\n  const [showImage, setShowImage] = React.useState(true);\n  const [typeShow, setTypeShow] = useState('list')\n  const handleChangeMode = (event) => {\n    setMode(event.target.checked);\n  };\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"mode\",\n      JSON.stringify({store_uuid: store_uuid,  mode: mode, typeShow: typeShow , showImage:showImage})\n    );\n  }, [mode,typeShow,showImage]);\n\n  return (\n    <>\n      <Grid\n        container\n        direction=\"row\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n      >\n        <SnackBarGeneral handleClose={handleCloseSnackBar} open={openSnack} status={snackStatus}  />\n\n        <Grid item>\n          <ListItem\n            style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}\n          >\n            <Grid container alignItems=\"center\">\n              <Grid item>\n                <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n                  Kiểm kho\n                </Typography>\n              </Grid>\n              {!mode? \n                  <>\n                  <Grid item>\n                    <FormControlLabel   control={ <Switch  size=\"small\"  checked={searchBarState === 'barcode'}  onChange={(e, checked) => { dispatch(infoActions.setSearchBarState(checked ? 'barcode' : 'search'))  }} color=\"primary\"  />  } label={\"Dùng mã vạch\"}  />\n\n                  </Grid>\n                  <Grid item>\n                    {false ? (\n                      <SearchBarCode products={products} handleSearchBarSelect={handleProductSelect} />\n                    ) : (\n                      <SearchProduct products={products} handleSearchBarSelect={handleProductSelect} />\n                    )}\n                  </Grid>\n                  </>:\n                 <SearchProduct products={products} setProducts={setProducts} isFilter={true} />\n              }\n            </Grid>\n          </ListItem>\n        </Grid>\n\n        <Grid item>\n          <IconButton\n            aria-label=\"close\"\n            className={classes.closeButton}\n            onClick={handleCloseReturn}\n          >\n            <CloseIcon />\n          </IconButton>\n        </Grid>\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          spacing={2}\n        >\n          <Grid item xs={12} sm={typeShow==='list' && mode?7:8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: \"72vh\" }}>\n                {/* JSON data attribute phải giongso table head id */}\n\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n                {/* {!xsScreen ? ( */}\n                  {!mode ? (\n                  <TableWrapper isCart>\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.InventoryCheckHeadCells}\n                    />\n                    <TableBody>\n                      {stableSort( inventoryCheck.details, getComparator(order, orderBy) ).map((detail, index) => (\n                        <InventoryCheckTableRow\n                          handleItemRealQuantityChange={\n                            handleItemRealQuantityChange\n                          }\n                          detail={detail}\n                          handleDeleteItem={handleDeleteItem}\n                          handleChangeDetailBatches={handleChangeDetailBatches}\n                          imageType={typeShow==='image' && mode}\n                          index={inventoryCheck.details.length - index}\n\n                        />\n                      ))}\n                    </TableBody>\n                  </TableWrapper>\n                  ) : (\n                    //  Mode nha hang\n                    <MenuProduct \n                      products={products} \n                      handleSearchBarSelect={handleProductSelect}\n                      // isCart={true}\n                      selectedItem={inventoryCheck.details}\n                      typeShow={typeShow}\n                      setTypeShow={setTypeShow}\n                      setProducts={setProducts}\n                      isCheck={true}\n                      showImage={showImage}\n                      setShowImage={setShowImage}\n                    />\n                  )}\n                {/* ) : (\n                  // inventoryCheck.details.map((detail, index) => (\n                  [\"helo\", \"xin chao\"].map((detail, index) => (\n                    <CheckMiniTableRow\n                      handleItemRealQuantityChange={\n                        handleItemRealQuantityChange\n                      }\n                      detail={detail}\n                      handleDeleteItem={handleDeleteItem}\n                    />\n                  )) */}\n                {/* )} */}\n              </Box>\n              <FormControlLabel  control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\"}} />\n\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} sm={typeShow==='list' && mode?5:4} className={classes.card}>\n            <Card className={classes.card}>\n              <InventoryCheckSummary\n                handleConfirm={handleConfirm}\n                data={inventoryCheck}\n                userName={user_name}\n                branchName={branch_name}\n                mode={mode}\n              >\n                 {!mode ? null:\n                  <TableContainer  style={{ maxHeight: \"39vh\", height:\"39vh\"}} >\n                   <Table  size=\"small\">\n                    <TableBody>\n                      {stableSort( inventoryCheck.details, getComparator(order, orderBy) )\n                        .map((detail, index) => {\n                        return (\n                          <InventoryCheckTableRow\n                            key={`${detail.uuid}_index`}\n                            handleItemRealQuantityChange={\n                              handleItemRealQuantityChange\n                            }\n                            detail={detail}\n                            handleDeleteItem={handleDeleteItem}\n                            handleChangeDetailBatches={handleChangeDetailBatches}\n                            \n                            mini={true}\n                            imageType={typeShow==='image' && mode}\n                            index={inventoryCheck.details.length - index}\n                            \n\n                          />\n                        );\n                      })}\n                       </TableBody>\n                    </Table>\n                  </TableContainer>\n                  }\n              </InventoryCheckSummary>\n            </Card>\n          </Grid>\n\n          <ModalWrapperWithClose\n            title=\"Cân bằng kho\"\n            open={open}\n            handleClose={handleClose}\n          >\n            <Typography style={{ marginTop: 10, marginBottom: 10 }}>\n              Cân bằng kho sẽ thay đổi tồn kho hiện tại của hàng hóa được lưu\n              trong hệ thống.\n            </Typography>\n            <Typography style={{ fontWeight: 500 }}>\n              Bạn có chắc chắn muốn Cân bằng kho?\n            </Typography>\n\n            <Grid\n              item\n              xs={12}\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                justifyContent: \"flex-end\",\n                paddingTop: 20,\n              }}\n            >\n              <Button\n                onClick={handleClose}\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginRight: 20 }}\n                color=\"secondary\"\n              >\n                {\" \"}\n                Huỷ{\" \"}\n              </Button>\n              <Button\n                onClick={() => handleConfirmBalance()}\n                variant=\"contained\"\n                size=\"small\"\n                color=\"primary\"\n              >\n                Xác nhận{\" \"}\n              </Button>\n            </Grid>\n\n            {/* <Button\n              onClick={() => handleClose()}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n            >\n              Huỷ\n            </Button>\n            <Button\n              style={{ marginTop: 40 }}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"primary\"\n              onClick={() => {\n                handleConfirmBalance();\n\n                // handleCloseReturn();\n              }}\n            >\n              Xác nhận\n            </Button> */}\n          </ModalWrapperWithClose>\n        </Grid>\n      </DialogContent>\n    </>\n  );\n}\n\nexport default InventoryCheckPopUp;\n\nfunction InventoryCheckTableRow({\n  detail,\n  handleItemRealQuantityChange,\n  handleDeleteItem,\n  handleChangeDetailBatches,\n  mini,\n  imageType, index\n}) {\n  const classes = useStyles();\n  const [show, setShow] = React.useState(\"none\");\n  \n\n  const [batches, setBatches] = useState([]);\n  const onChangeRealQuantity = (newQuantity) => {\n    handleItemRealQuantityChange(detail.id, newQuantity);\n  };\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\n\n\n  useEffect(() => {\n    if (detail.has_batches) {\n      setBatches(detail.batches.map(batch => ({...batch, is_checked: false, checked_quantity: batch.quantity })));\n    }\n  }, [])\n  const handleSelectBatch = (index) => {\n    const newBatches = [...batches];\n    newBatches[index].is_checked = true;\n    setBatches(newBatches)\n  }\n  const handleChangeBatchQuantity = (e, checkedBatch) => {\n    const value = Number(e.target.value)\n    if (value < 0) {\n      return;\n    }\n    const newBatches = [...batches];\n    const indexOfBatch = newBatches.findIndex(batch => batch.batch_code === checkedBatch.batch_code)\n    if (indexOfBatch >= 0 ) {\n      newBatches[indexOfBatch].checked_quantity = value\n    }\n    setBatches(newBatches)\n  }\n  const handleDeleteBatch = (checkedBatch ) => {\n    const newBatches = [...batches];\n    const indexOfBatch = newBatches.findIndex(batch => batch.batch_code === checkedBatch.batch_code)\n    if (indexOfBatch >= 0 ) {\n      newBatches[indexOfBatch].is_checked = false;\n      newBatches[indexOfBatch].checked_quantity = newBatches[indexOfBatch].quantity;\n      setBatches(newBatches)\n    }\n  }\n\n  useEffect(() => {\n    let total = 0;\n    batches.forEach(batch => total += Number(batch.checked_quantity));\n    onChangeRealQuantity(total);\n    handleChangeDetailBatches(detail.id, batches)\n  }, [batches])\n\n  return (\n    <>\n      <TableRow hover key={detail.id}>\n        <TableCell align=\"left\" style={{ width: 5 }} padding={'none'} >\n          {index}.\n        </TableCell>\n        {!mini?\n        <TableCell align=\"left\" style={{ width: 5 }} >\n          {detail.product_code}\n        </TableCell>:null}\n        {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n        <TableCell align=\"left\" >{detail.name}</TableCell>\n        <TableCell align=\"right\" padding={'none'}>\n          {\" \"}\n          <ThousandFormat value={detail.branch_quantity} />\n          {detail.has_batches ? (\n            <>\n              <div>\n                {batches\n                  .filter((batch) => batch.is_checked)\n                  .map((checked_batch) => (\n                    <div>\n                      <Tooltip\n                        title={`${\n                          checked_batch.position ? checked_batch.position : \"\"\n                        }-${\n                          checked_batch.expiry_date\n                            ? checked_batch.expiry_date\n                            : \"\"\n                        }`}\n                      >\n                        <Chip\n                          label={`${checked_batch.batch_code}-${checked_batch.quantity}`}\n                        ></Chip>\n                      </Tooltip>\n                    </div>\n                  ))}\n              </div>\n            </>\n          ) : null }\n        </TableCell>\n\n        <TableCell align=\"left\" padding=\"none\">\n          {detail.has_batches ? (\n            <>\n              <div style={{textAlign:'right', maxWidth:80}}>{detail.real_quantity}</div>\n              <div>\n                {batches\n                  .filter((batch) => batch.is_checked)\n                  .map((checkedBatch) => (\n                    <div>\n                      <Chip\n                        label={\n                          <TextField\n                            type=\"number\"\n                            style={{ width: 100 }}\n                            value={checkedBatch.checked_quantity}\n                            onChange={(e) =>handleChangeBatchQuantity(e, checkedBatch)}\n                          />\n                        }\n                        variant=\"outlined\"\n                        deleteIcon={<DeleteOutline/>}\n                        onDelete={(e) => handleDeleteBatch(checkedBatch)}\n                      ></Chip>\n                    </div>\n                  ))}\n              </div>\n            </>\n          ) : (\n            <ButtonQuantity\n              quantity={detail.real_quantity}\n              setQuantity={onChangeRealQuantity}\n              show={show}\n              setShow={setShow}\n              limit={detail.quantity}\n              isReturn={false}\n              // miniCart={mini}\n            />\n          )}\n        </TableCell>\n\n        <TableCell align=\"center\" >\n          <ThousandFormat\n            value={\n              Number(detail.real_quantity) - Number(detail.branch_quantity)\n            }\n            style={{fontWeight:mini?600:null}}\n          />\n        </TableCell>\n\n       {!mini?\n        <TableCell align=\"center\" className={classes.boldText}>\n          <VNDFormat\n            value={\n              (Number(detail.real_quantity) - Number(detail.branch_quantity)) *\n              detail.standard_price\n            }\n          />\n        </TableCell>:null}\n        <TableCell align=\"right\" className={classes.boldText}>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            style={{ marginLeft: -25 }}\n          >\n            <DeleteForeverOutlinedIcon\n              onClick={() => handleDeleteItem(detail.id)}\n            />\n          </IconButton>\n        </TableCell>\n      </TableRow>\n      {detail.has_batches ? (\n        <TableRow>\n          <TableCell colSpan={1}></TableCell>\n          <TableCell colSpan={10}>\n            <FormControl variant=\"standard\" sx={{ m: 1, minWidth: 120 }}>\n              <InputLabel id=\"demo-simple-select-standard-label\">\n                Chọn lô\n              </InputLabel>\n              <Select\n                onChange={(e) => handleSelectBatch(e.target.value)}\n                style={{ width: 200 }}\n              >\n                {batches.map((batch, index) => (\n                  <MenuItem value={index}>{`${batch.batch_code}(${\n                    batch.expiry_date ? batch.expiry_date.substring(0, 10) : \"\"\n                  }${batch.position ? \"-\" + batch.position : \"\"}): ${\n                    batch.quantity\n                  }`}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </TableCell>\n        </TableRow>\n      ) : null}\n    </>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Dialog,\n  DialogContent,\n  Box\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\nimport moment from \"moment\";\n\n//import api\n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\nimport CheckHistoryFilter from \"./CheckHistoryTool/CheckHistoryFilter\";\nimport CheckHistoryTableRow from \"./CheckHistoryTableRow/CheckHistoryTableRow\";\n//chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\n\nimport JSONdata from \"../../../assets/JsonData/check.json\";\nimport InventoryCheckPopUp from \"../../../components/PopupCheck/InventoryCheckPopUp\";\nimport inventoryCheckApi from \"../../../api/inventoryCheckApi\";\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\n\nconst CheckHistory = () => {\n  // fetch data here\n  const checkHistoryList = JSONdata;\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  \n  const [inventoryChecks, setInventoryChecks] = useState([]);\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minTotalAmount:'',\n    maxTotalAmount: '',\n    orderBy: 'inventory_checks.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n  const [query, setQuery] = useState(initialQuery)\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0)\n\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [branch_uuid, store_uuid, reload, query]);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await inventoryCheckApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n\n        setInventoryChecks(response.data);\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    loadData();\n  }, [pagingState.page, pagingState.limit, branch_uuid, store_uuid, reload, query]);\n  const getDataExport = async () => {\n    try {\n      const response = await inventoryCheckApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const dispatch = useDispatch();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [addOpen, setAddOpen] = useState(false);\n\n  const openInvetoryCheck = () => {\n    setAddOpen(true);\n  };\n\n  const closeInvetoryCheck = () => {\n    setAddOpen(false);\n    setIsClosePopUp(false);\n  };\n\n  //// 2. Table\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // header sort\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"id\");\n\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  //3. ToolBar\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  //3.1. search\n\n  //3.2. filter\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n\n  //3.3. loc cot\n\n  const [closePopUp, setIsClosePopUp] = useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Kiểm kho thất bại\",\n  });\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const tableRef = React.createRef();\n\n\n  return (\n    <Card className={classes.root}>\n      <SnackBarGeneral\n        handleClose={handleCloseSnackBar}\n        open={openSnack}\n        status={snackStatus}\n      />\n      {closePopUp && (\n        <Dialog\n          fullWidth={true}\n          maxWidth=\"lg\"\n          open={addOpen}\n          onClose={closeInvetoryCheck}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <InventoryCheckPopUp\n            handleCloseReturn={closeInvetoryCheck}\n            classes={classes}\n            setReload={() => {\n              setReload(!reload);\n            }}\n            success={(code) => {\n              setSnackStatus({\n                style: \"success\",\n                message: `Kiểm kho thành công ${code}`,\n              });\n              setOpenSnack(true);\n              setReload(!reload);\n            }}\n            failure={() => {\n              setSnackStatus({\n                style: \"success\",\n                message: `Kiểm kho thất bại`,\n              });\n              setOpenSnack(true);\n            }}\n          />\n        </Dialog>\n      )}\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Đơn kiểm kho\n        </Typography>\n\n        <Grid className={classes.btngroup1}>\n          <ButtonBase\n            sx={{ borderRadius: \"16px\" }}\n            onClick={() => {\n              openInvetoryCheck();\n            }}\n          >\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Kiểm kho\">\n                <AddIcon\n                  stroke={1.5}\n                  size=\"1.3rem\"\n                  onClick={() => setIsClosePopUp(true)}\n                />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={inventoryChecks}\n        tableType={TableType.CHECK_LIST}\n        textSearch={\"#, Người kiểm,...\"} /*handlePrint={handlePrint}*/\n        handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n        columnsToKeep = {[\n          {dbName:\"inventory_check_code\",displayName:\"Mã đợt kiểm\"},\n          {dbName:\"user_name\",displayName:\"Người kiểm\"},\n          {dbName:\"created_at\",displayName:\"Ngày kiểm\"},\n          {dbName:\"total_amount\",displayName:\"Tổng giá trị lệch\"},\n          {dbName:\"branch_name\",displayName:\"Tên chi nhánh\"},\n          {dbName:\"created_user_type\",displayName:\"Tài khoản thực hiện\"},\n          {dbName:\"created_user_name\",displayName:\"Tên người thực hiện\"},\n        ]}\n\n\n        orderByOptions={[\n          {value: 'inventory_checks.created_at', label: 'Ngày kiểm'},\n          {value: 'inventory_checks.total_amount', label: 'Tổng tiền lệch'},\n        ]}\n        getDataExport={getDataExport}\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n        handleRemoveFilter={handleRemoveFilter}\n      />\n\n      <CheckHistoryFilter\n        query={query}\n        setQuery={setQuery}\n        openFilter={openFilter}\n        setInventoryChecks={setInventoryChecks}\n        handleToggleFilter={handleToggleFilter}\n      />\n\n      {/* 3. TABLE */}\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n      list={inventoryChecks}\n      tableRef={tableRef}\n      >\n        <TableHeader\n          classes={classes}\n          order={order}\n          orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          headerData={HeadCells.CheckHistoryHeadCells}\n        />\n        <TableBody>\n          {inventoryChecks.map((row, index) => {\n            return (\n              <CheckHistoryTableRow\n                key={row.uuid}\n                row={row}\n                openRow={openRow}\n                handleOpenRow={handleOpenRow}\n              />\n            );\n          })}\n        </TableBody>\n      </TableWrapper>:\n      <>\n       <Box style={{minHeight:'50vh'}}>\n      {inventoryChecks.map((row, index) => {\n        return (\n          <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \n          // onReload={onReload} \n          totalCost={row.details\n            ?.map((detail) => Number(detail.quantity) * Number(detail.unit_price))\n            .reduce((total, num) => total + num, 0)}  \n          id={row.inventory_check_code} partnerName={row.user_name} date={row.created_at} \n          typeBill={\"Đơn kiểm kho\"} />\n\n        );\n      })}\n      </Box>\n      <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}       list={inventoryChecks}/>\n\n      </>\n      }\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint\n            inventoryChecks={inventoryChecks}\n            classes={classes}\n            query={query}\n          />\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default CheckHistory;\n\nconst ComponentToPrint = ({ inventoryChecks, classes,query }) => {\n  // .created_at.split(\" \")[0].split('T')[0].split('-').reverse().join('/')\n  const firstDate = inventoryChecks.slice(-1)[0] ?inventoryChecks.slice(-1)[0].created_at.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n    <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n    <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n      <Typography style={{  fontSize: 18, fontWeight: 600}} >\n        {/* Thống kê đơn kiểm kho */}\n        THỐNG KÊ ĐƠN KIỂM KHO\n      </Typography>\n      <Typography  >\n        {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n      </Typography>\n      {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền lệch từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n      {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null} \n\n    </Box>\n    <div>\n    <TableWrapper  isReport={true} >\n      <TableHeader\n      color=\"#000\"\n        classes={classes}\n        headerData={HeadCells.CheckHistoryHeadCells.filter(item => item.id !== \"debt\")}\n      />\n      <TableBody>\n        {inventoryChecks.map((row, index) => {\n          return  <CheckHistoryTableRow colorText={\"#000\"} key={row.uuid} row={row} />\n          })}\n      </TableBody>\n      </TableWrapper>\n    </div>\n  </div>\n  );\n};\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst SupplierFilter = (props) => {\n    const {handleToggleFilter,openFilter} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    return (\n    <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n         {/* status?? */}\n         \n        {/*1. Tổng tiền from -to */}\n        <Typography variant=\"h5\"className={classes.text} >Tổng tiền mua:</Typography>\n        <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n          //  value={productInfo.importedPrice}\n          // onChange={(e) =>\n          //   setProductInfo({\n          //     ...productInfo,\n          //     importedPrice: e.target.value,\n          //   })\n          // }\n        />\n        <VNDInput required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        //  value={productInfo.importedPrice}\n          // onChange={(e) =>\n          //   setProductInfo({\n          //     ...productInfo,\n          //     importedPrice: e.target.value,\n          //   })\n          // }\n        />\n\n        {/* 2.Trạng thái */}\n        <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\n      </Select>\n      </FormControl>\n\n        {/*3. Ngày tao from -to  */}\n        <Typography variant=\"h5\"className={classes.text} >Ngày tạo:</Typography>\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n        \n        {/* 4.Ngung hoat dong ??  */}\n         {/* BUTTON */}\n      <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\n           Lọc\n      </Button>\n\n    </Drawer>\n    )\n}\n\nexport default SupplierFilter\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\nimport { grey} from '@material-ui/core/colors'\n\nimport {TableCell,TableRow,Box,Avatar,ListItem,Typography, Chip} from '@material-ui/core';\n\nimport {FormatedStatus} from '../../../../components/TableCommon/util/format'\nimport SupplierDetail from './SupplierDetail/SupplierDetail'\nimport { VNDFormat, ThousandFormat } from '../../../../components/TextField/NumberFormatCustom';\n\nconst SupplierTableRow = (props) => {\n    const { row, handleOpenRow,openRow,hidenCollumn,colorText} = props;\n    const classes = useRowStyles();\n\n    return (\n        <>\n        {/* ROW */}\n            <TableRow\n            onClick={() => handleOpenRow(row.uuid)}   \n            key={row.uuid}\n            className={ clsx(classes.row,(openRow === row.uuid) ? classes.rowClicked : null)}\n            >\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.supplier_code}</TableCell>\n                <TableCell align=\"left\" className={colorText?null:classes.fontName} style={{minWidth:150,color:colorText}}>{row.name}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.phone}</TableCell>\n                {/* <TableCell align=\"left\">{row.email}</TableCell> */}\n                {/* <TableCell align=\"left\" style={{minWidth:100}}>{row.address}</TableCell> */}\n                {/* <TableCell align=\"right\" >{row.total_cost}</TableCell> */}\n\n                <TableCell align=\"right\" className={colorText?null:classes.fontName}  style={{color:colorText}}><VNDFormat value={row.total_payment} /></TableCell> \n                <TableCell align=\"right\"  style={{color:colorText}}>\n                    <VNDFormat value={row.debt} />  \n                </TableCell>\n                {hidenCollumn?.includes(\"debtStatus\") ?null:<TableCell align=\"center\"  style={{color:colorText}}>\n                    <FormatedStatus debt={row.debt}/>\n                </TableCell>}\n            </TableRow>\n\n        {/* DETAIL */}\n            <TableRow>\n              {/* colspan  => số cột trong collapse */}\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \n                    <SupplierDetail parentProps={props}/>       \n              </TableCell>\n       \n            </TableRow>\n        </>\n    )\n}\n\nexport default SupplierTableRow\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Switch,\n  IconButton,\n  Box,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\n//import api\nimport supplierApi from \"../../../api/supplierApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\n//riêng\nimport AddSupplier from \"./AddSupplier/AddSupplier\";\nimport SupplierFilter from \"./SupplierTool/SupplierFilter\";\n// import InventoryTableRow from './InventoryTableRow/InventoryTableRow'\nimport SupplierTableRow from \"./SupplierTableRow/SupplierTableRow\";\n//chung\nimport SnackBar from \"../../../components/SnackBar/SnackBar\";\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {PartnerMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from '../../../store/slice/statusSlice';\nimport Fuse from 'fuse.js';\n\nimport moment from \"moment\";\n\n\nconst Supplier = () => {\n  const [supplerList, setSupplierList] = useState([]);\n  const [reload, setReload] = useState(false);\n\n  const onReload = () => setReload(!reload);\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const filterSupplier = () => {\n    if (query.searchKey) {\n      const result = supplerList.filter(sup => `${sup.supplier_code} - ${sup.name} - ${sup.phone} - ${sup.email}`.includes(query.searchKey))\n      return showOnlyDebt ? result.filter(sup => sup.debt > 0) : result;\n    } \n    \n    if (showOnlyDebt) {\n      return supplerList.filter(sup => sup.debt > 0);\n    }\n    return supplerList\n  }\n\n  useEffect(() => {\n    if (supplerList.length) {\n      window.localStorage.setItem(\n        \"suppliers\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          data: supplerList })\n      );\n    }\n  }, [supplerList]);\n\n  useEffect(() => {\n    if (window.localStorage.getItem(\"suppliers\")) {\n      const suppliers = JSON.parse(window.localStorage.getItem(\"suppliers\"));\n      if (suppliers.store_uuid === store_uuid ) {\n        setSupplierList(suppliers.data);\n      }\n    }\n  }, [store_uuid, reload])\n\n  //// 1. Add pop up + noti\n  //add\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  // const handleClose = (status) => {\n  //   onReload();\n  //   setOpen(false);\n  // };\n\n  //status add\n  const [addStatus, setAddStatus] = React.useState(null);\n\n  //noti\n  const [openBar, setOpenBar] = React.useState(false);\n  const handleCloseBar = () => {\n    setOpenBar(false);\n  };\n\n  //// 2. Table\n\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // header sort\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"id\");\n\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  //3. ToolBar\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  //3.1. search\n\n  //3.2. filter\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n  const [showOnlyDebt, setShowOnlyDebt] = React.useState(false);\n\n\n  //3.3. loc cot\n  const initialQuery = {\n    orderBy: 'suppliers.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n  const handleRemoveFilter = (initialQuery) => {\n    setQuery(initialQuery)\n  }\n  const [query, setQuery] = useState(initialQuery)\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n\n  const [totalRows, setTotalRows] = useState(0)\n  useEffect(() => {\n    setPagingState({...pagingState, page: 0});\n    setTotalRows(filterSupplier().length);\n  }, [reload, store_uuid, query])\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await supplierApi.getSuppliers(store_uuid, {\n          page: pagingState.page,\n          limit: pagingState.limit,\n          ...query\n        });\n        \n        setSupplierList(response.data);\n        // setPagingState({...pagingState, total_rows: response.total_rows})\n        setTotalRows( response.total_rows)\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    \n    if (store_uuid) {\n      loadData();\n    }\n    \n  }, [reload, store_uuid]);\n  const getDataExport = async () => {\n    try {\n      const response = await supplierApi.getSuppliers(\n        store_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n  const tableRef = React.createRef();\n\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Nhà cung cấp\n        </Typography>\n\n        <Grid className={classes.btngroup1}>\n          <ButtonBase sx={{ borderRadius: \"16px\" }} onClick={handleClickOpen}>\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Thêm nhà cung cấp\">\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      {/* Popup add */}\n    {/* <AddSupplier open={open} handleClose={(handleClose)} onReload={onReload} /> */}\n     {open && <AddSupplier open={open} handleClose={()=> setOpen(false)} onReload={onReload} />}\n\n      {/* Noti */}\n      {/* <SnackBar\n        openBar={openBar}\n        handleCloseBar={handleCloseBar}\n        addStatus={addStatus}\n      /> */}\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={supplerList}\n        tableType={TableType.SUPPLIER}\n        textSearch={\"#, Tên, sđt, email, ...  \"}\n        handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n        columnsToKeep = {[\n          {dbName:\"name\",displayName:\"Tên nhà cung cấp\"},\n          {dbName:\"phone\",displayName:\"Số điện thoại\"},\n          {dbName:\"email\",displayName:\"Email\"},\n          {dbName:\"address\",displayName:\"Địa chỉ\"},\n          {dbName:\"company\",displayName:\"Công ty\"},\n          {dbName:\"payment_info\",displayName:\"Thông tin thanh toán\"},\n        ]}\n        isOnlySearch={true}\n        getDataExport={getDataExport}\n        handleRemoveFilter={handleRemoveFilter}\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n\n        extra={<FormControlLabel\n          style={{marginLeft:10}} \n          control={\n            <Switch\n              size=\"small\"\n              checked={showOnlyDebt}\n              onChange={(e) => { setPagingState({ ...pagingState, page: 0 }); setShowOnlyDebt(e.target.checked)}}\n              color=\"primary\"\n            />\n          }\n          label=\"Chỉ hiện NCC còn công nợ\"\n        />}\n      />\n      <SupplierFilter\n        openFilter={openFilter}\n        handleToggleFilter={handleToggleFilter}\n      />\n\n      {/* 3. TABLE */}\n\n      {!xsScreen ?<TableWrapper\n\n        pagingState={{...pagingState, total_rows: totalRows}}\n\n\n        setPagingState={setPagingState}\n        list={supplerList}\n        tableRef={tableRef}\n      >\n        <TableHeader\n          classes={classes}\n          order={order}\n          orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          headerData={HeadCells.SupplierHeadCells}\n        />\n        <TableBody>\n          {filterSupplier().map((row, index) => {\n            return (\n              <SupplierTableRow\n                setReload={onReload}\n                key={row.uuid}\n                row={row}\n                openRow={openRow}\n                handleOpenRow={handleOpenRow}\n              />\n            );\n          })}\n        </TableBody>\n      </TableWrapper>:\n      <>\n        <Box style={{minHeight:'60vh'}}>\n      {filterSupplier().map((row, index) => {\n        return (\n          <PartnerMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \n            id={row.supplier_code} name={row.name} phone={row.phone} \n            typePartner={\"Nhà cung cấp\"}  />\n        );\n      })}\n      </Box>\n      <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}  list={supplerList}/>\n\n      </>}\n\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint supplerList={supplerList} classes={classes} />\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default Supplier;\n\nconst ComponentToPrint = ({ supplerList, classes ,query}) => {\n  return (\n    // <div>\n    //   <Typography\n    //     style={{\n    //       flexGrow: 1,\n    //       textAlign: \"center\",\n    //       fontSize: 20,\n    //       fontWeight: 500,\n    //       margin: 30,\n    //       color: \"#000\",\n    //     }}\n    //   >\n    //     Danh sách nhà cung cấp\n    //   </Typography>\n    //   <div>\n    //     <TableHeader\n    //       classes={classes}\n    //       headerData={HeadCells.SupplierHeadCells}\n    //     />\n    //     <TableBody>\n    //       {supplerList.map((row, index) => {\n    //         return <SupplierTableRow key={row.uuid} row={row} />;\n    //       })}\n    //     </TableBody>\n    //   </div>\n    // </div>\n    <div style={{padding:10}}>\n    <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n    <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n      <Typography style={{  fontSize: 18, fontWeight: 600}} >\n        {/* Thống kê nhà cung cấp */}\n        THỐNG KÊ NHÀ CUNG CẤP\n      </Typography>\n      {/* {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n      {query.status? <Typography  > {`Tình trạng: ${query.status}`} </Typography>:null}\n      {/* {query.categoryId? <Typography  > {`Danh mục: ${query.categoryId === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null} */}\n      {/* {query.minStandardPrice || query.maxStandardPrice ? <Typography  > {`Tổng tiền đơn từ: ${query.minStandardPrice?query.minStandardPrice:0}đ đến ${query.maxStandardPrice?query.maxStandardPrice:0}đ`} </Typography>:null}\n      {query.minListPrice || query.maxListPrice ? <Typography  > {`Đơn giảm giá từ: ${query.minListPrice?query.maxListPrice:0}đ đến ${query.maxDiscount?query.maxListPrice:0}đ`} </Typography>:null}\n      {query.minInventory || query.maxInventory ? <Typography  > {`Đơn giảm giá từ: ${query.minInventory?query.maxInventory:0}đ đến ${query.maxDiscount?query.maxInventory:0}đ`} </Typography>:null} */} \n\n    </Box>\n    <div>\n    <TableWrapper  isReport={true} >\n      <TableHeader\n      color=\"#000\"\n        classes={classes}\n        headerData={HeadCells.SupplierHeadCells.filter(item => item.id !== \"debtStatus\")}\n      />\n      <TableBody>\n        {supplerList.map((row, index) => {\n          return  <SupplierTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debtStatus\", \"image\"]}colorText={\"#000\"}  />\n          })}\n      </TableBody>\n      </TableWrapper>\n    </div>\n  </div>\n  );\n};\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\n\nimport {TableCell,TableRow,Chip} from '@material-ui/core';\n\nimport {FormatedStatus} from '../../../../components/TableCommon/util/format'\nimport InventoryOrderDetail from './InventoryOrderDetail/InventoryOrderDetail'\nimport {VNDFormat} from '../../../../components/TextField/NumberFormatCustom'\n\nconst TransferInventoryTableRow = (props) => {\n    const { row, handleOpenRow,openRow,hidenCollumn,colorText} = props;\n    const classes = useRowStyles();\n\n    return (\n        <>\n        {/* ROW */}\n            <TableRow\n            onClick={() => handleOpenRow(row.code)}   \n            key={row.code}\n            className={ clsx(classes.row,(openRow === row.code) ? classes.rowClicked : null)}\n            style={{color:colorText}}\n            >\n                <TableCell align=\"left\" style={{color:colorText}}>{row.code}</TableCell>\n                {/* <TableCell align=\"left\" >{row.creation_date}</TableCell> */}\n\n                <TableCell align=\"left\"style={{color:colorText}}>{row.name}</TableCell>\n                <TableCell align=\"left\"style={{color:colorText}}>{row.quantity}</TableCell>\n                <TableCell align=\"left\"style={{color:colorText}}>\n                    \n                    <div>\n                    {row.from_name}<br/>\n                    <div>\n                      {JSON.parse(row.from_batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        }\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell align=\"left\"style={{color:colorText}}>\n                    <div>\n                        {row.to_name}<br/>\n                      {JSON.parse(row.to_batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        }\n                    </div>\n                </TableCell>\n                <TableCell align=\"left\"style={{color:colorText}}>{`${row.created_user_name} - ${row.created_user_type === 'owner' ? \"Chủ cửa hàng\" : \"Nhân viên\"}`}</TableCell>\n                <TableCell align=\"left\" className={colorText?null:classes.fontName}style={{color:colorText}}>{row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n               \n            </TableRow>\n\n        {/* DETAIL */}\n            <TableRow>\n              {/* colspan  => số cột trong collapse */}\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \n                    {/* <InventoryOrderDetail parentProps={props}/>        */}\n              </TableCell>\n            </TableRow>\n        </>\n    )\n}\n\nexport default TransferInventoryTableRow\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ImportReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\n\n//import library\nimport {\n  Dialog,\n  Tooltip,\n  Chip,\n  Card,\n  DialogContent,\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InventoryReturnPopUp from \"../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp\";\n\nimport { grey } from \"@material-ui/core/colors\";\n\n// api\nimport purchaseOrderApi from \"../../../../../api/purchaseOrderApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nconst InventoryOrderDetail = (props) => {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n  //  tam thoi\n\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = purchaseOrderApi.deletePurchaseOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa đơn nhập thành công\"));\n      onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa đơn nhập thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [purchaseOrder, setPurchaseOrder] = useState({\n    branch: null,\n    details: [],\n  });\n\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseOrderApi.getPurchaseOrder(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseOrder(res.data);\n      } catch (error) {\n        setPurchaseOrder({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n\n  useEffect(() => {}, [purchaseOrder]);\n  const debtAmount =\n    Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount);\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return purchaseOrderApi.editPurchaseOrder(\n      store_uuid,\n      branch_uuid,\n      uuid,\n      body\n    );\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        reloadDetail={() => setReload(!reload)}\n        onReload={props.parentProps.onReload}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Trả nợ đơn nhập hàng <i>{row.purchase_order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={ true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date\n                    ?.split(\" \")[0]\n                    .split(\"-\")\n                    .reverse()\n                    .join(\"/\")\n                    .concat(\n                      \"\\u00a0\\u00a0\" +\n                        row.creation_date?.split(\" \")[1].substr(0, 5)\n                    )}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.created_by_user\n                    ? purchaseOrder.created_by_user.name\n                    : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={3}>\n                <Box>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {debtAmount > 0 ? \"Còn nợ \" : \"Trả đủ\"}\n                    {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat\n                    value={row.total_amount - row.discount}\n                  ></VNDFormat>{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.branch ? purchaseOrder.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Đổi trả</TableCell>\n              <TableCell align=\"right\">Giá nhập</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseOrder.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat\n                    value={Number(detail.quantity) * Number(detail.unit_price)}\n                  />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n\n\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseOrder.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseOrder.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography\n                  variant=\"body1\"\n                  gutterBottom\n                  component=\"div\"\n                  style={{\n                    fontWeight: 500,\n                    color: theme.customization.primaryColor[500],\n                  }}\n                >\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Đã trả NCC\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n          {/* {info.user?.uuid?.includes(purchaseOrder?.created_by_user?.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 15}}\n              // onClick={handleDelete}\n            >\n              Xóa đơn nhập\n          </Button> :null} */}\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n            style={{ marginLeft: 15 }}\n            onClick={handleDelete}\n          >\n            Xóa đơn nhập\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={handleClickOpen}\n            disabled={\n              Number(row.total_amount) -\n                Number(row.discount) -\n                Number(row.paid_amount) >\n              0\n            }\n          >\n            Trả hàng\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In đơn nhập\n          </Button>\n{/* \n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n\n        {/* 3. Receipt */}\n        <div style={{ display: \"none\" }}>\n          <div ref={componentRef}>\n            <ImportReceiptPrinter\n              cart={purchaseOrder}\n              date={row.creation_date}\n            />\n          </div>\n        </div>\n\n        {/* Tra hang */}\n\n        <Dialog\n          fullWidth={true}\n          maxWidth=\"lg\"\n          open={open}\n          onClose={handleCloseReturn}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <InventoryReturnPopUp\n            handleCloseReturn={handleCloseReturn}\n            purchaseOrder={purchaseOrder}\n            classes={classes}\n            reload={props.parentProps.onReload}\n            reloadDetail={() => setReload(!reload)}\n          />\n        </Dialog>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryOrderDetail;\n\nconst headCells = [\n  { id: \"stt\", numeric: false, disablePadding: true, label: \"Stt\" },\n  { id: \"id\", numeric: false, disablePadding: true, label: \"#\" },\n  { id: \"name\", numeric: false, disablePadding: true, label: \"Tên\" },\n  { id: \"price\", numeric: true, disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", numeric: true, disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", numeric: true, disablePadding: true, label: \"Thành tiền\" },\n];\n","import axiosClient from \"./axiosClient\";\nconst transferInventoryApi = {\n  get: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/transferInventory`;\n    return axiosClient.get(url, body);\n  },\n};\nexport default transferInventoryApi;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\nimport TransferInventoryTableRow from \"./TransferInventoryRow/TransferInventoryTableRow\";\nimport TransferInventoryRow from \"./TransferInventoryRow/TransferInventoryTableRow\";\n//chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport transferInventoryApi from \"../../../api/transferInventoryApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\n\nconst TransferInventory = () => {\n  // fetch data here\n  const [data, setData] = useState([]);\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const dispatch = useDispatch();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  //// 2. Table\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // const initialQuery = {\n  //   startDate: '',\n  //   endDate: '',\n  //   minDiscount: null,\n  //   maxDiscount: null,\n  //   minTotalAmount: null,\n  //   maxTotalAmount: null,\n  //   status: '',\n  //   paymentMethod: '',\n  //   orderBy: 'purchase_orders.creation_date',\n  //   sort: 'desc',\n  //   searchKey: '',\n  // };\n\n  // const handleRemoveFilter = () => {\n  //   setQuery(initialQuery)\n  // }\n  // const [query, setQuery] = useState(initialQuery)\n\n  // const [reload, setReload] = React.useState(false);\n  // const [pagingState, setPagingState] = useState({\n  //   page: 0,\n  //   limit: 10,\n  // });\n  // const [totalRows, setTotalRows] = useState(0)\n  // const [totalAmount, setTotalAmount] = useState(0);\n\n  //3.2. filter\n  // const [openFilter, setOpenFilter] = React.useState(false);\n  // const handleToggleFilter = () => {\n  //   setOpenFilter(!openFilter);\n  // };\n  // const onReload = () => {\n  //   setReload(!reload);\n  // };\n\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  // useEffect(() => {\n  //   setPagingState({ ...pagingState, page: 0 });\n  // }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await transferInventoryApi.get(\n          store_uuid,\n          branch_uuid\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        // setTotalRows(response.total_rows);\n        // setPurchaseOrders(response.data);\n        // setTotalAmount(response.total_amount);\n        setData(response.data)\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid ) {\n      \n      loadData();\n    }\n  }, [store_uuid, branch_uuid]);\n\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Kiểm kho thất bại\",\n  });\n  const getDataExport = async () => {\n    try {\n      const response = await transferInventoryApi.get(\n        store_uuid,\n        branch_uuid,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n  const tableRef = React.createRef();\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Đơn chuyển kho\n        </Typography>\n\n        <Grid className={classes.btngroup1}>\n          <ButtonBase\n            sx={{ borderRadius: \"16px\" }}\n            onClick={() => {\n              dispatch(customizeAction.setSidebarOpen(false));\n              dispatch(customizeAction.setItemMenuOpen(4));\n            }}\n            component={Link}\n            to=\"/home/inventory/import\"\n          >\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Nhập hàng\">\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/}\n      <ToolBar\n        dataTable={data}\n        tableType={TableType.TRANSFER_INVENTORY}\n        textSearch={\"#, NCC, Nguoi nhap,...\"}\n        // handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n\n        // orderByOptions={[\n        //   {value: 'purchase_orders.creation_date', label: 'Ngày nhập'},\n        //   {value: 'total_amount', label: 'Tổng tiền nhập'},\n        // ]}\n        // orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n        // sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n        // searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n        \n        // handleRemoveFilter={handleRemoveFilter}\n        getDataExport={getDataExport}\n        columnsToKeep = {[\n          {dbName:\"purchase_order_code\",displayName:\"Mã đơn nhập\"},\n          {dbName:\"payment_date\",displayName:\"Ngày nhập\"},\n          {dbName:\"supplier_name\",displayName:\"Nhà cung cấp\"},\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \n          {dbName:\"paid_amount\",displayName:\"Tiền đã trả\"}, \n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"},\n          {dbName:\"created_user_type\",displayName:\"Tài khoản thực hiện\"},\n          {dbName:\"created_user_name\",displayName:\"Tên người thực hiện\"},\n        ]}\n        isOnlySearch={true}\n      />\n{/* \n      <InventoryOrderFilter\n        openFilter={openFilter}\n        setQuery={setQuery}\n        query={query}\n        setPurchaseOrders={setPurchaseOrders}\n        handleToggleFilter={handleToggleFilter}\n      /> */}\n\n      {/* 3. TABLE */}\n      {!xsScreen?<TableWrapper \n        // pagingState={{...pagingState, total_rows: totalRows}} \n        // setPagingState={setPagingState}\n       list={data}\n       tableRef={tableRef}\n      >\n        <TableHeader\n          classes={classes}\n          headerData={HeadCells.TransferInventoryHeadCells}\n          // pagingState={pagingState}\n          // setPagingState={setPagingState}\n          \n        />\n        <TableBody>\n          {/* <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n          </TableRow> */}\n          {data.map((row, index) => {\n            return (\n              <TransferInventoryTableRow\n                key={row.code}\n                row={row}\n                openRow={openRow}\n                handleOpenRow={handleOpenRow}\n                onReload={() => {}}\n              />\n            );\n          })}\n        </TableBody>\n      </TableWrapper>\n      :\n      <>\n       <Box style={{minHeight:'50vh'}}>\n      {/* {purchaseOrders.map((row, index) => {\n        return (\n      \n          <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \n          totalCost={row.total_amount}  id={row.purchase_order_code} partnerName={row.supplier_name} date={row.creation_date} \n          typeBill={\"Đơn nhập hàng\"} />\n      \n\n        );\n      })} */}\n      </Box>\n      {/* <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}list={purchaseOrders}\n     /> */}\n\n      </>\n       \n      \n      }\n\n      <div style={{ display: \"none\" }}>\n        {/* <div ref={componentRef}>\n          <ComponentToPrint \n            data={data} classes={classes}  \n            // query={query} totalRows={totalRows}totalAmount={totalAmount}\n          />\n        </div> */}\n      </div>\n    </Card>\n  );\n};\n\nexport default TransferInventory;\n\n// const ComponentToPrint = ({ purchaseOrders, classes,query,totalRows,totalAmount, }) => {\n \n//   const firstDate = purchaseOrders.slice(-1)[0] ?purchaseOrders.slice(-1)[0].creation_date.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n//   return (\n//     <div style={{padding:10}}>\n//       <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n//       <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n//         <Typography style={{  fontSize: 18, fontWeight: 600}} >\n//           {/* Thống kê đơn nhập hàng */}\n//           THỐNG KÊ ĐƠN NHẬP HÀNG\n//         </Typography>\n//         <Typography  >\n//           {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n//           {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n//         </Typography>\n//         {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n//         {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n//         {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n//         {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n//         {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n//       </Box>\n//       <div>\n//       <TableWrapper  isReport={true} >\n//         <TableHeader\n//         color=\"#000\"\n//           classes={classes}\n//           headerData={HeadCells.InventoryOrderHeadCells.filter(item => item.id !== \"debt\")}\n//         />\n//         <TableBody>\n//           {purchaseOrders.map((row, index) => {\n//             return  <TransferInventoryTableRow colorText={\"#000\"} key={row.code} row={row} hidenCollumn={[\"debt\"]}/>\n//             })}\n//            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n//               <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n//               <TableCell/> <TableCell/> <TableCell/>\n//               <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n//               <TableCell/>\n//           </TableRow>\n\n//         </TableBody>\n//         </TableWrapper>\n//       </div>\n//     </div>\n//   );\n// };\n\n\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Import from \"./Import/Import\";\nimport Inventory from \"./Inventory/Inventory\";\nimport InventoryOrder from \"./InventoryOrder/InventoryOrder\";\nimport InventoryReturnOrder from \"./InventoryReturnOrder/InventoryReturnOrder\";\nimport OrderProduct from \"./OrderProduct/OrderProduct\";\nimport OrderProductList from \"./OrderProductList/OrderProductList\";\nimport Check from \"./Check/Check\";\nimport CheckHistory from \"./CheckHistory/CheckHistory\";\nimport Supplier from \"./Supplier/Supplier\";\nimport PageNotFound from \"../../pages/PageNotFound/PageNotFound\";\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport TransferInventory from \"./TransferInventory/TransferInventory\";\n\nconst InventoryView = (props) => {\n  const { path } = useRouteMatch();\n  const permissions = useSelector((state) => state.info.user.permissions);\n  console.log();\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <Redirect\n          to={\n            permissions?.find((p) => p.name === \"inventory\")\n              ? `${path}/import`\n              : \"/home\"\n          }\n        />\n      </Route>\n      <Route exact path={`${path}/import`} component={Import} />\n      <Route path={`${path}/inventory`} component={Inventory} />\n      <Route path={`${path}/receipt`} component={InventoryOrder} />\n      <Route path={`${path}/returns`} component={InventoryReturnOrder} />\n\n      <Route path={`${path}/transfer-inventory`} component={TransferInventory} />\n      {/* <Route path={`${path}/order-list/order`}  component={OrderProduct}/>   \n          <Route path={`${path}/order-list`}  component={OrderProductList}/>     */}\n      <Route path={`${path}/check-history/check`} component={Check} />\n      <Route path={`${path}/check-history`} component={CheckHistory} />\n      <Route path={`${path}/supplier`} component={Supplier} />\n      <Route exact path={`${path}/*`} component={PageNotFound} />\n    </Switch>\n  );\n};\n\nexport default InventoryView;\n","import {withStyles} from \"@material-ui/core/styles\";\nimport {Menu,MenuItem,} from '@material-ui/core';\n\nexport const StyledMenu = withStyles({\n    paper: {\n      border: '1px solid #d3d4d5',\n    },\n  })((props) => (\n    <Menu\n      \n      elevation={0}\n      getContentAnchorEl={null}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      {...props}\n    />\n  ));\n  \nexport  const StyledMenuItem = withStyles((theme) => ({\n    root: {\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n          color: theme.palette.common.white,\n        },\n      },\n    },\n  }))(MenuItem);","import { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default  makeStyles((theme) =>({\n    root: {\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      borderRadius:theme.customization.borderRadius,\n      color: '#000000',\n      boxShadow: \"none\",\n    },\n  \n    headerTitle:{\n      padding: '24px',\n      marginTop:-5,\n      marginBottom:-10,\n      fontSize: '1.125rem'\n    },\n\n    table:{\n      width:\"100%\",\n    },\n    button: {\n      margin: theme.spacing(1),\n      paddingRight:-10\n    },\n\n    headerAvatar: {\n      ...theme.typography.commonAvatar,\n      ...theme.typography.mediumAvatar,\n      transition: 'all .05s ease-in-out',\n      background:theme.palette.primary.main ,\n      '&:hover': {\n        background: theme.customization.primaryColor[400],\n      },\n\n    },\n    btngroup:{\n      marginRight:20,\n      marginTop:10\n    },\n    btngroup1:{\n      marginRight:20,\n      marginTop:10\n    },\n\n    visuallyHidden: {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: 1,\n      margin: -1,\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      top: 20,\n      width: 1,\n    },\n    icon: {\n      color:theme.customization.mode === 'Light' ?grey[700] :grey[50]\n  },\n    padding:{\n      marginLeft:24,\n      marginRight:24\n\n    },\n    tab: {\n      minWidth: 60,\n      width: 60, \n\n      color:theme.customization.primaryColor[200],\n      // fontSize:20,\n      // fontWeight:500\n  },\n  indicator:{\n    backgroundColor:theme.customization.primaryColor[200],\n  },\n  boldText:{\n    fontWeight:700,\n    \n  },\n  hoverCard:{\n    // backgroundColor:'#fff',\n    boxShadow:'0px 10px 20px rgba(0,0,0,0.1)',\n    \"&:hover\": {\n      // backgroundColor: theme.customization.primaryColor[50],\n      boxShadow:'0px 10px 10px rgba(0,0,0,0.2)',\n    }\n},\ncardRoot: {\n  width: 200,\n},\nmedia: {\n  height: 140,\n},\nappBar: {\n  position: 'relative',\n  backgroundColor:theme.customization.primaryColor[500],\n  height:60\n},\ntitle: {\n  marginLeft: theme.spacing(2),\n  flex: 1,\n},\n\n}));\n\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\n\n// import library\nimport {TableHead,TableRow,TableCell,TableSortLabel} from '@material-ui/core';\nimport { grey} from '@material-ui/core/colors'\n\n\n\nconst StyledTableCell = withStyles((theme) => ({\n    head: {\n      backgroundColor: theme.customization.mode === \"Light\"? null: grey[800],\n      // color: theme.customization.mode === \"Light\"? null: grey[500],\n      color: theme.customization.mode === \"Light\"? null: grey[500],\n\n    },\n    \n}))(TableCell);\n\n  \nfunction TableHeader(props) {\n    const theme = useTheme();\n    const { classes, order, orderBy, onRequestSort,headerData,isCart,isCustomer,color } = props;\n    const createSortHandler = (property) => (event) => {\n      // onRequestSort(event, property);\n    };\n    \n    return (\n      <TableHead className={classes.headColor} >\n        <TableRow >\n            {headerData.map((headCell) => (\n            // <StyledTableCell\n            //     key={headCell.id}\n            //     align={headCell.align}\n            //     // sortDirection={orderBy === headCell.id ? order : false}\n            // >\n            //     <TableSortLabel\n            //     active={orderBy === headCell.id}\n            //     // direction={orderBy === headCell.id ? order : 'asc'}\n            //     onClick={createSortHandler(headCell.id)}\n            //     style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n            //     >\n            //     {headCell.label}\n            //     {/* {orderBy === headCell.id  ? (\n            //         <span className={classes.visuallyHidden}>\n            //         {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n            //         </span>\n            //     ) : null} */}\n            //     </TableSortLabel>\n            // </StyledTableCell>\n\n            <StyledTableCell\n              key={headCell.id}\n              align={headCell.align}\n              // sortDirection={orderBy === headCell.id ? order : false}\n              // style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n              style={{color:isCustomer?\"#000\": theme.customization.mode === \"Light\"? color?color:null: grey[500], fontSize:isCustomer?16:null}}\n\n             >\n                  {headCell.label}\n            </StyledTableCell>\n              \n            ))}\n             {isCart?  <StyledTableCell/>: null}\n            \n        </TableRow>\n      </TableHead>\n        );\n    }\n\n\nexport default TableHeader","export default __webpack_public_path__ + \"static/media/no-results-1.27ba7507.png\";","import React from 'react'\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\nimport {Table,TableContainer,FormControlLabel,Switch,Paper, TablePagination,Grid,Box,Typography,Divider} from '@material-ui/core';\nimport empltyImage from \"../../../assets/img/icon/empty-cart.png\"\nimport empltyImage2 from \"../../../assets/img/icon/no-results-1.png\"\nimport { Empty } from 'antd';\n\n\nimport { Pagination } from 'antd';\n\nconst TableWrapper = (props) => {\n    const {isCart, isReport, pagingState, setPagingState,list,tableRef} = props;\n\n    // console.log(\"pagingState\",pagingState)\n    const theme = useTheme();\n    // const classes = useStyles(theme);\n    // table\n    // const [dense, setDense] = React.useState(isReport?true:false);\n    const [dense, setDense] = React.useState(isCart ?false:true);\n\n\n    const handleChangeDense = (event) => {\n      setDense(event.target.checked);\n    };\n    React.useEffect(()=>{\n        tableRef?.current && tableRef?.current?.scrollIntoView();\n    },[list])\n\n    return (\n    <>\n        <StyledPaper style={{width: '100%', marginBottom: theme.spacing(2)}}>\n            {/* Chinh size tablw */}\n\n            {/* <TableContainer style={{maxHeight: '90vh',}}> */}\n            {/* <TableContainer style={{maxHeight: '84vh', minHeight:'60vh'}}> */}\n            <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}>\n\n                <Table\n                    ref={tableRef}\n                    aria-labelledby=\"tableTitle\"\n                    size={dense ? 'small' : 'medium'}\n                    // size={dense ? 'small' : 'small'}\n\n                    aria-label=\"enhanced table\"\n                    stickyHeader \n                >\n                    {props.children}\n\n                </Table>\n                \n            </TableContainer>\n            \n        </StyledPaper>\n\n            {/* Add page navigation here...  */}\n            {isCart || isReport? null :\n               \n                <Grid container justifyContent='flex-end' >     \n                        <FormControlLabel\n                            control={<Switch checked={dense} onChange={handleChangeDense} />}\n                            label=\"Thu nhỏ\"\n                            style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n                        />\n                        <Pagination\n                        style={{marginRight:40}}\n                            showSizeChanger\n                            total={pagingState?.total_rows}\n                            current={pagingState?.page +1}\n                            onChange={(newCurrent, newPageSize) => {\n                                const pageSizeChange = pagingState?.limit !== newPageSize;\n                                if (!pageSizeChange) {\n                                    setPagingState({ ...pagingState, page: newCurrent -1 })\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n                                } else {\n                                    setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n\n                                }\n                              }}\n                            />\n                        \n                </Grid>\n                \n            \n            }\n    </>\n    )\n}\n\nconst StyledPaper = withStyles((theme) => ({\n    root: {\n      boxShadow:\"none\",\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      color: theme.customization.mode === \"Light\"? null: grey[700]\n    },\n  }))(Paper);\n\nexport default TableWrapper\n\n\n\n// const Empty = ()  =>{\n//     return(\n//         <Box style={{height:'65vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n//             <Box>\n//                 <Box component=\"img\" sx={{ height: 150,  width: 150, marginBottom: 15, borderRadius: 2, color:'#b6b6b6' }} src={empltyImage2} />\n//                 <Typography variant=\"h3\">Giỏ hàng trống</Typography>\n//             </Box>\n//         </Box>\n\n\n//     )\n// }\n\n    // if(list){\n    //     // return <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n    //     return (\n    //         <>\n    //         {/* <Divider /> */}\n    //     <Box style={{height:'67vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n    //     <Empty \n    //     // image=\"https://minimal-assets-api.vercel.app/assets/illustrations/illustration_empty_cart.svg\" \n    //     image={empltyImage2}\n    //     imageStyle={{ height: 150, }} \n    //         description={ <div style={{marginTop:20, marginLeft:-20}}>\n    //             <Typography variant='h3' >Giỏ hàng trống</Typography>\n    //             <Typography style={{color:'gray', marginTop:15}}>Chưa có sản phẩm nào trong giỏ hàng</Typography>\n    //         </div>}/>\n    //     </Box> </>)\n    // }\n\n    \n\n\n\n\n\n\n\n\n// PAGING NAVAGATION CŨ\n\n // <div style={{display: 'flex', flexDirection: 'row-reverse', gap: 10,marginTop:-20, marginRight:20, marginBottom:-10 }}>\n    //     <TablePagination\n    //         rowsPerPageOptions={[10, 25, 100]}\n    //         labelRowsPerPage={\"Số dòng\"}\n    //         component=\"div\"\n    //         count={pagingState?.total_rows}\n    //         rowsPerPage={pagingState?.limit}\n    //         page={pagingState?.page}\n    //         onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n    //         onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n\n\n    //     />\n        \n    //     <FormControlLabel\n    //         control={<Switch checked={dense} onChange={handleChangeDense} />}\n    //         label=\"Thu nhỏ\"\n    //         style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n    //     />\n    // </div>","function descendingComparator(a, b, orderBy) {\n   if ( orderBy !== null){\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    \n    } else{\n        if (b.id< a.id) {\n            return -1;\n        }\n        if (b.id > a.id) {\n            return 1;\n        }\n        return 0;\n    }\n    return 0;\n}\n// function descendingComparator(a, b, orderBy) {\n//     if (b.id< a.id) {\n//         return -1;\n//     }\n//     if (b.id > a.id) {\n//         return 1;\n//     }\n//     return 0;\n// }\nexport function getComparator(order, orderBy) {\n    return order === 'desc'\n      ? (a, b) => descendingComparator(a, b, orderBy)\n      : (a, b) => -descendingComparator(a, b, orderBy);\n  }\n  \nexport  function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}\n\n\nexport function calculateTotalQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=Number(item.quantity) )\n    return value\n  }\n  export function calculateTotalReturnQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=item.returnQuantity )\n    return value\n  }\n\n  ","import React from \"react\";\nimport {\n  Modal,\n  Box,\n  Paper,\n  Grid,\n  ListItem,\n  Typography,\n  IconButton,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { Button} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    padding: 20,\n    minWidth: \"100%\",\n  },\n  modal: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    display: \"flex\",\n  },\n}));\n\nexport default function ModalWrapperWithClose(props) {\n  const {title,open,handleClose,handleSubmit,name,size} = props\n  const classes = useStyles();\n  return ( \n    <React.Fragment>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        className={classes.modal}\n  \n\n      >\n        <React.Fragment>\n          <Paper>\n            <Box className={classes.container}>\n                <Box>   \n                  <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                      <Typography variant={size?size:\"h3\"} >{title}</Typography>\n                      <IconButton aria-label=\"close\" onClick={handleClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                      </IconButton>\n                </Grid>\n                </Box> \n              {props.children}\n      \n            </Box>\n          </Paper>\n            \n        </React.Fragment>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import axiosClient from \"./axiosClient\";\n\nconst customerApi = {\n  createCustomer: (storeUuid, body) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.post(url, body);\n  },\n  getCustomers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.delete(url);\n  },\n  updateCustomer: (storeUuid, customerUuid,body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.put(url,body);\n  },\n  payDebt: (storeUuid, customerUuid, body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n  importCustomerJson : (storeUuid, json) => {\n    const url = `stores/${storeUuid}/customers/addCustomersByJson`;\n    return axiosClient.post(url, {\n      \"json_data\": json\n    });\n  },\n  updateCustomerVouchers: (storeUuid, customerUuid,vouchers) => {\n    const url = `stores/${storeUuid}/customer/${customerUuid}`;\n    return axiosClient.post(url, {\n      \"vouchers\": JSON.stringify(vouchers)\n    });\n  },\n  getCustomerDebts: (storeUuid, query) => {\n    const url = `stores/${storeUuid}/customerDebts`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomerGroups: (storeUuid) => {\n    const url = `stores/${storeUuid}/customerGroups`;\n    return axiosClient.get(url);\n  },\n  updateCustomerGroup: (storeUuid, id, body) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.put(url, body);\n  },\n  createCustomerGroup: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/customerGroups/`;\n    return axiosClient.post(url, body);\n  },\n  deleteCustomerGroup: (storeUuid, id) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.delete(url);\n  },\n};\nexport default customerApi;\n","import React from 'react'\nimport {Box,TextField,Avatar,Slide,Divider,ListItemSecondaryAction,Dialog,AppBar,Toolbar,Button,ListItem,IconButton,TableRow,TableCell,Typography, Grid} from '@material-ui/core'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport useStyles from \"../TableCommon/style/mainViewStyle\";\nimport icon from '../../assets/img/product/tch.jpeg';\nimport * as Input from '../TextField/NumberFormatCustom'\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\nimport InvoiceReturnDetail from \"../../views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail\";\nimport InvoiceDetail from \"../../views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail\";\nimport InventoryOrderDetail from \"../../views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail\";\nimport InventoryReturnDetail from \"../../views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail\";\nimport OrderProductListDetail from \"../../views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail\";\nimport CheckHistoryDetail from \"../../views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail\"\nimport CustomerDetail from \"../../views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail\"\nimport SupplierDetail from \"../../views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail\"\nimport EmployeeDetail from \"../../views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail\"\nimport DiscountDetail from '../../views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail';\nimport VoucherDetail from '../../views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {ThousandFormat} from \"../TextField/NumberFormatCustom\"\nimport ava from '../../assets/img/product/lyimg.jpeg';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport InventoryDetail from '../../views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail';\nimport DiscountPopUp from \"../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\nimport ButtonQuantity from \"../../components/Button/ButtonQuantity\";\n\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\n\nexport const CartMiniTableRow = (props) =>{\n    const classes = useStyles(); \n    const haveDiscount = true;\n\n    const {row,discountData, handleDeleteItemCart,isManageInventory, handleChangeItemQuantity, isCart,handleChangeItemPrice} = props\n    const updateQuantity = (newQuantity) => {\n        handleChangeItemQuantity(row.uuid, newQuantity)\n      }\n\n    const [openDiscount, setOpenDiscount] = React.useState(false);\n    const handleOpenDiscount = () =>{\n      setOpenDiscount(!openDiscount)\n    }\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n    const canFixPriceSell= store_setting?.canFixPriceSell\n    const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.cart) :(canFixPriceSell.status && canFixPriceSell.import) \n    return (\n        <>\n         <ListItem  style={{ padding:10}}>   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n                        <div>\n                            <ListItem style={{margin:0,padding:0}} >    \n                                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                                {haveDiscount ? \n                                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                                :null}\n                                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n                            </ListItem  > \n                            <ListItem style={{margin:0,padding:0}} >    \n                            {activeFixPrice?\n                            <Input.ThousandSeperatedInput \n                                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                                inputProps={{style: { textAlign: \"right\" }}} \n                                defaultPrice={row.unit_price} \n                                value={row.unit_price} \n\n                                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>:\n                                <Input.ThousandFormat  value={row.unit_price} > </Input.ThousandFormat>}\n\n                                <Typography style={{marginLeft:10}}>x</Typography>\n                            </ListItem  > \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\nexport const BillMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {totalCost, id,partnerName ,date, typeBill } = props;\n    const{promotion_condition,dateAdvanceSetting, type} = props;\n    const classes = useStyles(); \n    const theme = useTheme();\n\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n        <div style={{margin:10}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(typeBill === \"Khuyến mãi\"?row.id:row.uuid)}}  >\n            <Grid item>\n                <Typography style={{ fontWeight:500,marginTop:-5,fontSize:15, marginBottom:3}}>{id}</Typography>\n                <Typography style={{ fontSize:14}}>{partnerName}</Typography>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n                \n          {typeBill ===\"Voucher\"?<Typography style={{ fontSize:11, marginTop:-15, marginBottom:7}}> Ngày hết hạn:</Typography>:null}\n\n           <Typography style={{color:\"#6b6b6b\", fontSize:10, marginTop:-8, marginBottom:5,textAlign: 'right'}}>{date?.substring(0, 16)}</Typography>\n            \n            {typeBill === \"Khuyến mãi\"  ?<Typography style={{marginTop:10}} >{totalCost}  </Typography>:null}\n            {typeBill === \"Đơn đặt hàng\"  || typeBill === \"Voucher\"?<Typography style={{fontWeight:500, fontSize:17, color:\"orange\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill === \"Đơn kiểm kho\"?<Typography style={{fontWeight:500, fontSize:17, color:totalCost >=0?\"green\":\"red\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill !== \"Đơn đặt hàng\" &&typeBill !== \"Đơn kiểm kho\" &&typeBill !== \"Voucher\" && typeBill !== \"Khuyến mãi\"? <Typography style={{fontWeight:500, fontSize:17, color:typeBill  === \"Hoá đơn\" || typeBill === \"Đơn nhập hàng\"?theme.customization.primaryColor[500]:theme.customization.secondaryColor[500],textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            \n            \n            </Grid>\n        </Grid> \n        <Divider style={{marginTop:2}} />\n\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typeBill} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typeBill === \"Hoá đơn\"? <InvoiceDetail parentProps={props}  isMini={true} />:null}\n            {typeBill === \"Đơn trả\"? <InvoiceReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn nhập hàng\"? <InventoryOrderDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn trả hàng nhập\"? <InventoryReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn đặt hàng nhập\"? <OrderProductListDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn kiểm kho\"? <CheckHistoryDetail parentProps={props}  isMini={true}/>:null}\n            {/* {typeBill === \"Khuyến mãi\"? <DiscountDetail parentProps={props}  isMini={true} promotion_condition={promotion_condition} type={type}/>:null} */}\n            {typeBill === \"Voucher\"? <VoucherDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Khuyến mãi\"?  <DiscountDetail isMini={true}parentProps={props} promotion_condition={promotion_condition}dateAdvanceSetting={dateAdvanceSetting} type={type} />       :null}\n\n        </Dialog>\n        </div>\n    )\n}\n\nexport const PartnerMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {img, id,name ,phone, score,typePartner } = props\n    const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n\n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                    {typePartner !== \"Nhà cung cấp\"?<Avatar alt=\"Remy Sharp\" src={img} style={{marginRight:20,}} className={classes.ava} />:null}\n                    <div>\n                        <Typography style={{marginBottom:2, marginTop:-5,marginBottom:3}}>{name}</Typography>\n                        <ListItem  style={{margin:0, padding:0}}>\n                            <PhoneIcon style={{width:10, height:10, marginRight:2, color:\"#8f8f8f\"}}/>\n                            <Typography style={{color:'#36afff', fontSize:12}}>{phone}</Typography>\n                        </ListItem>  \n                    </div>\n                </ListItem>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n            <Typography style={{marginTop:-5,fontSize:12,color:\"#474747\"}}>{id}</Typography>\n            {typePartner === \"Khách hàng\"?<Typography style={{fontWeight:500, fontSize:14,marginTop:8, color:\"green\",textAlign: 'right'}}>{score}</Typography> :null}\n\n            </Grid>\n        </Grid> \n\n        <Divider style={{marginTop:2}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typePartner === \"Khách hàng\"? <CustomerDetail parentProps={props}  isMini={true} />:null}\n            {typePartner === \"Nhân viên\"? <EmployeeDetail parentProps={props}  isMini={true}/>:null}\n            {typePartner === \"Nhà cung cấp\"? <SupplierDetail parentProps={props}  isMini={true}/>:null}\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const ReturnCartMiniTableRow = ({ detail, handleProductPriceChange,isCart, handleItemQuantityChange }) =>{\nconst classes = useStyles();\n  const theme = useTheme();\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n    \n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.returnCart) :(canFixPriceSell.status && canFixPriceSell.returnImport) \n\n    return (\n        <>\n        <Typography style={{fontSize:16}} >{detail.product_code} - {detail.name} </Typography>\n        <ListItem style={{margin:0,padding:0}} >  \n            <Typography style={{color:\"#6b6b6b\", marginRight:10}} >Giá bán: </Typography>\n            <Input.VNDFormat style={{ width: 70 ,color:\"#6b6b6b\"}} value={detail.unit_price}/>  \n        </ListItem  > \n        <Typography style={{ marginBottom:-10, marginTop:10, color:\"red\"}} >Giá trả: </Typography>\n\n        <ListItem style={{margin:0,padding:0}} >  \n           {activeFixPrice? <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={detail.returnPrice} \n                value={detail.returnPrice}\n                onChange={e => handleChangePrice(e.target.value)}/>\n           : <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>\n            }\n                <ButtonQuantity quantity={detail.returnQuantity} limit={detail.quantity - detail.returned_quantity} setQuantity={handleChangeQuantity}  show={show} setShow={setShow} isReturn={true} isMini={true}/> \n        </ListItem  > \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\nexport const ProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n    const haveDiscount = true;\n\n    const {row, handleOpenRow, openRow } = props\n    const {img, id,name ,list_price,standard_price,typePartner ,branch_quantity,min_reorder_quantity,isManageInventory} = props\n    // const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item xs={9}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={JSON.parse(row.img_urls)?.at(0) || defaultProduct}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{name}</Typography>\n                    <Typography style={{}}>Vốn: <ThousandFormat value={standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={3} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n               {isManageInventory?  <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(branch_quantity,min_reorder_quantity)}}>Tồn: <ThousandFormat value={branch_quantity}/></Typography>\n               : <Typography></Typography>}\n                <Typography style={{textAlign: 'right', }}>Bán: <ThousandFormat value={list_price}/></Typography>\n            </Grid>\n        </Grid> \n\n\n        <Divider style={{marginTop:3}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n            <InventoryDetail parentProps={props}  openRow={openRow} isMini={true} />\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const CheckMiniTableRow = ({ detail, handleItemRealQuantityChange, handleDeleteItem }) =>{\n    const classes = useStyles();\n    const [show, setShow] = React.useState(\"none\");\n    useEffect(() => { }, [detail]);\n  \n    const onChangeRealQuantity = (newQuantity) => {\n      handleItemRealQuantityChange(detail.id, newQuantity);\n    };\n \n    return (\n        <>\n        <ListItem  >   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={detail.img_url} />\n                        <div>\n                            <Typography style={{fontSize:15, marginBottom:10}} >detail.name</Typography>\n                           \n                            <Typography style={{marginLeft:10}}>detail.branch_quantity</Typography> \n                            {/* <ThousandFormat  value={detail.branch_quantity} /> */}\n                        \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                         <ButtonQuantity quantity={100} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/> \n                        {/* <ButtonQuantity quantity={detail.real_quantity} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/>  */}\n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n\n                {/* <ThousandFormat  value={Number(detail.real_quantity) - Number(detail.branch_quantity)} /> */}\n                {/* <VNDFormat value={(Number(detail.real_quantity) - Number(detail.branch_quantity)) *\n          detail.standard_price} /> */}\n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\n\n\nexport const VarianceProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n   \n\n    const {variance,onClick} = props\n\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          \n          >\n            <Grid item xs={8}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={variance.img_url}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{variance.name}</Typography>\n                    <Typography style={{}}>Giá vốn: <ThousandFormat value={variance.standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={4} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n                <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(variance.branch_quantity,variance.min_reorder_quantity)}}>Tồn: <ThousandFormat value={variance.branch_quantity}/></Typography>\n                <Typography style={{textAlign: 'right', }}>Giá bán: <ThousandFormat value={variance.list_price}/></Typography>\n            </Grid>\n        </Grid> \n        <Box style={{display:'flex',justifyContent:'right'}}>\n        <Button style={{marginTop:10, }} size=\"small\" color=\"primary\" variant=\"outlined\"\n        onClick={onClick}>Chi tiết</Button>\n        </Box>\n\n        <Divider style={{marginTop:3}} />\n       \n        </div>\n    )\n}\n{/* <ListItem  style={{ padding:10}}>   \n<ListItem  style={{margin:0, padding:0}}>    \n        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n        <div>\n            <ListItem style={{margin:0,padding:0}} >    \n                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                {haveDiscount ? \n                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                :null}\n                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n            </ListItem  > \n            <ListItem style={{margin:0,padding:0}} >    \n            <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={row.unit_price} \n                value={row.unit_price} \n\n                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>\n                <Typography style={{marginLeft:10}}>x</Typography>\n            </ListItem  > \n        </div>\n    </ListItem  >  \n    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n    </ListItemSecondaryAction>\n\n</ListItem  >  \n<Divider style={{marginTop:7}}/> */}","// -----------HEADER TABLE\n\n//  ID phải trùng tên ATTRIBUTE THÌ MỚI SORT ĐC\n\nexport const InventoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"center\", disablePadding: false, label: \"Sản phẩm\" },\n  // { id: \"bar_code\", align: \"center\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"category\", align: \"left\", disablePadding: false, label: \"Danh mục\" },\n  { id: \"price\", align: \"right\", disablePadding: false, label: \"Giá bán\" },\n  {\n    id: \"import_price\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Giá vốn\",\n  },\n  {\n    id: \"quantity\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Tình trạng\",\n  },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Tồn kho\" },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Điểm đặt hàng lại\" },\n  // { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Số lượng đặt hàng lại\" },\n];\nexport const InventoryOrderHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày nhập\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  { id: \"debt\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InventoryReturnOrderHeadCells = [\n  // them cột tình trạng\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n\n  // { id: \"import_id\", align: \"left\", disablePadding: false, label: \"#Đơn nhập\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\n\nexport const SupplierHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên NCC\" },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  // { id: \"email\", align: \"left\", disablePadding: false, label: \"Email\" },\n  // { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  {\n    id: \"total_cost\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  {\n    id: \"debt\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Nợ NCC\",\n  },\n  { id: \"debtStatus\", align: \"center\", disablePadding: false, label: \"\" },\n];\n\nexport const InvoiceHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày bán\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng tiền\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InvoiceReturnHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n  // { id: \"invoid_id\", align: \"left\", disablePadding: false, label: \"#Hoá đơn\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const EmployeeHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"email\", align: \"left\", disablePadding: true, label: \"Email\" },\n  // { id: \"role\", align: \"left\", disablePadding: true, label: \"Chức năng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: true, label: \"Chi nhánh\" },\n  { id: \"function\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\n\nexport const CustomerHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  // { id: 'img', align: false, disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Khách hàng\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"score\", align: \"right\", disablePadding: true, label: \"Tích điểm\" },\n  { id: \"total\", align: \"right\", disablePadding: true, label: \"Tổng tiền mua\" },\n  { id: \"debt\", align: \"right\", disablePadding: true, label: \"Tổng nợ\" },\n  { id: \"debtStatus\", align: \"center\", disablePadding: true, label: \"\" },\n];\n\nexport const CartHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  // { id: \"price\", align: \"right\", disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Đơn giá\" },\n\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const ImportHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Giá nhập\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const CartReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá bán\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const ImportReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá nhập\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const OrderHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Khoảng giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const CheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"quantity\", align: \"right\", disablePadding: true, label: \"Tồn kho\" },\n  {\n    id: \"real-quantity\",\n    align: \"center\",\n    disablePadding: true,\n    label: \"SL thực tế\",\n  },\n  { id: \"balance\", align: \"right\", disablePadding: true, label: \"Lệch\" },\n];\n\nexport const OrderListHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Khách hàng\",\n  },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Khoảng tiền\" },\n  { id: \"status\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const CheckHistoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày kiểm\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"inventory\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng SL lệch\",\n  },\n  {\n    id: \"substract\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền lệch\",\n  },\n  // { id: \"status\", align: \"left\", disablePadding: false, label: \"Chức vụ\" },\n  {\n    id: \"employee\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const DeliveryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"payment\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Hình thức trả\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng hoá đơn\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n  {\n    id: \"employee\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const EmployeeScheduleHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"status\", align: \"center\", disablePadding: true, label: \"Chấm công\" },\n];\n\nexport const InventoryCheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\n  { id: \"inventory\", align: \"left\", disablePadding: false, label: \"Tồn kho\" },\n  { id: \"real\", align: \"left\", disablePadding: false, label: \"Thực tế\" },\n  {\n    id: \"diffQuantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"SL lệch\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Giá trị lệch\" },\n];\n\nexport const VoucherHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên voucher\" },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"value\", align: \"left\", disablePadding: true, label: \"Mệnh giá\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const DiscountHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  {\n    id: \"name\",\n    align: \"left\",\n    disablePadding: true,\n    label: \"Tên chương trình\",\n  },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"type\", align: \"left\", disablePadding: true, label: \"Hình thức\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const TransferInventoryHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"Số lượng\" },\n  { id: \"from\", align: \"left\", disablePadding: false, label: \"Từ\" },\n  { id: \"to\", align: \"left\", disablePadding: false, label: \"Đến\" },\n  { id: \"user\", align: \"left\", disablePadding: false, label: \"Ngừoi thực hiện\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n];\n\nexport const CashbookHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"Giá trị\" },\n  { id: \"user_type\", align: \"left\", disablePadding: false, label: \"Đối tác\" },\n  { id: \"user_name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n  { id: \"type\", align: \"left\", disablePadding: false, label: \"Loại thu chi\" },\n];","// ------------TABLE TYPE\n\n// Sales\nexport const INVOICE = \"Hoá_đơn\";\nexport const INVOICE_RETURN = \"Đơn_trả\";\nexport const CUSTOMER_ORDER = \"Đơn_đặt_hàng\";\n\n// inventory\nexport const INVENTORY = \"Sản_phẩm\";\nexport const INVENTORY_ORDER = \"Đơn_nhập_hàng\";\nexport const INVENTORY_RETURN = \"Đơn_trả_hàng_nhập\";\nexport const SUPPLIER = \"Nhà_cung_cấp\";\nexport const CHECK_LIST = \"Đơn_kiểm_kho\";\nexport const ORDER_LIST = \"Đơn_đặt_hàng\";\nexport const TRANSFER_INVENTORY = \"Đơn_chuyển_kho\";\n\n// HR\nexport const EMPLOYEE = \"Nhân_viên\";\n\n//Manager\nexport const CUSTOMER = \"Khách_hàng\";\n\n\n\n//CART\nexport const CART = \"Giỏ_hàng\";\nexport const IMPORT = \"Nhập hàng\";\nexport const CART_RETURN = \"Trả_hàng\";\nexport const IMPORT_RETURN = \"Trả_hàng_nhập\";\n\n","import { Chip, Box, Avatar } from \"@material-ui/core\";\n\nexport const FormatedStatus = (props) => {\n  if (props.debt === 0) {\n    return (\n      <Chip\n        label=\"Trả đủ\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn nợ\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\nexport const FormatedProductStatus = (props) => {\n  if (Number(props.quantity) <= 0) {\n    return (\n      <Chip\n        label=\"Hết hàng\"\n        color=\"#ff007d\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff007d\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= Number(props.lowStock)) {\n    return (\n      <Chip\n        label=\"Sắp hết\"\n        color=\"#ffc02b\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ffc02b\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else if (Number(props.quantity) >= Number(props.overStock)) {\n    return (\n      <Chip\n        label=\"Vượt tối đa\"\n        color=\"white\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"red\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n       \n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn hàng\"\n        color=\"#00ded7\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#00ded7\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n\nexport const FormatedProductStatusReport = (props) => {\n  if (Number(props.quantity) === 0) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ff007d\",\n        }}\n      ></Box>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= props.lowStock) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ffc02b\",\n        }}\n      ></Box>\n    );\n  } else {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#00ded7\",\n        }}\n      ></Box>\n    );\n  }\n};\n\nexport const FormatedStatusOrder = (props) => {\n  switch (props.status) {\n    case \"new\":\n      return (\n        <Chip\n          label=\"Chờ chấp nhận\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n    case \"confirmed\":\n      return (\n        <Chip\n          label=\"Chờ giao\"\n          color=\"#ffc02b\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ffc02b\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ giao\"}{\" \"}\n        </Chip>\n      );\n    case \"cancelled\":\n      return (\n        <Chip\n          label=\"Đã hủy\"\n          color=\"#00ded7\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#00ded7\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Đã hủy\"}{\" \"}\n        </Chip>\n      );\n    case \"paid\":\n      return (\n        <Chip\n          label=\"Hoàn thành\"\n          color=\"#76ff03\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#76ff03\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Hoàn thành\"}{\" \"}\n        </Chip>\n      );\n    default:\n      return (\n        <Chip\n          label=\"Chờ xử lý\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n  }\n};\n\nexport const FormatedStatusCheck = (props) => {\n  if (props.status === 0) {\n    return (\n      <Chip\n        label=\"Cân bằng\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Cân bằng\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Không cân bằng\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Không cân bằng\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n","import React from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport TableHeader  from '../../components/TableCommon/TableHeader/TableHeader'\nimport TableWrapper from '../../components/TableCommon/TableWrapper/TableWrapper'\nimport {ThousandFormat} from '../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\nimport setting from \"../../assets/constant/setting\"\nimport {Docso} from \"../../utils\"\nimport  clsx from \"clsx\"\n//import library\nimport {\n    Grid,\n    Card,\n    Box,\n    Tabs,\n    Tab,\n    TableContainer,\n    CardContent,\n    CardMedia,\n    CardActionArea,\n    FormControlLabel,\n    Switch,\n    Menu,\n    MenuItem,\n    ListItem,\n    IconButton,\n    TableBody,\n    Typography,\n    Table,\n    TableHead,\n    TableRow,TableCell,Divider\n  } from \"@material-ui/core\";\n  import ReactQuill, {Quill} from 'react-quill';\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        flexGrow: 1,\n        textAlign: \"center\",\n        // fontSize: \"13.5px\",\n        // fontSize: \"12em\",\n        fontWeight: 700,\n        marginTop:10,\n        color: \"#000\",\n    },\n    centerQR:{\n        flexGrow: 1,\n        textAlign: \"center\",\n       \n    },\n    center:{\n        flexGrow: 1,\n        textAlign: \"center\",\n        color: \"#000\",\n        fontSize:\"10px\",\n        // fontSize: \"10em\",\n    },\n    right:{\n        flexGrow: 1,\n        textAlign: \"right\",\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n    },\n    text:{\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n        // textAlign: \"center\",\n    },\n    Largetext:{\n      color: \"#000\",\n      fontSize: \"12px\",\n    },\n    media: {\n      // height: '10%',\n      // // width: '10%'\n      // height: 50,\n      // width:50\n    },\n    weight:{\n      fontWeight:600\n    },\n    root: {\n      maxWidth: 10,\n      \n    },\n    divider: {\n      // Theme Color, or use css color in quote\n      background: '#000',\n  },\n}));\nlet d = moment.now() / 1000;\n\nlet orderTime = moment\n.unix(d)\n.format(\"DD/MM/YYYY HH:mm\", { trim: false });\n\nlet orderDate = moment\n.unix(d)\n.format(\"DD/MM/YYYY\", { trim: false });\n\n// CON THIEU LINK WEB + LOGO + MA HOA DON\nvar QRCode = require('qrcode.react');\n\n\nexport const NomalReceiptPrinter = ({cart, date,code, type}) => {\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n    const store = info.store.store_configuration? JSON.parse(info.store.store_configuration): null\n\n//     const web_link = store_setting.status ? info.store.web_page:null\n//     var link = web_link ? web_link : store? store.custom_web : null ;\n//     var logo  = store? store.img_url :null ;\n\n    var link = info.store.web_page ? \"https://cuahangcuatoi.net/#/store/\" + info.store.web_page : \"\";\n    var logo  = store_setting?.img_url ;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const item = cart.cartItem? cart.cartItem :cart.details\n\n    return (\n        <div style={{paddingLeft: -10}} >\n            {/* Logo */}\n           {logo? \n            <div className={classes.centerQR} style={{marginBottom:5}}  >\n              <img src={logo} style={{height:50}}/>\n            </div>:null}\n              \n           {/* In đơn cũ thì ko lấy store?? */}\n           {/* {\n             cart.branch ?\n             <>\n             <Typography className={classes.center}>Địa chỉ: {cart.branch.address}, {cart.branch.ward} , {cart.branch.district}</Typography>\n            <Typography className={classes.center}>Điện thoại: {cart.branch.phone}</Typography>\n             </>:\n            //  get current branch\n            <>\n             <Typography className={classes.center}>Địa chỉ: {info.store.district}, P. {info.store.ward} ,Q. {info.store.district}, {info.store.province}</Typography>\n             <Typography className={classes.center}>Điện thoại: {info.store.phone}</Typography>\n            </>\n           } */}\n            \n\n            {/*  */}\n            <Typography className={classes.title} style={{fontSize: \"13.5px\"}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n            <Typography className={classes.center}>Mã HĐ: {code}</Typography>\n            <Typography className={classes.center} style={{marginBottom:10}}>Ngày: {date? date: orderTime}</Typography>\n           \n            <Box style={{marginBottom:5}}>\n              <Typography className={classes.text} >Thu ngân: {cart.created_by_user? cart.created_by_user.name: info.user.name}</Typography>\n              <Typography className={classes.text} >Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n            </Box>\n            {/* List */}\n              \n            {type ==='large'?\n            <>\n              <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Đơn giá</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={4}>\n                          <   Typography className={classes.text} >{row.name}</Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.unit_price}/></Typography>\n                            </Grid>\n                            <Grid item xs={2}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity}/></Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                    );\n                })} \n                </>:\n\n                <>\n                 <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={7}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={5}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={7}>\n                              <Typography className={classes.text} >{row.name}</Typography>\n                              <ListItem style={{padding:0, margin:0}}>\n                             <Typography className={classes.text} ><ThousandFormat value={row.quantity}/> x <ThousandFormat value={row.unit_price}/></Typography>\n                              </ListItem>\n                            </Grid>\n                            <Grid item xs={5}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                     );\n                  })} \n\n                </>}\n              \n\n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:10}}>\n              <Grid item xs={5}>\n                {Number(cart.discount) > 0 || Number(cart.otherFee) >0?\n                  <>\n                  <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                  <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\n                  </>\n                :null}\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Khách đưa:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền thối:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                {Number(cart.discount) > 0 || Number(cart.otherFee) >0?\n                  <>\n                    <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                    <Typography >\n                      <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\n                    </Typography>\n                 </>\n                :null}\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount +cart.otherFee }/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount + cart.otherFee)} /></Typography>\n\n              </Grid>\n            </Grid>\n            {store_setting.printReceiptWhenSell.contentNote?\n            <Box>\n            <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n\n            <Typography className={classes.center}> --------------------------</Typography>\n            {link? \n            <>\n                <Typography className={classes.center}> Mở camera và quét mã để truy cập trang web</Typography>\n                <div className={classes.centerQR} style={{marginBottom:10, marginTop:10 }}>\n                   {/* <QRCode value={link}  style={{height:\"50%\", width:\"50%\"}}/> */}\n                   <QRCode value={link}  size={65}/>\n                </div> \n                </>\n            : null}\n            <Typography className={classes.center}>Cảm ơn và hẹn gặp lại !</Typography> \n        </div>\n    )\n}\n\nexport const ReceiptPrinter = ({cart, date,code,type}) => {\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  var link = store_setting?.custom_web;\n  var logo  = store_setting?.img_url ;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n  // console.log(\"typetypetype\",type)\n  if(type !== 'other'){\n    return <NomalReceiptPrinter cart={cart} date={date} code={code} type={type}/>\n  }\n \n  return (\n      <div style={{padding:30, }} >\n          {/* Logo */}\n          {/* <Typography className={classes.title} style={{fontSize: \"18px\", marginBottom:-2}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n          <Typography className={classes.center} style={{ fontSize: \"12px\", marginBottom:15}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography> */}\n          <Grid container justifyContent='space-between'  alignItems='center' style={{marginBottom:15}}>\n              \n              <Grid>\n              <Typography className={classes.title} style={{fontSize: \"18px\"}}>PHIẾU XUẤT KHO</Typography>\n              <Typography className={classes.center} style={{ fontSize: \"12px\"}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography>\n              </Grid>\n              <Grid >\n              <Typography className={classes.Largetext} style={{marginTop:10}}> <b>Khách hàng:</b> {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n              <Typography className={classes.Largetext} ><strong>Điện thoại:</strong> {cart.customer?.phone} </Typography> \n              </Grid>\n          </Grid>\n\n          {/* <Box style={{marginBottom:10}}>\n            <Grid container>\n              <Grid item xs={7}><Typography className={classes.Largetext} style={{fontWeight:500}}>Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography>  </Grid>\n              <Grid item xs={5}><Typography className={classes.Largetext} style={{fontWeight:500}}>Điện thoại: {cart.customer?.phone} </Typography>  </Grid>\n            </Grid>\n            <Typography className={classes.Largetext} style={{fontWeight:500}}>Địa chỉ: {cart.customer?.address } </Typography> \n          </Box> */}\n          {/* List */}\n            <Divider classes={{root: classes.divider}}/>\n              <ListItem  style={{margin:0, padding:0,}}>\n                  <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{marginTop:3, marginBottom:3}} >STT</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Tên hàng hoá, dịch vụ</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn vị</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Số lượng</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn giá</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Thành tiền</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n              </ListItem>\n            <Divider classes={{root: classes.divider}}/>      \n                {item.map((row, index) => {\n                  return (\n                    <>\n                    <ListItem  style={{margin:0, padding:0,}}>\n                        <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                              <Typography className={clsx(classes.Largetext)}style={{marginTop:2, marginBottom:2}} >{index +1}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"left\",marginTop:2, marginBottom:2, paddingLeft:4}}>{row.name}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}>{row.quantity_per_unit ?row.quantity_per_unit :\"Cái\"}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}><ThousandFormat value={ row.quantity}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"right\", marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={ row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                  </ListItem>\n                   <Divider classes={{root: classes.divider}}/>  \n                   \n                  </>\n                  );\n              })} \n            {/* <Divider classes={{root: classes.divider}}/>   */}\n          <ListItem  style={{margin:0, padding:0,}}>    \n            <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:3120}} >\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                  <Typography className={clsx(classes.Largetext,)}style={{marginTop:3, marginBottom:3, fontWeight:600}} >TỔNG CỘNG</Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                  <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3, fontWeight:600}}><ThousandFormat value={ item?.reduce((sum,a) => sum + Number(a.quantity),0)}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 1700}}>\n                  <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:3, marginBottom:3, paddingRight:4, fontWeight:600}}><ThousandFormat value={cart.total_amount}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n        </ListItem>\n        <Divider classes={{root: classes.divider}}/>  \n        <ListItem  style={{margin:0, padding:0,justifyContent:'space-between' , }}> \n            <ListItem  style={{margin:0, padding:0,}}> \n                <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                <Typography className={clsx(classes.Largetext)} style={{fontWeight:600,marginTop:2, marginBottom:2,marginLeft:5}}>Viết bằng chữ:</Typography>\n                <Typography className={clsx(classes.Largetext)} style={{marginTop:2, marginBottom:2,marginLeft:5, fontStyle:'italic'}}> {new Docso().doc(Number(cart.total_amount))} đồng./.</Typography>\n            </ListItem> \n            <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n\n        </ListItem> \n        <Divider classes={{root: classes.divider}}/>  \n        \n      {store_setting.printReceiptWhenSell.contentNote?\n      <Box>\n      <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n      <div>\n          <Grid container justifyContent='space-around' style={{marginTop:20}}>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người mua hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người giao hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người bán hàng </Typography>  </Grid>\n          </Grid>\n        </div> \n      </div>\n  )\n\n}\n\nexport const ImportReceiptPrinter = ({cart, date}) => {\n  const info = useSelector((state) => state.info);\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n    return (\n          <div >\n\n          {/*  */}\n          <Typography className={classes.title} >PHIẾU NHẬP HÀNG</Typography>\n          <Typography className={classes.center}>Mã phiếu: {}</Typography>\n          <Typography className={classes.center} style={{marginBottom:25}}>Thời gian: {date? date: orderTime}</Typography>\n        \n          \n          <Typography className={classes.text} >Chi nhánh nhập: {cart.branch ? cart.branch.name :info.branch.name}</Typography>\n          <Typography className={classes.text} >Người tạo: {cart.created_by_user ? cart.created_by_user.name :info.user.name}</Typography>\n          <Typography className={classes.text} style={{marginBottom:10}}>Nhà cung cấp: {cart.supplier?.name} </Typography>\n        \n          {/* List */}\n      \n          <Divider classes={{root: classes.divider}}/>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >STT</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Mã hàng</Typography>\n                  </Grid>\n                  <Grid item xs={4}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Đơn giá</Typography>\n                  </Grid>\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >SL</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >T.Tiền</Typography>\n                  </Grid>\n              </Grid>\n              <Divider classes={{root: classes.divider}}/>      \n\n         \n                  {item.map((row, index) => {\n                  return (\n                      <>\n                     \n                      <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{index+1}</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.bar_code}</Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.name}</Typography>\n                        </Grid>\n                       \n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.unit_price}/></Typography>\n                        </Grid>\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity}/></Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                      </>\n                  );\n              })}\n            \n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}>\n              <Grid item xs={5}>\n                <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền trả NCC:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Còn lại:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                <Typography >\n                  <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount}/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount)} /></Typography>\n\n              </Grid>\n            </Grid>   \n\n        <Grid container direction=\"row\" justifyContent=\"space-around\">\n              <Typography className={clsx(classes.text,classes.weight)}>\n                  Nhà cung cấp\n              </Typography>\n \n            <Typography className={clsx(classes.text,classes.weight)}>\n                  Người lập phiếu\n              </Typography>\n          </Grid>\n      </div>\n    )\n}\n\n","import React, { useEffect } from 'react'\nimport {Grid,Card,Box,Tooltip,TextField,ListItem,Divider,IconButton,TableRow,TableCell,TableBody,Typography} from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport clsx from \"clsx\";\nimport WarningIcon from '@material-ui/icons/Warning';\nconst ButtonQuantity = (props) =>{\n    const classes = useStyles();\n    const {quantity,setQuantity, limit, isReturn,branch_quantity,isMini,miniCart,isCustomer,isManageInventory, mini} = props;\n    const [show, setShow] = React.useState('none');\n  \n    const handleIncrement = () => {\n      //them cai nay\n       if (limit && Number(limit) === 0){\n        setQuantity(quantity)\n        return\n      }\n\n      else if(limit) {\n        if(quantity >= Number(limit)) {\n          setQuantity(quantity)\n          return\n        } \n      } \n     \n      setQuantity(quantity+ 1);\n    };\n  \n    const handleDecrement = () => {\n      if(quantity >=1){setQuantity(quantity- 1);}\n    };\n\n    \n    const handleShow = () => {\n      setShow('block');\n    };\n    const handleClose = () => {\n      setShow('none');\n    };\n  \n    const HtmlTooltip = withStyles((theme) => ({\n      tooltip: {\n        backgroundColor: '#9f9fa1',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(12),\n        border: '1px solid #dadde9',\n      },\n    }))(Tooltip);\n\n    var error_quantity = quantity > branch_quantity;\n\n    const handleQuantity = (e) =>{\n\n      //  if (!isNaN(e.target.value) && e.target.value >0){\n      //   setQuantity(parseInt(e.target.value))\n      // } \n     setQuantity(parseInt(e.target.value))\n    }\n   \n    return(\n    <ListItem onMouseOver={handleShow} onMouseOut={handleClose} style={isMini ||miniCart? {padding:0,paddingTop:5,paddingBottom:5, margin:0} : {}} > \n\n        {error_quantity && isMini && isManageInventory?\n            <HtmlTooltip title={ <React.Fragment>\n                <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>   <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n                </React.Fragment> } >\n              <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n          </HtmlTooltip>:null}\n\n          {/* margin:isMini?0:null, padding:isMini?0:null */}\n         {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity && isManageInventory ? \"red\":null,margin:isMini?0:null, padding:isMini?0:null,}} aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleDecrement} >\n            <RemoveIcon fontSize=\"inherit\" />\n          </IconButton> :null}\n             \n           <TextField  variant={isMini || miniCart? \"outlined\" : \"standard\"} id=\"standard-basic\" style={{width:isMini||miniCart?35 + (quantity).toString().length*10-10:35,minWidth:45,padding:0, marginLeft:isCustomer || isMini?20:null,marginRight:isCustomer|| isMini?20:null}} className={clsx(classes.textfieldClass,(show === 'none'||miniCart) ? classes.padding : null)}  size=\"small\" inputProps={{style: { textAlign: isMini?\"center\": \"right\", color: error_quantity  && isManageInventory  ? \"red\":null, fontWeight:error_quantity  && isManageInventory ? 600:null,\n              backgroundColor:error_quantity  && isManageInventory ?\"#ffe8e8\":null, height:miniCart?12:null\n            }}} \n          value={quantity} onChange={handleQuantity}/>\n     \n           \n          {isReturn ? `/${limit}`: null}\n          {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity  && isManageInventory  ? \"red\":null ,margin:isMini?0:null, padding:isMini?0:null,} } aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleIncrement}>\n            <AddIcon fontSize=\"inherit\" />\n          </IconButton>:null}\n\n\n\n{/* Error  */}\n          {error_quantity && !isMini  && isManageInventory  && !miniCart?\n     \n        <HtmlTooltip\n        title={\n          <React.Fragment>\n            <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>\n            <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n           \n          </React.Fragment>\n        }\n      >\n         <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n      </HtmlTooltip>\n         \n          \n          :null}\n\n    </ListItem>  \n    )\n  }\n\nexport default ButtonQuantity\n","import axiosClient from \"./axiosClient\";\n\nconst orderApi = {\n  addOrder: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/addOrder`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/orders`;\n    return axiosClient.get(url, {});\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  getOrder: (storeUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/orders/${orderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  editOrderApi: (storeUuid, branchUuid, orderUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.put(url, body);\n  },\n  deleteOrder: (storeUuid, branchUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.delete(url);\n  },\n  deleteAll: (storeUuid, branchUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/deleteAll`;\n    return axiosClient.delete(url);\n  },\n\n  // api for customer order\n  searchCustomerOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders`;\n    return axiosClient.get(url, { params: query });\n  },\n  processCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/process`;\n    return axiosClient.get(url);\n  },\n  confirmCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/confirm`;\n    return axiosClient.post(url, body);\n  },\n  cancleCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/cancel`;\n    return axiosClient.post(url);\n  },\n  paymentCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/payment`;\n    return axiosClient.post(url, body);\n  },\n  updateCustomerOrder: (storeUuid, branchUuid, customerOrderId, newDetails) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/updateDetails`;\n    return axiosClient.post(url, {\n      details: JSON.stringify(newDetails),\n    });\n  },\n};\nexport default orderApi;\n","import { Button, notification, Space } from \"antd\";\n\nconst openNotification = (type, message, description) => {\n  notification[type]({\n    message: message,\n    description: description,\n    placement: \"bottomRight\",\n    // placement: \"topRight\",\n    // style:{marginTop:60}\n    // style:{backgroundColor:'#4BB04F',  fontWeight:500}\n\n  });\n};\nexport default openNotification;\n","import axiosClient from \"./axiosClient\";\nconst supplierApi = {\n  createSupplier: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/suppliers`;\n    return axiosClient.post(url, body, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n  },\n  getSuppliers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/suppliers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.delete(url);\n  },\n  inactiveSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"inactive\" });\n  },\n  activeSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"active\" });\n  },\n  updateSupplier: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.post(url, body);\n  },\n  payDebt: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n};\nexport default supplierApi;\n","import React, { useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport { grey } from \"@material-ui/core/colors\";\n\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nconst ImportReturnSummary = ({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  let _value = null;\n  useEffect(() => {}, [data]);\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch?.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n              Trả đơn nhập\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.purchase_order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.supplier?.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\"> Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})</Typography>\n          <Typography variant=\"body2\">{calculateTotalReturnQuantity(data.details)}</Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">NCC đã trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng nhập\n        </Button>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default ImportReturnSummary;\n","import React, { useEffect } from \"react\";\nimport {\n  Card,\n  ListItem,\n  DialogContent,\n  Box,\n  Grid,\n  TableBody,\n  Typography,\n  TableCell,\n  TableRow,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport * as _ from \"lodash\";\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport update from \"immutability-helper\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport moment from \"moment\";\nimport ImportReturnSummary from \"../../CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary\";\n\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n// import library\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\nimport SearchProduct from \"../../SearchBar/SearchProduct\";\nimport TableHeader from \"../../TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../TableCommon/TableWrapper/TableWrapper\";\nimport * as Input from \"../../TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../Button/ButtonQuantity\";\nimport purchaseReturnApi from \"../../../api/purchaseReturnApi\";\n\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport { ReturnCartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InventoryReturnPopUp(props) {\n  const { purchaseOrder, classes, handleCloseReturn, reload, reloadDetail } =\n    props;\n  const theme = useTheme();\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  // 2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [purchaseReturn, setPurchaseReturn] = React.useState({\n    purchase_order_code: purchaseOrder.purchase_order_code,\n    purchase_order_id: purchaseOrder.id,\n    branch: purchaseOrder.branch,\n    supplier: purchaseOrder.supplier,\n    supplier_id: purchaseOrder.supplier_id,\n    branch_id: purchaseOrder.branch_id,\n    total_amount: 0,\n    details: purchaseOrder.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      purchase_order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: \"cash\",\n    paid_amount: \"0\",\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = _.cloneDeep(purchaseReturn);\n\n    newPurchaseReturn.details[itemIndex].selectedBatches = newBatches;\n    newPurchaseReturn.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Trả hàng thất bại\",\n  });\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    purchaseReturn.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    const newPurchaseReturn = update(purchaseReturn, {\n      total_amount: { $set: total },\n      paid_amount: { $set: total },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    if (newQuantity === 0) {\n      handleDeleteItem(itemId);\n      return;\n    }\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      paid_amount: { $set: paidAmount },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      payment_method: { $set: paymentMethod },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const dispatch = useDispatch();\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const export_date = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    const body = {\n      purchase_order_uuid: purchaseOrder.uuid,\n      supplier_id: purchaseReturn.supplier_id,\n      total_amount: purchaseReturn.total_amount.toString(),\n      payment_method: purchaseReturn.payment_method,\n      paid_amount: purchaseReturn.paid_amount.toString(),\n      status:\n        purchaseReturn.paid_amount >= purchaseReturn.total_amount\n          ? \"closed\"\n          : \"debt\",\n      details: purchaseReturn.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        purchase_order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        purchase_order_batches: detail.purchase_order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      export_date,\n    };\n\n    try {\n      const res = await purchaseReturnApi.removeInventory(\n        store_uuid,\n        purchaseOrder.branch.uuid,\n        body\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Trả hàng thành công: ${res.data.purchase_return_code}`\n        )\n      );\n      reload();\n      reloadDetail();\n      handleCloseReturn();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Trả hàng thất bại!\"));\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  return (\n    <>\n      <Grid\n        container\n        direction=\"row\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n      >\n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n            Trả hàng nhập\n          </Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={handleCloseReturn}\n        >\n          <CloseIcon />\n        </IconButton>\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          spacing={2}\n        >\n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n                {/* JSON data attribute phải giongso table head id */}\n\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n                {!xsScreen ? (\n                  <TableWrapper isCart>\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.ImportReturnHeadCells}\n                    />\n                    <TableBody>\n                      {purchaseReturn.details.map((detail, index) => (\n                        <ImportReturnTableRow\n                          handleProductPriceChange={handleProductPriceChange}\n                          handleItemQuantityChange={handleItemQuantityChange}\n                          handleChangeBatches={handleChangeBatches}\n                          detail={detail}\n                        />\n                      ))}\n                    </TableBody>\n                  </TableWrapper>\n                ) : (\n                  purchaseReturn.details.map((detail, index) => (\n                    <ReturnCartMiniTableRow\n                      handleProductPriceChange={handleProductPriceChange}\n                      handleItemQuantityChange={handleItemQuantityChange}\n                      detail={detail}\n                      isCart={false}\n                    />\n                  ))\n                )}\n              </Box>\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <ImportReturnSummary\n                data={purchaseReturn}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n    </>\n  );\n}\n\nexport default InventoryReturnPopUp;\nfunction ImportReturnTableRow({\n  detail,\n  handleProductPriceChange,\n  handleItemQuantityChange,\n  handleChangeBatches,\n}) {\n  const classes = useStyles();\n  const [show, setShow] = React.useState(\"none\");\n  useEffect(() => {}, [detail]);\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>\n        {detail.product_code}\n      </TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      {/* <TableCell align=\"left\">{detail.bar_code}</TableCell> */}\n      <TableCell align=\"right\">\n        {\" \"}\n        <Input.ThousandFormat value={detail.unit_price} />\n      </TableCell>\n      <TableCell align=\"right\">\n      {canFixPriceSell.status && canFixPriceSell.returnCart?\n        <Input.ThousandSeperatedInput\n          id=\"standard-basic\"\n          style={{ width: 70 }}\n          size=\"small\"\n          inputProps={{ style: { textAlign: \"right\" } }}\n          defaultPrice={detail.returnPrice}\n          onChange={(e) => handleChangePrice(e.target.value)}\n        />:\n        <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n      </TableCell>\n\n      <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n      <TableCell align=\"right\" className={classes.boldText}>\n        <Input.VNDFormat\n          value={Number(detail.returnQuantity) * Number(detail.returnPrice)}\n        />\n      </TableCell>\n    </TableRow>\n  );\n}\n","import { makeStyles, useTheme,withStyles ,} from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default makeStyles((theme)=>({\n  root: {\n    '& > *': {\n      borderBottom: 'unset',\n    },\n  },\n  rowClicked:{\n    //backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n    backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    \n  },\n  row:{\n    '&:hover': {\n      // backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n      backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    },\n  },\n  large: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  fontName:{\n    fontWeight: 450,\n  }\n}));","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import project\nimport {\n  CardHeader,\n  Tooltip,\n  TextField,\n  IconButton,\n  InputAdornment,\n  Box,\n  Button,\n  Typography,\n  MenuItem,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select\n} from \"@material-ui/core\";\n\n// import - icon\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport ViewColumnTwoToneIcon from \"@material-ui/icons/ViewColumnTwoTone\";\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport SearchTwoToneIcon from \"@material-ui/icons/SearchTwoTone\";\nimport barcodeIcon from \"../../../assets/img/icon/barcode_grey.png\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport NoteAddTwoToneIcon from \"@material-ui/icons/NoteAddTwoTone\";\n// import third party\nimport xlsx from \"xlsx\";\nimport SimpleModal from \"../../Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../Modal/ModalWrapperWithClose\";\nimport { applyMiddleware } from \"@reduxjs/toolkit\";\nimport { DeleteForever } from \"@material-ui/icons\";\nimport DeleteForeverOutlined from \"@material-ui/icons/DeleteForeverOutlined\";\n// import SimpleModal from \"../../Modal/ModalWrapper\";\n\n//--thu vien nay bij loi font\n// import jsPDF from 'jspdf'\n// import 'jspdf-autotable'\nconst cell = [\"A1\", \"B1\", \"C1\", \"D1\", \"E1\", \"F1\", \"G1\", \"H1\", \"I1\", \"J1\", \"K1\",];\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    icon: {\n      color: theme.customization.mode === \"Light\" ? grey[700] : grey[50],\n    },\n    toolbar: {\n      justifyContent: \"left\",\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 10,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 0,\n      //\n      width: 260,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    actions: {\n      marginTop: 0,\n    },\n  })\n);\nconst exportExcel = (dataTable, tableType, columnsToKeep = []) => {\n  try {\n    const newData = []\n    dataTable.map((row) => {\n      let rowRs = {}\n      columnsToKeep.map((cl) => {\n        rowRs = { ...rowRs, [cl.displayName]: row[cl.dbName] }\n      })\n      newData.push(rowRs)\n    })\n    const workSheet = xlsx.utils.json_to_sheet(newData);\n    const workBook = xlsx.utils.book_new();\n\n    xlsx.utils.book_append_sheet(workBook, workSheet, tableType);\n    //Buffer\n    //let buf=XLSX.write(workBook,{bookType:\"xlsx\",type:\"buffer\"})\n    //Binary string\n    xlsx.write(workBook, { bookType: \"xlsx\", type: \"binary\" });\n    //Download\n    xlsx.writeFile(workBook, `${tableType}.xlsx`);\n  } catch (err) {\n    console.log(err)\n  }\n};\n\nconst ToolBar = (props) => {\n  const {\n    dataTable,\n    tableType,\n    handlePrint,\n    textSearch,\n    handleToggleFilter,\n    hasImport,\n    importByJSON,\n    excel_head,\n    excel_data,\n    excel_name,\n    columnsToKeep,\n    searchKey, setSearchKey,\n    orderByOptions, orderBy, setOrderBy,\n    handleRemoveFilter,\n    sort, setSort,\n    isOnlySearch,\n    getDataExport,\n    customizable,\n    handleDeleteAll,\n    extra,\n  } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [openImport, setOpenImport] = useState(false);\n  const [custom, setCustom] = useState(true)\n  const [customCl, setCustomCl] = useState({\n    name: \"Sản phẩm\",\n    bar_code: \"Mã vạch\",\n    category_id: \"Danh mục\",\n    list_price: \"Giá bán\",\n    standard_price: \"Giá vốn\",\n    quantity_per_unit: \"Đơn vị\",\n    quantity: \"Tồn kho\",\n    min_reorder_quantity: \"Tồn nhỏ nhất\",\n    max_order: \"Tồn lớn nhất\",\n    img_urls: \"Hình ảnh\",\n    has_batches: \"Lô\",\n    description: \"Miêu tả\"\n  })\n  // const [json, setJson] = useState(null);\n\n  const readUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    if (e.target.files) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        // debugger\n        const data = e.target.result;\n        const workbook = xlsx.read(data, { type: \"array\" });\n        const sheetName = workbook.SheetNames[0];\n        const worksheet = workbook.Sheets[sheetName];\n        const myJson = xlsx.utils.sheet_to_json(worksheet)\n        try {\n          const json = myJson.map((product) => ({\n            name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n            list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n            standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n            category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n            bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n            quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n            min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n            description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n            has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n            max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n            img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n            quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n          }))\n          setJsonData(json);\n        } catch (err) {\n          console.log(err)\n        }\n      };\n      reader.readAsArrayBuffer(e.target.files[0]);\n    }\n  };\n  const [excel, setExcel] = useState([])\n  const readCustomerUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          const json = excelLines.map((line) => ({\n            name: line[\"Tên khách hàng\"],\n            phone: line[\"Số điện thoại\"],\n            address: line[\"Địa chỉ\"],\n            email: line[\"Email\"],\n            payment_info: line[\"Thông tin thanh toán\"],\n            points: line[\"Tích điểm\"],\n            total_payment: line[\"Tổng tiền mua\"],\n            debt: line[\"Còn nợ\"],\n          }))\n          setJsonData(json);\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  };\n  const handleImport = () => {\n    setOpenImport(false);\n    if (custom && customizable) {\n      console.log(\"customCl\",customCl)\n      setListCl([])\n      const json = excel.map((product) =>\n      \n       {\n        console.log(\"customCl.img_urls\",product[customCl.img_urls])\n\n         return ({\n        name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n        list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n        standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n        category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n        bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n        quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n        min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n        description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n        has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n        max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n        // img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n        img_urls: product[customCl.img_urls] ? product[customCl.img_urls] : \"\",\n\n        quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n      })})\n      importByJSON(json);\n    } else {\n      importByJSON(jsonData);\n    }\n  };\n  const [jsonData, setJsonData] = useState([]);\n\n  const [listCl, setListCl] = useState([]);\n\n  useEffect(() => {\n    setListCl([])\n  }, [openImport])\n\n  const readCustomizedProduct = (e) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          setExcel(excelLines)\n          setListCl(Object.keys(excelLines[0]))\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch(err) {\n      console.log(err)\n    }\n    \n  };\n  return (\n\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Grid item>\n          <Grid container direction=\"row\">\n            <Tooltip title=\"Nhấn Enter để tìm kiếm\">\n              <TextField\n                style={{ marginTop: 12, marginLeft: 10 }}\n                variant=\"outlined\"\n                onKeyUp={(e) => {\n                  if (e.key === \"Enter\" || e.target.value === \"\") {\n                    setSearchKey(e.target.value)\n                  }\n                }\n                }\n                placeholder={textSearch} /*placeholder='Tìm kiếm ...'*/\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchTwoToneIcon className={classes.icon} />\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23 }}\n                        src={barcodeIcon}\n                      />\n                    </InputAdornment>\n                  ),\n                  className: classes.search,\n                }}\n              />\n            </Tooltip>\n            {!isOnlySearch &&\n\n              <div style={{ marginLeft: 30, display: 'flex', flexDirection: 'row', gap: 10 }}>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Sắp xếp theo\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"orderBy\"\n                    value={orderBy}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setOrderBy(e.target.value)}\n                  >\n                    {orderByOptions?.map(o => <MenuItem value={o.value}>{o.label}</MenuItem>)}\n                  </Select>\n                </FormControl>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Thứ tự\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"sort\"\n                    value={sort}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setSort(e.target.value)}\n                  >\n                    <MenuItem value=\"asc\">Tăng dần</MenuItem>\n                    <MenuItem value=\"desc\">Giảm dần</MenuItem>\n                  </Select>\n                </FormControl>\n                <Button onClick={handleRemoveFilter}>\n                  Bỏ lọc\n                </Button>\n              </div>\n            }\n            {extra ? extra : null}\n          </Grid>\n        </Grid>\n        \n        <Grid item>\n          <Box className={classes.actions}>\n            <Tooltip\n              title=\"Nhập excel\"\n              style={{ display: hasImport ? null : \"none\" }}\n            >\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => setOpenImport(true)}\n              >\n                <NoteAddTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"Xuất excel\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={async () => {\n                  if (getDataExport) {\n                    const dataTableFull = await getDataExport();\n                    exportExcel(dataTableFull, tableType, columnsToKeep);\n                  } else {\n                    exportExcel(dataTable, tableType, columnsToKeep);\n                  }\n                }}\n              >\n                <GetAppTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            {/* {handleDeleteAll ? <Tooltip\n              title=\"Xóa tất cả hóa đơn\"\n            >\n              <IconButton\n                aria-label=\"deletealll \"\n                onClick={() => handleDeleteAll()}\n              >\n                <DeleteForeverOutlined className={classes.icon} />\n              </IconButton>\n            </Tooltip>: null} */}\n\n            <Tooltip title=\"In danh sách\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => {\n                  handlePrint();\n                }}\n              >\n                <PrintTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n            {/* <Tooltip title=\"Chọn cột\">\n            <IconButton aria-label=\"filter list\">\n              <ViewColumnTwoToneIcon className={classes.icon} />\n            </IconButton>\n          </Tooltip> */}\n            {!isOnlySearch &&\n              <Tooltip title=\"Lọc\">\n                <IconButton aria-label=\"filter list\" onClick={handleToggleFilter}>\n                  <FilterListTwoToneIcon className={classes.icon} />\n                </IconButton>\n              </Tooltip>\n            }\n\n            \n\n          </Box>\n        </Grid>\n      </Grid>\n\n      {openImport && <ModalWrapperWithClose\n        open={openImport}\n        handleClose={() => setOpenImport(false)}\n        title=\"Nhập dữ liệu từ file excel\"\n      >\n\n        {customizable ?\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name, columnsToKeep.filter(cl => cl.dbName != \"product_code\"));\n              }}\n            >\n              Excel mẫu\n            </a> hoặc <a style={{ color: \"blue\", cursor: \"pointer\" }}> tùy chỉnh </a>\n            )\n          </Typography> :\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name,  columnsToKeep.filter(cl => cl.dbName != \"total_payment\" && cl.dbName !=\"debt\"));\n              }}\n            >\n              Excel mẫu\n            </a>\n            )\n          </Typography>\n        }\n\n\n        {\n          custom && listCl.length > 0 && excel && customizable &&\n          <Grid container spacing={2} style={{ marginBottom: 15, width: 600, maxWidth: \"90vw\" }} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tên sản phẩm</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.name} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, name: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá bán</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.list_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, list_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá vốn</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.standard_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, standard_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Danh mục</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.category_id} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, category_id: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>            \n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mã vạch</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.bar_code} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, bar_code: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Đơn vị</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity_per_unit} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, quantity_per_unit: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn nhỏ nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.min_reorder_quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, min_reorder_quantity: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn lớn nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.max_order} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, max_order: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Hình ảnh (url1, url2,...)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.img_urls} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, img_urls: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mô tả</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.description} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, description: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn kho</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, quantity: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Lô (Có hoặc không)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.has_batches} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, has_batches: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n          </Grid>\n        }\n        {custom  && customizable?\n          <form>\n            <label htmlFor=\"upload\">Chọn file <strong>của bạn</strong>: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => { readCustomizedProduct(e) }}\n            />\n          </form>\n          :\n          <form>\n            <label htmlFor=\"upload\">Chọn file: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => {\n                if (customizable) {\n                  readUploadFile(e, setJsonData);\n                } else {\n                  readCustomerUploadFile(e, setJsonData);\n                }\n              }}\n            />\n          </form>\n        }\n\n        <Button\n          style={{ marginTop: 40 }}\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          onClick={handleImport}\n        >\n          Nhập\n        </Button>\n      </ModalWrapperWithClose>}\n    </>\n\n  );\n};\n\nexport default ToolBar;\n\nconst studentData = [\n  {\n    id: 1,\n    name: \"Quần dài\",\n    category: \"Thực phẩm\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 2,\n    name: \"Quần đùi\",\n    category: \"Bánh kẹo\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 3,\n    name: \"Áo dài\",\n    category: \"Đồ dùng\",\n    price: 250,\n    import_price: 120,\n  },\n  {\n    id: 4,\n    name: \"Bánh\",\n    category: \"Quần áo\",\n    price: 520,\n    import_price: 102,\n  },\n  {\n    id: 5,\n    name: \"Kẹo\",\n    category: \"Quần áo\",\n    price: 220,\n    import_price: 100,\n  },\n  {\n    id: 6,\n    name: \"Khăn giấy\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 7,\n    name: \"Quần dài\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 8,\n    name: \"Túi xách\",\n    category: \"Quần áo\",\n    price: 150,\n    import_price: 350,\n  },\n  {\n    id: 9,\n    name: \"Laptop\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 10,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 11,\n    name: \"Máy tính cầm ta\",\n    category: \"Quần áo\",\n    price: 223,\n    import_price: 152,\n  },\n  {\n    id: 12,\n    name: \"Tập vở\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 154,\n  },\n  {\n    id: 13,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 1223,\n    import_price: 354,\n  },\n];\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseOrderApi = {\n  addInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/addInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseOrder: (storeUuid, purchaseOrderUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/${purchaseOrderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/`;\n    return axiosClient.get(url, { params: query });\n  },\n  editPurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.put(url, body)\n  },\n  deletePurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.delete(url)\n  },\n  updateDetail: (storeUuid, branchUuid, detail) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-order-details/${detail.id}`;\n    return axiosClient.put(url, detail);\n  }\n};\nexport default purchaseOrderApi;\n","export default __webpack_public_path__ + \"static/media/tch.cc1a031b.jpeg\";","import axiosClient from './axiosClient';\n\nconst refundApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/refunds/`;\n    return axiosClient.get(url, {});\n  },\n  getRefund: (storeUuid, refundUuid) => {\n    const url = `stores/${storeUuid}/refunds/${refundUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchRefund: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default refundApi;\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseReturnApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseReturn: (storeUuid, purchaseReturnUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns/${purchaseReturnUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseReturn: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default purchaseReturnApi;\n","import React from 'react'\n\nconst CategorySelect = (props) => {\n    const {categoryList} =  props \n    return (\n        categoryList.map((category) => <MyOption category={category} currentLevel={0} />)\n\n    )\n}\n\nexport default CategorySelect\n\nconst MyOption = (props) => {\n    const { category, currentLevel } = props\n    let padding = \"\"\n    for (let i = 0; i < currentLevel; i++) {\n        padding += \"\\u00a0\\u00a0\\u00a0\\u00a0\"\n    }\n    try {\n        return (\n            [\n                <option key={category.key} value={category.uuid} >\n                    {padding + category.name}\n                </option>,\n                ...category.children?.map((subCategory) => <MyOption category={subCategory} currentLevel={currentLevel + 1} />)\n            ]\n        )\n    } catch (error) {\n        console.log(category)\n        return []\n    }\n}","import React from 'react'\nimport {Table,TableContainer,Box,Grid,FormControlLabel,Switch,Paper, TablePagination,Typography} from '@material-ui/core';\nimport { Pagination } from 'antd';\n\nconst Paginations = ({ pagingState, setPagingState, list}) => {\n\n  React.useEffect(()=>{\n    window.scrollTo(0, 0);\n  },[list])\n\n\n\n  return (\n    <TablePagination\n        // style={{marginTop:-25,marginBottom:60, marginLeft:-5}}\n        rowsPerPageOptions={[10, 25, 100]}\n        rowsPerPage={10}\n        labelRowsPerPage={\"Dòng\"}\n        component=\"div\"\n        count={pagingState?.total_rows}\n        rowsPerPage={pagingState?.limit}\n        page={pagingState?.page}\n        onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n        onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n    />\n    // <Box style={{width:500}}>\n    // <Pagination\n\n    //       style={{minWidth:500}}\n    //         size=\"small\"\n    //         total={pagingState?.total_rows}\n    //         current={pagingState?.page +1}\n    //         onChange={(newCurrent, newPageSize) => {\n    //             const pageSizeChange = pagingState?.limit !== newPageSize;\n    //             if (!pageSizeChange) {\n    //                 setPagingState({ ...pagingState, page: newCurrent -1 })\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n    //             } else {\n    //                 setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n\n    //             }\n    //           }}\n    //           showSizeChanger={true}\n    //         />\n  // </Box>\n  )\n}\n\nexport default Paginations","import React from 'react'\nimport MuiAlert from '@material-ui/lab/Alert';\nimport {Snackbar} from '@material-ui/core';\n\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\nconst SnackBarGeneral = (props) => {\n    const {open,status, handleClose} =props;\n    return (\n        <Snackbar\n        anchorOrigin={{ vertical: 'top',horizontal:  'right' }}\n        open={open}\n        onClose={handleClose}\n        autoHideDuration={2000} \n      >\n        <Alert severity={status.style} onClose={handleClose}>\n            {status.message}\n        </Alert> \n      </Snackbar>\n    )\n}\n\nexport default SnackBarGeneral\n","import { Box, Button, Grid, Typography } from \"@material-ui/core\";\nimport { useFormik } from \"formik\";\nimport React, { useState } from \"react\";\nimport VNDInput, { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport ModalWrapper from \"./ModalWrapper\";\nimport * as Yup from \"yup\";\nimport purchaseOrderApi from \"../../api/purchaseOrderApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\nconst PayRemaining = (props) => {\n  const { open, editApiCall, reloadDetail } = props;\n  const handleClose = () => {\n    props.handleClose();\n    formik.resetForm();\n  };\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: { pay: props.debt },\n    validationSchema: Yup.object({\n      pay: Yup.number()\n        .required(\"Vui lòng nhập số tiền\")\n        .lessThan(props.debt + 1, \"Tiền trả phải ít hơn nợ\")\n        .moreThan(0, \"Tiền trả phải lớn hơn 0\"),\n    }),\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  const handleSubmit = async () => {\n    handleClose();\n    try {\n      const response = await editApiCall(store_uuid, branch_uuid, props.uuid, {\n        paid_amount: Number(formik.values.pay) + props.paid,\n        status: formik.values.pay === props.debt ? \"closed\" : \"debt\",\n      });\n      dispatch(statusAction.successfulStatus(\"Trả thêm tiền thành công\"));\n      props.onReload();\n\n      reloadDetail();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Trả thêm tiền thất bại\"));\n    }\n  };\n  return (\n    <ModalWrapper open={open} handleClose={handleClose} title=\"Trả thêm\">\n      {props.title}\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 400, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Đã trả</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.paid} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn nợ</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.debt} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Trả lần này</Typography>\n        </Grid>\n        <Grid item xs={9}>\n          <VNDInput\n            name=\"pay\"\n            size=\"small\"\n            label=\"Số tiền muốn trả\"\n            value={formik.values.pay}\n            error={formik.errors.pay && formik.touched.pay}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            helperText={formik.touched.pay ? formik.errors.pay : null}\n          />\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn lại</Typography>\n        </Grid>\n        <Grid item xs={4}>\n          <Typography variant=\"h5\">\n            {\" \"}\n            <VNDFormat value={props.debt - formik.values.pay} />\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleClose}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n              onClick={handleSubmit}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default PayRemaining;\n","export default __webpack_public_path__ + \"static/media/empty-cart.f70a0162.png\";","import React from 'react'\nimport {\n\n    DialogContent,\n    DialogTitle,\n    Typography,\n\n    Dialog,\n  } from \"@material-ui/core\";\nconst DialogWrapper = (props) => {\n\n    const {handleClose, title,open} = props\n  return (\n    <Dialog  open={open} onClose={handleClose} maxWidth={'md'} >\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography style={{paddingTop: '24px', marginTop:-15, marginBottom:-10, }}  variant=\"h2\">\n         {title}\n        </Typography>\n\n      </DialogTitle>\n\n      <DialogContent>\n          {props.children}\n      </DialogContent>\n    \n    </Dialog>\n  )\n}\n\nexport default DialogWrapper","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n  ListItem\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport setting from \"../../../../assets/constant/setting\"\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nfunction InvoiceReturnSummary({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  console.log(\"dataaaaa\",data)\n\n  useEffect(() => {}, [data]);\n\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 10 }}>\n              Trả hoá đơn\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.customer.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\">\n            {/* Số lượng sản phẩm trả */}\n            Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})\n          </Typography>\n          <Typography variant=\"body2\">\n          <Input.ThousandFormat value={calculateTotalReturnQuantity(data.details)} />\n          </Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"> <Input.VNDFormat value={data.order_total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        {store_setting?.customerScore.status && data.customer.name !== \"Khách lẻ\"? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tích điểm</Typography>\n              <Typography variant=\"body2\">\n                <ListItem style={{padding:0, margin:0}}>\n                <Input.ThousandFormat\n                  // style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={-data.scores}\n                />\n               {data.customer?.points? <Typography>/{data.customer.points}</Typography> : null} \n               </ListItem>\n              </Typography>\n            </Grid>:null}\n\n\n        {/*\n                <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Phí trả hàng\n                    </Typography>\n                    <Input.ThousandSeperatedInput id=\"standard-basic\" style={{width:90 }} size=\"small\" inputProps={{style: { textAlign: \"right\" }}}  />\n                </Grid> */}\n\n        {/* <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Tổng đơn trả\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        400.000\n                    </Typography>\n                </Grid> */}\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Đã trả khách</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        \n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng\n        </Button>\n      </Grid>\n    </Box>\n  );\n}\n\nexport default InvoiceReturnSummary;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3aAAAN2gFLGPbrAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAEJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhihLswAAABV0Uk5TAAUGCxEWGxwgISg8SF5weZCbtrjYjtqLCgAAA55JREFUeNrt1FFPglAYgGFBHAL9/9/ZWrOMhG7CtnP26WFqF/U8V+3jg8Ps1c0GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4rKrPRoflUpdOfix3zW/Xj6j333+cjvFrdOlkHMPlbZvulExyu106+fgMl9ttOjme7rzTVeml92nF++R39fHkrBnCANohDmBYEcB+WZ7iANrsNcbncLnr0p2SSW7IAmhewuWnOgv79c47QxX+L0reJ79ruDA5n/5PfukICEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAB4qCa+NM3xteXSVHDEXLCcnzUXPHBeM7nwnJJDp+r68o07U33T++R3zQXPqfpsdPC1+LN6HwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPy6L03NV0bW8W9jAAAAAElFTkSuQmCC\"","import {\n  Button,\n  FormControl,\n  Grid,\n  InputLabel,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\"\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport { TreeSelect } from 'antd';\n\n\nconst AddCategory = (props) => {\n  const [categoryList, setCategoryList] = useState([]);\n  const [categoryInfo, setCategoryInfo] = useState({\n    name: \"\",\n    parent_category_uuid: \"\",\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  useEffect(() => {\n    const fetchAllCategory = async () => {\n      try {\n        const response = await productApi.getAllCategory(store_uuid);\n        const response_1 = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response_1.data);\n      } catch (error) { }\n    };\n    fetchAllCategory();\n  }, [props.reset]);\n\n\n\n  const dispatch = useDispatch();\n  const handleAddCategory = async () => {\n    handleCloseAndReset()\n    try {\n      const response = await productApi.addCategory(store_uuid, categoryInfo);\n      props.onReset()\n      dispatch(statusAction.successfulStatus(\"Tạo danh mục thành công\"));\n\n\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo danh mục thất bại\"));\n    }\n  };\n  const handleCloseAndReset = () => {\n    props.handleClose()\n    setCategoryInfo({\n      name: \"\",\n      parent_category_uuid: \"\",\n    })\n  }\n  console.log(\"categoryInfo\",categoryInfo)\n  return (\n    <ModalWrapper {...props}>\n      <Typography variant=\"h4\" gutterBottom>\n        Thêm danh mục mới\n      </Typography>\n      <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Tên danh mục\"\n            variant=\"outlined\"\n            size=\"small\"\n            required\n            fullWidth\n            onChange={(e) =>\n              setCategoryInfo({ ...categoryInfo, name: e.target.value })\n            }\n          />\n        </Grid>\n        <Grid item xs={12}>\n          {/* <FormControl size=\"small\" variant=\"outlined\" fullWidth>\n            <InputLabel htmlFor=\"category\">Danh mục cha</InputLabel>\n            <Select\n              native\n              label=\"Danh mục cha\"\n              id=\"category\"\n              value={categoryInfo.uuid}\n              onChange={(e) =>\n                setCategoryInfo({\n                  ...categoryInfo,\n                  parent_category_uuid: e.target.value,\n                })\n              }\n            >\n              <option aria-label=\"None\" value=\"\" />\n              <CategorySelect categoryList={categoryList}/>\n              \n            </Select>\n          </FormControl> */}\n            <TreeSelect\n            placeholder=\"Danh mục cha\"\n                  id=\"category\"\n                  name=\"category\"  \n                  style={{ width: '100%'}}   \n                  dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                  treeData={categoryList}\n                  value={categoryInfo.uuid}\n                  onChange={(val)=>\n                    setCategoryInfo({\n                    ...categoryInfo,\n                    parent_category_uuid: val,\n                  })}\n                  treeDefaultExpandAll\n                  \n                />\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          {\" \"}\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            style={{ marginRight: 20 }}\n            onClick={props.handleClose}\n            size=\"small\"\n          >\n            Hủy\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"small\"\n            onClick={handleAddCategory}\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default AddCategory;\n\n","import React, {useState,useEffect} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\"\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {getAllProductInCategoryParent} from \"../../../../utils\"\nimport { ThousandSeperatedInput } from '../../../../components/TextField/NumberFormatCustom';\nimport productApi from \"../../../../api/productApi\";\nimport {useSelector,useDispatch} from 'react-redux'\n\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst DiscountPopup = ({open,onClose,title,filteredPromotion,handleUpdateSelectedPromotion,selectedPromotion,listGiftItem,totalCartAmount,handleUpdateBestDetailSelectedPromotion,products}) => {\n    console.log(\"selectedPromotion\",filteredPromotion)\n    const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [value, setValue] = React.useState(selectedPromotion?selectedPromotion.id.toString():null);\n  console.log(\"value\",value)\n  console.log(\"selectedPromotionselectedPromotion\",selectedPromotion)\n  const [promotion, setPromotion] =  React.useState(selectedPromotion? selectedPromotion:null);\n//   const [check, setCheck] =  React.useState(selectedPromotion?selectedPromotion.listGiftItem:[]);\n\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:selectedPromotion.listGiftItem}:{idPro:null, detail:[]});\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:listGiftItem?listGiftItem:[]}:{idPro:null, detail:[]});\nconst [check, setCheck] =  React.useState({idPro:null, detail:[]});\n\n// selectedPromotion.listGiftItem\n  function getColorSelected (selectedData,itemUuid  ){\n    if(!selectedData){return}\n    return selectedData.some(function(e) {return e.uuid.includes(itemUuid); }) ?  theme.customization.primaryColor[50]:null \n  }\n  const handleChange = (promotion) => {\n\n    if(Number(promotion.id) === Number(value)){\n        setValue(null);\n        setPromotion(null)\n    }else{\n        setValue(promotion.id.toString());\n        setPromotion(promotion)\n    }\n  };\n\n  console.log(\"check\",check)\n  const getBestDetailSelectedCondition = (promotion) =>{\n    if(promotion){\n        let bestDetailSelectedCondition = promotion?.detailCondition?.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n        bestDetailSelectedCondition =bestDetailSelectedCondition? bestDetailSelectedCondition.filter(item => item !== null)[0]:null\n        return bestDetailSelectedCondition\n    }\n  }\n  const [categoryList,setCategoryList] = useState(null)\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        console.log(\"response.data\",response.data)\n\n        // productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, []);\n\n  const getListItem = (bestDetailSelectedCondition) => {\n    if(!bestDetailSelectedCondition.isGiftCategory){\n        return bestDetailSelectedCondition.listGiftItem\n    }else{\n        // products,categories,categoryId\n        console.log(\"bestDetailSelectedCondition.listGiftCategory\",bestDetailSelectedCondition.listGiftCategory)\n        return getAllProductInCategoryParent(products,categoryList,bestDetailSelectedCondition.listGiftCategory[0])\n    }\n  \n  }\n  const handleCheck = (value, idPro) =>{\n    return setCheck({idPro:idPro, detail:value.map((item)=> {return {...item, quantity:1}})})\n  }\n\n  const handleChangeGiftQuantity = (idPro,product, newQuantity) => {\n    const itemIndex = check.detail.findIndex(\n        (item) => item.uuid === product.uuid\n      );\n      const newCheck = {...check};\n      newCheck.detail[itemIndex].quantity = newQuantity;\n      console.log(\"newCheck\",newCheck)\n      setCheck(newCheck)\n  }\n    return (\n        // <Dialog open={open} handleClose={onClose} title={title}>\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"md\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            {title}\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n                <Grid  container direction=\"row\" justifyContent=\"\" style={{marginBottom:8}}>\n                    <Grid item style={{width:10,marginRight:30}} >                      \n                    </Grid>\n                    <Grid item style={{width:250,marginRight:30}} >\n                        <Typography className={clsx(classes.text,classes.weight)} >Chương trình khuyến mãi</Typography>\n                    </Grid>\n                    <Grid item style={{width:250, marginRight:30}}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Hình thức khuyến mãi</Typography>\n                    </Grid>\n                </Grid>\n                <Divider style={{marginBottom:8}} />\n                {/* // */}\n                <FormControl component=\"fieldset\">\n                    <RadioGroup value={value} >\n                        {filteredPromotion?.map((pro) => {\n                            let bestCondition = pro.detailCondition.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n                            bestCondition =bestCondition.filter(item => item !== null)[0]\n                            let bestDetailSelectedCondition = getBestDetailSelectedCondition(pro)\n                            return (\n                                <Grid  key={pro.id} container direction=\"row\" justifyContent=\"\">\n                                        <Grid item style={{width:10,marginRight:30}} >\n                                            <FormControlLabel value={pro.id.toString()} control={<Radio  size=\"small\" onClick={()=>handleChange(pro)}/>}  />\n                                            {/* <FormControlLabel value={promotion} control={<Radio  size=\"small\" onClick={()=>handleChange(promotion)}/>}  /> */}\n\n                                        </Grid>\n                                        <Grid item style={{width:250,marginRight:30,marginTop:10, color:\"#383737\"}} >\n                                            <Typography >{pro.name}</Typography>\n                                        </Grid>\n                                        <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                            <Typography  >{pro.discountKey ===\"invoice\" ? \"Hoá đơn\" : \"Sản phẩm\"} - {getDiscountType(pro.discountKey,pro.discountType)}</Typography>\n                                            <Typography  style={{fontSize:12}}>{pro.discountType ===\"sendGift\" ? `(${bestDetailSelectedCondition.numberGiftItem} sản phẩm)`:null }</Typography>\n                                        </Grid>\n                                        {pro.discountType ===\"discountInvoice\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                <Typography  >Giảm giá <b style={{color:'#00b3ff', fontWeight:600}}>{bestDetailSelectedCondition.discountValue.toLocaleString()} {bestDetailSelectedCondition.type}</b> {\"\\u00a0\\u00a0\"}(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ) </Typography>\n                                            </Grid>\n                                        :null }\n                                         {pro.discountType ===\"sendGift\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                {Number(bestDetailSelectedCondition.numberGiftItem) === 1 &&  !bestDetailSelectedCondition.isGiftCategory && bestDetailSelectedCondition.listGiftItem.length === 1 ? \n                                                    <Typography><b > Tặng sản phẩm </b> <b style={{color:'#00b3ff', fontWeight:500}}>{bestDetailSelectedCondition.listGiftItem[0].product_code}-{bestDetailSelectedCondition.listGiftItem[0].name}</b></Typography>\n                                                    :\n                                                    <>\n                                                    <Typography style={{marginBottom:5}}><b > Tặng sản phẩm </b> </Typography>\n                                                    <Select multiple  variant=\"outlined\" fullWidth   id=\"branches\"  name=\"branches\" size=\"small\"\n                                                        onChange={(e)=>handleCheck(e.target.value,pro.id)}\n                                                        value={check.detail}\n                                                                renderValue={(selected) => \n                                                                    selected?.map((item) => {\n                                                                        return getListItem(bestDetailSelectedCondition).find( (product) => product.uuid === item.uuid)?.name;\n                                                                    }).join(\", \")\n                                                                }\n                                                                placeholder=\"Sản phẩm\"\n                                                                style={{width:200, marginLeft:20, height:50}}\n                                                            >\n                                                            {getListItem(bestDetailSelectedCondition)?.map((item) => (\n                                                                <MenuItem key={item.uuid} value={item} \n                                                                style={{backgroundColor:getColorSelected(check.detail, item.uuid) }} \n                                                                > \n                                                                <Grid container justifyContent='space-between'>\n                                                                    {item.name}\n                                                                    {getColorSelected(check.detail, item.uuid)? <CheckIcon color='primary'/> :null}\n                                                                </Grid >\n                                                                </MenuItem>\n                                                            ))}\n                                                    </Select>\n                                                    { check.idPro === pro.id ?\n                                                     check.detail.map((item)=>{\n                                                        return (\n                                                            <ListItem>\n                                                                <Typography>{item.product_code} - {item.name}</Typography>\n                                                                <ThousandSeperatedInput value={item.quantity} onChange={(e)=>handleChangeGiftQuantity(pro.id,item,e.target.value)}/>\n                                                            </ListItem>\n                                                        )\n                                                    }) :null }\n                                      \n                                                    \n                                                    </>\n                                                }\n\n                                                <Typography  >(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ )</Typography>\n\n                                               \n                                            </Grid>\n                                        :null }\n                                    </Grid>      \n                            )})}\n                    <Divider />\n                </RadioGroup>\n            </FormControl> \n                \n            </DialogContent>\n            <DialogActions>\n        <Button\n          onClick={onClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          onClick={()=>{handleUpdateBestDetailSelectedPromotion(getBestDetailSelectedCondition(promotion));handleUpdateSelectedPromotion(promotion, check);onClose()}}\n        >\n          Áp dụng\n        </Button>\n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default DiscountPopup\n\nfunction getDiscountType (discountKey, discountType){\n\n    if(discountKey === \"invoice\"){\n        if(discountType ===\"sendGift\"){return \"Tặng hàng\"}\n        else if (discountType ===\"sendVoucher\"){ return \"Tặng voucher\"}\n        else{ return \"Giảm giá hoá đơn\"}\n    }else{\n        if(discountType ===\"sendGift\"){return \"Mua hàng tặng hàng\"}\n        else{return \"Giá bán theo số lượng mua\"}\n    }\n}","export default __webpack_public_path__ + \"static/media/giftbox.a742d657.png\";","import {\n  Box,\n  Button,\n  Grid,\n  TextField,\n  Typography,\n  Select,\n  MenuItem,\n  Chip,\n  InputLabel,\n  FormControl,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport VNDInput, {\n  VNDFormat,\n} from \"../../../../../components/TextField/NumberFormatCustom\";\nimport ModalWrapper from \"../../../../../components/Modal/ModalWrapper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport orderApi from \"../../../../../api/orderApi\";\nimport openNotification from \"../../../../../components/StatusPopup/StatusPopup\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst OrderModal = ({ handleClose, customerOrder, isOpen }) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branch = info.branch;\n  const dispatch = useDispatch();\n\n  const [inventoryInfo, setInventoryInfo] = useState([]);\n\n  const [order, setOrder] = useState({});\n\n  useEffect(async () => {\n    try {\n      if (store_uuid && branch_uuid) {\n        const res = await orderApi.processCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          customerOrder.id\n        );\n\n        const inventoryInfo = res.data;\n        const details = JSON.parse(\n          customerOrder.details ? customerOrder.details : \"[]\"\n        )?.map((detail) => ({\n          orderredQuantity: detail.quantity,\n          branchInventory: getBranchInventory(detail.id, inventoryInfo),\n          batches: getBatches(detail.id, inventoryInfo),\n          selectedBatches: [],\n          name: detail.name,\n          product_code: detail.product_code,\n          unit_price: detail.list_price,\n          id: detail.id,\n          uuid: detail.uuid,\n          discount: 0,\n          has_batches: detail.has_batches,\n          quantity: detail.has_batches\n            ? 0\n            : Math.min(\n                detail.quantity,\n                getBranchInventory(detail.id, inventoryInfo)\n              ),\n        }));\n\n        const newOrder = {\n          new_customer: {\n            name: customerOrder.name,\n            phone: customerOrder.phone,\n            address: customerOrder.address,\n            ward: customerOrder.ward,\n            province: customerOrder.province,\n            district: customerOrder.district,\n          },\n          details: details,\n          discount: 0,\n          description: \"\",\n          total_amount: _.sumBy(\n            details,\n            (detail) => detail.quantity * detail.unit_price\n          ),\n          status: \"debt\",\n        };\n\n        setOrder(newOrder);\n      }\n    } catch (err) {\n      console.log(err);\n      openNotification(\"error\", \"Không thể lấy dữ liệu tồn kho\");\n    }\n  }, []);\n\n  const handleConfirm = async () => {\n    let d = moment.now() / 1000;\n    let orderTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n    let body = {\n      ...order,\n      discount: order.discount.toString(),\n      paid_amount: 0,\n      payment_method: \"cash\",\n      creation_date: orderTime,\n      paid_date: \"\",\n      tax: \"0\",\n      shipping: \"0\",\n      is_customer_order: true,\n      new_customer: JSON.stringify(order.new_customer),\n    };\n\n    try {\n      \n      handleClose();\n      let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n      let updateCustomerOrderRes = await orderApi.confirmCustomerOrder(\n        store_uuid,\n        branch.uuid,\n        customerOrder.id,\n        {\n          order_code: res.data.order.order_code,\n          order_id: res.data.order.id,\n        }\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Tạo hóa đơn thành công ${res.data.order.order_code}`\n        )\n      );\n    } catch (err) {\n      dispatch(statusAction.failedStatus(`Tạo hóa đơn thất bại`));\n      console.log(err);\n    }\n  };\n  const getBranchInventory = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    const branchInventory = product?.branch_inventories.find(\n      (branchInventory) => branchInventory.branch_id === branch.id\n    );\n    return branchInventory?.quantity_available;\n  };\n\n  const getBatches = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    return product?.batches;\n  };\n\n  const handleSelectBatch = (e, detailIndex) => {\n    const batch = e.target.value;\n    if (\n      order.details[detailIndex].selectedBatches.find(\n        (selectedBatch) => selectedBatch.batch_code === batch.batch_code\n      )\n    ) {\n      return;\n    }\n    const newSelectedBatches = [...order.details[detailIndex].selectedBatches];\n    newSelectedBatches.push({ ...batch, additional_quantity: 0 });\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches = newSelectedBatches;\n    setOrder(newOrder);\n  };\n\n  const handleChangeBatchQuantity = (e, detailIndex, selectedBatchIndex) => {\n    const value = Number(e.target.value);\n    if (\n      value >\n        order.details[detailIndex].selectedBatches[selectedBatchIndex]\n          .quantity ||\n      value < 0\n    ) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches[\n      selectedBatchIndex\n    ].additional_quantity = value;\n    newOrder.details[detailIndex].quantity = _.sumBy(\n      newOrder.details[detailIndex].selectedBatches,\n      \"additional_quantity\"\n    );\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const handleChangeDetailQuantity = (e, detailIndex) => {\n    const value = Number(e.target.value);\n    if (value > order.details[detailIndex].branchInventory || value < 0) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].quantity = value;\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const renderQuantityInput = (detail, detailIndex) => {\n    if (detail?.has_batches) {\n      return (\n        <>\n          <Typography>Tổng: {detail.quantity}</Typography>\n          <FormControl variant=\"standard\">\n            <InputLabel id=\"batch-label\">Lô</InputLabel>\n            <Select\n              labelId=\"batch-label\"\n              autoWidth\n              labelWidth={100}\n              fullWidth\n              onChange={(e) => handleSelectBatch(e, detailIndex)}\n            >\n              {detail.batches.map((batch) => (\n                <MenuItem value={batch} key={batch.code}>{`${\n                  batch.batch_code\n                }(${batch.expiry_date ? batch.expiry_date : \"\"})-${\n                  batch.quantity\n                }`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {detail.selectedBatches.map((batch, selectedBatchIndex) => (\n            <div\n              style={{\n                marginTop: 5,\n                marginBottom: 5,\n                display: \"flex\",\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                gap: 5,\n                backgroundColor: \"#eee\",\n              }}\n            >\n              <Typography>{`${batch.batch_code}${\n                batch.expiry_date ? \"(\" + batch.expiry_date + \")\" : \"\"\n              }`}</Typography>\n              <TextField\n                type=\"number\"\n                size=\"small\"\n                style={{ width: 30 }}\n                value={batch.additional_quantity}\n                onChange={(e) =>\n                  handleChangeBatchQuantity(e, detailIndex, selectedBatchIndex)\n                }\n              />\n              <Typography>{`/${batch.quantity}`}</Typography>\n            </div>\n          ))}\n        </>\n      );\n    } else {\n      return (\n        <TextField\n          type=\"number\"\n          size=\"small\"\n          style={{ width: 30 }}\n          value={Math.min(detail.quantity, detail.branchInventory)}\n          onChange={(e) => handleChangeDetailQuantity(e, detailIndex)}\n        />\n      );\n    }\n  };\n\n  const isOrderEmpty = () => {\n    return order.details?.every((detail) => detail.quantity === 0);\n  };\n\n  const handleCancelOrder = async () => {\n    handleClose();\n    try {\n      const res = await orderApi.cancleCustomerOrder(store_uuid, branch_uuid, customerOrder.id);\n      dispatch(statusAction.successfulStatus(\"Hủy đơn đặt thành công\"));\n    } catch (err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Hủy đơn đặt thất bại\"))\n    }\n  }\n\n  return (\n    <ModalWrapperWithClose open={isOpen} handleClose={handleClose} title=\"Đơn đặt\">\n      <Typography variant=\"h3\">{customerOrder.customer_order_code}</Typography>\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 800, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={12} container spacing={2}>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Typography>Tên khách: {customerOrder.name}</Typography>\n              <Typography>Số điện thoại: {customerOrder.phone}</Typography>\n              <Typography>Địa chỉ: {customerOrder.address}</Typography>\n            </Box>\n          </Grid>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tạm tính</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Giảm giá</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                  onChange={(e) =>\n                    setOrder({ ...order, discount: Number(e.target.value) })\n                  }\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tổng hóa đơn</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount - order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n        <TableContainer component={Paper}>\n          <Table aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell align=\"right\">Sản phẩm</TableCell>\n                <TableCell align=\"right\">SL đặt</TableCell>\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">SL bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                <TableCell align=\"right\">Trạng thái</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {order.details?.map((detail, detailIndex) => (\n                <TableRow key={detail.product_code}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell align=\"right\">{detail.name}</TableCell>\n                  <TableCell align=\"right\">{detail.orderredQuantity}</TableCell>\n                  <TableCell align=\"right\">{detail.branchInventory}</TableCell>\n                  <TableCell align=\"right\">{detail.unit_price}</TableCell>\n                  <TableCell align=\"right\">\n                    {renderQuantityInput(detail, detailIndex)}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <VNDFormat value={detail.quantity * detail.unit_price} />{\" \"}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {detail.quantity < detail.orderredQuantity ? (\n                      <Typography style={{ color: \"red\" }}>Không đủ</Typography>\n                    ) : (\n                      <Typography style={{ color: \"green\" }}>Đủ</Typography>\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleCancelOrder}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              onClick={handleConfirm}\n              disabled={isOrderEmpty()}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapperWithClose>\n  );\n};\n\nexport default OrderModal;\n","import React, {useState, useEffect} from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport { VNDFormat,ThousandFormat } from '../../../../../components/TextField/NumberFormatCustom';\n\nimport { grey} from '@material-ui/core/colors'\nimport OrderModal from './OrderModal';\nimport orderApi from '../../../../../api/orderApi';\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport moment from 'moment';\nimport { useDispatch, useSelector } from 'react-redux';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nconst getOrderStatus = (status) =>{\n  if(status === \"new\") {return \"Chờ chấp nhận\"}\n  if(status===\"cancelled\") {return \"Đã hủy\"}\n  if(status===\"confirmed\") {return \"Chờ giao\"}\n  if(status===\"paid\") {return \"Hoàn thành\"}\n}\nconst OrderProductListDetail = (props) => {\n    const {row,openRow, reload }= props.parentProps;\n    const {isMini}= props.parentProps;\n\n    const [isOrderModalOpen, setIsOrderModalOpen] = useState(false);\n\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branch = info.branch;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n\n    const handleCloseReturn = () => {\n      setOpen(false);\n    };\n\n    const dispatch = useDispatch();\n\n    const handlePayment = async () => {\n      let d = moment.now() / 1000;\n      let paid_date = moment\n        .unix(d)\n        .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n      try {\n        const res = await orderApi.paymentCustomerOrder(store_uuid, branch_uuid, row.id , {paid_date: paid_date})\n        reload();\n        dispatch(statusAction.successfulStatus('Thanh toán thành công'))\n      }catch(err) {\n        console.log(err);\n        dispatch(statusAction.failedStatus('Thanh toán thất bại'))\n      }\n    }\n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse in={openRow === row.id} timeout=\"auto\" unmountOnExit>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn đặt\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.customer_order_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày đặt{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tên khách\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.name}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Số điện thoại\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.phone}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                 { getOrderStatus(row.status)}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Địa chỉ{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.address}{`, `}{row.ward} {`, `}{row.district}{`, `}{row.city}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={6} sm={6} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>    \n                        </Grid>\n                        <Grid item  sm={4} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.branch} </Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                <TableCell align=\"right\">Số lượng</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                {/* <TableCell align=\"right\">Đã nhập</TableCell>\n                     <TableCell align=\"right\">Trạng thái</TableCell> */}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {JSON.parse(row.details ? row.details : \"[]\").map(\n                (historyRow) => (\n                  <TableRow key={historyRow.product_id}>\n                    <TableCell component=\"th\" scope=\"row\">\n                      {historyRow.product_code}\n                    </TableCell>\n                    <TableCell>{historyRow.name}</TableCell>\n                    <TableCell align=\"right\">\n                      <ThousandFormat value={historyRow.quantity} />\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <VNDFormat value={historyRow.list_price} />\n                    </TableCell>\n                    <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                      <VNDFormat\n                        value={historyRow.quantity * historyRow.list_price}\n                      />\n                    </TableCell>\n                    {/* <TableCell align=\"right\"><ThousandFormat value={0} /></TableCell>\n                       <TableCell align=\"right\">Đã nhập đủ</TableCell> */}\n                  </TableRow>\n                )\n              )}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={JSON.parse(row.details).} /> </Typography>\n                        </Grid>\n                    </Grid> */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng số mặt hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={\n                        JSON.parse(row.details ? row.details : \"[]\").length\n                      }\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Giảm giá\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Cần thu\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount - row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số mặt hàng đã nhập đủ</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">2/4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n              {/* \n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả NCC</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Box>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n            {currentUser === row.employee ? (\n              <>\n                {\" \"}\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Xoá\n                </Button>{\" \"}\n              </>\n            ) : null}\n\n            <Button disabled={row.status !== 'new'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => setIsOrderModalOpen(true)}>\n              Xử lý đơn đặt\n            </Button>\n            \n            <Button disabled={row.status !== 'confirmed'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={handlePayment}>\n              Thanh toán\n            </Button>\n\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn đặt\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid>\n\n          {isOrderModalOpen && <OrderModal customerOrder={row} handleClose={() => {setIsOrderModalOpen(false); reload()}} isOpen={isOrderModalOpen}/>}\n\n          <Dialog\n            fullWidth={true}\n            maxWidth=\"lg\"\n            open={open}\n            onClose={handleCloseReturn}\n            aria-labelledby=\"form-dialog-title\"\n          >\n            <InventoryReturnPopUp\n              handleCloseReturn={handleCloseReturn}\n              row={row}\n              classes={classes}\n            />\n          </Dialog>\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default OrderProductListDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\n\n//import library\nimport {Box,Grid,Collapse,Divider,ListItem,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\nimport clsx from \"clsx\"\nimport { ThousandFormat, VNDFormat } from '../../../../../../components/TextField/NumberFormatCustom';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  weight: {\n    fontWeight: 500,\n    color: \"#000\",\n    fontSize: 14,\n  },\n  tag:{\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 24,\n    margin: 2,\n    lineHeight: 22,\n    backgroundColor: \"#fafafa\",\n    border: \"1px solid #e8e8e8\",\n    borderRadius: 2,\n    boxSizing: \"contentBox\",\n    padding: \"0 4px 0 10px\",\n    outline: 0,\n    \n  },\n  span:{\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst DiscountDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n    const {promotion_condition,dateAdvanceSetting,type,isMini} = props;\n\n    const rowsInvoice  = props.promotion_condition;\n    console.log(\"rowsInvoice\",props.promotion_condition)\n    // const rowsInvoice = props.promotion_condition;\n\n    \n    // const discountKey= promotion_condition?.discountKey;// invoice, product\n    // const discountType = promotion_condition?.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n    const discountKey= row.discountKey;// invoice, product\n    const discountType = row.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n\n    // CALL APII (đổi thanhd api)\n\n\n\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const isActive =  (startDay, endDay) =>{\n      const current   = new Date() \n      // return (startDay !== \"0000-00-00\" ?new Date(startDay) <= current : true) && ( endDay !== \"0000-00-00\" ?current <= new Date(endDay) :true)\n      return (startDay   ?new Date(startDay) <= current : true) && ( endDay  ?current <= new Date(endDay) :true)\n\n    }\n    return (\n        <Collapse in={ isMini ? true :openRow === row.id } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={12} sm={6}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.promotion_code} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={4} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Hình thức</Typography>    \n                          </Grid>\n                          <Grid item  >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{type}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n\n\n                <Grid item xs={12} sm={6}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status ==='active' && isActive(row.start_date,row.end_date)? \"Hoạt động\" : 'Chưa hoạt động' }</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                      \n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.start_date ? `Từ ${row.start_date?.split('-').reverse().join('/')}` : null}  {row.end_date ? `-  Đến ${row.end_date?.split('-').reverse().join('/')}` :\"(Không giới hạn)\"}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    {/* Thay TRUE thành nếu list theo thứ ngày tháng,.. ko empty thì show */}\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo tháng</Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byMonth?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo ngày</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDay?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4}>\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo thứ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDate?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo giờ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byTime?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {row.customer_birth?\n                      <Typography style={{fontWeight:500, color:\"red\"}}> * Áp dụng vào ngày sinh nhật của khách hàng *</Typography> : null\n                    }\n                    \n                  </Grid>\n               \n              </Grid>\n          \n          \n          \n          {/* Header */}\n         <div style={{backgroundColor:theme.customization.primaryColor[50], height:35, marginTop:20,paddingTop:10, paddingLeft:15, marginLeft:10, marginRight:10}}>\n          <Grid  container direction=\"row\" justifyContent=\"\">\n              {/* col 1 */}\n              {discountKey ===\"invoice\"?\n              <Grid item style={{width:150, marginRight:30}}>\n                <Typography className={clsx(classes.text,classes.weight)} >Tổng tiền hàng</Typography>\n              </Grid>:null\n              }\n              {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType==\"priceByQuantity\" ?\n              <>\n              <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL mua</Typography>\n              </Grid>\n              <Grid item style={{ marginRight:190}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng mua</Typography>\n              </Grid>\n               </>:null\n              }\n               { discountType ===\"discountInvoice\"?\n                  <Grid item >\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Giá trị khuyến mãi</Typography>\n                </Grid>:null\n                }\n                {['sendGift','sendVoucher'].includes(discountType) ?\n                  <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL tặng</Typography>\n              </Grid>:null\n                }\n                {discountType ===\"sendGift\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng tặng</Typography>\n                    </Grid> :null\n               }\n               {discountType ===\"sendVoucher\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Voucher</Typography>\n                    </Grid> :null\n               }\n            </Grid>\n          </div>\n\n          {rowsInvoice?.map((discountRow, index) => {\n              return (\n                  <>\n                  <div style={{paddingLeft:15, marginLeft:10, marginRight:10}}>\n                  <Grid container direction=\"row\" justifyContent=\"\">\n                      {/* col 1 */}\n                      {discountKey ===\"invoice\"?\n                      <Grid item  container direction=\"row\" alignItems=\"center\" style={{width:130,marginRight:52, height:40}} >\n                          <Grid item> <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> Từ </Typography> </Grid> \n                          <Grid item> <VNDFormat style={{marginRight:10, color:\"#000\", fontSize:13}} value= {discountRow.totalCost}> </VNDFormat> </Grid> \n                      </Grid>:null\n                      }\n                      {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType ==='priceByQuantity'?\n                      <>\n                      <Grid item style={{width:80,height:40, marginTop:10}} >\n                          <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> {discountRow.numberBuyItem} </Typography> \n                      </Grid>\n                      <Grid item style={{ marginTop:6, width:360,}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listBuyItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name} </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                            \n                        </Grid> \n                      </>\n                      :null }\n                      {\n                        discountType ==='priceByQuantity'? \n                        <>\n                          <Grid item style={{width:70,marginRight:50, height:40, marginTop:10}} >\n                            <Typography style={{color:\"#000\", fontWeight:500,fontSize:14}}> {discountRow.typeDiscountItem === \"price\" ? \"Giá bán:\" : \"Giảm giá\"}   </Typography>\n                          </Grid>\n                        </>\n                        :null\n                      }\n                      {/* col 2 */}\n                      {discountType ===\"discountInvoice\"  || discountType ==='priceByQuantity'?\n                      <Grid item >\n                        <Grid item  container direction=\"row\" alignItems=\"center\" style={{height:40}}>\n                          <Grid item> <ThousandFormat style={{color:\"#000\", fontSize:13, marginRight:5}} value={discountRow.discountValue}>  </ThousandFormat> </Grid> \n                          <Grid item> <Typography style={{color:\"#000\", fontSize:13}}>   {discountRow.type}  </Typography> </Grid> \n                        </Grid>\n                      </Grid>\n                      :null\n                      }\n                    {/* col 3 */}\n                    {['sendGift','sendVoucher'].includes(discountType) ?\n                    <Grid item style={{width:50,marginRight:30, height:4, marginTop:10}} >\n                        <Typography style={{color:\"#000\", fontSize:13}}>{discountRow.numberGiftItem}  </Typography>\n                    </Grid>:null\n                    }\n                    {discountType ===\"sendGift\"?\n                          <Grid item style={{ marginTop:6}} >\n                              <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name}  </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid>  :null\n                    }\n                    {discountType ===\"sendVoucher\"?\n    \n                          <Grid item style={{ marginTop:10}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.name}</span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid> :null\n                    }\n                  \n                      \n                </Grid>\n                </div>\n                \n                <Divider classes={{root: classes.divider}} style={{marginLeft:10, marginRight:10}}/>\n                  </>\n\n\n            );\n          })}\n          \n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default DiscountDetail\n","import React , { useRef}from 'react';\nimport { useTheme, makeStyles, createStyles } from '@material-ui/core/styles';\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {VNDFormat,ThousandFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n// import library\nimport {\n  Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,Chip\n} from '@material-ui/core';\n\n// import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n// import project\nimport { grey } from '@material-ui/core/colors';\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton';\nimport { useSelector } from 'react-redux';\nimport refundApi from '../../../../../api/refundApi';\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) => createStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle: {\n    fontSize: '1.125rem',\n  },\n  typo: {\n    marginBottom: 20,\n  },\n  background: {\n    background: theme.customization.mode === 'Light' ? theme.customization.primaryColor[50] : grey[700],\n  },\n\n}));\n\nfunction InvoiceReturnDetail(props) {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  //  tam thoi\n  const currentUser = 'Minh Tri';\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  const [refund, setRefund] = React.useState({\n    branch: null,\n    details: []\n  })\n\n  React.useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await refundApi.getRefund(store_uuid, row.uuid);\n        setRefund(res.data);\n      } catch (error) {\n        setRefund({\n          branch: null,\n          details: []\n        });\n      }\n    }\n    if (openRow === row.uuid) {\n      loadData();\n\n    }\n  }\n  , [props.parentProps.openRow]);\n\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  console.log(\"refund\",refund)\n\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã đơn trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.refund_code}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã hoá đơn</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{refund.order?.order_code}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Ngày trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.created_at}\n                  {' '} */}\n                  {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Khách hàng</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.customer?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Người thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.created_by_user?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tình trạng</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{`Cần trả ${(row.total_amount - row.paid_amount).toString()}`}</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat value={row.total_amount} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.branch?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phương thức thanh toán</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n\n        </Grid>\n\n        <Typography variant=\"h4\" gutterBottom component=\"div\" style={{ marginTop: 30 }}>\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Ma SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n\n            </TableRow>\n          </TableHead>\n          <TableBody>\n\n            {refund.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                \n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>\n                  {detail.bar_code}\n                </TableCell> */}\n                <TableCell align=\"right\">\n                  <ThousandFormat value={detail.quantity} />\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                <VNDFormat value={detail.unit_price} />\n                </TableCell>\n               \n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box className={classes.background} style={{ padding: 10, borderRadius: theme.customization.borderRadius, marginTop: 10 }}>\n          <Grid container direction=\"column\">\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng SL sản phẩm ({refund.details?.length})</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat \n                  value={calculateTotalQuantity(refund.details)}\n                /></Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                <VNDFormat value={row.total_amount} />\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả hàng</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng đơn trả</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả khách</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.paid_amount}</Typography>\n              </Grid>\n            </Grid> */}\n\n          </Grid>\n        </Box>\n\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"}style={{ marginTop: 20 }}>\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee\n            ? (\n              <>\n                {' '}\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Sửa</Button>\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Xoá</Button>\n                {' '}\n\n              </>\n            )\n            : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n\n        </Grid>\n\n      </Box>\n\n         {/* 3. Receipt */}\n         <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={refund} date={row.created_at} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n}\n\nexport default InvoiceReturnDetail;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ImportReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\nimport {currentDate} from \"../../../../../utils\"\n//import library \nimport {\n  Dialog,\n  Tooltip,\n  Chip,\n  Card,\n  DialogContent,\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InventoryReturnPopUp from \"../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp\";\n\nimport { grey } from \"@material-ui/core/colors\";\n\n// api\nimport purchaseOrderApi from \"../../../../../api/purchaseOrderApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nconst InventoryOrderDetail = (props) => {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n  //  tam thoi\n\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = purchaseOrderApi.deletePurchaseOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa đơn nhập thành công\"));\n      props.parentProps.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa đơn nhập thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [purchaseOrder, setPurchaseOrder] = useState({\n    branch: null,\n    details: [],\n  });\n\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseOrderApi.getPurchaseOrder(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseOrder(res.data);\n      } catch (error) {\n        setPurchaseOrder({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n\n  const updateDetail = async (detail) => {\n    if(store_uuid && branch_uuid) {\n      try {\n        const response = await purchaseOrderApi.updateDetail(store_uuid, branch_uuid, {...detail, posted_to_inventory: 1, date_received: currentDate()});\n        props.parentProps.onReload();\n        setReload(!reload)\n        statusAction.successfulStatus(\"Nhập thành công\");\n      } catch(err) {\n        statusAction.failedStatus(\"Nhập thất bại\")\n      }\n    } \n  }\n\n  useEffect(() => {}, [purchaseOrder]);\n  const debtAmount =\n    Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount);\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return purchaseOrderApi.editPurchaseOrder(\n      store_uuid,\n      branch_uuid,\n      uuid,\n      body\n    );\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        reloadDetail={() => setReload(!reload)}\n        onReload={props.parentProps.onReload}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Trả nợ đơn nhập hàng <i>{row.purchase_order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={ true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date\n                    ?.split(\" \")[0]\n                    .split(\"-\")\n                    .reverse()\n                    .join(\"/\")\n                    .concat(\n                      \"\\u00a0\\u00a0\" +\n                        row.creation_date?.split(\" \")[1].substr(0, 5)\n                    )}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.created_by_user\n                    ? purchaseOrder.created_by_user.name\n                    : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={3}>\n                <Box>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {debtAmount > 0 ? \"Còn nợ \" : \"Trả đủ\"}\n                    {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat\n                    value={row.total_amount - row.discount}\n                  ></VNDFormat>{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.branch ? purchaseOrder.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Đổi trả</TableCell>\n              <TableCell align=\"right\">Giá nhập</TableCell>\n              <TableCell align=\"left\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseOrder.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat\n                    value={Number(detail.quantity) * Number(detail.unit_price)}\n                  />\n                  {!row.is_imported && !detail.posted_to_inventory ? <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{ marginLeft: 15, height: 30 }} onClick={() => updateDetail(detail)}>\n            Nhập\n          </Button>: null}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n\n\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseOrder.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseOrder.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography\n                  variant=\"body1\"\n                  gutterBottom\n                  component=\"div\"\n                  style={{\n                    fontWeight: 500,\n                    color: theme.customization.primaryColor[500],\n                  }}\n                >\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Đã trả NCC\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n          {/* {info.user?.uuid?.includes(purchaseOrder?.created_by_user?.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 15}}\n              // onClick={handleDelete}\n            >\n              Xóa đơn nhập\n          </Button> :null} */}\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n            style={{ marginLeft: 15 }}\n            onClick={handleDelete}\n          >\n            Xóa đơn nhập\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={handleClickOpen}\n            disabled={\n              Number(row.total_amount) -\n                Number(row.discount) -\n                Number(row.paid_amount) >\n              0\n            }\n          >\n            Trả hàng\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In đơn nhập\n          </Button>\n\n          {!row.is_imported ? <Button variant=\"contained\" color=\"secondary\"size=\"small\" style={{ marginLeft: 15 }} onClick={() => handlePrint()}>\n            Nhập hàng\n          </Button> : null}\n{/* \n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n\n        {/* 3. Receipt */}\n        <div style={{ display: \"none\" }}>\n          <div ref={componentRef}>\n            <ImportReceiptPrinter\n              cart={purchaseOrder}\n              date={row.creation_date}\n            />\n          </div>\n        </div>\n\n        {/* Tra hang */}\n\n        <Dialog\n          fullWidth={true}\n          maxWidth=\"lg\"\n          open={open}\n          onClose={handleCloseReturn}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <InventoryReturnPopUp\n            handleCloseReturn={handleCloseReturn}\n            purchaseOrder={purchaseOrder}\n            classes={classes}\n            reload={props.parentProps.onReload}\n            reloadDetail={() => setReload(!reload)}\n          />\n        </Dialog>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryOrderDetail;\n\nconst headCells = [\n  { id: \"stt\", numeric: false, disablePadding: true, label: \"Stt\" },\n  { id: \"id\", numeric: false, disablePadding: true, label: \"#\" },\n  { id: \"name\", numeric: false, disablePadding: true, label: \"Tên\" },\n  { id: \"price\", numeric: true, disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", numeric: true, disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", numeric: true, disablePadding: true, label: \"Thành tiền\" },\n];\n","import React, { useRef,useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n\n//import library\nimport {\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  Chip,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\n\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\nimport purchaseReturnApi from \"../../../../../api/purchaseReturnApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n  })\n);\n\nconst InventoryReturnDetail = (props) => {\n  const { row, openRow ,} = props.parentProps;\n  //  tam thoi\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [purchaseReturn, setPurchaseReturn] = useState({\n    branch: null,\n    details: [],\n  });\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseReturnApi.getPurchaseReturn(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseReturn(res.data);\n      } catch (error) {\n        setPurchaseReturn({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow]);\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  \n\n\n  return (\n    <Collapse in={props.isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã trả hàng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_return_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.purchase_order\n                    ? purchaseReturn.purchase_order.purchase_order_code\n                    : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày trả{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.supplier ? purchaseReturn.supplier.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.created_by_user\n                    ? purchaseReturn.created_by_user.name\n                    : \"\" }\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  Cần thu{\" \"}\n                  <VNDFormat value={row.total_amount - row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả </Typography>\n\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.branch ? purchaseReturn.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item   sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              {/* thêm cột giá trả */}\n              <TableCell>#</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseReturn.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                <TableCell align=\"right\">\n                  {detail.quantity}\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).filter(batch => batch.returned_quantity !== 0).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n              </Grid>\n            </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseReturn.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseReturn.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.total_amount} </Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n\n              <Grid item xs={7} sm={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n\n              </Grid>\n              <Grid item  xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}> \n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  NCC đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={3}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả hàng nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n\n       {/* 3. Receipt */}\n       <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={purchaseReturn} date={row.creation_date} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n};\n\nexport default InventoryReturnDetail;\n","import React, { useEffect } from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Tooltip, Chip, Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport {ThousandFormat, VNDFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\n\n\nimport { grey} from '@material-ui/core/colors'\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\n\nconst CheckHistoryDetail = (props) => {\n    const {row, openRow }= props.parentProps;\n    const {isMini}= props;\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    //calculate\n    const moneyDif = row.details\n    ?.map((detail) => detail.quantity * detail.unit_price)\n    .reduce((total, ele) => total + ele, 0)\n\n \n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse\n        in={isMini ? true : openRow === row.uuid}\n        timeout=\"auto\"\n        unmountOnExit\n      >\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.product_name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn kiểm\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.inventory_check_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày kiểm{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tồn kho\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    SL thực tế\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.details.sum}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    Không cân bằng\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongSLthucte - row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Chi nhánh thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.branch_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Người thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.user_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                {/* <TableCell>Mã vạch</TableCell> */}\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">SL thực tế</TableCell>\n                <TableCell align=\"right\">Lệch</TableCell>\n                <TableCell align=\"right\">Giá trị</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {row.details?.map((detail) => (\n                <TableRow key={detail.product_id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell>{detail.product_name}</TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat value={detail.branch_inventory} />\n\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              label={`${checked_batch.batch_code}-${checked_batch.quantity}`}\n                              size=\"small\"\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat\n                      value={\n                        Number(detail.branch_inventory) +\n                        Number(detail.quantity)\n                      }\n                    />\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              size=\"small\"\n                              label={`${checked_batch.batch_code}-${checked_batch.checked_quantity}`}\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <ThousandFormat value={detail.quantity} />\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <VNDFormat value={detail.quantity * detail.unit_price} />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng SL lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={row.details\n                        ?.map((detail) => detail.quantity)\n                        .reduce((total, ele) => total + ele, 0)}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tiền lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat\n                      style={{\n                        fontWeight: 700,\n                        color: moneyDif > 0 ? \"green\" : \"red\",\n                      }}\n                      value={moneyDif}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                <Grid item xs={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.total}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n          </Box>\n\n          {/* <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn nhập\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid> */}\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default CheckHistoryDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Box,Grid,Collapse,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst VoucherDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    return (\n        <Collapse in={ openRow === row.uuid } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  \n                <Grid item xs={12} sm={4}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.uuid} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Mệnh giá</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n                          </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số lượng</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n                <Grid item xs={12} sm={4}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">3.000.000</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">500.000</Typography>\n                        </Grid>\n                    </Grid>\n                    \n                  </Grid>\n               \n              </Grid>\n\n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\" } style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                            \n                           \n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default VoucherDetail\n","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n}));\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput , { ThousandSeperatedInput }from \"../../../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"../../../Category/Category\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../../../api/productApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport CategorySelect from \"../../../../../../components/Category/CategorySelect\";\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst UpdateInventory = (props) => {\n  const dispatch = useDispatch();\n  const { handleClose, open,isManageInventory } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  useEffect(()=>{\n    const displayList = JSON.parse(props.productInfo.img_urls ? props.productInfo.img_urls : \"[]\").map((img) => ({link:img,isUrl: true}))\n    setDisplay(displayList)\n  },[props.productInfo.images])\n  const addImageHandler = (e) => {\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n  };\n  const productFormik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      name: props.productInfo.name,\n      barcode: props.productInfo.bar_code ? props.productInfo.bar_code : '',\n      importedPrice: props.productInfo.standard_price || 0,\n      salesPrice: props.productInfo.list_price || 0,\n      category: props.productInfo.category.uuid || \"Mặc định\",\n      unit: props.productInfo.quantity_per_unit || '',\n      re_order_point: props.productInfo.min_reorder_quantity || 0,\n      product_code: props.productInfo.product_code || '',\n      max_order:props.productInfo.max_order || '',\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number().required(\"Nhập giá vốn\").moreThan(-1, \"Giá vốn không được âm\"),\n      salesPrice: Yup.number().required(\"Nhập giá bán\").moreThan(-1, \"Giá bán không được âm\"),\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(-1, \"Số lượng đặt hàng lại không được âm\"),\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n    }),\n  })\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const updateProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\"list_price\", productFormik.values.salesPrice.toString());\n      bodyFormData.append(\"standard_price\",productFormik.values.importedPrice.toString());\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\"product_code\", productFormik.values.product_code.toString());\n      bodyFormData.append(\"quantity_per_unit\", productFormik.values.unit.toString());\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      const img_url = display.reduce((prev,cur) =>{\n        if(cur.isUrl){\n          return prev.concat(cur.link,\",\")\n        }\n        return prev\n      },\"\")\n      bodyFormData.append(\"img_urls\", img_url);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n      const response = await productApi.updateProduct(\n        store_uuid,\n        props.productInfo.uuid,\n        bodyFormData\n      );\n      dispatch(statusAction.successfulStatus(\"Sửa sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error)\n      dispatch(statusAction.failedStatus(\"Sửa thất bại\"));\n    }\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, props.productInfo]);\n  \n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm()\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (!displayImage.isUrl) {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <AddCategory open={openAddCategory} handleClose={handleCloseCategory} />\n      <Box className={classes.root}>\n        <Typography\n          className={classes.headerTitle}\n          variant=\"h5\"\n          gutterBottom\n          style={{ marginBottom: 20 }}\n        >\n          Chỉnh sửa sản phẩm\n        </Typography>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            />\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n\n            <Box className={`${classes.box} ${classes.margin}`}>\n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                <InputLabel htmlFor=\"category\">Danh mục</InputLabel>\n                <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select>\n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              value={productFormik.values.salesPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) > Number(productFormik.values.salesPrice) ?<Typography variant='h6' style={{color:'red'}}> Giá vốn đang lớn hơn giá bán !!</Typography>:null} */}\n\n           {isManageInventory?\n           <>\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n             <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 3 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <Button\n              onClick={handleCloseAndReset}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              style={{ marginRight: 20 }}\n            >\n              Huỷ\n            </Button>\n            <Button\n              onClick={() => {\n                updateProductHandler();\n              }}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"primary\"\n              disabled = {!(productFormik.isValid ) }\n            >\n              Sửa\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default UpdateInventory;\n","import React, {useState} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst BranchInventoryPopUp = ({open,onClose, branchs,branch_inventories,setReload,batches,has_batches,row }) => {\n    const theme = useTheme();\n  const classes = useStyles(theme);\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  console.log(\"branch_inventories\",branch_inventories)\n  const findBranchQuantity = (id) => {\n    // if(!branch_inventories){return -1}\n    const rs = branch_inventories?.find(x => x.uuid === id)?.quantity_available\n    if(rs){return rs.toLocaleString() }\n    else{ return 0}\n  }\n  const [openModal, setOpenModal] = useState(null)\n  const dispatch = useDispatch();\n    const generateInitial = () =>{\n        let arr = []\n         batches.map(item => arr.push({batch_code: item.batch_code , quantity: 0, expiry_date: item.expiry_date, position: item.position} ))\n        return arr\n    }\n    const [valueQuantity,setValueQuantity] = useState(!has_batches?0:generateInitial())\n  const confirmTransferQuantity = async () => {  \n    //CALL API HERE\n    //   openModal : branch chuyển tới\n\n    //   valueQuantity: SL chuyển \n    //( + nếu là lô thì là array object [{batch_code:\"L0001\", quantity:\"2\"}])\n     //( + nếu ko là lô thì là số \n\n    const body = {\n        to_id: openModal.id,\n        value_quantity: has_batches ? _.sumBy(valueQuantity, 'quantity') : valueQuantity,\n        batches: JSON.stringify(Array.isArray(valueQuantity) ? valueQuantity.filter(batch => batch.quantity) : []),\n        has_batches: has_batches,\n        product_id: row.id,\n        to_name: openModal.name,\n        created_user_id: info.user.id,\n        created_user_name: info.user.name,\n        created_user_type: info.role,\n    }\n    try {\n        const res = await productApi.transferInventory(store_uuid, branch_uuid, body);\n        dispatch(statusAction.successfulStatus('Chuyển tồn kho thành công!'))\n    } catch (err) {\n        console.log(err)\n        dispatch(statusAction.failedStatus('Chuyển tồn kho thất bại'))\n    }\n\n    setOpenModal(null)\n    onClose()\n    setReload()\n  }\n  const currenBranchInventory = findBranchQuantity(branch_uuid)\n var totalQuantity = 0;\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"xs\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            Chi tiết tồn kho\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n               \n                  {batches?.length !== 0 ? \n                  <>\n                  <Grid container  style={{ marginBottom:10}}>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Mã lô </Grid>\n                        <Grid item xs={4} style={{color:'#000', fontWeight:500}}> Ngày hết hạn </Grid>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Vị trí </Grid>\n                        <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn kho </Grid>\n                    </Grid>\n\n                    {batches?.map((batch) => (\n                        <Grid container  spacing={2}>\n                                <Grid item xs={3}> {batch?.batch_code} </Grid>\n                                <Grid item xs={4}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                                <Grid item xs={3}> {batch?.position} </Grid>\n                                <Grid item xs={2}> {batch?.quantity} </Grid>\n                        </Grid>\n                     )) } \n                      <Divider style={{margin:20}} />\n                    </>\n                     :null}\n              \n               \n                <Grid container style={{marginBottom:10}}>\n                    <Grid item xs={7}> </Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn </Grid>\n                    <Grid item xs={3}> </Grid>\n                </Grid>\n                {branchs.map((item=>{ \n                const quantity  = findBranchQuantity(item.uuid)\n                totalQuantity = totalQuantity +Number(quantity) \n                    return (\n                    <Grid container>\n                        <Grid item xs={7} style={{color:'#000', fontWeight:500, marginBottom:25}}>\n                            {item.name}\n                        {item.uuid === branch_uuid ? <CheckCircleIcon style={{marginLeft:10}}fontSize=\"small\" color='primary'/> :null} </Grid>\n\n                        {/* <Grid item xs={2}>{findBranchQuantity(item.uuid)}</Grid> */}\n                        <Grid item xs={2}>{quantity}</Grid>\n\n                       <Grid item xs={3}> {item.uuid !== branch_uuid ? <Button color='primary' variant='contained'size='small'style={{textTransform:'none'}} onClick={()=>setOpenModal(item)}>Chuyển</Button>:null}</Grid>\n                    </Grid>\n                )}))}\n                <Divider />\n                <Grid container>\n                    <Grid item xs={7} ></Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}>Tổng: {totalQuantity}</Grid>\n                    <Grid item xs={3}> </Grid>\n                </Grid>\n\n\n\n                {openModal?<ModalWrapperWithClose size='h4' title={<ListItem><Typography variant='h4'>Chuyển tồn kho đến </Typography><Typography variant='h4' style={{marginLeft:5,color:theme.customization.primaryColor[500]}}>{openModal.name} </Typography>  </ListItem>}open={openModal !== null}handleClose={()=>setOpenModal(null)}>\n                        \n                {!has_batches?\n                        <>\n                        <Typography variant='h5'>Số lượng </Typography>\n                        <ListItem>\n                            <ThousandSeperatedInput value={valueQuantity} onChange={(e)=>{setValueQuantity(e.target.value)}}/>\n                            <Typography style={{fontWeight:500}}> / {currenBranchInventory}</Typography>\n                        </ListItem>\n                        {valueQuantity > Number(currenBranchInventory)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                    </>:\n                    batches.map((batch) => {\n                        let newValueQuantity = [...valueQuantity]\n                        let index = newValueQuantity.findIndex(item=>item.batch_code ===  batch?.batch_code)\n                      \n                     return(\n                        <Grid container  spacing={3} alignItems='center' style={{margin:2}}>\n                            <Grid item xs={3}> {batch?.batch_code} </Grid>\n                            <Grid item xs={3}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                            <Grid container item xs={4}  alignItems='center'>  \n                                    <Grid item xs={6}>\n                                        <ThousandSeperatedInput \n                                        value={newValueQuantity[index]?.quantity} \n                                            onChange={(e)=>{\n                                              \n                                                newValueQuantity[index].quantity= Number(e.target.value)\n                                                setValueQuantity(newValueQuantity)                                          \n                                            }}\n                                            />\n                                    </Grid>\n                                    <Grid item xs={6}> <Typography style={{fontWeight:500}}> / {batch?.quantity}</Typography></Grid>\n                                    {newValueQuantity[index]?.quantity > Number(batch?.quantity)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                            </Grid>\n                        </Grid>\n                     )})  \n                    \n                    }\n                        <Button disabled={valueQuantity > Number(currenBranchInventory) || valueQuantity === 0} onClick={()=>{confirmTransferQuantity()}}  variant=\"contained\" size=\"small\"  color=\"secondary\" style={{marginTop:20}}>\n                            Xác nhận \n                        </Button>\n\n                    </ModalWrapperWithClose>:null}\n\n            </DialogContent>\n            <DialogActions>\n        <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n            Huỷ \n        </Button>\n       \n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default BranchInventoryPopUp\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nimport DialogWrapper from \"../../../../../components/Modal/DialogWrapper\";\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst VarianceModal = (props) => {\n  const { row ,branchs,setReload,batches,has_batches,isManageInventory} = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const dispatch = useDispatch();\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleCloseUpdate = (status) => {\n    if (status) {\n      props.parentProps.setReload(true);\n    }\n    setIsOpenUpdate(false);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  console.log(\"rowwww\",row)\n  console.log(\"productDetail\",productDetail)\n  \n  // useEffect(() => {\n  //   const fetchProduct = async () => {\n  //     try {\n  //       const response = await productApi.getProduct(store_uuid, row.uuid, {\n  //         branch_uuid: branch_uuid,\n  //       });\n  //       setProductDetail(response.data);\n  //     } catch (err) {\n  //       console.log(err);\n  //     }\n  //   };\n\n  //   fetchProduct();\n  // }, [store_uuid]);\n    \n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchProduct();\n  }, []);\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\n\n  console.log(\"row.branch_inventories\",productDetail.branch_inventories)\n\n  return (\n    // <ModalWrapperWithClose\n    // handleClose={() => props.handleClose(false)}\n    // title={\"Chi tiết biến thể\"}\n    // open={props.open}\n    // >\n    <DialogWrapper\n      handleClose={() => props.handleClose(false)}\n      title={\"Chi tiết biến thể\"}\n      open={props.open}\n    >\n      <div style={{ width: 800 }}>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={4}>\n              <Box\n                sx={{\n                  height: 170,\n                  width: 170,\n                  borderRadius: 2,\n                  marginLeft: 15,\n                }}\n              >\n                <Carousel showThumbs={false}>\n                  {JSON.parse(\n                    productDetail.img_urls ? productDetail.img_urls : \"[]\"\n                  )?.map((url) => (\n                    <img\n                      key={url}\n                      src={url}\n                      height={xsScreen ? \"100\" : \"170\"}\n                      width={xsScreen ? \"100\" : \"170\"}\n                      // height= \"170\"\n                      // width= \"170\"\n                    />\n                  ))}\n                </Carousel>\n              </Box>\n            </Grid>\n\n            <Grid container direction=\"column\" item xs={8}>\n              <Grid container direction=\"row\">\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tên sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.product_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã vạch\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.bar_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Danh mục\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.category.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Đơn vị\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.quantity_per_unit}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá bán\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat value={productDetail.list_price}></VNDFormat>\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá vốn\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat\n                          value={productDetail.standard_price}\n                        ></VNDFormat>{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    {isManageInventory? \n                    <>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tồn kho\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={2}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.branch_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                    {branchs.length >1?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={productDetail.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={setReload}\n                    batches={batches}\n                    has_batches={productDetail.has_batches}\n                   />\n                   \n                   :null}\n                 \n                  </Grid>\n                  {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {productDetail.notification_period} ngày</Typography>:null}\n\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL đặt hàng lại\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.min_reorder_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL nhập hàng tối đa\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.max_order}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    </>:null}\n                </Grid>\n              </Grid>\n\n              {JSON.parse(row.attribute_value ? row.attribute_value : \"[]\").map(\n                (attVal) => (\n                  <Grid container direction=\"row\">\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          marginRight: 10,\n                          borderRadius: 5,\n                        }}\n                      >\n                        {attVal.name}\n                      </div>\n                    </Grid>\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          borderRadius: 5,\n                        }}\n                      >\n                        <strong>{attVal.value}</strong>\n                      </div>\n                    </Grid>\n                  </Grid>\n                )\n              )}\n\n              <Grid\n                container\n                direction=\"row\"\n                justifyContent={xsScreen ? null : \"flex-end\"}\n                style={{ marginTop: 20 }}\n              >\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setIsOpenUpdate(true);\n                  }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setDeleteConfirm(true);\n                  }}\n                >\n                  Xoá\n                </Button>\n\n                <IconButton\n                  aria-label=\"more\"\n                  aria-controls=\"long-menu\"\n                  aria-haspopup=\"true\"\n                  onClick={handleClick}\n                  size=\"small\"\n                  style={{ marginLeft: 10 }}\n                >\n                  <MoreVertIcon />\n                </IconButton>\n\n                <StyledMenu\n                  id=\"customized-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <InboxIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"In mã tem\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <HighlightOffTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Ngừng kinh doanh\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <LocalOfferTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử giá\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử kiểm kê\" />\n                  </StyledMenuItem>\n                </StyledMenu>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n      </div>\n      {isOpenUpdate && <UpdateInventory\n        open={isOpenUpdate}\n        handleClose={handleCloseUpdate}\n        productInfo={productDetail}\n        setReload={() => {\n          props.setReload();\n          props.handleClose()\n        }}\n      />}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={handleCloseDelete}\n        handleConfirm={handleConfirmDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n    </DialogWrapper>\n    /* </ModalWrapperWithClose> */\n  );\n};\n\nexport default VarianceModal;\n","import React, {useState,useEffect,useRef} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport barcocde1 from \"../../../../../assets/img/barcode/1.jpeg\"\nimport barcocde2 from \"../../../../../assets/img/barcode/2.jpeg\"\nimport barcocde3 from \"../../../../../assets/img/barcode/3.jpeg\"\nimport { useReactToPrint } from \"react-to-print\";\nimport Barcode from 'react-barcode';\nimport { returnStatement } from '@babel/types';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst PrintBarcodePopUp = ({open,onClose, row }) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n   \n\n    const [quantity , setQuantity] = useState(0)\n    const [codeType , setCodeType] = useState(\"code\")\n    const [printStoreName , setPrintStoreName] = useState(\"yes\")\n    const [printBatch , setPrintBatch] = useState(row.has_batch === 0?\"no\" :\"yes\")\n    const [col , setCol] = useState(null)\n    const [batchCode , setBatchCode] = useState(row.batches[0].batch_code)\n\n    const [openPrintBarcode,setOpenPrintBarcode] =  useState(row.batches[0].batch_code)\n\n      // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  const handleChooseBarCode = (col) => {\n    setCol(col)\n\n  }\n  useEffect (()=>{\n    if(col){handlePrint()}\n  },[col])\n\n\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"sm\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            In mã tem\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n                <Grid container  >\n                    <Grid item  xs={4}>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Số lượng in:</Typography>\n                        {/* <TextField value={quantity} onChange={(e)=>setQuantity(e.target.value)}/> */}\n                        <ThousandSeperatedInput style={{width:100}}value={quantity} onChange={(e)=>setQuantity(e.target.value)}/>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã in:</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={codeType} onChange={(e)=>setCodeType(e.target.value)} >\n                            <MenuItem value={\"code\"}>Mã hàng</MenuItem>\n                            {row.product_code ?<MenuItem value={\"barcode\"}>Mã vạch</MenuItem>:null}\n                            </Select>\n                        </FormControl>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Tên cửa hàng</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={printStoreName} onChange={(e)=>setPrintStoreName(e.target.value)} >\n                            <MenuItem value={\"yes\"}>In tên cửa hàng</MenuItem>\n                            <MenuItem value={\"no\"}>Không in tên cửa hàng</MenuItem>\n                            </Select>\n                        </FormControl>\n                        {!row.has_batch? \n                            <>\n                         <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>In lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={printBatch} onChange={(e)=>setPrintBatch(e.target.value)} >\n                                <MenuItem value={\"yes\"}>In mã lô</MenuItem>\n                                <MenuItem value={\"nno\"}>Không in mã lô</MenuItem>\n                                </Select>\n                            </FormControl>\n                            {printBatch.includes(\"yes\") ? \n                            <>\n                            <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={batchCode} onChange={(e)=>setBatchCode(e.target.value)} >\n                                { row.batches.map((batch)=>{\n                                    return(\n                                         <MenuItem value={batch.batch_code}>{batch.batch_code}</MenuItem>\n                                    )\n                                }) }\n                                </Select>\n                            </FormControl>\n                            </>\n                            :null}\n                            </>:null    \n                    }\n                    </Grid>\n                    <Grid item container xs={8} spacing={3}>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde3} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 3 nhãn (Khổ giấy in nhãn 104x22mm / 4.2x0.9 inch)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(4)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde2} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 2 nhãn (Khổ giấy in nhãn 72x22mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(6)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}}  >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n            \n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde1} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 1 nhãn  (Khổ giấy in nhãn 50x30mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(12)}  variant=\"contained\" size=\"small\"  color=\"primary\"  style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n                <div style={{ display: \"none\" }}>\n                    <div ref={componentRef}>\n                        <ComponentToPrint row={row} quantity={quantity} codeType={codeType} printStoreName={printStoreName} printBatch={printBatch} col={col} batchCode={batchCode}/>\n                    </div>\n                </div>\n\n            </DialogContent>\n            <DialogActions>\n            <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n                Huỷ \n            </Button>\n          \n            </DialogActions>    \n        </Dialog>\n    )\n}\n\nexport default PrintBarcodePopUp\nconst ComponentToPrint = ({ row ,quantity,codeType,printStoreName,printBatch,col,batchCode}) => {\n    const info = useSelector((state) => state.info);\n    const BarCodeModel = () =>{\n        return (\n        <Box style={{ textAlign:'center'}}>\n            {printStoreName.includes(\"yes\") ? <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>{info.store.name}</Typography>:\"\"}\n            {printBatch.includes(\"no\")? <Barcode value={codeType ===\"code\" ?row.product_code:row.bar_code } />\n            : <Barcode value={codeType ===\"code\" ?row.product_code.concat(\"_\"+ batchCode):row.bar_code.concat(\"_\"+ batchCode) } />}\n        </Box>\n        )\n    }\n    return (\n        <Grid container>\n            {[1,2,3].map(()=> {\n                return(\n                    <Grid container item xs={col} justifyContent=\"center\">\n                        <BarCodeModel />\n                    </Grid>    \n                )\n            })}\n\n        </Grid>\n       \n     \n    );\n  };\n  ","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { ThousandFormat, VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport VarianceModal from \"./VarianceModal\";\nimport { VarianceProductMiniTableRow } from \"../../../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../../../api/branchApi\";\n\nimport defaultProduct from \"../../../../../assets/img/product/default-product.png\"\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nimport PrintBarcodePopUp from \"./PrintBarcodePopUp\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst InventoryDetail = (props) => {\n  const { row, openRow, setReload ,isManageInventory} = props.parentProps;\n  const { isMini } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [thisReload, setThisReload] = useState(false);\n  const dispatch = useDispatch();\n\n\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      setReload();\n      // console.log(response);\n    } catch (error) {\n      // console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branchs = info.store.branches\n \n  // const [branchs, setBranchs] = useState(info.branchsOfStore);\n\n  const [isOpenVarianceDetailModal, setIsOpenVariaceDetailModal] =\n    useState(false);\n  const [selectedVariance, setSelectedVariance] = useState({});\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    if (openRow === row.uuid) {\n      fetchProduct();\n    }\n  }, [store_uuid, openRow, thisReload]);\n  const handleCloseUpdate = (status) => {\n    setIsOpenUpdate(false);\n  };\n\n\nconst [openPrintBarcode,setOpenPrintBarcode] =  useState(false)\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\nconsole.log(\"productDetail.img_urls\",productDetail)\n\nlet  imageList =row.img_urls ? JSON.parse(row.img_urls):null\nimageList = Array.isArray(imageList)? imageList :[imageList]\n// || defaultProduct\n  return row.has_variance ? (\n    <>\n      {openRow === row.uuid &&\n        productDetail.variations?.map((variance) => {\n          return !xsScreen ? (\n            <>\n              <TableRow>\n                <TableCell align=\"left\">{\"               \"}</TableCell>\n                <TableCell align=\"left\">{variance.product_code}</TableCell>\n                <TableCell align=\"left\" style={{ minWidth: 200 }}>\n                  <ListItem\n                    style={{\n                      marginLeft: -30,\n                      marginTop: -10,\n                      marginBottom: -10,\n                    }}\n                  >\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 50,\n                        width: 50,\n                        borderRadius: 10,\n                        marginRight: 15,\n                      }}\n                      src={JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) || defaultProduct}\n                    />\n                    <Typography className={classes.fontName}>\n                      {variance.name}\n                    </Typography>\n                  </ListItem>\n                </TableCell>\n\n\n                <TableCell align=\"left\">{variance.category?.name}</TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.list_price} />\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.standard_price} />\n                </TableCell>\n                <TableCell align=\"center\">\n                  <FormatedProductStatus\n                    quantity={variance.branch_quantity}\n                    lowStock={variance.min_reorder_quantity}\n                  />\n                </TableCell>\n                <TableCell align=\"right\" className={classes.fontName}>\n                  {variance.branch_quantity}\n                </TableCell>\n                <TableCell\n                  onClick={() => {\n                    setIsOpenVariaceDetailModal(true);\n                    setSelectedVariance(variance);\n                  }}\n                >\n                  <Button size=\"small\" color=\"primary\" variant=\"outlined\" >\n                    Chi tiết\n                  </Button>\n                </TableCell>\n              </TableRow>\n            </>\n          ) : (\n            <VarianceProductMiniTableRow\n              key={row.uuid}\n              variance={variance}\n              onClick={() => {\n                setIsOpenVariaceDetailModal(true);\n                setSelectedVariance(variance);\n              }}\n            />\n          );\n        })}\n      {isOpenVarianceDetailModal && (\n        <VarianceModal\n          open={isOpenVarianceDetailModal}\n          parentProps={props.parentProps}\n          row={selectedVariance}\n          handleClose={() => setIsOpenVariaceDetailModal(false)}\n          branchs={branchs}\n          // handleBranchQuantity={()=>{setOpenDetailInventory(true); console.log(\"helllllooo\")}}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n         batches={row.batches}\n         has_batches={row.has_batches}\n         isManageInventory={isManageInventory}\n        />\n      )}\n    </>\n  ) : (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      {isOpenUpdate && (\n        <UpdateInventory\n          handleClose={handleCloseUpdate}\n          open={isOpenUpdate}\n          productInfo={productDetail}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n          isManageInventory={isManageInventory}\n        />\n      )}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleConfirm={handleConfirmDelete}\n        handleClose={handleCloseDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={4}>\n      \n           {imageList.at(0) ?\n            <Box\n              sx={{\n                // height: 170,\n                // width: 170,\n                height: xsScreen ? 100 : 170,\n                width: xsScreen ? 100 : 170,\n                borderRadius: 2,\n                marginLeft: 15,\n                marginBottom: xsScreen ? 10 : 0,\n              }}\n            >\n              <Carousel showThumbs={false}>\n                { \n                imageList?.map((url) => (\n                  <img\n                    key={url}\n                    src={url}\n                    height={xsScreen ? \"100\" : \"170\"}\n                    width={xsScreen ? \"100\" : \"170\"}\n                    // height= \"170\"\n                    // width= \"170\"\n                  />\n                ))}\n              </Carousel>\n            </Box>:\n              <Box\n                    component=\"img\"\n                    sx={{\n                    height: xsScreen ? 100 : 170,\n                    width: xsScreen ? 100 : 170,\n                    marginLeft: 7,\n                    marginRight: 7,\n                    borderRadius: 20,\n                    }}\n                    src={defaultProduct}\n                    style={{marginBottom:20}}\n                />}\n          </Grid>\n\n          <Grid container direction=\"column\" item xs={12} sm={8}>\n            <Grid container direction=\"row\">\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tên sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.product_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã vạch\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.bar_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Danh mục\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.category.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Đơn vị\n                    </Typography>\n                  </Grid>\n                  <Grid ListItemText sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.quantity_per_unit}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá bán\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat value={productDetail.list_price}></VNDFormat>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá vốn\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat\n                        value={productDetail.standard_price}\n                      ></VNDFormat>{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                {isManageInventory?\n                <>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\" alignItems='center'>\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tồn kho\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={2}>\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.branch_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.branch_quantity} />\n                  </Grid>\n                  {branchs.length >1 || row.has_batches?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={row.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={() => {\n                      setReload();\n                      setThisReload(!thisReload);\n                     }}\n                     batches={row.batches}\n                     has_batches={row.has_batches}\n                     row={row}\n                   />\n                   \n                   :null}\n                </Grid>\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {row.notification_period} ngày</Typography>:null}\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL đặt hàng lại\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.min_reorder_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.min_reorder_quantity} />\n\n                  </Grid>\n                </Grid>\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={7}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL nhập hàng tối đa\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={5}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.max_order}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.max_order} />\n\n                  </Grid>\n                </Grid>\n                </>:null\n                }\n              </Grid>\n            </Grid>\n\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent={\"flex-end\"}\n              style={{ marginTop: 20 }}\n            >\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setIsOpenUpdate(true);\n                }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setDeleteConfirm(true);\n                }}\n              >\n                Xoá\n              </Button>\n\n              {openPrintBarcode?\n                  <PrintBarcodePopUp\n                    open={openPrintBarcode}\n                    onClose={()=>setOpenPrintBarcode(false)}\n                    row={row}\n                   />\n                   \n                   :null}\n\n              <IconButton\n                aria-label=\"more\"\n                aria-controls=\"long-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n                size=\"small\"\n                style={{ marginLeft: 10 }}\n              >\n                <MoreVertIcon />\n              </IconButton>\n\n              <StyledMenu\n                id=\"customized-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                <StyledMenuItem onClick={() => { setOpenPrintBarcode(true) }}>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <InboxIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"In mã tem\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <HighlightOffTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Ngừng kinh doanh\" />\n                </StyledMenuItem>\n\n                {/* <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <LocalOfferTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử giá\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử kiểm kê\" />\n                </StyledMenuItem> */}\n              </StyledMenu>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryDetail;\n","import {\n    Button,\n    FormControl,\n    Grid,\n    InputLabel,\n    Select,\n    TextField,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport ConfirmPopUp from \"../../ConfirmPopUp/ConfirmPopUp\";\n\nconst UpdateCategory = (props) => {\n    const [categoryInfo, setCategoryInfo] = useState({\n        name: \"\",\n        parent_category_uuid: \"\",\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch = useDispatch();\n    useEffect(() => {\n        setCategoryInfo(props.category);\n    }, [props.category]);\n    const [isDelete, setIsDelete] = useState(false);\n    const handleUpdateCategory = async () => {\n        handleCloseAndReset();\n        try {\n            await productApi.editCategory(\n                store_uuid,\n                props.category.uuid,\n                categoryInfo\n            );\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Cập nhật danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Cập nhật danh mục thất bại\"));\n        }\n    };\n    const handleDeleteCategory = async () => {\n        handleCloseAndReset();\n        if (props.category.children.length > 0) {\n            dispatch(\n                statusAction.failedStatus(\n                    \"Không thể xóa danh mục do có danh mục con, hãy xóa danh mục con trước\"\n                )\n            );\n            return;\n        }\n        try {\n            await productApi.deleteCategory(store_uuid,props.category.uuid);\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Xóa danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Xóa danh mục thất bại\"));\n        }\n    };\n    const handleCloseAndReset = () => {\n        props.handleClose();\n        setCategoryInfo(props.category);\n    };\n    return (\n        <ModalWrapper {...props}>\n            <Typography variant=\"h4\" gutterBottom>\n                Cập nhật danh mục\n            </Typography>\n            <ConfirmPopUp\n                open={isDelete}\n                handleConfirm={handleDeleteCategory}\n                handleClose={() => setIsDelete(false)}\n                message={\n                    <Typography>\n                        Xóa vĩnh viễn danh mục <b>{props.category.name} ?</b>\n                    </Typography>\n                }\n            />\n            <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        label=\"Tên danh mục\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        required\n                        fullWidth\n                        value={categoryInfo?.name}\n                        onChange={(e) =>\n                            setCategoryInfo({ ...categoryInfo, name: e.target.value })\n                        }\n                    />\n                </Grid>\n                <Grid\n                    item\n                    xs={12}\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        justifyContent: \"flex-end\",\n                    }}\n                >\n                    {\" \"}\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        size=\"small\"\n                        style={{ marginRight: 20 }}\n                        onClick={() => {\n                            setIsDelete(true);\n                        }}\n                    >\n                        Xóa danh mục\n                    </Button>\n                    <Button\n                    color=\"primary\"\n                        variant=\"contained\"\n                        onClick={handleUpdateCategory}\n                        size=\"small\"\n                    >\n                        Lưu thay đổi\n                    </Button>\n                </Grid>\n            </Grid>\n        </ModalWrapper>\n    );\n};\n\nexport default UpdateCategory;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from \"react-redux\";\nimport productApi from \"../../../api/productApi\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport zIndex from \"@material-ui/core/styles/zIndex\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport UpdateCategory from \"./UpdateCategory\";\n\nconst useStyles = makeStyles((theme) => ({\n  nested: {\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nexport default function RootCategory(props) {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [subCategories, setSubCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getSubCategory(\n          store_uuid,\n          props.category.uuid\n        );\n        setSubCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if(!props.useNestedApi){\n      fetchCategoryList();\n    }else{\n      setSubCategories()\n    }\n  }, [store_uuid, props.category.uuid, props.reset]);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n    handleClose()\n  };\n  const [update, setUpdate] = useState(false)\n  const handleOpenEdit = () => setUpdate(true)\n  const handleClose = () => setUpdate(false)\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={props.fromRoot ? classes.root : classes.nested}\n    >\n      <UpdateCategory onReset={props.onReset} open={update} handleClose={handleClose} category={props.category}/>\n      <ListItem >\n        <ListItemText\n          primary={\n            <Tooltip  title=\"Cập nhật\">\n              <Button style={{display:\"flex\",flexDirection:\"row\",justifyContent:\"flex-start\", textDecoration:\"none\",textTransform:\"none\"}} fullWidth onClick={handleOpenEdit}>\n                <ListItemIcon>\n                  <CategoryIcon/>\n                </ListItemIcon>\n                {props.category.name}\n              </Button>\n            </Tooltip>\n          }\n        />\n        {props.category.children.length === 0 ? null : open ? (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandLess />{\" \"}\n          </IconButton>\n        ) : (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandMore button />{\" \"}\n          </IconButton>\n        )}\n      </ListItem>\n      <Collapse in={open} unmountOnExit>\n        {subCategories.map((category) => (\n          <RootCategory key={category.uuid} category={category} onReset={props.onReset} reset={props.reset}/>\n        ))}\n      </Collapse>\n    </List>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport RootCategory from \"./List/RootCategory\";\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from \"react-redux\";\nimport { Box } from \"@material-ui/core\";\n\nconst CategoryTree = (props) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [parentCategories, setParentCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getParentCategory(store_uuid);\n        setParentCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid,props.reset]);\n  return (\n    <Box {...props}>\n      {parentCategories.map((category) => (\n        <RootCategory key={category.uuid} category={category} reset={props.reset} onReset={props.onReset} fromRoot={true}/>\n      ))}\n    </Box>\n  );\n};\n\nexport default CategoryTree;\n","import React, { useState } from \"react\";\n\n//import library\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\n\n// import icon\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddCategory from \"../AddInventory/AddCategory\";\n// import project\nimport CategoryTree from \"../../../../components/Category/CategoryTree\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Modal from \"../../../../components/Modal/ModalWrapper\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    categoryPopup: {\n      maxHeight: \"80vh\", \n      overflowY: \"scroll\",\n      margin: -20,\n    }\n  })\n);\n\nconst Category = (props) => {\n  const { handleClose, open } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  // loại lương\n  const [openAddCategory, setOpenAddCategory] = React.useState(false);\n  const handleCloseCategory = () => {\n    setOpenAddCategory(false);\n  };\n  const [reset, setReset] = useState(true)\n  const onReset = () => {\n    setReset(reset => !reset)\n  }\n\n\n\n\n  return (\n    <Modal open={open} handleClose={handleClose}>\n      <AddCategory onReset={onReset} open={openAddCategory} handleClose={handleCloseCategory} reset={reset} />\n      <Box className={classes.categoryPopup}>\n        <Box\n          flexDirection=\"row\"\n          display=\"flex\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{padding:20}}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Danh mục\n          </Typography>\n\n          <IconButton\n            aria-label=\"add\"\n            color=\"primary\"\n            onClick={() => {\n              setOpenAddCategory(true);\n            }}\n          >\n            <AddIcon />\n          </IconButton>\n        </Box>\n        <CategoryTree style={{ width: 500, maxWith: \"80%\" }} reset={reset} onReset={onReset} />\n      </Box>\n    </Modal>\n  );\n};\n\nexport default Category;\n","import React, { useEffect } from 'react';\nimport {\n  Dialog, TextField, Card, ListItem, DialogContent, Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSelector, useDispatch } from 'react-redux';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport useStyles from '../../TableCommon/style/mainViewStyle';\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// import library\n\nimport InvoiceReturnSummary from '../../CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary';\n\nimport * as HeadCells from '../../../assets/constant/tableHead';\nimport * as TableType from '../../../assets/constant/tableType';\nimport SearchProduct from '../../SearchBar/SearchProduct';\nimport TableHeader from '../../TableCommon/TableHeader/TableHeader';\nimport TableWrapper from '../../TableCommon/TableWrapper/TableWrapper';\nimport { getComparator, stableSort } from '../../TableCommon/util/sortUtil';\nimport * as Input from '../../TextField/NumberFormatCustom';\nimport ButtonQuantity from '../../Button/ButtonQuantity';\nimport refundApi from '../../../api/refundApi';\nimport SnackBarGeneral from '../../SnackBar/SnackBarGeneral';\nimport {statusAction} from '../../../store/slice/statusSlice';\nimport {ReturnCartMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport _ from 'lodash';\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InvoiceReturnPopUp(props) {\n  const { order, classes, handleCloseReturn , reload, reloadDetail } = props;\n  const theme = useTheme();\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const dispatch = useDispatch();\n  // 2. Table sort\n  // const [order, setOrder] = React.useState('desc');\n  // const [orderBy, setOrderBy] = React.useState('stt');\n  // const handleRequestSort = (event, property) => {\n  //     const isAsc = orderBy === property && order === 'asc';\n  //     setOrder(isAsc ? 'desc' : 'asc');\n  //     setOrderBy(property);\n  // };\n\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [refund, setRefund] = React.useState({\n    order_code: order.order_code,\n    order_id: order.id,\n    branch: order.branch,\n    customer: order.customer,\n    customer_id: order.customer_id,\n    branch_id: order.branch_id,\n    order_total_amount: order.total_amount,\n    total_amount: 0,\n    details: order.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: 'cash',\n    paid_amount: '0',\n    scores:'0'\n  });\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: 'error',\n    message: 'Trả hàng thất bại',\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newRefund = _.cloneDeep(refund);\n\n    // console.log(newBatches);\n    newRefund.details[itemIndex].selectedBatches = newBatches;\n    newRefund.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    // console.log(newRefund);\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    refund.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    let newRefund = update(refund, {\n      total_amount: { $set: total },\n      // paid_amount:{ $set: total.toString() },\n      paid_amount: { $set: total },\n      scores: { $set:  store_setting?.customerScore.status  ? parseInt((total)/store_setting?.customerScore.value)  :'0'},\n      \n    });\n    // newRefund = update(refund, {\n    //   paid_amount:{ $set: total },\n      \n    // });\n    \n\n    setRefund(newRefund);\n    \n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newRefund = update(refund, { paid_amount: { $set: paidAmount } });\n    setRefund(newRefund);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newRefund = update(refund, { payment_method: { $set: paymentMethod } });\n    setRefund(newRefund);\n  };\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const import_date = moment.unix(d).format('YYYY-MM-DD HH:mm:ss', { trim: false });\n\n    const body = {\n      order_uuid: order.uuid,\n      customer_id: refund.customer_id,\n      total_amount: refund.total_amount.toString(),\n      payment_method: refund.payment_method,\n      paid_amount: refund.paid_amount,\n      points:refund.scores,\n      status:\n      refund.paid_amount >= refund.total_amount\n        ? 'closed'\n        : 'debt',\n      details: refund.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        order_batches: detail.order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      import_date,\n     \n    };\n\n    try {\n      const res = await refundApi.removeInventory(\n        store_uuid,\n        refund.branch.uuid,\n        body,\n      );\n      dispatch(statusAction.successfulStatus(`Trả hàng thành công: ${res.data.refund_code}`))\n      reload();\n      reloadDetail();\n      handleCloseReturn()\n    } catch (err) {\n      dispatch(statusAction.failedStatus('Trả hàng thất bại!'))\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  return (\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n       \n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 30 }}>Trả hàng</Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleCloseReturn}>\n          <CloseIcon />\n        </IconButton>\n\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" spacing={2}>\n         \n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: '75vh' }}>\n                {/* JSON data attribute phải giongso table head id */}\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n               {!xsScreen ? ( <TableWrapper isCart>\n                  <TableHeader\n                    classes={classes}\n                                    // order={order}\n                                    // orderBy={orderBy}\n                                    // onRequestSort={handleRequestSort}\n                    headerData={HeadCells.CartReturnHeadCells}\n                  />\n                  <TableBody>\n                    {/* {\n                                    stableSort(row.list, getComparator(order, orderBy))\n                                        .map((row, index) => {\n                                        return (\n                                            <CartReturnTableRow row={row}/>\n                                        );})\n                                } */}\n\n                    {refund.details.map((detail, index) => (\n                      <CartReturnTableRow\n                        handleProductPriceChange={handleProductPriceChange}\n                        handleItemQuantityChange={handleItemQuantityChange}\n                        detail={detail}\n                        handleChangeBatches={handleChangeBatches}\n                      />\n                    \n                    ))}\n                  </TableBody>\n                </TableWrapper>):\n                refund.details.map((detail, index) => (\n                  // <CartReturnTableRow\n                  //   handleProductPriceChange={handleProductPriceChange}\n                  //   handleItemQuantityChange={handleItemQuantityChange}\n                  //   detail={detail}\n                  // />\n                  <ReturnCartMiniTableRow\n                    detail={detail}\n                    handleProductPriceChange={handleProductPriceChange}\n                    handleItemQuantityChange={handleItemQuantityChange}\n                    isCart={true}\n                  />\n\n                ))\n              }\n              </Box>\n            </Card>\n          </Grid>\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <InvoiceReturnSummary\n                data={refund}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n\n    </>\n  );\n}\n\nexport default InvoiceReturnPopUp;\n\nfunction CartReturnTableRow({ detail, handleProductPriceChange, handleItemQuantityChange, handleChangeBatches }) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n\n\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>{detail.product_code}</TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      <TableCell align=\"right\"><Input.ThousandFormat style={{ width: 70 }} value={detail.unit_price}/></TableCell>\n      <TableCell align=\"right\">\n      { canFixPriceSell.status && canFixPriceSell.returnImport?\n        <Input.ThousandSeperatedInput id=\"standard-basic\" style={{ width: 70 }} size=\"small\" inputProps={{ style: { textAlign: 'right' } }} defaultPrice={detail.returnPrice} onChange={(e) => handleChangePrice(e.target.value)} />\n     :<Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n     \n        </TableCell>\n\n      {/* <TableCell align=\"left\" padding=\"none\">\n        <ButtonQuantity\n          quantity={detail.returnQuantity}\n          limit={detail.quantity - detail.returned_quantity}\n          setQuantity={handleChangeQuantity}\n          show={show}\n          setShow={setShow}\n          isReturn={true}\n        />\n      </TableCell> */}\n            <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n\n      <TableCell align=\"right\" className={classes.boldText}>\n     < Input.VNDFormat value={Number(detail.returnQuantity) * Number(detail.returnPrice)} />\n      </TableCell>\n\n    </TableRow>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\n// import library\nimport {\n  Dialog,\n  Card,\n  DialogContent,\n  Box,\n  Tooltip,\n  Chip,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n// import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InvoiceReturnPopUp from \"../../../../../components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp\";\n\nimport orderApi from \"../../../../../api/orderApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport invoiceApi from \"../../../../../api/invoiceApi\";\nimport setting from \"../../../../../assets/constant/setting\"\nimport {statusAction} from '../../../../../store/slice/statusSlice'\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nfunction InvoiceDetail(props) {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n \n  //  tam thoi\n\n\n  const theme = useTheme();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles(theme);\n  const [reload, setReload] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = orderApi.deleteOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa hóa đơn thành công\"));\n      onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa hóa đơn thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [order, setOrder] = useState({\n    customer: { name: \"\" },\n    created_by_user: { name: \"\" },\n    branch: null,\n    details: [],\n  });\n\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await orderApi.getOrder(store_uuid, row.uuid);\n        // console.log(res.data)\n        console.log(\"res\",res.data)\n        setOrder(res.data);\n      } catch (error) {\n        setOrder({\n          customer: { name: \"\" },\n          created_by_user: { name: \"\" },\n          branch: null,\n          details: [],\n        });\n      }\n\n      // },\n      //   [props.parentProps.openRow],\n      // );\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n  const debtAmount = order.total_amount - order.discount - order.paid_amount;\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return orderApi.editOrderApi(store_uuid, branch_uuid, uuid, body);\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n\n  function getDifferenceInDays(date1, date2) {\n    const diffInMs = Math.abs(date2 - date1);\n    return diffInMs / (1000 * 60 * 60 * 24);\n  }\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const type = store_setting?.printReceiptWhenSell.cartModal;\n\n  const returnLimit = store_setting?.returnLimit\n\n\n  // const haveReturnQuantity = order.details.ex(()=>returned_quantity)\n  var haveReturnQuantity =   order.details.every(function (element, index) {\n    if ( Number(element.returned_quantity) === 0) return false;\n    else return true;\n  })\n\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        onReload={props.parentProps.onReload}\n        reloadDetail={() => setReload(!reload)}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Thu thêm hóa đơn <i>{row.order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày bán{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách hàng\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.customer ? order.customer.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người bán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.created_by_user ? order.created_by_user.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* Cần thu <VNDFormat value={debtAmount} /> */}\n                  {debtAmount > 0 ? \"Cần thu thêm \" : \"Trả đủ\"}\n                  {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={order.total_amount - order.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.branch ? order.branch.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              {haveReturnQuantity ?<TableCell align=\"right\">Đổi trả</TableCell>:null}\n              <TableCell align=\"right\">Giá bán</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {order.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                {/* <TableCell align=\"right\">{detail.returned_quantity}</TableCell> */}\n                {haveReturnQuantity?\n                 <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>:null}\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                {/* <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography> */}\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({order.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(order.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\" style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          // justifyContent=\"flex-end\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n        \n          {info.user.uuid?.includes(order?.created_by_user.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n              style={{ marginLeft: 15}}\n              onClick={handleDelete}\n            >\n              Xóa hóa đơn\n          </Button> :null}\n\n          {returnLimit.status === false || returnLimit.status === true && (getDifferenceInDays(new Date(),new Date(row.creation_date)) < returnLimit.day) ?\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n                style={{ marginLeft: 15 }}\n                onClick={handleClickOpen}\n              >\n                Trả hàng\n            </Button>\n          :null}\n           <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In hoá đơn\n          </Button>\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton> */}\n         \n\n          {/* <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In hoá đơn\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n      {/* \n      <Dialog fullWidth maxWidth=\"lg\" open={open} onClose={handleCloseReturn} aria-labelledby=\"form-dialog-title\">\n        <InvoiceReturnPopUp handleCloseReturn={handleCloseReturn} order={order} classes={classes} /> */}\n\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={order} date={row.creation_date?.split(\" \")[0].split('-').reverse().join('/')} code={row.order_code} type={type}/>\n        </div>\n      </div>\n\n      {/* Tra hang */}\n\n      <Dialog\n        fullWidth\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleCloseReturn}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <InvoiceReturnPopUp\n          handleCloseReturn={handleCloseReturn}\n          order={order}\n          classes={classes}\n          reloadDetail={() => setReload(!reload)}\n          reload={onReload}\n        />\n      </Dialog>\n    </Collapse>\n  );\n}\n\nexport default InvoiceDetail;\n","import React, {useEffect,useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import library\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Avatar,\n  Dialog,\n  FormHelperText\n} from \"@material-ui/core\";\n\n//import project\nimport customerApi from \"../../../../../../api/customerApi\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    ava: {\n      width: theme.spacing(7),\n      height: theme.spacing(7),\n    },\n    textField: {\n      width: \"100%\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateCustomer = (props) => {\n  const { handleClose, open, onReload } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [phoneExist, setPhoneExist] = React.useState(false);\n  const [clicked, setClicked] =useState(false)\n\n\n  const customerFormik = useFormik({\n    initialValues: {\n      name: props.customerDetail?.name || \"\",\n      email: props.customerDetail?.email || \"\",\n      phone: props.customerDetail?.phone || \"\",\n      address: props.customerDetail?.address || \"\",\n      paymentInfo: props.customerDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n  })\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  // const handleCloseAndReset =() =>{\n  //   // handleClose()\n  //   onReload()\n  //   customerFormik.resetForm()\n  // } \n  useEffect(() =>{\n    if(phoneExist) {setPhoneExist(false)}\n  },[customerFormik.values.phone])\n\n  const dispatch = useDispatch()\n  return (\n \n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Chỉnh sửa khách hàng\n        </Typography>\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-around\"\n            spacing={3}\n          >\n            <Grid item xs={7}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Tên khách hàng\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                required\n                name = \"name\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.name}\n                error={customerFormik.touched.name && customerFormik.errors.name}\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                required\n                id=\"outlined-basic\"\n                label=\"Số điện thoại\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"phone\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.phone}\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\n                onBlur={customerFormik.handleBlur}\n              />\n               { phoneExist && (\n                <FormHelperText error>Số điện thoại đã được sử dụng</FormHelperText>\n              )}\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Địa chỉ\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name= \"address\"\n                // required\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.address}\n                error={customerFormik.touched.address && customerFormik.errors.address}\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n            <Grid item xs={5}>\n              <TextField\n                id=\"date\"\n                label=\"Thông tin thanh toán\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.textField}\n                name = \"paymentInfo\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.paymentInfo}\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Email\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name = \"email\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.email}\n                error={customerFormik.touched.email && customerFormik.errors.email}\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={handleClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          onClick={async () => {\n            setClicked(true)\n            let body = {\n              name: customerFormik.values.name,\n              email: customerFormik.values.email,\n              phone: customerFormik.values.phone,\n              address: customerFormik.values.address,\n              payment_info: customerFormik.values.paymentInfo,\n            };\n\n            try {\n              const response = await customerApi.updateCustomer(store_uuid, props.customerDetail.uuid, body)\n              handleClose()\n              // handleCloseAndReset()\n              dispatch(statusAction.successfulStatus(\"Sửa thông tin khách hàng thành công\"));\n              onReload()\n              \n            } catch (err) {\n              // dispatch(statusAction.failedStatus(\"Sửa thông tin khách hàng thất bại\"));\n              setPhoneExist(true)\n              setClicked(false)\n            }\n\n          }}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled = {!(customerFormik.isValid  )|| clicked}\n        >\n          Lưu thay đổi\n        </Button>\n      </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default UpdateCustomer;\n","import { Box, Button, Collapse, Grid, IconButton, InputAdornment, ListItem, ListItemIcon, ListItemText, TextField, Typography } from '@material-ui/core';\nimport React, {useState} from 'react'\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton'\nimport VNDInput, { ThousandFormat, ThousandSeperatedInput, VNDFormat } from '../../../../../components/TextField/NumberFormatCustom';\nimport { createStyles, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\nimport { Tag } from 'antd';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport UpdateCustomer from \"../CustomerDetail/UpdateCustomer/UpdateCustomer\"\nimport avaUpload from '../../../../../assets/img/ava/avaa.jpeg';\nimport customerApi from \"../../../../../api/customerApi\";\nimport moment from 'moment'\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\n\n\n\n//import icon\n\n\n\n\n//import image\n// import avaUpload from '../../../../../assets/img/product/lyimg.jpeg';\n\n\n//import project \n\n\n\n\n\n\n// import CustomerDebtDetail from \"./CustomerDebtDetail\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      '& .MuiTextField-root': {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: '1.125rem'\n    },\n    typo: {\n      marginBottom: 20\n    }\n\n  }));\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n\n      }}\n      src={avaUpload}\n    />\n\n  )\n}\nconst CustomerDetail = (props) => {\n\n  const { row, openRow } = props.parentProps;\n\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editItem, setEditItem] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const dispatch = useDispatch();\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n\n  const handleDeleteCustomer = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await customerApi.deleteCustomer(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.onReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await customerApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n          date: moment(new Date()).format(\"YYYY-MM-DD\")\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.onReload();\n      }\n    } catch(err) {\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n\n// const [openDetaiDebt,setOpenDetaiDebt] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteCustomer}\n        message={\n          <Typography>\n            Xóa vĩnh viễn khách hàng <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Thu nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n          {/* <VNDInput\n          size=\"small\"\n          value={paidAmount}\n          onChange={(e) => {\n            const amount = Number(e.target.value);\n            if (amount < 0 || amount > row.debt) return;\n            setPaidAmount(e.target.value);\n          }}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              {\" \"}\n              / <VNDFormat value={row.debt} />\n            </InputAdornment>\n          }\n        /> */}\n        <ListItem>\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editItem &&<UpdateCustomer customerDetail={row} open={editItem} onReload={props.parentProps.onReload} handleClose={() => { setEditItem(false) }} />}\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={3}>\n            <UploadImage />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\" >\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.customer_code} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Số điện thoại</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Thông tin thanh toán</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Địa chỉ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.address} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Email</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.email} </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n\n          <Grid item xs={12} sm={4}>\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tích điểm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={row.points} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền mua</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.total_payment} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Còn nợ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.debt} /> </Typography>\n              </Grid>\n              {/* {row.debt > 0?\n              <Grid item sm={3} >\n                  <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetaiDebt(true)}> Chi tiết</Button>            \n                </Grid>:null}\n                {openDetaiDebt?\n                <CustomerDebtDetail  \n                open={openDetaiDebt} \n                 onClose={()=>setOpenDetaiDebt(false)}\n                 setReload={() => {\n                  // setReload();\n                  // setThisReload(!thisReload);\n                  \n                 }}\n                 />:null} */}\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Nhóm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                {row.groups?.map(g => <Tag color=\"magenta\" >{g}</Tag>)}\n              </Grid>\n\n            </Grid>\n            </Grid>\n              \n            \n\n        </Grid>\n\n        {/* Button */}\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"} style={{ marginTop: 20 }}>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setEditItem(true) }}>Sửa</Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setDeleteConfirm(true) }}>Xoá</Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {   \n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              \n              props.parentProps.onReload();\n  \n            }}\n            \n            >\n              <ListItemIcon style={{ marginRight: -15 }} >\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n\n          </StyledMenu>\n\n\n        </Grid>\n\n      </Box>\n    </Collapse>\n  )\n\n}\n\nexport default CustomerDetail\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport supplierApi from \"../../../../../../api/supplierApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Dialog,\n  Box,\n  Paper,\n  IconButton,\n  Tooltip,\n} from \"@material-ui/core\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {},\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateSupplier = (props) => {\n  const { handleClose, open, supplierDetail } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const supplierFormik = useFormik({\n    initialValues: {\n      name: supplierDetail?.name || \"\",\n      email: supplierDetail?.email || \"\",\n      phone: supplierDetail?.phone || \"\",\n      address: supplierDetail?.address || \"\",\n      company: supplierDetail?.company || \"\",\n      paymentInfo: supplierDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên nhà cung cấp\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\"),\n        // .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n    enableReinitialize: true\n  })\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const dispatch = useDispatch();\n  const handleUpdateSupplier = async () => {\n    handleClose()\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", supplierFormik.values.name.toString());\n      bodyFormData.append(\"email\", supplierFormik.values.email.toString());\n      bodyFormData.append(\"phone\", supplierFormik.values.phone.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.paymentInfo.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.company.toString());\n      bodyFormData.append(\"address\", supplierFormik.values.address.toString());\n      await supplierApi.updateSupplier(store_uuid, supplierDetail.uuid, bodyFormData)\n      dispatch(statusAction.successfulStatus(\"Sửa nhà cung cấp thành công\"));\n      props.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Sửa nhà cung cấp thất bại\"));\n      console.log(err);\n    }\n  };\n  const handleCloseAndReset =() =>{\n\n    supplierFormik.resetForm()\n  }\n  return (\n    <SimpleModal\n      open={open}\n      handleClose={()=>{handleClose();handleCloseAndReset();}}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <Box style={{ width: 550, maxWidth: \"100%\" }}>\n        <Typography className={classes.headerTitle} variant=\"h5\" gutterBottom>\n          Chỉnh sửa nhà cung cấp\n        </Typography>\n        <Grid container spacing={2} style={{ marginTop: 10 }}>\n          <Grid item xs={12}>\n            <TextField\n              required\n              id=\"outlined-basic\"\n              label=\"Tên nhà cung cấp\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.name}\n              error={supplierFormik.touched.name && supplierFormik.errors.name}\n              helperText={supplierFormik.touched.name ? supplierFormik.errors.name : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              // required\n              id=\"outlined-basic\"\n              label=\"Địa chỉ\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"address\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.address}\n              error={supplierFormik.touched.address && supplierFormik.errors.address}\n              helperText={supplierFormik.touched.address ? supplierFormik.errors.address : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Số điện thoại\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              // required\n              name=\"phone\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.phone}\n              error={supplierFormik.touched.phone && supplierFormik.errors.phone}\n              helperText={supplierFormik.touched.phone ? supplierFormik.errors.phone : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Email\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              name=\"email\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.email}\n              error={supplierFormik.touched.email && supplierFormik.errors.email}\n              helperText={supplierFormik.touched.email ? supplierFormik.errors.email : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Tên công ty\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"company\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.company}\n              error={supplierFormik.touched.company && supplierFormik.errors.company}\n              helperText={supplierFormik.touched.company ? supplierFormik.errors.company : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Thông tin thanh toán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"paymentInfo\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.paymentInfo}\n              error={supplierFormik.touched.paymentInfo && supplierFormik.errors.paymentInfo}\n              helperText={supplierFormik.touched.paymentInfo ? supplierFormik.errors.paymentInfo : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n            marginTop: 20,\n          }}\n        >\n          <Button\n           onClick={()=>{handleClose();handleCloseAndReset();}}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n          >\n            Huỷ\n          </Button>\n          <Button\n            style={{ marginLeft: 10 }}\n            onClick={handleUpdateSupplier}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={!supplierFormik.isValid}\n          >\n            Lưu thay đổi\n          </Button>\n        </Grid>\n      </Box>\n    </SimpleModal>\n  );\n};\n\nexport default UpdateSupplier;\n","import React, {useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  ListItem,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport supplierApi from \"../../../../../api/supplierApi\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport UpdateSupplier from \"./UpdateSupplier/UpdateSupplier\";\nimport { VNDFormat, ThousandFormat, ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst SupplierDetail = (props) => {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editSupplier,setEditSupplier] = React.useState(false);\n  const dispatch = useDispatch();\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleDeleteSupplier = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await supplierApi.deleteSupplier(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await supplierApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.setReload();\n      }\n    } catch(err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteSupplier}\n        message={\n          <Typography>\n            Xóa vĩnh viễn nhà cung cấp <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Trả nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n        <ListItem >\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editSupplier &&<UpdateSupplier supplierDetail={row} open={editSupplier} handleClose = {() => setEditSupplier(false)} onReload= {props.parentProps.setReload}/>}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={6}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item  xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.phone}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.address}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n              \n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền đã nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat  value={row.total_payment} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Còn nợ\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                <VNDFormat  value={row.debt} /> \n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Thông tin thanh toán\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_info}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Công ty\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.company}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick = {() => setEditSupplier(true)}>\n            Sửa\n          </Button>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setDeleteConfirm(true);\n            }}\n          >\n            Xoá\n          </Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {     \n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              props.parentProps.setReload();\n            }}\n            >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default SupplierDetail;\n","import { Typography, Grid, TextField,Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useSelector,useDispatch } from \"react-redux\";\nimport {statusAction} from \"../../../../../../store/slice/statusSlice\"\nimport userApi from \"../../../../../../api/userApi\"\n\nconst ChangeEmployeePwd = (props) => {\n    const { open, handleClose, employeeDetail } = { ...props };\n    const formik = useFormik({\n        enableReinitialize: true,\n        initialValues: {\n            owner_password:\"\",\n            password: \"\",\n            confirm_password: \"\",\n        },\n        validationSchema: Yup.object({\n            owner_password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            confirm_password: Yup.string()\n                .required(\"Nhập lại mật khẩu\")\n                .oneOf([Yup.ref(\"password\"), null], \"Mật khẩu không khớp\"),\n        }),\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch= useDispatch()\n    const handleChangePassword = async () => {  \n        closeModalAndResetData()\n        try{\n            const response = userApi.owenerChangePassword(store_uuid,employeeDetail.uuid,{\n                owner_password:formik.values.owner_password,\n                employee_password: formik.values.password\n            })\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thành công\"))\n        }catch(error){\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thất bại\"))\n        }\n    }\n    const closeModalAndResetData = () => {\n        formik.resetForm()\n        handleClose()\n    }\n    return (\n        <SimpleModal open={open} handleClose={closeModalAndResetData}>\n            <Typography variant=\"h4\" gutterBottom>\n                Đổi mật khẩu\n            </Typography>\n\n            <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        variant=\"filled\"\n                        fullWidth\n                        label=\"Tên nhân viên\"\n                        value={employeeDetail.name}\n                        disabled\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"owner_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu chủ cửa hàng\"\n                        onChange={formik.handleChange}\n                        value={formik.values.owner_password}\n                        error={formik.touched.owner_password && formik.errors.owner_password}\n                        helperText={formik.touched.owner_password ? formik.errors.owner_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu mới\"\n                        onChange={formik.handleChange}\n                        value={formik.values.password}\n                        error={formik.touched.password && formik.errors.password}\n                        helperText={formik.touched.password ? formik.errors.password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"confirm_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Nhập lại mật khẩu\"\n                        onChange={formik.handleChange}\n                        value={formik.values.confirm_password}\n                        error={formik.touched.confirm_password && formik.errors.confirm_password}\n                        helperText={formik.touched.confirm_password ? formik.errors.confirm_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n            </Grid>\n            <Grid\n                item\n                xs={12}\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\",\n                    paddingTop: 20,\n                }}\n            >\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    style={{ marginRight: 20 }}\n                    onClick={closeModalAndResetData}\n                >\n                    Hủy\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={handleChangePassword}\n                    style={{ marginRight: 20 }}\n                    disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n                >\n                    Sửa\n                </Button>\n            </Grid>\n        </SimpleModal>\n    );\n};\n\nexport default ChangeEmployeePwd;\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport LockIcon from '@material-ui/icons/Lock';\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\nimport Chip from \"@mui/material/Chip\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import image\nimport avaUpload from \"../../../../../assets/img/product/lyimg.jpeg\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\"\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport employeeApi from \"../../../../../api/employeeApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport EditEmployee from \"../../AddEmployee/EditEmployee\";\nimport ChangeEmployeePwd from \"./ChangeEmployeePwd/ChangeEmployeePwd\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = ({ src }) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n      }}\n      src={src}\n    />\n  );\n};\n\nconst permissionsMapping = {\n  \"manage-employees\": \"Nhân sự\",\n  \"manage-orders\": \"Bán hàng\",\n  \"manage-purchase-orders\": \"Đặt hàng\",\n  \"manage-purchase-returns\": \"Nhập hàng\",\n};\n\nconst salaryTypeMapping = {\n  fix: \"Lương cứng\",\n  \"per-shift\": \"Lương theo ca\",\n};\n\nconst EmployeeDetail = (props) => {\n  const { row, openRow, handleReload } = props.parentProps;\n  const { isMini } = props;\n\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [openEdit, setOpenEdit] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [employeeDetail, setEmployeeDetail] = React.useState({\n    uuid: \"\",\n    name: \"\",\n    user_name: \"\",\n    date_of_birth: \"\",\n    id_card_num: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    permissions: [],\n    salary_type: \"\",\n    salary: \"\",\n    branches: []\n  });\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [reload, setReload] = useState(false)\n  useEffect(() => {\n    const fetchEmp = async () => {\n      try {\n        const response = await employeeApi.getEmployee(store_uuid, row.uuid);\n        setEmployeeDetail(response.data);\n      } catch (err) {\n        setEmployeeDetail({\n          uuid: \"\",\n          name: \"\",\n          user_name: \"\",\n          date_of_birth: \"\",\n          id_card_num: \"\",\n          phone: \"\",\n          email: \"\",\n          address: \"\",\n          permissions: [],\n          salary_type: \"\",\n          salary: \"\",\n          branches: []\n        });\n      }\n    };\n    if (openRow === row.uuid && store_uuid) {\n      fetchEmp();\n    }\n  }, [openRow,reload]);\n  const [changePwd, setChangePwd] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      {openEdit && (<EditEmployee\n        handleClose={(status) => {\n          if (status === \"Success\") {\n            dispatch(statusAction.successfulStatus(\"Chỉnh sửa thành công\"))\n            setReload(!reload)\n          } else if (status === \"Failed\") {\n            dispatch(statusAction.failedStatus(\"Chỉnh sửa thất bại\"))\n          }\n          setOpenEdit(false);\n          handleReload();\n        }}\n        open={openEdit}\n        employee={employeeDetail}\n      />)}\n      <ChangeEmployeePwd open={changePwd} handleClose={() => setChangePwd(false)} employeeDetail={employeeDetail} />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={3} >\n            <UploadImage src={employeeDetail.img_url} />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.employee_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên đăng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.user_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày sinh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.date_of_birth}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  CMND\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.id_card_num}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.phone}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.address}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={4}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chức năng\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.permissions.map((permission) => (\n                    <Chip label={permission.description} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.branches?.map((branch) => (\n                    <Chip label={branch.name} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Loại lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {salaryTypeMapping[employeeDetail.salary_type]}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mức lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={employeeDetail.salary}/>\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === 'active' ? \"Kích hoạt\" :\"Ngưng hoạt động\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n        </Grid>\n\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setOpenEdit(true);\n            }}\n          >\n            Sửa\n          </Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={async () => {\n            if (row.status === \"inactive\") {\n              try {\n                const response = await employeeApi.activeEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                handleReload()\n              } catch (err) {\n                console.log(err)\n                dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n              }\n            } else if (row.status === \"active\") {\n              try {\n                const response = await employeeApi.inactiveEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n              }\n            }\n\n          }}>\n            {row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n          </Button>\n\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={async () => {\n              try {\n                const response = await employeeApi.deleteEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Xoá nhân viên thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Xoá nhân viên thất bại\"))\n              }\n            }} >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xoá\" />\n            </StyledMenuItem>\n\n            {info.role === \"owner\" &&\n              <StyledMenuItem onClick={() => setChangePwd(true)} >\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <LockIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Mật khẩu\" />\n              </StyledMenuItem>}\n\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default EmployeeDetail;\n","import React from 'react'\nimport MuiAlert from '@material-ui/lab/Alert';\nimport {Snackbar} from '@material-ui/core';\n\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\nconst SnackBar = (props) => {\n    const {handleCloseBar,openBar,addStatus} =props;\n    return (\n        <Snackbar\n        anchorOrigin={{ vertical: 'top',horizontal:  'right' }}\n        open={openBar}\n        onClose={handleCloseBar}\n        autoHideDuration={2000} \n      >\n        {addStatus === \"Success\" ? \n        <Alert onClose={handleCloseBar} severity=\"success\">\n            Thêm thành công\n        </Alert> \n        :  <Alert onClose={handleCloseBar} severity=\"error\">\n            Thêm thất bại\n        </Alert> }\n\n      </Snackbar>\n    )\n}\n\nexport default SnackBar\n","import React from 'react'\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\n\nimport InfoTwoToneIcon from '@material-ui/icons/InfoTwoTone';\nimport {Typography,Tooltip} from '@material-ui/core';\n\nconst HtmlTooltip = withStyles((theme) => ({\n    tooltip: {\n      backgroundColor: '#6b6b6b',\n      // color: 'rgba(0, 0, 0, 0.87)',\n      color: '#fff',\n      // maxWidth: 220,\n      fontSize: theme.typography.pxToRem(12),\n      border: '1px solid #000',\n    },\n  }))(Tooltip);\n\nconst MoreInfo = (props) => {\n  const {title, content} = props\n    return (\n        <div> \n            <HtmlTooltip\n                arrow\n                title={\n                <React.Fragment>\n                    {/* <Typography color=\"inherit\">Tooltip with HTML</Typography>\n                    <em>{\"And here's\"}</em> <b>{'some'}</b> <u>{'amazing content'}</u>.{' '}\n                    {\"It's very engaging. Right?\"} */}\n                    {props.children}\n                </React.Fragment>\n                }\n            >\n              <InfoTwoToneIcon fontSize=\"small\" />\n            </HtmlTooltip>\n        </div>\n    )\n}\n\nexport default MoreInfo\n","import React ,{useEffect,useState}from 'react'\nimport {Typography,Divider,Card,Grid,Paper,InputAdornment,Box,TextField,Button,InputLabel,MenuItem,FormControl,Select,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\n\nimport { TreeSelect,Tree } from 'antd';\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from 'react-redux'\n\nconst CategorySelect = ({data,saveData,setData, isNotSelect,setOpenFilter}) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branches = info.store.branches \n    const [categoryId, setCategoryId] = useState('all');\n\n    const [categoryList, setCategoryList] = useState([]);\n    const [allProduct, setAllProduct] =  useState([]);\n    // useEffect(()=>{\n    //   if ( window.localStorage.getItem(\"products\")) {\n    //     const products = JSON.parse(window.localStorage.getItem(\"products\"));\n    //     if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n    //       setAllProduct(products.data);\n    //     }\n    //   }\n    // },[])\n\n\n    const recursiveSearchTree = (category) => {\n        const findedCategory=category.find(e => e.uuid === categoryId);\n        if(findedCategory){return findedCategory}\n        for(let i = 0; i< category.length ; i++){\n          if(category[i].children.length > 0){return recursiveSearchTree(category[i].children)}\n        } \n      };\n      const getAllChild  =(cat) => {\n        if(!cat){return}\n        if(cat.children.length === 0){return cat.uuid}\n        return cat.children.map((child)=>{\n          return getAllChild(child)\n        })\n      }\n      const filterCategory = () =>{\n        if(categoryId === 'all') {\n          setData(saveData)\n            // setData(allProduct)\n        }else{\n          let cat =  recursiveSearchTree(categoryList)\n          let allChild = cat?.children?.length !== 0? getAllChild(cat) : []\n          allChild =  [].concat.apply([], allChild)\n          let allCat =  allChild ?[... allChild, cat?.uuid]: allChild\n         //   setData(saveData.filter(data =>  allCat?.includes(data.category_uuid ) ))\n        //  let newAllProduct = [...allProduct]\n        //  newAllProduct = newAllProduct.filter(data =>  allCat?.includes(isNotSelect?data.category.uuid:data.category_uuid ))\n        // setData(newAllProduct)\n        // var newProductData = [...allProduct]\n        // newProductData = setData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid ))\n        setData(saveData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid )))\n\n        }\n      }\n    \n    const fetchAllCategory = async () => {\n        try {\n            const response = await productApi.getNestedCategory(store_uuid);\n            setCategoryList(response.data);\n        } catch (error) { }\n    };\n\n    useEffect(()=>{\n        if (store_uuid && branch_uuid &&saveData) {fetchAllCategory()}\n        },[])\n\n    useEffect(()=>{\n        if(categoryList&& data &&saveData.length !==0) {\n            filterCategory()\n            // if(isNotSelect && categoryId) {setOpenFilter(false)}\n        }\n        \n        },[categoryId])\n\n    const [selectedNodeUuid,setSelectedNodeUuid] = useState(null)\n    const onSelect = (selectedKeys, info) => {\n        if(info.node.uuid){\n            setCategoryId(info.node.uuid)\n        }else{\n            setCategoryId('all')\n        }\n        // setCategoryId(info.node.uuid)\n        setOpenFilter(false)\n    };\n    console.log(\"selectedNodeUuid\",selectedNodeUuid)\n\n if(isNotSelect){\n     return (\n         <>\n        <Tree\n        // showLine={true}\n        // showIcon={true}\n        // defaultExpandedKeys={['0-0-0']}\n        // onSelect={(selectedKeys, info)=>console.log(info.node.uuid)}\n        onSelect={onSelect}\n        // onChange={(val)=>setCategoryId(val )}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n      /> \n      {/* <Button variant=\"contained\"  onClick={()=>{setCategoryId(selectedNodeUuid);}}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n\n      </>\n     )\n }       \n  return (\n    <TreeSelect\n        style={{ width: 220}}   \n        dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n        value={categoryId}\n        onChange={(val)=>setCategoryId(val )}\n        treeDefaultExpandAll\n        placeholder=\"Danh mục\"\n        \n    />\n  )\n}\n\nexport default CategorySelect","import React, {useState,useEffect} from 'react'\nimport icon from '../../assets/img/product/tch.jpeg';\nimport InventoryList from '../../assets/JsonData/inventory.json';\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport { useSelector } from 'react-redux';\n//import library \nimport {Grid,Card,Box,Table,TableCell,Modal,Tooltip,Dialog,Tabs,Tab,TableRow,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography, Button} from '@material-ui/core'\nimport { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\nimport TableHeader from \"../TableCommon/TableHeader/TableHeader\" \nimport TableWrapper from \"../TableCommon/TableWrapper/TableWrapper\" \nimport ListIcon from '@material-ui/icons/List';\nimport ImageTwoToneIcon from '@material-ui/icons/ImageTwoTone';\nimport ListAltTwoToneIcon from '@material-ui/icons/ListAltTwoTone';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport clsx from \"clsx\"\nimport { TreeSelect } from 'antd';\nimport CategorySelect from \"../Select/CategorySelect\"\nimport { grey } from \"@material-ui/core/colors\";\nimport BrokenImageTwoToneIcon from '@material-ui/icons/BrokenImageTwoTone';\nimport WallpaperTwoToneIcon from '@material-ui/icons/WallpaperTwoTone';\nconst MenuProduct = ({products, setProducts, handleSearchBarSelect, isCart, selectedItem,typeShow,setTypeShow,isCheck,showImage,setShowImage}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const InventoryHeadCells = [\n      { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n      { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n      { id: \"price\", align: \"right\", disablePadding: false, label: isCart? \"Giá bán\":'Giá vốn' },\n      { id: \"inventory\", align: \"right\", disablePadding: false, label: \"Tồn kho\" },\n      { id: \"\", align: \"right\", disablePadding: false, label: \"\" },\n    ];\n    const [categoryList, setCategoryList] = useState([]);\n    const [categoryId, setCategoryId] = useState('all');\n    // redux\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting;\n\n    // const [typeShow, setTypeShow] = useState('list')\n    const [allProduct, setAllProduct] =  useState([]);\n    useEffect(()=>{\n      if ( window.localStorage.getItem(\"products\")) {\n        const products = JSON.parse(window.localStorage.getItem(\"products\"));\n        if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n          setAllProduct(products.data);\n        }\n      }\n    },[])\n\n    const selectedItemUuid =selectedItem.length ===0?[]: selectedItem.map((item)=>item.uuid)\n    const findItem = (item)=>{\n     const findedItem =  selectedItem.find(row => item.uuid === row.uuid)\n     if(isCheck){return findedItem?.real_quantity}\n     return findedItem?.quantity\n    // return findedItem?.real_quantity\n    // console.log(\"findedItem\",findedItem)\n    }\n\n    const [openFilter, setOpenFilter] = useState(false)\n    const [filter, setFilter] = useState(null)\n    const renderListOption = () => {\n      const color = theme.customization.mode === \"Light\"  ? '#000' : '#fff'\n      return (\n        <>\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}} >\n        <Table size={'small'} stickyHeader >\n            <TableHeader\n                classes={classes}\n                headerData={store_setting?.inventory.status ?InventoryHeadCells: InventoryHeadCells.filter(item => item.id !== \"inventory\")}\n                color={color}\n              />\n              <TableBody>\n                {products.map((row, index) => {\n                  let findedItem= findItem(row)\n                  return (\n                  <TableRow key={row.uuid}  onClick={() => handleSearchBarSelect(row)} style={{color:color,backgroundColor:selectedItemUuid.includes(row.uuid) &&( theme.customization.mode === \"Light\"  ? theme.customization.primaryColor[50] : grey[700])}}>\n                    <TableCell align=\"left\" style={{color:color}}> {row.product_code} </TableCell>\n                      <TableCell align=\"left\"  >\n                        <ListItem style={{ marginLeft: -30, marginTop: -10, marginBottom: -10, }}  >\n                         {showImage? <Box component=\"img\" sx={{ height: 35, width: 35, borderRadius: 10, marginRight: 15 }} src={JSON.parse(row.img_urls)?.at(0) || defaultProduct} />:null}\n                          <Typography className={classes.fontName} style={{color:color}}>{row.name}</Typography>\n                        </ListItem>\n                    </TableCell>\n                    <TableCell align=\"right\" > <VNDFormat value={isCart? row.list_price : row.standard_price } style={{color:color}} /> </TableCell>\n                      {store_setting?.inventory.status ? <TableCell align=\"right\" className={classes.fontName} style={{fontWeight:500,color:color}}> {row.branch_quantity}  </TableCell> : null}\n                      <TableCell align=\"right\" style={{color:theme.customization.secondaryColor[500], fontWeight:600}}>{findedItem? `x ${findItem(row)}`:''}</TableCell>\n                  </TableRow>\n                ); })}\n              </TableBody>\n          </Table>\n          </TableContainer>\n        </>\n      );\n    };\n\n    const renderImageOption = () => {\n      return (\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}>\n        <Grid container spacing={2} >\n        {products.map((item, index) => {\n            let findedItem= findItem(item)\n            return(\n              <Grid item>\n              <Card  className={clsx(classes.hoverCard,classes.item,classes.colorCard)} style={{ width:120, borderRadius:7,backgroundColor: theme.customization.mode === \"Light\"  ? null: grey[700]}} >\n                <CardActionArea  onClick={() => handleSearchBarSelect(item)}>\n                {showImage?<CardMedia\n                        style={{height:120, margin:5, marginBottom:-5, borderRadius:7}}\n                        image={JSON.parse(item.img_urls ? item.img_urls : \"[]\").length  ? JSON.parse(item.img_urls ? item.img_urls : \"[]\").at(0) : defaultProduct}\n                     />:null}\n                    <CardContent style={{margin:-5}}>\n                        <Typography gutterBottom  style={{color:'#000', fontWeight:500, fontSize:Number(12)}}> {item.name} </Typography>\n                        <Grid container alignItem='center'justifyContent='space-between'>\n                        <Typography   className={classes.alignCenter} style={{color:'#000', fontWeight:'#000', fontSize:Number(12)}} >\n                            {item.list_price.toLocaleString()} đ\n                        </Typography>\n                        <Typography style={{color:theme.customization.secondaryColor[500], fontWeight:600, marginTop:-2}} >{findedItem? `x ${findItem(item)}`:''} </Typography>\n                        </Grid>\n                    </CardContent>   \n              </CardActionArea>\n          </Card>\n          </Grid> \n          )})}\n          \n          \n        </Grid>\n        </TableContainer>\n      );\n    };\n    \n\n    return (\n          <div style={{marginTop:-25}}>\n           {/* <Tooltip title=\"Dạng danh sách\"> <ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')} style={{marginRight:5}}/> </Tooltip> */}\n           <Tooltip title=\"Dạng danh sách\" aria-label=\"add\"><ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')}  style={{marginRight:5}} /></Tooltip>\n           <Tooltip title=\"Dạng hình ảnh\" aria-label=\"add\"><ImageTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('image')}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Lọc\" aria-label=\"add\"><FilterListTwoToneIcon  fontSize=\"small\"onClick={()=>setOpenFilter(true)}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Hiển thị hình\" aria-label=\"add\"><WallpaperTwoToneIcon fontSize=\"small\"  onClick={()=>setShowImage(!showImage)} /></Tooltip>\n            \n             {typeShow === 'list'&& renderListOption()}\n             {typeShow === 'image'&& renderImageOption()}\n             <Dialog open={openFilter} onClose={()=>setOpenFilter(false)} >\n                  <Box style={{ marginTop: 10,  marginBottom: 10,padding:10 }}>\n          \n                    <Typography variant=\"h5\" style={{fontSize:18, marginBottom:20, paddingRight:100}}>\n                      Chọn danh mục\n                    </Typography>\n        \n                    <CategorySelect data={products} saveData={allProduct} setData={setProducts} isNotSelect={true} setOpenFilter={setOpenFilter}/>\n                    {/* <Button variant=\"contained\"  onClick={()=>setOpenFilter(false)}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n                  </Box>\n            \n             </Dialog>\n          </div>\n \n    )\n}\n\nexport default MenuProduct\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// const categoryBig = ['Quần áo', 'Bánh kẹo', 'Đồ dùng', 'Điện thoại', 'Máy tính']\n\n\n   // //tab menu\n    // const [value, setValue] = React.useState(0);\n    // const handleChange = (event, newValue) => {\n    //     setValue(newValue);\n    // }; \n/* <Tabs style={{marginBottom:10, marginLeft:-20}}  variant=\"scrollable\" scrollButtons=\"auto\" indicatorColor=\"secondary\" textColor=\"secondary\"value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n  {categoryBig.map((item)=>{\n  return(\n      <Tab label={item} style={{ minWidth: 100,textTransform: 'none'}} />          \n      )\n  })}\n</Tabs> */","import React from \"react\";\nimport { Fab, IconButton, Tooltip, ButtonBase, Badge } from \"@material-ui/core\";\nimport { makeStyles, createStyles, styled } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { IconSettings } from \"@tabler/icons\";\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    btn: {\n      position: \"fixed\",\n      top: 200,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n\n    btnBottom: {\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n  })\n);\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n  \"& .MuiBadge-badge\": {\n    border: `3px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\",\n  },\n}));\nconst CartButton = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const {number} = props\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      aria-label=\"add\"\n      className={classes.btn}\n      component={Link}\n      to={`/store/${props.storeInfo?.web_page}/cart`}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }}>\n        <StyledBadge color=\"error\" badgeContent={number}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport const CartBottom = ({numberItem}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      className={classes.btnBottom} \n      onClick={()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:\"smooth\"})}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }} >\n        <StyledBadge color=\"error\" badgeContent={numberItem}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport default CartButton;\n","import React from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n//import library \nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\n\nimport AddIcon from '@material-ui/icons/Add';\nimport SwapVertTwoToneIcon from '@material-ui/icons/SwapVertTwoTone';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\nconst ChangeCartBtn = (props) => {\n    const {selectedIndex,anchorEl,cartList,handleClick,handleClose,handleChoose,handleDelete,handleAdd, isCart} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    let hardText = isCart ? \"Khách lẻ\" :\"Nhà cung cấp lẻ\";\n\n    const getTitle = (cart) => {\n        if (isCart) {\n            return cart.customer === null ? hardText : cart.customer.name\n        } else {\n            return cart.supplier === null  ? hardText: cart.supplier.name\n        }\n    }\n\n    return (\n        <>\n\n        {cartList.length === 1 ?\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <AddIcon fontSize=\"inherit\" onClick={handleAdd} />\n            </IconButton>:\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <SwapVertTwoToneIcon fontSize=\"inherit\"  onClick={handleClick}/>\n            </IconButton>\n        }\n            <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            \n        >\n            {cartList.map((cart, index) => (\n                <MenuItem\n                    key={index}\n                    selected={index === selectedIndex}\n                >\n                    <Grid container direction=\"row\" justifyContent=\"space-between\"spacing={1}>\n                        <Grid container item onMouseDown={()=>handleChoose(index)} item xs={10}  >\n                            <Box style={{marginRight:10}}>#{index + 1}</Box>\n                            {getTitle(cart)}         \n                        </Grid>\n                \n                        <Grid container xs={2} item>\n                            <IconButton  size=\"small\" style={{color:'#000000'}}>\n                                <HighlightOffTwoToneIcon fontSize=\"inherit\" onClick={()=>handleDelete(index )} />\n                            </IconButton>\n                        </Grid>\n                    </Grid>\n                    \n                </MenuItem>\n                ))}\n\n            <MenuItem onClick={handleAdd}><Box style={{marginRight:10, fontSize:20}}>+</Box>Tạo giỏ mới</MenuItem>\n        </Menu> \n        </>\n    )\n}\n\nexport default ChangeCartBtn\n","import {\n    InputAdornment,\n    Box\n} from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport barcodeIcon from \"../../assets/img/icon/barcode_grey.png\";\nimport productApi from \"../../api/productApi\";\nimport { CustomTextField } from \"./SearchProduct\"\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\n\nconst SearchBarCode = (props) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const products = info.products;\n\n\n    const [barcode,setBarcode] = useState(\"\")\n\n    const dispatch = useDispatch();\n    const onEnter = async (e) =>{\n        // if(e.key === \"Enter\" && barcode != \"\"){\n        //     try {\n        //         const response = await productApi.searchBranchProduct(\n        //             store_uuid,\n        //             branch_uuid,\n        //             barcode\n        //           );\n        //           if (response.data.length > 0){\n        //             props.handleSearchBarSelect(response.data[0]);\n        //             setBarcode(\"\")\n        //             dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n        //           }\n        //     } catch (error) {\n        //         console.log(error)\n        //         dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n        //     }\n        // }\n        if (e.key === \"Enter\" && barcode != \"\") {\n          const product = props.products.find(\n            (product) => product.bar_code === barcode\n          );\n          if (product) {\n            props.handleSearchBarSelect(product);\n            setBarcode(\"\");\n            dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n          } else {\n            dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n          }\n          if (barcode.includes(\"_\")){\n              let list = barcode.split(\"_\")\n              let product = props.products.find(\n                (product) => product.product_code.includes(list[0])\n              )\n              if (product) {\n                props.handleSearchBarSelect(product,list[1]);\n                setBarcode(\"\");\n                dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n              }\n            }\n        }\n    }\n    return <CustomTextField\n        fullWidth\n        placeholder=\"Quét mã vạch\"\n        variant=\"outlined\"\n        size=\"small\"\n        autoFocus\n        onKeyPress={onEnter}\n        onChange = {(e) => setBarcode(e.target.value)}\n        value = {barcode}\n        InputProps={{\n            startAdornment: (\n                <InputAdornment position=\"start\">\n                    <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n            ),\n            endAdornment: (\n                <InputAdornment position=\"end\">\n                    <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23, marginRight: 10 }}\n                        src={barcodeIcon}\n                    />\n                </InputAdornment>\n            ),\n            style: {\n                width: 300,\n                padding: \"3px\",\n                margin: \"0px\"\n            },\n        }}\n    />\n}\nexport default SearchBarCode;","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  attrCard:{\n    margin:\"5px 0px 25px 0px\", \n    boxShadow: \"none\",border: '1px solid' , borderColor:\"#c9c9c9\"\n  },\n  attrHead:{\n    backgroundColor:\"#E4E4E4\", height:40, color:\"#000\"\n  },\n  rooot: {\n    '& .MuiFormLabel-root.Mui-disabled': {\n      color: 'red',\n    },\n  },\n}));\n","/* eslint-disable no-use-before-define */\nimport React, { useRef, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Box, Button, Grid, InputAdornment, Typography } from \"@material-ui/core\";\nimport productApi from \"../../api/productApi\";\nimport { useEffect } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nexport default function SearchWithAutoComplete(props) {\n  const {\n    searchApiCall,\n    onSelect,\n    renderInput,\n    renderOption,\n    getOptionLabel,\n    value,\n    nextRef,\n    handleDefaultSelect\n  } = props;\n  const [options, setOptions] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const loadingData = async (e, searchKey) => {\n    setSearchValue(searchKey);\n  };\n\n\n  useEffect(() => {\n    const fetchData = async (searchKey = searchValue) => {\n      if (searchKey !== \"\") {\n        try {\n          const key = searchKey.slice(0, searchKey.indexOf(\"(\"))\n          const response = await searchApiCall(key);\n          setOptions(response.data);\n          onSelect(response.data[0])\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    };\n    const timer = setTimeout(() => fetchData(), 500);\n    return () => clearTimeout(timer);\n  }, [searchValue]);\n  return (\n    <Autocomplete\n      options={options}\n      freeSolo\n      getOptionLabel={getOptionLabel}\n      renderOption={renderOption}\n      onInputChange={loadingData}\n      autoSelect\n      getOptionSelected={(option, value) => option.bar_code === value.bar_code}\n      onChange={(e, value) => onSelect(value)}\n      size=\"small\"\n      renderInput={renderInput}\n\n    />\n  );\n}\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Downshift from \"downshift\";\n\nconst useStyles = makeStyles(theme => ({\n  chip: {\n    margin: theme.spacing(0.5, 0.25)\n  }\n}));\n\nexport default function TagsInput({ ...props }) {\n  const classes = useStyles();\n\n  const { selectedItem, setSelectedItem, selectedTags, placeholder, tags, ...other } = props;\n  const [inputValue, setInputValue] = React.useState(\"\");\n  // const [selectedItem, setSelectedItem] = React.useState([]);\n\n  useEffect(() => {\n    setSelectedItem(tags);\n  }, [tags]);\n\n  useEffect(() => {\n    selectedTags(selectedItem);\n  }, [selectedItem, selectedTags]);\n  \n\n\n  function handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      const newSelectedItem = [...selectedItem];\n      const duplicatedValues = newSelectedItem.indexOf(\n        event.target.value.trim()\n      );\n\n      if (duplicatedValues !== -1) {\n        setInputValue(\"\");\n        return;\n      }\n      if (!event.target.value.replace(/\\s/g, \"\").length) return;\n\n      newSelectedItem.push(event.target.value.trim());\n      setSelectedItem(newSelectedItem);\n      setInputValue(\"\");\n    }\n    if (\n      selectedItem.length &&\n      !inputValue.length &&\n      event.key === \"Backspace\"\n    ) {\n      setSelectedItem(selectedItem.slice(0, selectedItem.length - 1));\n    }\n  }\n  function handleChange(item) {\n    let newSelectedItem = [...selectedItem];\n    if (newSelectedItem.indexOf(item) === -1) {\n      newSelectedItem = [...newSelectedItem, item];\n    }\n    setInputValue(\"\");\n    setSelectedItem(newSelectedItem);\n  }\n\n  const handleDelete = item => () => {\n    const newSelectedItem = [...selectedItem];\n    newSelectedItem.splice(newSelectedItem.indexOf(item), 1);\n    setSelectedItem(newSelectedItem);\n  };\n\n  function handleInputChange(event) {\n    setInputValue(event.target.value);\n  }\n  return (\n    <React.Fragment>\n      <Downshift\n        id=\"downshift-multiple\"\n        inputValue={inputValue}\n        onChange={handleChange}\n        selectedItem={selectedItem}\n      >\n        {({ getInputProps }) => {\n          const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\n            onKeyDown: handleKeyDown,\n            placeholder\n          });\n          return (\n            <div>\n              <TextField\n                InputProps={{\n                  startAdornment: selectedItem.map(item => (\n                    <Chip\n                      key={item}\n                      tabIndex={-1}\n                      label={item}\n                      className={classes.chip}\n                      onDelete={handleDelete(item)}\n                    />\n                  )),\n                  onBlur,\n                  onChange: event => {\n                    handleInputChange(event);\n                    onChange(event);\n                  },\n                  onFocus\n                }}\n                {...other}\n                {...inputProps}\n              />\n            </div>\n          );\n        }}\n      </Downshift>\n    </React.Fragment>\n  );\n}\nTagsInput.defaultProps = {\n  tags: []\n};\nTagsInput.propTypes = {\n  selectedTags: PropTypes.func.isRequired,\n  tags: PropTypes.arrayOf(PropTypes.string)\n};\n","import React, { useEffect, useState } from 'react'\nimport TagsInput from \"../../../../components/TextField/TagsInput\"\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport EditTwoToneIcon from '@material-ui/icons/EditTwoTone';\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\";\n\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\nimport AddIcon from '@material-ui/icons/Add';\nimport {Button,TextField, Grid, FormControl, Select,MenuItem,Typography, ListItem} from \"@material-ui/core\";\nimport RemoveIcon from '@material-ui/icons/Remove';\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\n\n\nconst AddAttribute = ({ attributeList, datas, setDatas, setRelatedList, list_price, standard_price }) => {\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n\n    function generateList   ()  {\n        let newArr = [...datas];\n\n        var mySet  = [];\n        for (let i = 0; i < newArr.length ; i++){\n            if(mySet.length === 0 ){\n                mySet= newArr[i].items\n              \n            }\n            else{\n                var _set = [];\n                for (let j = 0; j < mySet.length ; j++ ){\n                    for (let k = 0; k < newArr[i].items.length ; k++ ){\n                        _set.push(mySet[j].concat( ` -  `,newArr[i].items[k]))\n                        // _set.push({name:mySet[j].concat( ' - ',newArr[i].items[k]), attList:[]})\n\n                    }\n                }\n                if(_set.length !== 0) {mySet = _set}\n\n            }\n         }\n        return mySet\n      }\n\n      useEffect (() =>{\n        var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n        generateList().map(e =>list.push({name:e,product_code:\"\",quantity:0, bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n\n        setRelatedList(list)\n    \n\n      },[datas])\n\n    const updateFieldChanged = (index, attr) => {\n        let newArr = [...datas];\n        newArr[index].key = attr;\n        setDatas(newArr);\n\n    }\n    const updateValueChanged = (index,value)=>{\n        let newArr = [...datas];\n        newArr[index].items = value;\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const deleteAttr = (key) => {\n        let newArr = [...datas];\n        // newArr = newArr.filter(row => row.key !== key)\n        newArr = newArr.filter(row => row.id !== key)\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const addAttrRow = () => {\n        let newArr = [...datas];\n        newArr.push({ id:new Date(), key: \"unset\", items: []})\n        setDatas(newArr);\n    //     var list = []\n    //     generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n    //     setRelatedList(list)\n    }\n\n    return (\n        <div style={{ marginBottom: 10 }}>\n            {datas.map((data, index) => {\n                return (\n                    <AttributeRow attributeList={attributeList} index={index} data={data} datas={datas} updateFieldChanged={updateFieldChanged} deleteAttr={deleteAttr}  updateValueChanged={updateValueChanged}/>\n                )\n            })}\n            <Button variant=\"outlined\" size=\"small\" color=\"primary\" style={{ marginLeft: 20, marginTop: 10, textTransform: \"none\" }}\n                startIcon={<AddIcon />}\n                onClick={() => addAttrRow()}>\n                Thêm thuộc tính\n            </Button>\n\n            \n        </div>\n    )\n}\n\nexport default AddAttribute\n\n\nconst AttributeRow = ({ attributeList, data, datas, updateFieldChanged, index, deleteAttr, setDatas ,updateValueChanged}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [inputAttr, setInputAttr] =  useState(false)\n\n\n    //  popup\n  const [openPopupAddAttr, setOpenPopupAddAttr] = useState(false);\n  const [isEditPopUp, setIsEditPopUp] = useState(false);\n\n\n    const [value, setValue] = React.useState([]);\n\n\n    const handleChangeAttr = (event) => {\n        var valid = true;\n        datas.map((row)=>{if(row.key === event.target.value){valid = false}    })\n\n        if (valid){\n            updateFieldChanged(index, event.target.value)   \n        } else{}\n    };\n\n    const [selectedItem, setSelectedItem] = React.useState([]);\n\n    function handleSelecetedTags(items) {\n        setValue(items);\n    }\n\n    useEffect(() => {\n        updateValueChanged(index, value)  \n    }, [value]);\n\n    return (\n        <Grid container className={classes.row} alignItems=\"center\">\n            <Grid container item xs={11} alignItems=\"center\" >\n               {!inputAttr? <FormControl className={classes.formControl}>\n                    <Select value={data.key} onChange={handleChangeAttr}  >\n                        <MenuItem value=\"unset\" selected disabled hidden>Chọn thuộc tính...</MenuItem>\n                        {attributeList.map((attr) => {\n                            return (<MenuItem value={attr.name}>{attr.name}</MenuItem>)\n                        })}\n                        {/* <MenuItem   hidden>\n                            <AddIcon fontSize=\"small\"style={{marginRight:5, marginLeft:-5}}/>\n                            <Typography style={{color:\"#000\", fontSize:12}} onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(false)}}>Tạo thuộc tính mới</Typography>\n                        </MenuItem> */}\n                    </Select>\n\n                </FormControl>:\n                <TextField\n                style={{width:230}}\n                        value={data.key}\n                        onChange={handleChangeAttr}\n                />\n                                /* <EditTwoToneIcon style={{ marginRight: 60 }}  onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(true)}}/> */\n                    }\n                {inputAttr === false ?\n                <AddIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(true); updateFieldChanged(index, '')    }} />:    \n                <RemoveIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(false);updateFieldChanged(index, '')  }} />\n                }\n                <TagsInput style={{ minWidth: 270 }} selectedTags={handleSelecetedTags} selectedItem={selectedItem} setSelectedItem={setSelectedItem} placeholder=\"Nhấn giá trị và enter\"\n                />\n            </Grid>\n\n            <Grid container item xs={1} >\n                {/* <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.key) }} /> */}\n                <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.id) }} />\n            </Grid>\n\n            <ModalWrapperWithClose     \n                open={openPopupAddAttr}\n                handleClose={() => setOpenPopupAddAttr(false)}\n                title={isEditPopUp? \"Sửa thuộc tính\" :\"Thêm thuộc tính\"}\n            >\n                 <Grid container alignItems=\"center\" style={{margin:\"20px 10px 30px 10px\"}}>\n                    <Typography style={{marginRight:40, color:\"#000\", fontWeight:500}}>Tên thuộc tính:  </Typography> \n                    <TextField />\n                 </Grid>\n                 {isEditPopUp?\n                    //  Edit, Delete\n                    // null\n                    <div style={{flexGrow: 1,textAlign: \"right\"}}>\n                        <Button size=\"small\" variant=\"contained\" color=\"secondary\">Xoá</Button>\n                        <Button size=\"small\" variant=\"contained\" color=\"primary\" style={{marginLeft:10}}>Sửa</Button>\n                    </div>\n                    :\n                    // add\n                    <Button style={{flexGrow: 1,textAlign: \"center\"}} variant=\"contained\" color=\"primary\">Thêm</Button>               \n                }       \n            </ModalWrapperWithClose>\n\n        </Grid>\n    )\n}\n","import React, {useEffect} from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport {Button, Grid, TextField,FormControl,TableRow,TableCell,Divider,TableBody, Select,MenuItem, Typography} from \"@material-ui/core\";\nimport clsx from \"clsx\"\nimport {ThousandFormat, ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\nimport TableWrapper from '../../../../components/TableCommon/TableWrapper/TableWrapper'\nimport TableHeader  from '../../../../components/TableCommon/TableHeader/TableHeader'\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\nconst RelaltedItemList = ({relatedList, setRelatedList , list_price,standard_price,isManageInventory}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0, attribute_values}\n\n\n\n\n\n    const handleDelete = (index)=> {\n        var newArr = [...relatedList];\n        newArr = newArr.filter(row => row.name !== index)\n        setRelatedList(newArr)\n    }\n\n    const handleChangeProperties = (index, property, newValue) => {\n        const newArr = relatedList.map(row => {\n            if (row.name === index) {\n                const newRow = {...row}\n                newRow[property] = newValue;\n                return newRow;\n            } else {\n                return row\n            }\n        })\n        setRelatedList(newArr);\n    }\n\n    return (\n        <div>\n           <TableWrapper isCart={true}>\n                <TableHeader\n                    classes={classes}\n                    headerData={isManageInventory? CustomerHeadCells :CustomerHeadCells.filter(i => i.id !== \"quantity\")\n                    }\n                />\n                <TableBody>\n                {relatedList.map((row, index) => {\n                    return (\n\n                      <TableRow>\n                        <TableCell align=\"center\" style={{color:'#000', fontWeight:500}}>{row.name}</TableCell>\n                        {/* <TableCell align=\"center\">\n                          <TextField\n                            value={row.product_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"product_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                        </TableCell> */}\n                        <TableCell align=\"center\">\n                          <TextField\n                            value={row.bar_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"bar_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                          \n                        </TableCell>\n                       {isManageInventory?\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.quantity}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"quantity\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>:null}\n\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.standard_price}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"standard_price\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.list_price}\n                            onChange={(e) => {\n                                handleChangeProperties(\n                                  row.name,\n                                  \"list_price\",\n                                  Math.abs( e.target.value)\n                                )\n                            }\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <DeleteForeverTwoToneIcon\n                            onClick={() => handleDelete(row.name)}\n                          />\n                        </TableCell>\n                      </TableRow>\n\n                    );\n                })}\n                </TableBody>\n            </TableWrapper>\n            \n          \n        </div>\n        \n    )\n}\n\nexport default RelaltedItemList\n\n\nconst CustomerHeadCells = [\n    { id: 'name', align: 'center', disablePadding: true, label: 'Tên' },\n    // { id: 'product_code', align: 'center', disablePadding: true, label: 'Mã hàng' }, \n    { id: 'bar_code', align: 'center', disablePadding: true, label: 'Mã vạch' }, \n    { id: 'quantity', align: 'center', disablePadding: true, label: 'Tồn kho ban đầu' },  \n    { id: 'standard_price', align: 'center', disablePadding: true, label: 'Giá vốn' },\n    { id: 'unit_price', align: 'center', disablePadding: true, label: 'Giá bán' },\n    { id: 'action', align: 'center', disablePadding: true, label: '' },\n];\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n  FormControlLabel,\n  Switch,\n  Collapse,\n  Paper,\n  Card,\n  CardHeader,\n  Checkbox,\n  ListItem\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput, {\n  ThousandSeperatedInput,\n} from \"../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"./AddCategory\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../api/productApi\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SearchWithAutoComplete from \"../../../../components/SearchBar/SearchWithAutoComplete\";\nimport { urltoFile } from \"../../../../api/helper\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport { infoActions } from \"../../../../store/slice/infoSlice\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { FormatedImage } from \"../../../../components/SearchBar/SearchProduct\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport clsx from \"clsx\";\nimport TagsInput from \"../../../../components/TextField/TagsInput\";\nimport AddAttribute from \"./AddAttribute\";\nimport RelaltedItemList from \"./RelaltedItemList\";\nimport SnackBarGeneral from \"../../../../components/SnackBar/SnackBarGeneral\";\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport setting from \"../../../../assets/constant/setting\"\nimport ReactQuill, {Quill} from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport ImageResize from 'quill-image-resize-module-react';\n// import Tree from \"../../../../components/Select/Tree\"\nimport { TreeSelect } from 'antd';\nimport { StepBackwardOutlined } from \"@ant-design/icons\";\nimport { DownCircleTwoTone } from '@ant-design/icons'\n\n\nimport 'antd/dist/antd.css';\n// import \"../../../../index.css\"\nconst { SHOW_PARENT } = TreeSelect;\n\nQuill.register('modules/imageResize', ImageResize);\n\n\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\n\nconst AddInventory = (props) => {\n  const { handleClose, open } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  const [imageURL, setImageURL] = useState(\"\");\n  const addImageHandler = (e) => {\n   try{\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n   }catch(err) {\n     console.log(err)\n   }\n  };\n\n  const [description, setDescription] = useState('');\n\n  const productFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      barcode: \"\",\n      importedPrice: 0,\n      salesPrice: 0,\n      category: \"\",\n      unit: \"\",\n      re_order_point: 0,\n      product_code: \"\",\n      has_batches: false,\n      quantity:0,\n      max_order:999999999,\n      description:\"\",\n      notification_period:7,\n\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number()\n        // .moreThan(0, \"Giá vốn phải lớn hơn không\"),\n        .moreThan(-1, \"Giá vốn không được âm\"),\n\n      salesPrice: Yup.number()\n        .moreThan(-1, \"Giá bán phải lớn hơn không\"),\n\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(\n        -1,\n        \"Số lượng đặt hàng lại không được âm\"\n      ),\n\n      quantity: Yup.number().moreThan(-1, \"Tồn kho ban đầu không được âm\"),\n\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n      notification_period: Yup.number().moreThan(-1, \"Số ngày không được âm\"),\n    }),\n  });\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Tên thuộc tính trống\",\n  });\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  // dispatch(infoActions.setStore({...info.store, general_configuration: \"{\\\"inventory\\\":{\\\"status\\\":true},\\\"recommendedProduct\\\":{\\\"status\\\":true},\\\"variation\\\":{\\\"status\\\":true},\\\"expiryDate\\\":{\\\"status\\\":true},\\\"customerScore\\\":{\\\"status\\\":false,\\\"value\\\":10000,\\\"exceptDiscountProduct\\\":false,\\\"exceptDiscountInvoice\\\":false,\\\"exceptVoucher\\\":false},\\\"email\\\":{\\\"status\\\":false,\\\"emailAddress\\\":\\\"\\\",\\\"password\\\":\\\"\\\"},\\\"notifyDebt\\\":{\\\"status\\\":true,\\\"checkDebtAmount\\\":true,\\\"debtAmount\\\":\\\"500000\\\",\\\"checkNumberOfDay\\\":false,\\\"numberOfDay\\\":\\\"15\\\",\\\"typeDebtDay\\\":\\\"firstDebt\\\",\\\"canNotContinueBuy\\\":false,\\\"canNotContinueDebt\\\":false},\\\"returnLimit\\\":{\\\"status\\\":false,\\\"day\\\":7},\\\"canFixPriceSell\\\":{\\\"status\\\":false,\\\"cart\\\":false,\\\"import\\\":true,\\\"returnCart\\\":true,\\\"returnImport\\\":true},\\\"printReceiptWhenSell\\\":{\\\"status\\\":true,\\\"cart\\\":true,\\\"import\\\":false,\\\"returnCart\\\":false,\\\"returnImport\\\":false,\\\"order\\\":false,\\\"checkInventroy\\\":false},\\\"discount\\\":{\\\"status\\\":true,\\\"applyMultiple\\\":false,\\\"applyOnline\\\":true},\\\"voucher\\\":{\\\"status\\\":true},\\\"delivery\\\":{\\\"status\\\":true},\\\"vat\\\":{\\\"status\\\":false,\\\"listCost\\\":[{\\\"key\\\":\\\"1\\\",\\\"costName\\\":\\\"\\\",\\\"value\\\":0,\\\"type\\\":\\\"%\\\"}]},\\\"orderLowStock\\\":{\\\"status\\\":true,\\\"choiceQuantity\\\":\\\"select\\\",\\\"selectQuantity\\\":\\\"latest\\\",\\\"inputQuantity\\\":10,\\\"selectSuplier\\\":\\\"latest\\\"},\\\"autoApplyDiscount\\\":{\\\"status\\\":true}}\"}));\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const addProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit ? productFormik.values.unit.toString() :\"Cái\"\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"quantity\",\n        productFormik.values.quantity\n          ? productFormik.values.quantity.toString()\n          : 0\n      );\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(datas)\n      );\n      bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.createProduct(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [reset, setReset] = useState(true);\n  const onReset = () => {\n    setReset((reset) => !reset);\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, reset]);\n\n  const selectSampleProductHandler = (product) => {\n    if (product && product.name) {\n      try {\n        productFormik.setFieldValue(\"name\", product.name, true);\n        productFormik.setFieldValue(\"barcode\", product.bar_code, true);\n        clearAllImages();\n        setDisplay([{ link: product.img_url, isUrl: true }]);\n        setImages([]);\n        setImageURL(product.img_url);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const searchSampleProductHandler = async (searchKey) => {\n    return productApi.searchDefaultProducts(searchKey, 1);\n  };\n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm();\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n    setImageURL(\"\");\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (displayImage.isUrl) {\n      setImageURL(\"\");\n    } else {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  const renderNameInput = (params) => {\n    return (\n      <TextField\n        {...params}\n        required\n        label=\"Tìm kiếm sp mẫu bằng tên hoặc mã vạch\"\n        variant=\"outlined\"\n        fullWidth\n        autoFocus\n        size=\"small\"\n        InputProps={{\n          ...params.InputProps,\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon />\n            </InputAdornment>\n          ),\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Box\n                component=\"img\"\n                sx={{ height: 23, width: 23, marginRight: -30 }}\n                src={barcodeIcon}\n              />\n            </InputAdornment>\n          ),\n          onKeyDown: (e) => {\n            if (e.key.toLowerCase() === \"arrowdown\") {\n              onFocus(salesPriceRef);\n            }\n          },\n        }}\n      />\n    );\n  };\n  const renderOptionTest = (option) => {\n    return (\n      <Grid fullWidth container direction=\"row\">\n        <Grid item xs={3}>\n          <FormatedImage url={option.img_url} />\n        </Grid>\n        <Grid item xs={9} container direction=\"column\">\n          <Typography variant=\"h5\">{option.name}</Typography>\n          <Typography variant=\"body2\">{option.bar_code}</Typography>\n        </Grid>\n      </Grid>\n    );\n  };\n  const getOptionLabel = (option) => {\n    if (option.name) {\n      return option.name + \" \" + \"(\" + option.bar_code + \")\";\n    }\n    return option;\n  };\n  const salesPriceRef = useRef();\n  const onFocus = (ref) => {\n    ref.current.focus();\n  };\n\n  //ATTRIBUTE\n  // api get all attribute\n  const attributeList = [\n    { id: \"1\", name: \"MÀU\" },\n    { id: \"2\", name: \"KÍCH THƯỚC\" },\n    { id: \"3\", name: \"CHẤT LIỆU\" },\n    { id: \"4\", name: \"VỊ\" },\n    { id: \"5\", name: \"BỘ NHỚ\" },\n  ];\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n  const [expandedDescription, setExpandedDescription] = React.useState(false);\n  const handleExpandedDescription = () => {\n    setExpandedDescription(!expandedDescription);\n  };\n  //Lô, HSD\n  const [outOfDate, setOutOfDate] = React.useState(\"false\");\n\n  // Attr\n  const [datas, setDatas] = useState([{ key: \"unset\", items: [] }]);\n\n  // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0}\n  const [relatedList, setRelatedList] = useState([]);\n  // const [attrOfProduct, setAttrOfProduct] = useState([]);\n\n  // console.log(\"relatedList\",relatedList)\n\n  const handleAddProductWithVariation = async () => {\n    if (relatedList.length !== 0) {\n      // var isValid = datas.map(item => item.key === 'unset'?  false  )\n      for (let i = 0; i < datas.length; i++) {\n        if (datas[i].key === \"unset\") {\n          setOpenSnack(true);\n          setSnackStatus({ style: \"error\", message: \"Tên thuộc tính trống\" });\n          return;\n        }\n      }\n    }\n    // handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit.toString()\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n       bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n\n      \n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"quantity\", 0);\n      for (var i = 0; i < relatedList.length; i++) {\n        const values = relatedList[i].name.split(\"-\");\n        const attributeValues = [];\n        const attrOfProduct = datas.map((item) => item.key);\n        attrOfProduct.forEach((att, index) => {\n          if (values[index])\n            attributeValues.push({\n              // name: att.name,\n              name: att,\n              value: values[index],\n            });\n        });\n        bodyFormData.append(\n          \"variations[]\",\n          JSON.stringify({\n            ...relatedList[i],\n            attribute_value: JSON.stringify(attributeValues),\n          })\n        );\n      }\n      bodyFormData.append(\n        \"attribute_value\",\n        JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.addProductWithVaration(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      // handleClose();\n      props.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [value, setValue] = useState(null)\n\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\nreturn (\n    <Dialog\n      open={open}\n      onClose={handleCloseAndReset}\n      aria-labelledby=\"form-dialog-title\"\n      maxWidth=\"md\"\n    >\n     \n      \n      <Box className={classes.root}>\n        <AddCategory\n          open={openAddCategory}\n          handleClose={handleCloseCategory}\n          onReset={onReset}\n        />\n        <SnackBarGeneral\n          handleClose={() => setOpenSnack(false)}\n          open={openSnack}\n          status={snackStatus}\n        />\n        <Box\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{ marginBottom: 20 }}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Thêm sản phẩm\n          </Typography>\n          <Box style={{ width: \"70%\" }}>\n            {store_setting?.recommendedProduct\n              .status ? (\n              <SearchWithAutoComplete\n                handleDefaultSelect={selectSampleProductHandler}\n                onSelect={selectSampleProductHandler}\n                searchApiCall={searchSampleProductHandler}\n                renderInput={renderNameInput}\n                getOptionLabel={getOptionLabel}\n                renderOption={renderOptionTest}\n                filterOptions={(options, state) => options}\n              />\n            ) : null}\n          </Box>\n        </Box>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            \n            />\n            {/* <TextField\n              label=\"Mã sản phẩm (tự động)\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"product_code\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.product_code}\n            /> */}\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n            <Box className={`${classes.box} ${classes.margin}`}>\n             \n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                {/* <InputLabel htmlFor=\"category\">Danh mục</InputLabel> */}\n                {/* <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select> */}\n                <TreeSelect\n                      id=\"category\"\n                      name=\"category\"  \n                      style={{ width: '100%'}}   \n                      dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                      treeData={categoryList}\n                      value={productFormik.values.category}\n                      onChange={(val)=>productFormik.setFieldValue(\"category\",val )}\n                      treeDefaultExpandAll\n                      onBlur={productFormik.handleBlur}\n                      \n                    />\n                    \n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              inputRef={salesPriceRef}\n              value={productFormik.values.salesPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"salesPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.list_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"importedPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.standard_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) >\n            Number(productFormik.values.salesPrice) ? (\n              <Typography variant=\"h6\" style={{ color: \"red\" }}>\n                {\" \"}\n                Giá vốn đang lớn hơn giá bán !!\n              </Typography>\n            ) : null} */}\n            {store_setting?.inventory.status ?\n            <>\n            <ThousandSeperatedInput\n              label=\"Tồn kho ban đầu\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"quantity\"\n              value={productFormik.values.quantity}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"quantity\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.quantity = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.quantity && productFormik.errors.quantity\n              }\n              helperText={\n                productFormik.touched.quantity\n                  ? productFormik.errors.quantity\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>\n          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10, marginBottom:20 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 5 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n        </Grid>\n        {/* {store_setting?.expiryDate.status  ? ( */}\n\n        {store_setting?.expiryDate.status  &&store_setting?.inventory.status ? (\n          // <div style={{ flexGrow: 1, textAlign: \"right\" , alignItems:'center'}}>\n             <Grid container alignItems=\"center\" justifyContent='flex-end'>\n            {productFormik.values.has_batches?\n            < >\n             <Typography>Thông báo trước khi hết HSD </Typography>\n             <ThousandSeperatedInput\n            //  label=\"Thông báo trước khi hết HSD\"\n              // variant=\"outlined\"\n              // fullWidth\n              size=\"small\"\n             style={{marginRight:10}}\n              name=\"notification_period\"\n              value={productFormik.values.notification_period}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.notification_period &&\n                productFormik.errors.notification_period\n              }\n              helperText={\n                productFormik.touched.notification_period\n                  ? productFormik.errors.notification_period\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n             />\n            <Typography style={{marginRight:10}}>ngày </Typography>\n          </>\n        \n             :null\n\n        }\n        \n            <FormControlLabel\n              control={\n                <Checkbox\n                  //checked={outOfDate}\n                  name=\"has_batches\"\n                  checked={productFormik.values.has_batches}\n                  onChange={productFormik.handleChange}\n                  //onChange={(event) => setOutOfDate(event.target.checked)}\n                />\n              }\n              label=\"Lô, hạn sử dụng\"\n            />\n   </Grid>\n          /* </div> */\n        ) : null}\n\n        {store_setting?.variation.status ? (\n          <>\n            <Card className={classes.attrCard} >\n              <CardHeader\n                onClick={handleExpandClick}\n                action={\n                  <IconButton\n                    size=\"small\"\n                    className={clsx(classes.expand, {\n                      [classes.expandOpen]: expanded,\n                    })}\n                    onClick={handleExpandClick}\n                    aria-expanded={expanded}\n                  >\n                    <ExpandMoreIcon />\n                  </IconButton>\n                }\n                title=\"Thuộc tính\"\n                className={classes.attrHead}\n              />\n              <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                <AddAttribute\n                  attributeList={attributeList}\n                  datas={datas}\n                  setDatas={setDatas}\n                  setRelatedList={setRelatedList}\n                  list_price={productFormik.values.salesPrice}\n                  standard_price={productFormik.values.importedPrice}\n                  // attrOfProduct={attrOfProduct}\n                  // setAttrOfProduct={setAttrOfProduct}\n                />\n              </Collapse>\n            </Card>\n            {/* GENERATE LIST */}\n            {relatedList.length > 0 ? (\n              <Card className={classes.attrCard}>\n                <CardHeader\n                  title=\"Danh sách hàng cùng loại\"\n                  className={classes.attrHead}\n                />\n                {/*  !!!! Handle value phần này */}\n                <RelaltedItemList\n                  relatedList={relatedList}\n                  setRelatedList={setRelatedList}\n                  isManageInventory = {store_setting?.inventory.status}\n                />\n              </Card>\n            ) : null}\n          </>\n\n        ) : null}\n\n\n      {/* MÔ TẢ */}\n      <Card className={classes.attrCard}>\n          <CardHeader\n            onClick={handleExpandedDescription}\n            action={ <IconButton size=\"small\" className={clsx(classes.expand, {  [classes.expandOpen]: expandedDescription, })}  onClick={handleExpandedDescription} aria-expanded={expanded} >  <ExpandMoreIcon /> </IconButton> }\n            title=\"Mô tả\"\n            className={classes.attrHead}\n          />\n          <Collapse in={expandedDescription} timeout=\"auto\" unmountOnExit style={{padding:0}}>\n              <ReactQuill theme=\"snow\" name=\"description\"value={productFormik.values.description} onChange={(val) => productFormik.setFieldValue(\"description\",val)}  modules={modules} formats={formats}  placeholder={'Write something...'} />\n          </Collapse>\n\n\n        </Card>\n        {/* <div>\n        <Tree />\n        </div> */}\n\n        {/* Button */}\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <Button\n            onClick={handleCloseAndReset}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n            style={{ marginRight: 20 }}\n          >\n            Huỷ\n          </Button>\n          <Button\n            onClick={() => {\n              if (relatedList.length) {\n                handleAddProductWithVariation();\n              } else {\n                addProductHandler();\n              }\n            }}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={\n              !(\n                productFormik.isValid \n                // &&\n                // Object.keys(productFormik.touched).length > 0\n              ) ||\n              Number(productFormik.values.importedPrice) >\n                Number(productFormik.values.salesPrice)\n            }\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Box>\n     \n    </Dialog>\n  \n  );\n};\n\nexport default AddInventory;\n\n\nconst modules = {\n  toolbar: [\n    [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n    [{size: []}],\n    [{ align: '' }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [{'color':[]}],\n    [{'background':[]}],\n    [{'list': 'ordered'}, {'list': 'bullet'}, \n     {'indent': '-1'}, {'indent': '+1'}],\n    ['link', 'image', 'video'],\n    ['clean'],\n    \n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  },\n  imageResize: {\n    parchment: Quill.import('parchment'),\n    modules: ['Resize', 'DisplaySize','Toolbar']\n }\n}\n\n\nconst formats = [\n  'header', 'font', 'size',\n  'bold', 'italic', 'underline', 'strike', 'blockquote',\n  'list', 'bullet', 'indent',\n  'link', 'image', 'video','color','background'\n]\n\n","export const excel_name_product = \"Excel_mẫu_sản_phẩm\";\n\nexport const excel_data_product = [\n  {\n    \"name\": \"Bánh hamburger\",\n    \"list_price\": 20000,\n    \"standard_price\": 10000,\n    \"bar_code\": \"232432\",\n    \"category_id\": \"Đồ ăn\",\n    \"quantity_per_unit\": \"cái\",\n    \"min_reorder_quantity\": 20,\n    \"max_quantity\": 50,\n    \"urls\":\n      \"https://cdn.tgdd.vn/2020/12/CookProduct/Thuc-an-nhanh-la-gi-tac-hai-cua-thuc-an-nhanh-va-cac-loai-tot-cho-suc-khoe-1-1200x676.jpg , https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIYQv2sI0lYnAFw9bpFOZ5Q0C39xgXVms6-19XSIW7F9QPzyP2YzcrlfeL1v6XFkRyu5c&usqp=CAU\",\n    \"description\": \"Hello\",\n    \"has_batches\": 0,\n    \"quantity_available\" : 20,\n    \"max_order\":100,\n  },\n  {\n    \"name\": \"Coca\",\n    \"list_price\": 10000,\n    \"standard_price\": 3000,\n    \"bar_code\": \"2324323\",\n    \"category_id\": \"Thức uống\",\n    \"quantity_per_unit\": \"chai\",\n    \"min_reorder_quantity\": 20,\n    \"max_quantity\": 100,\n    \"urls\": \n      \"http://product.hstatic.net/200000360759/product/upload_63570f8febd743ceae7cc4c76fe42540_grande.jpg\",\n    \"description\": \"Hello\",\n    \"has_batches\": 1, \n    \"quantity_available\" : 1,\n    \"max_order\":1000,\n  },\n];\n\nexport const excel_name_customer = \"Excel_mẫu_khách_hàng\";\n\nexport const excel_data_customer = [\n  {\n    \"name\": \"Nguyễn Văn A\",\n    \"phone\": \"0123456789\",\n    \"address\": \"268 Lý Thường Kiệt, Phường 14, Quận 10, Thành phố Hồ Chí Minh\",\n    \"email\": \"nguyenvana@gmail.com\",\n    \"payment_info\": \"Momo 0123456789\",\n    \"points\": \"100\",\n    \"total_payment\": \"1000000\",\n    \"debt\": \"0\"\n  }\n];\n\nconst test = {\n  \"json_data\": [\n      {\n          \"name\": \"Hải sản tươi sống\",\n          \"list_price\": 123254,\n          \"standard_price\": 12254525,\n          \"category_name\": \"Ăn uống\",\n          \"bar_code\": \"\",\n          \"quantity_per_unit\": \"đĩa\",\n          \"min_reorder_quantity\": \"\",\n          \"max_order\": \"\",\n          \"description\": \"\",\n          \"has_batches\": \"\",\n          \"quantity\": 10,\n          \"image_urls\": [\"https://media.istockphoto.com/photos/enjoying-lunch-with-friends-picture-id1125733916?k=20&m=1125733916&s=612x612&w=0&h=pstBz6EVuXg9-17_MCYy2CMkXvntwivQycNsIUfFvyA=\"]\n      }\n  ]\n}","import React from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  DialogActions,\n  DialogContent,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  RadioGroup,\n  Radio,\n  ListItem,\n  Paper,\n  ButtonBase,\n  Avatar,\n  Popover\n} from \"@material-ui/core\";\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport * as Input from \"./NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../TextField/NumberFormatCustom\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    popup: { borderColor: theme.customization.primaryColor[500], padding: 5, paddingLeft:12, boxShadow: \"0px 5px 10px 0px rgba(0, 0, 0, 0.5)\" }\n  })\n);\n\nconst DiscountInputDetail = ({handleUpdateDiscountDetail,cartData,setAnchorEl}) =>{\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    \n    const handleChangeValue = (e) =>{\n      // if(e.target.value < 0){e.target.value = 0}\n      console.log(\"e.target.value.includes('-') \",!e.target.value )\n\n      // if(!e.target.value){e.target.value = 0; return; }\n      if(e.target.value < 0 || e.target.value.includes('-') ){return}\n\n      else if(cartData.discountDetail?.type === \"%\"){\n        if(Number(e.target.value) > 100){ \n          handleUpdateDiscountDetail({value:'100', type:'%'})\n        }\n        else{  \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value, type:'%'})\n        }\n      }\n      else{\n        if(Number(e.target.value) > Number(cartData.total_amount)){ \n          handleUpdateDiscountDetail({value: cartData.total_amount, type:'VND'})\n        }\n        else{ \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value.toString(), type:'VND'})\n  \n        }\n      }\n    }\n    const handleChangeType = (type) =>{\n      if(type === \"%\") {\n        handleUpdateDiscountDetail({type:'%',value:(Number(cartData.discountDetail?.value) / Number(cartData.total_amount)*100).toFixed(2).toString()})\n      }else{\n        handleUpdateDiscountDetail({type:'VND',value:((Number(cartData.discountDetail?.value) *Number(cartData.total_amount)/100 / 100).toFixed() * 100).toString()})\n      }\n    }\n  \n    return(\n      <ClickAwayListener onClickAway={()=>setAnchorEl(null)}>\n        <Paper  variant=\"outlined\" className={classes.popup}  >\n           <Grid  container alignItems='center' spacing={2} >\n                  <Grid item><Typography variant=\"h5\" >Giảm giá </Typography></Grid>\n                  <Grid item>\n                  <ListItem>\n                    <Input.ThousandSeperatedInput style={{color:\"#000\", marginRight:10, width:90}} \n                     value={cartData.discountDetail?.value}\n                     onChange={handleChangeValue}\n                    /> \n                    <Grid item style={{ marginRight:5}}> \n                        <ButtonBase sx={{ borderRadius: '16px', }} \n                            onClick={()=>handleChangeType(\"VND\")}\n                            // onClick={handleChangeMoneyTypeToVND}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"VND\"?  theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >VND</Typography>\n                          </Avatar>     \n                      </ButtonBase>\n                      </Grid> \n                      <Grid item> \n                        <ButtonBase sx={{ borderRadius: '16px' }} \n                            onClick={()=>handleChangeType(\"%\")}\n                            // onClick={handleChangeMoneyTypeToPercent}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"%\"?theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >%</Typography>\n                          </Avatar>    \n                      </ButtonBase>\n                    </Grid> \n                    </ListItem> \n                  </Grid>\n               </Grid>\n\n               <Grid  container alignItems='center' justifyContent=\"space-between\"spacing={3} >\n                    <Grid item><Typography variant=\"h5\" >Khuyến mãi</Typography></Grid>\n                    <Grid item>{<VNDFormat value={cartData.discountPro} style={{marginRight:20, }}/>}</Grid>\n               </Grid>\n  \n      </Paper>\n      </ClickAwayListener>\n    )\n  }\n\nexport default DiscountInputDetail","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useState } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Typography } from \"@material-ui/core\";\nimport * as _ from \"lodash\";\n\nexport default function SelectBatch({ handleSubmit, handleClose, row, isInventoryCheck }) {\n  const [selectedBatches, setSelectedBatches] = useState([]);\n  return (\n    <Dialog open={true}>\n      {/* <DialogTitle\n        style={{ fontSize: 16, paddingRight:30 }}\n      >{`Chọn lô của ${row.product_code} - ${row.name}`}</DialogTitle> */}\n      <Typography style={{ fontSize: 16,fontWeight:600, marginTop:15, marginLeft:15, paddingRight:30 }}>{`Chọn lô của ${row.product_code} - ${row.name}`}</Typography>\n\n      <DialogContent>\n        <Autocomplete\n          options={row.batches}\n          getOptionLabel={(batch) =>\n            `${batch?.batch_code} - ${\n              batch?.expiry_date ? batch?.expiry_date : \"\"\n            } - Tồn kho: ${batch?.quantity}`\n          }\n          renderInput={(params) => (\n            <TextField {...params} label=\"Tìm mã lô\" variant=\"standard\" />\n          )}\n          onChange={(e, value) => {\n            if (value) {\n              setSelectedBatches(\n                _.uniqBy(\n                  [\n                    ...selectedBatches,\n                    ...[{ ...value, additional_quantity: 0, is_new: false }],\n                  ],\n                  \"batch_code\"\n                )\n              );\n            }\n          }}\n        />\n        <div style={{ marginTop: 20 }}>\n          {selectedBatches.map((batch) => {\n            return (\n              <div\n                key={batch?.batch_code}\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  gap: 10,\n                  border: \"2px solid #eee\",\n                  borderRadius: 5,\n                  marginBottom: 10,\n                  alignItems: \"center\",\n                  width: 500,\n                  justifyContent: \"space-between\",\n                  padding: 10,\n                }}\n              >\n                <Typography variant=\"h5\">{`${batch?.batch_code} - ${\n                  batch?.expiry_date ? batch?.expiry_date : \"\"\n                } - Tồn kho: ${batch?.quantity}`}</Typography>\n                <TextField\n                  type=\"number\"\n                  style={{ width: 100 }}\n                  value={batch.additional_quantity}\n                  onChange={(e) => {\n                    if (Number(e.target.value) < 0) return;\n                    const newSelectedList = selectedBatches.map(\n                      (selectedBatch) => {\n                        if (selectedBatch.batch_code === batch.batch_code) {\n                          return {\n                            ...selectedBatch,\n                            additional_quantity: Number(e.target.value),\n                          };\n                        } else {\n                          return selectedBatch;\n                        }\n                      }\n                    );\n                    setSelectedBatches(newSelectedList);\n                  }}\n                ></TextField>\n              </div>\n            );\n          })}\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" size=\"small\"variant=\"contained\" onClick={handleClose}>\n          Hủy\n        </Button>\n        <Button\n          color=\"primary\"\n          size=\"small\"variant=\"contained\"\n          onClick={() => {\n            if (!isInventoryCheck) {\n              const nonZeroBatch = selectedBatches.filter(\n                (batch) => batch.additional_quantity\n              );\n              handleSubmit(nonZeroBatch);\n            } else {\n              handleSubmit(selectedBatches);\n            }\n            handleClose();\n          }}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst OrderProductListFilter = (props) => {\n    const {handleToggleFilter,openFilter} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    return (\n    <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n         {/* Nhan vien, NCC?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n         {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\"className={classes.text} >Ngày đặt:</Typography>\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n      {/* 2,Khoảng tiền from-to*/}\n      <Typography variant=\"h5\"className={classes.text} >Tiền đơn nhập:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n      <VNDInput required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n      //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n       {/* 3.Chi nhanh */}\n       <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl>\n\n      {/* 4. Trang thai */}\n      <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\n      </Select>\n      </FormControl>\n\n        {/* BUTTON */}\n        <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\n           Lọc\n      </Button>\n\n\n          \n    </Drawer>\n    )\n}\n\nexport default OrderProductListFilter\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\nimport { VNDFormat,ThounsandFormat } from '../../../../components/TextField/NumberFormatCustom';\nimport {TableCell,TableRow} from '@material-ui/core';\n\nimport {FormatedStatusOrder} from '../../../../components/TableCommon/util/format'\nimport OrderProductListDetail from './OrderProductListDetail/OrderProductListDetail'\nimport { Typography } from '@mui/material';\n\nconst OrderProductListTableRow = (props) => {\n    const { row, handleOpenRow,openRow, reload,colorText,isReport} = props;\n    const classes = useRowStyles();\n\n    console.log(\"rowrowrowrow\",row)\n    return (\n        <>\n        {/* ROW */}\n            <TableRow\n            onClick={() => handleOpenRow(row.id)}   \n            key={row.id}\n            className={ clsx(classes.row,(openRow === row.id) ? classes.rowClicked : null)}\n            >\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.customer_order_code}</TableCell>\n                {/* <TableCell align=\"left\"className={classes.fontName}>{row.created_at}</TableCell> */}\n                <TableCell align=\"left\"className={colorText?null:classes.fontName}  style={{color:colorText}}> {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n                <TableCell align=\"left\"className={colorText?null:classes.fontName} style={{color:colorText}}>{row.name}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.phone}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.address}{`, `}{row.ward}{`, `}{row.district}{`, `}{row.city}</TableCell>\n                <TableCell align=\"right\" className={colorText?null:classes.fontName}  style={{color:colorText}}><VNDFormat value={row.total_amount} /></TableCell>\n                {isReport?null:<TableCell align=\"center\">\n                        <FormatedStatusOrder status={row.status}/>:\n                </TableCell>}\n                {/* <TableCell align=\"left\">{row.address}</TableCell> */}\n            </TableRow>\n\n        {/* DETAIL */}\n            <TableRow>\n              {/* colspan  => số cột trong collapse */}\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \n                    <OrderProductListDetail parentProps={props} openRow={openRow} reload={reload}/>       \n              </TableCell>\n       \n            </TableRow>\n        </>\n    )\n}\n\nexport default OrderProductListTableRow\n","import React, {useState, useEffect,useRef} from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {Typography,Card,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody,Box} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useReactToPrint } from \"react-to-print\";\n\n//import api \n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n\n//import constant\nimport * as HeadCells from '../../../assets/constant/tableHead'\nimport *  as TableType from '../../../assets/constant/tableType'\n\n////import project\nimport OrderProductListFilter from './OrderProductListTool/OrderProductListFilter'\n\nimport OrderProductListTableRow from './OrderProductListTableRow/OrderProductListTableRow'\n//chung\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\nimport ToolBar from '../../../components/TableCommon/ToolBar/ToolBar'\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\n\nimport JSONdata from '../../../assets/JsonData/inventoryOrder.json'\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\n\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\n\nimport orderApi from '../../../api/orderApi';\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport moment from \"moment\";\n\n\nconst OrderProductList = () => {\n   // fetch data here\n   const orderProductList = JSONdata;\n  \n\n   const theme = useTheme();\n   const classes = useStyles(theme);\n   const dispatch = useDispatch();\n   const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n  \n\n\n   //// 2. Table\n   //collapse\n   const [openRow, setRowOpen] = React.useState(null);\n   const handleOpenRow = (row) => {\n       if (row !==  openRow){setRowOpen(row);}\n       else{setRowOpen(null)}  \n   };\n\n   // header sort \n   const [order, setOrder] = React.useState('asc');\n   const [orderBy, setOrderBy] = React.useState('id');\n   \n   const handleRequestSort = (event, property) => {\n     //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n     // const isAsc = orderBy === property && order === 'asc';\n     // setOrder(isAsc ? 'desc' : 'asc');\n     // setOrderBy(property);\n   };\n\n\n    //3. ToolBar\n     // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n    //3.1. search\n\n    //3.2. filter\n    const [openFilter, setOpenFilter] = React.useState(false);\n    const handleToggleFilter = () => {\n      setOpenFilter(!openFilter);\n    };\n\n    //3.3. loc cot\n\n\n\n\n    // fileter\n    const [customerOrders, setCustomerOrders] = useState([])\n    const initialQuery = {\n      startDate: '',\n      endDate: '',\n      minTotalAmount: 0,\n      maxTotalAmount: 0,\n      status: '',\n      orderBy: 'customer_orders.created_at',\n      sort: 'desc',\n      searchKey: '',\n    };\n    const handleRemoveFilter = () => {\n      setQuery(initialQuery)\n    }\n    const [query, setQuery] = useState(initialQuery)\n    const [reload, setReload] = React.useState(false);\n    const [pagingState, setPagingState] = useState({\n      page: 0,\n      limit: 10,\n    });\n    const [totalRows, setTotalRows] = useState(0)\n    const onReload = () => {\n      setReload(!reload);\n    };\n    const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await orderApi.searchCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows);\n        setCustomerOrders(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid ) {\n      \n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query, reload]);\n\n  const tableRef = React.createRef();\n\n  const getDataExport = async () => {\n    try {\n      const response = await orderApi.searchCustomerOrder(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus(\"Không thể lấy dữ liệu!\"));\n      console.log(error);\n    }\n  }\n\n  return (\n    <Card className={classes.root} >\n          <Grid \n            container\n            direction=\"row\"\n            justifyContent=\"space-between\"  \n          > \n              {/* 1. ADD POP UP */}\n                <Typography className={classes.headerTitle} variant=\"h5\">\n                    Đơn đặt hàng\n                </Typography>\n\n                <Grid className={classes.btngroup1} >\n                    <ButtonBase \n                        sx={{ borderRadius: '16px' }} \n                        onClick={()=>{dispatch(customizeAction.setSidebarOpen(false));}}\n                        component={Link}\n                        to='/home/inventory/order-list/order' \n                        >\n                        <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\n                            <Tooltip title=\"Đặt hàng\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                            </Tooltip>\n                        </Avatar>\n                    </ButtonBase>\n            </Grid>\n          </Grid>\n    \n          <Divider />\n\n          {/* 2. SEARCH - FILTER - EXPORT*/}\n          {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n          {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/ }\n          <ToolBar  dataTable={orderProductList} tableType={TableType.ORDER_LIST}  textSearch={'#, NCC, Nguoi đặt,...'}\n           handleToggleFilter={handleToggleFilter}  handlePrint={handlePrint}\n\n           orderByOptions={[\n            {value: 'customer_orders.created_at', label: 'Ngày tạo'},\n            {value: 'total_amount', label: 'Tổng tiền'},\n          ]}\n          orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n          sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n          searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n          handleRemoveFilter={handleRemoveFilter}\n          getDataExport={getDataExport}\n          columnsToKeep = {[\n            {dbName:\"customer_order_code\",displayName:\"Mã đơn đặt\"},\n            {dbName:\"name\",displayName:\"Tên khách\"},\n            {dbName:\"phone\",displayName:\"Số điện thoại\"},\n            {dbName:\"total_amount\",displayName:\"Tổng tiền\"}, \n            {dbName:\"status\",displayName:\"Trạng thái\"}, \n            {dbName:\"description\",displayName:\"Ghi chú\"},\n          ]}\n           \n           /> \n\n          {/* <OrderProductListFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/> */}\n\n\n\n          {/* 3. TABLE */}\n          {!xsScreen?<TableWrapper\n           pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           tableRef={tableRef}\n\n          >\n              <TableHeader\n                classes={classes}\n                order={order}\n                orderBy={orderBy}\n                onRequestSort={handleRequestSort}\n                headerData={HeadCells.OrderListHeadCells}\n              />\n              <TableBody>\n                {customerOrders.map((row, index) => {\n                  console.log(\"row\",row)\n                    return (\n                      <OrderProductListTableRow key={row.id} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} reload={onReload}/>\n         \n                    );\n                })}\n              </TableBody>\n          </TableWrapper>:\n         <>\n          <Box style={{minHeight:'50vh'}}>\n         { orderProductList.map((row, index) => {\n            return (\n              <BillMiniTableRow key={row.id} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  \n              //onReload={onReload} \n              totalCost={10000}  id={\"OR00001\"} partnerName={\"THAY THẾ\"} date={\"22/12/2008\"} \n              typeBill={\"Đơn đặt hàng nhập\"} />\n            );\n          })}\n          </Box>\n          <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           />\n    \n          </>}\n          <div  style={{display:'none'}} >\n            <div ref={componentRef}  >\n            <ComponentToPrint  customerOrders={customerOrders} classes={classes}/>\n            </div>\n        \n          </div>\n     \n      </Card>\n  )\n}\n\nexport default OrderProductList\n\nconst ComponentToPrint = ({customerOrders,classes}) =>{\n  return (\n  <div style={{padding:10}}>\n  <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n  <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n    <Typography style={{  fontSize: 18, fontWeight: 600}} >\n      {/* Thống kê đơn đặt hàng */}\n      THỐNG KÊ ĐƠN ĐẬT HÀNG\n    </Typography>\n    {/* <Typography  >\n      {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n    </Typography> */}\n    {/* {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền lệch từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n    {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}  */}\n\n  </Box>\n  <div>\n  <TableWrapper  isReport={true} >\n    <TableHeader\n    color=\"#000\"\n      classes={classes}\n      headerData={HeadCells.OrderListHeadCells.filter(item => item.id !== \"status\")}\n    />\n    <TableBody>\n      {customerOrders.map((row, index) => {\n        return  <OrderProductListTableRow colorText={\"#000\"} key={row.uuid} row={row} isReport={true}/>\n        })}\n    </TableBody>\n    </TableWrapper>\n  </div>\n</div>\n  )\n}"],"sourceRoot":""}