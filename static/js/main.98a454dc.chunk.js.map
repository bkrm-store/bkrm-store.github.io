{"version":3,"sources":["assets/scss/_themes-vars.module.scss","assets/img/icon/giftbox.png","theme/palette.js","theme/index.js","theme/typography.js","store/slice/customizeSlice.js","store/slice/authSlice.js","store/slice/loadingSlice.js","store/slice/infoSlice.js","store/slice/statusSlice.js","store/slice/customerPageSlice.js","store/index.js","api/axiosClient.js","api/branchApi.js","components/CheckoutComponent/BranchSelect/BranchSelectAppBar.js","components/MenuList/MenuItem/SubItem.js","components/MenuList/MenuItem/MenuItem.js","components/MenuList/MenuGroup/MenuGroup.js","assets/img/icon/cart1.png","assets/img/icon/invoice.png","assets/img/icon/invoiceReturn.png","assets/img/icon/inventory2.png","assets/img/icon/inventoryOrder1.png","assets/img/icon/inventoryReturn.png","assets/img/icon/supplier4.png","assets/img/icon/magnifiers.png","assets/img/icon/python.png","assets/img/icon/employee7.png","assets/img/icon/hourglass.png","assets/img/icon/schedule3.png","assets/img/icon/piggy-bank.png","assets/img/icon/branch5.png","assets/img/icon/customer.png","assets/img/icon/www.png","assets/img/icon/history3.png","components/MenuList/MenuList.js","assets/img/icon/inventory1.png","assets/img/icon/check1.png","assets/img/icon/setting.png","assets/img/icon/statistics.png","assets/img/icon/barcode_grey.png","assets/img/product/img.jpeg","api/productApi.js","components/TextField/NumberFormatCustom.js","components/SearchBar/SearchProduct.js","components/CardWrapper/CardWrapper.js","components/Customization/ColorTheme/ColorTheme.js","components/Button/AnimateButton.js","components/Customization/Customization.js","assets/img/product/lyimg.jpeg","components/Button/AvatarInfo.js","components/TableCommon/style/mainViewStyle.js","components/TableCommon/TableHeader/TableHeader.js","components/TableCommon/TableWrapper/TableWrapper.js","components/ReceiptPrinter/ReceiptPrinter.js","components/Button/CartButton.js","components/SearchBar/SearchBarCode.js","assets/constant/tableHead.js","components/TableCommon/util/sortUtil.js","api/customerApi.js","views/ManagerView/Customer/AddCustomer/AddCustomer.js","components/SearchBar/SearchCustomer.js","components/Modal/ModalWrapperWithClose.js","views/SalesView/Cart/DiscountPopup/DiscountPopup.js","components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary.js","components/Button/ButtonQuantity.js","assets/img/product/tch.jpeg","components/SelectBatch/SelectBatch.js","views/SalesView/Cart/CartTableRow/CartTableRow.js","components/MenuProduct/MenuProduct.js","components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn.js","api/orderApi.js","components/SnackBar/SnackBarGeneral.js","components/Button/MenuButton.js","api/refundApi.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail.js","components/CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary.js","assets/constant/tableType.js","components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp.js","components/Modal/ModalWrapper.js","api/purchaseOrderApi.js","components/Modal/PayRemaining.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail.js","components/CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary.js","api/purchaseReturnApi.js","components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp.js","views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail.js","views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail.js","components/ConfirmPopUp/ConfirmPopUp.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/UpdateCustomer/UpdateCustomer.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail.js","api/supplierApi.js","assets/img/product/default-product.png","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/UpdateSupplier/UpdateSupplier.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail.js","api/employeeApi.js","components/MultipleSelect/MultipleSelect.js","views/HRView/Employee/AddEmployee/EditEmployee.js","api/userApi.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/ChangeEmployeePwd/ChangeEmployeePwd.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail.js","views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail.js","views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail.js","assets/img/icon/barcode1.png","views/InventoryView/Inventory/AddInventory/AddCategory.js","components/Category/List/UpdateCategory.js","components/Category/List/SubCategory.js","components/Category/List/RootCategory.js","components/Category/CategoryTree.js","views/InventoryView/Inventory/Category/Category.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/styles.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/UpdateInventory.js","components/TableCommon/util/format.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/VarianceModal.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail.js","components/MiniTableRow/MiniTableRow.js","views/SalesView/Cart/Cart.js","views/SalesView/Invoice/InvoiceTool/InvoiceFilter.js","components/TableCommon/style/rowStyle.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceTableRow.js","components/TableCommon/ToolBar/ToolBar.js","views/SalesView/Invoice/Invoice.js","views/SalesView/InvoiceReturn/InvoiceReturnTool/InvoiceReturnFilter.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnTableRow.js","views/SalesView/InvoiceReturn/InvoiceReturn.js","views/SalesView/SalesView.js","views/InventoryView/Supplier/AddSupplier/AddSupplier.js","components/SearchBar/SearchSupplier.js","components/CheckoutComponent/CheckoutSummary/ImportSummary/ImportSummary.js","components/StatusPopup/StatusPopup.js","views/InventoryView/Import/ImportTableRow/AddBatch.js","views/InventoryView/Import/ImportTableRow/SelectBatch.js","views/InventoryView/Import/ImportTableRow/ImportTableRow.js","views/InventoryView/Inventory/AddInventory/styles.js","components/SearchBar/SearchWithAutoComplete.js","components/TextField/TagsInput.js","views/InventoryView/Inventory/AddInventory/AddAttribute.js","views/InventoryView/Inventory/AddInventory/RelaltedItemList.js","views/InventoryView/Inventory/AddInventory/AddInventory.js","views/InventoryView/Import/Import.js","api/storeApi.js","views/InventoryView/Inventory/InventoryTableRow/InventoryTableRow.js","components/SnackBar/SnackBar.js","assets/constant/excel.js","components/Popper/ProductImportPopper.js","views/InventoryView/Inventory/InventoryTool/InventoryFilter.js","views/InventoryView/Inventory/Inventory.js","views/InventoryView/InventoryOrder/InventoryOrderTool/InventoryOrderFilter.js","views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderTableRow.js","views/InventoryView/InventoryOrder/InventoryOrder.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnTableRow.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTool/InventoryReturnFilter.js","views/InventoryView/InventoryReturnOrder/InventoryReturnOrder.js","components/CheckoutComponent/CheckoutSummary/OrderSummary/OrderSummary.js","views/InventoryView/OrderProduct/OrderProductTableRow/OrderProductTableRow.js","views/InventoryView/OrderProduct/OrderProduct.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListTableRow.js","views/InventoryView/OrderProductList/OrderProductListTool/OrderProductListFilter.js","views/InventoryView/OrderProductList/OrderProductList.js","components/CheckoutComponent/CheckoutSummary/CheckSummary/CheckSummary.js","views/InventoryView/Check/CheckTableRow/CheckTableRow.js","views/InventoryView/Check/Check.js","views/InventoryView/CheckHistory/CheckHistoryTool/CheckHistoryFilter.js","views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryTableRow.js","api/inventoryCheckApi.js","components/CheckoutComponent/CheckoutSummary/InventoryCheckSumary/InventroyCheckSumary.js","components/PopupCheck/InventoryCheckPopUp.js","views/InventoryView/CheckHistory/CheckHistory.js","views/InventoryView/Supplier/SupplierTool/SupplierFilter.js","views/InventoryView/Supplier/SupplierTableRow/SupplierTableRow.js","views/InventoryView/Supplier/Supplier.js","pages/PageNotFound/PageNotFound.js","views/InventoryView/InventoryView.js","components/StatusModal/StatusModal.js","views/HRView/Employee/AddEmployee/AddEmployee.js","components/TextField/Role.js","views/HRView/Employee/EmployeeTool/EmployeeFilter.js","views/HRView/Employee/EmployeeTableRow/EmployeeTableRow.js","views/HRView/Employee/Employee.js","views/HRView/Schedule/style.js","assets/img/ava/ava1.png","assets/img/ava/ava2.png","assets/img/ava/ava3.png","assets/img/ava/ava4.png","assets/img/ava/ava5.png","assets/img/ava/ava6.png","assets/img/ava/ava7.png","assets/img/ava/ava8.png","assets/img/ava/ava9.png","assets/img/ava/ava10.png","views/HRView/Schedule/EmployeeItem/EmployeeItemAva.js","views/HRView/Schedule/dateUtil.js","views/HRView/Schedule/ScheduleHead/ScheduleHead.js","views/HRView/Schedule/ScheduleToolBar/ScheduleToolBar.js","views/HRView/Schedule/ScheduleView/WeekView/WeekView.js","views/HRView/Schedule/ScheduleView/DayView/DayView.js","views/HRView/Schedule/ScheduleView/MonthView/MonthView.js","api/scheduleApi.js","views/HRView/Schedule/AddShiftPopup/AddShiftPopup.js","views/HRView/Schedule/AddSchedulePopup/AddSchedulePopup.js","views/HRView/Schedule/ScheduleDetail/ScheduleDetail.js","views/HRView/Schedule/Schedule.js","views/HRView/HRView.js","views/ManagerView/History/HistoryCard.js","views/ManagerView/History/HistoryTable.js","views/ManagerView/History/HistoryFilter.js","views/ManagerView/History/History.js","assets/img/icon/location.png","components/BranchMap/Map/Map.js","assets/img/store.JPG","components/BranchMap/Geocode.js","components/BranchMap/BranchList/EditBranch.js","components/BranchMap/BranchList/BranchList.js","components/BranchMap/BranchMap.js","views/ManagerView/Branch/AddBranch/AddBranch.js","views/ManagerView/Branch/Branch.js","views/ManagerView/Setting/GeneralSetting/CustomerScoreSetting.js","views/ManagerView/Setting/GeneralSetting/EmailSetting.js","views/ManagerView/Setting/GeneralSetting/NotifyDebtSetting.js","views/ManagerView/Setting/GeneralSetting/OrderLowStockSetting.js","views/ManagerView/Setting/GeneralSetting/OtherSetting.js","views/ManagerView/Setting/StoreSetting/StoreSetting.js","views/ManagerView/Setting/GeneralSetting/SettingItem.js","views/ManagerView/Setting/GeneralSetting/GeneralSetting.js","components/Select/MultipleSelect.js","components/MoreInfo/MoreInfo.js","components/SearchBar/SearchMultiple.js","api/promotionCouponApi.js","views/ManagerView/Setting/DiscountSetting/AddDiscount/AddDiscount.js","views/ManagerView/Setting/DiscountSetting/DiscountTool/DiscountFilter.js","views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountTableRow.js","views/ManagerView/Setting/DiscountSetting/DiscountSetting.js","views/ManagerView/Setting/VoucherSetting/AddVoucher/AddVoucher.js","views/ManagerView/Setting/VoucherSetting/VoucherTool/VoucherFilter.js","views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherTableRow.js","views/ManagerView/Setting/VoucherSetting/VoucherSetting.js","components/Button/ColorButton.js","views/ManagerView/Setting/WebSetting/NavBarSetting.js","assets/img/product/tradao.jpeg","views/ManagerView/Setting/WebSetting/ProductSetting.js","views/ManagerView/Setting/WebSetting/style.js","views/ManagerView/Setting/WebSetting/WebSetting.js","views/ManagerView/Setting/EmailSetting/EmailSetting.js","views/ManagerView/Customer/CustomerTool/CustomerFilter.js","views/ManagerView/Customer/CustomerTableRow/CustomerTableRow.js","views/ManagerView/Customer/Customer.js","views/ManagerView/Report/CustomerReport.js","components/Chart/Chart.js","views/ManagerView/Report/OverallReport.js","views/ManagerView/Report/ProductReport.js","views/ManagerView/Report/MoneyReport.js","views/ManagerView/Report/CategoryReport.js","views/ManagerView/Report/BranchReport.js","views/ManagerView/Report/SupplierReport.js","views/ManagerView/Report/EmployeeReport.js","views/ManagerView/Report/Report.js","views/ManagerView/ManagerView.js","pages/HomePage/styles.js","pages/HomePage/HomePage.js","views/DeliveryView/DeliveryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail.js","pages/LoginPage/styles.js","store/actionCreator.js","pages/LoginPage/LoginPage.js","pages/SignupPage/styles.js","components/SignUp/UserInfo.js","components/SignUp/StoreInfo.js","pages/SignupPage/SignupPage.js","components/PrivateRoute/PrivateRoute.js","components/LoadingModal/styles.js","components/LoadingModal/LoadingModal.js","assets/img/mainPage/video_thesis.mov","assets/img/mainPage/clickVid.mov","assets/img/mainPage/Order - new.png","assets/img/mainPage/Create new product.png","assets/img/mainPage/web1.png","assets/img/mainPage/web.png","pages/MainPage/MainPage.js","components/Button/HoverMenuBtn.js","pages/CustomerPage/NavBar/NavBar.js","pages/CustomerPage/ProductPage/ProductList/style.js","pages/CustomerPage/ProductPage/ProductList/ProductList.js","api/customerPageApi.js","pages/CustomerPage/MainPage/MainPage.js","pages/CustomerPage/ProductPage/DetailPage/DetailPage.js","pages/CustomerPage/ProductPage/ProductPage.js","pages/CustomerPage/StorePage/StorePage.js","pages/CustomerPage/PromotionPage/PromotionPage.js","pages/CustomerPage/CartPage/CartTableRow/CartTableRow.js","pages/CustomerPage/CartPage/CartPage.js","assets/constant/webInfo.js","pages/CustomerPage/CustomerPage.js","components/GlobalSnackBar/GlobalSnackBar.js","components/Category/Test.js","App.js","index.js"],"names":["module","exports","themePalette","theme","level","customization","colorLevel","primary","light","primaryColor","main","secondary","secondaryColor","text","darkTextPrimary","darkTextSecondary","background","paper","default","themeOption","colors","heading","themeText","themeBackground","themeGreyText","createTheme","palette","typography","fontFamily","h6","fontWeight","color","fontSize","h5","h4","h3","h2","h1","subtitle1","textDark","subtitle2","caption","body1","lineHeight","body2","letterSpacing","mainContent","backgroundColor","menuCaption","padding","textTransform","marginTop","commonAvatar","cursor","borderRadius","smallAvatar","width","height","mediumAvatar","largeAvatar","mixins","toolbar","minHeight","breakpoints","values","xs","sm","md","lg","xl","initialState","mode","menu","grey900","grey700","blue","pink","isSidebarOpen","itemMenuOpen","sessionStorage","getItem","customizeSlice","createSlice","name","reducers","setFontFamily","state","action","payload","setMenu","setBorderRadius","setMode","grey800","grey50","grey","setPrimaryColor","setSecondaryColor","setColorLevel","setState","setSidebarOpen","setItemMenuOpen","customizeAction","actions","authSlice","isLoggedIn","logIn","logOut","authActions","loadingSlice","isLoading","startLoad","finishLoad","loadingActions","infoSlice","user","email","email_verified_at","phone","date_of_birth","status","gender","uuid","created_at","updated_at","permissions","store","address","ward","province","image","district","branch","role","setUser","setStore","setRole","setBranch","infoActions","statusSlice","message","open","successfulStatus","failedStatus","closeStatus","statusAction","customerPageSlice","storeInfo","products","order","cartItem","branch_id","categories","setProducts","setOrder","setCategories","setStoreInfo","customerPageActions","configureStore","reducer","customize","cusomizeSlice","auth","loading","info","customerPage","axiosClient","axios","create","baseURL","process","headers","paramsSerializer","params","queryString","stringify","interceptors","request","use","config","accessToken","localStorage","authorization","error","Promise","reject","response","data","document","URL","includes","console","log","dispatch","branchApi","createBranch","storeUuid","body","url","post","getBranches","get","getAllBranches","getBranch","branchUuid","deleteBranch","delete","updateBranch","inactiveBranch","put","activeBranch","BranchSelectAppBar","store_uuid","React","selectedBranch","setSelectedBranch","branches","setBranches","useDispatch","loadingData","a","FormControl","variant","sx","m","minWidth","fullWidth","InputLabel","Select","value","label","onChange","event","target","map","useStyles","makeStyles","menuText","item","marginLeft","itemClick","menuTextClick","SubItem","props","useTheme","classes","useSelector","xsScreen","useMediaQuery","down","ListItem","button","component","Link","to","className","clsx","id","onClick","Typography","title","openIcon","flexGrow","textAlign","marginRight","MenuItem","collapse","useState","setOpen","Icon","icon1","Icon1","icon2","Math","floor","setItem","ListItemIcon","style","paddingTop","paddingBottom","type","Box","src","icon","getMenuIcon","ExpandLess","ExpandMore","Collapse","in","timeout","List","children","_item","marginBottom","menuDivider","MenuGroup","ListItemText","Divider","icons","PaletteOutlinedIcon","LoyaltyOutlinedIcon","DoneOutlinedIcon","DonutSmallOutlinedIcon","LanguageOutlinedIcon","RestorePageOutlinedIcon","RestoreOutlinedIcon","StorefrontOutlinedIcon","AccountCircleOutlinedIcon","EventAvailableOutlinedIcon","LocalShippingOutlinedIcon","SearchOutlinedIcon","AddIcCallOutlinedIcon","ShoppingCartOutlinedIcon","ReceiptOutlinedIcon","FavoriteBorderOutlinedIcon","ExtensionOutlinedIcon","SyncProblemOutlinedIcon","ThumbUpAltOutlinedIcon","PlaylistAddOutlinedIcon","AddOutlinedIcon","AddCircleOutlineOutlinedIcon","LibraryBooksOutlinedIcon","ImageSearchOutlinedIcon","FindInPageOutlinedIcon","icons1","PaletteTwoToneIcon","LoyaltyTwoToneIcon","DoneTwoToneIcon","DonutSmallTwoToneIcon","LanguageTwoToneIcon","RestorePageTwoToneIcon","RestoreTwoToneIcon","StorefrontTwoToneIcon","AccountCircleTwoToneIcon","EventAvailableTwoToneIcon","LocalShippingTwoToneIcon","SearchTwoToneIcon","AddIcCallTwoToneIcon","ShoppingCartTwoToneIcon","ReceiptTwoToneIcon","FavoriteTwoToneIcon","LibraryBooksTwoToneIcon","ExtensionTwoToneIcon","SyncProblemTwoToneIcon","ThumbUpAltTwoToneIcon","PlaylistAddTwoToneIcon","AddTwoToneIcon","AddCircleTwoToneIcon","ImageSearchTwoToneIcon","FindInPageTwoToneIcon","salesModule","cartIcon","invoiceIcon","invoiceReturnIcon","inventoryModule","inventoryIcon","inventoryOrderIcon","inventoryReturnOrderIcon","checkIcon","suplierIcon","hrModule","employeeIcon","scheduleIcon","reportModule","historyIcon","branchIcon","customerIcon","MenuList","useEffect","find","p","productApi","createProduct","addProductWithVaration","getProductsOfBranch","query","getProduct","productUuid","createCategory","JSON","getAllCategory","getParentCategory","getSubCategory","parentCategory","deleteProduct","searchProduct","searchKey","searchBranchProduct","updateProduct","getNestedCategory","searchDefaultProducts","page","addCategory","editCategory","categoryUuid","deleteCategory","createBatch","VNDFormat","thousandSeparator","isNumericString","displayType","suffix","ThousandFormat","VNDFormatCustom","inputRef","other","getInputRef","onValueChange","NumberFormatCustom","VNDInput","TextField","InputProps","inputComponent","inputProps","ThousandSeperatedInput","defaultPrice","defaultValue","createStyles","input","CustomTextField","withStyles","root","FormatedImage","SearchProduct","selectedOption","setSelectedOption","options","setOptions","branch_uuid","paddingLeft","Tooltip","Autocomplete","freeSolo","autoComplete","getOptionLabel","option","renderInput","placeholder","size","startAdornment","InputAdornment","position","endAdornment","barcodeIcon","onKeyDown","e","key","preventDefault","stopPropagation","handleSearchBarSelect","length","timer","setTimeout","clearTimeout","renderOption","Grid","container","direction","img_url","product_code","justifyContent","branch_quantity","isCart","list_price","standard_price","filterOptions","blurOnSelect","borderColor","margin","headerTitle","CardWrapper","Card","btn","maxWidth","maxHeight","btnPink","btnBlue","btnRed","red","btnPurple","purple","btnCyan","cyan","btnGreen","green","btnTeal","teal","btnAmber","amber","btnOrange","orange","btnGrey","levelForm","choosen","borderWidth","valueText","SliderColor","spacing","alignItems","mt","Slider","newValue","updateLocalStorage","getAriaValueText","valueLabelDisplay","marks","step","min","max","ButtonGroup","set","colorChoosen","Button","ColorTheme","AnimateButton","forwardRef","ref","offset1","offset2","offset","scale","useCycle","x","cycleX","y","cycleY","motion","div","animate","rotate","transition","repeat","Infinity","repeatType","duration","repeatDelay","onHoverEnd","onHoverStart","hover","tap","whileHover","whileTap","defaultProps","parse","bottom","right","boxShadow","shadows","zIndex","drawer","flexShrink","fontForm","paddingRight","borderForm","drawerPaper","Customization","handleToggle","Fab","IconButton","disableRipple","Drawer","anchor","onClose","RadioGroup","handleMenu","FormControlLabel","control","Radio","handleFontChange","radio","checked","handleMode","n","handleBorderRadius","outlined","border","deleteIcon","Chip","avatar","table","headerAvatar","btngroup","btngroup1","visuallyHidden","clip","overflow","top","tab","indicator","boldText","hoverCard","cardRoot","media","appBar","flex","StyledTableCell","head","TableCell","TableHeader","orderBy","onRequestSort","headerData","isCustomer","TableHead","headColor","TableRow","headCell","align","sortDirection","TableSortLabel","active","property","StyledPaper","Paper","TableWrapper","isReport","pagingState","setPagingState","dense","setDense","TableContainer","Table","stickyHeader","display","flexDirection","gap","TablePagination","rowsPerPageOptions","labelRowsPerPage","count","total_rows","rowsPerPage","limit","onPageChange","onRowsPerPageChange","Switch","centerQR","center","weight","divider","d","moment","now","orderTime","unix","format","trim","QRCode","require","ReceiptPrinter","cart","date","link","logo","details","created_by_user","customer","row","index","unit_price","quantity","total_amount","discount","paid_amount","ImportReceiptPrinter","supplier","bar_code","btnBottom","StyledBadge","styled","Badge","CartBottom","numberItem","window","scrollTo","documentElement","scrollHeight","behavior","ButtonBase","badgeContent","CartButton","web_page","SearchBarCode","barcode","setBarcode","onEnter","autoFocus","onKeyPress","InventoryHeadCells","disablePadding","InventoryOrderHeadCells","InventoryReturnOrderHeadCells","SupplierHeadCells","InvoiceHeadCells","InvoiceReturnHeadCells","EmployeeHeadCells","CustomerHeadCells","CartHeadCells","ImportHeadCells","CartReturnHeadCells","ImportReturnHeadCells","OrderHeadCells","CheckHeadCells","OrderListHeadCells","CheckHistoryHeadCells","EmployeeScheduleHeadCells","InventoryCheckHeadCells","VoucherHeadCells","DiscountHeadCells","descendingComparator","b","getComparator","stableSort","array","comparator","stabilizedThis","el","sort","calculateTotalQuantity","cartList","calculateTotalReturnQuantity","returnQuantity","customerApi","createCustomer","getCustomers","getCustomer","customerUuid","deleteCustomer","updateCustomer","ava","textField","AddCustomer","handleClose","onReload","customerFormik","useFormik","initialValues","paymentInfo","validationSchema","Yup","required","matches","Dialog","DialogTitle","DialogContent","handleChange","touched","errors","helperText","onBlur","handleBlur","DialogActions","payment_info","resetForm","disabled","isValid","Object","keys","SearchCustomer","selectedCustomer","onKeyUp","handleSearchCustomer","customers","filter","handleClickOpen","modal","ModalWrapperWithClose","handleSubmit","Fragment","Modal","DiscountPopup","setValue","marginBox","marginRow","hidden","CartSummary","cartData","handleSelectCustomer","currentCustomer","handleUpdateDiscount","handleUpdatePaidAmount","handleUpdatePaymentMethod","handleCheckDelivery","handleConfirm","currentBranch","reloadCustomers","discountData","openPopUp","setOpenPopUp","haveDiscount","i","j","detail","totalCost","parseInt","checkHaveDiscount","openDiscount","setOpenDiscount","Date","toLocaleDateString","toLocaleTimeString","payment_method","labelPlacement","Checkbox","delivery","CheckoutPopUp","handleChangePayment","payment","ButtonQuantity","setQuantity","isReturn","isMini","show","setShow","HtmlTooltip","tooltip","pxToRem","error_quantity","onMouseOver","onMouseOut","fill","textfieldClass","isNaN","Number","SelectBatch","isInventoryCheck","selectedBatches","setSelectedBatches","batches","batch","batch_code","expiry_date","_","additional_quantity","is_new","newSelectedList","selectedBatch","nonZeroBatch","CartRow","handleDeleteItemCart","handleChangeItemQuantity","handleUpdateBatches","handleChangeItemPrice","updateQuantity","newQuantity","selectBatchOpen","setSelectBatchOpen","total","forEach","has_batches","colSpan","onDelete","newBatches","DeleteOutline","newBatch","push","CartRowMini","textOverflow","whiteSpace","price","MenuProduct","Tabs","scrollButtons","indicatorColor","textColor","categoryBig","Tab","InventoryList","CardActionArea","CardMedia","CardContent","gutterBottom","ChangeCartBtn","selectedIndex","anchorEl","handleClick","handleChoose","handleDelete","handleAdd","hardText","getTitle","keepMounted","Boolean","selected","onMouseDown","orderApi","addOrder","getAllOfStore","getAllOfBranch","getOrder","orderUuid","searchOrder","editOrderApi","searchCustomerOrder","Alert","elevation","SnackBarGeneral","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","severity","StyledMenu","getContentAnchorEl","transformOrigin","StyledMenuItem","common","white","refundApi","removeInventory","getRefund","refundUuid","searchRefund","typo","InvoiceReturnDetail","parentProps","openRow","setAnchorEl","refund","setRefund","loadData","res","componentRef","useRef","handlePrint","useReactToPrint","content","current","unmountOnExit","refund_code","order_code","TableBody","scope","substring","returned_quantity","employee","currentTarget","InvoiceReturnSummary","handlePaidAmountChange","handlePaymentMethodChange","order_total_amount","INVENTORY_ORDER","CUSTOMER","InvoiceReturnPopUp","handleCloseReturn","reload","reloadDetail","isUpdateTotalAmount","setIsUpdateTotalAmount","order_id","customer_id","returnPrice","max_return_quantity","order_batches","setOpenSnack","handleChangeBatches","itemId","itemIndex","findIndex","newRefund","cloneDeep","sumBy","updateTotalAmount","update","$set","handleItemQuantityChange","handleProductPriceChange","newPrice","import_date","order_uuid","toString","product_id","order_detail_id","omit","closeButton","card","HeadCells","CartReturnTableRow","paidAmount","paymentMethod","newSelectedBatches","SimpleModal","purchaseOrderApi","addInventory","getPurchaseOrder","purchaseOrderUuid","searchPurchaseOrder","editPurchaseOrder","purchaseOrdersUuid","PayRemaining","editApiCall","formik","enableReinitialize","pay","debt","lessThan","moreThan","paid","InvoiceDetail","setReload","debtAmount","openPayRemaining","setOpenPayRemaining","editInventoryOrderApiCall","creation_date","ImportReturnSummary","purchase_order_code","purchaseReturnApi","getPurchaseReturn","purchaseReturnUuid","searchPurchaseReturn","InventoryReturnPopUp","purchaseOrder","setOrderBy","purchase_order_id","supplier_id","purchase_order_batches","purchaseReturn","setPurchaseReturn","newPurchaseReturn","$splice","handleDeleteItem","export_date","purchase_order_uuid","purchase_order_detail_id","purchase_return_code","ImportReturnTableRow","InventoryOrderDetail","setPurchaseOrder","supplier_name","InventoryReturnDetail","purchase_order","OrderProductListDetail","customer_order_code","historyRow","CheckHistoryDetail","moneyDif","reduce","ele","product_name","inventory_check_code","branch_name","user_name","branch_inventory","is_checked","checked_batch","checked_quantity","ConfirmPopUp","UpdateCustomer","customerDetail","UploadImage","avaUpload","CustomerDetail","deleteConfirm","setDeleteConfirm","editItem","setEditItem","handleDeleteCustomer","customer_code","points","total_payment","supplierApi","createSupplier","getSuppliers","getSupplier","supplierUuid","deleteSupplier","inactiveSupplier","activeSupplier","updateSupplier","UpdateSupplier","supplierDetail","supplierFormik","company","handleUpdateSupplier","bodyFormData","FormData","append","handleCloseAndReset","SupplierDetail","editSupplier","setEditSupplier","handleDeleteSupplier","supplier_code","employeeApi","createEmployee","formData","getEmployees","getEmployee","employeeUuid","deleteEmployee","updateEmployee","inactiveEmployee","activeEmployee","formControl","chips","flexWrap","chip","noLabel","permissionChoices","description","EditEmployee","fromAvatar","numberformat","loadBranches","imageToShow","setImageToShow","setImage","salary","salary_type","id_card_num","shape","onSubmit","Avatar","alt","accept","multiple","capture","files","file","reader","FileReader","onloadend","result","readAsDataURL","htmlFor","FormHelperText","InputLabelProps","shrink","labelId","renderValue","permission","join","empWorkBranch","userAPi","ownerRegister","signIn","verify","getCity","getDistrict","getWard","cityId","districtId","owenerChangePassword","employee_uuid","ChangeEmployeePwd","employeeDetail","owner_password","password","confirm_password","oneOf","handleChangePassword","closeModalAndResetData","userApi","employee_password","salaryTypeMapping","fix","EmployeeDetail","handleReload","openEdit","setOpenEdit","setEmployeeDetail","fetchEmp","changePwd","setChangePwd","employee_code","tag","boxSizing","outline","span","DiscountDetail","promotion_condition","rowsInvoice","discountKey","discountType","promotion_code","start_date","end_date","byMonth","byDay","byDate","byTime","customer_birth","discountRow","numberBuyItem","listBuyItem","typeDiscountItem","discountValue","numberGiftItem","listGiftItem","VoucherDetail","AddCategory","categoryList","setCategoryList","parent_category_uuid","categoryInfo","setCategoryInfo","fetchAllCategory","reset","handleAddCategory","onReset","native","category","UpdateCategory","isDelete","setIsDelete","handleUpdateCategory","handleDeleteCategory","nested","SubCategory","subCategories","setSubCategories","fetchCategoryList","setUpdate","textDecoration","RootCategory","CategoryTree","parentCategories","setParentCategories","Category","openAddCategory","setOpenAddCategory","setReset","maxWith","box","UploadImages","img","UpdateInventory","parent_category_id","images","setImages","setDisplay","displayList","productInfo","isUrl","productFormik","importedPrice","salesPrice","unit","quantity_per_unit","re_order_point","min_reorder_quantity","updateProductHandler","prev","cur","concat","clearAllImages","displayImage","createObjectURL","FormatedStatus","FormatedProductStatus","lowStock","FormatedProductStatusReport","FormatedStatusOrder","VarianceModal","suppliers","productDetail","setProductDetail","isOpenUpdate","setIsOpenUpdate","handleCloseDelete","handleConfirmDelete","fetchProduct","showThumbs","attribute_value","attVal","InventoryDetail","thisReload","setThisReload","isOpenVarianceDetailModal","setIsOpenVariaceDetailModal","selectedVariance","setSelectedVariance","has_variance","variations","variance","fontName","Transition","Slide","CartMiniTableRow","ListItemSecondaryAction","BillMiniTableRow","handleOpenRow","partnerName","typeBill","fullScreen","TransitionComponent","AppBar","Toolbar","edge","PartnerMiniTableRow","score","typePartner","ReturnCartMiniTableRow","ProductMiniTableRow","CheckMiniTableRow","handleItemRealQuantityChange","Cart","setCustomers","user_uuid","loadLocalStorage","setCartList","setSelectedIndex","openSnack","snackStatus","setSnackStatus","loadingCustomer","search_key","setReloadCustomers","splice","newCartItem","newCartList","$push","itemUuid","emptyCart","correctQuantity","every","element","customer_uuid","paid_date","tax","shipping","barcodeChecked","setBarcodeChecked","reason","newArr","amount","method","listGiftCategory","listBuyCategory","InvoiceFilter","handleToggleFilter","openFilter","setOrders","setQuery","startDate","endDate","minTotalAmount","maxTotalAmount","minDiscount","maxDiscount","borderBottom","rowClicked","large","InvoiceTableRow","useRowStyles","customer_name","search","exportExcel","dataTable","tableType","columnsToKeep","newData","rowRs","cl","displayName","dbName","workSheet","xlsx","utils","json_to_sheet","workBook","book_new","book_append_sheet","write","bookType","writeFile","ToolBar","textSearch","hasImport","importProductByJSON","excel_data","excel_head","excel_name","setSearchKey","orderByOptions","handleRemoveFilter","setSort","isOnlySearch","openImport","setOpenImport","custom","setCustom","category_id","max_quantity","urls","customCl","setCustomCl","jsonData","setJsonData","keyCode","autoWidth","o","onload","workbook","read","sheetName","SheetNames","worksheet","Sheets","myJson","sheet_to_json","json","product","split","readAsArrayBuffer","readUploadFile","Invoice","orders","totalRows","setTotalRows","initialQuery","setRowOpen","setOpenFilter","stroke","ComponentToPrint","InvoiceReturnFilter","setRefunds","orderCode","InvoiceReturnTableRow","InvoiceReturn","refunds","SalesView","path","useRouteMatch","exact","AddSupplier","handleAddSupplier","SearchSupplier","selectedSupplier","ImportSummary","handleSelectSupplier","currentSupplier","reloadSuppliers","openNotification","notification","placement","AddBatch","toISOString","setBatch","disable","ImportRow","addBatchOpen","setAddBatchOpen","ImportRowMini","expand","transform","transitions","shortest","expandOpen","attrCard","attrHead","SearchWithAutoComplete","searchApiCall","onSelect","nextRef","handleDefaultSelect","searchValue","setSearchValue","fetchData","slice","indexOf","onInputChange","autoSelect","getOptionSelected","TagsInput","selectedItem","setSelectedItem","selectedTags","tags","inputValue","setInputValue","handleKeyDown","newSelectedItem","replace","getInputProps","onFocus","tabIndex","handleInputChange","AddAttribute","attributeList","datas","setDatas","setRelatedList","list","mySet","items","_set","k","generateList","updateFieldChanged","attr","updateValueChanged","deleteAttr","startIcon","addAttrRow","AttributeRow","inputAttr","setInputAttr","openPopupAddAttr","setOpenPopupAddAttr","isEditPopUp","handleChangeAttr","valid","RelaltedItemList","relatedList","handleChangeProperties","newRow","AddInventory","imageURL","setImageURL","max_order","addProductHandler","setFieldValue","selectSampleProductHandler","searchSampleProductHandler","salesPriceRef","focus","expanded","setExpanded","handleExpandClick","handleAddProductWithVariation","attributeValues","att","toLowerCase","CardHeader","Import","addProduct","setAddProduct","setSuppliers","fetchSupplier","reloadSupplier","setReloadSupplier","importTime","supplier_uuid","storeApi","getStoreInfo","updateStoreInfo","getActivities","period","getReportOverview","fromDate","toDate","from_date","to_date","getReportProduct","categoryId","getReportRevenue","revenue","getReportCaptital","captital","getReportProfit","profit","getReportPurchase","purchase","getReportTop","importProductJSON","updateStoreConfig","InventoryTableRow","SnackBar","handleCloseBar","openBar","addStatus","excel_data_product","Tên","header_product","errorHeadings","code","ProductImportPopper","setDataTable","errorMessages","errField","mappedData","left","alignContent","CircularProgress","InventoryFilter","minStandardPrice","maxStandardPrice","minListPrice","maxListPrice","minInventory","maxInventory","Inventory","productList","setProductList","setOpenProductImportPopper","setIsLoadingProduct","setProductErrors","openCategory","setOpenCategory","setOpenBar","openProductImportPopper","isLoadingProduct","productErrors","handleSearchValueChange","excel","InventoryOrderFilter","setPurchaseOrders","InventoryOrderTableRow","InventoryOrder","purchaseOrders","TableType","InventoryReturnTableRow","InventoryReturnFilter","setPurchaseReturns","purchaseReturns","InventoryReturnOrder","OrderSummary","OrderProductRow","stt","OrderProductRowMini","OrderProduct","OrderProductListTableRow","OrderProductList","orderProductList","JSONdata","customerOrders","setCustomerOrders","CheckSummary","openConfirm","setOpenConfirm","handleCloseConfirm","setAddStatus","CheckRow","CheckRowMini","Check","CheckHistoryFilter","CheckHistoryTableRow","quantityDifference","moneyDifference","num","inventoryCheckApi","InventoryCheckSummary","userName","branchName","real_quantity","InventoryCheckPopUp","success","failure","note","inventoryCheck","setInventoryCheck","newInventoryCheck","handleConfirmBalance","handleProductSelect","newDetails","handleChangeDetailBatches","InventoryCheckTableRow","setBatches","onChangeRealQuantity","checkedBatch","indexOfBatch","handleChangeBatchQuantity","handleDeleteBatch","handleSelectBatch","CheckHistory","checkHistoryList","inventoryChecks","setInventoryChecks","addOpen","setAddOpen","closeInvetoryCheck","setIsClosePopUp","closePopUp","SupplierFilter","SupplierTableRow","Supplier","supplerList","setSupplierList","NoMatchPage","InventoryView","PageNotFound","AddEmployee","userNameError","setUserNameError","checkedIcon","CheckboxesTags","disableCloseOnSelect","year","EmployeeFilter","EmployeeTableRow","Employee","employeeList","setEmployeeList","scrore","textTitle","addIcon","addShiftIcon","btnChoose","minWidthBox","getContrastText","deepOrange","deepPurple","whiteBg","boxName","boxNameDay","boxRed","boxGreen","boxYellow","nameText","StyledBadgeGreen","badge","animation","opacity","StyledBadgeRed","StyledBadgeYellow","Dot","overlap","EmployeeItemAva","arrow","formatDate","dat","getDay","dd","getDate","mm","getMonth","yyyy","getFullYear","dt","tdt","valueOf","dayn","setDate","firstThursday","setMonth","ceil","ISO8601_week_no","calNextDay","selectedDate","day","diff","getMonday","getTime","getDayText","daysInMonth","month","isToday","ScheduleHead","ScheduleToolBar","selectedBtn","handleModeBtn","setSelectedBtn","handleDateChange","openAddSchedule","undefined","addBtn","PopUpChooseDate","Popover","DateFnsUtils","disableToolbar","inputVariant","KeyboardButtonProps","HeadWeekBox","_day","borderLeft","HeadWeek","openAddShift","overflowX","BodyWeekBox","groupList","handlePopUp","setClickSchedule","shift","borderTop","groupListMax","moreItemNumber","arr","chunkSize","chunk","sliceIntoChunks","_shift","schedules","schedule","subitem","employee_img_url","employee_name","noWrap","ShiftWeekBox","rv","overflowClipBox","borderRight","start_time","end_time","formatDDMMYYY","HeadDay","ShiftDayBox","HeadMonth","firstDay","Array","from","ShiftMonthBox","modeMonth","handleChangeModeMonth","groupBy","employeeGroup","getColor","dateGroup","numberOfDayInMonth","widthCss","getWidthCss","scheduleApi","createSchedule","createShift","getSchedule","selected_date","getEmpAndShiftOfBranch","checkAttendance","AddShiftPopup","addShiftOpen","daysOfWeek","AddSchedulePopup","addScheduleOpen","employee_id","shift_id","week_day","employees","setEmployees","shifts","setShifts","fetchEmpAndShift","handleCheckSchedule","schedule_id","employee_phone","ScheduleDetail","clickSchedule","setSchedules","newSchedule","s","Schedule","setAddShiftOpen","setAddScheduleOpen","shiftInfo","setShiftInfo","setSelectedDate","fetchSchedule","handleChangeMode","setModeMonth","handleSubmitSchedule","dayStr","HRView","employeeId","secondaryTail","returnTextAction","HistoryCard","TimelineItem","TimelineOppositeContent","parseISO","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","HistoryTable","activities","setActivities","fetchActivities","Timeline","activity","HistoryFilter","History","Map","branchList","chosenBranch","getLocation","bootstrapURLKeys","defaultZoom","lat","lng","Marker","handleMouseOver","handleMouseExit","getGeoCode","location","Geocode","setApiKey","setRegion","fromAddress","results","geometry","EditBranch","cityList","setCityList","districtList","setDistrictList","wardList","setWardList","clearImage","city","loadCity","provinces","loadDistrict","city_id","loadWard","district_id","handleEditBranch","handleDeleteBranch","BranchList","setChosenBranch","isEditBranch","setIsEditBranch","branchToEdit","setBranchToEdit","parseFloat","Branch","setBranchList","fetchBranchList","currentLocation","setCurrentLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","handleSetLocation","AddBranch","handleAddBranch","BranchMap","CustomerScoreSetting","customerScore","setCustomerScore","handleCheckbox","prevState","exceptDiscountProduct","exceptDiscountInvoice","exceptVoucher","EmailSetting","setEmail","handleChangeValue","emailAddress","NotifyDebtSetting","notifyDebt","setNotifyDebt","checkDebtAmount","checkNumberOfDay","numberOfDay","typeDebtDay","MenuProps","dropdownStyle","canNotContinueBuy","canNotContinueDebt","OrderLowStockSetting","orderLowStock","setOrderLowStock","choiceQuantity","selectQuantity","inputQuantity","selectSuplier","ReturnLimitSetting","returnLimit","setReturnLimit","DiscountSetting","setDiscount","applyMultiple","applyOnline","CanFixPriceSellSetting","import","returnCart","returnImport","PrintReceiptWhenSellSetting","checkInventroy","VatSetting","vat","setVat","handleChangeMoneyType","newVat","listCost","handleChangeName","costName","addConditionRow","StoreSetting","store_configuration","js","facebook","instagram","custom_web","handleUpdateStore","SettingItem","statusChecked","actionToggle","subTitle","handlePopup","IOSSwitch","switchBase","thumb","track","focusVisible","focusVisibleClassName","GeneralSetting","general_configuration","setChecked","inventory","recommendedProduct","variation","expiryDate","canFixPriceSell","printReceiptWhenSell","voucher","autoApplyDiscount","handleTogglePopup","handleClosePopup","openStore","setOpenStore","subheader","ListSubheader","err","MultipleSelect","chonsenValue","handleAction","handleDeleteChip","Input","clickable","PaperProps","ITEM_HEIGHT","InputWrapper","Tag","Listbox","SearchMultiple","isVoucher","handleSelectedOption","handleDeleteOption","handleSelect","NoSsr","renderOptionVoucher","promotionCouponApi","createPromotion","createVoucher","updatePromotion","updateVoucher","getActivePromotionVoucher","getAllPromotions","getAllVouchers","AddDiscount","setName","setDiscountKey","setDiscountType","handleChangeType","setRowsInvoice","handleChangeListGiftItem","typeChange","handleChangeListBuyItem","setByMonth","setByDay","setByDate","setByTime","checkedBirthday","setCheckedBirthday","setStartDate","setEndDate","handleChangeTotalCost","handleChangeNumberBuyItem","handleChangeNumberGiftItem","toDateString","chipToDelete","time","DiscountFilter","DiscountTableRow","getDiscountType","newDiscountList","setNewDiscountList","promotions","discountList","AddVoucher","VoucherFilter","VoucherTableRow","VoucherSetting","voucherList","setNewVoucherList","vouchers","ColorButtonPink","lighten","ColorButtonYellow","ColorButton","mainColor","navColor","ColorOutlineButton","ColorOutlineButtonCart","toolBar","btnNav","swatch","NavBarSetting","web","handleChangeNavBar","setWeb","r","g","navBar","buttonLogin","buttonCart","textNav","textSize","textBold","handleChangeNavBarIndex","newWeb","ProductSetting","handleChangeListProduct","listProduct","priceStyle","btnStyle","isMargin","alignCenter","nameStyle","isBox","marginContainer","boxDistance","widthSize","handleColor","nameColor","nameSize","nameBold","nameLineClass","multiLineEllipsis","oneLineEllipsis","priceColor","priceSize","priceBold","colorCard","InfoComponent","onTouchStart","popover","cover","WebSetting","domainName","webInfo","webAddress","hex","bgColor","displayColorPicker","setDisplayColorPicker","displayColorPicker1","setDisplayColorPicker1","openLinkWarningPopup","seOpenLinkWarningPopup","web_configuration","expandedNavBar","setExpandedNavBar","expandedListProduct","setExpandedListProduct","expandedDetailProduct","setExpandedDetailProduct","expandedCart","setExpandedCart","expandedMainPage","setExpandedMainPage","handleWebAddress","rgb","SettingCollapse","modules","clipboard","matchVisual","formats","createAccountCustomer","notifyDebtCustomer","sendVoucherCustomer","buyOnlineCustomer","completeBuyOnlineCustomer","notifyCustomerNotBuyTooLong","notifyDiscount","sendDiscountVIPCustomer","createAccountEmployee","borderRaidus","CustomerFilter","CustomerTableRow","Customer","customerList","setCustomerList","Component","header","CustomerReport","customerSales","notSort","total_sale","number_of_orders","overall","yellow","number","OverallReport","numOfProducts","numOfEmployees","numOfCustomers","numOfBranches","inAccount","series","chart","sparkline","enabled","dataLabels","curve","xaxis","outAccount","animations","ProductReport","CategoryReport","offsetX","offsetY","tools","download","selection","zoom","zoomin","zoomout","pan","customIcons","labels","responsive","breakpoint","legend","BranchReport","plotOptions","bar","SupplierReport","supplierList","total_cost","EmployeeReport","employeeSales","Report","setTime","moneyData","isLoaded","setIsLoaded","overview","setOverview","topItemByCategory","setTopItemByCategory","setRevenue","setPurchase","setCapital","setProfit","topData","setTopData","fetchReports","overViewRes","topItemByCategoryRes","revenueRes","captitalRes","profitRes","purchaseRes","topDataRes","then","fetchProducts","product_report","MoneyReport","ManagerView","drawerWidth","hide","_drawerPaper","drawerHeader","easing","sharp","leavingScreen","contentShift","easeOut","enteringScreen","up","backgroundMini","marginBackground","searchEngine","scroll","HomePage","smallScreen","matchUpMd","infoDetail","roleUser","handleToggleSidebar","openUserInfo","setOpenUserInfo","divLogo","removeItem","ModalProps","_divLogo","form","submit","logInHandler","rs","access_token","SignIn","isOwner","setIsOwner","loginFormik","UserInfo","user_formik","dateOfBirth","passwordConfirm","StoreInfo","store_formik","SignUp","activeStep","setActiveStep","steps","handleSignUp","password_confirmation","store_name","store_phone","default_branch","Stepper","alternativeLabel","Step","StepLabel","prevActiveStep","PrivateRoute","rest","useLocation","pathname","render","videosm","videoupsm","MainPage","matchDownXs","matchDownSm","loop","autoPlay","muted","video1","orientation","flexItem","video","Container","web1","app1","app","useCascadingMenuStyles","submenu","moreArrow","CascadingContext","parentPopupState","rootPopupState","CascadingMenuItem","Error","close","handleClickItem","CascadingSubmenu","popupId","popupState","usePopupState","bindHover","bindFocus","CascadingMenu","context","Provider","bindMenu","HoverMenuBtn","renderTree","nodes","node","NavBar","toggleDrawer","grid","ProductList","useParams","lgScreen","mdScreen","smScreen","newItem","newOrder","img_urls","customerPageApi","store_web_page","storeProducts","storeCategroies","arrowRight","interval","infiniteLoop","showStatus","emulateTouch","swipeable","dynamicHeight","renderArrowPrev","onClickHandler","renderArrowNext","DetailPage","productCode","detailProduct","prod","showArrows","ProductPage","clickItem","productOfCategory","cat","StorePage","PromotionPage","card1","dividerColor","CartPage","handleChangeOrder","field","calculateTotal","borderBottomWidth","CartTableRow","noValidate","at","submitOrder","branchId","CustomerPage","setClickItem","storeWebPage","isArray","RouteList","webSetting","setWebInfo","fetchStore","all","isOpen","isSuccess","Test","test","fetch","App","setPath","verifyToken","fetchCustomization","ThemeProvider","themes","CssBaseline","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.98a454dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paper\":\"#fff\",\"primaryLight\":\"#e3f2fd\",\"primary200\":\"#90caf9\",\"primaryMain\":\"#2196f3\",\"primaryDark\":\"#1e88e5\",\"primary800\":\"#1565c0\",\"secondaryLight\":\"#ede7f6\",\"secondary200\":\"#b39ddb\",\"secondaryMain\":\"#673ab7\",\"secondaryDark\":\"#5e35b1\",\"secondary800\":\"#4527a0\",\"successLight\":\"#b9f6ca\",\"success200\":\"#69f0ae\",\"successMain\":\"#00e676\",\"successDark\":\"#00c853\",\"errorLight\":\"#ef9a9a\",\"errorMain\":\"#f44336\",\"errorDark\":\"#c62828\",\"orangeLight\":\"#fbe9e7\",\"orangeMain\":\"#ffab91\",\"orangeDark\":\"#d84315\",\"warningLight\":\"#fff8e1\",\"warningMain\":\"#ffe57f\",\"warningDark\":\"#ffc107\",\"grey50\":\"#fafafa\",\"grey100\":\"#f5f5f5\",\"grey200\":\"#eee\",\"grey300\":\"#e0e0e0\",\"grey500\":\"#9e9e9e\",\"grey600\":\"#757575\",\"grey700\":\"#616161\",\"grey800\":\"#2d2d2d\",\"grey900\":\"#212121\"};","export default __webpack_public_path__ + \"static/media/giftbox.a742d657.png\";","/**\r\n * Color intention that you want to used in your theme\r\n * @param {JsonObject} theme Theme customization object\r\n */\r\n\r\nexport default function themePalette(theme) {\r\n  const level = theme.customization.colorLevel;\r\n  return {\r\n    primary: {\r\n      light: theme.customization.primaryColor[level],\r\n      main: theme.customization.primaryColor[500],\r\n    },\r\n    secondary: {\r\n      light: theme.customization.secondaryColor[50],\r\n      main: theme.customization.secondaryColor[500],\r\n    },\r\n    text: {\r\n      primary: theme.darkTextPrimary,\r\n      secondary: theme.darkTextSecondary,\r\n    },\r\n    background: {\r\n      paper: theme.paper,\r\n      default: theme.paper,\r\n    },\r\n  };\r\n}\r\n","import { createTheme } from \"@material-ui/core/styles\";\r\n// assets\r\nimport colors from \"../assets/scss/_themes-vars.module.scss\";\r\n\r\n//project import\r\nimport themeTypography from \"./typography\";\r\nimport themePalette from \"./palette\";\r\n\r\nexport function theme(customization) {\r\n  const color = colors;\r\n\r\n  const themeOption = {\r\n    colors: color,\r\n    heading: customization.themeText,\r\n    paper: customization.themeBackground,\r\n    darkTextPrimary: customization.themeGreyText,\r\n    customization,\r\n  };\r\n  return createTheme({\r\n    customization: customization,\r\n    palette: themePalette(themeOption),\r\n    typography: themeTypography(themeOption),\r\n    mixins: {\r\n      toolbar: {\r\n        minHeight: \"48px\",\r\n        padding: \"16px\",\r\n        \"@media (min-width: 600px)\": {\r\n          minHeight: \"48px\",\r\n        },\r\n      },\r\n    },\r\n    breakpoints: {\r\n      values: {\r\n        xs: 0,\r\n        sm: 600,\r\n        md: 960,\r\n        lg: 1280,\r\n        // xl: 1920,\r\n        xl: 1500,\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\nexport default theme;\r\n","/**\r\n * Typography used in theme\r\n * @param {JsonObject} theme theme customization object\r\n */\r\nexport default function themeTypography(theme) {\r\n    return {\r\n        fontFamily: theme.customization.fontFamily,\r\n        h6: {\r\n            fontWeight: 500,\r\n            color: theme.heading,\r\n            fontSize: '0.75rem'\r\n        },\r\n        h5: {\r\n            fontSize: '0.875rem',\r\n            color: theme.heading,\r\n            fontWeight: 500\r\n        },\r\n        h4: {\r\n            fontSize: '1rem',\r\n            color: theme.heading,\r\n            fontWeight: 600\r\n        },\r\n        h3: {\r\n            fontSize: '1.25rem',\r\n            color: theme.heading,\r\n            fontWeight: 600\r\n        },\r\n        h2: {\r\n            fontSize: '1.5rem',\r\n            color: theme.heading,\r\n            fontWeight: 700\r\n        },\r\n        h1: {\r\n            fontSize: '2.125rem',\r\n            color: theme.heading,\r\n            fontWeight: 700\r\n        },\r\n        subtitle1: {\r\n            fontSize: '0.875rem',\r\n            fontWeight: 500,\r\n            color: theme.textDark\r\n        },\r\n        subtitle2: {\r\n            fontSize: '0.75rem',\r\n            fontWeight: 400,\r\n            color: theme.darkTextSecondary\r\n        },\r\n        caption: {\r\n            fontSize: '0.75rem',\r\n            color: theme.darkTextSecondary,\r\n            fontWeight: 400\r\n        },\r\n        body1: {\r\n            fontSize: '0.875rem',\r\n            fontWeight: 400,\r\n            lineHeight: '1.334em'\r\n        },\r\n        body2: {\r\n            letterSpacing: '0em',\r\n            fontWeight: 400,\r\n            lineHeight: '1.5em',\r\n            color: theme.darkTextPrimary\r\n        },\r\n        mainContent: {\r\n            backgroundColor: theme.background,\r\n        },\r\n        menuCaption: {\r\n            fontSize: '0.875rem',\r\n            fontWeight: 500,\r\n            color: theme.heading,\r\n            padding: '6px',\r\n            textTransform: 'capitalize',\r\n            marginTop: '10px'\r\n        },\r\n        commonAvatar: {\r\n            cursor: 'pointer',\r\n            borderRadius: '8px'\r\n        },\r\n        smallAvatar: {\r\n            width: '22px',\r\n            height: '22px',\r\n            fontSize: '1rem'\r\n        },\r\n        mediumAvatar: {\r\n            width: '34px',\r\n            height: '34px',\r\n            fontSize: '1.2rem'\r\n        },\r\n        largeAvatar: {\r\n            width: '44px',\r\n            height: '44px',\r\n            fontSize: '1.5rem'\r\n        }\r\n    };\r\n}\r\n","import colors from \"../../assets/scss/_themes-vars.module.scss\";\r\nimport { pink, blue, grey } from \"@material-ui/core/colors\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\nconst initialState = {\r\n  fontFamily: `'Roboto', sans-serif`,\r\n  borderRadius: 12,\r\n  mode: \"Light\",\r\n  menu:\"1\",\r\n  themeBackground: colors.paper,\r\n  themeText: colors.grey900,\r\n  themeGreyText: colors.grey700,\r\n  primaryColor: blue,\r\n  secondaryColor: pink,\r\n  colorLevel: 50,\r\n  isSidebarOpen: null,\r\n  itemMenuOpen:  sessionStorage.getItem(\"BKRMopening\") ? sessionStorage.getItem(\"BKRMopening\"):-1 ,\r\n};\r\n\r\nconst customizeSlice = createSlice({\r\n  name: \"customize\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    setFontFamily(state, action) {\r\n      state.fontFamily = action.payload;\r\n    },\r\n    setMenu(state, action) {\r\n      state.menu = action.payload;\r\n    },\r\n    setBorderRadius(state, action) {\r\n      state.borderRadius = action.payload;\r\n    },\r\n    setMode(state, action) {\r\n      if (action.payload === \"Light\") {\r\n        state.mode = action.payload;\r\n        state.themeBackground = colors.paper;\r\n        state.themeText = colors.grey900;\r\n        state.themeGreyText = colors.grey700;\r\n        state.primaryColor = blue;\r\n        state.colorLevel = 50;\r\n      } else {\r\n        state.mode = action.payload;\r\n        state.themeBackground = colors.grey800;\r\n        state.themeText = colors.grey50;\r\n        state.themeGreyText = colors.grey50;\r\n        state.primaryColor = grey;\r\n        state.colorLevel = 700;\r\n      }\r\n    },\r\n    setPrimaryColor(state, action) {\r\n      state.primaryColor = action.payload;\r\n    },\r\n    setSecondaryColor(state, action) {\r\n      state.secondaryColor = action.payload;\r\n    },\r\n    setColorLevel(state, action) {\r\n      if (action.payload === 0) {\r\n        state.colorLevel = 50;\r\n      } else {\r\n        state.colorLevel = action.payload;\r\n      }\r\n    },\r\n    setState(state, action) {\r\n      state = action.payload;\r\n    },\r\n    setSidebarOpen(state, action) {\r\n      state.isSidebarOpen = action.payload;\r\n    },\r\n    setItemMenuOpen(state, action) {\r\n      state.itemMenuOpen = action.payload;\r\n    },\r\n  },\r\n});\r\nexport default customizeSlice;\r\nexport const customizeAction = customizeSlice.actions;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nconst initialAuthState = { isLoggedIn: false };\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialAuthState,\r\n  reducers: {\r\n    logIn(state) {\r\n      state.isLoggedIn = true;\r\n    },\r\n    logOut(state) {\r\n      state.isLoggedIn = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const authActions = authSlice.actions;\r\nexport default authSlice;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialLoadingState = { isLoading: false };\r\nconst loadingSlice = createSlice({\r\n  name: \"loading\",\r\n  initialState: initialLoadingState,\r\n  reducers: {\r\n    startLoad(state) {\r\n      state.isLoading = true;\r\n    },\r\n    finishLoad(state) {\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default loadingSlice;\r\nexport const loadingActions = loadingSlice.actions;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nconst initialUserInfoSlice = {\r\n  user: {\r\n    name: \"\",\r\n    email: \"\",\r\n    email_verified_at: null,\r\n    phone: \"\",\r\n    date_of_birth: \"\",\r\n    status: \"\",\r\n    gender: null,\r\n    uuid: \"\",\r\n    created_at: \"\",\r\n    updated_at: \"\",\r\n    permissions: [],\r\n  },\r\n  store: {\r\n    uuid: \"\",\r\n    name: \"\",\r\n    address: \"\",\r\n    ward: \"\",\r\n    province: \"\",\r\n    phone: \"\",\r\n    status: \"\",\r\n    image: \"\",\r\n    created_at: \"\",\r\n    updated_at: \"\",\r\n    district: \"\",\r\n  },\r\n  branch: {\r\n    uuid: \"\",\r\n    name: \"\",\r\n  },\r\n  role: \"\",\r\n};\r\nconst infoSlice = createSlice({\r\n  name: \"info\",\r\n  initialState: initialUserInfoSlice,\r\n  reducers: {\r\n    setUser(state, action) {\r\n      state.user = action.payload;\r\n    },\r\n    setStore(state, action) {\r\n      state.store = action.payload;\r\n    },\r\n    setRole(state, action) {\r\n      state.role = action.payload;\r\n    },\r\n    setBranch(state, action) {\r\n      state.branch = action.payload;\r\n    },\r\n  },\r\n});\r\nexport default infoSlice;\r\nexport const infoActions = infoSlice.actions;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nconst initialStatusSlice = { status: null, message: \"\", open: false };\r\nconst statusSlice = createSlice({\r\n  name: \"loading\",\r\n  initialState: initialStatusSlice,\r\n  reducers: {\r\n    successfulStatus(state, action) {\r\n      state.status = true;\r\n      state.message = action.payload;\r\n      state.open = true;\r\n    },\r\n    failedStatus(state, action) {\r\n      state.status = false;\r\n      state.message = action.payload;\r\n      state.open = true;\r\n    },\r\n    closeStatus(state) {\r\n      state.open = false;\r\n      state.message = \"\";\r\n      state.status = null;\r\n    },\r\n  },\r\n});\r\nexport default statusSlice;\r\nexport const statusAction = statusSlice.actions;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nconst initialCustomerPage = {\r\n  storeInfo: {},\r\n  products: [],\r\n  order: { name: \"\", phone: \"\", address: \"\", cartItem: [], branch_id: ''},\r\n  categories: [],\r\n};\r\nconst customerPageSlice = createSlice({\r\n  name: \"customerPage\",\r\n  initialState: initialCustomerPage,\r\n  reducers: {\r\n    setProducts(state, action) {\r\n      state.products = action.payload;\r\n    },\r\n    setOrder(state, action) {\r\n      state.order = action.payload;\r\n    },\r\n    setCategories(state, action) {\r\n      state.categories = action.payload;\r\n    },\r\n    setStoreInfo(state, action) {\r\n      state.storeInfo = action.payload;\r\n    },\r\n  },\r\n});\r\nexport default customerPageSlice;\r\nexport const customerPageActions = customerPageSlice.actions;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport cusomizeSlice from \"./slice/customizeSlice\";\r\nimport authSlice from \"./slice/authSlice\";\r\nimport loadingSlice from \"./slice/loadingSlice\";\r\nimport infoSlice from \"./slice/infoSlice\";\r\nimport statusSlice from \"./slice/statusSlice\";\r\nimport customerPageSlice from \"./slice/customerPageSlice\";\r\nconst store = configureStore({\r\n  reducer: {\r\n    customize: cusomizeSlice.reducer,\r\n    auth: authSlice.reducer,\r\n    loading: loadingSlice.reducer,\r\n    info: infoSlice.reducer,\r\n    status:statusSlice.reducer,\r\n    customerPage: customerPageSlice.reducer,\r\n  },\r\n});\r\nexport default store;\r\n","import axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport store from \"../store/index\";\r\nimport { authActions } from \"../store/slice/authSlice\"\r\nimport { statusAction } from \"../store/slice/statusSlice\"\r\nconst axiosClient = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n  headers: {\r\n    \"content-type\": \"application/json\",\r\n  },\r\n  paramsSerializer: (params) => queryString.stringify(params),\r\n});\r\naxiosClient.interceptors.request.use(\r\n  (config) => {\r\n    const accessToken = localStorage.getItem(\"token\");\r\n    config.headers.authorization = `Bearer ${accessToken}`;\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\naxiosClient.interceptors.response.use(\r\n  (response) => {\r\n    if (response && response.data) {\r\n      return response.data;\r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response.status == \"401\"  ) {\r\n      if (!(document.URL.includes(\"/login\") || document.URL.includes(\"/signup\") )) {\r\n        console.log(!document.URL.includes(\"/login\"))\r\n        store.dispatch(authActions.logOut())\r\n        store.dispatch(statusAction.failedStatus(\"Hết phiên đăng nhập\"))\r\n      }\r\n    }\r\n    throw error\r\n  }\r\n);\r\nexport default axiosClient;\r\n","import axiosClient from \"./axiosClient\";\r\nconst branchApi = {\r\n  createBranch: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  getBranches: (storeUuid) => {\r\n    const url = `/stores/${storeUuid}/branches`;\r\n    return axiosClient.get(url);\r\n  },\r\n  getAllBranches: (storeUuid) => {\r\n    const url = `/stores/${storeUuid}/branches/getAllBranches`;\r\n    return axiosClient.get(url);\r\n  },\r\n\r\n  getBranch: (storeUuid, branchUuid) => {\r\n    const url = `/stores/${storeUuid}/branches/${branchUuid}`;\r\n    return axiosClient.get(url);\r\n  },\r\n\r\n  deleteBranch: (storeUuid, branchUuid) => {\r\n    const url = `/stores/${storeUuid}/branches/${branchUuid}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n\r\n  updateBranch: (storeUuid, branchUuid, body) => {\r\n    const url = `/stores/${storeUuid}/branches/${branchUuid}`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  inactiveBranch: (storeUuid, branchUuid) => {\r\n    const url = `/stores/${storeUuid}/branches/${branchUuid}`;\r\n    return axiosClient.put(url, { status: \"inactive\" });\r\n  },\r\n  activeBranch: (storeUuid, branchUuid) => {\r\n    const url = `/stores/${storeUuid}/branches/${branchUuid}`;\r\n    return axiosClient.put(url, { status: \"active\" });\r\n  },\r\n};\r\nexport default branchApi;\r\n","import * as React from \"react\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from \"@mui/material/Select\";\r\nimport branchApi from \"../../../api/branchApi\";\r\nimport { infoActions } from \"../../../store/slice/infoSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nexport default function BranchSelectAppBar({ store_uuid }) {\r\n  const [selectedBranch, setSelectedBranch] = React.useState({});\r\n  const [branches, setBranches] = React.useState([]);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = (event) => {\r\n    setSelectedBranch(event.target.value);\r\n    dispatch(\r\n      infoActions.setBranch({\r\n        uuid: event.target.value.uuid,\r\n        name: event.target.value.name,\r\n      })\r\n    );\r\n  };\r\n\r\n  const loadingData = async () => {\r\n    let response = await branchApi.getBranches(store_uuid);\r\n    setBranches(response.data);\r\n    setSelectedBranch(response.data[0]);\r\n    dispatch(\r\n      infoActions.setBranch({\r\n        uuid: response.data[0].uuid,\r\n        name: response.data[0].name,\r\n      })\r\n    );\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    loadingData();\r\n  }, [store_uuid]);\r\n\r\n  const renderMenuItem = () => {\r\n    return branches.map((branch) => {\r\n      return <MenuItem value={branch}>{branch.name}</MenuItem>;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <FormControl variant=\"standard\" sx={{ m: 1, minWidth: 120 }} fullWidth>\r\n      <InputLabel>Chi nhánh</InputLabel>\r\n      <Select value={selectedBranch} label=\"Chi nhánh\" onChange={handleChange}>\r\n        {renderMenuItem()}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { makeStyles,useTheme } from '@material-ui/styles';\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\n\r\n//import library\r\nimport { Box,ListItem,ListItemIcon, ListItemText ,Typography} from '@material-ui/core';\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\n// import redux\r\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuText:{\r\n    // marginLeft:-15,\r\n    // paddingLeft:10\r\n  },\r\n  item:{\r\n    // background:theme.color.primaryLight\r\n    // background: \"#f1f1f1\",\r\n    borderRadius: theme.customization.borderRadius,\r\n    '&:hover': {\r\n       background: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\r\n    },\r\n    marginTop:2,\r\n    marginLeft:5\r\n\r\n  },\r\n  itemClick:{\r\n      // background: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\r\n      color: theme.customization.mode === \"Light\" ? theme.palette.secondary.main : null,\r\n      \r\n  },\r\n  menuTextClick:{\r\n    fontWeight:800\r\n  }\r\n}));\r\n\r\nconst SubItem = (props) => {\r\n    const {item} = props;\r\n    const theme = useTheme();\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const customization = useSelector((state) => state.customize);\r\n    \r\n    const itemMenuOpen = customization.itemMenuOpen;\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n  \r\n    function handleOnClick(id){\r\n      if ( xsScreen) {\r\n        dispatch(customizeAction.setSidebarOpen(false));\r\n      }\r\n      \r\n      dispatch(customizeAction.setItemMenuOpen(id));\r\n    }\r\n    return (\r\n      <ListItem   \r\n          button\r\n          component={Link}\r\n          to={item.url}\r\n          // className={classes.item}\r\n          className={clsx([classes.item], {\r\n            [classes.itemClick]: itemMenuOpen === item.id,\r\n          })}\r\n          onClick={()=>handleOnClick(item.id)}\r\n        >\r\n           <Typography\r\n              className={clsx([classes.menuText], {\r\n                [classes.menuTextClick]: itemMenuOpen === item.id,\r\n              })} \r\n            > \r\n              {item.title} \r\n          </Typography>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nexport default SubItem\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\n\r\n//import library\r\nimport { Collapse, List, Box, ListItem, ListItemIcon, ListItemText, Typography } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ExpandLess, ExpandMore } from \"@material-ui/icons\";\r\n\r\n// import redux\r\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\r\n\r\n//import project \r\nimport SubItem from './SubItem';\r\n\r\n//ICON\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\nimport PaletteOutlinedIcon from '@material-ui/icons/PaletteOutlined';\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuText: {\r\n    marginLeft: -15\r\n  },\r\n  item: {\r\n    // background:theme.color.primaryLight\r\n    // background: \"#f1f1f1\",\r\n    borderRadius: theme.customization.borderRadius,\r\n    '&:hover': {\r\n      background: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main,\r\n    },\r\n    marginTop: 2,\r\n\r\n\r\n  },\r\n  itemClick: {\r\n    background: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main,\r\n    color: theme.customization.mode === \"Light\" ? theme.palette.secondary.main : null,\r\n  },\r\n  menuTextClick: {\r\n    fontWeight: 800\r\n  },\r\n  openIcon: {\r\n\r\n    flexGrow: 1, textAlign: \"right\",\r\n    marginRight: -25\r\n  }\r\n}));\r\n\r\nconst MenuItem = (props) => {\r\n  const { item, collapse } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const customization = useSelector((state) => state.customize);\r\n\r\n  const [open, setOpen] = React.useState(true);\r\n  const itemMenuOpen = customization.itemMenuOpen;\r\n\r\n  const Icon = item.icon1;\r\n  const Icon1 = item.icon2;\r\n\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  function getMenuIcon(type) {\r\n    switch (type) {\r\n      case \"1\":\r\n        return <Box\r\n          component=\"img\"\r\n          sx={{\r\n            height: 24,\r\n            width: 24,\r\n          }}\r\n          src={item.icon}\r\n        />\r\n\r\n      case \"2\":\r\n        return <Icon1 fontSize=\"small\" />\r\n\r\n      case \"3\":\r\n        return <Icon fontSize=\"small\" />\r\n      default:\r\n        return <Icon fontSize=\"small\" />\r\n    }\r\n  }\r\n\r\n  function handleOnClick(id) {\r\n    sessionStorage.setItem(\"BKRMopening\",id)\r\n    if (id === 1 || id === 4 || xsScreen) {\r\n      dispatch(customizeAction.setSidebarOpen(false));\r\n    }\r\n    dispatch(customizeAction.setItemMenuOpen(id));\r\n    if (collapse) { setOpen(!open) }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ListItem\r\n        button\r\n        component={Link}\r\n        to={item.url}\r\n        // className={classes.item}\r\n        className={clsx([classes.item], {\r\n          [classes.itemClick]: Math.floor(itemMenuOpen) === Math.floor(item.id),\r\n        })}\r\n        onClick={() => handleOnClick(item.id)}\r\n\r\n      >\r\n        <ListItemIcon style={{ marginRight: -6, paddingTop: 2, paddingBottom: 2, marginLeft: -7 }}>\r\n\r\n          {getMenuIcon(theme.customization.menu)}\r\n\r\n          {/* { getMenuIcon(1)} */}\r\n        </ListItemIcon>\r\n        {/* <ListItemIcon >\r\n              <Box\r\n                component=\"img\"\r\n                sx={{\r\n                  height: 24,\r\n                  width: 24, \r\n                }}\r\n                src={item.icon}\r\n              />\r\n          </ListItemIcon> */}\r\n\r\n        <Typography\r\n          className={clsx([classes.menuText], {\r\n            [classes.menuTextClick]: Math.floor(itemMenuOpen) === Math.floor(item.id),\r\n          })}\r\n        >\r\n          {item.title}\r\n        </Typography>\r\n\r\n        {collapse ?\r\n          open ? <ExpandLess className={classes.openIcon} fontSize=\"small\" /> : <ExpandMore className={classes.openIcon} fontSize=\"small\" />\r\n          : null}\r\n      </ListItem>\r\n\r\n\r\n      {collapse ?\r\n        <Collapse in={open} timeout=\"auto\">\r\n          <List component=\"div\" style={{/*marginRight:25*/marginTop: -7 }} >\r\n            {item.children.map((_item) => (\r\n              <SubItem item={_item} />\r\n            ))}\r\n          </List>\r\n        </Collapse>\r\n        : null}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MenuItem\r\n","\r\nimport React from 'react'\r\nimport {makeStyles } from '@material-ui/styles';\r\n\r\n// import library\r\nimport { Collapse, Divider, List, ListItem, ListItemText, Typography } from '@material-ui/core';\r\nimport {ExpandLess,ExpandMore, TrendingUpOutlined} from \"@material-ui/icons\";\r\n\r\n// import project\r\nimport MenuItem from '../MenuItem/MenuItem';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    menuCaption: {\r\n        ...theme.typography.menuCaption,\r\n        marginLeft:-20,\r\n    },\r\n    collapse:{\r\n        marginBottom:-10,\r\n        marginTop:-10,\r\n    },\r\n    menuDivider:{\r\n       marginRight:20,\r\n       marginTop:-5,\r\n    },\r\n    openIcon:{\r\n        marginRight:10,\r\n    },\r\n  \r\n}));\r\n\r\n\r\nconst MenuGroup = (props) => {\r\n    const { item } = props;\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = React.useState(true);\r\n\r\n    return (\r\n        <>\r\n            <List\r\n                component=\"nav\"\r\n                aria-labelledby=\"nested-list-subheader\"\r\n            >\r\n                <ListItem    \r\n                    onClick={() => setOpen(!open)}\r\n                    className={classes.collapse}\r\n                >\r\n                    <ListItemText\r\n                        primary={\r\n                            <Typography variant=\"caption\" className={classes.menuCaption} >\r\n                                {item.title}\r\n                            </Typography>\r\n                        } />\r\n                    {open ? <ExpandLess className={classes.openIcon}  /> : <ExpandMore className={classes.openIcon} />}\r\n                </ListItem>\r\n                \r\n                <Collapse in={open} timeout=\"auto\">\r\n                    <List component=\"div\" style={{marginRight:25}} >\r\n                        {item.children.map((_item) => (\r\n                            _item.children ? <MenuItem  item={_item} collapse={true}  />: <MenuItem  item={_item} collapse={false} />\r\n                        ))}\r\n                    </List>\r\n                </Collapse>\r\n                \r\n\r\n            </List>\r\n            {/* group divider */}\r\n            <Divider className={classes.menuDivider} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MenuGroup\r\n","export default __webpack_public_path__ + \"static/media/cart1.2c98ae74.png\";","export default __webpack_public_path__ + \"static/media/invoice.95b01f1b.png\";","export default __webpack_public_path__ + \"static/media/invoiceReturn.fdbe524f.png\";","export default __webpack_public_path__ + \"static/media/inventory2.a79147b3.png\";","export default __webpack_public_path__ + \"static/media/inventoryOrder1.56a69882.png\";","export default __webpack_public_path__ + \"static/media/inventoryReturn.df85c8b2.png\";","export default __webpack_public_path__ + \"static/media/supplier4.a7432ad6.png\";","export default __webpack_public_path__ + \"static/media/magnifiers.ac96602e.png\";","export default __webpack_public_path__ + \"static/media/python.07a98139.png\";","export default __webpack_public_path__ + \"static/media/employee7.9d8eaa50.png\";","export default __webpack_public_path__ + \"static/media/hourglass.8814ed25.png\";","export default __webpack_public_path__ + \"static/media/schedule3.25ed157a.png\";","export default __webpack_public_path__ + \"static/media/piggy-bank.f4970ea4.png\";","export default __webpack_public_path__ + \"static/media/branch5.2d8409a6.png\";","export default __webpack_public_path__ + \"static/media/customer.9b76f10b.png\";","export default __webpack_public_path__ + \"static/media/www.75d48f8b.png\";","export default __webpack_public_path__ + \"static/media/history3.967bb096.png\";","import React, { useEffect } from \"react\";\r\n\r\n//import project\r\nimport MenuGroup from \"./MenuGroup/MenuGroup\";\r\n\r\n//import icon\r\nimport cartIcon from \"../../assets/img/icon/cart1.png\";\r\nimport invoiceIcon from \"../../assets/img/icon/invoice.png\";\r\nimport invoiceReturnIcon from \"../../assets/img/icon/invoiceReturn.png\";\r\n\r\nimport importIcon from \"../../assets/img/icon/inventory1.png\";\r\nimport inventoryIcon from \"../../assets/img/icon/inventory2.png\";\r\nimport inventoryOrderIcon from \"../../assets/img/icon/inventoryOrder1.png\";\r\nimport inventoryReturnOrderIcon from \"../../assets/img/icon/inventoryReturn.png\";\r\nimport suplierIcon from \"../../assets/img/icon/supplier4.png\";\r\nimport orderIcon from \"../../assets/img/icon/python.png\";\r\nimport orderListIcon from \"../../assets/img/icon/check1.png\";\r\nimport checkIcon from \"../../assets/img/icon/magnifiers.png\";\r\nimport checkHistoryIcon from \"../../assets/img/icon/hourglass.png\";\r\n\r\nimport employeeIcon from \"../../assets/img/icon/employee7.png\";\r\nimport scheduleIcon from \"../../assets/img/icon/schedule3.png\";\r\n\r\nimport historyIcon from \"../../assets/img/icon/piggy-bank.png\";\r\nimport branchIcon from \"../../assets/img/icon/branch5.png\";\r\nimport customerIcon from \"../../assets/img/icon/customer.png\";\r\nimport statisticIcon from \"../../assets/img/icon/statistics.png\";\r\n\r\nimport webIcon from \"../../assets/img/icon/www.png\";\r\nimport settingIcon from \"../../assets/img/icon/setting.png\"\r\nimport deliveryIcon from \"../../assets/img/icon/history3.png\";\r\n\r\n//ICON\r\nimport PaletteOutlinedIcon from \"@material-ui/icons/PaletteOutlined\";\r\nimport DoneOutlinedIcon from \"@material-ui/icons/DoneOutlined\";\r\n\r\nimport ShoppingCartOutlinedIcon from \"@material-ui/icons/ShoppingCartOutlined\";\r\nimport LoyaltyOutlinedIcon from \"@material-ui/icons/LoyaltyOutlined\";\r\nimport RestorePageOutlinedIcon from \"@material-ui/icons/RestorePageOutlined\";\r\n\r\nimport AddCircleOutlineOutlinedIcon from \"@material-ui/icons/AddCircleOutlineOutlined\";\r\nimport AddOutlinedIcon from \"@material-ui/icons/AddOutlined\";\r\nimport PlaylistAddOutlinedIcon from \"@material-ui/icons/PlaylistAddOutlined\";\r\nimport ThumbUpAltOutlinedIcon from \"@material-ui/icons/ThumbUpAltOutlined\";\r\nimport LibraryBooksOutlinedIcon from \"@material-ui/icons/LibraryBooksOutlined\";\r\nimport ReceiptOutlinedIcon from \"@material-ui/icons/ReceiptOutlined\";\r\nimport SyncProblemOutlinedIcon from \"@material-ui/icons/SyncProblemOutlined\";\r\nimport AddIcCallOutlinedIcon from \"@material-ui/icons/AddIcCallOutlined\";\r\nimport FindInPageOutlinedIcon from \"@material-ui/icons/FindInPageOutlined\";\r\nimport FindInPageTwoToneIcon from \"@material-ui/icons/FindInPageTwoTone\";\r\nimport ImageSearchOutlinedIcon from \"@material-ui/icons/ImageSearchOutlined\";\r\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\r\nimport ExtensionOutlinedIcon from \"@material-ui/icons/ExtensionOutlined\";\r\nimport FavoriteBorderOutlinedIcon from \"@material-ui/icons/FavoriteBorderOutlined\";\r\n\r\nimport LocalShippingOutlinedIcon from \"@material-ui/icons/LocalShippingOutlined\";\r\n\r\nimport AccountCircleOutlinedIcon from \"@material-ui/icons/AccountCircleOutlined\";\r\nimport EventAvailableOutlinedIcon from \"@material-ui/icons/EventAvailableOutlined\";\r\n\r\nimport DonutSmallOutlinedIcon from \"@material-ui/icons/DonutSmallOutlined\";\r\nimport LanguageOutlinedIcon from \"@material-ui/icons/LanguageOutlined\";\r\nimport RestoreOutlinedIcon from \"@material-ui/icons/RestoreOutlined\";\r\nimport StorefrontOutlinedIcon from \"@material-ui/icons/StorefrontOutlined\";\r\n\r\n//ICON 2 COLOR\r\nimport PaletteTwoToneIcon from \"@material-ui/icons/PaletteTwoTone\";\r\nimport DoneTwoToneIcon from \"@material-ui/icons/DoneTwoTone\";\r\n\r\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\r\nimport LoyaltyTwoToneIcon from \"@material-ui/icons/LoyaltyTwoTone\";\r\nimport RestorePageTwoToneIcon from \"@material-ui/icons/RestorePageTwoTone\";\r\n\r\nimport AddCircleTwoToneIcon from \"@material-ui/icons/AddCircleTwoTone\";\r\nimport AddTwoToneIcon from \"@material-ui/icons/AddTwoTone\";\r\nimport PlaylistAddTwoToneIcon from \"@material-ui/icons/PlaylistAddTwoTone\";\r\nimport ThumbUpAltTwoToneIcon from \"@material-ui/icons/ThumbUpAltTwoTone\";\r\nimport LibraryBooksTwoToneIcon from \"@material-ui/icons/LibraryBooksTwoTone\";\r\nimport ReceiptTwoToneIcon from \"@material-ui/icons/ReceiptTwoTone\";\r\nimport SyncProblemTwoToneIcon from \"@material-ui/icons/SyncProblemTwoTone\";\r\nimport AddIcCallTwoToneIcon from \"@material-ui/icons/AddIcCallTwoTone\";\r\nimport ImageSearchTwoToneIcon from \"@material-ui/icons/ImageSearchTwoTone\";\r\nimport SearchTwoToneIcon from \"@material-ui/icons/SearchTwoTone\";\r\nimport ExtensionTwoToneIcon from \"@material-ui/icons/ExtensionTwoTone\";\r\nimport FavoriteTwoToneIcon from \"@material-ui/icons/FavoriteTwoTone\";\r\n\r\nimport LocalShippingTwoToneIcon from \"@material-ui/icons/LocalShippingTwoTone\";\r\n\r\nimport AccountCircleTwoToneIcon from \"@material-ui/icons/AccountCircleTwoTone\";\r\nimport EventAvailableTwoToneIcon from \"@material-ui/icons/EventAvailableTwoTone\";\r\n\r\nimport DonutSmallTwoToneIcon from \"@material-ui/icons/DonutSmallTwoTone\";\r\nimport LanguageTwoToneIcon from \"@material-ui/icons/LanguageTwoTone\";\r\nimport RestoreTwoToneIcon from \"@material-ui/icons/RestoreTwoTone\";\r\nimport StorefrontTwoToneIcon from \"@material-ui/icons/StorefrontTwoTone\";\r\n\r\nconst icons = {\r\n  PaletteOutlinedIcon,\r\n  LoyaltyOutlinedIcon,\r\n  DoneOutlinedIcon,\r\n  DonutSmallOutlinedIcon,\r\n  LanguageOutlinedIcon,\r\n  RestorePageOutlinedIcon,\r\n  RestoreOutlinedIcon,\r\n  StorefrontOutlinedIcon,\r\n  AccountCircleOutlinedIcon,\r\n  EventAvailableOutlinedIcon,\r\n  LocalShippingOutlinedIcon,\r\n  SearchOutlinedIcon,\r\n  AddIcCallOutlinedIcon,\r\n  RestorePageOutlinedIcon,\r\n  ShoppingCartOutlinedIcon,\r\n  ReceiptOutlinedIcon,\r\n  FavoriteBorderOutlinedIcon,\r\n  ExtensionOutlinedIcon,\r\n  SyncProblemOutlinedIcon,\r\n  ThumbUpAltOutlinedIcon,\r\n  PlaylistAddOutlinedIcon,\r\n  AddOutlinedIcon,\r\n  AddCircleOutlineOutlinedIcon,\r\n  LibraryBooksOutlinedIcon,\r\n  ImageSearchOutlinedIcon,\r\n  FindInPageOutlinedIcon,\r\n};\r\nconst icons1 = {\r\n  PaletteTwoToneIcon,\r\n  LoyaltyTwoToneIcon,\r\n  DoneTwoToneIcon,\r\n  DonutSmallTwoToneIcon,\r\n  LanguageTwoToneIcon,\r\n  RestorePageTwoToneIcon,\r\n  RestoreTwoToneIcon,\r\n  StorefrontTwoToneIcon,\r\n  AccountCircleTwoToneIcon,\r\n  EventAvailableTwoToneIcon,\r\n  LocalShippingTwoToneIcon,\r\n  SearchTwoToneIcon,\r\n  AddIcCallTwoToneIcon,\r\n  RestorePageTwoToneIcon,\r\n  ShoppingCartTwoToneIcon,\r\n  ReceiptTwoToneIcon,\r\n  FavoriteTwoToneIcon,\r\n  LibraryBooksTwoToneIcon,\r\n  ExtensionTwoToneIcon,\r\n  SyncProblemTwoToneIcon,\r\n  ThumbUpAltTwoToneIcon,\r\n  PlaylistAddTwoToneIcon,\r\n  AddTwoToneIcon,\r\n  AddCircleTwoToneIcon,\r\n  ImageSearchTwoToneIcon,\r\n  FindInPageTwoToneIcon,\r\n};\r\n\r\nconst salesModule = {\r\n  title: \"Bán hàng\",\r\n  children: [\r\n    {\r\n      id: 1,\r\n      title: \"Giỏ Hàng\",\r\n      url: \"/home/sales/cart\",\r\n      icon: cartIcon,\r\n      icon1: icons.ShoppingCartOutlinedIcon,\r\n      icon2: icons1.ShoppingCartTwoToneIcon,\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Hóa Đơn\",\r\n      url: \"/home/sales/invoice\",\r\n      icon: invoiceIcon,\r\n      icon1: icons.LoyaltyOutlinedIcon,\r\n      icon2: icons1.LoyaltyTwoToneIcon,\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Đơn Trả\",\r\n      url: \"/home/sales/invoice-return\",\r\n      icon: invoiceReturnIcon,\r\n      icon1: icons.RestorePageOutlinedIcon,\r\n      icon2: icons1.RestorePageTwoToneIcon,\r\n    },\r\n  ],\r\n};\r\n\r\nconst inventoryModule = {\r\n  title: \"Kho Hàng\",\r\n  children: [\r\n    {\r\n      id: 4,\r\n      title: \"Nhập Hàng\",\r\n      url: \"/home/inventory/import\",\r\n      icon: importIcon,\r\n      icon1: icons.AddCircleOutlineOutlinedIcon,\r\n      icon2: icons1.AddCircleTwoToneIcon,\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"Sản phẩm\",\r\n      url: \"/home/inventory/inventory\",\r\n      icon: inventoryIcon,\r\n      icon1: icons.ThumbUpAltOutlinedIcon,\r\n      icon2: icons1.ThumbUpAltTwoToneIcon,\r\n    },\r\n    {\r\n      id: 6,\r\n      title: \"Đơn Nhập Hàng\",\r\n      url: \"/home/inventory/receipt\",\r\n      icon: inventoryOrderIcon,\r\n      icon1: icons.LibraryBooksOutlinedIcon,\r\n      icon2: icons1.LibraryBooksTwoToneIcon,\r\n    },\r\n    {\r\n      id: 7,\r\n      title: \"Đơn Trả Hàng Nhập\",\r\n      url: \"/home/inventory/returns\",\r\n      icon: inventoryReturnOrderIcon,\r\n      icon1: icons.SyncProblemOutlinedIcon,\r\n      icon2: icons1.SyncProblemTwoToneIcon,\r\n    },\r\n    {\r\n      id: 9,\r\n      title: \"Đặt Hàng\",\r\n      url: \"/home/inventory/order-list\",\r\n      icon: orderListIcon,\r\n      icon1: icons.AddIcCallOutlinedIcon,\r\n      icon2: icons1.AddIcCallTwoToneIcon,\r\n    },\r\n    {\r\n      id: 11,\r\n      title: \"Kiểm Kho\",\r\n      url: \"/home/inventory/check-history\",\r\n      icon: checkIcon,\r\n      icon1: icons.FindInPageOutlinedIcon,\r\n      icon2: icons1.FindInPageTwoToneIcon,\r\n    },\r\n    {\r\n      id: 12,\r\n      title: \"Nhà Cung Cấp\",\r\n      url: \"/home/inventory/supplier\",\r\n      icon: suplierIcon,\r\n      icon1: icons.ExtensionOutlinedIcon,\r\n      icon2: icons1.ExtensionTwoToneIcon,\r\n    },\r\n  ],\r\n};\r\nconst deliveryModule = {\r\n  title: \"Giao hàng\",\r\n  children: [\r\n    {\r\n      id: 13,\r\n      title: \"Đơn giao hàng\",\r\n      url: \"/home/delivery/delivery\",\r\n      icon: deliveryIcon,\r\n      icon1: icons.LocalShippingOutlinedIcon,\r\n      icon2: icons1.LocalShippingTwoToneIcon,\r\n    },\r\n  ],\r\n};\r\nconst hrModule = {\r\n  title: \"Nhân Sự\",\r\n  children: [\r\n    {\r\n      id: 14,\r\n      title: \"Nhân Viên\",\r\n      url: \"/home/hr/employee\",\r\n      icon: employeeIcon,\r\n      icon1: icons.AccountCircleOutlinedIcon,\r\n      icon2: icons1.AccountCircleTwoToneIcon,\r\n    },\r\n    {\r\n      id: 15,\r\n      title: \"Ca Làm Việc\",\r\n      url: \"/home/hr/schedule\",\r\n      icon: scheduleIcon,\r\n      icon1: icons.EventAvailableOutlinedIcon,\r\n      icon2: icons1.EventAvailableTwoToneIcon,\r\n    },\r\n  ],\r\n};\r\nconst reportModule = {\r\n  title: \"Quản Lý\",\r\n  children: [\r\n    {\r\n      id: 16,\r\n      title: \"Lịch Sử Hoạt Động\",\r\n      url: \"/home/manager/history\",\r\n      icon: historyIcon,\r\n      icon1: icons.RestoreOutlinedIcon,\r\n      icon2: icons1.RestoreTwoToneIcon,\r\n    },\r\n    {\r\n      id: 17,\r\n      title: \"Cửa Hàng\",\r\n      url: \"/home/manager/branch\",\r\n      icon: branchIcon,\r\n      icon1: icons.StorefrontOutlinedIcon,\r\n      icon2: icons1.StorefrontTwoToneIcon,\r\n    }, \r\n    {\r\n      id: 18,\r\n      title: \"Khách Hàng\",\r\n      url: \"/home/manager/customer\",\r\n      icon: customerIcon,\r\n      icon1: icons.FavoriteBorderOutlinedIcon,\r\n      icon2: icons1.FavoriteTwoToneIcon,\r\n    },\r\n    {\r\n      id: 19,\r\n      title: \"Cài đặt\",\r\n      url: \"/home/manager/setting\",\r\n      // icon: webIcon,\r\n      icon: settingIcon,\r\n      icon1: icons.LanguageOutlinedIcon,\r\n      icon2: icons1.LanguageTwoToneIcon,\r\n      children: [\r\n        { id: 19.1, title: \"Cài đặt chung\", url: \"/home/manager/setting\" },\r\n        { id: 19.2, title: \"Khuyến mãi\", url: \"/home/manager/setting-discount\" },\r\n        { id: 19.3, title: \"Voucher\", url: \"/home/manager/setting-voucher\" },\r\n        { id: 19.4, title: \"Mẫu email\", url: \"/home/manager/setting-email\" },\r\n        { id: 19.5, title: \"Trang web\", url: \"/home/manager/setting-web\" },\r\n      ],\r\n    },\r\n    {\r\n      id: 20.1,\r\n      title: \"Thống Kê\",\r\n      url: \"/home/manager/report\",\r\n      icon: statisticIcon,\r\n      icon1: icons.DonutSmallOutlinedIcon,\r\n      icon2: icons1.DonutSmallTwoToneIcon,\r\n      children: [\r\n        { id: 20.1, title: \"Tổng quan\", url: \"/home/manager/report\" },\r\n        { id: 20.2, title: \"Sổ quỹ\", url: \"/home/manager/report\" },\r\n        { id: 20.3, title: \"Báo cáo cuối ngày\", url: \"/home/manager/report\" },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nconst menuItems = {\r\n  items: [salesModule, inventoryModule, deliveryModule, hrModule, reportModule],\r\n};\r\n\r\nconst MenuList = ({ permissions }) => {\r\n  // const navItems = menuItems.items.map((item) => {\r\n  //     return <MenuGroup  item={item} />;\r\n  // });\r\n  useEffect(() => {}, [permissions]);\r\n  return (\r\n    <>\r\n      {permissions?.find((p) => p.name === \"sales\") && (\r\n        <MenuGroup item={salesModule} />\r\n      )}\r\n      {permissions?.find((p) => p.name === \"inventory\") && (\r\n        <MenuGroup item={inventoryModule} />\r\n      )}\r\n      {permissions?.find((p) => p.name === \"employee\") && (\r\n        <MenuGroup item={hrModule} />\r\n      )}\r\n      {permissions?.find((p) => p.name === \"report\") && (\r\n        <MenuGroup item={reportModule} />\r\n      )}\r\n    </>\r\n  );\r\n\r\n  // return navItems;\r\n};\r\n\r\nexport default MenuList;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAQhElEQVR4nM2beVhV5fbHP+/e5xwmBRxQUQtRcEBUUhTJKa1MI71mWZZzerWcNdM0p+qWdbvmT80h03tLHHLC4Zc5puCUWg4ZaKKGOCsqMsM5Z+/3/nEAQTlwDkLe7/Oc5znsvfZ61/fLe9693rXXFvy1qAjUBqrlfvKgAbdzP4lAxl8VkChn/82AF4AwRTW21DXLEw6EJFXVcEnTLMeB/cAuILa8AiwPARoDf1dU9XVd02oA1KgToNV/qrXq6x+Ir399vH1q4OLugYenF7quk5WeRlZaKvdu3+Dan/Fcu/AH504e1ZKuXFQBFFW9rmtaJPAdcLosgy0rAQTQTajqFKlpYarRqLfoFCFav/iqCArrQKVqvqVymnQ1kbif93J4W5T8bd8OdE0TQqgHpdT+AWwvq8AfFS8oivKZrushPrX8rN2Gvmto0603Fbwrl4Hr+0i5fZP9m1exdekc7e7Na6qiGE7ounUssO9R/D6KAL7AHOD1Gn71tF7jZqrhEb1QVcOjxFMirBYz+6IiWT/3Y+3OjSsKsAJ4D7hZGn+lFeBlRVG/U41Gj54jpyjdh07AYDSV0lXpkJOVycYFs9iy5AsppUzWNa0PpfhZOCuAEfgMGFe3aag+dt4qtfqTdZ0ds0xx5dxp5ozsrV85d1oAnwNTsd1WHYLqxFjuQoiNCNH/xUGjxZh5KxXPylWdjbfM4VnFh469BoqUpJsiIe5EW4QIBrYAVkeud1QAbyHU7Qg6Dvt0sXh5+GQU1RntyheqwUjoc91wq1CRU/t3NRKq2gEpNwA5JV7ryAAmN7fRIAeOmbdKadejzyMHXF6o3zycGn71+HXXlidBPA1yNSX8HEpcstdKqWbGpoRnpiYrVXwdSOQeM9r16IOUUiyYMKiDEGK1lLIXxYhQ0gwY6usdOLVuk+Y93Ct6lW2k5Qi/Rk2pWKkKJ6K3NcK20O+1Z1ucAC8DkfWahTZsGNqmrGMsdwQ0a0XSlYsk/nGqPXAYuFCUnd3boIeX925f/wbPfLQ2WlUNxvKKs1yRk5nB+91baTcunr+n61oD4M6DNkUKIKUUK06nRQtVbW80uZR7oI8Cq8VM4plTmLOzqBXQEM/KPoXOJ545xfvdW0pd05YBf3/weqUIn6F1mzTfa3R1+58mL6Xkh6VfMrRlTab0aM3M3h0ZFlabBe8OJDMtJd/Or1FTXhw4WgCDgacf9PPQDDAYTYe8faq3WnAg4X/nRv8ApK6z+P2hRK//lk4dn6V//wF4eXmze/dOFn+9iLrBzZm5NiY/Pc/KSGNMx4ZaavLtg1LTOhT09SDJcF3XZr42bqYSGBL2V/FxCgXJT/1gOosWLiE4uAkBAYF07tyFgHoBLPv6KzwrVyWPg9HkgmowKiejt/thuyMk5vkrNANU1bCjQqXKnefsPoWH5+NPcx9EQfLTp81k8vsfFGnXMqw5ukclZqzek3/MnJ3F8Lb+WnrynV1Syq55xwuuAUGapnXu0v9tjMby3dKWBo6SBwgICCQlqfDu2OTqRtcBI1WgM5Cf0RUUoJdQBG269UJKHSkd3lCVO5whL6UkNvZ3qtR68qFz7Xv2A9usH5h3LF8Ak4vrmw1bhOPtUx0A3WopOwaPAGfIA3y9ZDHnz5+jTbfeD53zqeVHw5ZtUQyG/JN5AgSYc7Lrhz7/Ur6xrj9+AZwlv379WiZMHE9Ihxdo/3LfIm3CuvQUutUaRO7PIE+ArgAtOnW5P7hmBWSRTnIyM7hz/TKa5tCWu1QoDflBgwfQMLQN4xestbtdD366U97XF+C+ACFeVXyoXKPW/QCQaFZzoYtPxuxgeq929A/2Yngbf94Oq82mRZ+ha2W7XpSWfIPQNkxaugUXdw+7trUDg6hYqaoGhEGuAEaTS5hfUNOHjHXtvgAbF85i1qAILMm3+HDmx3w5ey5hLVqw+oupzBvbF62M1ozyJA8ghKBukxaqohhCwVYPMGiatX6dhk0eMtZ1C1LqnDl6gDWzp/Pqq6+xZPFS3NzcAHjn7eF8OedfTJ02BV3TGDNvJY+ycSpv8nmoFdCQU/t3BgGKAjypa5qxul8RxU0JujWHHcsXUNWnGgu+WpRPPg/jx03gi39+ydEdG5k7uk+pZ4Kz5NetW1Mq8gA1/esjpTQBVRXAC8DD07tIY6s1h4unTxLeOhzPip5F2owYPvKRRCgN+beGDCwVeQCvqtXzvvoq2J7Y4lahgr3oUBQFqevFOi2tCH81eQD3+//IKgrgaTtov+RVp3EIBw4eIDn5brGOnRXhcZAHcPWomPdVVbA97CgWnfsO4V7KPUaOHoFeRjPhcZEH250gF4oC3AXIzki3e0Hd4KfoPX4GUVHreWf40EcW4XGSB9vOMBc5BvIEyCy+KaPrwHcQioHl//wAKSWLF32DohRVULJhxPCRuLi4MHrMCOaOepMx81ehGoxIKVk6fSTR679l2tQZJZKPilrPW0MGEhASxsSlmx+ZPED6vfyfcpKB3EJhctKNEi/sOvBthFCI/HwyQIkiDBlsK8HliTB63kr+8+FYdq9awrSpM5gyeWqx40VFrWfAoH4EhIQx+dutuLrbWaidxN2bV/O+3jQASYqiWq8nnC+xCCB1jYjBo7GYc4icMxNwTIScnBzemzie0c804M71y49l2hfErcsXURQ1U9e1OwbAohoMcdcTzjdz5GLNksUro2zBOyrCiOEjAZg46V1mTP+Q9ydNKXaM0pJPuprIr7u2cPpIDJfOxpF+7w5VfGszas5ynqgfnG+X+McpKYSIBWTecrjAs4rP8PnRsQVXSLtQja4YjO5smP8P1s6ZSb++/UsUASAtPY2KFSoWa+Mo+T9+PcDJ6O3EH/+ZawnxpN6+hVZgU6YoAleTSma2FdVgYOGhRLyrVkdKyeDm1bSMlORlwLC8af9L6p0krl2Ip1ZAgxIF0CzZqKqRV0ZNxWhycXhNKIm8vQXv/G+/sOf7pVyIPU7S5QQy01KQ8v5W3WRUqFnNnUb1KtE6pAYRHf0Irl8FgE8WHuPTRb+yYd7HDP7oKy7Hx5GRkqxi60DLfzgaA4LTR/Y7JACAJScTo6sn3Ye9B+CwCMWRL2rBm/1OL47u2Jhv5+FupIG/N80aVaF9q5pEPOOPT2VXu35bBNuKu5mptmcFJ2O2g63QsQvuC5BgcnE9eXTnlpDn+wxxKGApNTRLJgaTRyERsnNy+M+y71Cd6B+wR/704RiO7tiIT2U3Fsxoz/Ptn8RkcFzcpLvZDJpkqwy/0H84APuiInVFMZzSdetNKPB43JyT9V388SMhSVcv4VNEQbEoaNYchGpEVU35IqzMnQmOilDcrW7PmmU2X58/S8fWtey5KBJJd7Np9tJqmZpuFhGDx1K/eTgX405yOT5OASLz7ArKuRaQBzavcWogqzkjv4Lcfdh79Jk0K3+rqpVQKSrpPp9w+iRCQIdWzpG/nZxNyEurZUqaWXQZMIL+H/wLgJio5QghrMDKPNuCAlxDUbbsWrm0xKywEKTEkpMOuYuSoyI4kuTcvnYJzwomnFlSUtLMNI1YLe+lmcWLg8YwaMZcALIz04nZsFyTsJkCLXWFXEtNm5Geeo+9a79zfERsCZLFnJ5fQ+0+7D1eGzeTdevW8PY7QzGbC9cWV61eQf+BfWkQ2oYp3/5YJHnNYiE7I506tYuuQdjD1uiLpKSZhbunF30mzco/vjNyERmp9xSk/KSg/YPZ328G1bhl67+/6t6+55t2iyRFQdcsaJZMVJM7AK+MsqW5K+bM5MTJ4/TvO4CKnp5s37GNLVs2ERz+DBO/sZ/b/37oJwCaB/kUed4e3uxWn/XbLrBj/yXGPtuQOT+dISczg02LPteEENuklCcK2j+0Sum6dsacnTUsKyNdhLR/3qnBdd2KEKAoth12UFh7nggM4peYXWzc8D1bf/yBK9dv8NLgcQz7bAkmVze7vrYvX8D5k0cZ/9ZTBAVUciqO1yMCORabxKnYS+zfuILb1y5x9tghPbdf6FZBW3tp32xFUcdPW7GVek2bOzU4gMHojmosfG++e+MqOdmZVHvC36F22mmvtCX+xGFuHhlMBffSPavsOXwbO/ZfyvtzNjDhQRt7y8tUg8l0cdHEYYWaDRyF1ZKJbi3cole5Ri186wQ63Et8PfE8ri5qqckDRC3syovP+AEgBP4U0RVnT4Asc3ZW76Rrl/Vl08cVSjsdhcWcgWbJdvq6PGTcu0ut6o++/V03vwuzJoQjJT0VhZU8IEJxmcpVpMy89md8Z91qJah1O6cH13ULAlBU554VXDkXx47IRbQNrcmrXeo5Pe6DCAupTkUPE7sPXmmsKDSUkk2ADiX3CR4CKp89fjjMw8ubek1bOD24rlttlWXV8W7yPWv+TeyhPQzpFUSrZtULnUtNN7Pn5ysE1nH8DgU2EVxdDOz5+WpjoCrwIzjWKrtTqGrw7/t/CnJx9yAwpKVTA4MtT5CaFUU1ObTd3rhwFjcSLzB3Wju8Pe83at1OzqZx11VEbjrLuYsp9HjeuU71p5vXwKpJDh673hKIA047IoBEyi1CVZvEHtzb0GoxExTWziEihZxIHV2zIFQjQhSf2n0/exrmzDQ+mxiefyw3tyclzYyLmwenztzkz8up/O05f6fiaN+yJj9GJ+p372UH67pc6GiSmS01rScw5/+/mcvc0QPISEl2amCw7SAt2alo1uKbuDNSknF3u79WFSTfdeAolvxyFa8q1fj+h3MMnrynGE8PQ1EEf389SLFY9cZAfWc27jowHhh5ImanPq3Xs8QfP+LU4DZIrOYMrDnpSFl0ed2ranXS0s18s/Y0+3+9RtOI++QHTp+Dq3sF5sXE54swdKrdVuAikVcsAWqVphfwF6TcZrWYO0WvX1H5zvWrBD7VChc3+1ldUZBSQ9fMCEVBKIXDqNOoGfuiItkWk8iKzfHkmDUi3hrDgGlf5tuk3LlF0uUELp39nd/P3sG3mgdPOZg2J1xJZcWmswArStsMeU2zWr8GxKX4uLbRGyKFZjHzZIPGGF3sV2cehrT1IEgNoaj5a4NPLT/adH+DjJRkavjVY8jHC3juzaGA7eexbu5HzB/bT7945jcd+D8hSNkWkxhQw8cxEdZtu0D0kasSGFsWr801VlR1utT1Xq7uFUTHXv1o1+MNh0tr+RAC1eCKweAKRSyw508eZd/GFeyLitSyMtIUhNiMlB9ge5HSJARRQMS86e1569VGdodJSTPT/G9rtKS7Wfs0TXYqyzdHGyiKMhV4Q9d1tU5QU0KfiyAorB3+wSEOp8BCKKhGNzSrTkLcCeIOR7MvaoV+PSFeEUKxSqmvwfa63rEHLs0X4dN3wxnVv+lDOqamm+kzfpfce/iKLiUhQGx5vDpbGehpdHHtZzXntJNSClf3CvgFNcHXrx41/AOo5FMdF3cPXN09EEKgaRppd2+TcvsW1xP/JCH2BJfOxuX1Hkmhqsekpq0EvgeKe4RlEoJVUvJK21BffchrQUpwYBUysiz8fOIG85ef0q4nZeq6LvsA68qB+0OoBvQEPlFVwy6D0ZiCrWxi96MajOlCqAeB+UBvCr9l7ggEMFxVxM0HfRtUsZvc5qiCxn813IBK2GZKJcAFSAaygMtAWhmNowAtAH/gHnAm138h/Bd5i4J/2BcdHAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAA40lEQVR4nO3RUQrCMBQAwdYz5f4nyJ30SyiC1VIpC878hRdeArssAAAAAAAAwP9a3w3mnPfteYyx7s2P3vvWp32/+tfRf5/d9zp/uu09yvUEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREkRpAYQWIEiREEAAAAAAAAIOMBHbYkgPB3Xk8AAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/img.a2787e21.jpeg\";","import axios from \"axios\";\r\nimport axiosClient from \"./axiosClient\";\r\nconst productApi = {\r\n  createProduct: (storeUuid, params) => {\r\n    const url = `stores/${storeUuid}/products`;\r\n    return axiosClient.post(url, params, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n  addProductWithVaration: (storeUuid, params) => {\r\n    const url = `stores/${storeUuid}/products/addProductWithVariation`;\r\n    return axiosClient.post(url, params, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n  getProductsOfBranch: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/products`;\r\n    return axiosClient.get(url, { params: query });\r\n  },\r\n\r\n  getProduct: (storeUuid, productUuid, query) => {\r\n    const url = `stores/${storeUuid}/products/${productUuid}`;\r\n    return axiosClient.get(url, { params: query });\r\n  },\r\n\r\n  createCategory: (storeUuid, params) => {\r\n    const url = `stores/${storeUuid}/categories`;\r\n    return axiosClient.post(url, JSON.stringify(params));\r\n  },\r\n  getAllCategory: (storeUuid) => {\r\n    const url = `/stores/${storeUuid}/categories`;\r\n    return axiosClient.get(url);\r\n  },\r\n  getParentCategory: (storeUuid) => {\r\n    const url = `/stores/${storeUuid}/categories/parent`;\r\n    return axiosClient.get(url);\r\n  },\r\n  getSubCategory: (storeUuid, parentCategory) => {\r\n    const url = `/stores/${storeUuid}/categories/${parentCategory}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  deleteProduct: (storeUuid, productUuid) => {\r\n    const url = `stores/${storeUuid}/products/${productUuid}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n  searchProduct: (storeUuid, searchKey) => {\r\n    const url = `stores/${storeUuid}/products/`;\r\n    return axiosClient.get(url, { params: { searchKey: searchKey } });\r\n  },\r\n\r\n  searchBranchProduct: (storeUuid, branchUuid, searchKey) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/search-products/`;\r\n    return axiosClient.get(url, { params: { searchKey: searchKey } });\r\n  },\r\n\r\n  updateProduct: (storeUuid, productUuid, params) => {\r\n    const url = `stores/${storeUuid}/products/${productUuid}`;\r\n    return axiosClient.post(url, params, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n\r\n  getNestedCategory: (storeUuid) => {\r\n    const url = `stores/${storeUuid}/categories/getNestedCategory`;\r\n    return axiosClient.get(url);\r\n  },\r\n\r\n  searchDefaultProducts: (searchKey, page) => {\r\n    const url = `/searchDefaultProduct?searchKey=${searchKey}&page=${page}&limit=${15}`;\r\n    return axiosClient.get(url);\r\n  },\r\n\r\n  addCategory: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}/categories`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n\r\n  editCategory: (storeUuid, categoryUuid, body) => {\r\n    const url = `stores/${storeUuid}/categories/${categoryUuid}`;\r\n    return axiosClient.put(url, body);\r\n  },\r\n  deleteCategory: (storeUuid, categoryUuid) => {\r\n    const url = `stores/${storeUuid}/categories/${categoryUuid}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n\r\n  createBatch: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/createBatch`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n};\r\nexport default productApi;\r\n","import React from \"react\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nexport const VNDFormat = (props) => {\r\n  return (\r\n    <NumberFormat\r\n      {...props}\r\n      thousandSeparator\r\n      isNumericString\r\n      displayType=\"text\"\r\n      type=\"text\"\r\n      suffix=\" đ\"\r\n    />\r\n  )\r\n}\r\nexport const ThousandFormat = (props) => {\r\n  return (\r\n    <NumberFormat\r\n      {...props}\r\n      thousandSeparator\r\n      isNumericString\r\n      displayType=\"text\"\r\n      type=\"text\"\r\n      suffix=\"\"\r\n    />\r\n  )\r\n}\r\n\r\nfunction VNDFormatCustom(props) {\r\n  const { inputRef, onChange, ...other } = props;\r\n\r\n  return (\r\n    <NumberFormat\r\n      {...other}\r\n      getInputRef={inputRef}\r\n      onValueChange={(values) => {\r\n        onChange({\r\n          target: {\r\n            name: props.name,\r\n            value: values.value,\r\n          },\r\n        });\r\n      }}\r\n      thousandSeparator\r\n      isNumericString\r\n      suffix=\" đ\"\r\n    />\r\n  );\r\n}\r\n\r\nfunction NumberFormatCustom(props) {\r\n  const { inputRef, onChange, ...other } = props;\r\n\r\n  return (\r\n    <NumberFormat\r\n      {...other}\r\n      getInputRef={inputRef}\r\n      onValueChange={(values) => {\r\n        onChange({\r\n          target: {\r\n            name: props.name,\r\n            value: values.value,\r\n          },\r\n        });\r\n      }}\r\n      thousandSeparator\r\n      isNumericString\r\n    />\r\n  );\r\n}\r\n\r\nexport default function VNDInput(props) {\r\n  return (\r\n    <TextField\r\n      name=\"numberformat\"\r\n      InputProps={{\r\n        inputComponent: VNDFormatCustom,\r\n        inputProps: {\r\n          style: { textAlign: \"right\" },\r\n        }\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport function ThousandSeperatedInput(props) {\r\n  const { defaultPrice, value } = props\r\n  return (\r\n    <TextField\r\n      name=\"numberformat\"\r\n      defaultValue={defaultPrice}\r\n      value={value ? value : null}\r\n      InputProps={{\r\n        inputComponent: NumberFormatCustom,\r\n        inputProps: {\r\n          style: { textAlign: \"right\" },\r\n        }\r\n         \r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Card,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n  Button,\r\n  Dialog,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  Radio,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport {\r\n  useTheme,\r\n  withStyles,\r\n  makeStyles,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\n// import img\r\nimport icon from \"../../assets/img/product/img.jpeg\";\r\nimport barcodeIcon from \"../../assets/img/icon/barcode_grey.png\";\r\n\r\nimport InventoryData from \"../../assets/JsonData/inventory.json\";\r\nimport productApi from \"../../api/productApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { render } from \"sass\";\r\nimport { VNDFormat } from \"../TextField/NumberFormatCustom\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    input: {\r\n      borderRadius: \"20px\",\r\n    },\r\n  })\r\n);\r\n\r\nexport const CustomTextField = withStyles({\r\n  root: {\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": {\r\n        borderRadius: 14,\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nexport const FormatedImage = (props) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 53,\r\n        width: 53,\r\n        borderRadius: 10,\r\n        marginRight: 15,\r\n      }}\r\n      src={props.url}\r\n    />\r\n  );\r\n};\r\n\r\nconst SearchProduct = (props) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [selectedOption, setSelectedOption] = useState({});\r\n  const [options, setOptions] = React.useState([]);\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  const loadingData = async (searchKey) => {\r\n    try {\r\n      const response = await productApi.searchBranchProduct(\r\n        store_uuid,\r\n        branch_uuid,\r\n        searchKey\r\n      );\r\n      setOptions(response.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const renderOption = (option) => {\r\n    //display value in Popper elements\r\n    return (\r\n      <Grid\r\n        fullWidth\r\n        container\r\n        direction=\"row\"\r\n        style={{\r\n          backgroundColor: selectedOption.name\r\n            ? \"rgba(164,247,247,0.3)\"\r\n            : \"rgba(0,0,0,0)\",\r\n        }}\r\n      >\r\n        <Grid item xs={3}>\r\n          <FormatedImage url={option.img_url} />\r\n        </Grid>\r\n        <Grid item xs={9} container direction=\"column\">\r\n          <Typography variant=\"h5\">{`#${option.product_code}`}</Typography>\r\n          <Typography variant=\"h5\">{option.name}</Typography>\r\n          <Grid container item direction=\"row\" justifyContent=\"space-between\">\r\n            <Typography variant=\"body2\">\r\n              Tồn kho: {option.branch_quantity}\r\n            </Typography>\r\n           {props.isCart? \r\n           <Typography variant=\"body2\">\r\n           Giá bán: <VNDFormat value={option.list_price}></VNDFormat>\r\n         </Typography>:null} \r\n         {!props.isCart? \r\n            <Typography variant=\"body2\">\r\n              Giá nhập: <VNDFormat value={option.standard_price}></VNDFormat>\r\n            </Typography>:null} \r\n           \r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const renderInput = (params) => (\r\n    <CustomTextField\r\n      {...params}\r\n      id=\"autoValue\"\r\n      fullWidth\r\n      placeholder=\"Tìm sản phẩm (mã sp, tên)\"\r\n      variant=\"outlined\"\r\n      size=\"small\"\r\n      InputProps={{\r\n        ...params.InputProps,\r\n        startAdornment: (\r\n          <InputAdornment position=\"start\">\r\n            <SearchIcon style={{ color: grey[500] }} />\r\n          </InputAdornment>\r\n        ),\r\n        endAdornment: (\r\n          <InputAdornment position=\"end\">\r\n            <Box\r\n              component=\"img\"\r\n              sx={{ height: 23, width: 23 }}\r\n              src={barcodeIcon}\r\n            />\r\n          </InputAdornment>\r\n        ),\r\n\r\n        style: {\r\n          padding: \" 10px\",\r\n        },\r\n      }}\r\n      onKeyDown={(e) => {\r\n        if (e.key === \"Enter\") {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          // increase if selected\r\n          console.log(selectedOption);\r\n          if (selectedOption.name) {\r\n            props.handleSearchBarSelect(selectedOption);\r\n          } else {\r\n            setSelectedOption(options.length ? options[0] : {});\r\n          }\r\n        } else if (e.key === \"Backspace\") {\r\n          if (selectedOption?.name) {\r\n            // console.log(\"reset\");\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            setSelectedOption({});\r\n          }\r\n        } else {\r\n          const timer = setTimeout(() => {\r\n            if (e.target.value) {\r\n              loadingData(e.target.value);\r\n            }\r\n          }, 1);\r\n          return () => clearTimeout(timer);\r\n        }\r\n      }}\r\n    />\r\n  );\r\n\r\n  const getOptionLabel = (option) => (option.name ? option.name : \"\");\r\n\r\n  // just filter\r\n  const filterOptions = (options, state) => options;\r\n  return (\r\n    <div style={{ width: 320, paddingLeft: 20 }}>\r\n      <Tooltip\r\n        title={`Space: tìm kiếm, Tab để chọn lựa chọn đầu tiên và tăng số lượng, Delete để xóa lựa chọn hiện tại`}\r\n      >\r\n        <Autocomplete\r\n          options={selectedOption.name ? [selectedOption] : options}\r\n          freeSolo={true}\r\n          // CÁI NÀY ĐỂ SET GIÁ TRỊ TEXT FIELD\r\n          // inputValue={inputValue}\r\n\r\n          // BỎ CÁI NÀY TỰ EMPTY\r\n          autoComplete={false}\r\n          getOptionLabel={getOptionLabel}\r\n          onChange={(event, value) => {\r\n            if (value) {\r\n              setSelectedOption(value);\r\n            }\r\n          }}\r\n          renderInput={renderInput}\r\n          renderOption={renderOption}\r\n          filterOptions={filterOptions}\r\n          value={selectedOption}\r\n          // onKeyDown={(e) => {\r\n          //   if (e.key === \"Enter\") {\r\n          //     e.stopPropagation();\r\n          //     e.preventDefault();\r\n          //   }\r\n          // }}\r\n          blurOnSelect={false}\r\n        />\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchProduct;\r\n","import React from 'react';\r\n\r\n// material-ui\r\nimport { Typography,Card, Divider } from '@material-ui/core';\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\n\r\n\r\n//= =============================|| SAMPLE PAGE ||==============================//\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    backgroundColor: theme.palette.background,\r\n    borderRadius: theme.customization.borderRadius,\r\n    borderColor:theme.palette.primary.light,\r\n    margin:15\r\n    \r\n  },\r\n  headerTitle:{\r\n    padding: '20px',\r\n    fontSize: '0.85rem'\r\n  }\r\n})\r\n);\r\nconst CardWrapper = (props) => {\r\n    const {title, children}=  props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    return ( \r\n      <Card className={classes.root}>\r\n          <Typography className={classes.headerTitle} variant=\"h5\">\r\n                {title}\r\n              </Typography>\r\n            <Divider/>\r\n            {children}\r\n        \r\n        </Card>\r\n    )\r\n        \r\n\r\n};\r\n\r\nexport default CardWrapper;\r\n","import React from \"react\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\r\nimport clsx from \"clsx\";\r\nimport {updateLocalStorage} from \"../Customization\"\r\n// import library\r\n// import icon\r\nimport {\r\n  red,\r\n  pink,\r\n  purple,\r\n  blue,\r\n  cyan,\r\n  green,\r\n  amber,\r\n  orange,\r\n  grey,\r\n  teal,\r\n} from \"@material-ui/core/colors\";\r\n\r\n//import project\r\nimport CardWrapper from \"../../CardWrapper/CardWrapper\";\r\nimport { Box, Button, Grid, Slider, Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    btn: {\r\n      maxWidth: \"27px\",\r\n      maxHeight: \"30px\",\r\n      minWidth: \"27px\",\r\n      minHeight: \"30px\",\r\n      borderRadius: \"27px\",\r\n      margin: 8,\r\n    },\r\n    btnPink: {\r\n      background: pink[500],\r\n      \"&:hover\": { background: pink[300] },\r\n    },\r\n    btnBlue: {\r\n      background: blue[500],\r\n      \"&:hover\": { background: blue[300] },\r\n    },\r\n    btnRed: {\r\n      background: red[500],\r\n      \"&:hover\": { background: red[300] },\r\n    },\r\n    btnPurple: {\r\n      background: purple[500],\r\n      \"&:hover\": { background: purple[300] },\r\n    },\r\n    btnCyan: {\r\n      background: cyan[500],\r\n      \"&:hover\": { background: cyan[300] },\r\n    },\r\n    btnGreen: {\r\n      background: green[500],\r\n      \"&:hover\": { background: green[300] },\r\n    },\r\n    btnTeal: {\r\n      background: teal[500],\r\n      \"&:hover\": { background: teal[300] },\r\n    },\r\n    btnAmber: {\r\n      background: amber[500],\r\n      \"&:hover\": { background: amber[300] },\r\n    },\r\n    btnOrange: {\r\n      background: orange[500],\r\n      \"&:hover\": { background: orange[300] },\r\n    },\r\n    btnGrey: {\r\n      background: grey[500],\r\n      \"&:hover\": { background: grey[300] },\r\n    },\r\n    levelForm: {\r\n      paddingTop: 20,\r\n      paddingBottom: 20,\r\n      paddingLeft: 15,\r\n    },\r\n    choosen: {\r\n      borderWidth: 2,\r\n      margin: 9,\r\n      borderColor: \"#212121\",\r\n    },\r\n  })\r\n);\r\n\r\nfunction valueText(value) {\r\n  return `${value}`;\r\n}\r\n\r\nconst SliderColor = (props) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const customization = useSelector((state) => state.customize);\r\n\r\n  // state - border radius\r\n  const colorLevel = customization.colorLevel;\r\n\r\n  const handleColorLevel = (event, newValue) => {\r\n    dispatch(customizeAction.setColorLevel(newValue));\r\n    updateLocalStorage({ type: \"COLOR_LEVEL\", payload: newValue })\r\n  };\r\n\r\n  if (props.title === \"Màu nền\") {\r\n    return (\r\n      <Box className={classes.levelForm}>\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          container\r\n          spacing={2}\r\n          alignItems=\"center\"\r\n          sx={{ mt: 2.5 }}\r\n        >\r\n          <Grid item>\r\n            <Typography variant=\"h6\" color=\"secondary\">\r\n              0\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs>\r\n            <Slider\r\n              size=\"small\"\r\n              value={colorLevel}\r\n              onChange={handleColorLevel}\r\n              getAriaValueText={valueText}\r\n              valueLabelDisplay=\"on\"\r\n              aria-labelledby=\"discrete-slider-small-steps\"\r\n              marks\r\n              step={100}\r\n              min={0}\r\n              max={900}\r\n              color=\"secondary\"\r\n              sx={{\r\n                \"& .MuiSlider-valueLabel\": {\r\n                  color: \"secondary.light\",\r\n                },\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography variant=\"h6\" color=\"secondary\">\r\n              900\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    );\r\n  } else {\r\n    return <div></div>;\r\n  }\r\n};\r\n\r\nconst ButtonGroup = (props) => {\r\n  const classes = useStyles();\r\n  const { set, title, colorChoosen } = props;\r\n  return (\r\n    <CardWrapper title={title}>\r\n      <Grid spacing={1}>\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnPink,\r\n            colorChoosen === pink && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(pink);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnBlue,\r\n            colorChoosen === blue && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(blue);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnAmber,\r\n            colorChoosen === amber && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(amber);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnRed,\r\n            colorChoosen === red && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(red);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnPurple,\r\n            colorChoosen === purple && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(purple);\r\n          }}\r\n        />\r\n      </Grid>\r\n      <Grid spacing={3}>\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnCyan,\r\n            colorChoosen === cyan && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(cyan);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnGreen,\r\n            colorChoosen === green && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(green);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnTeal,\r\n            colorChoosen === teal && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(teal);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnOrange,\r\n            colorChoosen === orange && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(orange);\r\n          }}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          className={clsx(\r\n            classes.btn,\r\n            classes.btnGrey,\r\n            colorChoosen === grey && classes.choosen\r\n          )}\r\n          onClick={() => {\r\n            set(grey);\r\n          }}\r\n        />\r\n      </Grid>\r\n      <SliderColor title={title} />\r\n    </CardWrapper>\r\n  );\r\n};\r\nconst ColorTheme = () => {\r\n  const dispatch = useDispatch();\r\n  const customization = useSelector((state) => state.customize);\r\n\r\n  const primaryColor = customization.primaryColor;\r\n  const handlePrimaryColor = (e) => {\r\n    dispatch(customizeAction.setPrimaryColor(e));\r\n    updateLocalStorage({ type: \"PRIMARY_COLOR\", payload: e })\r\n  };\r\n\r\n  const secondaryColor = customization.secondaryColor;\r\n  const handleSecondaryColor = (e) => {\r\n    dispatch(customizeAction.setSecondaryColor(e));\r\n    updateLocalStorage({ type: \"SECONDARY_COLOR\", payload: e })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ButtonGroup\r\n        set={handlePrimaryColor}\r\n        title=\"Màu nền\"\r\n        colorChoosen={primaryColor}\r\n      />\r\n      <ButtonGroup\r\n        set={handleSecondaryColor}\r\n        title=\"Màu nhấn\"\r\n        colorChoosen={secondaryColor}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColorTheme;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\n// third-party\r\nimport { motion, useCycle } from 'framer-motion';\r\n\r\n// ===========================|| ANIMATION BUTTON ||=========================== //\r\n\r\n const AnimateButton = React.forwardRef(({ children, type, direction, offset, scale }, ref) => {\r\n    let offset1;\r\n    let offset2;\r\n    switch (direction) {\r\n        case 'up':\r\n        case 'left':\r\n            offset1 = offset;\r\n            offset2 = 0;\r\n            break;\r\n        case 'right':\r\n        case 'dow':\r\n        default:\r\n            offset1 = 0;\r\n            offset2 = offset;\r\n            break;\r\n    }\r\n\r\n    const [x, cycleX] = useCycle(offset1, offset2);\r\n    const [y, cycleY] = useCycle(offset1, offset2);\r\n\r\n    switch (type) {\r\n        case 'rotate':\r\n            return (\r\n                <motion.div\r\n                    ref={ref}\r\n                    animate={{ rotate: 360 }}\r\n                    transition={{\r\n                        repeat: Infinity,\r\n                        repeatType: 'loop',\r\n                        duration: 2,\r\n                        repeatDelay: 0\r\n                    }}\r\n                >\r\n                    {children}\r\n                </motion.div>\r\n            );\r\n        case 'slide':\r\n            if (direction === 'up' || direction === 'down') {\r\n                return (\r\n                    <motion.div ref={ref} animate={{ y }} onHoverEnd={() => cycleY()} onHoverStart={() => cycleY()}>\r\n                        {children}\r\n                    </motion.div>\r\n                );\r\n            }\r\n            return (\r\n                <motion.div ref={ref} animate={{ x }} onHoverEnd={() => cycleX()} onHoverStart={() => cycleX()}>\r\n                    {children}\r\n                </motion.div>\r\n            );\r\n\r\n        case 'scale':\r\n        default:\r\n            if (typeof scale === 'number') {\r\n                scale = {\r\n                    hover: scale,\r\n                    tap: scale\r\n                };\r\n            }\r\n            return (\r\n                <motion.div ref={ref} whileHover={{ scale: scale.hover }} whileTap={{ scale: scale.tap }}>\r\n                    {children}\r\n                </motion.div>\r\n            );\r\n    }\r\n});\r\n\r\nAnimateButton.propTypes = {\r\n    children: PropTypes.node,\r\n    offset: PropTypes.number,\r\n    type: PropTypes.oneOf(['slide', 'scale', 'rotate']),\r\n    direction: PropTypes.oneOf(['up', 'down', 'left', 'right']),\r\n    scale: PropTypes.oneOfType([PropTypes.number, PropTypes.object])\r\n};\r\n\r\nAnimateButton.defaultProps = {\r\n    type: 'scale',\r\n    offset: 10,\r\n    direction: 'right',\r\n    scale: {\r\n        hover: 1,\r\n        tap: 0.9\r\n    }\r\n};\r\n\r\nexport default AnimateButton","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport {\r\n  Drawer,\r\n  Fab,\r\n  FormControl,\r\n  FormControlLabel,\r\n  Grid,\r\n  IconButton,\r\n  Radio,\r\n  RadioGroup,\r\n  Slider,\r\n  Tooltip,\r\n  Typography,\r\n  Box,\r\n} from \"@material-ui/core\";\r\n// third-party\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\n\r\n// project imports\r\nimport ColorTheme from \"./ColorTheme/ColorTheme\";\r\nimport CardWrapper from \"../CardWrapper/CardWrapper\";\r\nimport AnimateButton from \"../Button/AnimateButton\";\r\n\r\n//import icon\r\nimport { IconSettings } from \"@tabler/icons\";\r\n\r\n// import redux\r\nimport { customizeAction } from \"../../store/slice/customizeSlice\";\r\nconst drawerWidth = 300;\r\n\r\nexport const updateLocalStorage = (action) => {\r\n  let customization = JSON.parse(sessionStorage.getItem(\"customization\"));\r\n  switch (action.type) {\r\n    case \"MODE\":\r\n      customization.mode = action.payload;\r\n      break;\r\n    case \"MENU\":\r\n        customization.menu = action.payload;\r\n        break;\r\n    case \"FONT_FAMILY\":\r\n      customization.fontFamily = action.payload;\r\n      break;\r\n    case \"BORDER_RADIUS\":\r\n      customization.borderRadius = action.payload;\r\n      break;\r\n    case \"COLOR_LEVEL\":\r\n      customization.colorLevel = action.payload;\r\n      break;\r\n    case \"PRIMARY_COLOR\":\r\n      customization.primaryColor = action.payload;\r\n      break;\r\n    case \"SECONDARY_COLOR\":\r\n      customization.secondaryColor = action.payload;\r\n      break;\r\n    default:\r\n      console.log(\"invalid customization\");\r\n      break;\r\n  }\r\n  sessionStorage.setItem(\"customization\", JSON.stringify(customization));\r\n};\r\n\r\nfunction valueText(value) {\r\n  return `${value}px`;\r\n}\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    btn: {\r\n      bottom: 25,\r\n      m: 4,\r\n      position: \"fixed\",\r\n      right: 25,\r\n      boxShadow: theme.shadows[8],\r\n      marginLeft: 200,\r\n      zIndex:5\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    fontForm: {\r\n      paddingLeft: 20,\r\n      paddingRight: 100,\r\n    },\r\n    borderForm: {\r\n      paddingTop: 30,\r\n      paddingBottom: 20,\r\n      paddingLeft: 15,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n  })\r\n);\r\n// ===========================|| LIVE CUSTOMIZATION ||=========================== //\r\n\r\nconst Customization = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const dispatch = useDispatch();\r\n  const customization = useSelector((state) => state.customize);\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleToggle = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const borderRadius = customization.borderRadius;\r\n  const handleBorderRadius = (borderRadius) => {\r\n    dispatch(customizeAction.setBorderRadius(borderRadius));\r\n    updateLocalStorage({ type: \"BORDER_RADIUS\", payload: borderRadius });\r\n  };\r\n\r\n  const mode = customization.mode;\r\n  const handleMode = (mode) => {\r\n    dispatch(customizeAction.setMode(mode));\r\n    updateLocalStorage({ type: \"MODE\", payload: mode });\r\n  };\r\n  \r\n  const menu = customization.menu;\r\n  // {console.log(customization.menu)}\r\n  const handleMenu = (menu) => {\r\n    dispatch(customizeAction.setMenu(menu));\r\n    updateLocalStorage({ type: \"MENU\", payload: menu });\r\n  };\r\n\r\n  const fontFamily = customization.fontFamily;\r\n  const handleFontChange = (fontFamily) => {\r\n    dispatch(customizeAction.setFontFamily(fontFamily));\r\n    updateLocalStorage({ type: \"FONT_FAMILY\", payload: fontFamily });\r\n  };\r\n  return (\r\n    <>\r\n      {/* Button  */}\r\n      <Tooltip title=\"Cài đặt\">\r\n        <Fab\r\n          component=\"div\"\r\n          onClick={handleToggle}\r\n          size=\"medium\"\r\n          variant=\"string\"\r\n          color=\"secondary\"\r\n          className={classes.btn}\r\n        >\r\n          <IconButton color=\"inherit\" size=\"large\" disableRipple>\r\n            <IconSettings />\r\n          </IconButton>\r\n          {/* <AnimateButton type=\"rotate\"> <IconSettings /></AnimateButton> */}\r\n\r\n        </Fab>\r\n\r\n      </Tooltip>\r\n\r\n      {/* Drawer  */}\r\n      <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggle}\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n        <PerfectScrollbar component=\"div\">\r\n          {/* Menu */}\r\n          <CardWrapper title=\"Menu\">\r\n            <FormControl className={classes.fontForm}>\r\n                <RadioGroup\r\n                  aria-label=\"menu\"\r\n                  value={menu}\r\n                  // value={1}\r\n                  onChange={(e) => handleMenu(e.target.value)}\r\n                  name=\"row-radio-buttons-group\"\r\n                  style={{width:200}}\r\n                >\r\n                  <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                \r\n                  >\r\n                      <FormControlLabel\r\n                        value=\"1\"\r\n                        control={<Radio />}\r\n                        label={1}\r\n                        sx={{\r\n                          \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                          \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                        }}\r\n                      />\r\n                      <FormControlLabel\r\n                        value=\"2\"\r\n                        control={<Radio />}\r\n                        label={2}\r\n                        sx={{\r\n                          \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                          \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                        }}\r\n                      />\r\n                      <FormControlLabel\r\n                        value=\"3\"\r\n                        control={<Radio />}\r\n                        label={3}\r\n                        sx={{\r\n                          \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                          \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                        }}\r\n                      />\r\n                  \r\n                  </Grid>\r\n                </RadioGroup>\r\n              \r\n            </FormControl>\r\n          </CardWrapper>\r\n\r\n          {/* Font family */}\r\n          <CardWrapper title=\"Font Family\">\r\n            <FormControl className={classes.fontForm}>\r\n              <RadioGroup\r\n                aria-label=\"font-family\"\r\n                value={fontFamily}\r\n                onChange={(e) => handleFontChange(e.target.value)}\r\n                name=\"row-radio-buttons-group\"\r\n              >\r\n                <FormControlLabel\r\n                  value={`'Roboto', sans-serif`}\r\n                  control={\r\n                    <Radio\r\n                      classes={{\r\n                        root: classes.radio,\r\n                        checked: classes.checked,\r\n                      }}\r\n                    />\r\n                  }\r\n                  label=\"Roboto\"\r\n                  sx={{\r\n                    \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                    \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                  }}\r\n                />\r\n                <FormControlLabel\r\n                  value={`'Poppins', sans-serif`}\r\n                  control={<Radio />}\r\n                  label=\"Poppins\"\r\n                  sx={{\r\n                    \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                    \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                  }}\r\n                />\r\n                <FormControlLabel\r\n                  value={`'Inter', sans-serif`}\r\n                  control={<Radio />}\r\n                  label=\"Inter\"\r\n                  sx={{\r\n                    \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                    \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                  }}\r\n                />\r\n              </RadioGroup>\r\n            </FormControl>\r\n          </CardWrapper>\r\n\r\n          {/* Mode */}\r\n          <CardWrapper title=\"Mode\">\r\n            <FormControl className={classes.fontForm}>\r\n              <Grid>\r\n                <RadioGroup\r\n                  aria-label=\"mode\"\r\n                  value={mode}\r\n                  onChange={(e) => handleMode(e.target.value)}\r\n                  name=\"row-radio-buttons-group\"\r\n                >\r\n                  <FormControlLabel\r\n                    value=\"Light\"\r\n                    control={<Radio />}\r\n                    label=\"Light\"\r\n                    sx={{\r\n                      \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                      \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                    }}\r\n                  />\r\n                  <FormControlLabel\r\n                    value=\"Dark\"\r\n                    control={<Radio />}\r\n                    label=\"Dark\"\r\n                    sx={{\r\n                      \"& .MuiSvgIcon-root\": { fontSize: 28 },\r\n                      \"& .MuiFormControlLabel-label\": { color: \"grey.900\" },\r\n                    }}\r\n                  />\r\n                </RadioGroup>\r\n              </Grid>\r\n            </FormControl>\r\n          </CardWrapper>\r\n\r\n          {/* Border Radius */}\r\n          <CardWrapper title=\"Border Radius\">\r\n            <Box className={classes.borderForm}>\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                container\r\n                spacing={2}\r\n                alignItems=\"center\"\r\n                sx={{ mt: 2.5 }}\r\n              >\r\n                <Grid item>\r\n                  <Typography variant=\"h6\" color=\"secondary\">\r\n                    4px\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs>\r\n                  <Slider\r\n                    size=\"small\"\r\n                    value={borderRadius}\r\n                    onChange={(e, n) => {\r\n                      handleBorderRadius(n);\r\n                    }}\r\n                    getAriaValueText={valueText}\r\n                    valueLabelDisplay=\"on\"\r\n                    aria-labelledby=\"discrete-slider-small-steps\"\r\n                    marks\r\n                    step={1}\r\n                    min={4}\r\n                    max={24}\r\n                    color=\"secondary\"\r\n                    sx={{\r\n                      \"& .MuiSlider-valueLabel\": {\r\n                        color: \"secondary.light\",\r\n                      },\r\n                    }}\r\n                  />\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography variant=\"h6\" color=\"secondary\">\r\n                    24px\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </CardWrapper>\r\n\r\n          {/* Color */}\r\n          <ColorTheme updateLocalStorage={updateLocalStorage} />\r\n        </PerfectScrollbar>\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Customization;\r\n","export default __webpack_public_path__ + \"static/media/lyimg.128eab24.jpeg\";","import React from 'react'\r\nimport { useTheme, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { makeStyles,withStyles } from \"@material-ui/core\";\r\nimport {Chip,ButtonBase,Avatar} from \"@material-ui/core\";\r\nimport icon from '../../assets/img/product/lyimg.jpeg'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nconst StyleChip = withStyles((theme) => ({\r\n  root: {\r\n    'color': theme.customization.primaryColor[500],\r\n    'fontWeight':500,\r\n    'backgroundColor': `${theme.customization.primaryColor[50]} !important`,\r\n    '&:hover': {\r\n      'backgroundColor': `${theme.customization.primaryColor[400]} !important`,\r\n      'color': '#fff',\r\n  },\r\n},\r\n  outlined: {\r\n      border: `1px solid ${theme.customization.primaryColor[300]}`,\r\n \r\n  },\r\n  deleteIcon: {\r\n    color:  theme.customization.primaryColor[200] ,\r\n    marginLeft:-11,\r\n\r\n  },\r\n//   '&:active': {\r\n//     boxShadow: 'none',\r\n//     backgroundColor: props.color,\r\n//     borderColor: props.color,\r\n// },\r\n}))(Chip);\r\n\r\nfunction CustomChip(props) {\r\n  const { size = 1, ...restProps } = props;\r\n  const classes = useStyles({ size });\r\n\r\n  return (\r\n    <StyleChip\r\n      variant=\"outlined\"\r\n      className={classes.root}\r\n      classes={{ avatar: classes.avatar, deleteIcon: classes.deleteIcon }}\r\n      {...restProps}\r\n    />\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    fontSize: (props) => `${props.size * 0.8125}rem`,\r\n    height: (props) => `${props.size * 32}px`,\r\n    borderRadius: \"9999px\",\r\n  },\r\n  avatar: {\r\n    \"&&\": {\r\n      height: (props) => `${props.size * 24}px`,\r\n      width: (props) => `${props.size * 24}px`,\r\n      fontSize: (props) => `${props.size * 0.75}rem`\r\n    }\r\n  },\r\n  text:{\r\n    textTransform:'none'\r\n  },\r\n  \r\n  \r\n}));\r\n\r\n\r\nconst AvatarInfo = (props) => {\r\n    const {name} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const firstName = name.split(' ').at(-1)\r\n    const len = firstName.length\r\n    return (\r\n   \r\n            <ButtonBase  className={classes.text}>\r\n              <CustomChip\r\n                size={1.25}\r\n                avatar={<Avatar  src={icon} />}\r\n                label={firstName}\r\n                style={{paddingRight: len < 4 ? 10:0}}\r\n                // onDelete={(event)=>{event.preventDefault()}}\r\n                // deleteIcon={<ExpandMoreIcon fontSize=\"small\" sx={{ color: '#000' }} />}\r\n                />\r\n             </ButtonBase> \r\n    \r\n    )\r\n}\r\n\r\nexport default AvatarInfo\r\n","import { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nexport default  makeStyles((theme) =>({\r\n    root: {\r\n      background: theme.customization.mode === \"Light\"? null: grey[800],\r\n      borderRadius:theme.customization.borderRadius,\r\n      color: '#000000',\r\n      boxShadow: \"none\",\r\n    },\r\n  \r\n    headerTitle:{\r\n      padding: '24px',\r\n      marginTop:-5,\r\n      marginBottom:-10,\r\n      fontSize: '1.125rem'\r\n    },\r\n\r\n    table:{\r\n      width:\"100%\",\r\n    },\r\n    button: {\r\n      margin: theme.spacing(1),\r\n      paddingRight:-10\r\n    },\r\n\r\n    headerAvatar: {\r\n      ...theme.typography.commonAvatar,\r\n      ...theme.typography.mediumAvatar,\r\n      transition: 'all .05s ease-in-out',\r\n      background:theme.palette.primary.main ,\r\n      '&:hover': {\r\n        background: theme.customization.primaryColor[400],\r\n      },\r\n\r\n    },\r\n    btngroup:{\r\n      marginRight:20,\r\n      marginTop:10\r\n    },\r\n    btngroup1:{\r\n      marginRight:20,\r\n      marginTop:10\r\n    },\r\n\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: 'rect(0 0 0 0)',\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: 'hidden',\r\n      padding: 0,\r\n      position: 'absolute',\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n    icon: {\r\n      color:theme.customization.mode === 'Light' ?grey[700] :grey[50]\r\n  },\r\n    padding:{\r\n      marginLeft:24,\r\n      marginRight:24\r\n\r\n    },\r\n    tab: {\r\n      minWidth: 60,\r\n      width: 60, \r\n\r\n      color:theme.customization.primaryColor[200],\r\n      // fontSize:20,\r\n      // fontWeight:500\r\n  },\r\n  indicator:{\r\n    backgroundColor:theme.customization.primaryColor[200],\r\n  },\r\n  boldText:{\r\n    fontWeight:700,\r\n    \r\n  },\r\n  hoverCard:{\r\n    // backgroundColor:'#fff',\r\n    boxShadow:'0px 10px 20px rgba(0,0,0,0.1)',\r\n    \"&:hover\": {\r\n      // backgroundColor: theme.customization.primaryColor[50],\r\n      boxShadow:'0px 10px 10px rgba(0,0,0,0.2)',\r\n    }\r\n},\r\ncardRoot: {\r\n  width: 200,\r\n},\r\nmedia: {\r\n  height: 140,\r\n},\r\nappBar: {\r\n  position: 'relative',\r\n  backgroundColor:theme.customization.primaryColor[500],\r\n  height:60\r\n},\r\ntitle: {\r\n  marginLeft: theme.spacing(2),\r\n  flex: 1,\r\n},\r\n\r\n}));\r\n\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\r\n\r\n// import library\r\nimport {TableHead,TableRow,TableCell,TableSortLabel} from '@material-ui/core';\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\n\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n    head: {\r\n      backgroundColor: theme.customization.mode === \"Light\"? null: grey[800],\r\n      color: theme.customization.mode === \"Light\"? null: grey[500],\r\n    },\r\n    \r\n}))(TableCell);\r\n\r\n  \r\nfunction TableHeader(props) {\r\n    const theme = useTheme();\r\n    const { classes, order, orderBy, onRequestSort,headerData,isCart,isCustomer } = props;\r\n    const createSortHandler = (property) => (event) => {\r\n      onRequestSort(event, property);\r\n    };\r\n    \r\n    return (\r\n      <TableHead className={classes.headColor} >\r\n        <TableRow >\r\n            {headerData.map((headCell) => (\r\n            <StyledTableCell\r\n                key={headCell.id}\r\n                align={headCell.align}\r\n                sortDirection={orderBy === headCell.id ? order : false}\r\n            >\r\n                <TableSortLabel\r\n                active={orderBy === headCell.id}\r\n                direction={orderBy === headCell.id ? order : 'asc'}\r\n                onClick={createSortHandler(headCell.id)}\r\n                style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\r\n                >\r\n                {headCell.label}\r\n                {orderBy === headCell.id  ? (\r\n                    <span className={classes.visuallyHidden}>\r\n                    {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                    </span>\r\n                ) : null}\r\n                </TableSortLabel>\r\n            </StyledTableCell>\r\n           \r\n            ))}\r\n             {isCart?  <StyledTableCell/>: null}\r\n            \r\n        </TableRow>\r\n      </TableHead>\r\n        );\r\n    }\r\n\r\n\r\nexport default TableHeader","import React from 'react'\r\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\r\nimport { grey} from '@material-ui/core/colors'\r\nimport {Table,TableContainer,FormControlLabel,Switch,Paper, TablePagination} from '@material-ui/core';\r\n\r\n\r\nconst TableWrapper = (props) => {\r\n    const {isCart, isReport, pagingState, setPagingState} = props;\r\n\r\n    const theme = useTheme();\r\n    // const classes = useStyles(theme);\r\n    // table\r\n    const [dense, setDense] = React.useState(isReport?true:false);\r\n    \r\n\r\n    const handleChangeDense = (event) => {\r\n      setDense(event.target.checked);\r\n    };\r\n\r\n    return (\r\n    <>\r\n        <StyledPaper style={{width: '100%', marginBottom: theme.spacing(2)}}>\r\n            {/* Chinh size tablw */}\r\n            <TableContainer style={{maxHeight: '90vh',}}>\r\n                <Table\r\n                    aria-labelledby=\"tableTitle\"\r\n                    size={dense ? 'small' : 'medium'}\r\n                    aria-label=\"enhanced table\"\r\n                    stickyHeader \r\n                >\r\n                    {props.children}\r\n\r\n                </Table>\r\n                \r\n            </TableContainer>\r\n            \r\n        </StyledPaper>\r\n\r\n            {/* Add page navigation here...  */}\r\n            {isCart ? null :\r\n                <div style={{display: 'flex', flexDirection: 'row-reverse', gap: 10,marginTop:-20, marginRight:20, marginBottom:-10 }}>\r\n                    <TablePagination\r\n                        rowsPerPageOptions={[10, 25, 100]}\r\n                        labelRowsPerPage={\"Số dòng\"}\r\n                        component=\"div\"\r\n                        count={pagingState?.total_rows}\r\n                        rowsPerPage={pagingState?.limit}\r\n                        page={pagingState?.page}\r\n                        onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\r\n                        onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\r\n                    />\r\n                    <FormControlLabel\r\n                        control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n                        label=\"Thu nhỏ\"\r\n                        style={{ display: \"flex\", justifyContent: \"flex-end\", }}\r\n                    />\r\n                </div>}\r\n    </>\r\n    )\r\n}\r\n\r\nconst StyledPaper = withStyles((theme) => ({\r\n    root: {\r\n      boxShadow:\"none\",\r\n      background: theme.customization.mode === \"Light\"? null: grey[800],\r\n      color: theme.customization.mode === \"Light\"? null: grey[700]\r\n    },\r\n  }))(Paper);\r\n\r\nexport default TableWrapper\r\n","import React from 'react'\r\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\r\nimport { useSelector } from \"react-redux\";\r\nimport TableHeader  from '../../components/TableCommon/TableHeader/TableHeader'\r\nimport TableWrapper from '../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport {ThousandFormat} from '../../components/TextField/NumberFormatCustom'\r\nimport moment from \"moment\";\r\nimport  clsx from \"clsx\"\r\n//import library\r\nimport {\r\n    Grid,\r\n    Card,\r\n    Box,\r\n    Tabs,\r\n    Tab,\r\n    TableContainer,\r\n    CardContent,\r\n    CardMedia,\r\n    CardActionArea,\r\n    FormControlLabel,\r\n    Switch,\r\n    Menu,\r\n    MenuItem,\r\n    ListItem,\r\n    IconButton,\r\n    TableBody,\r\n    Typography,\r\n    Table,\r\n    TableHead,\r\n    TableRow,TableCell,Divider\r\n  } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        flexGrow: 1,\r\n        textAlign: \"center\",\r\n        fontSize: \"13.5px\",\r\n        // fontSize: \"12em\",\r\n        fontWeight: 700,\r\n        marginTop:10,\r\n        color: \"#000\",\r\n    },\r\n    centerQR:{\r\n        flexGrow: 1,\r\n        textAlign: \"center\",\r\n       \r\n    },\r\n    center:{\r\n        flexGrow: 1,\r\n        textAlign: \"center\",\r\n        color: \"#000\",\r\n        fontSize:\"10px\",\r\n        // fontSize: \"10em\",\r\n    },\r\n    right:{\r\n        flexGrow: 1,\r\n        textAlign: \"right\",\r\n        color: \"#000\",\r\n        fontSize: \"10px\",\r\n        // fontSize: \"10em\",\r\n    },\r\n    text:{\r\n        color: \"#000\",\r\n        fontSize: \"10px\",\r\n        // fontSize: \"10em\",\r\n        // textAlign: \"center\",\r\n    },\r\n    media: {\r\n      // height: '10%',\r\n      // // width: '10%'\r\n      // height: 50,\r\n      // width:50\r\n    },\r\n    weight:{\r\n      fontWeight:500\r\n    },\r\n    root: {\r\n      maxWidth: 10,\r\n      \r\n    },\r\n    divider: {\r\n      // Theme Color, or use css color in quote\r\n      background: '#000',\r\n  },\r\n}));\r\nlet d = moment.now() / 1000;\r\n\r\nlet orderTime = moment\r\n.unix(d)\r\n.format(\"DD/MM/YYYY HH:mm\", { trim: false });\r\n// CON THIEU LINK WEB + LOGO + MA HOA DON\r\nvar QRCode = require('qrcode.react');\r\n\r\n\r\nexport const ReceiptPrinter = ({cart, date}) => {\r\n    const info = useSelector((state) => state.info);\r\n    var link = \"https://www.facebook.com/GiaLePhuongg/\";\r\n    var logo =\"https://newstatic2.clingme.vn/resized/images/default/cms-images/place/0/0/17/1550914926_557320_w600.jpg\"\r\n    \r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const item = cart.cartItem? cart.cartItem :cart.details\r\n\r\n    return (\r\n        <div >\r\n            {/* Logo */}\r\n           {logo? \r\n            <div className={classes.centerQR} style={{marginBottom:10}}  >\r\n              <img src={logo} style={{height:50}}/>\r\n            </div>:null}\r\n              \r\n           {/* In đơn cũ thì ko lấy store?? */}\r\n           {\r\n             cart.branch ?\r\n             <>\r\n             <Typography className={classes.center}>Địa chỉ: {cart.branch.address}, {cart.branch.ward} , {cart.branch.district}</Typography>\r\n            <Typography className={classes.center}>Điện thoại: {cart.branch.phone}</Typography>\r\n             </>:\r\n            //  get current branch\r\n            <>\r\n             <Typography className={classes.center}>Địa chỉ: {info.store.district}, P. {info.store.ward} ,Q. {info.store.district}, {info.store.province}</Typography>\r\n             <Typography className={classes.center}>Điện thoại: {info.store.phone}</Typography>\r\n          </>\r\n           }\r\n            \r\n\r\n            {/*  */}\r\n            <Typography className={classes.title}>HOÁ ĐƠN BÁN HÀNG</Typography>\r\n            <Typography className={classes.center}>Mã HĐ: {}</Typography>\r\n            <Typography className={classes.center} style={{marginBottom:10}}>Thời gian: {date? date: orderTime}</Typography>\r\n           \r\n\r\n            <Typography className={classes.text} >Thu ngân: {cart.created_by_user? cart.created_by_user.name: info.user.name}</Typography>\r\n            <Typography className={classes.text} style={{marginBottom:20}}>Khách hàng: {cart.customer?.name} </Typography>\r\n           \r\n            {/* List */}\r\n                <Divider classes={{root: classes.divider}}/>\r\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n                        <Grid item xs={5}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={3}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={4}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Divider classes={{root: classes.divider}}/>      \r\n                \r\n                    {item.map((row, index) => {\r\n                    return (\r\n                        <>\r\n                          <Typography className={classes.text} >{row.name}</Typography>\r\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n                            <Grid item xs={5}>\r\n                            <Typography className={classes.text} ><ThousandFormat value={row.unit_price}/></Typography>\r\n                            </Grid>\r\n                            <Grid item xs={3}>\r\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity}/></Typography>\r\n                            </Grid>\r\n                            <Grid item xs={4}>\r\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Divider classes={{root: classes.divider}}/>\r\n                        </>\r\n                    );\r\n                })}\r\n                {/* </TableBody> */}\r\n              \r\n\r\n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}>\r\n              <Grid item xs={5}>\r\n                <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>\r\n                Tổng cộng:{\" \"} \r\n                </Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>\r\n                Tiền khách đưa:{\" \"}\r\n                </Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>\r\n                Tiền thối:{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\r\n                <Typography >\r\n                  <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\r\n                </Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount}/></Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount)} /></Typography>\r\n\r\n              </Grid>\r\n            </Grid>\r\n\r\n            \r\n\r\n       \r\n            <Typography className={classes.center}> --------------------------</Typography>\r\n\r\n            {link? \r\n            <>\r\n                <Typography className={classes.center}> Mở camera và quét mã để truy cập trang web</Typography>\r\n                <div className={classes.centerQR} style={{marginBottom:15, marginTop:10 }}>\r\n                   {/* <QRCode value={link}  style={{height:\"50%\", width:\"50%\"}}/> */}\r\n                   <QRCode value={link}  size={65}/>\r\n                </div> \r\n                </>\r\n            : null}\r\n            <Typography className={classes.center}>Xin cảm ơn và hẹn gặp lại !</Typography> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport const ImportReceiptPrinter = ({cart, date}) => {\r\n  const info = useSelector((state) => state.info);\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const item = cart.cartItem? cart.cartItem :cart.details\r\n    return (\r\n          <div >\r\n\r\n          {/*  */}\r\n          <Typography className={classes.title} >PHIẾU NHẬP HÀNG</Typography>\r\n          <Typography className={classes.center}>Mã phiếu: {}</Typography>\r\n          <Typography className={classes.center} style={{marginBottom:25}}>Thời gian: {date? date: orderTime}</Typography>\r\n        \r\n          \r\n          <Typography className={classes.text} >Chi nhánh nhập: {cart.branch ? cart.branch.name :info.branch.name}</Typography>\r\n          <Typography className={classes.text} >Người tạo: {cart.created_by_user ? cart.created_by_user.name :info.user.name}</Typography>\r\n          <Typography className={classes.text} style={{marginBottom:10}}>Nhà cung cấp: {cart.supplier?.name} </Typography>\r\n        \r\n          {/* List */}\r\n      \r\n          <Divider classes={{root: classes.divider}}/>\r\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n                  <Grid item xs={1}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} >STT</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={2}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} >Mã hàng</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={4}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={2}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} >Đơn giá</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={1}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} >SL</Typography>\r\n                  </Grid>\r\n                  <Grid item xs={2}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} >T.Tiền</Typography>\r\n                  </Grid>\r\n              </Grid>\r\n              <Divider classes={{root: classes.divider}}/>      \r\n\r\n         \r\n                  {item.map((row, index) => {\r\n                  return (\r\n                      <>\r\n                     \r\n                      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n                        <Grid item xs={1}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} >{index+1}</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={2}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.bar_code}</Typography>\r\n                        </Grid>\r\n                        <Grid item xs={4}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.name}</Typography>\r\n                        </Grid>\r\n                       \r\n                        <Grid item xs={2}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.unit_price}/></Typography>\r\n                        </Grid>\r\n                        <Grid item xs={1}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity}/></Typography>\r\n                        </Grid>\r\n                        <Grid item xs={2}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Divider classes={{root: classes.divider}}/>      \r\n                      </>\r\n                  );\r\n              })}\r\n            \r\n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}>\r\n              <Grid item xs={5}>\r\n                <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>\r\n                Tổng cộng:{\" \"} \r\n                </Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>\r\n                Tiền trả NCC:{\" \"}\r\n                </Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>\r\n                Còn lại:{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\r\n                <Typography >\r\n                  <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\r\n                </Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount}/></Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\r\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount)} /></Typography>\r\n\r\n              </Grid>\r\n            </Grid>   \r\n\r\n        <Grid container direction=\"row\" justifyContent=\"space-around\">\r\n              <Typography className={clsx(classes.text,classes.weight)}>\r\n                  Nhà cung cấp\r\n              </Typography>\r\n \r\n            <Typography className={clsx(classes.text,classes.weight)}>\r\n                  Người lập phiếu\r\n              </Typography>\r\n          </Grid>\r\n      </div>\r\n    )\r\n}\r\n\r\n","import React from \"react\";\r\nimport { Fab, IconButton, Tooltip, ButtonBase, Badge } from \"@material-ui/core\";\r\nimport { makeStyles, createStyles, styled } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport { IconSettings } from \"@tabler/icons\";\r\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    btn: {\r\n      position: \"fixed\",\r\n      top: 200,\r\n      right: 0,\r\n      zIndex: 1050,\r\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\r\n      backgroundColor: \"#ffe57f\",\r\n      borderRadius: \"10px 0px 0px 10px\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#ffcf10\",\r\n      },\r\n      height: 60,\r\n      width: 60,\r\n    },\r\n\r\n    btnBottom: {\r\n      position: \"fixed\",\r\n      top: 100,\r\n      right: 0,\r\n      zIndex: 1050,\r\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\r\n      backgroundColor: \"#ffe57f\",\r\n      borderRadius: \"10px 0px 0px 10px\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#ffcf10\",\r\n      },\r\n      height: 60,\r\n      width: 60,\r\n    },\r\n  })\r\n);\r\nconst StyledBadge = styled(Badge)(({ theme }) => ({\r\n  \"& .MuiBadge-badge\": {\r\n    border: `3px solid ${theme.palette.background.paper}`,\r\n    padding: \"0 4px\",\r\n  },\r\n}));\r\nconst CartButton = (props) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  return (\r\n    // <Tooltip title=\"Giỏ hàng\">\r\n    <Fab\r\n      aria-label=\"add\"\r\n      className={classes.btn}\r\n      component={Link}\r\n      to={`/store/${props.storeInfo?.web_page}/cart`}\r\n    >\r\n      <ButtonBase size=\"large\" style={{ margin: 10 }}>\r\n        <StyledBadge color=\"error\" badgeContent={3}>\r\n          <ShoppingCartTwoToneIcon />\r\n        </StyledBadge>\r\n      </ButtonBase>\r\n    </Fab>\r\n    /* </Tooltip> */\r\n  );\r\n};\r\n\r\nexport const CartBottom = ({numberItem}) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  return (\r\n    // <Tooltip title=\"Giỏ hàng\">\r\n    <Fab\r\n      className={classes.btnBottom} \r\n      onClick={()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:\"smooth\"})}\r\n    >\r\n      <ButtonBase size=\"large\" style={{ margin: 10 }} >\r\n        <StyledBadge color=\"error\" badgeContent={numberItem}>\r\n          <ShoppingCartTwoToneIcon />\r\n        </StyledBadge>\r\n      </ButtonBase>\r\n    </Fab>\r\n    /* </Tooltip> */\r\n  );\r\n};\r\n\r\nexport default CartButton;\r\n","import {\r\n    InputAdornment,\r\n    Box\r\n} from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport barcodeIcon from \"../../assets/img/icon/barcode_grey.png\";\r\nimport productApi from \"../../api/productApi\";\r\nimport { CustomTextField } from \"./SearchProduct\"\r\nimport { useSelector } from \"react-redux\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { statusAction } from \"../../store/slice/statusSlice\";\r\n\r\nconst SearchBarCode = (props) => {\r\n    const info = useSelector((state) => state.info);\r\n    const store_uuid = info.store.uuid;\r\n    const branch_uuid = info.branch.uuid;\r\n\r\n    const [barcode,setBarcode] = useState(\"\")\r\n\r\n    const dispatch = useDispatch();\r\n    const onEnter = async (e) =>{\r\n        if(e.key === \"Enter\" && barcode != \"\"){\r\n            try {\r\n                const response = await productApi.searchBranchProduct(\r\n                    store_uuid,\r\n                    branch_uuid,\r\n                    barcode\r\n                  );\r\n                  if (response.data.length > 0){\r\n                    props.handleSearchBarSelect(response.data[0]);\r\n                    setBarcode(\"\")\r\n                    dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\r\n                  }\r\n            } catch (error) {\r\n                console.log(error)\r\n                dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\r\n            }\r\n        }\r\n    }\r\n    return <CustomTextField\r\n        fullWidth\r\n        placeholder=\"Quét mã vạch\"\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        autoFocus\r\n        onKeyPress={onEnter}\r\n        onChange = {(e) => setBarcode(e.target.value)}\r\n        value = {barcode}\r\n        InputProps={{\r\n            startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                    <SearchIcon style={{ color: grey[500] }} />\r\n                </InputAdornment>\r\n            ),\r\n            endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                    <Box\r\n                        component=\"img\"\r\n                        sx={{ height: 23, width: 23, marginRight: 10 }}\r\n                        src={barcodeIcon}\r\n                    />\r\n                </InputAdornment>\r\n            ),\r\n            style: {\r\n                width: 300,\r\n                padding: \"3px\",\r\n                margin: \"0px\"\r\n            },\r\n        }}\r\n    />\r\n}\r\nexport default SearchBarCode;","// -----------HEADER TABLE\r\n\r\n//  ID phải trùng tên ATTRIBUTE THÌ MỚI SORT ĐC\r\n\r\nexport const InventoryHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\r\n  { id: \"name\", align: \"center\", disablePadding: false, label: \"Sản phẩm\" },\r\n  // { id: \"bar_code\", align: \"center\", disablePadding: true, label: \"Mã vạch\" },\r\n  { id: \"category\", align: \"left\", disablePadding: false, label: \"Danh mục\" },\r\n  { id: \"price\", align: \"right\", disablePadding: false, label: \"Giá bán\" },\r\n  {\r\n    id: \"import_price\",\r\n    align: \"right\",\r\n    disablePadding: false,\r\n    label: \"Giá vốn\",\r\n  },\r\n  {\r\n    id: \"quantity\",\r\n    align: \"center\",\r\n    disablePadding: false,\r\n    label: \"Tình trạng\",\r\n  },\r\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Tồn kho\" },\r\n];\r\nexport const InventoryOrderHeadCells = [\r\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày nhập\" },\r\n  {\r\n    id: \"supplier\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Nhà cung cấp\",\r\n  },\r\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\r\n  {\r\n    id: \"payment\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Hình thức trả\",\r\n  },\r\n  {\r\n    id: \"total\",\r\n    align: \"right\",\r\n    disablePadding: false,\r\n    label: \"Tổng tiền nhập\",\r\n  },\r\n  { id: \"debt\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\r\n];\r\nexport const InventoryReturnOrderHeadCells = [\r\n  // them cột tình trạng\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày nhập\" },\r\n  {\r\n    id: \"supplier\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Nhà cung cấp\",\r\n  },\r\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\r\n  {\r\n    id: \"payment\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Hình thức trả\",\r\n  },\r\n\r\n  {\r\n    id: \"total\",\r\n    align: \"center\",\r\n    disablePadding: false,\r\n    label: \"Tổng tiền trả\",\r\n  },\r\n\r\n  // { id: \"import_id\", align: \"left\", disablePadding: false, label: \"#Đơn nhập\" },\r\n  // {\r\n  //   id: \"employee\",\r\n  //   align: \"left\",\r\n  //   disablePadding: false,\r\n  //   label: \"Người thực hiện\",\r\n  // },\r\n];\r\n\r\nexport const SupplierHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên NCC\" },\r\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\r\n  { id: \"email\", align: \"left\", disablePadding: false, label: \"Email\" },\r\n  { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\r\n  // {\r\n  //   id: \"total_cost\",\r\n  //   align: \"right\",\r\n  //   disablePadding: false,\r\n  //   label: \"Tổng tiền nhập\",\r\n  // },\r\n  { id: \"debt\", align: \"center\", disablePadding: false, label: \"Công nợ\" },\r\n];\r\n\r\nexport const InvoiceHeadCells = [\r\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày bán\" },\r\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\r\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\r\n  {\r\n    id: \"payment\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Hình thức trả\",\r\n  },\r\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng tiền\" },\r\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\r\n];\r\nexport const InvoiceReturnHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\r\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\r\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\r\n  {\r\n    id: \"payment\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Hình thức trả\",\r\n  },\r\n  {\r\n    id: \"total\",\r\n    align: \"center\",\r\n    disablePadding: false,\r\n    label: \"Tổng tiền trả\",\r\n  },\r\n  // { id: \"invoid_id\", align: \"left\", disablePadding: false, label: \"#Hoá đơn\" },\r\n  // {\r\n  //   id: \"employee\",\r\n  //   align: \"left\",\r\n  //   disablePadding: false,\r\n  //   label: \"Người thực hiện\",\r\n  // },\r\n];\r\nexport const EmployeeHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\r\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\r\n  { id: \"email\", align: \"left\", disablePadding: true, label: \"Email\" },\r\n  { id: \"function\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\r\n];\r\n\r\nexport const CustomerHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  // { id: 'img', align: false, disablePadding: true, label: '#' },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Khách hàng\" },\r\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\r\n  { id: \"score\", align: \"right\", disablePadding: true, label: \"Tích điểm\" },\r\n  { id: \"debt\", align: \"center\", disablePadding: true, label: \"Công nợ\" },\r\n];\r\n\r\nexport const CartHeadCells = [\r\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\r\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\r\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\r\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Đơn giá\" },\r\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\r\n];\r\n\r\nexport const ImportHeadCells = [\r\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\r\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\r\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\r\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá nhập\" },\r\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\r\n];\r\n\r\nexport const CartReturnHeadCells = [\r\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\r\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\r\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá bán\" },\r\n  {\r\n    id: \"return_price\",\r\n    align: \"right\",\r\n    disablePadding: true,\r\n    label: \"Giá trả\",\r\n  },\r\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\r\n];\r\nexport const ImportReturnHeadCells = [\r\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\r\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\r\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá nhập\" },\r\n  {\r\n    id: \"return_price\",\r\n    align: \"right\",\r\n    disablePadding: true,\r\n    label: \"Giá trả\",\r\n  },\r\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\r\n];\r\n\r\nexport const OrderHeadCells = [\r\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\r\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\r\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Khoảng giá\" },\r\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\r\n];\r\nexport const CheckHeadCells = [\r\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\r\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\r\n  { id: \"quantity\", align: \"right\", disablePadding: true, label: \"Tồn kho\" },\r\n  {\r\n    id: \"real-quantity\",\r\n    align: \"center\",\r\n    disablePadding: true,\r\n    label: \"SL thực tế\",\r\n  },\r\n  { id: \"balance\", align: \"right\", disablePadding: true, label: \"Lệch\" },\r\n];\r\n\r\nexport const OrderListHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\r\n  {\r\n    id: \"supplier\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Khách hàng\",\r\n  },\r\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\r\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Khoảng tiền\" },\r\n  { id: \"status\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\r\n  // {\r\n  //   id: \"employee\",\r\n  //   align: \"left\",\r\n  //   disablePadding: false,\r\n  //   label: \"Người thực hiện\",\r\n  // },\r\n];\r\nexport const CheckHistoryHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày kiểm\" },\r\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\r\n  {\r\n    id: \"inventory\",\r\n    align: \"right\",\r\n    disablePadding: false,\r\n    label: \"Tổng SL lệch\",\r\n  },\r\n  {\r\n    id: \"substract\",\r\n    align: \"right\",\r\n    disablePadding: false,\r\n    label: \"Tổng tiền lệch\",\r\n  },\r\n  // { id: \"status\", align: \"left\", disablePadding: false, label: \"Chức vụ\" },\r\n  {\r\n    id: \"employee\",\r\n    align: \"center\",\r\n    disablePadding: false,\r\n    label: \"Người thực hiện\",\r\n  },\r\n];\r\n\r\nexport const DeliveryHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\r\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\r\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\r\n  {\r\n    id: \"payment\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Hình thức trả\",\r\n  },\r\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng hoá đơn\" },\r\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\r\n  {\r\n    id: \"employee\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"Người thực hiện\",\r\n  },\r\n];\r\n\r\nexport const EmployeeScheduleHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\r\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\r\n  { id: \"status\", align: \"center\", disablePadding: true, label: \"Chấm công\" },\r\n];\r\n\r\nexport const InventoryCheckHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\r\n  { id: \"inventory\", align: \"left\", disablePadding: false, label: \"Tồn kho\" },\r\n  { id: \"real\", align: \"left\", disablePadding: false, label: \"Thực tế\" },\r\n  {\r\n    id: \"diffQuantity\",\r\n    align: \"left\",\r\n    disablePadding: false,\r\n    label: \"SL lệch\",\r\n  },\r\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Giá trị lệch\" },\r\n];\r\n\r\nexport const VoucherHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên voucher\" },\r\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\r\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\r\n  { id: \"quantity\", align: \"left\", disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"value\", align: \"left\", disablePadding: true, label: \"Mệnh giá\" },\r\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\r\n];\r\n\r\nexport const DiscountHeadCells = [\r\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\r\n  {\r\n    id: \"name\",\r\n    align: \"left\",\r\n    disablePadding: true,\r\n    label: \"Tên chương trình\",\r\n  },\r\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\r\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\r\n  { id: \"type\", align: \"left\", disablePadding: true, label: \"Hình thức\" },\r\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\r\n];\r\n","function descendingComparator(a, b, orderBy) {\r\n   if ( orderBy !== null){\r\n    if (b[orderBy] < a[orderBy]) {\r\n        return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n        return 1;\r\n    }\r\n    \r\n    } else{\r\n        if (b.id< a.id) {\r\n            return -1;\r\n        }\r\n        if (b.id > a.id) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n    return 0;\r\n}\r\n// function descendingComparator(a, b, orderBy) {\r\n//     if (b.id< a.id) {\r\n//         return -1;\r\n//     }\r\n//     if (b.id > a.id) {\r\n//         return 1;\r\n//     }\r\n//     return 0;\r\n// }\r\nexport function getComparator(order, orderBy) {\r\n    return order === 'desc'\r\n      ? (a, b) => descendingComparator(a, b, orderBy)\r\n      : (a, b) => -descendingComparator(a, b, orderBy);\r\n  }\r\n  \r\nexport  function stableSort(array, comparator) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n        const order = comparator(a[0], b[0]);\r\n        if (order !== 0) return order;\r\n        return a[1] - b[1];\r\n    });\r\n    return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\n\r\nexport function calculateTotalQuantity ( cartList ) {\r\n    var value= 0\r\n    cartList.map(item => value +=item.quantity )\r\n    return value\r\n  }\r\n  export function calculateTotalReturnQuantity ( cartList ) {\r\n    var value= 0\r\n    cartList.map(item => value +=item.returnQuantity )\r\n    return value\r\n  }\r\n\r\n  ","import axiosClient from \"./axiosClient\";\r\nconst customerApi = {\r\n  createCustomer: (storeUuid, body) => {\r\n    const url = `/stores/${storeUuid}/customers`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  getCustomers: (storeUuid, query) => {\r\n    const url = `/stores/${storeUuid}/customers`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n\r\n  getCustomer: (storeUuid, customerUuid) => {\r\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  deleteCustomer: (storeUuid, customerUuid) => {\r\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n  updateCustomer: (storeUuid, customerUuid,body) => {\r\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\r\n    return axiosClient.put(url,body);\r\n  },\r\n  \r\n};\r\nexport default customerApi;\r\n","import React, {useState} from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Dialog\r\n} from \"@material-ui/core\";\r\n\r\n//import project\r\nimport customerApi from \"../../../../api/customerApi\";\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n    },\r\n    textField: {\r\n      width: \"100%\",\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nconst AddCustomer = (props) => {\r\n  const { handleClose, open, onReload } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const customerFormik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      address: \"\",\r\n      paymentInfo:\"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\r\n      \r\n      email: Yup.string().email(\"Email không chính xác\")\r\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\r\n    }),\r\n  })\r\n\r\n  const info = useSelector(state => state.info)\r\n  const store_uuid = info.store.uuid\r\n\r\n  const handleCloseAndReset =() =>{\r\n    onReload()\r\n    // handleClose()\r\n    customerFormik.resetForm()\r\n  } \r\n  const dispatch = useDispatch()\r\n  return (\r\n \r\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Thêm khách hàng\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"space-around\"\r\n            spacing={3}\r\n          >\r\n            <Grid item sm={7}>\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Tên khách hàng\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                required\r\n                name = \"name\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.name}\r\n                error={customerFormik.touched.name && customerFormik.errors.name}\r\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"outlined-basic\"\r\n                label=\"Số điện thoại\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                name=\"phone\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.phone}\r\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\r\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Địa chỉ\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                name= \"address\"\r\n                // required\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.address}\r\n                error={customerFormik.touched.address && customerFormik.errors.address}\r\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n            </Grid>\r\n            <Grid item sm={5}>\r\n              \r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Email\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                name = \"email\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.email}\r\n                error={customerFormik.touched.email && customerFormik.errors.email}\r\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n              <TextField\r\n                id=\"date\"\r\n                label=\"Thông tin thanh toán\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                className={classes.textField}\r\n                name = \"paymentInfo\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.paymentInfo}\r\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\r\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={ handleClose}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button\r\n          onClick={async () => {   \r\n            handleClose()  \r\n            let body = {\r\n              name: customerFormik.values.name,\r\n              email: customerFormik.values.email,\r\n              phone: customerFormik.values.phone,\r\n              address: customerFormik.values.address,\r\n              payment_info: customerFormik.values.paymentInfo,\r\n            };\r\n\r\n            try {\r\n              const response = await customerApi.createCustomer(store_uuid, body)\r\n              dispatch(statusAction.successfulStatus(\"Tạo khách hàng thành công\"));\r\n              handleCloseAndReset()\r\n            } catch (err) {\r\n              dispatch(statusAction.successfulStatus(\"Tạo khách hàng thất bại\"));\r\n            }\r\n\r\n          }}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          disabled = {!(customerFormik.isValid && Object.keys(customerFormik.touched).length > 0)}\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddCustomer;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  useTheme,\r\n  withStyles,\r\n  makeStyles,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    input: {\r\n      borderRadius: \"20px\",\r\n    },\r\n  })\r\n);\r\n\r\nconst CustomTextField = withStyles({\r\n  root: {\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": {\r\n        borderRadius: 14,\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst SearchCustomer = (props) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  // const [selectedOption, setSelectedOption] = useState(props.selected)\r\n  // const [options, setOptions] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n\r\n  }, [props.selectedCustomer]);\r\n\r\n  const renderOption = (option) => {\r\n    //display value in Popper elements\r\n    return (\r\n      <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\">\r\n        <Typography variant=\"h5\">{option.name}</Typography>\r\n        <Typography variant=\"body1\">{option.phone}</Typography>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const renderInput = (params) => (\r\n    <TextField\r\n      {...params}\r\n      fullWidth\r\n      placeholder=\"Tìm khách hàng\"\r\n      margin=\"normal\"\r\n      InputProps={\r\n        props.selectedCustomer\r\n          ? {\r\n              ...params.InputProps,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: grey[500] }} />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  size=\"small\"\r\n                  onClick={props.handleClickOpen}\r\n                  style={{ marginRight: -30 }}\r\n                >\r\n                  <AddIcon />\r\n                </IconButton>\r\n              ),\r\n            }\r\n          : {\r\n              ...params.InputProps,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: grey[500] }} />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  size=\"small\"\r\n                  onClick={props.handleClickOpen}\r\n                  style={{ marginRight: -30 }}\r\n                >\r\n                  <AddIcon />\r\n                </IconButton>\r\n              ),\r\n            }\r\n      }\r\n    />\r\n  );\r\n\r\n  const getOptionLabel = (option) => (option.name ? option.name : \"\");\r\n\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <Autocomplete\r\n        autoComplete={false}\r\n        freeSolo\r\n        onKeyUp={(event) => {\r\n          if (event.key === \"Enter\") {\r\n            props.handleSearchCustomer(event.target.value) \r\n          }\r\n        }}\r\n       \r\n        value={props.selectedCustomer}\r\n        options={props.customers.filter(item => item.status ==='active')}\r\n        getOptionLabel={getOptionLabel}\r\n        onChange={(event, value) => {\r\n          if (value) {\r\n            // setSelectedOption(value);\r\n            props.handleSearchBarSelect(value);\r\n          }\r\n        }}\r\n        renderInput={renderInput}\r\n        renderOption={renderOption}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchCustomer;\r\n","import React from \"react\";\r\nimport {\r\n  Modal,\r\n  Box,\r\n  Paper,\r\n  Grid,\r\n  ListItem,\r\n  Typography,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { Button} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    padding: 20,\r\n    minWidth: \"100%\",\r\n  },\r\n  modal: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    display: \"flex\",\r\n  },\r\n}));\r\n\r\nexport default function ModalWrapperWithClose(props) {\r\n  const {title,open,handleClose,handleSubmit,name} = props\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        className={classes.modal}\r\n\r\n      >\r\n        <React.Fragment>\r\n          <Paper>\r\n            <Box className={classes.container}>\r\n                <Box>   \r\n                  <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                      <Typography variant=\"h3\" >{title}</Typography>\r\n                      <IconButton aria-label=\"close\"   onClick={handleClose}>\r\n                        <CloseIcon  fontSize=\"small\" />\r\n                      </IconButton>\r\n                </Grid>\r\n                </Box> \r\n              {props.children}\r\n      \r\n            </Box>\r\n          </Paper>\r\n            \r\n        </React.Fragment>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n    Button,\r\n    TextField,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Typography,\r\n    Grid,\r\n    Avatar,\r\n    Dialog,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Card,\r\n    FormControlLabel,\r\n    Checkbox,\r\n    Divider,\r\n    ButtonBase,\r\n    Tooltip,\r\n    CardHeader,\r\n    Input,\r\n    Chip,\r\n    IconButton,\r\n    FormLabel,\r\n    RadioGroup,\r\n    Radio\r\n  } from \"@material-ui/core\";\r\nimport clsx  from \"clsx\"\r\n\r\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\"\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n    createStyles({\r\n\r\n    weight:{\r\n        fontWeight:500,\r\n        color: \"#000\",\r\n        fontSize: 14,\r\n    },\r\n    headerTitle: {\r\n        fontSize: \"1.125rem\",\r\n      },\r\n\r\n})\r\n);\r\nconst DiscountPopup = ({open,onClose,title}) => {\r\n    const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [value, setValue] = React.useState('');\r\n\r\n  const handleChange = (event) => {\r\n    if(event.target.value === value){\r\n        setValue('');\r\n    }else{\r\n        setValue(event.target.value);\r\n    }\r\n    \r\n  };\r\n    return (\r\n        // <Dialog open={open} handleClose={onClose} title={title}>\r\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"md\" fullWidth={true}>\r\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                    <DialogTitle id=\"form-dialog-title\">\r\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\r\n                            {title}\r\n                        </Typography>\r\n                    </DialogTitle>\r\n\r\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\r\n                        <CloseIcon  fontSize=\"small\" />\r\n                    </IconButton>\r\n            </Grid>\r\n           \r\n            <DialogContent>\r\n                <Grid  container direction=\"row\" justifyContent=\"\" style={{marginBottom:8}}>\r\n                    <Grid item style={{width:10,marginRight:30}} >                      \r\n                    </Grid>\r\n                    <Grid item style={{width:250,marginRight:30}} >\r\n                        <Typography className={clsx(classes.text,classes.weight)} >Chương trình khuyến mãi</Typography>\r\n                    </Grid>\r\n                    <Grid item style={{width:250, marginRight:30}}>\r\n                        <Typography className={clsx(classes.text,classes.weight)} >Hình thức khuyến mãi</Typography>\r\n                    </Grid>\r\n                </Grid>\r\n                <Divider style={{marginBottom:8}} />\r\n                {/* // */}\r\n                <FormControl component=\"fieldset\">\r\n                    <RadioGroup aria-label=\"gender\" name=\"gender1\" value={value} onChange={handleChange}>\r\n                        <Grid  container direction=\"row\" justifyContent=\"\">\r\n                            <Grid item style={{width:10,marginRight:30}} >\r\n                                <FormControlLabel value=\"female\" control={<Radio  size=\"small\"/>}  />\r\n                            </Grid>\r\n                            <Grid item style={{width:250,marginRight:30,marginTop:10, color:\"#383737\"}} >\r\n                                <Typography >VOUCHER</Typography>\r\n                            </Grid>\r\n                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\r\n                                <Typography  >Giảm giá tổng tiền</Typography>\r\n                            </Grid>\r\n                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\r\n                                <Typography  >Giảm giá 100</Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                </RadioGroup>\r\n            </FormControl>\r\n            <Divider />\r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n        <Button\r\n          onClick={onClose}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button\r\n         \r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n        >\r\n          Áp dụng\r\n        </Button>\r\n      </DialogActions>\r\n  \r\n              \r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default DiscountPopup\r\n","import React from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  Box,\r\n  Typography,\r\n  DialogActions,\r\n  DialogContent,\r\n  Button,\r\n  Dialog,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormControl,\r\n  RadioGroup,\r\n  Radio,\r\n  ListItem\r\n} from \"@material-ui/core\";\r\nimport {calculateTotalQuantity} from \"../../../../components/TableCommon/util/sortUtil\"\r\n\r\nimport AddCustomer from \"../../../../views/ManagerView/Customer/AddCustomer/AddCustomer\";\r\nimport giftBox from \"../../../../assets/img/icon/giftbox.png\";\r\n// import giftBox from \"../../../../assets/img/icon/gift.png\";\r\n// import giftBox from \"../../../../assets/img/icon/gift2.png\";\r\n\r\nimport SearchCustomer from \"../../../SearchBar/SearchCustomer\";\r\n\r\n//import project\r\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\r\n\r\n// import VNDInput from '../../../TextField/NumberFormatCustom';\r\n// import { VNDFormat,ThousandFormat } from '../../../TextField/NumberFormatCustom';\r\n\r\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\r\nimport {\r\n  VNDFormat,\r\n  ThousandFormat,\r\n} from \"../../../TextField/NumberFormatCustom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport DiscountPopUp from \"../../../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    marginBox: {\r\n      marginTop: 30,\r\n    },\r\n    marginRow: {\r\n      marginTop: 5,\r\n    },\r\n    hidden: {\r\n      display: \"none\",\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n  })\r\n);\r\nconst CartSummary = (props) => {\r\n  const {\r\n    cartData,\r\n    handleSelectCustomer,\r\n    currentCustomer,\r\n    handleUpdateDiscount,\r\n    handleUpdatePaidAmount,\r\n    handleUpdatePaymentMethod,\r\n    handleCheckDelivery,\r\n    handleSearchCustomer,\r\n    handleConfirm,\r\n    selectedBranch,\r\n    setSelectedBranch,\r\n    customers,\r\n    currentBranch,\r\n    mode,\r\n    reloadCustomers,\r\n    discountData,\r\n  } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const dispatch = useDispatch();\r\n  const handleClose = (status) => {\r\n    if ((status = \"Success\")) {\r\n      setOpen(false);\r\n      reloadCustomers();\r\n      dispatch(statusAction.successfulStatus(\"Thêm khách hàng thành công\"));\r\n    } else {\r\n      dispatch(statusAction.failedStatus(\"Thêm khách hàng thất bại\"));\r\n    }\r\n  };\r\n\r\n  //mode 2: popup\r\n  const [openPopUp, setOpenPopUp] = React.useState(false);\r\n  const handleClickOpenPopUp = () => {\r\n    setOpenPopUp(true);\r\n  };\r\n\r\n  const handleClosePopUp = () => {\r\n    setOpenPopUp(false);\r\n  };\r\n\r\n  // giao hang\r\n  const [deliver, setDeliver] = React.useState(false);\r\n\r\n  const handleChangeDeliver = (event) => {\r\n    setDeliver(event.target.checked);\r\n  };\r\n\r\n\r\n  // so tien khach đưa\r\n  const [customerMoney, setCustomerMoney] = React.useState(\"0\");\r\n  \r\n  \r\n  // React.useEffect(() => {console.log(currentBranch)})\r\n\r\n  // console.log(\"cartItem\")\r\n  // console.log(cartData.cartItem)\r\n  // var emptyCart =  cartData.cartItem.length === 0;\r\n\r\n  // var correctQuantity = cartData.cartItem.every(function(element, index) {\r\n  //     console.log(element);\r\n  //     if(element.quantity > element.branch_quantity)\r\n  //         return false;\r\n  //     else\r\n  //         return true;\r\n  // });\r\n  // console.log(\"correctQuantity\")\r\n  // console.log(correctQuantity)\r\n  // console.log(\"emptyCart\")\r\n  // console.log(emptyCart)\r\n\r\n\r\n  // Discount\r\n  // let haveDiscount = discountData.every(row => row.detail.totalCost > parseInt(cartData.total_amount))\r\n  // let haveDiscount = discountData.some(row => row.detail.map((i)=> i.totalCost) < parseInt(cartData.total_amount))\r\n  function checkHaveDiscount  () {\r\n        for (let i = 0; i < discountData.length; i++) {\r\n            for (let j = 0; j < discountData[i]?.detail.length; j++) {\r\n                if( discountData[i].detail[j].totalCost < parseInt(cartData.total_amount)){\r\n                  return true;\r\n                }\r\n            }         \r\n        }\r\n        return false\r\n  }\r\n  let haveDiscount = checkHaveDiscount();\r\n  const [openDiscount, setOpenDiscount] = React.useState(false);\r\n  console.log(\"cartData\",cartData)\r\n\r\n  \r\n  return (\r\n    <Box style={{ padding: 30, minHeight: \"80vh\" }}>\r\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n          {/* 1. BASIC INFO */}\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"flex-start\"\r\n          >\r\n            <Typography variant=\"h5\">Chi nhánh</Typography>\r\n            <Typography variant=\"body2\">{currentBranch.name}</Typography>\r\n            {/* <BranchSelect \r\n                            setSelectedBranch={setSelectedBranch}\r\n                            selectedBranch={selectedBranch}\r\n                        /> */}\r\n          </Grid>\r\n\r\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\r\n            <Typography variant=\"body2\">\r\n              {new Date().toLocaleDateString(\"es-US\")}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              {new Date().toLocaleTimeString()}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <div style={{ width: \"100%\" }}>\r\n          <SearchCustomer\r\n            handleClickOpen={handleClickOpen}\r\n            handleSearchCustomer={handleSearchCustomer}\r\n            customers={customers}\r\n            selectedCustomer={\r\n              currentCustomer ? currentCustomer : { name: \"\", phone: \"\" }\r\n            }\r\n            handleSearchBarSelect={handleSelectCustomer}\r\n          />\r\n        </div>\r\n\r\n        <AddCustomer open={open} handleClose={handleClose} />\r\n\r\n        {/* when change mode to menu product */}\r\n        {props.children}\r\n\r\n        {/* 2. PAYMENT INFO  */}\r\n        {!mode ? (\r\n          <>\r\n            {/* 2.1 Mode 1 */}\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginBox}\r\n            >\r\n              <Typography variant=\"h5\">Tổng SL sản phẩm ({cartData.cartItem.length}) </Typography>\r\n              <Typography variant=\"body2\">\r\n                <ThousandFormat\r\n                  value={calculateTotalQuantity(cartData.cartItem)}\r\n                ></ThousandFormat>\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <div>\r\n                <ListItem style={{padding: 0,margin:0}}>\r\n                <Typography variant=\"h5\">Tổng tiền hàng</Typography>\r\n                {haveDiscount ? \r\n                <div onClick={()=>{setOpenDiscount(!openDiscount);console.log(\"hello\")}}>\r\n                    <img id=\"gift\" src={require('../../../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} />\r\n\r\n                </div>\r\n                :null}\r\n                \r\n                </ListItem>\r\n              \r\n              </div>\r\n              {openDiscount && <DiscountPopUp open={openDiscount} title=\"Khuyến mãi trên hóa đơn\" onClose={()=>{setOpenDiscount(!openDiscount)}}/>}\r\n\r\n              \r\n              <Typography variant=\"body2\">\r\n                <VNDFormat value={cartData.total_amount} />\r\n              </Typography>\r\n            </Grid>\r\n\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Giảm giá</Typography>\r\n              <VNDInput\r\n                id=\"standard-basic\"\r\n                style={{ width: 90 }}\r\n                size=\"small\"\r\n                inputProps={{ style: { textAlign: \"right\" } }}\r\n                onChange={(e) => handleUpdateDiscount(e.target.value)}\r\n              />\r\n            </Grid>\r\n\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Tổng tiền</Typography>\r\n              <Typography variant=\"body2\">\r\n                <VNDFormat\r\n                  style={{ color: \"#2096f3\", fontWeight: 500 }}\r\n                  value={cartData.total_amount - cartData.discount}\r\n                />\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Khách thanh toán</Typography>\r\n              <VNDInput\r\n                id=\"standard-basic\"\r\n                style={{ width: 90 }}\r\n                // defaultPrice={(cartData.total_amount - cartData.discount).toString()}\r\n                // defaultValue={(cartData.total_amount - cartData.discount).toString()}\r\n                value={cartData.paid_amount}\r\n                size=\"small\"\r\n                inputProps={{ style: { textAlign: \"right\" } }}\r\n                onChange={(e) => handleUpdatePaidAmount(e.target.value)}\r\n              />\r\n            </Grid>\r\n\r\n            {/* <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" className={classes.marginRow}>\r\n                                <Typography variant=\"h5\">\r\n                                    Khách đưa\r\n                                </Typography>\r\n                                <VNDInput id=\"standard-basic\" style={{ width: 90 }}\r\n                                    // defaultValue={(cartData.total_amount - cartData.discount).toString()}\r\n                                    defaultValue={cartData.total_amount - cartData.discount}\r\n                                    // value={cartData.paid_amount}\r\n                                    // value={cartData.total_amount - cartData.discount}\r\n                                    size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\r\n                                    onChange={(e) => setCustomerMoney(e.target.value)} />\r\n                            </Grid> */}\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Tiền thối</Typography>\r\n              {/* <Input.ThousandSeperatedInput\r\n                                    id=\"standard-basic\" style={{ width: 90 }}\r\n                                    size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\r\n                                    value={Number(customerMoney) - cartData.paid_amount}\r\n                                /> */}\r\n              <Typography variant=\"body2\">\r\n                <VNDFormat\r\n                  value={\r\n                    cartData.paid_amount -\r\n                    (cartData.total_amount - cartData.discount)\r\n                  }\r\n                />\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"flex-end\"\r\n              alignItems=\"center\"\r\n              className={classes.marginRow}\r\n            >\r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup\r\n                  aria-label=\"gender\"\r\n                  name=\"gender1\"\r\n                  value={cartData.payment_method}\r\n                  onChange={(e)=>handleUpdatePaymentMethod(e.target.value)}\r\n                >\r\n                  <Grid container direction=\"row\">\r\n                    <FormControlLabel\r\n                      labelPlacement=\"start\"\r\n                      value=\"card\"\r\n                      control={<Radio />}\r\n                      label=\"Thẻ\"\r\n                    />\r\n                    <FormControlLabel\r\n                      labelPlacement=\"start\"\r\n                      value=\"cash\"\r\n                      control={<Radio />}\r\n                      label=\"Tiền mặt\"\r\n                    />\r\n                  </Grid>\r\n                </RadioGroup>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"flex-end\"\r\n              alignItems=\"center\"\r\n            >\r\n              <FormControlLabel\r\n                labelPlacement=\"start\"\r\n                control={\r\n                  <Checkbox checked={cartData.delivery} onChange={(e)=>handleCheckDelivery(e.target.checked)} />\r\n                }\r\n                label=\"Giao hàng\"\r\n              />\r\n            </Grid>\r\n            <Button\r\n              variant=\"contained\"\r\n              fullWidth\r\n              color=\"primary\"\r\n              style={{ marginTop: 40 }}\r\n              onClick={handleConfirm}\r\n            >\r\n              Thanh toán\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          /* 2.2 Mode 2 */\r\n          <>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Tổng tiền hàng</Typography>\r\n              <Typography variant=\"body2\">500.000</Typography>\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Giảm giá</Typography>\r\n              <Input.ThousandSeperatedInput\r\n                id=\"standard-basic\"\r\n                style={{ width: 90 }}\r\n                size=\"small\"\r\n                inputProps={{ style: { textAlign: \"right\" } }}\r\n              />\r\n            </Grid>\r\n            <Button\r\n              variant=\"contained\"\r\n              fullWidth\r\n              color=\"primary\"\r\n              style={{ marginTop: 20 }}\r\n              onClick={handleClickOpenPopUp}\r\n            >\r\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n                <Grid item>Thanh toán </Grid>\r\n                <Grid item>500.000 </Grid>\r\n              </Grid>\r\n            </Button>\r\n            <Dialog\r\n              open={openPopUp}\r\n              onClose={handleClosePopUp}\r\n              aria-labelledby=\"form-dialog-title\"\r\n            >\r\n              <CheckoutPopUp />\r\n            </Dialog>\r\n          </>\r\n        )}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CartSummary;\r\n\r\nconst CheckoutPopUp = (props) => {\r\n  const { onClose, handleChangePayment, payment } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  return (\r\n    <>\r\n      <Box style={{ marginTop: 20, marginLeft: 15, marginBottom: 10 }}>\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Trả tiền NCC\r\n        </Typography>\r\n      </Box>\r\n      <DialogContent>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng tiền hàng</Typography>\r\n          <Typography variant=\"body2\">500.000</Typography>\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\" style={{ paddingRight: 50 }}>\r\n            Đã trả CNN\r\n          </Typography>\r\n          <Input.ThousandSeperatedInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 90 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Công nợ</Typography>\r\n          <Input.ThousandSeperatedInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 90 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"flex-end\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <FormControl component=\"fieldset\">\r\n            <RadioGroup\r\n              aria-label=\"gender\"\r\n              name=\"gender1\"\r\n              value={payment}\r\n              onChange={handleChangePayment}\r\n            >\r\n              <Grid container direction=\"row\">\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"card\"\r\n                  control={<Radio />}\r\n                  label=\"Thẻ\"\r\n                />\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"cash\"\r\n                  control={<Radio />}\r\n                  label=\"Tiền mặt\"\r\n                />\r\n              </Grid>\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={onClose}\r\n          fullWidth\r\n          color=\"primary\"\r\n          style={{ marginTop: 40 }}\r\n        >\r\n          Thanh toán\r\n        </Button>\r\n      </DialogActions>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react'\r\nimport {Grid,Card,Box,Tooltip,TextField,ListItem,Divider,IconButton,TableRow,TableCell,TableBody,Typography} from '@material-ui/core'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\r\nimport {withStyles} from \"@material-ui/core/styles\";\r\n\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport clsx from \"clsx\";\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nconst ButtonQuantity = (props) =>{\r\n    const classes = useStyles();\r\n    const {quantity,setQuantity, limit, isReturn,branch_quantity,isMini,isCustomer} = props;\r\n    const [show, setShow] = React.useState('none');\r\n  \r\n    const handleIncrement = () => {\r\n      //them cai nay\r\n       if (Number(limit) === 0){\r\n        setQuantity(quantity)\r\n        return\r\n      }\r\n\r\n      else if(limit) {\r\n        if(quantity >= Number(limit)) {\r\n          console.log('true')\r\n          setQuantity(quantity)\r\n          return\r\n        } \r\n      } \r\n     \r\n      setQuantity(quantity+ 1);\r\n    };\r\n  \r\n    const handleDecrement = () => {\r\n      if(quantity >=1){setQuantity(quantity- 1);}\r\n    };\r\n\r\n    \r\n    const handleShow = () => {\r\n      setShow('block');\r\n    };\r\n    const handleClose = () => {\r\n      setShow('none');\r\n    };\r\n  \r\n    const HtmlTooltip = withStyles((theme) => ({\r\n      tooltip: {\r\n        backgroundColor: '#9f9fa1',\r\n        color: 'rgba(0, 0, 0, 0.87)',\r\n        maxWidth: 220,\r\n        fontSize: theme.typography.pxToRem(12),\r\n        border: '1px solid #dadde9',\r\n      },\r\n    }))(Tooltip);\r\n\r\n    var error_quantity = quantity > branch_quantity;\r\n\r\n    const handleQuantity = (e) =>{\r\n\r\n       if (!isNaN(e.target.value) && e.target.value >0){\r\n        setQuantity(parseInt(e.target.value))\r\n      } \r\n    }\r\n   \r\n\r\n    return(\r\n    <ListItem onMouseOver={handleShow} onMouseOut={handleClose}  > \r\n\r\n        {error_quantity && isMini?\r\n            <HtmlTooltip title={ <React.Fragment>\r\n                <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>   <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \r\n                </React.Fragment> } >\r\n              <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \r\n          </HtmlTooltip>:null}\r\n\r\n          {/* margin:isMini?0:null, padding:isMini?0:null */}\r\n          <IconButton style={{ display: isMini?true:show ,color: error_quantity  ? \"red\":null,margin:isMini?0:null, padding:isMini?0:null}} aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleDecrement} >\r\n            <RemoveIcon fontSize=\"inherit\" />\r\n          </IconButton> \r\n       \r\n           <TextField  variant={isMini? \"outlined\" : \"standard\"} id=\"standard-basic\" style={{width:isMini?45:35 ,padding:0, marginLeft:isCustomer?20:null,marginRight:isCustomer?20:null}} className={clsx(classes.textfieldClass,(show === 'none') ? classes.padding : null)}  size=\"small\" inputProps={{style: { textAlign: isMini?\"center\": \"right\", color: error_quantity  ? \"red\":null, fontWeight:error_quantity ? 600:null,\r\n          backgroundColor:error_quantity ?\"#ffe8e8\":null\r\n        }}} \r\n                value={quantity} onChange={handleQuantity}/>\r\n           \r\n           \r\n          {isReturn ? `/${limit}`: null}\r\n          <IconButton style={{ display: isMini?true:show ,color: error_quantity  ? \"red\":null ,margin:isMini?0:null, padding:isMini?0:null,} } aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleIncrement}>\r\n            <AddIcon fontSize=\"inherit\" />\r\n          </IconButton>\r\n\r\n\r\n\r\n{/* Error  */}\r\n          {error_quantity && !isMini?\r\n     \r\n        <HtmlTooltip\r\n        title={\r\n          <React.Fragment>\r\n            <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>\r\n            <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \r\n           \r\n          </React.Fragment>\r\n        }\r\n      >\r\n         <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \r\n      </HtmlTooltip>\r\n         \r\n          \r\n          :null}\r\n\r\n    </ListItem>  \r\n    )\r\n  }\r\n\r\nexport default ButtonQuantity\r\n","export default __webpack_public_path__ + \"static/media/tch.cc1a031b.jpeg\";","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { useState } from \"react\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport * as _ from \"lodash\";\r\n\r\nexport default function SelectBatch({ handleSubmit, handleClose, row, isInventoryCheck }) {\r\n  const [selectedBatches, setSelectedBatches] = useState([]);\r\n  return (\r\n    <Dialog open={true}>\r\n      <DialogTitle\r\n        style={{ fontSize: 20 }}\r\n      >{`Chọn lô của ${row.product_code} - ${row.name}`}</DialogTitle>\r\n      <DialogContent>\r\n        <Autocomplete\r\n          options={row.batches}\r\n          getOptionLabel={(batch) =>\r\n            `${batch?.batch_code} - ${\r\n              batch?.expiry_date ? batch?.expiry_date : \"\"\r\n            } - Tồn kho: ${batch?.quantity}`\r\n          }\r\n          renderInput={(params) => (\r\n            <TextField {...params} label=\"Tìm mã lô\" variant=\"standard\" />\r\n          )}\r\n          onChange={(e, value) => {\r\n            if (value) {\r\n              setSelectedBatches(\r\n                _.uniqBy(\r\n                  [\r\n                    ...selectedBatches,\r\n                    ...[{ ...value, additional_quantity: 0, is_new: false }],\r\n                  ],\r\n                  \"batch_code\"\r\n                )\r\n              );\r\n            }\r\n          }}\r\n        />\r\n        <div style={{ marginTop: 20 }}>\r\n          {selectedBatches.map((batch) => {\r\n            return (\r\n              <div\r\n                key={batch?.batch_code}\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  gap: 10,\r\n                  border: \"2px solid #eee\",\r\n                  borderRadius: 5,\r\n                  marginBottom: 10,\r\n                  alignItems: \"center\",\r\n                  width: 500,\r\n                  justifyContent: \"space-between\",\r\n                  padding: 10,\r\n                }}\r\n              >\r\n                <Typography variant=\"h5\">{`${batch?.batch_code} - ${\r\n                  batch?.expiry_date ? batch?.expiry_date : \"\"\r\n                } - Tồn kho: ${batch?.quantity}`}</Typography>\r\n                <TextField\r\n                  type=\"number\"\r\n                  style={{ width: 100 }}\r\n                  value={batch.additional_quantity}\r\n                  onChange={(e) => {\r\n                    if (Number(e.target.value) < 0) return;\r\n                    const newSelectedList = selectedBatches.map(\r\n                      (selectedBatch) => {\r\n                        if (selectedBatch.batch_code === batch.batch_code) {\r\n                          return {\r\n                            ...selectedBatch,\r\n                            additional_quantity: Number(e.target.value),\r\n                          };\r\n                        } else {\r\n                          return selectedBatch;\r\n                        }\r\n                      }\r\n                    );\r\n                    setSelectedBatches(newSelectedList);\r\n                  }}\r\n                ></TextField>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button color=\"secondary\" onClick={handleClose}>\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            if (!isInventoryCheck) {\r\n              const nonZeroBatch = selectedBatches.filter(\r\n                (batch) => batch.additional_quantity\r\n              );\r\n              handleSubmit(nonZeroBatch);\r\n            } else {\r\n              handleSubmit(selectedBatches);\r\n            }\r\n            handleClose();\r\n          }}\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\n//import style\r\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\r\n//impỏrt library\r\nimport {\r\n  Box,\r\n  TextField,\r\n  ListItem,\r\n  IconButton,\r\n  TableRow,\r\n  TableCell,\r\n  Tooltip,\r\n  Chip,\r\n  Button,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { DeleteOutline } from \"@material-ui/icons\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\n//import project\r\nimport * as Input from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\r\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport DiscountPopUp from \"../DiscountPopup/DiscountPopup\";\r\nimport icon from \"../../../../assets/img/product/tch.jpeg\";\r\nimport SelectBatch from \"../../../../components/SelectBatch/SelectBatch\";\r\nexport const CartRow = (props) => {\r\n  const classes = useStyles();\r\n  const haveDiscount = true;\r\n\r\n  const {\r\n    row,\r\n    discountData,\r\n    handleDeleteItemCart,\r\n    handleChangeItemQuantity,\r\n    handleUpdateBatches,\r\n    handleChangeItemPrice,\r\n  } = props;\r\n\r\n  const updateQuantity = (newQuantity) => {\r\n    handleChangeItemQuantity(row.uuid, newQuantity);\r\n  };\r\n  const [openDiscount, setOpenDiscount] = React.useState(false);\r\n  const handleOpenDiscount = () => {\r\n    setOpenDiscount(!openDiscount);\r\n  };\r\n\r\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\r\n  const [selectedBatches, setSelectedBatches] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (row.batches.length >= 1) {\r\n      setSelectedBatches([{ ...row.batches[0], additional_quantity: 0 }]);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let total = 0;\r\n    selectedBatches.forEach((batch) => {\r\n      total += Number(batch.additional_quantity);\r\n    });\r\n    console.log(total);\r\n    updateQuantity(total);\r\n    handleUpdateBatches(row.uuid, selectedBatches);\r\n  }, [selectedBatches]);\r\n\r\n  const handleSelectBatches = (batches) => {\r\n    const newBatches = [];\r\n    selectedBatches.forEach((selectedBatch) => {\r\n      const newBatch = batches.find(\r\n        (batch) => batch.batch_code === selectedBatch.batch_code\r\n      );\r\n      if (newBatch) {\r\n        newBatches.push({\r\n          ...selectedBatch,\r\n          additional_quantity:\r\n            Number(selectedBatch.additional_quantity) +\r\n            Number(newBatch.additional_quantity),\r\n        });\r\n      } else {\r\n        newBatches.push(selectedBatch);\r\n      }\r\n    });\r\n    batches.forEach((newBatch) => {\r\n      if (\r\n        !newBatches.find((batch) => newBatch.batch_code === batch.batch_code)\r\n      ) {\r\n        newBatches.push(newBatch);\r\n      }\r\n    });\r\n    console.log(newBatches);\r\n    setSelectedBatches(newBatches);\r\n  };\r\n  return (\r\n    <>\r\n      <TableRow hover key={props.row.uuid}>\r\n        <TableCell align=\"left\">{row.id + 1}</TableCell>\r\n        {/* Sửa lại thành product_code */}\r\n        <TableCell align=\"left\" style={{ width: 5 }}>\r\n          {row.product_code}\r\n        </TableCell>\r\n        <TableCell align=\"left\" style={{ minWidth: 200 }}>\r\n          <ListItem\r\n            style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n          >\r\n            <Box\r\n              component=\"img\"\r\n              sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\r\n              src={row.img_url}\r\n            />\r\n            <Typography>{row.name}</Typography>\r\n            {haveDiscount ? (\r\n              <img\r\n                id=\"gift\"\r\n                src={require(\"../../../../assets/img/icon/giftbox.png\").default}\r\n                style={{ height: 16, width: 16, marginLeft: 10, marginTop: -3 }}\r\n                onClick={() => setOpenDiscount(true)}\r\n              />\r\n            ) : null}\r\n          </ListItem>\r\n          {openDiscount && (\r\n            <DiscountPopUp\r\n              open={openDiscount}\r\n              title={`Khuyến mãi trên ${row.product_code} - ${row.name}`}\r\n              onClose={() => {\r\n                setOpenDiscount(false);\r\n              }}\r\n            />\r\n          )}\r\n        </TableCell>\r\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\r\n        <TableCell align=\"right\">\r\n          <Input.ThousandSeperatedInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 72 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n            defaultPrice={row.unit_price}\r\n            value={row.unit_price}\r\n            onChange={(e) =>\r\n              handleChangeItemPrice(props.row.uuid, e.target.value)\r\n            }\r\n          />\r\n        </TableCell>\r\n        {row.has_batches ? (\r\n          <TableCell align=\"center\" padding=\"none\">\r\n            {row.quantity}\r\n          </TableCell>\r\n        ) : (\r\n          <TableCell align=\"left\" padding=\"none\">\r\n            <ButtonQuantity\r\n              quantity={row.quantity}\r\n              setQuantity={updateQuantity}\r\n              branch_quantity={row.branch_quantity}\r\n            />\r\n          </TableCell>\r\n        )}\r\n\r\n        <TableCell align=\"right\" className={classes.boldText}>\r\n          <VNDFormat value={row.unit_price * row.quantity} />\r\n        </TableCell>\r\n        <TableCell align=\"right\">\r\n          <IconButton aria-label=\"expand row\" size=\"small\">\r\n            <DeleteForeverOutlinedIcon\r\n              onClick={() => handleDeleteItemCart(row.uuid)}\r\n            />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n      {row.has_batches ? (\r\n        <TableRow>\r\n          <TableCell colSpan={1}></TableCell>\r\n          <TableCell colSpan={10}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", gap: 10 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                onClick={() => setSelectBatchOpen(true)}\r\n              >\r\n                Chọn lô\r\n              </Button>\r\n              {selectedBatches.map((batch) => (\r\n                <Tooltip title={`Tồn kho - ${batch.quantity}`}>\r\n                  <Chip\r\n                    label={`${\r\n                      batch?.batch_code ? batch?.batch_code : \"Mới\"\r\n                    } - ${batch?.expiry_date ? batch?.expiry_date : \"\"} - ${\r\n                      batch.additional_quantity\r\n                    }`}\r\n                    key={batch.id}\r\n                    onDelete={() => {\r\n                      const newBatches = selectedBatches.filter(\r\n                        (selectedBatch) => selectedBatch.id !== batch.id\r\n                      );\r\n                      setSelectedBatches(newBatches);\r\n                    }}\r\n                    color={batch.is_new ? \"primary\" : \"secondary\"}\r\n                    deleteIcon={<DeleteOutline />}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Tooltip>\r\n              ))}\r\n              {selectBatchOpen && (\r\n                <SelectBatch\r\n                  handleSubmit={handleSelectBatches}\r\n                  row={row}\r\n                  handleClose={() => setSelectBatchOpen(false)}\r\n                />\r\n              )}\r\n            </div>\r\n          </TableCell>\r\n        </TableRow>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\nexport const CartRowMini = ({ row }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <>\r\n      <TableRow hover key={row.id}>\r\n        <TableCell align=\"left\">\r\n          <ListItem\r\n            style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n          >\r\n            <Box\r\n              component=\"img\"\r\n              sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\r\n              src={icon}\r\n            />\r\n            <Box direction=\"column\">\r\n              <Typography\r\n                className={classes.boldText}\r\n                style={{\r\n                  marginBottom: 3,\r\n                  fontSize: 14.5,\r\n                  width: 135,\r\n                  textOverflow: \"ellipsis\",\r\n                  overflow: \"hidden\",\r\n                  whiteSpace: \"nowrap\",\r\n                }}\r\n              >\r\n                {row.name}\r\n              </Typography>\r\n              {/* <Typography>{row.price}</Typography> */}\r\n              <Input.ThousandSeperatedInput\r\n                id=\"standard-basic\"\r\n                style={{ width: 70 }}\r\n                size=\"small\"\r\n                defaultPrice={row.price}\r\n              />\r\n            </Box>\r\n          </ListItem>\r\n        </TableCell>\r\n\r\n        <TableCell align=\"left\" padding=\"none\">\r\n          <TextField\r\n            variant=\"outlined\"\r\n            defaultValue={row.quantity}\r\n            style={{ width: 37, margin: 0 }}\r\n            size=\"small\"\r\n            inputProps={{\r\n              style: { paddingLeft: 5, paddingRight: 5, textAlign: \"center\" },\r\n            }}\r\n          />\r\n        </TableCell>\r\n\r\n        <TableCell align=\"right\" className={classes.boldText}>\r\n          700.000\r\n        </TableCell>\r\n        <TableCell align=\"left\">\r\n          <IconButton\r\n            aria-label=\"expand row\"\r\n            size=\"small\"\r\n            style={{ marginLeft: -25 }}\r\n          >\r\n            <DeleteForeverOutlinedIcon />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport icon from '../../assets/img/product/tch.jpeg';\r\nimport InventoryList from '../../assets/JsonData/inventory.json';\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\r\n//import library \r\nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\r\n\r\n\r\nconst MenuProduct = (props) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    //tab menu\r\n    const [value, setValue] = React.useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <Tabs style={{marginBottom:10, marginLeft:-20}}  variant=\"scrollable\" scrollButtons=\"auto\" indicatorColor=\"secondary\" textColor=\"secondary\"value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n           {categoryBig.map((item)=>{\r\n            return(\r\n                <Tab label={item} style={{ minWidth: 100,textTransform: 'none'}} />          \r\n               )\r\n           })}\r\n         </Tabs>\r\n         <TableContainer style={{maxHeight:'50vh',padding:5}}>\r\n         <Grid container direction=\"row\" spacing={3} >\r\n             {/* Đổi list đúng với category */}\r\n             {InventoryList.map(item=>{\r\n                 return(\r\n                     <Grid item>\r\n                         <Card  onClick={()=> console.log('add item to cart', item)}  style={{  width:141, height:240,borderRadius:10}} >\r\n                            <CardActionArea>\r\n                                <CardMedia\r\n                                className={classes.media}\r\n                                image={icon}\r\n                                title=\"Contemplative Reptile\"\r\n                                />\r\n                                <CardContent>\r\n                                <Typography style={{height:37}}gutterBottom variant=\"h5\" component=\"h2\">\r\n                                    {item.name}\r\n                                </Typography>\r\n                                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                                    {item.price}.000đ\r\n                                </Typography>\r\n                                <Typography style={{marginLeft:65,}}variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                                    Tồn: {item.quantity}\r\n                                </Typography>\r\n                                </CardContent>\r\n                            </CardActionArea>\r\n                        </Card>\r\n                    </Grid> \r\n                 )\r\n             })}\r\n        </Grid>\r\n        </TableContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MenuProduct\r\n\r\nconst categoryBig = ['Quần áo', 'Bánh kẹo', 'Đồ dùng', 'Điện thoại', 'Máy tính']","import React from 'react'\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\r\n\r\n//import library \r\nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SwapVertTwoToneIcon from '@material-ui/icons/SwapVertTwoTone';\r\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\r\n\r\nconst ChangeCartBtn = (props) => {\r\n    const {selectedIndex,anchorEl,cartList,handleClick,handleClose,handleChoose,handleDelete,handleAdd, isCart} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    let hardText = isCart ? \"Khách lẻ\" :\"Nhà cung cấp lẻ\";\r\n\r\n    const getTitle = (cart) => {\r\n        if (isCart) {\r\n            return cart.customer === null ? hardText : cart.customer.name\r\n        } else {\r\n            return cart.supplier === null ? hardText: cart.supplier.name\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n        {cartList.length === 1 ?\r\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\r\n                <AddIcon fontSize=\"inherit\" onClick={handleAdd} />\r\n            </IconButton>:\r\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\r\n                <SwapVertTwoToneIcon fontSize=\"inherit\"  onClick={handleClick}/>\r\n            </IconButton>\r\n        }\r\n            <Menu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n            \r\n        >\r\n            {cartList.map((cart, index) => (\r\n                <MenuItem\r\n                    key={index}\r\n                    selected={index === selectedIndex}\r\n                >\r\n                    <Grid container direction=\"row\" justifyContent=\"space-between\"spacing={1}>\r\n                        <Grid container item onMouseDown={()=>handleChoose(index)} item xs={10}  >\r\n                            <Box style={{marginRight:10}}>#{index + 1}</Box>\r\n                            {getTitle(cart)}         \r\n                        </Grid>\r\n                \r\n                        <Grid container xs={2} item>\r\n                            <IconButton  size=\"small\" style={{color:'#000000'}}>\r\n                                <HighlightOffTwoToneIcon fontSize=\"inherit\" onClick={()=>handleDelete(index )} />\r\n                            </IconButton>\r\n                        </Grid>\r\n                    </Grid>\r\n                    \r\n                </MenuItem>\r\n                ))}\r\n\r\n            <MenuItem onClick={handleAdd}><Box style={{marginRight:10, fontSize:20}}>+</Box>Tạo giỏ mới</MenuItem>\r\n        </Menu> \r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChangeCartBtn\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst orderApi = {\r\n  addOrder: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/addOrder`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  getAllOfStore: (storeUuid) => {\r\n    const url = `stores/${storeUuid}/orders`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n  getOrder: (storeUuid, orderUuid) => {\r\n    const url = `stores/${storeUuid}/orders/${orderUuid}`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  searchOrder: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n  editOrderApi: (storeUuid,  branchUuid,orderUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\r\n    return axiosClient.put(url, body)\r\n  },\r\n  searchCustomerOrder: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n};\r\nexport default orderApi;\r\n","import React from 'react'\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport {Snackbar} from '@material-ui/core';\r\n\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\nconst SnackBarGeneral = (props) => {\r\n    const {open,status, handleClose} =props;\r\n    return (\r\n        <Snackbar\r\n        anchorOrigin={{ vertical: 'top',horizontal:  'right' }}\r\n        open={open}\r\n        onClose={handleClose}\r\n        autoHideDuration={2000} \r\n      >\r\n        <Alert severity={status.style} onClose={handleClose}>\r\n            {status.message}\r\n        </Alert> \r\n      </Snackbar>\r\n    )\r\n}\r\n\r\nexport default SnackBarGeneral\r\n","import {withStyles} from \"@material-ui/core/styles\";\r\nimport {Menu,MenuItem,} from '@material-ui/core';\r\n\r\nexport const StyledMenu = withStyles({\r\n    paper: {\r\n      border: '1px solid #d3d4d5',\r\n    },\r\n  })((props) => (\r\n    <Menu\r\n      \r\n      elevation={0}\r\n      getContentAnchorEl={null}\r\n      anchorOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n      }}\r\n      transformOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n      }}\r\n      {...props}\r\n    />\r\n  ));\r\n  \r\nexport  const StyledMenuItem = withStyles((theme) => ({\r\n    root: {\r\n      '&:hover': {\r\n        backgroundColor: theme.palette.primary.main,\r\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n          color: theme.palette.common.white,\r\n        },\r\n      },\r\n    },\r\n  }))(MenuItem);","import axiosClient from './axiosClient';\r\n\r\nconst refundApi = {\r\n  removeInventory: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/removeInventory`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n  getAllOfStore: (storeUuid) => {\r\n    const url = `stores/${storeUuid}/refunds/`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  getRefund: (storeUuid, refundUuid) => {\r\n    const url = `stores/${storeUuid}/refunds/${refundUuid}`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  searchRefund: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\r\n    return axiosClient.get(url, {params: query});\r\n  }\r\n};\r\nexport default refundApi;\r\n","import React , { useRef}from 'react';\r\nimport { useTheme, makeStyles, createStyles } from '@material-ui/core/styles';\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {VNDFormat,ThousandFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\r\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\r\n\r\n// import library\r\nimport {\r\n  Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,Chip\r\n} from '@material-ui/core';\r\n\r\n// import icon\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\r\n\r\n// import project\r\nimport { grey } from '@material-ui/core/colors';\r\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton';\r\nimport { useSelector } from 'react-redux';\r\nimport refundApi from '../../../../../api/refundApi';\r\n// dơn trả giá trả có khác ko ???\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTitle: {\r\n    fontSize: '1.125rem',\r\n  },\r\n  typo: {\r\n    marginBottom: 20,\r\n  },\r\n  background: {\r\n    background: theme.customization.mode === 'Light' ? theme.customization.primaryColor[50] : grey[700],\r\n  },\r\n\r\n}));\r\n\r\nfunction InvoiceReturnDetail(props) {\r\n  const { row, openRow } = props.parentProps;\r\n  const { isMini } = props;\r\n\r\n  //  tam thoi\r\n  const currentUser = 'Minh Tri';\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  \r\n  const [refund, setRefund] = React.useState({\r\n    branch: null,\r\n    details: []\r\n  })\r\n\r\n  React.useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const res = await refundApi.getRefund(store_uuid, row.uuid);\r\n        console.log(\"invoice return\", res.data)\r\n        setRefund(res.data);\r\n      } catch (error) {\r\n        setRefund({\r\n          branch: null,\r\n          details: []\r\n        });\r\n      }\r\n    }\r\n    if (openRow === row.uuid) {\r\n      loadData();\r\n\r\n    }\r\n  }\r\n  , [props.parentProps.openRow]);\r\n\r\n\r\n  //print\r\n\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n      content: () => componentRef.current,\r\n  });\r\n\r\n  return (\r\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\r\n      <Box margin={1}>\r\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\r\n          {row.name}\r\n        </Typography>\r\n\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n          <Grid item xs={12} sm={5}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã đơn trả </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.refund_code}\r\n                  {' '}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5}sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã hoá đơn</Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{refund.order?.order_code}</Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Ngày trả </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.created_at}\r\n                  {' '}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5}sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Khách hàng</Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {refund.customer?.name}\r\n                  {' '}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Người thực hiện</Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {refund.created_by_user?.name}\r\n                  {' '}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n          </Grid>\r\n          <Grid item xs={12}sm={5}>\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tình trạng</Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{`Cần trả ${(row.total_amount - row.paid_amount).toString()}`}</Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat value={row.total_amount} /></Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {refund.branch?.name}\r\n                  {' '}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={5} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phương thức thanh toán</Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.payment_method}\r\n                  {' '}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n          </Grid>\r\n\r\n        </Grid>\r\n\r\n        <Typography variant=\"h4\" gutterBottom component=\"div\" style={{ marginTop: 30 }}>\r\n          Danh sách sản phẩm\r\n        </Typography>\r\n        <Table size=\"small\" aria-label=\"purchases\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Ma SP</TableCell>\r\n              <TableCell>Sản phẩm</TableCell>\r\n              {/* <TableCell>Mã vạch</TableCell> */}\r\n              <TableCell align=\"right\">Số lượng</TableCell>\r\n              <TableCell align=\"right\">Giá trả</TableCell>\r\n              <TableCell align=\"right\">Thành tiền</TableCell>\r\n\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n\r\n            {refund.details.map((detail) => (\r\n              <TableRow key={detail.product_code}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {detail.product_code}\r\n                </TableCell>\r\n                \r\n                <TableCell>{detail.name}</TableCell>\r\n                {/* <TableCell>\r\n                  {detail.bar_code}\r\n                </TableCell> */}\r\n                <TableCell align=\"right\">\r\n                  <ThousandFormat value={detail.quantity} />\r\n                  <div>\r\n                      {detail.batches\r\n                        ? JSON.parse(detail.batches).map((batch) => (\r\n                            <Chip\r\n                              size=\"small\"\r\n                              label={`${\r\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\r\n                              }(${\r\n                                batch?.expiry_date\r\n                                  ? batch?.expiry_date.substring(0, 10)\r\n                                  : \"\"\r\n                              }) - ${batch.returned_quantity}`}\r\n                              key={batch.id}\r\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\r\n                              variant=\"outlined\"\r\n                            />\r\n                          ))\r\n                        : null}\r\n                    </div>\r\n                </TableCell>\r\n                <TableCell align=\"right\">\r\n                <VNDFormat value={detail.unit_price} />\r\n                </TableCell>\r\n               \r\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\r\n                <VNDFormat value={detail.quantity * detail.unit_price} />\r\n                </TableCell>\r\n\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        <Box className={classes.background} style={{ padding: 10, borderRadius: theme.customization.borderRadius, marginTop: 10 }}>\r\n          <Grid container direction=\"column\">\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={5} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng SL sản phẩm ({refund.details?.length})</Typography>\r\n              </Grid>\r\n              <Grid item xs={2}sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat \r\n                  value={calculateTotalQuantity(refund.details)}\r\n                /></Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n              <Grid item xs={5} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\r\n              </Grid>\r\n              <Grid item xs={2}sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                <VNDFormat value={row.total_amount} />\r\n                  {' '}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n              <Grid item xs={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả hàng</Typography>\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n              <Grid item xs={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng đơn trả</Typography>\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n\r\n            {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n              <Grid item xs={5} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả khách</Typography>\r\n              </Grid>\r\n              <Grid item xs={2}sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.paid_amount}</Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n\r\n          </Grid>\r\n        </Box>\r\n\r\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"}style={{ marginTop: 20 }}>\r\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\r\n          {currentUser === row.employee\r\n            ? (\r\n              <>\r\n                {' '}\r\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Sửa</Button>\r\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Xoá</Button>\r\n                {' '}\r\n\r\n              </>\r\n            )\r\n            : null}\r\n\r\n          <IconButton\r\n            aria-label=\"more\"\r\n            aria-controls=\"long-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ marginLeft: 10 }}\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n\r\n          <StyledMenu\r\n            id=\"customized-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n          >\r\n            <StyledMenuItem onClick={()=> handlePrint()}>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <PrintTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"In đơn trả\" />\r\n            </StyledMenuItem>\r\n\r\n            <StyledMenuItem>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <GetAppTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Xuất excel\" />\r\n            </StyledMenuItem>\r\n          </StyledMenu>\r\n\r\n        </Grid>\r\n\r\n      </Box>\r\n\r\n         {/* 3. Receipt */}\r\n         <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ReceiptPrinter cart={refund} date={row.created_at} />\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </Collapse>\r\n  );\r\n}\r\n\r\nexport default InvoiceReturnDetail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  Avatar,\r\n  Card,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n  Button,\r\n  Dialog,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  Radio,\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n// import project\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\r\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\r\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\r\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    marginBox: {\r\n      marginTop: 30,\r\n    },\r\n    marginRow: {\r\n      marginTop: 5,\r\n    },\r\n    hidden: {\r\n      display: \"none\",\r\n    },\r\n    ava: {\r\n      width: 30,\r\n      height: 30,\r\n    },\r\n  })\r\n);\r\nfunction InvoiceReturnSummary({\r\n  data,\r\n  handlePaidAmountChange,\r\n  handlePaymentMethodChange,\r\n  handleConfirm,\r\n}) {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  useEffect(() => {}, [data]);\r\n\r\n  return (\r\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\r\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"flex-start\"\r\n          >\r\n            <Typography variant=\"h5\">Chi nhánh</Typography>\r\n            <Typography variant=\"body2\">\r\n              {/* current branch */}\r\n              {data.branch.name}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\r\n            <Typography variant=\"body2\">\r\n              {/* current date */}\r\n              {new Date().toLocaleDateString(\"es-US\")}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              {/* current date */}\r\n              {new Date().toLocaleTimeString()}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          className={classes.marginBox}\r\n          style={{ marginBottom: 20 }}\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"row\"\r\n            className={classes.marginBox}\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h3\" style={{ marginRight: 10 }}>\r\n              Trả hoá đơn\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h3\"\r\n              style={{ color: theme.customization.primaryColor[500] }}\r\n            >\r\n              #{data.order_code}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={4}\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"flex-end\"\r\n            className={classes.marginBox}\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\">{data.customer.name}</Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginBox}\r\n        >\r\n          <Typography variant=\"h5\">\r\n            {/* Số lượng sản phẩm trả */}\r\n            Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})\r\n          </Typography>\r\n          <Typography variant=\"body2\">\r\n          <Input.ThousandFormat value={calculateTotalReturnQuantity(data.details)} />\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\r\n          <Typography variant=\"body2\"> <Input.VNDFormat value={data.order_total_amount} /></Typography>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\r\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\r\n        </Grid>\r\n        {/*\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\r\n                    <Typography variant=\"h5\">\r\n                        Phí trả hàng\r\n                    </Typography>\r\n                    <Input.ThousandSeperatedInput id=\"standard-basic\" style={{width:90 }} size=\"small\" inputProps={{style: { textAlign: \"right\" }}}  />\r\n                </Grid> */}\r\n\r\n        {/* <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\r\n                    <Typography variant=\"h5\">\r\n                        Tổng đơn trả\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                        400.000\r\n                    </Typography>\r\n                </Grid> */}\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Đã trả khách</Typography>\r\n          <VNDInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 90 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n            defaultValue={data.total_amount}\r\n            onChange={(e) => handlePaidAmountChange(e.target.value)}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"flex-end\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <FormControl component=\"fieldset\">\r\n            <RadioGroup\r\n              aria-label=\"gender\"\r\n              name=\"gender1\"\r\n              value={data.payment_method}\r\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\r\n            >\r\n              <Grid container direction=\"row\">\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"card\"\r\n                  control={<Radio />}\r\n                  label=\"Thẻ\"\r\n                />\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"cash\"\r\n                  control={<Radio />}\r\n                  label=\"Tiền mặt\"\r\n                />\r\n              </Grid>\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        \r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          fullWidth\r\n          color=\"primary\"\r\n          style={{ marginTop: 40 }}\r\n          onClick={handleConfirm}\r\n          disabled={data.total_amount === 0}\r\n        >\r\n          Trả hàng\r\n        </Button>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default InvoiceReturnSummary;\r\n","// ------------TABLE TYPE\r\n\r\n// Sales\r\nexport const INVOICE = \"Hoá_đơn\";\r\nexport const INVOICE_RETURN = \"Đơn_trả\";\r\n\r\n// inventory\r\nexport const INVENTORY = \"Kho_hàng\";\r\nexport const INVENTORY_ORDER = \"Đơn_nhập_hàng\";\r\nexport const INVENTORY_RETURN = \"Đơn_trả_hàng_nhập\";\r\nexport const SUPPLIER = \"Nhà_cung_cấp\";\r\nexport const CHECK_LIST = \"Đơn_kiểm_kho\";\r\nexport const ORDER_LIST = \"Đơn_đặt_hàng\";\r\n\r\n// HR\r\nexport const EMPLOYEE = \"Nhân_viên\";\r\n\r\n//Manager\r\nexport const CUSTOMER = \"Khách_hàng\";\r\n\r\n\r\n\r\n//CART\r\nexport const CART = \"Giỏ_hàng\";\r\nexport const IMPORT = \"Nhập hàng\";\r\nexport const CART_RETURN = \"Trả_hàng\";\r\nexport const IMPORT_RETURN = \"Trả_hàng_nhập\";\r\n\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  Dialog, TextField, Card, ListItem, DialogContent, Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport update from 'immutability-helper';\r\nimport moment from 'moment';\r\nimport useStyles from '../../TableCommon/style/mainViewStyle';\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\n// import library\r\n\r\nimport InvoiceReturnSummary from '../../CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary';\r\n\r\nimport * as HeadCells from '../../../assets/constant/tableHead';\r\nimport * as TableType from '../../../assets/constant/tableType';\r\nimport SearchProduct from '../../SearchBar/SearchProduct';\r\nimport TableHeader from '../../TableCommon/TableHeader/TableHeader';\r\nimport TableWrapper from '../../TableCommon/TableWrapper/TableWrapper';\r\nimport { getComparator, stableSort } from '../../TableCommon/util/sortUtil';\r\nimport * as Input from '../../TextField/NumberFormatCustom';\r\nimport ButtonQuantity from '../../Button/ButtonQuantity';\r\nimport refundApi from '../../../api/refundApi';\r\nimport SnackBarGeneral from '../../SnackBar/SnackBarGeneral';\r\nimport {statusAction} from '../../../store/slice/statusSlice';\r\nimport {ReturnCartMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport _ from 'lodash';\r\n\r\nfunction InvoiceReturnPopUp(props) {\r\n  const { order, classes, handleCloseReturn , reload, reloadDetail } = props;\r\n  const theme = useTheme();\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const dispatch = useDispatch();\r\n  // 2. Table sort\r\n  // const [order, setOrder] = React.useState('desc');\r\n  // const [orderBy, setOrderBy] = React.useState('stt');\r\n  // const handleRequestSort = (event, property) => {\r\n  //     const isAsc = orderBy === property && order === 'asc';\r\n  //     setOrder(isAsc ? 'desc' : 'asc');\r\n  //     setOrderBy(property);\r\n  // };\r\n\r\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\r\n  const [refund, setRefund] = React.useState({\r\n    order_code: order.order_code,\r\n    order_id: order.id,\r\n    branch: order.branch,\r\n    customer: order.customer,\r\n    customer_id: order.customer_id,\r\n    branch_id: order.branch_id,\r\n    order_total_amount: order.total_amount,\r\n    total_amount: 0,\r\n    details: order.details.map((detail) => ({\r\n      ...detail,\r\n      // returnQuantity: detail.quantity,\r\n      returnQuantity: 0,\r\n      returnPrice: detail.unit_price,\r\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\r\n        ...batch,\r\n        max_return_quantity:\r\n          batch.additional_quantity - batch.returned_quantity,\r\n        returned_quantity: 0,\r\n      })),\r\n      order_batches: JSON.parse(detail.batches),\r\n    })),\r\n    payment_method: 'cash',\r\n    paid_amount: '0',\r\n  });\r\n  const [openSnack, setOpenSnack] = React.useState(false);\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: 'error',\r\n    message: 'Trả hàng thất bại',\r\n  });\r\n\r\n  const handleChangeBatches = (itemId, newBatches) => {\r\n    const itemIndex = refund.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    const newRefund = _.cloneDeep(refund);\r\n\r\n    // console.log(newBatches);\r\n    newRefund.details[itemIndex].selectedBatches = newBatches;\r\n    newRefund.details[itemIndex].returnQuantity = _.sumBy(\r\n      newBatches,\r\n      \"returned_quantity\"\r\n    );\r\n    // console.log(newRefund);\r\n    setRefund(newRefund);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateTotalAmount();\r\n  }, [isUpdateTotalAmount]);\r\n\r\n  const updateTotalAmount = () => {\r\n    let total = 0;\r\n    refund.details.forEach((item) => {\r\n      total += item.returnPrice * item.returnQuantity;\r\n    });\r\n\r\n    const newRefund = update(refund, {\r\n      total_amount: { $set: total },\r\n    });\r\n    setRefund(newRefund);\r\n  };\r\n\r\n  const handleDeleteItem = (itemId) => {\r\n    const itemIndex = refund.details.findIndex(\r\n      (item) => item.id === itemId,\r\n    );\r\n    const newRefund = update(refund, {\r\n      details: { $splice: [[itemIndex, 1]] },\r\n    });\r\n    setRefund(newRefund);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleItemQuantityChange = (itemId, newQuantity) => {\r\n    const itemIndex = refund.details.findIndex(\r\n      (item) => item.id === itemId,\r\n    );\r\n    const newRefund = update(refund, {\r\n      details: {\r\n        [itemIndex]: {\r\n          returnQuantity: { $set: newQuantity },\r\n        },\r\n      },\r\n    });\r\n    setRefund(newRefund);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleProductPriceChange = (itemId, newPrice) => {\r\n    const itemIndex = refund.details.findIndex(\r\n      (item) => item.id === itemId,\r\n    );\r\n    const newRefund = update(refund, {\r\n      details: {\r\n        [itemIndex]: {\r\n          returnPrice: { $set: newPrice },\r\n        },\r\n      },\r\n    });\r\n    setRefund(newRefund);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handlePaidAmountChange = (paidAmount) => {\r\n    const newRefund = update(refund, { paid_amount: { $set: paidAmount } });\r\n    setRefund(newRefund);\r\n  };\r\n\r\n  const handlePaymentMethodChange = (paymentMethod) => {\r\n    const newRefund = update(refund, { payment_method: { $set: paymentMethod } });\r\n    setRefund(newRefund);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    const d = moment.now() / 1000;\r\n\r\n    const import_date = moment.unix(d).format('YYYY-MM-DD HH:mm:ss', { trim: false });\r\n\r\n    const body = {\r\n      order_uuid: order.uuid,\r\n      customer_id: refund.customer_id,\r\n      total_amount: refund.total_amount.toString(),\r\n      payment_method: refund.payment_method,\r\n      paid_amount: refund.paid_amount,\r\n      status:\r\n      refund.paid_amount >= refund.total_amount\r\n        ? 'closed'\r\n        : 'debt',\r\n      details: refund.details.map((detail) => ({\r\n        product_id: detail.product_id,\r\n        quantity: detail.returnQuantity,\r\n        unit_price: detail.returnPrice,\r\n        order_detail_id: detail.id,\r\n        selectedBatches: detail.selectedBatches.map((batch) =>\r\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\r\n        ),\r\n        order_batches: detail.order_batches.map((batch) => {\r\n          const newBatch = {\r\n            ...batch,\r\n            returned_quantity:\r\n              batch.returned_quantity +\r\n              detail.selectedBatches.find(\r\n                (selectedBatch) => selectedBatch.id === batch.id\r\n              ).returned_quantity,\r\n          };\r\n          return newBatch;\r\n        }),\r\n      })),\r\n      import_date,\r\n    };\r\n\r\n    try {\r\n      const res = await refundApi.removeInventory(\r\n        store_uuid,\r\n        refund.branch.uuid,\r\n        body,\r\n      );\r\n      dispatch(statusAction.successfulStatus(`Trả hàng thành công: ${res.data.refund_code}`))\r\n      reload();\r\n      reloadDetail();\r\n      handleCloseReturn()\r\n    } catch (err) {\r\n      dispatch(statusAction.failedStatus('Trả hàng thất bại!'))\r\n      setOpenSnack(true);\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    setOpenSnack(false);\r\n  };\r\n\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  return (\r\n    <>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n       \r\n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\r\n          <Typography variant=\"h3\" style={{ marginRight: 30 }}>Trả hàng</Typography>\r\n\r\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\r\n          {/* <SearchProduct /> */}\r\n        </ListItem>\r\n\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleCloseReturn}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n\r\n      </Grid>\r\n\r\n      <DialogContent style={{ marginTop: 25 }}>\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" spacing={2}>\r\n         \r\n          <Grid item xs={12} sm={8}>\r\n            <Card className={classes.card}>\r\n              <Box style={{ padding: 30, minHeight: '75vh' }}>\r\n                {/* JSON data attribute phải giongso table head id */}\r\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\r\n               {!xsScreen ? ( <TableWrapper isCart>\r\n                  <TableHeader\r\n                    classes={classes}\r\n                                    // order={order}\r\n                                    // orderBy={orderBy}\r\n                                    // onRequestSort={handleRequestSort}\r\n                    headerData={HeadCells.CartReturnHeadCells}\r\n                  />\r\n                  <TableBody>\r\n                    {/* {\r\n                                    stableSort(row.list, getComparator(order, orderBy))\r\n                                        .map((row, index) => {\r\n                                        return (\r\n                                            <CartReturnTableRow row={row}/>\r\n                                        );})\r\n                                } */}\r\n\r\n                    {refund.details.map((detail, index) => (\r\n                      <CartReturnTableRow\r\n                        handleProductPriceChange={handleProductPriceChange}\r\n                        handleItemQuantityChange={handleItemQuantityChange}\r\n                        detail={detail}\r\n                        handleChangeBatches={handleChangeBatches}\r\n                      />\r\n                    \r\n                    ))}\r\n                  </TableBody>\r\n                </TableWrapper>):\r\n                refund.details.map((detail, index) => (\r\n                  // <CartReturnTableRow\r\n                  //   handleProductPriceChange={handleProductPriceChange}\r\n                  //   handleItemQuantityChange={handleItemQuantityChange}\r\n                  //   detail={detail}\r\n                  // />\r\n                  <ReturnCartMiniTableRow\r\n                    detail={detail}\r\n                    handleProductPriceChange={handleProductPriceChange}\r\n                    handleItemQuantityChange={handleItemQuantityChange}\r\n                  />\r\n\r\n                ))\r\n              }\r\n              </Box>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} sm={4} className={classes.card}>\r\n            <Card className={classes.card}>\r\n              <InvoiceReturnSummary\r\n                data={refund}\r\n                handlePaidAmountChange={handlePaidAmountChange}\r\n                handlePaymentMethodChange={handlePaymentMethodChange}\r\n                handleConfirm={handleConfirm}\r\n              />\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InvoiceReturnPopUp;\r\n\r\nfunction CartReturnTableRow({ detail, handleProductPriceChange, handleItemQuantityChange, handleChangeBatches }) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n\r\n\r\n  const [show, setShow] = React.useState('none');\r\n  useEffect(() => {}, [detail]);\r\n\r\n  const handleChangeQuantity = (newQuantity) => {\r\n    handleItemQuantityChange(detail.id, newQuantity);\r\n  };\r\n\r\n  const handleChangePrice = (newPrice) => {\r\n    handleProductPriceChange(detail.id, newPrice);\r\n  };\r\n\r\n  return (\r\n    <TableRow hover key={detail.id}>\r\n      <TableCell align=\"left\" style={{ width: 5 }}>{detail.product_code}</TableCell>\r\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\r\n      <TableCell align=\"left\">{detail.name}</TableCell>\r\n      <TableCell align=\"right\"><Input.ThousandFormat style={{ width: 70 }} value={detail.unit_price}/></TableCell>\r\n      <TableCell align=\"right\">\r\n        <Input.ThousandSeperatedInput id=\"standard-basic\" style={{ width: 70 }} size=\"small\" inputProps={{ style: { textAlign: 'right' } }} defaultPrice={detail.returnPrice} onChange={(e) => handleChangePrice(e.target.value)} />\r\n      </TableCell>\r\n\r\n      {/* <TableCell align=\"left\" padding=\"none\">\r\n        <ButtonQuantity\r\n          quantity={detail.returnQuantity}\r\n          limit={detail.quantity - detail.returned_quantity}\r\n          setQuantity={handleChangeQuantity}\r\n          show={show}\r\n          setShow={setShow}\r\n          isReturn={true}\r\n        />\r\n      </TableCell> */}\r\n            <TableCell align=\"left\" padding=\"none\">\r\n        {detail.selectedBatches.length ? (\r\n          detail.selectedBatches.map((batch, index) => (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                gap: 5,\r\n                marginBottom: 5,\r\n                alignItems: \"center\",\r\n                border: \"1px solid #eee\",\r\n                justifyContent: \"space-around\",\r\n              }}\r\n            >\r\n              <div>\r\n                {`${batch.batch_code} ${\r\n                  batch?.expiry_date\r\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\r\n                    : \"\"\r\n                }: `}\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  type=\"number\"\r\n                  size=\"small\"\r\n                  style={{ width: 30 }}\r\n                  value={batch.returned_quantity}\r\n                  onChange={(e) => {\r\n                    const value = Number(e.target.value);\r\n\r\n                    if (value > batch.max_return_quantity || value < 0) {\r\n                      return;\r\n                    } else {\r\n                      console.log(value);\r\n                      const newSelectedBatches = [...detail.selectedBatches];\r\n                      newSelectedBatches[index].returned_quantity = value;\r\n                      handleChangeBatches(detail.id, newSelectedBatches);\r\n                    }\r\n                  }}\r\n                ></TextField>\r\n                <div>{`/${batch.max_return_quantity}`}</div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <ButtonQuantity\r\n            quantity={detail.returnQuantity}\r\n            setQuantity={handleChangeQuantity}\r\n            show={show}\r\n            setShow={setShow}\r\n            limit={detail.quantity - detail.returned_quantity}\r\n            isReturn={true}\r\n          />\r\n        )}\r\n      </TableCell>\r\n\r\n\r\n      <TableCell align=\"right\" className={classes.boldText}>\r\n     < Input.VNDFormat value={Number(detail.returnQuantity) * Number(detail.returnPrice)} />\r\n      </TableCell>\r\n\r\n    </TableRow>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Modal,\r\n  Box,\r\n  Paper,\r\n  Grid,\r\n  ListItem,\r\n  Typography,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    padding: 20,\r\n    minWidth: \"100%\",\r\n  },\r\n  modal: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    display: \"flex\",\r\n  },\r\n}));\r\n\r\nexport default function SimpleModal(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Modal\r\n        open={props.open}\r\n        onClose={props.handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n        className={classes.modal}\r\n      >\r\n        <React.Fragment>\r\n          <Paper>\r\n            <Box className={classes.container}>\r\n\r\n              {props.children}\r\n\r\n            </Box>\r\n          </Paper>\r\n        </React.Fragment>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst purchaseOrderApi = {\r\n  addInventory: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/addInventory`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n  getAllOfStore: (storeUuid) => {\r\n    const url = `stores/${storeUuid}/purchase-orders/`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  getPurchaseOrder: (storeUuid, purchaseOrderUuid) => {\r\n    const url = `stores/${storeUuid}/purchase-orders/${purchaseOrderUuid}`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  searchPurchaseOrder: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/`;\r\n    return axiosClient.get(url, { params: query });\r\n  },\r\n  editPurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\r\n    return axiosClient.put(url, body)\r\n  },\r\n};\r\nexport default purchaseOrderApi;\r\n","import { Box, Button, Grid, Typography } from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport React, { useState } from \"react\";\r\nimport VNDInput, { VNDFormat } from \"../TextField/NumberFormatCustom\";\r\nimport ModalWrapper from \"./ModalWrapper\";\r\nimport * as Yup from \"yup\";\r\nimport purchaseOrderApi from \"../../api/purchaseOrderApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { statusAction } from \"../../store/slice/statusSlice\";\r\nconst PayRemaining = (props) => {\r\n  const { open, editApiCall, reloadDetail } = props;\r\n  const handleClose = () => {\r\n    props.handleClose();\r\n    formik.resetForm();\r\n  };\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: { pay: props.debt },\r\n    validationSchema: Yup.object({\r\n      pay: Yup.number()\r\n        .required(\"Vui lòng nhập số tiền\")\r\n        .lessThan(props.debt + 1, \"Tiền trả phải ít hơn nợ\")\r\n        .moreThan(0, \"Tiền trả phải lớn hơn 0\"),\r\n    }),\r\n  });\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n  const dispatch = useDispatch();\r\n  const handleSubmit = async () => {\r\n    handleClose();\r\n    try {\r\n      const response = await editApiCall(store_uuid, branch_uuid, props.uuid, {\r\n        paid_amount: Number(formik.values.pay) + props.paid,\r\n        status: formik.values.pay === props.debt ? \"closed\" : \"debt\",\r\n      });\r\n      dispatch(statusAction.successfulStatus(\"Trả thêm tiền thành công\"));\r\n      props.onReload();\r\n\r\n      reloadDetail();\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Trả thêm tiền thất bại\"));\r\n    }\r\n  };\r\n  return (\r\n    <ModalWrapper open={open} handleClose={handleClose} title=\"Trả thêm\">\r\n      {props.title}\r\n      <Grid\r\n        container\r\n        spacing={2}\r\n        style={{ maxWidth: \"100%\", width: 400, marginTop: 15 }}\r\n        flexDirection=\"row\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"h5\">Đã trả</Typography>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"h5\">\r\n            <VNDFormat value={props.paid} />\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"h5\">Còn nợ</Typography>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"h5\">\r\n            <VNDFormat value={props.debt} />\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"h5\">Trả lần này</Typography>\r\n        </Grid>\r\n        <Grid item xs={9}>\r\n          <VNDInput\r\n            name=\"pay\"\r\n            size=\"small\"\r\n            label=\"Số tiền muốn trả\"\r\n            value={formik.values.pay}\r\n            error={formik.errors.pay && formik.touched.pay}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            helperText={formik.touched.pay ? formik.errors.pay : null}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"h5\">Còn lại</Typography>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <Typography variant=\"h5\">\r\n            {\" \"}\r\n            <VNDFormat value={props.debt - formik.values.pay} />\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\r\n            <Button\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n              onClick={handleClose}\r\n            >\r\n              Hủy\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              style={{ marginLeft: 20 }}\r\n              color=\"primary\"\r\n              disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\r\n              onClick={handleSubmit}\r\n            >\r\n              Xác nhận\r\n            </Button>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default PayRemaining;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { ReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\r\n// import library\r\nimport {\r\n  Dialog,\r\n  Card,\r\n  DialogContent,\r\n  Box,\r\n  Tooltip,\r\n  Chip,\r\n  Grid,\r\n  TableHead,\r\n  TableBody,\r\n  Typography,\r\n  Table,\r\n  TableCell,\r\n  TableRow,\r\n  Collapse,\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\n// import icon\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\r\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\n// import project\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  StyledMenu,\r\n  StyledMenuItem,\r\n} from \"../../../../../components/Button/MenuButton\";\r\nimport InvoiceReturnPopUp from \"../../../../../components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp\";\r\n\r\nimport orderApi from \"../../../../../api/orderApi\";\r\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\r\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\r\nimport invoiceApi from \"../../../../../api/invoiceApi\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    typo: {\r\n      marginBottom: 20,\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n    card: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      borderWidth: 2,\r\n    },\r\n    background: {\r\n      background:\r\n        theme.customization.mode === \"Light\"\r\n          ? theme.customization.primaryColor[50]\r\n          : grey[700],\r\n    },\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: \"rect(0 0 0 0)\",\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: \"hidden\",\r\n      padding: 0,\r\n      position: \"absolute\",\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n  })\r\n);\r\n\r\nfunction InvoiceDetail(props) {\r\n  const { row, openRow, onReload } = props.parentProps;\r\n  const { isMini } = props;\r\n\r\n  //  tam thoi\r\n  const currentUser = \"Phuong Gia Le\";\r\n\r\n  const theme = useTheme();\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  const classes = useStyles(theme);\r\n  const [reload, setReload] = React.useState(false);\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCloseReturn = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const [order, setOrder] = useState({\r\n    customer: { name: \"\" },\r\n    created_by_user: { name: \"\" },\r\n    branch: null,\r\n    details: [],\r\n  });\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const res = await orderApi.getOrder(store_uuid, row.uuid);\r\n        // console.log(res.data)\r\n        setOrder(res.data);\r\n      } catch (error) {\r\n        setOrder({\r\n          customer: { name: \"\" },\r\n          created_by_user: { name: \"\" },\r\n          branch: null,\r\n          details: [],\r\n        });\r\n      }\r\n\r\n      // },\r\n      //   [props.parentProps.openRow],\r\n      // );\r\n    };\r\n    if (openRow === row.uuid) {\r\n      loadData();\r\n    }\r\n  }, [props.parentProps.openRow, reload]);\r\n  const debtAmount = order.total_amount - order.paid_amount;\r\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\r\n  const editInventoryOrderApiCall = async (\r\n    store_uuid,\r\n    branch_uuid,\r\n    uuid,\r\n    body\r\n  ) => {\r\n    return orderApi.editOrderApi(store_uuid, branch_uuid, uuid, body);\r\n  };\r\n\r\n  //print\r\n\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  return (\r\n    <Collapse\r\n      in={isMini ? true : openRow === row.uuid}\r\n      timeout=\"auto\"\r\n      unmountOnExit\r\n    >\r\n      <PayRemaining\r\n        onReload={props.parentProps.onReload}\r\n        reloadDetail={() => setReload(!reload)}\r\n        uuid={row.uuid}\r\n        debt={debtAmount}\r\n        paid={Number(row.paid_amount)}\r\n        title={\r\n          <Typography variant=\"h4\">\r\n            Thu thêm hóa đơn <i>{row.order_code}</i>\r\n          </Typography>\r\n        }\r\n        open={openPayRemaining}\r\n        handleClose={() => setOpenPayRemaining(false)}\r\n        editApiCall={editInventoryOrderApiCall}\r\n      />\r\n      {/* <Collapse in={true } timeout=\"auto\" unmountOnExit> */}\r\n      <Box margin={1}>\r\n        <Typography\r\n          variant=\"h3\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          className={classes.typo}\r\n        >\r\n          {row.name}\r\n        </Typography>\r\n\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n          <Grid item xs={12} sm={5}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Mã hoá đơn\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.order_code}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Ngày bán{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.creation_date}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Khách hàng\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {order.customer ? order.customer.name : \"\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Người bán\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {order.created_by_user ? order.created_by_user.name : \"\"}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12} sm={7}>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"flex-start\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Trạng thái\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={3} sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {/* Cần thu <VNDFormat value={debtAmount} /> */}\r\n                  {debtAmount > 0 ? \"Cần thu thêm \" : \"Trả đủ\"}\r\n                  {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                {debtAmount > 0 ? (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    variant=\"contained\"\r\n                    onClick={() => setOpenPayRemaining(true)}\r\n                  >\r\n                    Trả tiếp\r\n                  </Button>\r\n                ) : null}\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng tiền hoá đơn\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={order.total_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Chi nhánh thực hiện\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {order.branch ? order.branch.name : \"\"}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Phương thức thanh toán\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Typography\r\n          variant=\"h4\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          style={{ marginTop: 30 }}\r\n        >\r\n          Danh sách sản phẩm\r\n        </Typography>\r\n        <Table size=\"small\" aria-label=\"purchases\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Mã SP</TableCell>\r\n              <TableCell>Sản phẩm</TableCell>\r\n              <TableCell>Mã vạch</TableCell>\r\n              <TableCell align=\"right\">Số lượng</TableCell>\r\n              <TableCell align=\"right\">Đổi trả</TableCell>\r\n              <TableCell align=\"right\">Giá bán</TableCell>\r\n              <TableCell align=\"right\">Thành tiền</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {order.details.map((detail) => (\r\n              <TableRow key={detail.product_id}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {detail.product_code}\r\n                </TableCell>\r\n                <TableCell>{detail.name}</TableCell>\r\n                <TableCell>{detail.bar_code}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <div>\r\n                    {detail.quantity}\r\n                    <div>\r\n                      {detail.batches\r\n                        ? JSON.parse(detail.batches).map((batch) => (\r\n                            <Chip\r\n                              size=\"small\"\r\n                              label={`${\r\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\r\n                              }(${\r\n                                batch?.expiry_date\r\n                                  ? batch?.expiry_date.substring(0, 10)\r\n                                  : \"\"\r\n                              }) - ${batch.additional_quantity}`}\r\n                              key={batch.id}\r\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\r\n                              variant=\"outlined\"\r\n                            />\r\n                          ))\r\n                        : null}\r\n                    </div>\r\n                  </div>\r\n                </TableCell>\r\n                {/* <TableCell align=\"right\">{detail.returned_quantity}</TableCell> */}\r\n                <TableCell align=\"right\">\r\n                  <div>\r\n                    {detail.returned_quantity}\r\n                    <div>\r\n                      {detail.batches\r\n                        ? JSON.parse(detail.batches).map((batch) => (\r\n                            <Chip\r\n                              size=\"small\"\r\n                              label={`${\r\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\r\n                              }(${\r\n                                batch?.expiry_date\r\n                                  ? batch?.expiry_date.substring(0, 10)\r\n                                  : \"\"\r\n                              })-${batch.returned_quantity}`}\r\n                              key={batch.id}\r\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\r\n                              variant=\"outlined\"\r\n                            />\r\n                          ))\r\n                        : null}\r\n                    </div>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell align=\"right\">\r\n                  <VNDFormat value={detail.unit_price} />\r\n                </TableCell>\r\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\r\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        <Box\r\n          className={classes.background}\r\n          style={{\r\n            padding: 10,\r\n            borderRadius: theme.customization.borderRadius,\r\n            marginTop: 10,\r\n          }}\r\n        >\r\n          <Grid container direction=\"column\">\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                {/* <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography> */}\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng SL sản phẩm ({order.details.length})\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={2} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {calculateTotalQuantity(order.details)}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tiền hàng\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={2} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.total_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Giảm giá\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={2} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.discount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng tiền hoá đơn\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={2} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.total_amount - row.discount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Khách đã trả\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={2} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.paid_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          // justifyContent=\"flex-end\"\r\n          justifyContent={\"flex-end\"}\r\n          style={{ marginTop: 20 }}\r\n        >\r\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\r\n          {currentUser === row.employee ? (\r\n            <>\r\n              {\" \"}\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                style={{ marginLeft: 15 }}\r\n              >\r\n                Sửa\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                style={{ marginLeft: 15 }}\r\n              >\r\n                Xoá\r\n              </Button>{\" \"}\r\n            </>\r\n          ) : null}\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            style={{ marginLeft: 15 }}\r\n            onClick={handleClickOpen}\r\n          >\r\n            Trả hàng\r\n          </Button>\r\n\r\n          <IconButton\r\n            aria-label=\"more\"\r\n            aria-controls=\"long-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ marginLeft: 10 }}\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n\r\n          <StyledMenu\r\n            id=\"customized-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n          >\r\n            <StyledMenuItem onClick={() => handlePrint()}>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <PrintTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"In hoá đơn\" />\r\n            </StyledMenuItem>\r\n\r\n            <StyledMenuItem>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <GetAppTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Xuất excel\" />\r\n            </StyledMenuItem>\r\n          </StyledMenu>\r\n        </Grid>\r\n      </Box>\r\n      {/* \r\n      <Dialog fullWidth maxWidth=\"lg\" open={open} onClose={handleCloseReturn} aria-labelledby=\"form-dialog-title\">\r\n        <InvoiceReturnPopUp handleCloseReturn={handleCloseReturn} order={order} classes={classes} /> */}\r\n\r\n      {/* 3. Receipt */}\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ReceiptPrinter cart={order} date={row.creation_date} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tra hang */}\r\n\r\n      <Dialog\r\n        fullWidth\r\n        maxWidth=\"lg\"\r\n        open={open}\r\n        onClose={handleCloseReturn}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <InvoiceReturnPopUp\r\n          handleCloseReturn={handleCloseReturn}\r\n          order={order}\r\n          classes={classes}\r\n          reloadDetail={() => setReload(!reload)}\r\n          reload={onReload}\r\n        />\r\n      </Dialog>\r\n    </Collapse>\r\n  );\r\n}\r\n\r\nexport default InvoiceDetail;\r\n","import React, { useEffect } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  Avatar,\r\n  Card,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n  Button,\r\n  Dialog,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  Radio,\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\r\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\r\n\r\n//import project\r\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    marginBox: {\r\n      marginTop: 30,\r\n    },\r\n    marginRow: {\r\n      marginTop: 5,\r\n    },\r\n    hidden: {\r\n      display: \"none\",\r\n    },\r\n    ava: {\r\n      width: 30,\r\n      height: 30,\r\n    },\r\n  })\r\n);\r\nconst ImportReturnSummary = ({\r\n  data,\r\n  handlePaidAmountChange,\r\n  handlePaymentMethodChange,\r\n  handleConfirm,\r\n}) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  let _value = null;\r\n  useEffect(() => {}, [data]);\r\n\r\n  return (\r\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\r\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"flex-start\"\r\n          >\r\n            <Typography variant=\"h5\">Chi nhánh</Typography>\r\n            <Typography variant=\"body2\">\r\n              {/* current branch */}\r\n              {data.branch.name}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\r\n            <Typography variant=\"body2\">\r\n              {/* current date */}\r\n              {new Date().toLocaleDateString(\"es-US\")}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              {/* current date */}\r\n              {new Date().toLocaleTimeString()}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          className={classes.marginBox}\r\n          style={{ marginBottom: 20 }}\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"row\"\r\n            className={classes.marginBox}\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h3\" style={{ marginRight: 20 }}>\r\n              Trả đơn nhập\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h3\"\r\n              style={{ color: theme.customization.primaryColor[500] }}\r\n            >\r\n              #{data.purchase_order_code}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={4}\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"flex-end\"\r\n            className={classes.marginBox}\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\">{data.supplier.name}</Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginBox}\r\n        >\r\n          <Typography variant=\"h5\"> Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})</Typography>\r\n          <Typography variant=\"body2\">{calculateTotalReturnQuantity(data.details)}</Typography>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\r\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\r\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">NCC đã trả</Typography>\r\n          <VNDInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 90 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n            value={data.paid_amount}\r\n            onChange={(e) => handlePaidAmountChange(e.target.value)}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"flex-end\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <FormControl component=\"fieldset\">\r\n            <RadioGroup\r\n              aria-label=\"gender\"\r\n              name=\"gender1\"\r\n              value={data.payment_method}\r\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\r\n            >\r\n              <Grid container direction=\"row\">\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"card\"\r\n                  control={<Radio />}\r\n                  label=\"Thẻ\"\r\n                />\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"cash\"\r\n                  control={<Radio />}\r\n                  label=\"Tiền mặt\"\r\n                />\r\n              </Grid>\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          fullWidth\r\n          color=\"primary\"\r\n          style={{ marginTop: 40 }}\r\n          onClick={handleConfirm}\r\n          disabled={data.total_amount === 0}\r\n        >\r\n          Trả hàng nhập\r\n        </Button>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ImportReturnSummary;\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst purchaseReturnApi = {\r\n  removeInventory: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns/removeInventory`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n  getAllOfStore: (storeUuid) => {\r\n    const url = `stores/${storeUuid}/purchase-returns`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  getPurchaseReturn: (storeUuid, purchaseReturnUuid) => {\r\n    const url = `stores/${storeUuid}/purchase-returns/${purchaseReturnUuid}`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n  searchPurchaseReturn: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\r\n    return axiosClient.get(url, {params: query});\r\n  }\r\n};\r\nexport default purchaseReturnApi;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  ListItem,\r\n  DialogContent,\r\n  Box,\r\n  Grid,\r\n  TableBody,\r\n  Typography,\r\n  TableCell,\r\n  TableRow,\r\n  IconButton,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport * as _ from \"lodash\";\r\n\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport update from \"immutability-helper\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport ImportReturnSummary from \"../../CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary\";\r\n\r\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\r\n\r\n// import library\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\nimport SearchProduct from \"../../SearchBar/SearchProduct\";\r\nimport TableHeader from \"../../TableCommon/TableHeader/TableHeader\";\r\nimport TableWrapper from \"../../TableCommon/TableWrapper/TableWrapper\";\r\nimport * as Input from \"../../TextField/NumberFormatCustom\";\r\nimport ButtonQuantity from \"../../Button/ButtonQuantity\";\r\nimport purchaseReturnApi from \"../../../api/purchaseReturnApi\";\r\n\r\nimport { statusAction } from \"../../../store/slice/statusSlice\";\r\nimport { ReturnCartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nfunction InventoryReturnPopUp(props) {\r\n  const { purchaseOrder, classes, handleCloseReturn, reload, reloadDetail } =\r\n    props;\r\n  const theme = useTheme();\r\n\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  // 2. Table sort\r\n  const [order, setOrder] = React.useState(\"desc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\r\n  const [purchaseReturn, setPurchaseReturn] = React.useState({\r\n    purchase_order_code: purchaseOrder.purchase_order_code,\r\n    purchase_order_id: purchaseOrder.id,\r\n    branch: purchaseOrder.branch,\r\n    supplier: purchaseOrder.supplier,\r\n    supplier_id: purchaseOrder.supplier_id,\r\n    branch_id: purchaseOrder.branch_id,\r\n    total_amount: 0,\r\n    details: purchaseOrder.details.map((detail) => ({\r\n      ...detail,\r\n      // returnQuantity: detail.quantity,\r\n      returnQuantity: 0,\r\n      returnPrice: detail.unit_price,\r\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\r\n        ...batch,\r\n        max_return_quantity:\r\n          batch.additional_quantity - batch.returned_quantity,\r\n        returned_quantity: 0,\r\n      })),\r\n      purchase_order_batches: JSON.parse(detail.batches),\r\n    })),\r\n    payment_method: \"cash\",\r\n    paid_amount: \"0\",\r\n  });\r\n\r\n  const handleChangeBatches = (itemId, newBatches) => {\r\n    const itemIndex = purchaseReturn.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    const newPurchaseReturn = _.cloneDeep(purchaseReturn);\r\n\r\n    console.log(newBatches);\r\n    newPurchaseReturn.details[itemIndex].selectedBatches = newBatches;\r\n    newPurchaseReturn.details[itemIndex].returnQuantity = _.sumBy(\r\n      newBatches,\r\n      \"returned_quantity\"\r\n    );\r\n    console.log(newPurchaseReturn);\r\n    setPurchaseReturn(newPurchaseReturn);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n  const [openSnack, setOpenSnack] = React.useState(false);\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: \"error\",\r\n    message: \"Trả hàng thất bại\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    updateTotalAmount();\r\n  }, [isUpdateTotalAmount]);\r\n\r\n  const updateTotalAmount = () => {\r\n    let total = 0;\r\n    purchaseReturn.details.forEach((item) => {\r\n      total += item.returnPrice * item.returnQuantity;\r\n    });\r\n\r\n    const newPurchaseReturn = update(purchaseReturn, {\r\n      total_amount: { $set: total },\r\n    });\r\n    setPurchaseReturn(newPurchaseReturn);\r\n  };\r\n\r\n  const handleDeleteItem = (itemId) => {\r\n    const itemIndex = purchaseReturn.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    const newPurchaseReturn = update(purchaseReturn, {\r\n      details: { $splice: [[itemIndex, 1]] },\r\n    });\r\n    setPurchaseReturn(newPurchaseReturn);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleItemQuantityChange = (itemId, newQuantity) => {\r\n    if (newQuantity === 0) {\r\n      handleDeleteItem(itemId);\r\n      return;\r\n    }\r\n    const itemIndex = purchaseReturn.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    const newPurchaseReturn = update(purchaseReturn, {\r\n      details: {\r\n        [itemIndex]: {\r\n          returnQuantity: { $set: newQuantity },\r\n        },\r\n      },\r\n    });\r\n    setPurchaseReturn(newPurchaseReturn);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleProductPriceChange = (itemId, newPrice) => {\r\n    const itemIndex = purchaseReturn.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    const newPurchaseReturn = update(purchaseReturn, {\r\n      details: {\r\n        [itemIndex]: {\r\n          returnPrice: { $set: newPrice },\r\n        },\r\n      },\r\n    });\r\n    setPurchaseReturn(newPurchaseReturn);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handlePaidAmountChange = (paidAmount) => {\r\n    const newPurchaseReturn = update(purchaseReturn, {\r\n      paid_amount: { $set: paidAmount },\r\n    });\r\n    setPurchaseReturn(newPurchaseReturn);\r\n  };\r\n\r\n  const handlePaymentMethodChange = (paymentMethod) => {\r\n    const newPurchaseReturn = update(purchaseReturn, {\r\n      payment_method: { $set: paymentMethod },\r\n    });\r\n    setPurchaseReturn(newPurchaseReturn);\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleConfirm = async () => {\r\n    const d = moment.now() / 1000;\r\n\r\n    const export_date = moment\r\n      .unix(d)\r\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\r\n\r\n    const body = {\r\n      purchase_order_uuid: purchaseOrder.uuid,\r\n      supplier_id: purchaseReturn.supplier_id,\r\n      total_amount: purchaseReturn.total_amount.toString(),\r\n      payment_method: purchaseReturn.payment_method,\r\n      paid_amount: purchaseReturn.paid_amount,\r\n      status:\r\n        purchaseReturn.paid_amount >= purchaseReturn.total_amount\r\n          ? \"closed\"\r\n          : \"debt\",\r\n      details: purchaseReturn.details.map((detail) => ({\r\n        product_id: detail.product_id,\r\n        quantity: detail.returnQuantity,\r\n        unit_price: detail.returnPrice,\r\n        purchase_order_detail_id: detail.id,\r\n        selectedBatches: detail.selectedBatches.map((batch) =>\r\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\r\n        ),\r\n        purchase_order_batches: detail.purchase_order_batches.map((batch) => {\r\n          const newBatch = {\r\n            ...batch,\r\n            returned_quantity:\r\n              batch.returned_quantity +\r\n              detail.selectedBatches.find(\r\n                (selectedBatch) => selectedBatch.id === batch.id\r\n              ).returned_quantity,\r\n          };\r\n          return newBatch;\r\n        }),\r\n      })),\r\n      export_date,\r\n    };\r\n\r\n    try {\r\n      const res = await purchaseReturnApi.removeInventory(\r\n        store_uuid,\r\n        purchaseOrder.branch.uuid,\r\n        body\r\n      );\r\n      dispatch(\r\n        statusAction.successfulStatus(\r\n          `Trả hàng thành công: ${res.data.purchase_return_code}`\r\n        )\r\n      );\r\n      reload();\r\n      reloadDetail();\r\n      handleCloseReturn();\r\n    } catch (err) {\r\n      dispatch(statusAction.failedStatus(\"Trả hàng thất bại!\"));\r\n      setOpenSnack(true);\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    setOpenSnack(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"center\"\r\n      >\r\n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\r\n          <Typography variant=\"h3\" style={{ marginRight: 20 }}>\r\n            Trả hàng nhập\r\n          </Typography>\r\n\r\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\r\n          {/* <SearchProduct /> */}\r\n        </ListItem>\r\n\r\n        <IconButton\r\n          aria-label=\"close\"\r\n          className={classes.closeButton}\r\n          onClick={handleCloseReturn}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </Grid>\r\n\r\n      <DialogContent style={{ marginTop: 25 }}>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          spacing={2}\r\n        >\r\n          <Grid item xs={12} sm={8}>\r\n            <Card className={classes.card}>\r\n              <Box style={{ padding: 30, minHeight: \"75vh\" }}>\r\n                {/* JSON data attribute phải giongso table head id */}\r\n\r\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\r\n                {!xsScreen ? (\r\n                  <TableWrapper isCart>\r\n                    <TableHeader\r\n                      classes={classes}\r\n                      order={order}\r\n                      orderBy={orderBy}\r\n                      onRequestSort={handleRequestSort}\r\n                      headerData={HeadCells.ImportReturnHeadCells}\r\n                    />\r\n                    <TableBody>\r\n                      {purchaseReturn.details.map((detail, index) => (\r\n                        <ImportReturnTableRow\r\n                          handleProductPriceChange={handleProductPriceChange}\r\n                          handleItemQuantityChange={handleItemQuantityChange}\r\n                          handleChangeBatches={handleChangeBatches}\r\n                          detail={detail}\r\n                        />\r\n                      ))}\r\n                    </TableBody>\r\n                  </TableWrapper>\r\n                ) : (\r\n                  purchaseReturn.details.map((detail, index) => (\r\n                    <ReturnCartMiniTableRow\r\n                      handleProductPriceChange={handleProductPriceChange}\r\n                      handleItemQuantityChange={handleItemQuantityChange}\r\n                      detail={detail}\r\n                    />\r\n                  ))\r\n                )}\r\n              </Box>\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4} className={classes.card}>\r\n            <Card className={classes.card}>\r\n              <ImportReturnSummary\r\n                data={purchaseReturn}\r\n                handlePaidAmountChange={handlePaidAmountChange}\r\n                handlePaymentMethodChange={handlePaymentMethodChange}\r\n                handleConfirm={handleConfirm}\r\n              />\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InventoryReturnPopUp;\r\nfunction ImportReturnTableRow({\r\n  detail,\r\n  handleProductPriceChange,\r\n  handleItemQuantityChange,\r\n  handleChangeBatches,\r\n}) {\r\n  const classes = useStyles();\r\n  const [show, setShow] = React.useState(\"none\");\r\n  useEffect(() => {}, [detail]);\r\n  console.log(detail);\r\n  const handleChangeQuantity = (newQuantity) => {\r\n    handleItemQuantityChange(detail.id, newQuantity);\r\n  };\r\n  const handleChangePrice = (newPrice) => {\r\n    handleProductPriceChange(detail.id, newPrice);\r\n  };\r\n  return (\r\n    <TableRow hover key={detail.id}>\r\n      <TableCell align=\"left\" style={{ width: 5 }}>\r\n        {detail.product_code}\r\n      </TableCell>\r\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\r\n      <TableCell align=\"left\">{detail.name}</TableCell>\r\n      {/* <TableCell align=\"left\">{detail.bar_code}</TableCell> */}\r\n      <TableCell align=\"right\">\r\n        {\" \"}\r\n        <Input.ThousandFormat value={detail.unit_price} />\r\n      </TableCell>\r\n      <TableCell align=\"right\">\r\n        <Input.ThousandSeperatedInput\r\n          id=\"standard-basic\"\r\n          style={{ width: 70 }}\r\n          size=\"small\"\r\n          inputProps={{ style: { textAlign: \"right\" } }}\r\n          defaultPrice={detail.returnPrice}\r\n          onChange={(e) => handleChangePrice(e.target.value)}\r\n        />\r\n      </TableCell>\r\n\r\n      <TableCell align=\"left\" padding=\"none\">\r\n        {detail.selectedBatches.length ? (\r\n          detail.selectedBatches.map((batch, index) => (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                gap: 5,\r\n                marginBottom: 5,\r\n                alignItems: \"center\",\r\n                border: \"1px solid #eee\",\r\n                justifyContent: \"space-around\",\r\n              }}\r\n            >\r\n              <div>\r\n                {`${batch.batch_code} ${\r\n                  batch?.expiry_date\r\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\r\n                    : \"\"\r\n                }: `}\r\n              </div>\r\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                  type=\"number\"\r\n                  size=\"small\"\r\n                  style={{ width: 30 }}\r\n                  value={batch.returned_quantity}\r\n                  onChange={(e) => {\r\n                    const value = Number(e.target.value);\r\n\r\n                    if (value > batch.max_return_quantity || value < 0) {\r\n                      return;\r\n                    } else {\r\n                      console.log(value);\r\n                      const newSelectedBatches = [...detail.selectedBatches];\r\n                      newSelectedBatches[index].returned_quantity = value;\r\n                      handleChangeBatches(detail.id, newSelectedBatches);\r\n                    }\r\n                  }}\r\n                ></TextField>\r\n                <div>{`/${batch.max_return_quantity}`}</div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <ButtonQuantity\r\n            quantity={detail.returnQuantity}\r\n            setQuantity={handleChangeQuantity}\r\n            show={show}\r\n            setShow={setShow}\r\n            limit={detail.quantity - detail.returned_quantity}\r\n            isReturn={true}\r\n          />\r\n        )}\r\n      </TableCell>\r\n\r\n      <TableCell align=\"right\" className={classes.boldText}>\r\n        <Input.VNDFormat\r\n          value={Number(detail.returnQuantity) * Number(detail.returnPrice)}\r\n        />\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n}\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { ImportReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\r\n\r\n//import library\r\nimport {\r\n  Dialog,\r\n  Tooltip,\r\n  Chip,\r\n  Card,\r\n  DialogContent,\r\n  Box,\r\n  Grid,\r\n  TableHead,\r\n  TableBody,\r\n  Typography,\r\n  Table,\r\n  TableCell,\r\n  TableRow,\r\n  Collapse,\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\n\r\n//import icon\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\r\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\r\n\r\n//import project\r\nimport {\r\n  StyledMenu,\r\n  StyledMenuItem,\r\n} from \"../../../../../components/Button/MenuButton\";\r\nimport InventoryReturnPopUp from \"../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp\";\r\n\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\n// api\r\nimport purchaseOrderApi from \"../../../../../api/purchaseOrderApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\r\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    typo: {\r\n      marginBottom: 20,\r\n    },\r\n    card: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      borderWidth: 2,\r\n    },\r\n    background: {\r\n      background:\r\n        theme.customization.mode === \"Light\"\r\n          ? theme.customization.primaryColor[50]\r\n          : grey[700],\r\n    },\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: \"rect(0 0 0 0)\",\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: \"hidden\",\r\n      padding: 0,\r\n      position: \"absolute\",\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n  })\r\n);\r\n\r\nconst InventoryOrderDetail = (props) => {\r\n  const { row, openRow } = props.parentProps;\r\n  const { isMini } = props;\r\n  //  tam thoi\r\n\r\n  const currentUser = \"Minh Tri\";\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleCloseReturn = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const [purchaseOrder, setPurchaseOrder] = useState({\r\n    branch: null,\r\n    details: [],\r\n  });\r\n\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const res = await purchaseOrderApi.getPurchaseOrder(\r\n          store_uuid,\r\n          row.uuid\r\n        );\r\n        console.log(\"purchase detail\", res.data);\r\n        setPurchaseOrder(res.data);\r\n      } catch (error) {\r\n        setPurchaseOrder({\r\n          branch: null,\r\n          details: [],\r\n        });\r\n      }\r\n    };\r\n    if (openRow === row.uuid) {\r\n      loadData();\r\n    }\r\n  }, [props.parentProps.openRow, reload]);\r\n\r\n  useEffect(() => {}, [purchaseOrder]);\r\n  const debtAmount =\r\n    Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount);\r\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\r\n  const editInventoryOrderApiCall = async (\r\n    store_uuid,\r\n    branch_uuid,\r\n    uuid,\r\n    body\r\n  ) => {\r\n    return purchaseOrderApi.editPurchaseOrder(\r\n      store_uuid,\r\n      branch_uuid,\r\n      uuid,\r\n      body\r\n    );\r\n  };\r\n\r\n  //print\r\n\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  return (\r\n    <Collapse\r\n      in={isMini ? true : openRow === row.uuid}\r\n      timeout=\"auto\"\r\n      unmountOnExit\r\n    >\r\n      <PayRemaining\r\n        reloadDetail={() => setReload(!reload)}\r\n        onReload={props.parentProps.onReload}\r\n        uuid={row.uuid}\r\n        debt={debtAmount}\r\n        paid={Number(row.paid_amount)}\r\n        title={\r\n          <Typography variant=\"h4\">\r\n            Trả nợ đơn nhập hàng <i>{row.purchase_order_code}</i>\r\n          </Typography>\r\n        }\r\n        open={openPayRemaining}\r\n        handleClose={() => setOpenPayRemaining(false)}\r\n        editApiCall={editInventoryOrderApiCall}\r\n      />\r\n      {/* <Collapse in={ true } timeout=\"auto\" unmountOnExit> */}\r\n      <Box margin={1}>\r\n        <Typography\r\n          variant=\"h3\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          className={classes.typo}\r\n        >\r\n          {row.name}\r\n        </Typography>\r\n\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n          <Grid item xs={12} sm={5}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Mã đơn nhập\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.purchase_order_code}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Ngày bán{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.creation_date}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Nhà cung cấp\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.supplier_name}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Người nhập\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {purchaseOrder.created_by_user\r\n                    ? purchaseOrder.created_by_user.name\r\n                    : \"\"}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12} sm={7}>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"flex-start\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Trạng thái\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={3} sm={3}>\r\n                <Box>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {debtAmount > 0 ? \"Còn nợ \" : \"Trả đủ\"}\r\n                    {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                {debtAmount > 0 ? (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    variant=\"contained\"\r\n                    onClick={() => setOpenPayRemaining(true)}\r\n                  >\r\n                    Trả tiếp\r\n                  </Button>\r\n                ) : null}\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng tiền nhập\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.total_amount  -row.discount}></VNDFormat>{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Chi nhánh thực hiện\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {purchaseOrder.branch ? purchaseOrder.branch.name : \"\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={4}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Phương thức thanh toán\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Typography\r\n          variant=\"h4\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          style={{ marginTop: 30 }}\r\n        >\r\n          Danh sách sản phẩm\r\n        </Typography>\r\n        <Table size=\"small\" aria-label=\"purchases\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Mã SP</TableCell>\r\n              <TableCell>Sản phẩm</TableCell>\r\n              <TableCell>Mã vạch</TableCell>\r\n              <TableCell align=\"right\">Số lượng</TableCell>\r\n              <TableCell align=\"right\">Đổi trả</TableCell>\r\n              <TableCell align=\"right\">Giá nhập</TableCell>\r\n              <TableCell align=\"right\">Thành tiền</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {purchaseOrder.details.map((detail) => (\r\n              <TableRow key={detail.product_id}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {detail.product_code}\r\n                </TableCell>\r\n                <TableCell>{detail.name}</TableCell>\r\n                <TableCell>{detail.bar_code}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <div>\r\n                    {detail.quantity}\r\n                    <div>\r\n                      {detail.batches\r\n                        ? JSON.parse(detail.batches).map((batch) => (\r\n                            <Chip\r\n                              size=\"small\"\r\n                              label={`${\r\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\r\n                              }(${\r\n                                batch?.expiry_date\r\n                                  ? batch?.expiry_date.substring(0, 10)\r\n                                  : \"\"\r\n                              })-${batch.additional_quantity}`}\r\n                              key={batch.id}\r\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\r\n                              variant=\"outlined\"\r\n                            />\r\n                          ))\r\n                        : null}\r\n                    </div>\r\n                  </div>\r\n                </TableCell>\r\n\r\n                <TableCell align=\"right\">\r\n                  <div>\r\n                    {detail.returned_quantity}\r\n                    <div>\r\n                      {detail.batches\r\n                        ? JSON.parse(detail.batches).map((batch) => (\r\n                            <Chip\r\n                              size=\"small\"\r\n                              label={`${\r\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\r\n                              }(${\r\n                                batch?.expiry_date\r\n                                  ? batch?.expiry_date.substring(0, 10)\r\n                                  : \"\"\r\n                              })-${batch.returned_quantity}`}\r\n                              key={batch.id}\r\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\r\n                              variant=\"outlined\"\r\n                            />\r\n                          ))\r\n                        : null}\r\n                    </div>\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell align=\"right\">\r\n                  <VNDFormat value={detail.unit_price} />\r\n                </TableCell>\r\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\r\n                  <VNDFormat\r\n                    value={Number(detail.quantity) * Number(detail.unit_price)}\r\n                  />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        <Box\r\n          className={classes.background}\r\n          style={{\r\n            padding: 10,\r\n            borderRadius: theme.customization.borderRadius,\r\n            marginTop: 10,\r\n          }}\r\n        >\r\n          <Grid container direction=\"column\">\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n\r\n\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\r\n                        </Grid>\r\n                    </Grid> */}\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng SL sản phẩm ({purchaseOrder.details.length})\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  xs={3} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {calculateTotalQuantity(purchaseOrder.details)}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tiền hàng\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  xs={3} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={purchaseOrder.total_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Giảm giá\r\n                </Typography>\r\n              </Grid>\r\n\r\n              <Grid item  xs={3} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={purchaseOrder.discount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng tiền nhập\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  xs={3}sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.total_amount - row.discount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Đã trả NCC\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={3}sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.paid_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent={\"flex-end\"}\r\n          style={{ marginTop: 20 }}\r\n        >\r\n          {/* {currentUser === row.employee ? (\r\n            <>\r\n              {\" \"}\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                style={{ marginLeft: 15 }}\r\n              >\r\n                Sửa\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                style={{ marginLeft: 15 }}\r\n              >\r\n                Xoá\r\n              </Button>{\" \"}\r\n            </>\r\n          ) : null} */}\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            style={{ marginLeft: 15 }}\r\n            onClick={handleClickOpen}\r\n          >\r\n            Trả hàng\r\n          </Button>\r\n\r\n          <IconButton\r\n            aria-label=\"more\"\r\n            aria-controls=\"long-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ marginLeft: 10 }}\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n\r\n          <StyledMenu\r\n            id=\"customized-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n          >\r\n            <StyledMenuItem onClick={() => handlePrint()}>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <PrintTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"In đơn nhập\" />\r\n            </StyledMenuItem>\r\n\r\n            <StyledMenuItem>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <GetAppTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Xuất excel\" />\r\n            </StyledMenuItem>\r\n          </StyledMenu>\r\n        </Grid>\r\n\r\n        {/* 3. Receipt */}\r\n        <div style={{ display: \"none\" }}>\r\n          <div ref={componentRef}>\r\n            <ImportReceiptPrinter\r\n              cart={purchaseOrder}\r\n              date={row.creation_date}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tra hang */}\r\n\r\n        <Dialog\r\n          fullWidth={true}\r\n          maxWidth=\"lg\"\r\n          open={open}\r\n          onClose={handleCloseReturn}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <InventoryReturnPopUp\r\n            handleCloseReturn={handleCloseReturn}\r\n            purchaseOrder={purchaseOrder}\r\n            classes={classes}\r\n            reload={props.parentProps.onReload}\r\n            reloadDetail={() => setReload(!reload)}\r\n          />\r\n        </Dialog>\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport default InventoryOrderDetail;\r\n\r\nconst headCells = [\r\n  { id: \"stt\", numeric: false, disablePadding: true, label: \"Stt\" },\r\n  { id: \"id\", numeric: false, disablePadding: true, label: \"#\" },\r\n  { id: \"name\", numeric: false, disablePadding: true, label: \"Tên\" },\r\n  { id: \"price\", numeric: true, disablePadding: true, label: \"Đơn giá\" },\r\n  { id: \"quantity\", numeric: true, disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"protein1\", numeric: true, disablePadding: true, label: \"Thành tiền\" },\r\n];\r\n","import React, { useRef,useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\r\n\r\n\r\n//import library\r\nimport {\r\n  Box,\r\n  Grid,\r\n  TableHead,\r\n  TableBody,\r\n  Typography,\r\n  Table,\r\n  TableCell,\r\n  TableRow,\r\n  Collapse,\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\n\r\n//import icon\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\r\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\r\n\r\n//import project\r\nimport {\r\n  StyledMenu,\r\n  StyledMenuItem,\r\n} from \"../../../../../components/Button/MenuButton\";\r\n\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { useSelector } from \"react-redux\";\r\nimport purchaseReturnApi from \"../../../../../api/purchaseReturnApi\";\r\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\r\n\r\n// dơn trả giá trả có khác ko ???\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    typo: {\r\n      marginBottom: 20,\r\n    },\r\n    background: {\r\n      background:\r\n        theme.customization.mode === \"Light\"\r\n          ? theme.customization.primaryColor[50]\r\n          : grey[700],\r\n    },\r\n  })\r\n);\r\n\r\nconst InventoryReturnDetail = (props) => {\r\n  const { row, openRow ,} = props.parentProps;\r\n  //  tam thoi\r\n  const currentUser = \"Minh Tri\";\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const [purchaseReturn, setPurchaseReturn] = useState({\r\n    branch: null,\r\n    details: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const res = await purchaseReturnApi.getPurchaseReturn(\r\n          store_uuid,\r\n          row.uuid\r\n        );\r\n        // console.log(res.data)\r\n        setPurchaseReturn(res.data);\r\n      } catch (error) {\r\n        setPurchaseReturn({\r\n          branch: null,\r\n          details: [],\r\n        });\r\n      }\r\n    };\r\n    if (openRow === row.uuid) {\r\n      loadData();\r\n    }\r\n  }, [props.parentProps.openRow]);\r\n\r\n  //print\r\n\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n      content: () => componentRef.current,\r\n  });\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <Collapse in={props.isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\r\n      <Box margin={1}>\r\n        <Typography\r\n          variant=\"h3\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          className={classes.typo}\r\n        >\r\n          {row.name}\r\n        </Typography>\r\n\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n          <Grid item xs={12}sm={5}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Mã trả hàng nhập{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.purchase_return_code}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Mã đơn nhập\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {purchaseReturn.purchase_order\r\n                    ? purchaseReturn.purchase_order.purchase_order_code\r\n                    : \"\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7}sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Ngày trả{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.creation_date}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Nhà cung cấp\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {purchaseReturn.supplier ? purchaseReturn.supplier.name : \"\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Người thực hiện\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {purchaseReturn.created_by_user\r\n                    ? purchaseReturn.created_by_user.name\r\n                    : \"\" }\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12}sm={5}>\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Trạng thái\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  Cần thu{\" \"}\r\n                  <VNDFormat value={row.total_amount - row.paid_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n\r\n              <Grid item xs={7} sm={6} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả </Typography>\r\n\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.total_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Chi nhánh thực hiện\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {purchaseReturn.branch ? purchaseReturn.branch.name : \"\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Phương thức thanh toán\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item   sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Typography\r\n          variant=\"h4\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          style={{ marginTop: 30 }}\r\n        >\r\n          Danh sách sản phẩm\r\n        </Typography>\r\n        <Table size=\"small\" aria-label=\"purchases\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {/* thêm cột giá trả */}\r\n              <TableCell>#</TableCell>\r\n              <TableCell>Sản phẩm</TableCell>\r\n              <TableCell align=\"right\">Số lượng</TableCell>\r\n              <TableCell align=\"right\">Giá trả</TableCell>\r\n              <TableCell align=\"right\">Thành tiền</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {purchaseReturn.details.map((detail) => (\r\n              <TableRow key={detail.product_code}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {detail.product_code}\r\n                </TableCell>\r\n                <TableCell>{detail.name}</TableCell>\r\n                <TableCell align=\"right\">{detail.quantity}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <VNDFormat value={detail.unit_price} />\r\n                </TableCell>\r\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\r\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n        <Box\r\n          className={classes.background}\r\n          style={{\r\n            padding: 10,\r\n            borderRadius: theme.customization.borderRadius,\r\n            marginTop: 10,\r\n          }}\r\n        >\r\n          <Grid container direction=\"column\">\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n              <Grid item xs={2} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>\r\n              </Grid>\r\n              <Grid item xs={2} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n\r\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng SL sản phẩm ({purchaseReturn.details.length})\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={3} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {calculateTotalQuantity(purchaseReturn.details)}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n              <Grid item xs={2} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tiền hàng trả\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={2} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.total_amount} </Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n\r\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n              <Grid item xs={2} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả</Typography>\r\n              </Grid>\r\n              <Grid item xs={2} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\r\n              </Grid>\r\n            </Grid> */}\r\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n\r\n              <Grid item xs={7} sm={2} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\r\n\r\n              </Grid>\r\n              <Grid item  xs={3} sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.total_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n              <Grid item xs={7} sm={2}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  NCC đã trả\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={3}sm={2}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={row.paid_amount} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent={\"flex-end\"}\r\n          style={{ marginTop: 20 }}\r\n        >\r\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\r\n          {/* {currentUser === row.employee ? (\r\n            <>\r\n              {\" \"}\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                style={{ marginLeft: 15 }}\r\n              >\r\n                Sửa\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                style={{ marginLeft: 15 }}\r\n              >\r\n                Xoá\r\n              </Button>{\" \"}\r\n            </>\r\n          ) : null} */}\r\n\r\n          <IconButton\r\n            aria-label=\"more\"\r\n            aria-controls=\"long-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ marginLeft: 10 }}\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n\r\n          <StyledMenu\r\n            id=\"customized-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n          >\r\n            <StyledMenuItem onClick={()=> handlePrint()}>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <PrintTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"In đơn trả hàng nhập\" />\r\n            </StyledMenuItem>\r\n\r\n            <StyledMenuItem>\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <GetAppTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Xuất excel\" />\r\n            </StyledMenuItem>\r\n          </StyledMenu>\r\n        </Grid>\r\n      </Box>\r\n\r\n       {/* 3. Receipt */}\r\n       <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ReceiptPrinter cart={purchaseReturn} date={row.creation_date} />\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport default InventoryReturnDetail;\r\n","import React from 'react'\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n//import library\r\nimport {Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\r\n\r\n//import icon\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\r\n\r\n\r\n//import project \r\nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\r\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\r\nimport { VNDFormat,ThousandFormat } from '../../../../../components/TextField/NumberFormatCustom';\r\n\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTitle:{\r\n    fontSize: '1.125rem'\r\n  },\r\n  typo:{\r\n    marginBottom:20\r\n  },\r\n  card: {\r\n    background: theme.customization.mode === \"Light\"? null: grey[800],\r\n    borderRadius:theme.customization.borderRadius,\r\n    color: '#000000',\r\n    borderWidth:2,\r\n  },\r\n  background:{\r\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n\r\n}));\r\n\r\n\r\nconst OrderProductListDetail = (props) => {\r\n    const {row,openRow }= props.parentProps;\r\n    const {isMini}= props.parentProps;\r\n\r\n    \r\n  //  tam thoi\r\n    const currentUser = \"Minh Tri\";\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n      setOpen(true);\r\n    };\r\n\r\n    const handleCloseReturn = () => {\r\n      setOpen(false);\r\n    };\r\n\r\n\r\n    return (\r\n        // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\r\n        <Collapse in={ isMini? true: true } timeout=\"auto\" unmountOnExit>\r\n             <Box margin={1}>\r\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\r\n                 {row.name}\r\n               </Typography>\r\n\r\n             <Grid  container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={12} sm={5}>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\" > \r\n                      <Grid item xs={6} sm={5} >\r\n                        <Typography variant=\"h5\" gutterBottom component=\"div\">Mã đơn đặt</Typography>    \r\n                      </Grid>\r\n                      <Grid item  sm={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.customer_order_code} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                      <Grid item xs={6} sm={5} >\r\n                        <Typography variant=\"h5\" gutterBottom component=\"div\">Ngày đặt </Typography>    \r\n                      </Grid>\r\n                      <Grid item  sm={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.created_at} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                      <Grid item  xs={6} sm={5} >\r\n                        <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khách</Typography>    \r\n                      </Grid>\r\n                      <Grid item  sm={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                      <Grid item xs={6} sm={5} >\r\n                        <Typography variant=\"h5\"gutterBottom component=\"div\">Số điện thoại</Typography>    \r\n                      </Grid>\r\n                      <Grid item  sm={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                     \r\n                  </Grid>\r\n                    <Grid item xs={12} sm={5}>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={6} sm={6} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={6} sm={6} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Khoảng tiền </Typography>    \r\n                        </Grid>\r\n                        <Grid item  sm={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat value={row.total_amount} /></Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={6} sm={6} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>    \r\n                        </Grid>\r\n                        <Grid item  sm={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.branch} </Typography>\r\n                        </Grid>\r\n                    </Grid> */}\r\n             \r\n                  </Grid>\r\n\r\n          \r\n               \r\n               </Grid>\r\n \r\n\r\n\r\n\r\n               <Typography variant=\"h4\" gutterBottom component=\"div\" style={{marginTop:30}}>\r\n                 Danh sách sản phẩm\r\n               </Typography>\r\n               <Table size=\"small\" aria-label=\"purchases\">\r\n                 <TableHead>\r\n                   <TableRow>\r\n                     <TableCell>#</TableCell>\r\n                     <TableCell>Sản phẩm</TableCell>\r\n                     <TableCell align=\"right\">Số lượng</TableCell>\r\n                     <TableCell align=\"right\">Giá bán</TableCell>\r\n                     <TableCell align=\"right\">Thành tiền</TableCell>\r\n                     {/* <TableCell align=\"right\">Đã nhập</TableCell>\r\n                     <TableCell align=\"right\">Trạng thái</TableCell> */}\r\n                   </TableRow>\r\n                 </TableHead>\r\n                 <TableBody>\r\n    \r\n                    {JSON.parse(row.details ? row.details : '[]').map((historyRow) => (\r\n                     <TableRow key={historyRow.product_id}>\r\n                       <TableCell component=\"th\" scope=\"row\">\r\n                         {historyRow.product_code}\r\n                       </TableCell>\r\n                       <TableCell>{historyRow.name}</TableCell>\r\n                       <TableCell align=\"right\"><ThousandFormat value={historyRow.quantity} /></TableCell>\r\n                       <TableCell align=\"right\">\r\n                       <VNDFormat value={historyRow.list_price} />\r\n                       </TableCell>\r\n                       <TableCell align=\"right\" style={{fontWeight:700}}>\r\n                          <VNDFormat value={historyRow.quantity * historyRow.list_price} />\r\n                       </TableCell>\r\n                       {/* <TableCell align=\"right\"><ThousandFormat value={0} /></TableCell>\r\n                       <TableCell align=\"right\">Đã nhập đủ</TableCell> */}\r\n                       \r\n                     </TableRow>\r\n                   ))}\r\n                 </TableBody>\r\n               </Table> \r\n               <Box  className={classes.background}style={{padding:10, borderRadius:theme.customization.borderRadius, marginTop:10}}>\r\n               <Grid container direction=\"column\" >\r\n                    {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n                        <Grid item xs={6}sm={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={JSON.parse(row.details).} /> </Typography>\r\n                        </Grid>\r\n                    </Grid> */}\r\n                    <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n                        <Grid item xs={6} sm={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số mặt hàng</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={JSON.parse(row.details ? row.details : '[]').length} /></Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n                        <Grid item xs={6} sm={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Khoảng tiền hàng</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat value={row.total_amount} /> </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\r\n                        <Grid item xs={6}sm={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số mặt hàng đã nhập đủ</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">2/4 </Typography>\r\n                        </Grid>\r\n                    </Grid> */}\r\n\r\n                   \r\n\r\n{/* \r\n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả NCC</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\r\n                        </Grid>\r\n                    </Grid> */}\r\n                    \r\n              </Grid>\r\n              </Box>\r\n\r\n              <Grid container direction=\"row\" justifyContent={ \"flex-end\"} style={{marginTop:20}}> \r\n                    {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\r\n                    {currentUser === row.employee ? \r\n                      <> <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\r\n                        <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button> </>\r\n                      : null\r\n                    }\r\n                  \r\n                  \r\n                  <IconButton\r\n                    aria-label=\"more\"\r\n                    aria-controls=\"long-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleClick}\r\n                    size=\"small\"\r\n                    style={{marginLeft:10}}\r\n\r\n                  >\r\n                    <MoreVertIcon />\r\n                  </IconButton>\r\n\r\n                  <StyledMenu\r\n                    id=\"customized-menu\"\r\n                    anchorEl={anchorEl}\r\n                    keepMounted\r\n                    open={Boolean(anchorEl)}\r\n                    onClose={handleClose}\r\n                    \r\n                    \r\n                  >\r\n                    <StyledMenuItem>\r\n                      <ListItemIcon style={{marginRight:-15}}>\r\n                        <PrintTwoToneIcon fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"In đơn đặt\" />\r\n                    </StyledMenuItem>\r\n\r\n                    <StyledMenuItem>\r\n                      <ListItemIcon style={{marginRight:-15}}>\r\n                        <GetAppTwoToneIcon fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Xuất excel\" />\r\n                    </StyledMenuItem>\r\n                  </StyledMenu>\r\n                  \r\n              </Grid>\r\n\r\n              <Dialog fullWidth={true} maxWidth='lg' open={open} onClose={handleCloseReturn} aria-labelledby=\"form-dialog-title\">\r\n                    <InventoryReturnPopUp handleCloseReturn={handleCloseReturn} row={row} classes={classes}/>\r\n              </Dialog>\r\n                \r\n             </Box>\r\n           </Collapse>\r\n    )\r\n}\r\n\r\nexport default OrderProductListDetail\r\n\r\nconst headCells = [\r\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\r\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\r\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\r\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\r\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\r\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\r\n;\r\n","import React, { useEffect } from 'react'\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n//import library\r\nimport {Tooltip, Chip, Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\r\n\r\n//import icon\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\r\n\r\n\r\n//import project \r\nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\r\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\r\nimport {ThousandFormat, VNDFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\r\n\r\n\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTitle:{\r\n    fontSize: '1.125rem'\r\n  },\r\n  typo:{\r\n    marginBottom:20\r\n  },\r\n  card: {\r\n    background: theme.customization.mode === \"Light\"? null: grey[800],\r\n    borderRadius:theme.customization.borderRadius,\r\n    color: '#000000',\r\n    borderWidth:2,\r\n  },\r\n  background:{\r\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n\r\n}));\r\n\r\n\r\nconst CheckHistoryDetail = (props) => {\r\n    const {row, openRow }= props.parentProps;\r\n    const {isMini}= props;\r\n    \r\n  //  tam thoi\r\n    const currentUser = \"Minh Tri\";\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n    //calculate\r\n    const moneyDif = row.details\r\n    ?.map((detail) => detail.quantity * detail.unit_price)\r\n    .reduce((total, ele) => total + ele, 0)\r\n\r\n    useEffect(() => {\r\n      console.log(row)\r\n    }, [])\r\n\r\n    return (\r\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\r\n      <Collapse\r\n        in={isMini ? true : openRow === row.uuid}\r\n        timeout=\"auto\"\r\n        unmountOnExit\r\n      >\r\n        <Box margin={1}>\r\n          <Typography\r\n            variant=\"h3\"\r\n            gutterBottom\r\n            component=\"div\"\r\n            className={classes.typo}\r\n          >\r\n            {row.product_name}\r\n          </Typography>\r\n\r\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n            <Grid item xs={12} sm={5}>\r\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={5} sm={5}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Mã đơn kiểm\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item sm={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.inventory_check_code}{\" \"}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={5} sm={5}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Ngày kiểm{\" \"}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item sm={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.created_at}{\" \"}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={5}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Tổng tồn kho\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.tongtonkho}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid> */}\r\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={5}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    SL thực tế\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.details.sum}{\" \"}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid> */}\r\n            </Grid>\r\n            <Grid item xs={12} sm={5}>\r\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Trạng thái\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    Không cân bằng\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid> */}\r\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={6}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Tổng lệch\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.tongSLthucte - row.tongtonkho}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid> */}\r\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={5} sm={6}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Chi nhánh thực hiện\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item sm={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.branch_name}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={5} sm={6}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Người thực hiện\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item sm={4}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.user_name}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Typography\r\n            variant=\"h4\"\r\n            gutterBottom\r\n            component=\"div\"\r\n            style={{ marginTop: 30 }}\r\n          >\r\n            Danh sách sản phẩm\r\n          </Typography>\r\n          <Table size=\"small\" aria-label=\"purchases\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>#</TableCell>\r\n                <TableCell>Sản phẩm</TableCell>\r\n                {/* <TableCell>Mã vạch</TableCell> */}\r\n                <TableCell align=\"right\">Tồn kho</TableCell>\r\n                <TableCell align=\"right\">SL thực tế</TableCell>\r\n                <TableCell align=\"right\">Lệch</TableCell>\r\n                <TableCell align=\"right\">Giá trị</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {row.details?.map((detail) => (\r\n                <TableRow key={detail.product_id}>\r\n                  <TableCell component=\"th\" scope=\"row\">\r\n                    {detail.product_code}\r\n                  </TableCell>\r\n                  <TableCell>{detail.product_name}</TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <ThousandFormat value={detail.branch_inventory} />\r\n\r\n                    <div>\r\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\r\n                        .map((checked_batch) => (\r\n                          <div>\r\n                          <Tooltip\r\n                            title={`${\r\n                              checked_batch.position ? checked_batch.position : \"\"\r\n                            }-${\r\n                              checked_batch.expiry_date\r\n                                ? checked_batch.expiry_date\r\n                                : \"\"\r\n                            }`}\r\n                          >\r\n                            <Chip\r\n                              label={`${checked_batch.batch_code}-${checked_batch.quantity}`}\r\n                              size=\"small\"\r\n                            ></Chip>\r\n                          </Tooltip>\r\n                        </div>\r\n                        ))}\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <ThousandFormat\r\n                      value={\r\n                        Number(detail.branch_inventory) +\r\n                        Number(detail.quantity)\r\n                      }\r\n                    />\r\n                    <div>\r\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\r\n                        .map((checked_batch) => (\r\n                          <div>\r\n                          <Tooltip\r\n                            title={`${\r\n                              checked_batch.position ? checked_batch.position : \"\"\r\n                            }-${\r\n                              checked_batch.expiry_date\r\n                                ? checked_batch.expiry_date\r\n                                : \"\"\r\n                            }`}\r\n                          >\r\n                            <Chip\r\n                              size=\"small\"\r\n                              label={`${checked_batch.batch_code}-${checked_batch.checked_quantity}`}\r\n                            ></Chip>\r\n                          </Tooltip>\r\n                        </div>\r\n                        ))}\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\r\n                    <ThousandFormat value={detail.quantity} />\r\n                  </TableCell>\r\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\r\n                    <VNDFormat value={detail.quantity * detail.unit_price} />\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n          <Box\r\n            className={classes.background}\r\n            style={{\r\n              padding: 10,\r\n              borderRadius: theme.customization.borderRadius,\r\n              marginTop: 10,\r\n            }}\r\n          >\r\n            <Grid container direction=\"column\">\r\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n                <Grid item xs={5} sm={2}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Tổng SL lệch\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3} sm={2}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    <ThousandFormat\r\n                      value={row.details\r\n                        ?.map((detail) => detail.quantity)\r\n                        .reduce((total, ele) => total + ele, 0)}\r\n                    />\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\r\n                <Grid item xs={5} sm={2}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Tổng tiền lệch\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={3} sm={2}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    <VNDFormat\r\n                      style={{\r\n                        fontWeight: 700,\r\n                        color: moneyDif > 0 ? \"green\" : \"red\",\r\n                      }}\r\n                      value={moneyDif}\r\n                    />\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                <Grid item xs={2}>\r\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                    Tổng lệch\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                    {row.total}{\" \"}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid> */}\r\n            </Grid>\r\n          </Box>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent={\"flex-end\"}\r\n            style={{ marginTop: 20 }}\r\n          >\r\n            <IconButton\r\n              aria-label=\"more\"\r\n              aria-controls=\"long-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleClick}\r\n              size=\"small\"\r\n              style={{ marginLeft: 10 }}\r\n            >\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n\r\n            <StyledMenu\r\n              id=\"customized-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <StyledMenuItem>\r\n                <ListItemIcon style={{ marginRight: -15 }}>\r\n                  <PrintTwoToneIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"In đơn nhập\" />\r\n              </StyledMenuItem>\r\n\r\n              <StyledMenuItem>\r\n                <ListItemIcon style={{ marginRight: -15 }}>\r\n                  <GetAppTwoToneIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Xuất excel\" />\r\n              </StyledMenuItem>\r\n            </StyledMenu>\r\n          </Grid>\r\n        </Box>\r\n      </Collapse>\r\n    );\r\n}\r\n\r\nexport default CheckHistoryDetail\r\n\r\nconst headCells = [\r\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\r\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\r\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\r\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\r\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\r\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\r\n;\r\n","import { Box, Button, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport ModalWrapper from \"../Modal/ModalWrapper\";\r\nconst ConfirmPopUp = (props) => {\r\n  return (\r\n    <ModalWrapper {...props}>\r\n      <Box>\r\n        <Typography>{props.message}</Typography>\r\n      </Box>\r\n      <Box\r\n        style={{\r\n          marginTop: 20,\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"flex-end\",\r\n        }}\r\n      >\r\n        <Button\r\n          color=\"secondary\"\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          style={{ marginRight: 20 }}\r\n          onClick={props.handleClose}\r\n        >\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          onClick={() => {\r\n            props.handleConfirm();\r\n          }}\r\n        >\r\n          {\" \"}\r\n          Xóa\r\n        </Button>\r\n      </Box>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default ConfirmPopUp;\r\n","import React, {useState} from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Dialog\r\n} from \"@material-ui/core\";\r\n\r\n//import project\r\nimport customerApi from \"../../../../../../api/customerApi\";\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n    },\r\n    textField: {\r\n      width: \"100%\",\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nconst UpdateCustomer = (props) => {\r\n  const { handleClose, open, onReload } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  console.log('paymentImfo',props.customerDetail)\r\n  const customerFormik = useFormik({\r\n    initialValues: {\r\n      name: props.customerDetail?.name || \"\",\r\n      email: props.customerDetail?.email || \"\",\r\n      phone: props.customerDetail?.phone || \"\",\r\n      address: props.customerDetail?.address || \"\",\r\n      paymentInfo: props.customerDetail?.payment_info || \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\r\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\r\n      email: Yup.string().email(\"Email không chính xác\")\r\n    }),\r\n  })\r\n\r\n  const info = useSelector(state => state.info)\r\n  const store_uuid = info.store.uuid\r\n\r\n  const handleCloseAndReset =() =>{\r\n    // handleClose()\r\n    onReload()\r\n    customerFormik.resetForm()\r\n  } \r\n  const dispatch = useDispatch()\r\n  return (\r\n \r\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Chỉnh sửa khách hàng\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"space-around\"\r\n            spacing={3}\r\n          >\r\n            <Grid item xs={7}>\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Tên khách hàng\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                required\r\n                name = \"name\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.name}\r\n                error={customerFormik.touched.name && customerFormik.errors.name}\r\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n              <TextField\r\n                required\r\n                id=\"outlined-basic\"\r\n                label=\"Số điện thoại\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                name=\"phone\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.phone}\r\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\r\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Địa chỉ\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                name= \"address\"\r\n                // required\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.address}\r\n                error={customerFormik.touched.address && customerFormik.errors.address}\r\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={5}>\r\n              <TextField\r\n                id=\"date\"\r\n                label=\"Thông tin thanh toán\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                className={classes.textField}\r\n                name = \"paymentInfo\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.paymentInfo}\r\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\r\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Email\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                name = \"email\"\r\n                onChange={customerFormik.handleChange}\r\n                value={customerFormik.values.email}\r\n                error={customerFormik.touched.email && customerFormik.errors.email}\r\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\r\n                onBlur={customerFormik.handleBlur}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={handleClose}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button\r\n          onClick={async () => {\r\n            handleClose()\r\n            let body = {\r\n              name: customerFormik.values.name,\r\n              email: customerFormik.values.email,\r\n              phone: customerFormik.values.phone,\r\n              address: customerFormik.values.address,\r\n              payment_info: customerFormik.values.paymentInfo,\r\n            };\r\n\r\n            try {\r\n              const response = await customerApi.updateCustomer(store_uuid, props.customerDetail.uuid, body)\r\n              handleCloseAndReset()\r\n              dispatch(statusAction.successfulStatus(\"Sửa thông tin khách hàng thành công\"));\r\n              \r\n            } catch (err) {\r\n              dispatch(statusAction.failedStatus(\"Sửa thông tin khách hàng thất bại\"));\r\n            }\r\n\r\n          }}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          disabled = {!(customerFormik.isValid )}\r\n        >\r\n          Lưu thay đổi\r\n        </Button>\r\n      </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nexport default UpdateCustomer;\r\n","import React from 'react'\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n//import library\r\nimport { Box, Grid, Collapse, Typography, Button, ListItemIcon, ListItemText, IconButton } from '@material-ui/core';\r\n\r\n//import icon\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\r\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\r\n\r\n//import image\r\nimport avaUpload from '../../../../../assets/img/product/lyimg.jpeg';\r\n\r\n//import project \r\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton'\r\nimport customerApi from \"../../../../../api/customerApi\";\r\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport UpdateCustomer from \"../CustomerDetail/UpdateCustomer/UpdateCustomer\"\r\nimport { VNDFormat, ThousandFormat } from '../../../../../components/TextField/NumberFormatCustom';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      '& .MuiTextField-root': {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: '1.125rem'\r\n    },\r\n    typo: {\r\n      marginBottom: 20\r\n    }\r\n\r\n  }));\r\n\r\nconst UploadImage = () => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 120,\r\n        width: 120,\r\n        borderRadius: 120,\r\n        marginLeft: 15,\r\n\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n\r\n  )\r\n}\r\nconst CustomerDetail = (props) => {\r\n\r\n  const { row, openRow } = props.parentProps;\r\n\r\n  const { isMini } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\r\n  const [editItem, setEditItem] = React.useState(false);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const dispatch = useDispatch();\r\n\r\n  const info = useSelector(state => state.info)\r\n  const store_uuid = info.store.uuid\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n\r\n  const handleDeleteCustomer = async () => {\r\n    setDeleteConfirm(false)\r\n    try {\r\n      const response = await customerApi.deleteCustomer(store_uuid, row.uuid);\r\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\r\n      props.parentProps.onReload();\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\r\n    }\r\n  };\r\n\r\n  console.log(\"Row\", row)\r\n  return (\r\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\r\n      <ConfirmPopUp\r\n        open={deleteConfirm}\r\n        handleClose={() => {\r\n          setDeleteConfirm(false);\r\n        }}\r\n        handleConfirm={handleDeleteCustomer}\r\n        message={\r\n          <Typography>\r\n            Xóa vĩnh viễn khách hàng <b>{row.name} ?</b>\r\n          </Typography>\r\n        }\r\n      />\r\n      {editItem &&<UpdateCustomer customerDetail={row} open={editItem} onReload={props.parentProps.onReload} handleClose={() => { setEditItem(false) }} />}\r\n      <Box margin={1}>\r\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\r\n          {row.name}\r\n        </Typography>\r\n\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n          <Grid item xs={12} sm={3}>\r\n            <UploadImage />\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\" >\r\n              <Grid item xs={7} sm={5} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khách hàng </Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.customer_code} </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khách hàng </Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Số điện thoại</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Thông tin thanh toán</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Địa chỉ</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.address} </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Email</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.email} </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n\r\n          <Grid item xs={12} sm={4}>\r\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}</Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tích điểm</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={row.points} /></Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền mua</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.total_payment} /></Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6} >\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Còn nợ</Typography>\r\n              </Grid>\r\n              <Grid item sm={6} >\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.debt} /> </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n          </Grid>\r\n\r\n        </Grid>\r\n\r\n        {/* Button */}\r\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"} style={{ marginTop: 20 }}>\r\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setEditItem(true) }}>Sửa</Button>\r\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setDeleteConfirm(true) }}>Xoá</Button>\r\n\r\n          <IconButton\r\n            aria-label=\"more\"\r\n            aria-controls=\"long-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ marginLeft: 10 }}\r\n\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n\r\n          <StyledMenu\r\n            id=\"customized-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n           \r\n          >\r\n            <StyledMenuItem\r\n             onClick={async () => {\r\n              handleClose()\r\n              if (row.status === \"inactive\") {\r\n                try {   \r\n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid ,{...row, status:'active'} )\r\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\r\n                } catch (err) {\r\n                  console.log(err)\r\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\r\n                }\r\n              } else if (row.status === \"active\") {\r\n                try {\r\n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid,{...row, status:'inactive'})\r\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\r\n                } catch (err) {\r\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\r\n                }\r\n              }\r\n              \r\n              props.parentProps.onReload();\r\n  \r\n            }}\r\n            \r\n            >\r\n              <ListItemIcon style={{ marginRight: -15 }} >\r\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\r\n            </StyledMenuItem>\r\n\r\n          </StyledMenu>\r\n\r\n\r\n        </Grid>\r\n\r\n      </Box>\r\n    </Collapse>\r\n  )\r\n\r\n}\r\n\r\nexport default CustomerDetail\r\n","import axiosClient from \"./axiosClient\";\r\nconst supplierApi = {\r\n  createSupplier: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}/suppliers`;\r\n    return axiosClient.post(url, body, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n  getSuppliers: (storeUuid, query) => {\r\n    const url = `/stores/${storeUuid}/suppliers`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n\r\n  getSupplier: (storeUuid, supplierUuid) => {\r\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  deleteSupplier: (storeUuid, supplierUuid) => {\r\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n  inactiveSupplier: (storeUuid, supplierUuid) => {\r\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\r\n    return axiosClient.put(url, { status: \"inactive\" });\r\n  },\r\n  activeSupplier: (storeUuid, supplierUuid) => {\r\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\r\n    return axiosClient.put(url, { status: \"active\" });\r\n  },\r\n  updateSupplier: (storeUuid, supplierUuid, body) => {\r\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n};\r\nexport default supplierApi;\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport supplierApi from \"../../../../../../api/supplierApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n//import project\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Dialog,\r\n  Box,\r\n  Paper,\r\n  IconButton,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\r\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {},\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nconst UpdateSupplier = (props) => {\r\n  const { handleClose, open, supplierDetail } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const supplierFormik = useFormik({\r\n    initialValues: {\r\n      name: supplierDetail?.name || \"\",\r\n      email: supplierDetail?.email || \"\",\r\n      phone: supplierDetail?.phone || \"\",\r\n      address: supplierDetail?.address || \"\",\r\n      company: supplierDetail?.company || \"\",\r\n      paymentInfo: supplierDetail?.payment_info || \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên nhà cung cấp\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\r\n      address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\r\n      email: Yup.string().email(\"Email không chính xác\")\r\n    }),\r\n    enableReinitialize: true\r\n  })\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const dispatch = useDispatch();\r\n  const handleUpdateSupplier = async () => {\r\n    handleClose()\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"name\", supplierFormik.values.name.toString());\r\n      bodyFormData.append(\"email\", supplierFormik.values.email.toString());\r\n      bodyFormData.append(\"phone\", supplierFormik.values.phone.toString());\r\n      bodyFormData.append(\"payment_info\", supplierFormik.values.paymentInfo.toString());\r\n      bodyFormData.append(\"payment_info\", supplierFormik.values.company.toString());\r\n      bodyFormData.append(\"address\", supplierFormik.values.address.toString());\r\n      await supplierApi.updateSupplier(store_uuid, supplierDetail.uuid, bodyFormData)\r\n      dispatch(statusAction.successfulStatus(\"Sửa nhà cung cấp thành công\"));\r\n      props.onReload();\r\n    } catch (err) {\r\n      dispatch(statusAction.failedStatus(\"Sửa nhà cung cấp thất bại\"));\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleCloseAndReset =() =>{\r\n\r\n    supplierFormik.resetForm()\r\n  }\r\n  return (\r\n    <SimpleModal\r\n      open={open}\r\n      handleClose={()=>{handleClose();handleCloseAndReset();}}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <Box style={{ width: 550, maxWidth: \"100%\" }}>\r\n        <Typography className={classes.headerTitle} variant=\"h5\" gutterBottom>\r\n          Chỉnh sửa nhà cung cấp\r\n        </Typography>\r\n        <Grid container spacing={2} style={{ marginTop: 10 }}>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              required\r\n              id=\"outlined-basic\"\r\n              label=\"Tên nhà cung cấp\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"name\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.name}\r\n              error={supplierFormik.touched.name && supplierFormik.errors.name}\r\n              helperText={supplierFormik.touched.name ? supplierFormik.errors.name : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              required\r\n              id=\"outlined-basic\"\r\n              label=\"Địa chỉ\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"address\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.address}\r\n              error={supplierFormik.touched.address && supplierFormik.errors.address}\r\n              helperText={supplierFormik.touched.address ? supplierFormik.errors.address : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Số điện thoại\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n              required\r\n              name=\"phone\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.phone}\r\n              error={supplierFormik.touched.phone && supplierFormik.errors.phone}\r\n              helperText={supplierFormik.touched.phone ? supplierFormik.errors.phone : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={8}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Email\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n              name=\"email\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.email}\r\n              error={supplierFormik.touched.email && supplierFormik.errors.email}\r\n              helperText={supplierFormik.touched.email ? supplierFormik.errors.email : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Tên công ty\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"company\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.company}\r\n              error={supplierFormik.touched.company && supplierFormik.errors.company}\r\n              helperText={supplierFormik.touched.company ? supplierFormik.errors.company : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Thông tin thanh toán\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"paymentInfo\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.paymentInfo}\r\n              error={supplierFormik.touched.paymentInfo && supplierFormik.errors.paymentInfo}\r\n              helperText={supplierFormik.touched.paymentInfo ? supplierFormik.errors.paymentInfo : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"flex-end\",\r\n            marginTop: 20,\r\n          }}\r\n        >\r\n          <Button\r\n           onClick={()=>{handleClose();handleCloseAndReset();}}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n          >\r\n            Huỷ\r\n          </Button>\r\n          <Button\r\n            style={{ marginLeft: 10 }}\r\n            onClick={handleUpdateSupplier}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            disabled={!supplierFormik.isValid}\r\n          >\r\n            Lưu thay đổi\r\n          </Button>\r\n        </Grid>\r\n      </Box>\r\n    </SimpleModal>\r\n  );\r\n};\r\n\r\nexport default UpdateSupplier;\r\n","import React from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n//import library\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Collapse,\r\n  Typography,\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\n\r\n//import icon\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\r\n\r\n//import project\r\nimport {\r\n  StyledMenu,\r\n  StyledMenuItem,\r\n} from \"../../../../../components/Button/MenuButton\";\r\nimport supplierApi from \"../../../../../api/supplierApi\";\r\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\r\nimport UpdateSupplier from \"./UpdateSupplier/UpdateSupplier\";\r\nimport { VNDFormat, ThousandFormat } from '../../../../../components/TextField/NumberFormatCustom';\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    typo: {\r\n      marginBottom: 20,\r\n    },\r\n  })\r\n);\r\n\r\nconst SupplierDetail = (props) => {\r\n  const { row, openRow } = props.parentProps;\r\n  const { isMini } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\r\n  const [editSupplier,setEditSupplier] = React.useState(false);\r\n  const dispatch = useDispatch();\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleDeleteSupplier = async () => {\r\n    setDeleteConfirm(false)\r\n    console.log(store_uuid, row.uuid);\r\n    try {\r\n      const response = await supplierApi.deleteSupplier(store_uuid, row.uuid);\r\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\r\n      props.parentProps.setReload();\r\n      console.log(response.message);\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\r\n    }\r\n  };\r\n  return (\r\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\r\n      <ConfirmPopUp\r\n        open={deleteConfirm}\r\n        handleClose={() => {\r\n          setDeleteConfirm(false);\r\n        }}\r\n        handleConfirm={handleDeleteSupplier}\r\n        message={\r\n          <Typography>\r\n            Xóa vĩnh viễn nhà cung cấp <b>{row.name} ?</b>\r\n          </Typography>\r\n        }\r\n      />\r\n      {editSupplier &&<UpdateSupplier supplierDetail={row} open={editSupplier} handleClose = {() => setEditSupplier(false)} onReload= {props.parentProps.setReload}/>}\r\n      <Box margin={1}>\r\n        <Typography\r\n          variant=\"h3\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          className={classes.typo}\r\n        >\r\n          {row.name}\r\n        </Typography>\r\n\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n          <Grid item xs={12} sm={6}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item  xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Mã nhà cung cấp{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={3}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.supplier_code}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tên nhà cung cấp{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={3}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.name}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Số điện thoại\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={3}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.phone}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Địa chỉ\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={3}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.address}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Email\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={3}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.email}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n              \r\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Trạng thái\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tổng tiền đã nhập\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat  value={row.total_payment} />\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Còn nợ\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                <VNDFormat  value={row.debt} /> \r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Thông tin thanh toán\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item  sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.payment_info}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Công ty\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={4}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.company}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        {/* Button */}\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent={\"flex-end\"}\r\n          style={{ marginTop: 20 }}\r\n        >\r\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick = {() => setEditSupplier(true)}>\r\n            Sửa\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            style={{ marginLeft: 15 }}\r\n            onClick={() => {\r\n              setDeleteConfirm(true);\r\n            }}\r\n          >\r\n            Xoá\r\n          </Button>\r\n          <IconButton\r\n            aria-label=\"more\"\r\n            aria-controls=\"long-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ marginLeft: 10 }}\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n          <StyledMenu\r\n            id=\"customized-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n           \r\n          >\r\n            <StyledMenuItem\r\n             onClick={async () => {\r\n              handleClose()\r\n              if (row.status === \"inactive\") {\r\n                try {     \r\n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid ,{...row, status:'active'} )\r\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\r\n                } catch (err) {\r\n                  console.log(err)\r\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\r\n                }\r\n              } else if (row.status === \"active\") {\r\n                try {\r\n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid,{...row, status:'inactive'})\r\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\r\n                } catch (err) {\r\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\r\n                }\r\n              }\r\n              props.parentProps.setReload();\r\n  \r\n            }}\r\n\r\n            \r\n            >\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\r\n            </StyledMenuItem>\r\n          </StyledMenu>\r\n        </Grid>\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport default SupplierDetail;\r\n","import axiosClient from \"./axiosClient\";\r\nconst employeeApi = {\r\n  createEmployee: (storeUuid, formData) => {\r\n    const config = {\r\n      headers: { \"content-type\": \"multipart/form-data\" },\r\n    };\r\n    const url = `stores/${storeUuid}/employees`;\r\n    return axiosClient.post(url, formData, config);\r\n  },\r\n  getEmployees: (storeUuid, query) => {\r\n    const url = `/stores/${storeUuid}/employees`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n\r\n  getEmployee: (storeUuid, employeeUuid) => {\r\n    const url = `/stores/${storeUuid}/employees/${employeeUuid}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  deleteEmployee: (storeUuid, employeeUuid) => {\r\n    const url = `/stores/${storeUuid}/employees/${employeeUuid}`;\r\n    return axiosClient.delete(url);\r\n  },\r\n  updateEmployee: (storeUuid, employeeUuid, formData) => {\r\n    const config = {\r\n      headers: { \"content-type\": \"multipart/form-data\" },\r\n    };\r\n    const url = `/stores/${storeUuid}/employees/${employeeUuid}`;\r\n    return axiosClient.post(url, formData, config);\r\n  },\r\n  inactiveEmployee: (storeUuid, employeeUuid) => {\r\n    const url = `/stores/${storeUuid}/employees/${employeeUuid}`;\r\n    return axiosClient.post(url, {status: 'inactive'});\r\n  },\r\n  activeEmployee: (storeUuid, employeeUuid) => {\r\n    const url = `/stores/${storeUuid}/employees/${employeeUuid}`;\r\n    return axiosClient.post(url, {status: 'active'});\r\n  },\r\n};\r\nexport default employeeApi;\r\n","import React from \"react\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n  chips: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  chip: {\r\n    margin: 2,\r\n  },\r\n  noLabel: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\n//const names = [\"Bán hàng\", \"Kho hàng\", \"Nhân viên\", \"Quản lý\"];\r\n\r\nfunction getStyles(name, personName, theme) {\r\n  return {\r\n    fontWeight:\r\n      personName.indexOf(name) === -1\r\n        ? theme.typography.fontWeightRegular\r\n        : theme.typography.fontWeightMedium,\r\n  };\r\n}\r\n\r\nexport default function MultipleSelect(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [personName, setPersonName] = React.useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    setPersonName(event.target.value);\r\n    props.handleSelect(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FormControl\r\n        className={classes.formControl}\r\n        fullWidth\r\n        size=\"small\"\r\n        variant=\"outlined\"\r\n        style={{ marginLeft: -2 }}\r\n      >\r\n        <InputLabel id=\"demo-mutiple-chip-label\">Chức năng</InputLabel>\r\n        <Select\r\n          labelId=\"demo-mutiple-chip-label\"\r\n          id=\"demo-mutiple-chip\"\r\n          multiple\r\n          value={personName}\r\n          defaultValues={props.selected ? props.selected : []}\r\n          onChange={handleChange}\r\n          input={<Input id=\"select-multiple-chip\" />}\r\n          renderValue={(selected) => (\r\n            <div className={classes.chips}>\r\n              {selected.map((choice) => (\r\n                <Chip\r\n                  key={choice.id}\r\n                  label={choice.description}\r\n                  className={classes.chip}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n          MenuProps={MenuProps}\r\n        >\r\n          {props.choices.map((choice) => (\r\n            <MenuItem\r\n              key={choice.id}\r\n              value={choice}\r\n              // style={getStyles(choice.value, personName, theme)}\r\n            >\r\n              {choice.description}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  Dialog,\r\n} from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\n\r\n//import project\r\nimport NumberFormatCustom from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport MultipleSelect from \"../../../../components/MultipleSelect/MultipleSelect\";\r\nimport { EmailRounded, YouTube } from \"@material-ui/icons\";\r\nimport branchApi from \"../../../../api/branchApi\";\r\nimport VNDInput from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport * as Yup from \"yup\";\r\n// api\r\nimport { useSelector } from \"react-redux\";\r\nimport employeeApi from \"../../../../api/employeeApi\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(1),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n      marginBottom: 15,\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nlet permissionChoices = [\r\n  { id: 1, name: \"inventory\", description: \"Kho hàng\" },\r\n  { id: 2, name: \"employee\", description: \"Nhân sự\" },\r\n  { id: 3, name: \"sales\", description: \"Bán hàng\" },\r\n  { id: 4, name: \"product\", description: \"Sản phẩm\" },\r\n  { id: 5, name: \"report\", description: \"Báo cáo\" },\r\n];\r\n\r\nconst EditEmployee = ({ handleClose, open, employee ,fromAvatar}) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  // đổi thành state sau (price format)\r\n  const [values, setValues] = React.useState({\r\n    numberformat: \"\",\r\n  });\r\n  const handleChange = (event) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  // employee info\r\n  // const [typeSalary, setTypeSalary] = React.useState(\"\");\r\n  const [branches, setBranches] = React.useState([]);\r\n  React.useEffect(() => {\r\n    const loadBranches = async () => {\r\n      try {\r\n        const response = await branchApi.getAllBranches(store_uuid);\r\n        console.log(response.data);\r\n        setBranches(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    loadBranches();\r\n  }, [store_uuid]);\r\n\r\n  const [imageToShow, setImageToShow] = React.useState(employee.img_url);\r\n  const [image, setImage] = React.useState(null);\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      uuid: employee.uuid || \"\",\r\n      name: employee.name || \"\",\r\n      user_name: employee.user_name || \"\",\r\n      phone: employee.phone,\r\n      permissions: employee.permissions?.map((p) => p.id) || \"\",\r\n      email: employee.email || \"\",\r\n      salary: employee.salary || \"\",\r\n      salary_type: employee.salary_type || \"\",\r\n      id_card_num: employee.id_card_num || \"\",\r\n      gender: employee.gender || \"\",\r\n      date_of_birth: employee.date_of_birth || \"\",\r\n      address: employee.address || \"\",\r\n      branches: employee.branches?.map((b) => b.id),\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n      name: Yup.string().required(\"Bắt buộc!\"),\r\n      user_name: Yup.string().required(\"Bắt buộc!\"),\r\n      phone: Yup.string()\r\n      .length(10, \"Số điện thoại không chính xác\")\r\n      .required(\"Nhập số điện thoại\")\r\n      .matches(/^\\d+$/, \"Số điển thoại không chính xác\"),\r\n      branches: Yup.array().min(1, \"Ít nhất một chi nhánh\"),\r\n      email: Yup.string().email(\"Email không chính xác\"),\r\n      permissions: Yup.array().min(1, \"Ít nhất một chức năng\"),\r\n      email: Yup.string().email(\"Email không chính xác\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\").matches(/^\\d+$/)\r\n      \r\n    }),\r\n\r\n    onSubmit: async (values, actions) => {\r\n      let formData = new FormData();\r\n\r\n      for (let value in values) {\r\n        if (value === \"permissions\") {\r\n          for (var i = 0; i < values[\"permissions\"].length; i++) {\r\n            formData.append(\"permissions[]\", values[\"permissions\"][i]);\r\n          }\r\n        } else if (value === \"branches\") {\r\n          for (var i = 0; i < values[\"branches\"].length; i++) {\r\n            formData.append(\"branches[]\", values[\"branches\"][i]);\r\n          }\r\n        } else {\r\n          formData.append(value, values[value]);\r\n        }\r\n      }\r\n\r\n\r\n      if (image) {\r\n        formData.append(\"image\", image);\r\n      }\r\n\r\n      try {\r\n        const response = await employeeApi.updateEmployee(\r\n          store_uuid,\r\n          employee.uuid,\r\n          formData\r\n        );\r\n        handleClose(\"Success\");\r\n      } catch (error) {\r\n        handleClose(\"Failed\");\r\n      }\r\n    },\r\n  });\r\n\r\n\r\n  // const [branches, setBranches] = React.useState([]);\r\n  \r\n  React.useEffect(() => {\r\n    const loadBranches = async () => {\r\n      try {\r\n        const response = await branchApi.getAllBranches(store_uuid);\r\n        console.log(response.data);\r\n        setBranches(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    loadBranches();\r\n  }, [store_uuid]);\r\n\r\n  // redux\r\n\r\n  //   const handleSelectPermission = (selected) => {\r\n  //     let permissions = selected.map((permission) => permission.key);\r\n  //     setPermissions(permissions);\r\n  //   };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          {fromAvatar ? \"Thông tin cá nhân\" : \"Sửa thông tin nhân viên\"}\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n          <Grid container direction=\"row\">\r\n            <Avatar\r\n              alt=\"Remy Sharp\"\r\n              className={classes.ava}\r\n              src={imageToShow}\r\n            />\r\n            <input\r\n              accept=\"image/*\"\r\n              className={classes.input}\r\n              id=\"contained-button-file\"\r\n              multiple\r\n              type=\"file\"\r\n              capture=\"environment\"\r\n              onChange={(event) => {\r\n                setImage(event.target.files[0]);\r\n                // read the selected file and display on the avata\r\n                var file = event.target.files[0];\r\n                var reader = new FileReader();\r\n                reader.onloadend = function () {\r\n                  setImageToShow(reader.result);\r\n                };\r\n\r\n                reader.readAsDataURL(file);\r\n              }}\r\n            />\r\n            <label htmlFor=\"contained-button-file\">\r\n              <Button\r\n                variant=\"contained\"\r\n                component=\"span\"\r\n                style={{ height: 22, textTransform: \"none\", marginLeft: 20 }}\r\n              >\r\n                Chọn ảnh\r\n              </Button>\r\n            </label>\r\n          </Grid>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"space-around\"\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <TextField\r\n                id=\"name\"\r\n                name=\"name\"\r\n                label=\"Tên nhân viên\"\r\n                value={formik.values.name}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                // name=\"name\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              {formik.errors.name && formik.touched.name && (\r\n                <FormHelperText error>{formik.errors.name}</FormHelperText>\r\n              )}\r\n\r\n              {/* <TextField\r\n                id=\"name\"\r\n                name=\"user_name\"\r\n                label=\"Tên đăng nhập\"\r\n                value={formik.values.user_name}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                // name=\"name\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              {formik.errors.user_name && formik.touched.user_name && (\r\n                <FormHelperText error>{formik.errors.user_name}</FormHelperText>\r\n              )} */}\r\n\r\n              <TextField\r\n                id=\"date\"\r\n                name=\"date_of_birth\"\r\n                label=\"Ngày sinh\"\r\n                type=\"date\"\r\n                defaultValue=\"\" //null\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                fullWidth\r\n                value={formik.values.date_of_birth}\r\n                className={classes.textField}\r\n                InputLabelProps={{ shrink: true }}\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                name=\"id_card_num\"\r\n                label=\"CMND\"\r\n                value={formik.values.id_card_num}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n              >\r\n                <InputLabel id=\"demo-simple-select-outlined-label\">\r\n                  Giới tính{\" \"}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"demo-simple-select-outlined-label\"\r\n                  id=\"demo-simple-select-outlined\"\r\n                  onChange={formik.handleChange}\r\n                  label=\"Gender\"\r\n                  value={formik.values.gender}\r\n                  name=\"gender\"\r\n                >\r\n                  <MenuItem value=\"male\">Nam</MenuItem>\r\n                  <MenuItem value=\"female\">Nữ</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Số điện thoại\"\r\n                value={formik.values.phone}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                name=\"phone\"\r\n                onChange={formik.handleChange}\r\n              />\r\n              {formik.errors.phone && formik.touched.phone && (\r\n                <FormHelperText error>{formik.errors.phone}</FormHelperText>\r\n              )}\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                value={formik.values.email}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n{formik.errors.email && formik.touched.email && (\r\n                <FormHelperText error>{formik.errors.email}</FormHelperText>\r\n              )}\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Địa chỉ\"\r\n                value={formik.values.address}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n                name=\"address\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {/* Select lưong */}\r\n              <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n                disabled={fromAvatar}\r\n              >\r\n                <InputLabel id=\"demo-simple-select-outlined-label\">\r\n                  Lương{\" \"}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"demo-simple-select-outlined-label\"\r\n                  id=\"demo-simple-select-outlined\"\r\n                  onChange={formik.handleChange}\r\n                  label=\"Salary\"\r\n                  name=\"salary_type\"\r\n                  value={formik.values.salary_type}\r\n                >\r\n                  <MenuItem value=\"none\">\r\n                    <em>None</em>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"fix\">Lương cố định</MenuItem>\r\n                  <MenuItem value=\"per-shift\">Lương theo ca</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <VNDInput\r\n                label=\"Mức lương\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                value={formik.values.salary}\r\n                disabled={fromAvatar}\r\n                name=\"salary\"\r\n                // value={values.numberformat}\r\n                // onChange={handleChange}\r\n                onChange={formik.handleChange}\r\n                // InputProps={{\r\n                //   inputComponent: NumberFormatCustom,\r\n                // }}\r\n              />\r\n\r\n              {/* <TextField id=\"outlined-basic\" label=\"Quyền\" variant=\"outlined\" fullWidth size=\"small\"/> */}\r\n\r\n              <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n                disabled={fromAvatar}\r\n              >\r\n                <InputLabel id=\"branchSelect\">Chức năng</InputLabel>\r\n                <Select\r\n                  multiple\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  name=\"permissions\"\r\n                  value={formik.values.permissions}\r\n                  renderValue={(selected) =>\r\n                    selected\r\n                      .map((permission) => {\r\n                        return permissionChoices.find(\r\n                          (p) => p.id === permission\r\n                        )?.description;\r\n                      })\r\n                      .join(\", \")\r\n                  }\r\n                  onChange={formik.handleChange}\r\n                >\r\n                  {permissionChoices.map((branch) => (\r\n                    <MenuItem key={branch.name} value={branch.id}>\r\n                      {branch.description}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n             \r\n              {formik.errors.permissions && formik.touched.permissions && (\r\n                <FormHelperText error>\r\n                  {formik.errors.permissions}\r\n                </FormHelperText>\r\n              )}\r\n            </FormControl>\r\n\r\n            <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n              >\r\n                <InputLabel id=\"branchSelect\">Chi nhánh </InputLabel>\r\n                <Select\r\n                  multiple\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  id=\"branches\"\r\n                  name=\"branches\"\r\n                  onChange={formik.handleChange}\r\n                  size=\"small\"\r\n                  value={formik.values.branches}\r\n                  renderValue={(selected) =>\r\n                    selected\r\n                      .map((empWorkBranch) => {\r\n                        return branches.find(\r\n                          (branch) => branch.id === empWorkBranch\r\n                        )?.name;\r\n                      })\r\n                      .join(\", \")\r\n                  }\r\n                >\r\n                  {branches.map((branch) => (\r\n                    <MenuItem key={branch.name} value={branch.id}>\r\n                      {branch.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n\r\n                {formik.errors.branches && formik.touched.branches && (\r\n                <FormHelperText error>{formik.errors.branches}</FormHelperText>\r\n              )}\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => handleClose(null)}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button\r\n          onClick={formik.handleSubmit}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n        >\r\n          Lưu thay đổi\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default EditEmployee;\r\n","import axiosClient from \"./axiosClient\";\r\nconst userAPi = {\r\n  ownerRegister: (params) => {\r\n    const url = \"/register\";\r\n    return axiosClient.post(url, JSON.stringify({ ...params }));\r\n  },\r\n  signIn: (params) => {\r\n    const url = \"/login\";\r\n    return axiosClient.post(url, JSON.stringify({ ...params }));\r\n  },\r\n  logOut: () => {\r\n    const url = \"/logout\";\r\n    return axiosClient.post(url);\r\n  },\r\n  verify: () => {\r\n    const url = \"/verify-token\";\r\n    return axiosClient.get(url);\r\n  },\r\n  getCity: () => {\r\n    const url = \"/address/provinces\";\r\n    return axiosClient.get(url);\r\n  },\r\n  getDistrict: (id) => {\r\n    const url = \"/address/provinces\";\r\n    return axiosClient.get(`${url}/${id}/districts`);\r\n  },\r\n  getWard: (cityId, districtId) => {\r\n    const url = \"/address/provinces\";\r\n    return axiosClient.get(`${url}/${cityId}/districts/${districtId}/wards`);\r\n  },\r\n  owenerChangePassword: (store_uuid, employee_uuid, body) => {\r\n    const url = `/stores/${store_uuid}/employees/${employee_uuid}/updateEmployeePassword`\r\n    return axiosClient.post(url, body)\r\n  }\r\n};\r\nexport default userAPi;\r\n","import { Typography, Grid, TextField,Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport {statusAction} from \"../../../../../../store/slice/statusSlice\"\r\nimport userApi from \"../../../../../../api/userApi\"\r\n\r\nconst ChangeEmployeePwd = (props) => {\r\n    const { open, handleClose, employeeDetail } = { ...props };\r\n    const formik = useFormik({\r\n        enableReinitialize: true,\r\n        initialValues: {\r\n            owner_password:\"\",\r\n            password: \"\",\r\n            confirm_password: \"\",\r\n        },\r\n        validationSchema: Yup.object({\r\n            owner_password: Yup.string()\r\n                .required(\"Nhập mật khẩu\")\r\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\r\n            password: Yup.string()\r\n                .required(\"Nhập mật khẩu\")\r\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\r\n            confirm_password: Yup.string()\r\n                .required(\"Nhập lại mật khẩu\")\r\n                .oneOf([Yup.ref(\"password\"), null], \"Mật khẩu không khớp\"),\r\n        }),\r\n    });\r\n    const info = useSelector((state) => state.info);\r\n    const store_uuid = info.store.uuid;\r\n    const dispatch= useDispatch()\r\n    const handleChangePassword = async () => {  \r\n        closeModalAndResetData()\r\n        try{\r\n            const response = userApi.owenerChangePassword(store_uuid,employeeDetail.uuid,{\r\n                owner_password:formik.values.owner_password,\r\n                employee_password: formik.values.password\r\n            })\r\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thành công\"))\r\n        }catch(error){\r\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thất bại\"))\r\n        }\r\n    }\r\n    const closeModalAndResetData = () => {\r\n        formik.resetForm()\r\n        handleClose()\r\n    }\r\n    return (\r\n        <SimpleModal open={open} handleClose={closeModalAndResetData}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n                Đổi mật khẩu\r\n            </Typography>\r\n\r\n            <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                        variant=\"filled\"\r\n                        fullWidth\r\n                        label=\"Tên nhân viên\"\r\n                        value={employeeDetail.name}\r\n                        disabled\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                        type=\"password\"\r\n                        name=\"owner_password\"\r\n                        variant=\"outlined\"\r\n                        required\r\n                        fullWidth\r\n                        label=\"Mật khẩu chủ cửa hàng\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.owner_password}\r\n                        error={formik.touched.owner_password && formik.errors.owner_password}\r\n                        helperText={formik.touched.owner_password ? formik.errors.owner_password : null}\r\n                        onBlur={formik.handleBlur}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        variant=\"outlined\"\r\n                        required\r\n                        fullWidth\r\n                        label=\"Mật khẩu mới\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.password}\r\n                        error={formik.touched.password && formik.errors.password}\r\n                        helperText={formik.touched.password ? formik.errors.password : null}\r\n                        onBlur={formik.handleBlur}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                        type=\"password\"\r\n                        name=\"confirm_password\"\r\n                        variant=\"outlined\"\r\n                        required\r\n                        fullWidth\r\n                        label=\"Nhập lại mật khẩu\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.confirm_password}\r\n                        error={formik.touched.confirm_password && formik.errors.confirm_password}\r\n                        helperText={formik.touched.confirm_password ? formik.errors.confirm_password : null}\r\n                        onBlur={formik.handleBlur}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <Grid\r\n                item\r\n                xs={12}\r\n                style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"flex-end\",\r\n                    paddingTop: 20,\r\n                }}\r\n            >\r\n                <Button\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    style={{ marginRight: 20 }}\r\n                    onClick={closeModalAndResetData}\r\n                >\r\n                    Hủy\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    onClick={handleChangePassword}\r\n                    style={{ marginRight: 20 }}\r\n                    disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\r\n                >\r\n                    Sửa\r\n                </Button>\r\n            </Grid>\r\n        </SimpleModal>\r\n    );\r\n};\r\n\r\nexport default ChangeEmployeePwd;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport LockIcon from '@material-ui/icons/Lock';\r\n\r\n//import library\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Collapse,\r\n  Typography,\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport Chip from \"@mui/material/Chip\";\r\n\r\n//import icon\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\r\n\r\n//import image\r\nimport avaUpload from \"../../../../../assets/img/product/lyimg.jpeg\";\r\nimport { statusAction } from \"../../../../../store/slice/statusSlice\"\r\n\r\n//import project\r\nimport {\r\n  StyledMenu,\r\n  StyledMenuItem,\r\n} from \"../../../../../components/Button/MenuButton\";\r\nimport employeeApi from \"../../../../../api/employeeApi\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport EditEmployee from \"../../AddEmployee/EditEmployee\";\r\nimport ChangeEmployeePwd from \"./ChangeEmployeePwd/ChangeEmployeePwd\";\r\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    typo: {\r\n      marginBottom: 20,\r\n    },\r\n  })\r\n);\r\n\r\nconst UploadImage = ({ src }) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 120,\r\n        width: 120,\r\n        borderRadius: 120,\r\n        marginLeft: 15,\r\n      }}\r\n      src={src}\r\n    />\r\n  );\r\n};\r\n\r\nconst permissionsMapping = {\r\n  \"manage-employees\": \"Nhân sự\",\r\n  \"manage-orders\": \"Bán hàng\",\r\n  \"manage-purchase-orders\": \"Đặt hàng\",\r\n  \"manage-purchase-returns\": \"Nhập hàng\",\r\n};\r\n\r\nconst salaryTypeMapping = {\r\n  fix: \"Lương cứng\",\r\n  \"per-shift\": \"Lương theo ca\",\r\n};\r\n\r\nconst EmployeeDetail = (props) => {\r\n  const { row, openRow, handleReload } = props.parentProps;\r\n  const { isMini } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  const [openEdit, setOpenEdit] = React.useState(false);\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [employeeDetail, setEmployeeDetail] = React.useState({\r\n    uuid: \"\",\r\n    name: \"\",\r\n    user_name: \"\",\r\n    date_of_birth: \"\",\r\n    id_card_num: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    permissions: [],\r\n    salary_type: \"\",\r\n    salary: \"\",\r\n    branches: []\r\n  });\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const [reload, setReload] = useState(false)\r\n  useEffect(() => {\r\n    const fetchEmp = async () => {\r\n      try {\r\n        const response = await employeeApi.getEmployee(store_uuid, row.uuid);\r\n        setEmployeeDetail(response.data);\r\n      } catch (err) {\r\n        setEmployeeDetail({\r\n          uuid: \"\",\r\n          name: \"\",\r\n          user_name: \"\",\r\n          date_of_birth: \"\",\r\n          id_card_num: \"\",\r\n          phone: \"\",\r\n          email: \"\",\r\n          address: \"\",\r\n          permissions: [],\r\n          salary_type: \"\",\r\n          salary: \"\",\r\n          branches: []\r\n        });\r\n      }\r\n    };\r\n    if (openRow === row.uuid && store_uuid) {\r\n      fetchEmp();\r\n    }\r\n  }, [openRow,reload]);\r\n  const [changePwd, setChangePwd] = useState(false)\r\n  return (\r\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\r\n      {openEdit && (<EditEmployee\r\n        handleClose={(status) => {\r\n          if (status === \"Success\") {\r\n            dispatch(statusAction.successfulStatus(\"Chỉnh sửa thành công\"))\r\n            setReload(!reload)\r\n          } else if (status === \"Failed\") {\r\n            dispatch(statusAction.failedStatus(\"Chỉnh sửa thất bại\"))\r\n          }\r\n          setOpenEdit(false);\r\n          handleReload();\r\n        }}\r\n        open={openEdit}\r\n        employee={employeeDetail}\r\n      />)}\r\n      <ChangeEmployeePwd open={changePwd} handleClose={() => setChangePwd(false)} employeeDetail={employeeDetail} />\r\n      <Box margin={1}>\r\n        <Typography\r\n          variant=\"h3\"\r\n          gutterBottom\r\n          component=\"div\"\r\n          className={classes.typo}\r\n        >\r\n          {row.name}\r\n        </Typography>\r\n\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n          <Grid item xs={12} >\r\n            <UploadImage src={employeeDetail.img_url} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Mã nhân viên{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.employee_code}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tên nhân viên{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.name}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Tên đăng nhập{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.user_name}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Ngày sinh\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.date_of_birth}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  CMND\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.id_card_num}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Số điện thoại\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.phone}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Email\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.email}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={5}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Địa chỉ\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.address}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Chức năng\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.permissions.map((permission) => (\r\n                    <Chip label={permission.description} />\r\n                  ))}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Chi nhánh\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {employeeDetail.branches?.map((branch) => (\r\n                    <Chip label={branch.name} />\r\n                  ))}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Loại lương\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {salaryTypeMapping[employeeDetail.salary_type]}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Mức lương\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  <VNDFormat value={employeeDetail.salary}/>\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n              <Grid item xs={7} sm={6}>\r\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                  Trạng thái\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item sm={6}>\r\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                  {row.status === 'active' ? \"Kích hoạt\" :\"Ngưng hoạt động\"}{\" \"}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n        </Grid>\r\n\r\n        {/* Button */}\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent={\"flex-end\"}\r\n          style={{ marginTop: 20 }}\r\n        >\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            style={{ marginLeft: 15 }}\r\n            onClick={() => {\r\n              setOpenEdit(true);\r\n            }}\r\n          >\r\n            Sửa\r\n          </Button>\r\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={async () => {\r\n            if (row.status === \"inactive\") {\r\n              try {\r\n                const response = await employeeApi.activeEmployee(store_uuid, employeeDetail.uuid)\r\n                dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\r\n                handleReload()\r\n              } catch (err) {\r\n                console.log(err)\r\n                dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\r\n              }\r\n            } else if (row.status === \"active\") {\r\n              try {\r\n                const response = await employeeApi.inactiveEmployee(store_uuid, employeeDetail.uuid)\r\n                dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\r\n                handleReload()\r\n              } catch (err) {\r\n                dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\r\n              }\r\n            }\r\n\r\n          }}>\r\n            {row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\r\n          </Button>\r\n\r\n          <IconButton\r\n            aria-label=\"more\"\r\n            aria-controls=\"long-menu\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ marginLeft: 10 }}\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n\r\n          <StyledMenu\r\n            id=\"customized-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n          >\r\n            <StyledMenuItem onClick={async () => {\r\n              try {\r\n                const response = await employeeApi.deleteEmployee(store_uuid, employeeDetail.uuid)\r\n                dispatch(statusAction.successfulStatus(\"Xoá nhân viên thành công\"))\r\n                handleReload()\r\n              } catch (err) {\r\n                dispatch(statusAction.failedStatus(\"Xoá nhân viên thất bại\"))\r\n              }\r\n            }} >\r\n              <ListItemIcon style={{ marginRight: -15 }}>\r\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Xoá\" />\r\n            </StyledMenuItem>\r\n\r\n            {info.role === \"owner\" &&\r\n              <StyledMenuItem onClick={() => setChangePwd(true)} >\r\n                <ListItemIcon style={{ marginRight: -15 }}>\r\n                  <LockIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Mật khẩu\" />\r\n              </StyledMenuItem>}\r\n\r\n          </StyledMenu>\r\n        </Grid>\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport default EmployeeDetail;\r\n","import React from 'react'\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {Box,Grid,Collapse,Divider,ListItem,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\r\n\r\n//import icon\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\r\n\r\n//import image\r\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\r\n\r\n//import project \r\nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\r\n\r\nimport customerApi from '../../../../../../api/customerApi';\r\nimport { useSelector } from 'react-redux';\r\nimport clsx from \"clsx\"\r\nimport { ThousandFormat, VNDFormat } from '../../../../../../components/TextField/NumberFormatCustom';\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTitle:{\r\n    fontSize: '1.125rem'\r\n  },\r\n  typo:{\r\n    marginBottom:20\r\n  },\r\n  weight: {\r\n    fontWeight: 500,\r\n    color: \"#000\",\r\n    fontSize: 14,\r\n  },\r\n  tag:{\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: 24,\r\n    margin: 2,\r\n    lineHeight: 22,\r\n    backgroundColor: \"#fafafa\",\r\n    border: \"1px solid #e8e8e8\",\r\n    borderRadius: 2,\r\n    boxSizing: \"contentBox\",\r\n    padding: \"0 4px 0 10px\",\r\n    outline: 0,\r\n    \r\n  },\r\n  span:{\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n    whiteSpace: \"nowrap\",\r\n  }\r\n\r\n}));\r\n\r\nconst UploadImage  = () => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 120,\r\n        width: 120, \r\n        borderRadius:120,\r\n        marginLeft:15,\r\n\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n    \r\n  )\r\n}\r\nconst DiscountDetail = (props) => {\r\n    const {row,openRow }= props.parentProps;\r\n    const {promotion_condition,type} = props;\r\n\r\n    const {rowsInvoice } = props.promotion_condition;\r\n\r\n    const discountKey= promotion_condition?.discountKey;// invoice, product\r\n    const discountType = promotion_condition?.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\r\n\r\n \r\n    console.log(\"===========\")\r\n    console.log(\"rowsInvoice\",rowsInvoice)\r\n    console.log(\"row\",row)\r\n    console.log(\"discountKey\",discountKey)\r\n    console.log(\"discountType\",discountType)\r\n\r\n    // CALL APII (đổi thanhd api)\r\n \r\n    const discountData = \r\n      [\r\n        {\r\n          key:\"1\", //  ID dung để delete row , ko liên quan database\r\n          totalCost:1000, \r\n          type:\"VND\" ,// \"%\"\r\n          discountValue:20000,\r\n    \r\n          numberGiftItem:1,\r\n          listGiftItem:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n  \r\n          numberBuyItem:1,\r\n          listBuyItem:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n          typeDiscountItem:\"percent\",\r\n          listGiftCategory:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n          listBuyCategory:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n        },\r\n        {\r\n          key:\"1\", //  ID dung để delete row , ko liên quan database\r\n          totalCost:1000, \r\n          type:\"VND\" ,// \"%\"\r\n          discountValue:20000,\r\n    \r\n          numberGiftItem:1,\r\n          listGiftItem:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n  \r\n          numberBuyItem:1,\r\n          listBuyItem:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n          typeDiscountItem:\"percent\",\r\n          listGiftCategory:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n          listBuyCategory:[{product_code:\"SP10002\",name:\"Áo dài\"},{product_code:\"SP10005\",name:\"Quần dài\"}],\r\n        }\r\n      ]\r\n    // ======================\r\n\r\n\r\n\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const info = useSelector(state => state.info)\r\n    const store_uuid = info.store.uuid\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n\r\n    return (\r\n        <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\r\n             <Box margin={1}>\r\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\r\n                 {row.name}\r\n               </Typography>\r\n\r\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\r\n                  <Grid item xs={12} sm={3}>\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \r\n                        <Grid item xs={3} sm={4} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khuyến mãi </Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.promotion_code} </Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={4} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khuyến mãi </Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                          <Grid item xs={3} sm={4} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Hình thức</Typography>    \r\n                          </Grid>\r\n                          <Grid item sm={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{type}</Typography>\r\n                          </Grid>\r\n                      </Grid>\r\n                      \r\n                  </Grid>\r\n\r\n\r\n                <Grid item xs={12} sm={5}>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={2} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                      \r\n                        <Grid item xs={3} sm={2} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">Từ {row.start_date} -  Đến {row.end_date}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    {/* Thay TRUE thành nếu list theo thứ ngày tháng,.. ko empty thì show */}\r\n                    {row.byMonth?\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={4} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo tháng</Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4}>\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.byMonth?.toString()}</Typography>\r\n                        </Grid>\r\n                    </Grid> : null\r\n                    }\r\n                    {row.byDay?\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={4} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo ngày</Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.byDay?.toString()}</Typography>\r\n                        </Grid>\r\n                    </Grid> : null\r\n                    }\r\n                    {row.byDate?\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={4}>\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo thứ</Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.byDate?.toString()}</Typography>\r\n                        </Grid>\r\n                    </Grid> : null\r\n                    }\r\n                    {row.byTime?\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={4} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo giờ</Typography>    \r\n                        </Grid>\r\n                        <Grid item sm={4} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.byTime?.toString()}</Typography>\r\n                        </Grid>\r\n                    </Grid> : null\r\n                    }\r\n                    {row.customer_birth?\r\n                      <Typography style={{fontWeight:500, color:\"red\"}}> * Áp dụng vào ngày sinh nhật của khách hàng *</Typography> : null\r\n                    }\r\n                    \r\n                  </Grid>\r\n               \r\n              </Grid>\r\n          \r\n          \r\n          \r\n          {/* Header */}\r\n         <div style={{backgroundColor:theme.customization.primaryColor[50], height:35, marginTop:20,paddingTop:10, paddingLeft:15, marginLeft:10, marginRight:10}}>\r\n          <Grid  container direction=\"row\" justifyContent=\"\">\r\n              {/* col 1 */}\r\n              {discountKey ===\"invoice\"?\r\n              <Grid item style={{width:150, marginRight:30}}>\r\n                <Typography className={clsx(classes.text,classes.weight)} >Tổng tiền hàng</Typography>\r\n              </Grid>:null\r\n              }\r\n              {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType==\"priceByQuantity\" ?\r\n              <>\r\n              <Grid item style={{width:50, marginRight:50}}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL mua</Typography>\r\n              </Grid>\r\n              <Grid item style={{ marginRight:190}}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng mua</Typography>\r\n              </Grid>\r\n               </>:null\r\n              }\r\n               { discountType ===\"discountInvoice\"?\r\n                  <Grid item >\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Giá trị khuyến mãi</Typography>\r\n                </Grid>:null\r\n                }\r\n                {['sendGift','sendVoucher'].includes(discountType) ?\r\n                  <Grid item style={{width:50, marginRight:50}}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL tặng</Typography>\r\n              </Grid>:null\r\n                }\r\n                {discountType ===\"sendGift\"?\r\n                    <Grid item >\r\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng tặng</Typography>\r\n                    </Grid> :null\r\n               }\r\n               {discountType ===\"sendVoucher\"?\r\n                    <Grid item >\r\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Voucher</Typography>\r\n                    </Grid> :null\r\n               }\r\n            </Grid>\r\n          </div>\r\n\r\n          {rowsInvoice?.map((discountRow, index) => {\r\n              return (\r\n                  <>\r\n                  <div style={{paddingLeft:15, marginLeft:10, marginRight:10}}>\r\n                  <Grid container direction=\"row\" justifyContent=\"\">\r\n                      {/* col 1 */}\r\n                      {discountKey ===\"invoice\"?\r\n                      <Grid item  container direction=\"row\" alignItems=\"center\" style={{width:130,marginRight:52, height:40}} >\r\n                          <Grid item> <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> Từ </Typography> </Grid> \r\n                          <Grid item> <VNDFormat style={{marginRight:10, color:\"#000\", fontSize:13}} value= {discountRow.totalCost}> </VNDFormat> </Grid> \r\n                      </Grid>:null\r\n                      }\r\n                      {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType ==='priceByQuantity'?\r\n                      <>\r\n                      <Grid item style={{width:80,height:40, marginTop:10}} >\r\n                          <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> {discountRow.numberBuyItem} </Typography> \r\n                      </Grid>\r\n                      <Grid item style={{ marginTop:6, width:360,}} >\r\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\r\n                               {discountRow.listBuyItem.map((tag) =>{\r\n                                  return(\r\n                                      <div className={classes.tag}>\r\n                                        <span className={classes.span}>{tag.product_code} - {tag.name} </span> \r\n                                    </div>\r\n                                  )                \r\n                                })}\r\n                              </div>\r\n                            \r\n                        </Grid> \r\n                      </>\r\n                      :null }\r\n                      {\r\n                        discountType ==='priceByQuantity'? \r\n                        <>\r\n                          <Grid item style={{width:70,marginRight:50, height:40, marginTop:10}} >\r\n                            <Typography style={{color:\"#000\", fontWeight:500,fontSize:14}}> {discountRow.typeDiscountItem === \"price\" ? \"Giá bán:\" : \"Giảm giá\"}   </Typography>\r\n                          </Grid>\r\n                        </>\r\n                        :null\r\n                      }\r\n                      {/* col 2 */}\r\n                      {discountType ===\"discountInvoice\"  || discountType ==='priceByQuantity'?\r\n                      <Grid item >\r\n                        <Grid item  container direction=\"row\" alignItems=\"center\" style={{height:40}}>\r\n                          <Grid item> <ThousandFormat style={{color:\"#000\", fontSize:13, marginRight:5}} value={discountRow.discountValue}>  </ThousandFormat> </Grid> \r\n                          <Grid item> <Typography style={{color:\"#000\", fontSize:13}}>   {discountRow.type}  </Typography> </Grid> \r\n                        </Grid>\r\n                      </Grid>\r\n                      :null\r\n                      }\r\n                    {/* col 3 */}\r\n                    {['sendGift','sendVoucher'].includes(discountType) ?\r\n                    <Grid item style={{width:50,marginRight:30, height:4, marginTop:10}} >\r\n                        <Typography style={{color:\"#000\", fontSize:13}}>{discountRow.numberGiftItem}  </Typography>\r\n                    </Grid>:null\r\n                    }\r\n                    {discountType ===\"sendGift\"?\r\n                          <Grid item style={{ marginTop:6}} >\r\n                              <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\r\n                               {discountRow.listGiftItem.map((tag) =>{\r\n                                  return(\r\n                                      <div className={classes.tag}>\r\n                                        <span className={classes.span}>{tag.product_code} - {tag.name}  </span> \r\n                                    </div>\r\n                                  )                \r\n                                })}\r\n                              </div>\r\n                          </Grid>  :null\r\n                    }\r\n                    {discountType ===\"sendVoucher\"?\r\n    \r\n                          <Grid item style={{ marginTop:10}} >\r\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\r\n                               {discountRow.listGiftItem.map((tag) =>{\r\n                                  return(\r\n                                      <div className={classes.tag}>\r\n                                        <span className={classes.span}>{tag.name}</span> \r\n                                    </div>\r\n                                  )                \r\n                                })}\r\n                              </div>\r\n                          </Grid> :null\r\n                    }\r\n                  \r\n                      \r\n                </Grid>\r\n                </div>\r\n                \r\n                <Divider classes={{root: classes.divider}} style={{marginLeft:10, marginRight:10}}/>\r\n                  </>\r\n\r\n\r\n            );\r\n          })}\r\n          \r\n\r\n\r\n\r\n\r\n              {/* Button */}\r\n              <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}> \r\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\r\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\r\n                          \r\n                          <IconButton\r\n                            aria-label=\"more\"\r\n                            aria-controls=\"long-menu\"\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleClick}\r\n                            size=\"small\"\r\n                            style={{marginLeft:10}}\r\n\r\n                          >\r\n                            <MoreVertIcon />\r\n                          </IconButton>\r\n                          \r\n                          <StyledMenu\r\n                            id=\"customized-menu\"\r\n                            anchorEl={anchorEl}\r\n                            keepMounted\r\n                            open={Boolean(anchorEl)}\r\n                            onClose={handleClose}\r\n                          >\r\n                            <StyledMenuItem>\r\n                              <ListItemIcon style={{marginRight:-15}}>\r\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\r\n                              </ListItemIcon>\r\n                              <ListItemText primary=\"Ngừng hoạt động\" />\r\n                            </StyledMenuItem>\r\n\r\n                          </StyledMenu>\r\n\r\n\r\n                      </Grid>\r\n\r\n             </Box>\r\n           </Collapse>\r\n    )\r\n}\r\n\r\nexport default DiscountDetail\r\n","import React from 'react'\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n//import library\r\nimport {Box,Grid,Collapse,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\r\n\r\n//import icon\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\r\n\r\n//import image\r\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\r\n\r\n//import project \r\nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\r\n\r\nimport customerApi from '../../../../../../api/customerApi';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTitle:{\r\n    fontSize: '1.125rem'\r\n  },\r\n  typo:{\r\n    marginBottom:20\r\n  }\r\n\r\n}));\r\n\r\nconst UploadImage  = () => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 120,\r\n        width: 120, \r\n        borderRadius:120,\r\n        marginLeft:15,\r\n\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n    \r\n  )\r\n}\r\nconst VoucherDetail = (props) => {\r\n    const {row,openRow }= props.parentProps;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const info = useSelector(state => state.info)\r\n    const store_uuid = info.store.uuid\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <Collapse in={ openRow === row.uuid } timeout=\"auto\" unmountOnExit>\r\n             <Box margin={1}>\r\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\r\n                 {row.name}\r\n               </Typography>\r\n\r\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\r\n                  \r\n                <Grid item xs={12} sm={4}>\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \r\n                        <Grid item xs={3} sm={5} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã voucher </Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={6} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.uuid} </Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={5} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên voucher </Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={6} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                          <Grid item xs={3} sm={5} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Mệnh giá</Typography>    \r\n                          </Grid>\r\n                          <Grid item xs={6} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\r\n                          </Grid>\r\n                      </Grid>\r\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                          <Grid item xs={3} sm={5} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số lượng</Typography>    \r\n                          </Grid>\r\n                          <Grid item xs={6} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\r\n                          </Grid>\r\n                      </Grid>\r\n                      \r\n                  </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={6} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={6} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">3.000.000</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={3} sm={6} >\r\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={6} >\r\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">500.000</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    \r\n                  </Grid>\r\n               \r\n              </Grid>\r\n\r\n              {/* Button */}\r\n              <Grid container direction=\"row\" justifyContent={\"flex-end\" } style={{marginTop:20}}> \r\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\r\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\r\n                          \r\n                          <IconButton\r\n                            aria-label=\"more\"\r\n                            aria-controls=\"long-menu\"\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleClick}\r\n                            size=\"small\"\r\n                            style={{marginLeft:10}}\r\n\r\n                          >\r\n                            <MoreVertIcon />\r\n                          </IconButton>\r\n                          \r\n                          <StyledMenu\r\n                            id=\"customized-menu\"\r\n                            anchorEl={anchorEl}\r\n                            keepMounted\r\n                            open={Boolean(anchorEl)}\r\n                            onClose={handleClose}\r\n                            \r\n                           \r\n                          >\r\n                            <StyledMenuItem>\r\n                              <ListItemIcon style={{marginRight:-15}}>\r\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\r\n                              </ListItemIcon>\r\n                              <ListItemText primary=\"Ngừng hoạt động\" />\r\n                            </StyledMenuItem>\r\n\r\n                          </StyledMenu>\r\n\r\n\r\n                      </Grid>\r\n\r\n             </Box>\r\n           </Collapse>\r\n    )\r\n}\r\n\r\nexport default VoucherDetail\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3aAAAN2gFLGPbrAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAEJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhihLswAAABV0Uk5TAAUGCxEWGxwgISg8SF5weZCbtrjYjtqLCgAAA55JREFUeNrt1FFPglAYgGFBHAL9/9/ZWrOMhG7CtnP26WFqF/U8V+3jg8Ps1c0GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4rKrPRoflUpdOfix3zW/Xj6j333+cjvFrdOlkHMPlbZvulExyu106+fgMl9ttOjme7rzTVeml92nF++R39fHkrBnCANohDmBYEcB+WZ7iANrsNcbncLnr0p2SSW7IAmhewuWnOgv79c47QxX+L0reJ79ruDA5n/5PfukICEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAB4qCa+NM3xteXSVHDEXLCcnzUXPHBeM7nwnJJDp+r68o07U33T++R3zQXPqfpsdPC1+LN6HwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPy6L03NV0bW8W9jAAAAAElFTkSuQmCC\"","import {\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ModalWrapper from \"../../../../components/Modal/ModalWrapper\";\r\nimport productApi from \"../../../../api/productApi\";\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport {statusAction} from \"../../../../store/slice/statusSlice\"\r\n\r\nconst AddCategory = (props) => {\r\n  const [categoryList, setCategoryList] = useState([]);\r\n  const [categoryInfo, setCategoryInfo] = useState({\r\n    name: \"\",\r\n    parent_category_uuid: \"\",\r\n  });\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  useEffect(() => {\r\n    const fetchAllCategory = async () => {\r\n      try {\r\n        const response = await productApi.getAllCategory(store_uuid);\r\n        setCategoryList(response.data);\r\n      } catch (error) { }\r\n    };\r\n    fetchAllCategory();\r\n  }, [props.reset]);\r\n\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  const handleAddCategory = async () => {\r\n    handleCloseAndReset()\r\n    try {\r\n      const response = await productApi.addCategory(store_uuid, categoryInfo);\r\n      props.onReset()\r\n      dispatch(statusAction.successfulStatus(\"Tạo danh mục thành công\"));\r\n\r\n      \r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Tạo danh mục thất bại\"));\r\n    }\r\n  };\r\n  const handleCloseAndReset = () => {\r\n    props.handleClose()\r\n    setCategoryInfo({\r\n      name: \"\",\r\n      parent_category_uuid: \"\",\r\n    })\r\n  }\r\n  return (\r\n    <ModalWrapper {...props}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Thêm danh mục mới\r\n      </Typography>\r\n      <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            label=\"Tên danh mục\"\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            fullWidth\r\n            onChange={(e) =>\r\n              setCategoryInfo({ ...categoryInfo, name: e.target.value })\r\n            }\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <FormControl size=\"small\" variant=\"outlined\" fullWidth>\r\n            <InputLabel htmlFor=\"category\">Danh mục cha</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Danh mục cha\"\r\n              id=\"category\"\r\n              onChange={(e) =>\r\n                setCategoryInfo({\r\n                  ...categoryInfo,\r\n                  parent_category_uuid: e.target.value,\r\n                })\r\n              }\r\n            >\r\n              <option aria-label=\"None\" value=\"\" />\r\n              {categoryList.map((category) => (\r\n                <option key={category.uuid} value={category.uuid}>\r\n                  {category.name}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"flex-end\",\r\n          }}\r\n        >\r\n          {\" \"}\r\n          <Button\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            style={{ marginRight: 20 }}\r\n            onClick={props.handleClose}\r\n            size=\"small\"\r\n          >\r\n            Hủy\r\n          </Button>\r\n          <Button\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            onClick={handleAddCategory}\r\n          >\r\n            Thêm\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import {\r\n    Button,\r\n    FormControl,\r\n    Grid,\r\n    InputLabel,\r\n    Select,\r\n    TextField,\r\n    Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ModalWrapper from \"../../../components/Modal/ModalWrapper\";\r\nimport productApi from \"../../../api/productApi\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { statusAction } from \"../../../store/slice/statusSlice\";\r\nimport ConfirmPopUp from \"../../ConfirmPopUp/ConfirmPopUp\";\r\n\r\nconst UpdateCategory = (props) => {\r\n    const [categoryInfo, setCategoryInfo] = useState({\r\n        name: \"\",\r\n        parent_category_uuid: \"\",\r\n    });\r\n    const info = useSelector((state) => state.info);\r\n    const store_uuid = info.store.uuid;\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        setCategoryInfo(props.category);\r\n    }, [props.category]);\r\n    const [isDelete, setIsDelete] = useState(false);\r\n    const handleUpdateCategory = async () => {\r\n        handleCloseAndReset();\r\n        try {\r\n            await productApi.editCategory(\r\n                store_uuid,\r\n                props.category.uuid,\r\n                categoryInfo\r\n            );\r\n            props.onReset();\r\n            dispatch(statusAction.successfulStatus(\"Cập nhật danh mục thành công\"));\r\n        } catch (error) {\r\n            console.log(error);\r\n            dispatch(statusAction.failedStatus(\"Cập nhật danh mục thất bại\"));\r\n        }\r\n    };\r\n    const handleDeleteCategory = async () => {\r\n        handleCloseAndReset();\r\n        if (props.category.children.length > 0) {\r\n            dispatch(\r\n                statusAction.failedStatus(\r\n                    \"Không thể xóa danh mục do có danh mục con, hãy xóa danh mục con trước\"\r\n                )\r\n            );\r\n            return;\r\n        }\r\n        try {\r\n            await productApi.deleteCategory(store_uuid,props.category.uuid);\r\n            props.onReset();\r\n            dispatch(statusAction.successfulStatus(\"Xóa danh mục thành công\"));\r\n        } catch (error) {\r\n            console.log(error);\r\n            dispatch(statusAction.failedStatus(\"Xóa danh mục thất bại\"));\r\n        }\r\n    };\r\n    const handleCloseAndReset = () => {\r\n        props.handleClose();\r\n        setCategoryInfo(props.category);\r\n    };\r\n    return (\r\n        <ModalWrapper {...props}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n                Cập nhật danh mục\r\n            </Typography>\r\n            <ConfirmPopUp\r\n                open={isDelete}\r\n                handleConfirm={handleDeleteCategory}\r\n                handleClose={() => setIsDelete(false)}\r\n                message={\r\n                    <Typography>\r\n                        Xóa vĩnh viễn danh mục <b>{props.category.name} ?</b>\r\n                    </Typography>\r\n                }\r\n            />\r\n            <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\r\n                <Grid item xs={12}>\r\n                    <TextField\r\n                        label=\"Tên danh mục\"\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        required\r\n                        fullWidth\r\n                        value={categoryInfo?.name}\r\n                        onChange={(e) =>\r\n                            setCategoryInfo({ ...categoryInfo, name: e.target.value })\r\n                        }\r\n                    />\r\n                </Grid>\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"row\",\r\n                        justifyContent: \"flex-end\",\r\n                    }}\r\n                >\r\n                    {\" \"}\r\n                    <Button\r\n                        color=\"secondary\"\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        style={{ marginRight: 20 }}\r\n                        onClick={() => {\r\n                            setIsDelete(true);\r\n                        }}\r\n                    >\r\n                        Xóa danh mục\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        onClick={handleUpdateCategory}\r\n                        size=\"small\"\r\n                    >\r\n                        Lưu thay đổi\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </ModalWrapper>\r\n    );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CategoryIcon from \"@material-ui/icons/Category\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\r\nimport DraftsIcon from \"@material-ui/icons/Drafts\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport StarBorder from \"@material-ui/icons/StarBorder\";\r\nimport { useSelector } from \"react-redux\";\r\nimport productApi from \"../../../api/productApi\";\r\nimport { IconButton, Tooltip ,Button} from \"@material-ui/core\";\r\nimport UpdateCategory from \"./UpdateCategory\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nexport default function SubCategory(props) {\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const [subCategories, setSubCategories] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCategoryList = async () => {\r\n      try {\r\n        const categories = await productApi.getSubCategory(\r\n          store_uuid,\r\n          props.category.uuid\r\n        );\r\n        setSubCategories(categories.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchCategoryList();\r\n  }, [store_uuid, props.category.uuid]);\r\n  useEffect(() => {\r\n    console.log(subCategories);\r\n  }, [subCategories]);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  console.log(subCategories);\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n    handleClose()\r\n  };\r\n  const [update, setUpdate] = useState(false)\r\n  const handleOpenEdit = () => setUpdate(true)\r\n  const handleClose = () => setUpdate(false)\r\n  return (\r\n    <List\r\n      component=\"nav\"\r\n      aria-labelledby=\"nested-list-subheader\"\r\n      className={classes.nested}\r\n    >\r\n      <UpdateCategory onReset={props.onReset} open={update} handleClose={handleClose} category={props.category}/>\r\n      <ListItem >\r\n        <ListItemText\r\n          primary={\r\n            <Tooltip  title=\"Cập nhật\">\r\n              <Button style={{display:\"flex\",flexDirection:\"row\",justifyContent:\"flex-start\", textDecoration:\"none\",textTransform:\"none\"}} fullWidth onClick={handleOpenEdit}>\r\n                <ListItemIcon>\r\n                  <CategoryIcon/>\r\n                </ListItemIcon>\r\n                {props.category.name}\r\n              </Button>\r\n            </Tooltip>\r\n          }\r\n        />\r\n        {props.category.children.length === 0 ? null : open ? (\r\n         <IconButton size=\"small\" onClick={handleClick}> <ExpandLess /> </IconButton> \r\n        ) : (\r\n          <IconButton size=\"small\" onClick={handleClick}> <ExpandMore button /> </IconButton> \r\n        )}\r\n      </ListItem>\r\n      <Collapse in={open} timeout=\"auto\" >\r\n        {subCategories.map((category) => (\r\n          <SubCategory key={category.uuid} category={category} />\r\n        ))}\r\n      </Collapse>\r\n    </List>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CategoryIcon from \"@material-ui/icons/Category\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport SubCategory from \"./SubCategory\";\r\nimport { useSelector } from \"react-redux\";\r\nimport productApi from \"../../../api/productApi\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { Box, Button, Typography } from \"@material-ui/core\";\r\nimport zIndex from \"@material-ui/core/styles/zIndex\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport UpdateCategory from \"./UpdateCategory\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    zIndex: 1\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nexport default function RootCategory(props) {\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const [subCategories, setSubCategories] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCategoryList = async () => {\r\n      try {\r\n        const categories = await productApi.getSubCategory(\r\n          store_uuid,\r\n          props.category.uuid\r\n        );\r\n        setSubCategories(categories.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchCategoryList();\r\n  }, [store_uuid, props.category.uuid, props.reset]);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n    handleClose()\r\n  };\r\n  const [update, setUpdate] = useState(false)\r\n  const handleOpenEdit = () => setUpdate(true)\r\n  const handleClose = () => setUpdate(false)\r\n  return (\r\n    <List\r\n      component=\"nav\"\r\n      aria-labelledby=\"nested-list-subheader\"\r\n      className={classes.root}\r\n    >\r\n      <UpdateCategory onReset={props.onReset} open={update} handleClose={handleClose} category={props.category}/>\r\n      <ListItem >\r\n        <ListItemText\r\n          primary={\r\n            <Tooltip  title=\"Cập nhật\">\r\n              <Button style={{display:\"flex\",flexDirection:\"row\",justifyContent:\"flex-start\", textDecoration:\"none\",textTransform:\"none\"}} fullWidth onClick={handleOpenEdit}>\r\n                <ListItemIcon>\r\n                  <CategoryIcon/>\r\n                </ListItemIcon>\r\n                {props.category.name}\r\n              </Button>\r\n            </Tooltip>\r\n          }\r\n        />\r\n        {props.category.children.length === 0 ? null : open ? (\r\n          <IconButton size=\"small\" onClick={handleClick} style={{ zIndex: 2 }} >\r\n            {\" \"}\r\n            <ExpandLess />{\" \"}\r\n          </IconButton>\r\n        ) : (\r\n          <IconButton size=\"small\" onClick={handleClick} style={{ zIndex: 2 }}>\r\n            {\" \"}\r\n            <ExpandMore button />{\" \"}\r\n          </IconButton>\r\n        )}\r\n      </ListItem>\r\n      <Collapse in={open} unmountOnExit>\r\n        {subCategories.map((category) => (\r\n          <SubCategory key={category.uuid} category={category} onReset={props.onReset}/>\r\n        ))}\r\n      </Collapse>\r\n    </List>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport RootCategory from \"./List/RootCategory\";\r\nimport productApi from \"../../api/productApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Box } from \"@material-ui/core\";\r\n\r\nconst CategoryTree = (props) => {\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const [parentCategories, setParentCategories] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCategoryList = async () => {\r\n      try {\r\n        const categories = await productApi.getParentCategory(store_uuid);\r\n        setParentCategories(categories.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchCategoryList();\r\n  }, [store_uuid,props.reset]);\r\n  return (\r\n    <Box {...props}>\r\n      {parentCategories.map((category) => (\r\n        <RootCategory key={category.uuid} category={category} reset={props.reset} onReset={props.onReset}/>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CategoryTree;\r\n","import React,{useState} from \"react\";\r\n\r\n//import library\r\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\r\n\r\n// import icon\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport AddCategory from \"../AddInventory/AddCategory\";\r\n// import project\r\nimport CategoryTree from \"../../../../components/Category/CategoryTree\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport Modal from \"../../../../components/Modal/ModalWrapper\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n  })\r\n);\r\n\r\nconst Category = (props) => {\r\n  const { handleClose, open } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  // loại lương\r\n  const [openAddCategory, setOpenAddCategory] = React.useState(false);\r\n  const handleCloseCategory = () => {\r\n    setOpenAddCategory(false);\r\n  };\r\n  const [reset,setReset] = useState(true)\r\n  const onReset = () =>{\r\n    setReset(reset => !reset)\r\n  }\r\n  return (\r\n    <Modal open={open} handleClose={handleClose}>\r\n      <AddCategory onReset={onReset} open={openAddCategory} handleClose={handleCloseCategory}  reset={reset}/>\r\n      <Box\r\n        flexDirection=\"row\"\r\n        display=\"flex\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Danh mục\r\n        </Typography>\r\n\r\n        <IconButton\r\n          aria-label=\"add\"\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            setOpenAddCategory(true);\r\n          }}\r\n        >\r\n          <AddIcon />\r\n        </IconButton>\r\n      </Box>\r\n\r\n      <CategoryTree style={{ width: 500, maxWith: \"80%\" }} reset={reset} onReset={onReset}/>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n","import { makeStyles } from \"@material-ui/core\";\r\nexport default makeStyles((theme) => ({\r\n  margin: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  headerTitle: {\r\n    fontSize: \"1.125rem\",\r\n  },\r\n  root: {\r\n    padding: 20,\r\n  },\r\n  box: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Box,\r\n  InputAdornment,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n//import project\r\nimport VNDInput from \"../../../../../../components/TextField/NumberFormatCustom\";\r\n// import img\r\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\r\nimport barcodeIcon from \"../../../../../../assets/img/icon/barcode1.png\";\r\nimport AddCategory from \"../../../Category/Category\";\r\nimport useStyles from \"./styles\";\r\nimport productApi from \"../../../../../../api/productApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nconst UploadImages = (img) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 70,\r\n        width: 70,\r\n        marginLeft: 7,\r\n        marginRight: 7,\r\n        borderRadius: 2,\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n  );\r\n};\r\nconst UpdateInventory = (props) => {\r\n  const dispatch = useDispatch();\r\n  const { handleClose, open } = props;\r\n  const [openAddCategory, setOpenAddCategory] = useState(false);\r\n  const handleCloseCategory = () => setOpenAddCategory(false);\r\n  const [categoryList, setCategoryList] = useState([\r\n    {\r\n      uuid: \"\",\r\n      parent_category_id: null,\r\n      name: \"\",\r\n      created_at: \"\",\r\n      updated_at: \"\",\r\n    },\r\n  ]);\r\n  const [images, setImages] = useState([]);\r\n  const [display, setDisplay] = useState([]);\r\n  useEffect(()=>{\r\n    const displayList = props.productInfo.images.map((img) => ({link:img.url,isUrl: true}))\r\n    setDisplay(displayList)\r\n  },[props.productInfo.images])\r\n  const addImageHandler = (e) => {\r\n    console.log(e.target.files[0]);\r\n    console.log(URL.createObjectURL(e.target.files[0]));\r\n    setImages([...images, e.target.files[0]]);\r\n    setDisplay([\r\n      ...display,\r\n      {\r\n        index: images.length,\r\n        link: URL.createObjectURL(e.target.files[0]),\r\n        isUrl: false,\r\n      },\r\n    ]);\r\n  };\r\n  const productFormik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      name: props.productInfo.name,\r\n      barcode: props.productInfo.bar_code ? props.productInfo.bar_code : '',\r\n      importedPrice: props.productInfo.standard_price || 0,\r\n      salesPrice: props.productInfo.list_price || 0,\r\n      category: props.productInfo.category.uuid || 0,\r\n      unit: props.productInfo.quantity_per_unit || '',\r\n      re_order_point: props.productInfo.min_reorder_quantity || 0,\r\n      product_code: props.productInfo.product_code || '',\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\r\n      importedPrice: Yup.number().required(\"Nhập giá vốn\").moreThan(0, \"Giá vốn phải lớn hơn không\"),\r\n      salesPrice: Yup.number().required(\"Nhập giá bán\").moreThan(0, \"Giá bán phải lớn hơn không\"),\r\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(-1, \"Số lượng đặt hàng lại không được âm\"),\r\n    }),\r\n  })\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const updateProductHandler = async () => {\r\n    handleCloseAndReset();\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\r\n      bodyFormData.append(\"list_price\", productFormik.values.importedPrice.toString());\r\n      bodyFormData.append(\"standard_price\",productFormik.values.salesPrice.toString());\r\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\r\n      bodyFormData.append(\"product_code\", productFormik.values.product_code.toString());\r\n      bodyFormData.append(\"quantity_per_unit\", productFormik.values.unit.toString());\r\n      bodyFormData.append(\r\n        \"min_reorder_quantity\",\r\n        productFormik.values.re_order_point.toString()\r\n      );\r\n\r\n      bodyFormData.append(\r\n        \"category_uuid\",\r\n        productFormik.values.category.toString()\r\n      );\r\n      const img_url = display.reduce((prev,cur) =>{\r\n        if(cur.isUrl){\r\n          return prev.concat(cur.link,\",\")\r\n        }\r\n        return prev\r\n      },\"\")\r\n      bodyFormData.append(\"img_urls\", img_url);\r\n\r\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\r\n      const response = await productApi.updateProduct(\r\n        store_uuid,\r\n        props.productInfo.uuid,\r\n        bodyFormData\r\n      );\r\n      dispatch(statusAction.successfulStatus(\"Sửa sản phẩm thành công\"));\r\n      props.setReload();\r\n    } catch (error) {\r\n      console.log(error)\r\n      dispatch(statusAction.failedStatus(\"Sửa thất bại\"));\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    const fetchCategoryList = async () => {\r\n      try {\r\n        const response = await productApi.getAllCategory(store_uuid);\r\n        setCategoryList(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n        return [];\r\n      }\r\n    };\r\n    fetchCategoryList();\r\n  }, [store_uuid, props.productInfo]);\r\n  \r\n  const handleCloseAndReset = () => {\r\n    handleClose();\r\n    productFormik.resetForm()\r\n    clearAllImages();\r\n  };\r\n  const clearAllImages = () => {\r\n    setDisplay([]);\r\n    setImages([]);\r\n  };\r\n  const clearImage = (displayImage) => {\r\n    setDisplay(display.filter((img) => img != displayImage));\r\n    if (!displayImage.isUrl) {\r\n      setImages(images.filter((image, index) => index !== displayImage.index));\r\n    }\r\n  };\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <AddCategory open={openAddCategory} handleClose={handleCloseCategory} />\r\n      <Box className={classes.root}>\r\n        <Typography\r\n          className={classes.headerTitle}\r\n          variant=\"h5\"\r\n          gutterBottom\r\n          style={{ marginBottom: 20 }}\r\n        >\r\n          Chỉnh sửa sản phẩm\r\n        </Typography>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-around\"\r\n          spacing={2}\r\n        >\r\n          <Grid item sm={7} xs={12}>\r\n            <TextField\r\n              required\r\n              label=\"Tên sản phẩm\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"name\"\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.name}\r\n              error={productFormik.touched.name && productFormik.errors.name}\r\n              helperText={\r\n                productFormik.touched.name ? productFormik.errors.name : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n              type=\"text\"\r\n            />\r\n            <TextField\r\n              label=\"Mã sản phẩm (tự động)\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"product_code\"\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.product_code}\r\n            />\r\n            <TextField\r\n              label=\"Mã vạch\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"barcode\"\r\n              onKeyDown={(e) => {}}\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.barcode}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <Box\r\n                      component=\"img\"\r\n                      sx={{ height: 25, width: 25 }}\r\n                      src={barcodeIcon}\r\n                    />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              className={classes.margin}\r\n            />\r\n            <TextField\r\n              label=\"Đơn vị\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"unit\"\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.unit}\r\n            />\r\n\r\n            <Box className={`${classes.box} ${classes.margin}`}>\r\n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\r\n                <InputLabel htmlFor=\"category\">Danh mục</InputLabel>\r\n                <Select\r\n                  native\r\n                  label=\"Danh mục\"\r\n                  id=\"category\"\r\n                  name=\"category\"\r\n                  value={productFormik.values.category}\r\n                  onChange={productFormik.handleChange}\r\n                  onBlur={productFormik.handleBlur}\r\n                >\r\n                  {categoryList.map((category) => (\r\n                    <option key={category.uuid} value={category.uuid}>\r\n                      {category.name}\r\n                    </option>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n              <Tooltip title=\"Thêm danh mục\">\r\n                <IconButton\r\n                  size=\"small\"\r\n                  style={{ marginLeft: 5 }}\r\n                  onClick={() => setOpenAddCategory(true)}\r\n                >\r\n                  <AddIcon color=\"primary\" />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item sm={5} xs={12}>\r\n            <VNDInput\r\n              required\r\n              label=\"Giá bán\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"salesPrice\"\r\n              value={productFormik.values.salesPrice}\r\n              onChange={productFormik.handleChange}\r\n              error={\r\n                productFormik.touched.salesPrice &&\r\n                productFormik.errors.salesPrice\r\n              }\r\n              helperText={\r\n                productFormik.touched.salesPrice\r\n                  ? productFormik.errors.salesPrice\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n            />\r\n            <VNDInput\r\n              required\r\n              label=\"Giá vốn\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"importedPrice\"\r\n              value={productFormik.values.importedPrice}\r\n              onChange={productFormik.handleChange}\r\n              error={\r\n                productFormik.touched.importedPrice &&\r\n                productFormik.errors.importedPrice\r\n              }\r\n              helperText={\r\n                productFormik.touched.importedPrice\r\n                  ? productFormik.errors.importedPrice\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n              className={classes.margin}\r\n            />\r\n            <TextField\r\n              label=\"Số lượng đặt hàng lại\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"re_order_point\"\r\n              value={productFormik.values.re_order_point}\r\n              onChange={productFormik.handleChange}\r\n              error={\r\n                productFormik.touched.re_order_point &&\r\n                productFormik.errors.re_order_point\r\n              }\r\n              helperText={\r\n                productFormik.touched.re_order_point\r\n                  ? productFormik.errors.re_order_point\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={2}>          <Grid item xs>\r\n            <Box\r\n              display=\"flex\"\r\n              flexDirection=\"row\"\r\n              alignItems=\"center\"\r\n              style={{ marginTop: 10 }}\r\n            >\r\n              {display.map((img) => (\r\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\r\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\r\n                    <Box\r\n                      component=\"img\"\r\n                      sx={{\r\n                        height: 70,\r\n                        width: 70,\r\n                        marginLeft: 7,\r\n                        marginRight: 7,\r\n                        borderRadius: 2,\r\n                      }}\r\n                      src={img.link}\r\n                    />\r\n                  </Button>\r\n                </Tooltip>\r\n              ))}\r\n              {display.length === 0 ? <UploadImages /> : null}\r\n              <IconButton\r\n                disabled={display.length > 3 ? true : false}\r\n                color=\"primary\"\r\n                size=\"medium\"\r\n                component=\"label\"\r\n              >\r\n                <input type=\"file\" hidden onChange={addImageHandler} />\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <Button\r\n              onClick={handleCloseAndReset}\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n              style={{ marginRight: 20 }}\r\n            >\r\n              Huỷ\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                updateProductHandler();\r\n              }}\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              disabled = {!(productFormik.isValid ) }\r\n            >\r\n              Sửa\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default UpdateInventory;\r\n","import { Chip, Box, Avatar } from \"@material-ui/core\";\r\n\r\nexport const FormatedStatus = (props) => {\r\n  if (props.debt === 0) {\r\n    return (\r\n      <Chip\r\n        label=\"Trả đủ\"\r\n        color=\"#76ff03\"\r\n        variant=\"outlined\"\r\n        style={{\r\n          backgroundColor: \"#76ff03\",\r\n          fontWeight: 500,\r\n          marginLeft: -10,\r\n          height: 28,\r\n        }}\r\n      >\r\n        {\"Trả đủ\"}{\" \"}\r\n      </Chip>\r\n    );\r\n  } else {\r\n    return (\r\n      <Chip\r\n        label=\"Còn nợ\"\r\n        color=\"#ff3d00\"\r\n        variant=\"outlined\"\r\n        style={{\r\n          backgroundColor: \"#ff3d00\",\r\n          fontWeight: 500,\r\n          marginLeft: -10,\r\n          height: 28,\r\n        }}\r\n      >\r\n        {\"Trả đủ\"}{\" \"}\r\n      </Chip>\r\n    );\r\n  }\r\n};\r\nexport const FormatedProductStatus = (props) => {\r\n  if (Number(props.quantity) === 0) {\r\n    return (\r\n      <Chip\r\n        label=\"Hết hàng\"\r\n        color=\"#ff007d\"\r\n        variant=\"outlined\"\r\n        style={{\r\n          backgroundColor: \"#ff007d\",\r\n          fontWeight: 500,\r\n          marginLeft: -10,\r\n          height: 28,\r\n        }}\r\n      >\r\n        {\"Trả đủ\"}{\" \"}\r\n      </Chip>\r\n    );\r\n    //Gia tri low stock ??\r\n  } else if (Number(props.quantity) <= Number(props.lowStock)) {\r\n    return (\r\n      <Chip\r\n        label=\"Sắp hết\"\r\n        color=\"#ffc02b\"\r\n        variant=\"outlined\"\r\n        style={{\r\n          backgroundColor: \"#ffc02b\",\r\n          fontWeight: 500,\r\n          marginLeft: -10,\r\n          height: 28,\r\n        }}\r\n      >\r\n        {\"Trả đủ\"}{\" \"}\r\n      </Chip>\r\n    );\r\n  } else {\r\n    return (\r\n      <Chip\r\n        label=\"Còn hàng\"\r\n        color=\"#00ded7\"\r\n        variant=\"outlined\"\r\n        style={{\r\n          backgroundColor: \"#00ded7\",\r\n          fontWeight: 500,\r\n          marginLeft: -10,\r\n          height: 28,\r\n        }}\r\n      >\r\n        {\"Trả đủ\"}{\" \"}\r\n      </Chip>\r\n    );\r\n  }\r\n};\r\n\r\nexport const FormatedProductStatusReport = (props) => {\r\n  if (Number(props.quantity) === 0) {\r\n    return (\r\n      <Box\r\n        style={{\r\n          width: 20,\r\n          height: 20,\r\n          borderRadius: 20,\r\n          backgroundColor: \"#ff007d\",\r\n        }}\r\n      ></Box>\r\n    );\r\n    //Gia tri low stock ??\r\n  } else if (Number(props.quantity) <= props.lowStock) {\r\n    return (\r\n      <Box\r\n        style={{\r\n          width: 20,\r\n          height: 20,\r\n          borderRadius: 20,\r\n          backgroundColor: \"#ffc02b\",\r\n        }}\r\n      ></Box>\r\n    );\r\n  } else {\r\n    return (\r\n      <Box\r\n        style={{\r\n          width: 20,\r\n          height: 20,\r\n          borderRadius: 20,\r\n          backgroundColor: \"#00ded7\",\r\n        }}\r\n      ></Box>\r\n    );\r\n  }\r\n};\r\n\r\nexport const FormatedStatusOrder = (props) => {\r\n  switch (props.status) {\r\n    case 0:\r\n      return (\r\n        <Chip\r\n          label=\"Chờ chấp nhận\"\r\n          color=\"#ff007d\"\r\n          variant=\"outlined\"\r\n          style={{\r\n            backgroundColor: \"#ff007d\",\r\n            fontWeight: 500,\r\n            marginLeft: -10,\r\n            height: 28,\r\n          }}\r\n        >\r\n          {\"Chờ chấp nhận\"}{\" \"}\r\n        </Chip>\r\n      );\r\n    case 1:\r\n      return (\r\n        <Chip\r\n          label=\"Chờ giao\"\r\n          color=\"#ffc02b\"\r\n          variant=\"outlined\"\r\n          style={{\r\n            backgroundColor: \"#ffc02b\",\r\n            fontWeight: 500,\r\n            marginLeft: -10,\r\n            height: 28,\r\n          }}\r\n        >\r\n          {\"Chờ giao\"}{\" \"}\r\n        </Chip>\r\n      );\r\n    case 2:\r\n      return (\r\n        <Chip\r\n          label=\"Chưa giao đủ\"\r\n          color=\"#00ded7\"\r\n          variant=\"outlined\"\r\n          style={{\r\n            backgroundColor: \"#00ded7\",\r\n            fontWeight: 500,\r\n            marginLeft: -10,\r\n            height: 28,\r\n          }}\r\n        >\r\n          {\"Chưa giao đủ\"}{\" \"}\r\n        </Chip>\r\n      );\r\n    case 3:\r\n      return (\r\n        <Chip\r\n          label=\"Hoàn thành\"\r\n          color=\"#76ff03\"\r\n          variant=\"outlined\"\r\n          style={{\r\n            backgroundColor: \"#76ff03\",\r\n            fontWeight: 500,\r\n            marginLeft: -10,\r\n            height: 28,\r\n          }}\r\n        >\r\n          {\"Hoàn thành\"}{\" \"}\r\n        </Chip>\r\n      );\r\n    default:\r\n      return (\r\n        <Chip\r\n          label=\"Chờ\"\r\n          color=\"#ff007d\"\r\n          variant=\"outlined\"\r\n          style={{\r\n            backgroundColor: \"#ff007d\",\r\n            fontWeight: 500,\r\n            marginLeft: -10,\r\n            height: 28,\r\n          }}\r\n        >\r\n          {\"Chờ chấp nhận\"}{\" \"}\r\n        </Chip>\r\n      );\r\n  }\r\n};\r\n\r\nexport const FormatedStatusCheck = (props) => {\r\n  if (props.status === 0) {\r\n    return (\r\n      <Chip\r\n        label=\"Cân bằng\"\r\n        color=\"#76ff03\"\r\n        variant=\"outlined\"\r\n        style={{\r\n          backgroundColor: \"#76ff03\",\r\n          fontWeight: 500,\r\n          marginLeft: -10,\r\n          height: 28,\r\n        }}\r\n      >\r\n        {\"Cân bằng\"}{\" \"}\r\n      </Chip>\r\n    );\r\n  } else {\r\n    return (\r\n      <Chip\r\n        label=\"Không cân bằng\"\r\n        color=\"#ff3d00\"\r\n        variant=\"outlined\"\r\n        style={{\r\n          backgroundColor: \"#ff3d00\",\r\n          fontWeight: 500,\r\n          marginLeft: -10,\r\n          height: 28,\r\n        }}\r\n      >\r\n        {\"Không cân bằng\"}{\" \"}\r\n      </Chip>\r\n    );\r\n  }\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n//import library\r\nimport {\r\n    Box,\r\n    Grid,\r\n    Collapse,\r\n    Typography,\r\n    Button,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    IconButton,\r\n} from \"@material-ui/core\";\r\n//import icon\r\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\r\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\r\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\r\n//import image\r\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\r\n//import project\r\nimport {\r\n    StyledMenu,\r\n    StyledMenuItem,\r\n} from \"../../../../../components/Button/MenuButton\";\r\nimport productApi from \"../../../../../api/productApi\";\r\n// carousel for images\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\r\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\r\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\r\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\r\nimport {\r\n    TableCell,\r\n    TableRow,\r\n    Avatar,\r\n    ListItem,\r\n    Chip,\r\n} from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\r\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n    createStyles({\r\n        root: {\r\n            \"& .MuiTextField-root\": {\r\n                marginTop: theme.spacing(2),\r\n            },\r\n        },\r\n        headerTitle: {\r\n            fontSize: \"1.125rem\",\r\n        },\r\n        typo: {\r\n            marginBottom: 20,\r\n        },\r\n    })\r\n);\r\n\r\nconst UploadImage = () => {\r\n    return (\r\n        <Box\r\n            component=\"img\"\r\n            sx={{\r\n                height: 170,\r\n                width: 170,\r\n                borderRadius: 2,\r\n                marginLeft: 15,\r\n            }}\r\n            src={avaUpload}\r\n        />\r\n    );\r\n};\r\nconst VarianceModal = (props) => {\r\n    const { row } = props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const [productDetail, setProductDetail] = useState({\r\n        name: \"\",\r\n        bar_code: \"\",\r\n        category: { name: \"\" },\r\n        images: [],\r\n        suppliers: [],\r\n    });\r\n    const [isOpenUpdate, setIsOpenUpdate] = useState(false);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleCloseUpdate = (status) => {\r\n        if (status) {\r\n            props.parentProps.setReload(true);\r\n        }\r\n        setIsOpenUpdate(false);\r\n    };\r\n    const [deleteConfirm, setDeleteConfirm] = useState(false);\r\n    const handleCloseDelete = () => {\r\n        setDeleteConfirm(false);\r\n    };\r\n    const handleConfirmDelete = async () => {\r\n        handleCloseDelete();\r\n        try {\r\n            const response = await productApi.deleteProduct(store_uuid, row.uuid);\r\n            dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\r\n            props.parentProps.setReload(true);\r\n            console.log(response);\r\n        } catch (error) {\r\n            console.log(error);\r\n            dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\r\n        }\r\n    };\r\n    const info = useSelector((state) => state.info);\r\n    const store_uuid = info.store.uuid;\r\n    const branch_uuid = info.branch.uuid\r\n\r\n    useEffect(() => {\r\n        const fetchProduct = async () => {\r\n            try {\r\n                const response = await productApi.getProduct(store_uuid, row.uuid, { branch_uuid: branch_uuid });\r\n                setProductDetail(response.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n       \r\n            fetchProduct();\r\n        \r\n    }, [store_uuid]);\r\n\r\n    return (\r\n        <ModalWrapperWithClose\r\n            handleClose={() => props.handleClose(false)}\r\n            title={\"Chi tiết biến thể\"}\r\n            open={props.open}\r\n        >\r\n            <div style={{width: 800}}>\r\n            <Box margin={1}>\r\n                    <Typography\r\n                        variant=\"h3\"\r\n                        gutterBottom\r\n                        component=\"div\"\r\n                        className={classes.typo}\r\n                    >\r\n                        {row.name}\r\n                    </Typography>\r\n\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={4}>\r\n                            <Box\r\n                                sx={{\r\n                                    height: 170,\r\n                                    width: 170,\r\n                                    borderRadius: 2,\r\n                                    marginLeft: 15,\r\n                                }}\r\n                            >\r\n                                <Carousel showThumbs={false}>\r\n                                    {productDetail.images.map((image) => (\r\n                                        <img\r\n                                            key={image.url}\r\n                                            src={image.url}\r\n                                            height=\"170\"\r\n                                            width=\"170\"\r\n                                        />\r\n                                    ))}\r\n                                </Carousel>\r\n                            </Box>\r\n                        </Grid>\r\n\r\n                        <Grid container direction=\"column\" item xs={8}>\r\n                            <Grid container direction=\"row\">\r\n                                <Grid item xs={6}>\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Tên sản phẩm\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                {productDetail.name}{\" \"}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Mã sản phẩm\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                {productDetail.product_code}{\" \"}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Mã vạch\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                {productDetail.bar_code}{\" \"}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Danh mục\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                {productDetail.category.name}{\" \"}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Đơn vị\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                {productDetail.quantity_per_unit}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={4}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Giá bán\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                <VNDFormat value={productDetail.list_price}></VNDFormat>\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={4}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Giá vốn\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                <VNDFormat\r\n                                                    value={productDetail.standard_price}\r\n                                                ></VNDFormat>{\" \"}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                                        <Grid item xs={4}>\r\n                                            <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                                                Tồn kho\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                                                {row.branch_quantity}{\" \"}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n\r\n                            \r\n                            {JSON.parse(row.attribute_value ? row.attribute_value : \"[]\").map(attVal => <Grid container direction=\"row\">\r\n                                <Grid item xs={6}>\r\n                                    <div style={{border: \"2px solid #eee\", textAlign: \"center\",padding: \"5px 0\", marginRight: 10, borderRadius: 5}}>\r\n                                        {attVal.name}\r\n                                    </div>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <div style={{border: \"2px solid #eee\", textAlign: \"center\" ,padding: '5px 0', borderRadius: 5}}>\r\n                                        <strong>{attVal.value}</strong>\r\n                                    </div>\r\n                                </Grid>\r\n                            </Grid>)}\r\n                            \r\n\r\n                            <Grid\r\n                                container\r\n                                direction=\"row\"\r\n                                justifyContent=\"flex-end\"\r\n                                style={{ marginTop: 20 }}\r\n                            >\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    size=\"small\"\r\n                                    style={{ marginLeft: 15 }}\r\n                                    onClick={() => {\r\n                                        setIsOpenUpdate(true);\r\n                                    }}\r\n                                >\r\n                                    Sửa\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    size=\"small\"\r\n                                    style={{ marginLeft: 15 }}\r\n                                    onClick={() => {\r\n                                        setDeleteConfirm(true);\r\n                                    }}\r\n                                >\r\n                                    Xoá\r\n                                </Button>\r\n\r\n                                <IconButton\r\n                                    aria-label=\"more\"\r\n                                    aria-controls=\"long-menu\"\r\n                                    aria-haspopup=\"true\"\r\n                                    onClick={handleClick}\r\n                                    size=\"small\"\r\n                                    style={{ marginLeft: 10 }}\r\n                                >\r\n                                    <MoreVertIcon />\r\n                                </IconButton>\r\n\r\n                                <StyledMenu\r\n                                    id=\"customized-menu\"\r\n                                    anchorEl={anchorEl}\r\n                                    keepMounted\r\n                                    open={Boolean(anchorEl)}\r\n                                    onClose={handleClose}\r\n                                >\r\n                                    <StyledMenuItem>\r\n                                        <ListItemIcon style={{ marginRight: -15 }}>\r\n                                            <InboxIcon fontSize=\"small\" />\r\n                                        </ListItemIcon>\r\n                                        <ListItemText primary=\"In mã tem\" />\r\n                                    </StyledMenuItem>\r\n\r\n                                    <StyledMenuItem>\r\n                                        <ListItemIcon style={{ marginRight: -15 }}>\r\n                                            <HighlightOffTwoToneIcon fontSize=\"small\" />\r\n                                        </ListItemIcon>\r\n                                        <ListItemText primary=\"Ngừng kinh doanh\" />\r\n                                    </StyledMenuItem>\r\n\r\n                                    <StyledMenuItem>\r\n                                        <ListItemIcon style={{ marginRight: -15 }}>\r\n                                            <LocalOfferTwoToneIcon fontSize=\"small\" />\r\n                                        </ListItemIcon>\r\n                                        <ListItemText primary=\"Lịch sử giá\" />\r\n                                    </StyledMenuItem>\r\n\r\n                                    <StyledMenuItem>\r\n                                        <ListItemIcon style={{ marginRight: -15 }}>\r\n                                            <VerifiedUserTwoToneIcon fontSize=\"small\" />\r\n                                        </ListItemIcon>\r\n                                        <ListItemText primary=\"Lịch sử kiểm kê\" />\r\n                                    </StyledMenuItem>\r\n                                </StyledMenu>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Box>\r\n            </div>\r\n                <UpdateInventory\r\n                    open={isOpenUpdate}\r\n                    handleClose={handleCloseUpdate}\r\n                    productInfo={productDetail}\r\n                />\r\n                <ConfirmPopUp\r\n                    open={deleteConfirm}\r\n                    handleClose={handleCloseDelete}\r\n                    handleConfirm={handleConfirmDelete}\r\n                    message={\r\n                        <Typography>\r\n                            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\r\n                        </Typography>\r\n                    }\r\n                />\r\n                \r\n        </ModalWrapperWithClose>\r\n\r\n    );\r\n};\r\n\r\nexport default VarianceModal;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n//import library\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Collapse,\r\n  Typography,\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\n\r\n//import icon\r\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\r\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\r\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\r\n//import image\r\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\r\n//import project\r\nimport {\r\n  StyledMenu,\r\n  StyledMenuItem,\r\n} from \"../../../../../components/Button/MenuButton\";\r\nimport productApi from \"../../../../../api/productApi\";\r\n// carousel for images\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\r\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\r\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\r\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\r\nimport {\r\n  TableCell,\r\n  TableRow,\r\n  Avatar,\r\n  ListItem,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\r\nimport VarianceModal from \"./VarianceModal\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    typo: {\r\n      marginBottom: 20,\r\n    },\r\n  })\r\n);\r\n\r\nconst UploadImage = () => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 170,\r\n        width: 170,\r\n        borderRadius: 2,\r\n        marginLeft: 15,\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n  );\r\n};\r\nconst InventoryDetail = (props) => {\r\n  const { row, openRow, setReload } = props.parentProps;\r\n  const { isMini } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [thisReload, setThisReload] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [productDetail, setProductDetail] = useState({\r\n    name: \"\",\r\n    bar_code: \"\",\r\n    category: { name: \"\" },\r\n    images: [],\r\n    suppliers: [],\r\n  });\r\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\r\n  const handleCloseDelete = () => {\r\n    setDeleteConfirm(false);\r\n  };\r\n  const handleConfirmDelete = async () => {\r\n    handleCloseDelete();\r\n    try {\r\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\r\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\r\n      setReload();\r\n      // console.log(response);\r\n    } catch (error) {\r\n      // console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\r\n    }\r\n  };\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid\r\n\r\n  const [isOpenVarianceDetailModal, setIsOpenVariaceDetailModal] = useState(false)\r\n  const [selectedVariance, setSelectedVariance] = useState({})\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const response = await productApi.getProduct(store_uuid, row.uuid, { branch_uuid: branch_uuid });\r\n        setProductDetail(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (openRow === row.uuid) {\r\n      fetchProduct();\r\n    }\r\n  }, [store_uuid, openRow,thisReload]);\r\n  const handleCloseUpdate = (status) => {\r\n    setIsOpenUpdate(false);\r\n  };\r\n  return row.has_variance ? (<>\r\n    {openRow === row.uuid &&\r\n      productDetail.variations?.map(variance => (\r\n        <>\r\n          <TableRow>\r\n            <TableCell align=\"left\">\r\n              {\"               \"}\r\n            </TableCell>\r\n            <TableCell align=\"left\">\r\n              {variance.product_code}\r\n            </TableCell>\r\n            <TableCell align=\"left\" style={{ minWidth: 200 }}>\r\n              <ListItem\r\n                style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n              >\r\n                <Box\r\n                  component=\"img\"\r\n                  sx={{ height: 50, width: 50, borderRadius: 10, marginRight: 15 }}\r\n                  src={row.img_url}\r\n                />\r\n                <Typography className={classes.fontName}>{variance.name}</Typography>\r\n              </ListItem>\r\n            </TableCell>\r\n            <TableCell align=\"left\">{variance.bar_code}</TableCell>\r\n\r\n            <TableCell align=\"left\">{variance.category?.name}</TableCell>\r\n            <TableCell align=\"right\">\r\n              <VNDFormat value={variance.list_price} />\r\n            </TableCell>\r\n            <TableCell align=\"right\">\r\n              <VNDFormat value={variance.standard_price} />\r\n            </TableCell>\r\n            <TableCell align=\"center\">\r\n              <FormatedProductStatus\r\n                quantity={variance.branch_quantity}\r\n                lowStock={variance.min_reorder_quantity}\r\n              />\r\n            </TableCell>\r\n            <TableCell align=\"right\" className={classes.fontName}>\r\n              {variance.branch_quantity}\r\n            </TableCell>\r\n            <TableCell onClick={() => {\r\n              setIsOpenVariaceDetailModal(true)\r\n              setSelectedVariance(variance)\r\n            }}><Button size=\"small\" color=\"primary\" variant=\"outlined\">Chi tiết</Button></TableCell>\r\n          </TableRow>\r\n\r\n        </>\r\n      ))\r\n\r\n    }\r\n    {isOpenVarianceDetailModal && (\r\n      <VarianceModal \r\n        open={isOpenVarianceDetailModal}\r\n        parentProps={props.parentProps}\r\n        row={selectedVariance} \r\n        handleClose={() => setIsOpenVariaceDetailModal(false)} />)}\r\n  </>)\r\n    : (\r\n      <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\r\n        {isOpenUpdate && <UpdateInventory\r\n          handleClose={handleCloseUpdate}\r\n          open={isOpenUpdate}\r\n          productInfo={productDetail}\r\n          setReload = {() => {\r\n            setReload();\r\n            setThisReload(!thisReload)\r\n          }}\r\n        />}\r\n        <ConfirmPopUp\r\n          open={deleteConfirm}\r\n          handleConfirm={handleConfirmDelete}\r\n          handleClose={handleCloseDelete}\r\n          message={\r\n            <Typography>\r\n              Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\r\n            </Typography>\r\n          }\r\n        />\r\n        <Box margin={1}>\r\n          <Typography\r\n            variant=\"h3\"\r\n            gutterBottom\r\n            component=\"div\"\r\n            className={classes.typo}\r\n          >\r\n            {row.name}\r\n          </Typography>\r\n\r\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n            <Grid item xs={12} sm={4}>\r\n              <Box\r\n                sx={{\r\n                  // height: 170,\r\n                  // width: 170,\r\n                  height:xsScreen ?100: 170,\r\n                  width:xsScreen ?100: 170,\r\n                  borderRadius: 2,\r\n                  marginLeft: 15,\r\n                  marginBottom:xsScreen? 10:0\r\n                }}\r\n              >\r\n                <Carousel showThumbs={false}>\r\n                  {productDetail.images.map((image) => (\r\n                    <img\r\n                      key={image.url}\r\n                      src={image.url}\r\n                      height={xsScreen ?\"100\": \"170\"}\r\n                      width={xsScreen ?\"100\": \"170\"}\r\n                      // height= \"170\"\r\n                      // width= \"170\"\r\n                    />\r\n                  ))}\r\n                </Carousel>\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Grid container direction=\"column\" item xs={12} sm={8}>\r\n              <Grid container direction=\"row\">\r\n                <Grid item xs={12} sm={6}>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={6}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Tên sản phẩm\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item  sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        {productDetail.name}{\" \"}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={6}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Mã sản phẩm\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item  sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        {productDetail.product_code}{\" \"}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={6}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Mã vạch\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        {productDetail.bar_code}{\" \"}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={6}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Danh mục\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        {productDetail.category.name}{\" \"}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={6}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Đơn vị\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid ListItemText sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        {productDetail.quantity_per_unit}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={12}sm={6}>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={4}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Giá bán\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item  sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        <VNDFormat value={productDetail.list_price}></VNDFormat>\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={4}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Giá vốn\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item  sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        <VNDFormat\r\n                          value={productDetail.standard_price}\r\n                        ></VNDFormat>{\" \"}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                    <Grid item xs={4} sm={4}>\r\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                        Tồn kho\r\n                      </Typography>\r\n                    </Grid>\r\n                    <Grid item  sm={6}>\r\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\r\n                        {row.branch_quantity}{\" \"}\r\n                      </Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justifyContent={\"flex-end\"}\r\n                style={{ marginTop: 20 }}\r\n              >\r\n                <Button\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  style={{ marginLeft: 15 }}\r\n                  onClick={() => {\r\n                    setIsOpenUpdate(true);\r\n                  }}\r\n                >\r\n                  Sửa\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  style={{ marginLeft: 15 }}\r\n                  onClick={() => {\r\n                    setDeleteConfirm(true);\r\n                  }}\r\n                >\r\n                  Xoá\r\n                </Button>\r\n\r\n                <IconButton\r\n                  aria-label=\"more\"\r\n                  aria-controls=\"long-menu\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={handleClick}\r\n                  size=\"small\"\r\n                  style={{ marginLeft: 10 }}\r\n                >\r\n                  <MoreVertIcon />\r\n                </IconButton>\r\n\r\n                <StyledMenu\r\n                  id=\"customized-menu\"\r\n                  anchorEl={anchorEl}\r\n                  keepMounted\r\n                  open={Boolean(anchorEl)}\r\n                  onClose={handleClose}\r\n                >\r\n                  <StyledMenuItem>\r\n                    <ListItemIcon style={{ marginRight: -15 }}>\r\n                      <InboxIcon fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"In mã tem\" />\r\n                  </StyledMenuItem>\r\n\r\n                  <StyledMenuItem>\r\n                    <ListItemIcon style={{ marginRight: -15 }}>\r\n                      <HighlightOffTwoToneIcon fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Ngừng kinh doanh\" />\r\n                  </StyledMenuItem>\r\n\r\n                  <StyledMenuItem>\r\n                    <ListItemIcon style={{ marginRight: -15 }}>\r\n                      <LocalOfferTwoToneIcon fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Lịch sử giá\" />\r\n                  </StyledMenuItem>\r\n\r\n                  <StyledMenuItem>\r\n                    <ListItemIcon style={{ marginRight: -15 }}>\r\n                      <VerifiedUserTwoToneIcon fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary=\"Lịch sử kiểm kê\" />\r\n                  </StyledMenuItem>\r\n                </StyledMenu>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Collapse>\r\n    );\r\n};\r\n\r\nexport default InventoryDetail;\r\n","import React from 'react'\r\nimport {Box,TextField,Avatar,Slide,Divider,ListItemSecondaryAction,Dialog,AppBar,Toolbar,Button,ListItem,IconButton,TableRow,TableCell,Typography, Grid} from '@material-ui/core'\r\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\r\n\r\nimport useStyles from \"../TableCommon/style/mainViewStyle\";\r\nimport icon from '../../assets/img/product/tch.jpeg';\r\nimport * as Input from '../TextField/NumberFormatCustom'\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\nimport InvoiceReturnDetail from \"../../views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail\";\r\nimport InvoiceDetail from \"../../views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail\";\r\nimport InventoryOrderDetail from \"../../views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail\";\r\nimport InventoryReturnDetail from \"../../views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail\";\r\nimport OrderProductListDetail from \"../../views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail\";\r\nimport CheckHistoryDetail from \"../../views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail\"\r\nimport CustomerDetail from \"../../views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail\"\r\nimport SupplierDetail from \"../../views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail\"\r\nimport EmployeeDetail from \"../../views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail\"\r\nimport DiscountDetail from '../../views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail';\r\nimport VoucherDetail from '../../views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {ThousandFormat} from \"../TextField/NumberFormatCustom\"\r\nimport ava from '../../assets/img/product/lyimg.jpeg';\r\nimport PhoneIcon from '@material-ui/icons/Phone';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport InventoryDetail from '../../views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail';\r\nimport DiscountPopUp from \"../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\r\nimport ButtonQuantity from \"../../components/Button/ButtonQuantity\";\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\nexport const CartMiniTableRow = (props) =>{\r\n    const classes = useStyles(); \r\n    const haveDiscount = true;\r\n\r\n    const {row,discountData, handleDeleteItemCart, handleChangeItemQuantity, handleChangeItemPrice} = props\r\n    const updateQuantity = (newQuantity) => {\r\n        handleChangeItemQuantity(row.uuid, newQuantity)\r\n      }\r\n\r\n    const [openDiscount, setOpenDiscount] = React.useState(false);\r\n    const handleOpenDiscount = () =>{\r\n      setOpenDiscount(!openDiscount)\r\n    }\r\n    return (\r\n        <>\r\n         <ListItem  style={{ padding:10}}>   \r\n                <ListItem  style={{margin:0, padding:0}}>    \r\n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\r\n                        <div>\r\n                            <ListItem style={{margin:0,padding:0}} >    \r\n                                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\r\n                                {haveDiscount ? \r\n                                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\r\n                                :null}\r\n                                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\r\n                            </ListItem  > \r\n                            <ListItem style={{margin:0,padding:0}} >    \r\n                            <Input.ThousandSeperatedInput \r\n                                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \r\n                                inputProps={{style: { textAlign: \"right\" }}} \r\n                                defaultPrice={row.unit_price} \r\n                                value={row.unit_price} \r\n\r\n                                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>\r\n                                <Typography style={{marginLeft:10}}>x</Typography>\r\n                            </ListItem  > \r\n                        </div>\r\n                    </ListItem  >  \r\n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\r\n                        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \r\n                    </ListItemSecondaryAction>\r\n                \r\n                </ListItem  >  \r\n         <Divider style={{marginTop:7}}/>\r\n        \r\n\r\n        </>\r\n    )\r\n}\r\nexport const BillMiniTableRow = (props) =>{\r\n    const { row, handleOpenRow, openRow, onReload } = props;\r\n\r\n    const {totalCost, id,partnerName ,date, typeBill } = props;\r\n    const{promotion_condition, type} = props;\r\n    const classes = useStyles(); \r\n    const theme = useTheme();\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    return (\r\n        <div style={{margin:10}}>\r\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \r\n          onClick={()=>{handleClickOpen();handleOpenRow(typeBill === \"Khuyến mãi\"?row.id:row.uuid)}}  >\r\n            <Grid item>\r\n                <Typography style={{ fontWeight:500,marginTop:-5,fontSize:15, marginBottom:3}}>{id}</Typography>\r\n                <Typography style={{ fontSize:14}}>{partnerName}</Typography>  \r\n            </Grid>\r\n            <Grid item justifyContent=\"flex-end\" >\r\n                \r\n          {typeBill ===\"Voucher\"?<Typography style={{ fontSize:11, marginTop:-15, marginBottom:7}}> Ngày hết hạn:</Typography>:null}\r\n\r\n           <Typography style={{color:\"#6b6b6b\", fontSize:10, marginTop:-8, marginBottom:5,textAlign: 'right'}}>{date.substring(0, 16)}</Typography>\r\n            \r\n            {typeBill === \"Khuyến mãi\"  ?<Typography style={{marginTop:10}} >{totalCost}  </Typography>:null}\r\n            {typeBill === \"Đơn đặt hàng\"  || typeBill === \"Voucher\"?<Typography style={{fontWeight:500, fontSize:17, color:\"orange\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\r\n            {typeBill === \"Đơn kiểm kho\"?<Typography style={{fontWeight:500, fontSize:17, color:totalCost >=0?\"green\":\"red\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\r\n            {typeBill !== \"Đơn đặt hàng\" &&typeBill !== \"Đơn kiểm kho\" &&typeBill !== \"Voucher\" && typeBill !== \"Khuyến mãi\"? <Typography style={{fontWeight:500, fontSize:17, color:typeBill  === \"Hoá đơn\" || typeBill === \"Đơn nhập hàng\"?theme.customization.primaryColor[500]:theme.customization.secondaryColor[500],textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\r\n            \r\n            \r\n            </Grid>\r\n        </Grid> \r\n        <Divider style={{marginTop:2}} />\r\n\r\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n            <AppBar className={classes.appBar}>\r\n            <Toolbar>\r\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\r\n                    {typeBill} {\"#\"} {id}\r\n                </Typography>\r\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n                <CloseIcon />\r\n                </IconButton>\r\n            </Toolbar>\r\n            </AppBar>\r\n\r\n            {typeBill === \"Hoá đơn\"? <InvoiceDetail parentProps={props}  isMini={true} />:null}\r\n            {typeBill === \"Đơn trả\"? <InvoiceReturnDetail parentProps={props}  isMini={true}/>:null}\r\n            {typeBill === \"Đơn nhập hàng\"? <InventoryOrderDetail parentProps={props}  isMini={true}/>:null}\r\n            {typeBill === \"Đơn trả hàng nhập\"? <InventoryReturnDetail parentProps={props}  isMini={true}/>:null}\r\n            {typeBill === \"Đơn đặt hàng nhập\"? <OrderProductListDetail parentProps={props}  isMini={true}/>:null}\r\n            {typeBill === \"Đơn kiểm kho\"? <CheckHistoryDetail parentProps={props}  isMini={true}/>:null}\r\n            {/* {typeBill === \"Khuyến mãi\"? <DiscountDetail parentProps={props}  isMini={true} promotion_condition={promotion_condition} type={type}/>:null} */}\r\n            {typeBill === \"Voucher\"? <VoucherDetail parentProps={props}  isMini={true}/>:null}\r\n            {typeBill === \"Khuyến mãi\"?  <DiscountDetail parentProps={props} promotion_condition={promotion_condition} type={type} />       :null}\r\n\r\n        </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const PartnerMiniTableRow = (props) =>{\r\n    const { row, handleOpenRow, openRow, onReload } = props;\r\n\r\n    const {img, id,name ,phone, score,typePartner } = props\r\n    const classes = useStyles(); \r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    return (\r\n\r\n        <div style={{margin:15,}}>\r\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \r\n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \r\n          >\r\n            <Grid item>\r\n                <ListItem  style={{marginLeft:2, padding:0}}>\r\n                    {typePartner !== \"Nhà cung cấp\"?<Avatar alt=\"Remy Sharp\" src={img} style={{marginRight:20,}} className={classes.ava} />:null}\r\n                    <div>\r\n                        <Typography style={{marginBottom:2, marginTop:-5,marginBottom:3}}>{name}</Typography>\r\n                        <ListItem  style={{margin:0, padding:0}}>\r\n                            <PhoneIcon style={{width:10, height:10, marginRight:2, color:\"#8f8f8f\"}}/>\r\n                            <Typography style={{color:'#36afff', fontSize:12}}>{phone}</Typography>\r\n                        </ListItem>  \r\n                    </div>\r\n                </ListItem>  \r\n            </Grid>\r\n            <Grid item justifyContent=\"flex-end\" >\r\n            <Typography style={{marginTop:-5,fontSize:12,color:\"#474747\"}}>{id}</Typography>\r\n            {typePartner === \"Khách hàng\"?<Typography style={{fontWeight:500, fontSize:14,marginTop:8, color:\"green\",textAlign: 'right'}}>{score}</Typography> :null}\r\n\r\n            </Grid>\r\n        </Grid> \r\n\r\n        <Divider style={{marginTop:2}} />\r\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n            <AppBar className={classes.appBar}>\r\n            <Toolbar>\r\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\r\n                    {typePartner} {\"#\"} {id}\r\n                </Typography>\r\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n                <CloseIcon />\r\n                </IconButton>\r\n            </Toolbar>\r\n            </AppBar>\r\n\r\n            {typePartner === \"Khách hàng\"? <CustomerDetail parentProps={props}  isMini={true} />:null}\r\n            {typePartner === \"Nhân viên\"? <EmployeeDetail parentProps={props}  isMini={true}/>:null}\r\n            {typePartner === \"Nhà cung cấp\"? <SupplierDetail parentProps={props}  isMini={true}/>:null}\r\n        </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const ReturnCartMiniTableRow = ({ detail, handleProductPriceChange, handleItemQuantityChange }) =>{\r\nconst classes = useStyles();\r\n  const theme = useTheme();\r\n  const [show, setShow] = React.useState('none');\r\n  useEffect(() => {}, [detail]);\r\n\r\n\r\n  const handleChangeQuantity = (newQuantity) => {\r\n    handleItemQuantityChange(detail.id, newQuantity);\r\n  };\r\n\r\n  const handleChangePrice = (newPrice) => {\r\n    handleProductPriceChange(detail.id, newPrice);\r\n  };\r\n    return (\r\n        <>\r\n        <Typography style={{fontSize:16}} >{detail.product_code} - {detail.name} </Typography>\r\n        <ListItem style={{margin:0,padding:0}} >  \r\n            <Typography style={{color:\"#6b6b6b\", marginRight:10}} >Giá bán: </Typography>\r\n            <Input.VNDFormat style={{ width: 70 ,color:\"#6b6b6b\"}} value={detail.unit_price}/>  \r\n        </ListItem  > \r\n        <Typography style={{ marginBottom:-10, marginTop:10, color:\"red\"}} >Giá trả: </Typography>\r\n\r\n        <ListItem style={{margin:0,padding:0}} >  \r\n            <Input.ThousandSeperatedInput \r\n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \r\n                inputProps={{style: { textAlign: \"right\" }}} \r\n                defaultPrice={detail.returnPrice} \r\n                onChange={e => handleChangePrice(e.target.value)}/>\r\n                \r\n                <ButtonQuantity quantity={detail.returnQuantity} limit={detail.quantity - detail.returned_quantity} setQuantity={handleChangeQuantity}  show={show} setShow={setShow} isReturn={true} isMini={true}/> \r\n        </ListItem  > \r\n         <Divider style={{marginTop:7}}/>\r\n        \r\n\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport const ProductMiniTableRow = (props) =>{\r\n    const classes = useStyles();\r\n    const theme = useTheme(); \r\n    const haveDiscount = true;\r\n\r\n    const {row, handleOpenRow, openRow } = props\r\n    const {img, id,name ,list_price,standard_price,typePartner ,branch_quantity,min_reorder_quantity} = props\r\n    // const classes = useStyles(); \r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    function returnColor(current,min) {\r\n        if(current >= min) {return \"green\"}\r\n        else if (current <= 0) {return \"red\"}\r\n        else{return \"orange\"}\r\n    }\r\n    \r\n \r\n    return (\r\n  \r\n        <div style={{margin:15,}}>\r\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \r\n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \r\n          >\r\n            <Grid item xs={9}>\r\n                <ListItem  style={{marginLeft:2, padding:0}}>\r\n                 <Box\r\n                    component=\"img\"\r\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\r\n                    src={row.img_url}\r\n                    />                   \r\n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\r\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{name}</Typography>\r\n                    <Typography style={{}}>Giá vốn: <ThousandFormat value={standard_price}/></Typography>\r\n                    </Grid>\r\n                </ListItem>  \r\n            </Grid>\r\n            <Grid item xs={3} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\r\n                <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(branch_quantity,min_reorder_quantity)}}>Tồn: <ThousandFormat value={branch_quantity}/></Typography>\r\n                <Typography style={{textAlign: 'right', }}>Giá bán: <ThousandFormat value={list_price}/></Typography>\r\n            </Grid>\r\n        </Grid> \r\n\r\n\r\n        <Divider style={{marginTop:3}} />\r\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n            <AppBar className={classes.appBar}>\r\n            <Toolbar>\r\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\r\n                    {typePartner} {\"#\"} {id}\r\n                </Typography>\r\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n                <CloseIcon />\r\n                </IconButton>\r\n            </Toolbar>\r\n            </AppBar>\r\n            <InventoryDetail parentProps={props}  openRow={openRow} isMini={true} />\r\n        </Dialog>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const CheckMiniTableRow = ({ detail, handleItemRealQuantityChange, handleDeleteItem }) =>{\r\n    const classes = useStyles();\r\n    const [show, setShow] = React.useState(\"none\");\r\n    useEffect(() => { }, [detail]);\r\n  \r\n    const onChangeRealQuantity = (newQuantity) => {\r\n      handleItemRealQuantityChange(detail.id, newQuantity);\r\n    };\r\n \r\n    return (\r\n        <>\r\n        <ListItem  >   \r\n                <ListItem  style={{margin:0, padding:0}}>    \r\n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={detail.img_url} />\r\n                        <div>\r\n                            <Typography style={{fontSize:15, marginBottom:10}} >detail.name</Typography>\r\n                           \r\n                            <Typography style={{marginLeft:10}}>detail.branch_quantity</Typography> \r\n                            {/* <ThousandFormat  value={detail.branch_quantity} /> */}\r\n                        \r\n                        </div>\r\n                    </ListItem  >  \r\n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\r\n                         <ButtonQuantity quantity={100} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/> \r\n                        {/* <ButtonQuantity quantity={detail.real_quantity} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/>  */}\r\n                    </ListItemSecondaryAction>\r\n                \r\n                </ListItem  >  \r\n\r\n                {/* <ThousandFormat  value={Number(detail.real_quantity) - Number(detail.branch_quantity)} /> */}\r\n                {/* <VNDFormat value={(Number(detail.real_quantity) - Number(detail.branch_quantity)) *\r\n          detail.standard_price} /> */}\r\n         <Divider style={{marginTop:7}}/>\r\n        \r\n\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n{/* <ListItem  style={{ padding:10}}>   \r\n<ListItem  style={{margin:0, padding:0}}>    \r\n        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\r\n        <div>\r\n            <ListItem style={{margin:0,padding:0}} >    \r\n                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\r\n                {haveDiscount ? \r\n                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\r\n                :null}\r\n                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\r\n            </ListItem  > \r\n            <ListItem style={{margin:0,padding:0}} >    \r\n            <Input.ThousandSeperatedInput \r\n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \r\n                inputProps={{style: { textAlign: \"right\" }}} \r\n                defaultPrice={row.unit_price} \r\n                value={row.unit_price} \r\n\r\n                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>\r\n                <Typography style={{marginLeft:10}}>x</Typography>\r\n            </ListItem  > \r\n        </div>\r\n    </ListItem  >  \r\n    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\r\n        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \r\n    </ListItemSecondaryAction>\r\n\r\n</ListItem  >  \r\n<Divider style={{marginTop:7}}/> */}","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport moment from \"moment\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { ReceiptPrinter } from \"../../../components/ReceiptPrinter/ReceiptPrinter\";\r\nimport { CartBottom } from \"../../../components/Button/CartButton\";\r\n//import library\r\nimport {\r\n  Grid,\r\n  Card,\r\n  Box,\r\n  Tabs,\r\n  Tab,\r\n  TableContainer,\r\n  CardContent,\r\n  CardMedia,\r\n  CardActionArea,\r\n  FormControlLabel,\r\n  Switch,\r\n  Menu,\r\n  MenuItem,\r\n  ListItem,\r\n  IconButton,\r\n  TableBody,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport SearchBarCode from \"../../../components/SearchBar/SearchBarCode\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\n\r\n//import project\r\n//rieng\r\nimport CartSummary from \"../../../components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary\";\r\nimport { CartRow, CartRowMini } from \"./CartTableRow/CartTableRow\";\r\n//chung\r\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\";\r\nimport ChangeCartBtn from \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\";\r\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\nimport {\r\n  getComparator,\r\n  stableSort,\r\n} from \"../../../components/TableCommon/util/sortUtil\";\r\n\r\nimport orderApi from \"../../../api/orderApi\";\r\n// update state\r\nimport update from \"immutability-helper\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\r\nimport customerApi from \"../../../api/customerApi\";\r\n// FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\r\nimport { calculateTotalQuantity } from \"../../../components/TableCommon/util/sortUtil\";\r\nimport { CartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\r\n\r\nconst Cart = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [selectedBranch, setSelectedBranch] = useState({});\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch = info.branch;\r\n\r\n  const [customers, setCustomers] = useState([]);\r\n\r\n  ////------------ I. DATA (useState) ----------------\r\n  // Cart data get from search_product component\r\n  // const cartData = [\r\n  //     // QUANTITY có thể edit ->  truyền quatity edit ngược về cartData ??\r\n  //     //dựa vào id của text field quatity ??\r\n\r\n  //     //còn bị lỗi sort // tự generate stt\r\n  //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n  //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n  //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },\r\n  //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n  //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n  //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },\r\n\r\n  // ];\r\n  // chú ý cartList id from 1 to ... dùng để edit + delete\r\n  // const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: cartData}]);\r\n  const user_uuid = useSelector((state) => state.info.user.uuid);\r\n\r\n  \r\n  const loadLocalStorage = () => {\r\n    if (window.localStorage.getItem(\"cartListData\")) {\r\n      const data = JSON.parse(window.localStorage.getItem(\"cartListData\"));\r\n      if (data.user_uuid === user_uuid) {\r\n        return data.cartList;\r\n      }\r\n    }\r\n    return [\r\n      {\r\n        customer: null,\r\n        cartItem: [],\r\n        total_amount: \"0\",\r\n        paid_amount: \"0\",\r\n        discount: \"0\",\r\n        payment_method: \"cash\",\r\n        delivery: false,\r\n      },\r\n    ];\r\n  };\r\n\r\n  const [cartList, setCartList] = React.useState(loadLocalStorage());\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\r\n      \"cartListData\",\r\n      JSON.stringify({ user_uuid: user_uuid, cartList: cartList })\r\n    );\r\n  }, [cartList]);\r\n\r\n  //// ----------II. FUNCTION\r\n  // 1.Cart\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n\r\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\r\n\r\n  const [openSnack, setOpenSnack] = React.useState(false);\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: \"error\",\r\n    message: \"Tạo hóa đơn thất bại\",\r\n  });\r\n\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  useEffect(() => {\r\n    updateTotalAmount();\r\n  }, [isUpdateTotalAmount]);\r\n\r\n  useEffect(() => {\r\n    const loadingCustomer = async () => {\r\n      try {\r\n        const response = await customerApi.getCustomers(store_uuid);\r\n        setCustomers(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (store_uuid) {\r\n      loadingCustomer();\r\n    }\r\n  }, [store_uuid]);\r\n\r\n  const handleSearchCustomer = async (searchKey) => {\r\n    try {\r\n      const response = await customerApi.getCustomers(store_uuid, {\r\n        search_key: searchKey,\r\n      });\r\n      setCustomers(response.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const [reloadCustomers, setReloadCustomers] = useState(false);\r\n  useEffect(() => {\r\n    const loadingCustomer = async () => {\r\n      try {\r\n        const response = await customerApi.getCustomers(store_uuid);\r\n        setCustomers(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (store_uuid) {\r\n      loadingCustomer();\r\n    }\r\n  }, [reloadCustomers]);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    setOpenSnack(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleChoose = (index) => {\r\n    setSelectedIndex(index);\r\n    handleClose();\r\n  };\r\n  const handleAdd = () => {\r\n    // ADD CART\r\n    setCartList([\r\n      ...cartList,\r\n      {\r\n        customer: null,\r\n        cartItem: [],\r\n        total_amount: \"0\",\r\n        paid_amount: \"0\",\r\n        payment_method: \"cash\",\r\n        discount: \"0\",\r\n        delivery: false,\r\n      },\r\n    ]);\r\n    setSelectedIndex(cartList.length);\r\n    handleClose();\r\n  };\r\n  const handleDelete = (index) => {\r\n    // DELETE CART\r\n    cartList.splice(index, 1);\r\n    if (cartList.length === 0) {\r\n      setCartList([\r\n        {\r\n          customer: null,\r\n          cartItem: [],\r\n          total_amount: \"0\",\r\n          paid_amount: \"0\",\r\n          discount: \"0\",\r\n          payment_method: \"cash\",\r\n          delivery: false,\r\n        },\r\n      ]);\r\n    } else {\r\n      setCartList(cartList);\r\n    }\r\n    if (selectedIndex === index) {\r\n      setSelectedIndex(0);\r\n    } else if (selectedIndex > index) {\r\n      setSelectedIndex(selectedIndex - 1);\r\n    }\r\n    handleClose();\r\n  };\r\n  const updateCustomer = (value) => {\r\n    let newArr = [...cartList]; // copying the old datas array\r\n    newArr[selectedIndex].customer = value;\r\n    setCartList(newArr);\r\n  };\r\n\r\n  //2. Table sort\r\n  const [order, setOrder] = React.useState(\"desc\");\r\n  const [orderBy, setOrderBy] = React.useState(null);\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  //mode\r\n  const [mode, setMode] = React.useState(false);\r\n  const handleChangeMode = (event) => {\r\n    setMode(event.target.checked);\r\n  };\r\n\r\n  // handle search select item add to cart\r\n  const handleSearchBarSelect = (selectedOption) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === selectedOption.uuid\r\n    );\r\n    let item = cartList[selectedIndex].cartItem.find(\r\n      (item) => item.uuid === selectedOption.uuid\r\n    );\r\n    if (!item) {\r\n      let newCartItem = {\r\n        id: cartList[selectedIndex].cartItem.length,\r\n        uuid: selectedOption.uuid,\r\n        quantity: selectedOption.has_batches ? 0 : 1,\r\n        product_code: selectedOption.product_code,\r\n        bar_code: selectedOption.bar_code,\r\n        unit_price: selectedOption.list_price,\r\n        img_url: selectedOption.img_url,\r\n        name: selectedOption.name,\r\n        branch_quantity: Number(selectedOption.branch_quantity),\r\n        has_batches: selectedOption.has_batches,\r\n        batches: selectedOption.batches,\r\n      };\r\n\r\n      let newCartList = update(cartList, {\r\n        [selectedIndex]: { cartItem: { $push: [newCartItem] } },\r\n      });\r\n      setCartList(newCartList);\r\n      setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n      return;\r\n    }\r\n\r\n    if (!item.has_batches) {\r\n      handleChangeItemQuantity(\r\n        selectedOption.uuid,\r\n        cartList[selectedIndex].cartItem[itemIndex].quantity + 1\r\n      );\r\n    } else {\r\n      if (\r\n        cartList[selectedIndex].cartItem[itemIndex].selectedBatches?.length ===\r\n        1\r\n      ) {\r\n        handleChangeItemQuantity(\r\n          selectedOption.uuid,\r\n          cartList[selectedIndex].cartItem[itemIndex].quantity + 1\r\n        );\r\n        const newCartList = [...cartList];\r\n        newCartList[selectedIndex].cartItem[\r\n          itemIndex\r\n        ].selectedBatches[0].additional_quantity += 1;\r\n        setCartList(newCartList);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteItemCart = (itemUuid) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { cartItem: { $splice: [[itemIndex, 1]] } },\r\n    });\r\n    setCartList(newCartList);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleChangeItemQuantity = (itemUuid, newQuantity) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    let item = cartList[selectedIndex].cartItem.find(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    if (newQuantity === 0 && !item.has_batches) {\r\n      handleDeleteItemCart(itemUuid);\r\n      return;\r\n    }\r\n    let newCartList = [...cartList];\r\n    newCartList[selectedIndex].cartItem[itemIndex].quantity = newQuantity;\r\n    setCartList(newCartList);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleUpdateBatches = (itemUuid, selectedBatches) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n\r\n    if (itemIndex === -1) return;\r\n    const newCartList = [...cartList];\r\n    newCartList[selectedIndex].cartItem[itemIndex].selectedBatches =\r\n      selectedBatches;\r\n\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleChangeItemPrice = (itemUuid, newPrice) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: {\r\n        cartItem: { [itemIndex]: { unit_price: { $set: newPrice } } },\r\n      },\r\n    });\r\n    setCartList(newCartList);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleSelectCustomer = (selectedCustomer) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { customer: { $set: selectedCustomer } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleUpdatePaidAmount = (amount) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { paid_amount: { $set: amount } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleUpdatePaymentMethod = (method) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { payment_method: { $set: method } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleUpdateDiscount = (amount) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { discount: { $set: amount } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleCheckDelivery = (delivery) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { delivery: { $set: delivery } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const updateTotalAmount = () => {\r\n    let total = 0;\r\n    cartList[selectedIndex].cartItem.forEach((item) => {\r\n      total += item.unit_price * item.quantity;\r\n    });\r\n\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { total_amount: { $set: total } },\r\n    });\r\n\r\n    newCartList = update(newCartList, {\r\n      [selectedIndex]: {\r\n        paid_amount: { $set: total - cartList[selectedIndex].discount },\r\n      },\r\n    });\r\n\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    let cart = cartList[selectedIndex];\r\n\r\n    var emptyCart = cart.cartItem.length === 0;\r\n\r\n    var correctQuantity = cart.cartItem.every(function (element, index) {\r\n      console.log(element);\r\n      if (element.quantity > element.branch_quantity) return false;\r\n      else return true;\r\n    });\r\n    if (emptyCart || !correctQuantity) {\r\n      setOpenSnack(true);\r\n      if (emptyCart) {\r\n        setSnackStatus({\r\n          style: \"error\",\r\n          message: \"Giỏ hàng trống\",\r\n        });\r\n      } else {\r\n        setSnackStatus({\r\n          style: \"error\",\r\n          message: \"Giỏ hàng bị vượt tồn kho\",\r\n        });\r\n      }\r\n    } else {\r\n      let d = moment.now() / 1000;\r\n\r\n      let orderTime = moment\r\n        .unix(d)\r\n        .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\r\n      console.log(orderTime);\r\n\r\n      let details = cart.cartItem.map((item) => ({ ...item, discount: \"0\" }));\r\n      console.log(cart.paid_amount, cart.total_amount, cart.discount);\r\n      let body = {\r\n        customer_uuid: cart.customer ? cart.customer.uuid : \"\",\r\n        total_amount: cart.total_amount.toString(),\r\n        payment_method: cart.payment_method,\r\n        paid_amount: cart.paid_amount,\r\n        discount: cart.discount,\r\n        status:\r\n          cart.paid_amount < cart.total_amount - cart.discount\r\n            ? \"debt\"\r\n            : \"closed\",\r\n        details: details,\r\n        creation_date: orderTime,\r\n        paid_date: orderTime,\r\n        tax: \"0\",\r\n        shipping: \"0\",\r\n        delivery: cart.delivery,\r\n      };\r\n      console.log(\"bpdy\", body)\r\n\r\n      try {\r\n        let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\r\n        console.log(\"body\", body);\r\n        setSnackStatus({\r\n          style: \"success\",\r\n          message: \"Tạo hóa đơn thành công: \" + res.data.order.order_code,\r\n        });\r\n        setOpenSnack(true);\r\n        handlePrint();\r\n        handleDelete(selectedIndex);\r\n      } catch (err) {\r\n        setSnackStatus({\r\n          style: \"error\",\r\n          message: \"Tạo hóa đơn thất bại! \",\r\n        });\r\n        setOpenSnack(true);\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n  //print\r\n\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  //   }\r\n  // };\r\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\r\n  const handleSwitchChange = () => {\r\n    setBarcodeChecked(!barcodeChecked);\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      justifyContent=\"space-between\"\r\n      alignItems=\"center\"\r\n      spacing={2}\r\n    >\r\n      <SnackBarGeneral\r\n        handleClose={handleCloseSnackBar}\r\n        open={openSnack}\r\n        status={snackStatus}\r\n      />\r\n\r\n      {/* 1. TABLE CARD (left) */}\r\n      <Grid item xs={12} sm={8}>\r\n        <Card className={classes.root}>\r\n          <Box\r\n            style={{\r\n              padding: xsScreen ? 0 : 30,\r\n              minHeight: \"80vh\",\r\n              paddingBottom: 0,\r\n            }}\r\n          >\r\n            <Box style={{ height: xsScreen ? null : \"69vh\" }}>\r\n              {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justifyContent=\"space-between\"\r\n                alignItems=\"center\"\r\n                style={{ marginTop: -10, marginBottom: 30 }}\r\n              >\r\n                <Grid>\r\n                  <ListItem>\r\n                    {/* 1.1.1 Title */}\r\n                    <Typography variant=\"h3\"> Giỏ hàng </Typography>\r\n                    <Typography\r\n                      variant=\"h3\"\r\n                      style={{\r\n                        marginLeft: 10,\r\n                        color: theme.customization.primaryColor[500],\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      # {selectedIndex + 1}\r\n                    </Typography>\r\n                    {/* 1.1.2. Btn Channge Cart */}\r\n                    <ChangeCartBtn\r\n                      selectedIndex={selectedIndex}\r\n                      anchorEl={anchorEl}\r\n                      cartList={cartList}\r\n                      handleClick={handleClick}\r\n                      handleClose={handleClose}\r\n                      handleChoose={handleChoose}\r\n                      handleDelete={handleDelete}\r\n                      handleAdd={handleAdd}\r\n                      isCart={true}\r\n                    />\r\n                  </ListItem>\r\n                </Grid>\r\n                <Grid>\r\n                  <Grid container alignItems=\"center\">\r\n                    <Grid item>\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Switch\r\n                            checked={barcodeChecked}\r\n                            onChange={handleSwitchChange}\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label={\"Dùng mã vạch\"}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item>\r\n                      {barcodeChecked ? (\r\n                        <SearchBarCode\r\n                          handleSearchBarSelect={handleSearchBarSelect}\r\n                        />\r\n                      ) : (\r\n                        <SearchProduct\r\n                          handleSearchBarSelect={handleSearchBarSelect}\r\n                          isCart={true}\r\n                        />\r\n                      )}\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              {/* 1.2 TABLE */}\r\n              {!mode ? (\r\n                !xsScreen ? (\r\n                  // May tinh\r\n                  <TableWrapper isCart={true}>\r\n                    <TableHeader\r\n                      classes={classes}\r\n                      order={order}\r\n                      orderBy={orderBy}\r\n                      onRequestSort={handleRequestSort}\r\n                      headerData={HeadCells.CartHeadCells}\r\n                      isCart={true}\r\n                    />\r\n                    <TableBody>\r\n                      {stableSort(\r\n                        // cartList[selectedIndex].cartItem.reverse(),\r\n                        cartList[selectedIndex].cartItem,\r\n                        getComparator(order, orderBy)\r\n                      ).map((row, index) => {\r\n                        return (\r\n                          <CartRow\r\n                            row={row}\r\n                            handleUpdateBatches={handleUpdateBatches}\r\n                            handleDeleteItemCart={handleDeleteItemCart}\r\n                            handleChangeItemPrice={handleChangeItemPrice}\r\n                            handleChangeItemQuantity={handleChangeItemQuantity}\r\n                            discountData={discountData.filter(\r\n                              (discount) => discount.discountKey === \"product\"\r\n                            )}\r\n                          />\r\n                        );\r\n                      })}\r\n                    </TableBody>\r\n                  </TableWrapper>\r\n                ) : (\r\n                  // Dien thoai\r\n                  cartList[selectedIndex].cartItem.map((row, index) => {\r\n                    return (\r\n                      <CartMiniTableRow\r\n                        row={row}\r\n                        handleDeleteItemCart={handleDeleteItemCart}\r\n                        handleChangeItemPrice={handleChangeItemPrice}\r\n                        handleChangeItemQuantity={handleChangeItemQuantity}\r\n                        discountData={discountData.filter(\r\n                          (discount) => discount.discountKey === \"product\"\r\n                        )}\r\n                      />\r\n                    );\r\n                  })\r\n                )\r\n              ) : (\r\n                //  Mode nha hang\r\n                <MenuProduct />\r\n              )}\r\n            </Box>\r\n            {/* 1.3 CHANGE MODE  */}\r\n            {/* <FormControlLabel\r\n              control={<Switch checked={mode} onChange={handleChangeMode} />}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n                margin: -10,\r\n                marginTop: 10,\r\n              }}\r\n            /> */}\r\n          </Box>\r\n        </Card>\r\n      </Grid>\r\n      {xsScreen ? (\r\n        <CartBottom\r\n          numberItem={\r\n            calculateTotalQuantity(cartList[selectedIndex].cartItem)\r\n              ? calculateTotalQuantity(cartList[selectedIndex].cartItem)\r\n              : \"0\"\r\n          }\r\n        />\r\n      ) : null}\r\n      {/* 2.SUMMARY CARD (right) */}\r\n      <Grid item xs={12} sm={4} className={classes.root}>\r\n        <Card className={classes.root}>\r\n          <Box style={{ padding: 0, minHeight: \"80vh\" }}>\r\n            {!mode ? (\r\n              /* Viết hàm tính toán sau dựa trên cartData ... hiện tại đang set cứng giá trị */\r\n              <CartSummary\r\n                setSelectedBranch={setSelectedBranch}\r\n                selectedBranch={selectedBranch}\r\n                cartData={cartList[selectedIndex]}\r\n                handleSelectCustomer={handleSelectCustomer}\r\n                handleSearchCustomer={handleSearchCustomer}\r\n                handleUpdateDiscount={handleUpdateDiscount}\r\n                handleUpdatePaidAmount={handleUpdatePaidAmount}\r\n                handleUpdatePaymentMethod={handleUpdatePaymentMethod}\r\n                handleCheckDelivery={handleCheckDelivery}\r\n                handleConfirm={handleConfirm}\r\n                currentCustomer={cartList[selectedIndex].customer}\r\n                currentBranch={branch}\r\n                mode={mode}\r\n                customers={customers}\r\n                reloadCustomers={() => setReloadCustomers(!reloadCustomers)}\r\n                //discount\r\n                discountData={discountData.filter(\r\n                  (discount) => discount.discountKey === \"invoice\"\r\n                )}\r\n              />\r\n            ) : (\r\n              <CartSummary\r\n                cartData={cartList[selectedIndex]}\r\n                updateCustomer={updateCustomer}\r\n                currentCustomer={cartList[selectedIndex].customer}\r\n                mode={mode}\r\n              >\r\n                <TableContainer\r\n                  style={{\r\n                    maxHeight: \"40vh\",\r\n                    marginBottom: 20,\r\n                    height: \"40vh\",\r\n                  }}\r\n                >\r\n                  <TableBody>\r\n                    {cartList[selectedIndex].cartItem.map((row, index) => {\r\n                      return <CartRowMini row={row} />;\r\n                    })}\r\n                  </TableBody>\r\n                </TableContainer>\r\n              </CartSummary>\r\n            )}\r\n          </Box>\r\n        </Card>\r\n      </Grid>\r\n\r\n      {/* 3. Receipt */}\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ReceiptPrinter cart={cartList[selectedIndex]} />\r\n        </div>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n\r\nconst discountData = [\r\n  {\r\n    name: \"Discount Invoice\",\r\n    discountKey: \"invoice\",\r\n    discountType: \"discountInvoice\", //discountInvoice , sendGift, sendVoucher,priceByQuantity\r\n    detail: [\r\n      {\r\n        key: \"1\", //  ID dung để delete row , ko liên quan database\r\n        totalCost: 1000,\r\n        type: \"VND\", // \"%\"\r\n        discountValue: 20000,\r\n\r\n        numberGiftItem: 1,\r\n        listGiftItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n\r\n        numberBuyItem: 1,\r\n        listBuyItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        typeDiscountItem: \"percent\",\r\n        listGiftCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        listBuyCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n      },\r\n      {\r\n        key: \"2\", //  ID dung để delete row , ko liên quan database\r\n        totalCost: 1000,\r\n        type: \"VND\", // \"%\"\r\n        discountValue: 20000,\r\n\r\n        numberGiftItem: 1,\r\n        listGiftItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n\r\n        numberBuyItem: 1,\r\n        listBuyItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        typeDiscountItem: \"percent\",\r\n        listGiftCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        listBuyCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  //2\r\n  {\r\n    name: \"Product Send Gift\",\r\n    discountKey: \"product\",\r\n    discountType: \"sendGift\", //discountInvoice , sendGift, sendVoucher,priceByQuantity\r\n    detail: [\r\n      {\r\n        key: \"3\", //  ID dung để delete row , ko liên quan database\r\n        totalCost: 1000,\r\n        type: \"VND\", // \"%\"\r\n        discountValue: 20000,\r\n\r\n        numberGiftItem: 1,\r\n        listGiftItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n\r\n        numberBuyItem: 1,\r\n        listBuyItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        typeDiscountItem: \"percent\",\r\n        listGiftCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        listBuyCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n      },\r\n      {\r\n        key: \"4\", //  ID dung để delete row , ko liên quan database\r\n        totalCost: 1000,\r\n        type: \"VND\", // \"%\"\r\n        discountValue: 20000,\r\n\r\n        numberGiftItem: 1,\r\n        listGiftItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n\r\n        numberBuyItem: 1,\r\n        listBuyItem: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        typeDiscountItem: \"percent\",\r\n        listGiftCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n        listBuyCategory: [\r\n          { product_code: \"SP10002\", name: \"Áo dài\" },\r\n          { product_code: \"SP10005\", name: \"Quần dài\" },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import React from 'react'\r\nimport {\r\n  Drawer, TextField, Typography, Button, Grid, MenuItem, Select, InputLabel, FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\nimport { useFormik } from 'formik';\r\nimport orderApi from '../../../../api/orderApi';\r\nimport { convertDateToString } from '../../../../utils';\r\nimport { useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding: 15\r\n    },\r\n    textField: { marginBottom: 10 },\r\n    text: { marginBottom: 10, marginTop: 15 }\r\n  })\r\n);\r\nconst InvoiceFilter = (props) => {\r\n  const { handleToggleFilter, openFilter, setOrders, query, setQuery } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  const formik = useFormik({\r\n    initialValues: query,\r\n    onSubmit: async values => {\r\n      // console.log(values)\r\n      // const res = await orderApi.searchOrder(store_uuid, branch_uuid, values)\r\n      setQuery(values)\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Drawer\r\n      anchor=\"right\"\r\n      onClose={handleToggleFilter}\r\n      open={openFilter}\r\n      classes={{\r\n        paper: classes.drawerPaper,\r\n      }}\r\n      className={classes.drawer}\r\n    >\r\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\r\n      {/* Giao hàng, dia chi giao ???*/}\r\n      {/* tiền giảm ???*/}\r\n\r\n\r\n      {/* 1.Ngay from-to */}\r\n      <Typography variant=\"h5\" className={classes.text} >Ngày bán:</Typography>\r\n      <TextField id=\"startDate\" label=\"Từ\" \r\n        type=\"date\" \r\n        name=\"startDate\"\r\n        defaultValue={formik.values.startDate} \r\n        variant=\"outlined\" size=\"small\" fullWidth \r\n        className={classes.textField} \r\n        InputLabelProps={{ shrink: true }} \r\n        value={formik.values.startDate} \r\n        onChange={formik.handleChange}\r\n      />\r\n      <TextField \r\n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\r\n        defaultValue={formik.values.endDate} \r\n        variant=\"outlined\" size=\"small\" \r\n        fullWidth className={classes.textField} \r\n        InputLabelProps={{ shrink: true }} \r\n        value={formik.values.endDate}  \r\n        onChange={formik.handleChange}\r\n      />\r\n     \r\n\r\n      {/* 2.Tien from-to*/}\r\n      <Typography variant=\"h5\" className={classes.text} >Tiền hoá đơn:</Typography>\r\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        name=\"minTotalAmount\"\r\n        value={formik.values.minTotalAmount}\r\n        onChange={formik.handleChange}\r\n      // onChange={(e) =>\r\n      //   setProductInfo({\r\n      //     ...productInfo,\r\n      //     importedPrice: e.target.value,\r\n      //   })\r\n      // }\r\n      />\r\n      <VNDInput \r\n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\r\n        required label=\"Đến\" variant=\"outlined\" \r\n        fullWidth size=\"small\" className={classes.textField}\r\n        value={formik.values.maxTotalAmount}\r\n        onChange={formik.handleChange}\r\n      // onChange={(e) =>\r\n      //   setProductInfo({\r\n      //     ...productInfo,\r\n      //     importedPrice: e.target.value,\r\n      //   })\r\n      // }\r\n      />\r\n\r\n      {/* 3.Giảm giá from-to*/}\r\n      <Typography variant=\"h5\" className={classes.text} >Giảm giá:</Typography>\r\n      <TextField required label=\"Từ\" variant=\"outlined\" \r\n        name=\"minDiscount\" id=\"minDiscount\"\r\n        fullWidth size=\"small\" className={classes.textField}\r\n        value={formik.values.minDiscount}\r\n        onChange={formik.handleChange}\r\n      // onChange={(e) =>\r\n      //   setProductInfo({\r\n      //     ...productInfo,\r\n      //     importedPrice: e.target.value,\r\n      //   })\r\n      // }\r\n      />\r\n      <VNDInput \r\n        required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" \r\n        id=\"maxDiscount\" name=\"maxDiscount\"\r\n        className={classes.textField}\r\n        value={formik.values.maxDiscount}\r\n        onChange={formik.handleChange}\r\n      // onChange={(e) =>\r\n      //   setProductInfo({\r\n      //     ...productInfo,\r\n      //     importedPrice: e.target.value,\r\n      //   })\r\n      // }\r\n      />\r\n\r\n\r\n\r\n      {/* 4.Chi nhanh */}\r\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\r\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\r\n      </Select>\r\n      </FormControl> */}\r\n\r\n\r\n\r\n      {/* 5.Trang thai */}\r\n      <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n        className={classes.formControl}\r\n        fullWidth\r\n        size=\"small\"\r\n        variant=\"outlined\"\r\n      >\r\n        <Select\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          id=\"status\"\r\n          name=\"status\"\r\n          size=\"small\"\r\n          onChange={formik.handleChange}\r\n          // label=\" Chi nhánh\"\r\n          value={formik.values.status}\r\n        >\r\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\r\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n\r\n\r\n\r\n      {/* 5.Pttt */}\r\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\r\n      <FormControl\r\n        className={classes.formControl}\r\n        fullWidth\r\n        size=\"small\"\r\n        variant=\"outlined\"\r\n      >\r\n        <Select\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          id=\"paymentMethod\" name=\"paymentMethod\"\r\n          size=\"small\"\r\n          onChange={formik.handleChange}\r\n          // label=\" Chi nhánh\"\r\n          value={formik.values.paymentMethod}\r\n        >\r\n          <MenuItem value=\"card\">Thẻ</MenuItem>\r\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n\r\n      {/* BUTTON */}\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={formik.handleSubmit}\r\n        style={{ marginTop: 30 }}>\r\n        Lọc\r\n      </Button>\r\n\r\n\r\n\r\n    </Drawer>\r\n  )\r\n}\r\n\r\nexport default InvoiceFilter\r\n\r\n","import { makeStyles, useTheme,withStyles ,} from \"@material-ui/core/styles\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nexport default makeStyles((theme)=>({\r\n  root: {\r\n    '& > *': {\r\n      borderBottom: 'unset',\r\n    },\r\n  },\r\n  rowClicked:{\r\n    //backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\r\n    backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\r\n    \r\n  },\r\n  row:{\r\n    '&:hover': {\r\n      // backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\r\n      backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\r\n    },\r\n  },\r\n  large: {\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  fontName:{\r\n    fontWeight: 450,\r\n  }\r\n}));","import React from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { TableCell, TableRow } from \"@material-ui/core\";\r\nimport useRowStyles from \"../../../../components/TableCommon/style/rowStyle\";\r\n\r\nimport { FormatedStatus } from \"../../../../components/TableCommon/util/format\";\r\nimport InvoiceDetail from \"./InvoiceDetail/InvoiceDetail\";\r\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\r\n\r\nfunction InvoiceTableRow(props) {\r\n  const { row, handleOpenRow, openRow, onReload } = props;\r\n  const classes = useRowStyles();\r\n\r\n  return (\r\n    <>\r\n      {/* ROW */}\r\n      <TableRow\r\n        onClick={() => handleOpenRow(row.uuid)}\r\n        key={row.uuid}\r\n        className={clsx(\r\n          classes.row,\r\n          openRow === row.uuid ? classes.rowClicked : null\r\n        )}\r\n      >\r\n        <TableCell align=\"left\">{row.order_code}</TableCell>\r\n        <TableCell align=\"left\" className={classes.fontName}>\r\n          {row.paid_date}\r\n        </TableCell>\r\n        <TableCell\r\n          align=\"left\"\r\n          style={{ minWidth: 150 }}\r\n          className={classes.fontName}\r\n        >\r\n          {row.customer_name}\r\n        </TableCell>\r\n        <TableCell align=\"left\">{row.branch_name}</TableCell>\r\n        <TableCell align=\"left\">\r\n          {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\r\n        </TableCell>\r\n        <TableCell align=\"right\" className={classes.fontName}>\r\n          {\" \"}\r\n          <VNDFormat value={row.total_amount} />\r\n        </TableCell>\r\n        <TableCell align=\"center\">\r\n          <FormatedStatus debt={row.status === \"debt\" ? 1 : 0} />\r\n        </TableCell>\r\n      </TableRow>\r\n\r\n      {/* DETAIL */}\r\n      <TableRow>\r\n        {/* colspan  => số cột trong collapse */}\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\r\n          <InvoiceDetail parentProps={props} />\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InvoiceTableRow;\r\n","import React, { useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import project\r\nimport {\r\n  CardHeader,\r\n  Tooltip,\r\n  TextField,\r\n  IconButton,\r\n  InputAdornment,\r\n  Box,\r\n  Button,\r\n  Typography,\r\n  MenuItem,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select\r\n} from \"@material-ui/core\";\r\n\r\n// import - icon\r\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\r\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\r\nimport ViewColumnTwoToneIcon from \"@material-ui/icons/ViewColumnTwoTone\";\r\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\r\nimport SearchTwoToneIcon from \"@material-ui/icons/SearchTwoTone\";\r\nimport barcodeIcon from \"../../../assets/img/icon/barcode_grey.png\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport NoteAddTwoToneIcon from \"@material-ui/icons/NoteAddTwoTone\";\r\n// import third party\r\nimport xlsx from \"xlsx\";\r\nimport SimpleModal from \"../../Modal/ModalWrapper\";\r\n\r\nimport ModalWrapperWithClose from \"../../Modal/ModalWrapperWithClose\";\r\nimport { applyMiddleware } from \"@reduxjs/toolkit\";\r\n// import SimpleModal from \"../../Modal/ModalWrapper\";\r\n\r\n//--thu vien nay bij loi font\r\n// import jsPDF from 'jspdf'\r\n// import 'jspdf-autotable'\r\nconst cell = [\"A1\",\"B1\",\"C1\",\"D1\",\"E1\",\"F1\",\"G1\",\"H1\",\"I1\",\"J1\",\"K1\",];\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    icon: {\r\n      color: theme.customization.mode === \"Light\" ? grey[700] : grey[50],\r\n    },\r\n    toolbar: {\r\n      justifyContent: \"left\",\r\n    },\r\n    search: {\r\n      borderRadius: theme.customization.borderRadius,\r\n      height: 40,\r\n      marginLeft: 10,\r\n      marginTop: 10,\r\n      backgroundColor:\r\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\r\n    },\r\n    search: {\r\n      borderRadius: theme.customization.borderRadius,\r\n      height: 40,\r\n      marginLeft: 10,\r\n      marginTop: 0,\r\n      //\r\n      width: 260,\r\n      backgroundColor:\r\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\r\n    },\r\n    actions: {\r\n      marginTop: 0,\r\n    },\r\n  })\r\n);\r\nconst exportExcel = (dataTable, tableType,columnsToKeep =[]) => {\r\n  const newData = []\r\n  dataTable.map((row)=>{\r\n    let rowRs = {}\r\n    columnsToKeep.map((cl) => {\r\n      rowRs = {...rowRs,[cl.displayName]:row[cl.dbName]}\r\n    })\r\n    newData.push(rowRs)\r\n  })\r\n  const workSheet = xlsx.utils.json_to_sheet(newData);\r\n  const workBook = xlsx.utils.book_new();\r\n\r\n  xlsx.utils.book_append_sheet(workBook, workSheet, tableType);\r\n  //Buffer\r\n  //let buf=XLSX.write(workBook,{bookType:\"xlsx\",type:\"buffer\"})\r\n  //Binary string\r\n  xlsx.write(workBook, { bookType: \"xlsx\", type: \"binary\" });\r\n  //Download\r\n  xlsx.writeFile(workBook, `${tableType}.xlsx`);\r\n};\r\n\r\nconst ToolBar = (props) => {\r\n  const {\r\n    dataTable,\r\n    tableType,\r\n    handlePrint,\r\n    textSearch,\r\n    handleToggleFilter,\r\n    hasImport,\r\n    importProductByJSON,\r\n    excel_head,\r\n    excel_data,\r\n    excel_name,\r\n    columnsToKeep,\r\n    searchKey, setSearchKey,\r\n    orderByOptions,orderBy, setOrderBy,\r\n    handleRemoveFilter,\r\n    sort, setSort,\r\n    isOnlySearch,\r\n  } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [openImport, setOpenImport] = useState(false);\r\n  const [custom, setCustom] = useState(false)\r\n  const [customCl, setCustomCl] = useState({\r\n    product_code: \"Mã hàng\",\r\n    bar_code: \"Mã vạch\",\r\n    name: \"Tên\",\r\n    category_id: \"Danh mục\",\r\n    list_price: \"Giá bán\",\r\n    standard_price: \"Giá vốn\",\r\n    quantity_per_unit: \"Đơn vị\",\r\n    min_reorder_quantity: \"Tồn kho nhỏ nhất\",\r\n    max_quantity: \"Tồn kho lớn nhất\",\r\n    urls: \"Hình ảnh (url1, url2,...)\",\r\n    description: \"Mô tả\",\r\n  })\r\n  // const [json, setJson] = useState(null);\r\n\r\n  const readUploadFile = (e, setJsonData) => {\r\n    e.preventDefault();\r\n    if (e.target.files) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        const data = e.target.result;\r\n        const workbook = xlsx.read(data, { type: \"array\" });\r\n        const sheetName = workbook.SheetNames[0];\r\n        const worksheet = workbook.Sheets[sheetName];\r\n        const myJson = xlsx.utils.sheet_to_json(worksheet)\r\n        console.log(\"input\", myJson)\r\n        const json = []\r\n        myJson.map((product) => {\r\n          json.push({\r\n            product_code: product[customCl.product_code],\r\n            bar_code: product[customCl.bar_code].toString(),\r\n            name: product[customCl.name],\r\n            category_id: product[customCl.category_id],\r\n            list_price: product[customCl.list_price],\r\n            standard_price: product[customCl.standard_price],\r\n            quantity_per_unit: product[customCl.quantity_per_unit],\r\n            min_reorder_quantity: product[customCl.min_reorder_quantity],\r\n            max_quantity: product[customCl.max_quantity],\r\n            urls: product[customCl.urls].split(\",\"),\r\n            description: product[customCl.description]\r\n          })\r\n        })\r\n        // for (var i = 0; i < excel_head.length; i++) {\r\n        //   xlsx.utils.sheet_add_aoa(worksheet, [[excel_head[i]]], {\r\n        //     origin: cell[i],\r\n        //   });\r\n        // }\r\n        // const json = xlsx.utils.sheet_to_json(worksheet);\r\n        // for (var object in json) {\r\n        //   json[object][\"urls\"] = json[object][\"urls\"].split(\",\");\r\n        //   json[object][\"bar_code\"] = json[object][\"bar_code\"].toString();\r\n        // }\r\n        setJsonData(json);\r\n      };\r\n      reader.readAsArrayBuffer(e.target.files[0]);\r\n    }\r\n  };\r\n  const handleImport = () => {\r\n    setOpenImport(false);\r\n    importProductByJSON(jsonData);\r\n  };\r\n  const [jsonData, setJsonData] = useState([]);\r\n  \r\n  return (\r\n\r\n    <>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        <Grid item>\r\n          <Grid container direction=\"row\">\r\n          <TextField\r\n              style={{marginTop:12, marginLeft:10}}\r\n              variant=\"outlined\"\r\n              onKeyUp={(e) => {\r\n                console.log(\"e.keyCode == 0 || e.keyCode == 32\" ,e.keyCode == 0 || e.keyCode == 32 ) \r\n                if (e.key === \"Enter\") {\r\n                  setSearchKey(e.target.value)\r\n                }}\r\n              }\r\n              placeholder={textSearch} /*placeholder='Tìm kiếm ...'*/\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <SearchTwoToneIcon className={classes.icon} />\r\n                  </InputAdornment>\r\n                ),\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <Box\r\n                      component=\"img\"\r\n                      sx={{ height: 23, width: 23 }}\r\n                      src={barcodeIcon}\r\n                    />\r\n                  </InputAdornment>\r\n                ),\r\n                className: classes.search,\r\n              }}\r\n            />\r\n            {!isOnlySearch && \r\n            \r\n            <div style={{ marginLeft: 30, display: 'flex', flexDirection: 'row', gap: 10 }}>\r\n              <FormControl>\r\n                <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\r\n                  Sắp xếp theo\r\n                </InputLabel>\r\n                <Select\r\n                  autoWidth={true}\r\n                  labelId=\"orderBy\"\r\n                  value={orderBy}\r\n                  label=\"Sap xep theo\"\r\n                  onChange={(e) => setOrderBy(e.target.value)}\r\n                >\r\n                  {orderByOptions?.map(o => <MenuItem value={o.value}>{o.label}</MenuItem>)}\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl>\r\n                <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\r\n                  Thứ tự\r\n                </InputLabel>\r\n                <Select\r\n                  autoWidth={true}\r\n                  labelId=\"sort\"\r\n                  value={sort}\r\n                  label=\"Sap xep theo\"\r\n                  onChange={(e) => setSort(e.target.value)}\r\n                >\r\n                  <MenuItem value=\"asc\">Tăng dần</MenuItem>\r\n                  <MenuItem value=\"desc\">Giảm dần</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n              <Button onClick={handleRemoveFilter}>\r\n                Bỏ lọc\r\n              </Button>\r\n            </div>\r\n            }\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n\r\n        <Box className={classes.actions}>\r\n          <Tooltip\r\n            title=\"Nhập excel\"\r\n            style={{ display: hasImport ? null : \"none\" }}\r\n          >\r\n            <IconButton\r\n              aria-label=\"filter list\"\r\n              onClick={() => setOpenImport(true)}\r\n            >\r\n              <NoteAddTwoToneIcon className={classes.icon} />\r\n            </IconButton>\r\n          </Tooltip>\r\n\r\n          <Tooltip title=\"Xuất excel\">\r\n            <IconButton\r\n              aria-label=\"filter list\"\r\n              onClick={() => {\r\n                exportExcel(dataTable, tableType,columnsToKeep);\r\n              }}\r\n            >\r\n              <GetAppTwoToneIcon className={classes.icon} />\r\n            </IconButton>\r\n          </Tooltip>\r\n\r\n          <Tooltip title=\"In\">\r\n            <IconButton\r\n              aria-label=\"filter list\"\r\n              onClick={() => {\r\n                handlePrint();\r\n              }}\r\n            >\r\n              <PrintTwoToneIcon className={classes.icon} />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {/* <Tooltip title=\"Chọn cột\">\r\n            <IconButton aria-label=\"filter list\">\r\n              <ViewColumnTwoToneIcon className={classes.icon} />\r\n            </IconButton>\r\n          </Tooltip> */}\r\n          {!isOnlySearch && \r\n          <Tooltip title=\"Lọc\">\r\n            <IconButton aria-label=\"filter list\" onClick={handleToggleFilter}>\r\n              <FilterListTwoToneIcon className={classes.icon} />\r\n            </IconButton>\r\n          </Tooltip>\r\n          }\r\n\r\n          \r\n        </Box>\r\n        </Grid>\r\n    </Grid>\r\n   \r\n    <ModalWrapperWithClose\r\n          open={openImport}\r\n          handleClose={() => setOpenImport(false)}\r\n          title=\"Nhập hàng từ file excel\"\r\n        >\r\n\r\n          <Typography style={{ marginBottom: 15 }}>\r\n            {\" \"}\r\n            (Tải về file mẫu:{\" \"}\r\n            <a\r\n              style={{ color: \"blue\", cursor: \"pointer\" }}\r\n              onClick={() => {\r\n                exportExcel(excel_data, excel_name);\r\n                setCustom(false)\r\n              }}\r\n            >\r\n              Excel mẫu\r\n            </a>\r\n            {\" \"} hoặc <a style={{ color: \"blue\", cursor: \"pointer\" }} onClick={() => setCustom(!custom)}> tùy chỉnh </a>\r\n            )\r\n          </Typography>\r\n          {\r\n            custom &&\r\n            <Grid container spacing={2} style={{ marginBottom: 15, width: 600, maxWidth: \"90vw\" }}  direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" >\r\n                  <Typography><b>Mã hàng</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.product_code} onChange={(e) => { setCustomCl({ ...customCl, product_code: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Mã vạch</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.bar_code} onChange={(e) => { setCustomCl({ ...customCl, bar_code: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Tên sản phẩm</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.name} onChange={(e) => { setCustomCl({ ...customCl, name: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Danh mục</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.category_id} onChange={(e) => { setCustomCl({ ...customCl, category_id: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Giá bán</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.list_price} onChange={(e) => { setCustomCl({ ...customCl, list_price: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Giá vốn</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.standard_price} onChange={(e) => { setCustomCl({ ...customCl, standard_price: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Đơn vị</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.quantity_per_unit} onChange={(e) => { setCustomCl({ ...customCl, quantity_per_unit: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Tồn kho nhỏ</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.min_reorder_quantity} onChange={(e) => { setCustomCl({ ...customCl, min_reorder_quantity: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Tồn kho lớn</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.max_quantity} onChange={(e) => { setCustomCl({ ...customCl, max_quantity: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Hình ảnh</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.urls} onChange={(e) => { setCustomCl({ ...customCl, urls: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item sm={6} xs={12}>\r\n                <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                  <Typography><b>Mô tả</b></Typography>\r\n                  <TextField label=\"Tên tùy chỉnh\" size=\"small\" variant=\"outlined\" value={customCl.description} onChange={(e) => { setCustomCl({ ...customCl, description: e.target.value }) }}></TextField>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          }\r\n          <form>\r\n            <label htmlFor=\"upload\">Chọn file: </label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"upload\"\r\n              id=\"upload\"\r\n              onChange={(e) => {\r\n                const result = readUploadFile(e, setJsonData);\r\n              }}\r\n            />\r\n          </form>\r\n\r\n          <Button\r\n            style={{ marginTop: 40 }}\r\n            variant=\"contained\"\r\n            fullWidth\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              handleImport();\r\n            }}\r\n          >\r\n            Nhập hàng\r\n          </Button>\r\n        </ModalWrapperWithClose>\r\n      </>\r\n\r\n  );\r\n};\r\n\r\nexport default ToolBar;\r\n\r\nconst studentData = [\r\n  {\r\n    id: 1,\r\n    name: \"Quần dài\",\r\n    category: \"Thực phẩm\",\r\n    price: 220,\r\n    import_price: 130,\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Quần đùi\",\r\n    category: \"Bánh kẹo\",\r\n    price: 220,\r\n    import_price: 130,\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Áo dài\",\r\n    category: \"Đồ dùng\",\r\n    price: 250,\r\n    import_price: 120,\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Bánh\",\r\n    category: \"Quần áo\",\r\n    price: 520,\r\n    import_price: 102,\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"Kẹo\",\r\n    category: \"Quần áo\",\r\n    price: 220,\r\n    import_price: 100,\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"Khăn giấy\",\r\n    category: \"Quần áo\",\r\n    price: 200,\r\n    import_price: 100,\r\n  },\r\n  {\r\n    id: 7,\r\n    name: \"Quần dài\",\r\n    category: \"Quần áo\",\r\n    price: 200,\r\n    import_price: 100,\r\n  },\r\n  {\r\n    id: 8,\r\n    name: \"Túi xách\",\r\n    category: \"Quần áo\",\r\n    price: 150,\r\n    import_price: 350,\r\n  },\r\n  {\r\n    id: 9,\r\n    name: \"Laptop\",\r\n    category: \"Quần áo\",\r\n    price: 203,\r\n    import_price: 152,\r\n  },\r\n  {\r\n    id: 10,\r\n    name: \"Máy tính\",\r\n    category: \"Quần áo\",\r\n    price: 203,\r\n    import_price: 152,\r\n  },\r\n  {\r\n    id: 11,\r\n    name: \"Máy tính cầm ta\",\r\n    category: \"Quần áo\",\r\n    price: 223,\r\n    import_price: 152,\r\n  },\r\n  {\r\n    id: 12,\r\n    name: \"Tập vở\",\r\n    category: \"Quần áo\",\r\n    price: 203,\r\n    import_price: 154,\r\n  },\r\n  {\r\n    id: 13,\r\n    name: \"Máy tính\",\r\n    category: \"Quần áo\",\r\n    price: 1223,\r\n    import_price: 354,\r\n  },\r\n];\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Button,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n//import api\r\n\r\n// import redux\r\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n////import project\r\nimport InvoiceFilter from \"./InvoiceTool/InvoiceFilter\";\r\nimport InvoiceTableRow from \"./InvoiceTableRow/InvoiceTableRow\";\r\n//chung\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\n\r\nimport JSONdata from \"../../../assets/JsonData/invoice.json\";\r\nimport orderApi from \"../../../api/orderApi\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nconst Invoice = () => {\r\n  // fetch data here\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const dispatch = useDispatch();\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n  const [totalRows, setTotalRows] = useState(0)\r\n  // api\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n\r\n  /// search sort\r\n  const initialQuery = {\r\n    startDate: '',\r\n    endDate: '',\r\n    minDiscount: 0,\r\n    maxDiscount: 0,\r\n    minTotalAmount: 0,\r\n    maxTotalAmount: 0,\r\n    status: '',\r\n    paymentMethod: '',\r\n    orderBy: 'orders.created_at',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n  };\r\n\r\n  const handleRemoveFilter = () => {\r\n    setQuery(initialQuery)\r\n  }\r\n  const [query, setQuery] = useState(initialQuery)\r\n\r\n  //// 2. Table\r\n  //collapse\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n  const handleOpenRow = (row) => {\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  // header sort\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"id\");\r\n\r\n  //3. ToolBar\r\n  //3.2. filter\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n  const [reload, setReload] = useState(false);\r\n  const onReload = () => {\r\n    setReload(!reload);\r\n  };\r\n  const handleRequestSort = (event, property) => {\r\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n\r\n    \r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPagingState({ ...pagingState, page: 0 });\r\n  }, [reload, store_uuid, branch_uuid, query]);\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await orderApi.getAllOfBranch(\r\n          store_uuid,\r\n          branch_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query,\r\n          }\r\n        );\r\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\r\n        setTotalRows(response.total_rows)\r\n        setOrders(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (store_uuid && branch_uuid) {\r\n      loadData();\r\n    }\r\n  }, [pagingState.page, pagingState.limit, branch_uuid, query]);\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        {/* 1. ADD POP UP */}\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Hoá đơn\r\n        </Typography>\r\n\r\n        <Grid className={classes.btngroup1}>\r\n          <ButtonBase\r\n            sx={{ borderRadius: \"16px\" }}\r\n            onClick={() => {\r\n              dispatch(customizeAction.setSidebarOpen(false));\r\n              dispatch(customizeAction.setItemMenuOpen(1));\r\n            }}\r\n            component={Link}\r\n            to=\"/home/sales/cart\"\r\n          >\r\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\r\n              <Tooltip title=\"Thêm hoá đơn\">\r\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n              </Tooltip>\r\n            </Avatar>\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT*/}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      <ToolBar\r\n        dataTable={orders}\r\n        tableType={TableType.INVOICE}\r\n        textSearch={\"#, Khách, Người bán,...  \"} /*handlePrint={handlePrint}*/\r\n        handleToggleFilter={handleToggleFilter}\r\n        handlePrint={handlePrint}\r\n        \r\n        orderByOptions={[\r\n          {value: 'orders.created_at', label: 'Ngày bán'},\r\n          {value: 'total_amount', label: 'Tổng tiền bán'},\r\n        ]}\r\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\r\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n        handleRemoveFilter={handleRemoveFilter}\r\n\r\n        columnsToKeep = {[\r\n          {dbName:\"order_code\",displayName:\"Mã hoá đơn\"},\r\n          {dbName:\"customer_name\",displayName:\"Khách hàng\"},\r\n          {dbName:\"created_at\",displayName:\"Ngày bán\"},\r\n          {dbName:\"total_amount\",displayName:\"Tổng tiền hoá đơn\"},\r\n          {dbName:\"paid_amount\",displayName:\"Tiền khách đã trả\"},\r\n          {dbName:\"status\",displayName:\"Trạng thái\"},\r\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"},\r\n        ]}\r\n      />\r\n      <InvoiceFilter\r\n        openFilter={openFilter}\r\n        setQuery={setQuery}\r\n        query={query}\r\n        handleToggleFilter={handleToggleFilter}\r\n        setOrders={setOrders}\r\n      />\r\n\r\n      {/* 3. TABLE */}\r\n      {!xsScreen?<TableWrapper  pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}>\r\n        <TableHeader\r\n          classes={classes}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.InvoiceHeadCells}\r\n        />\r\n        <TableBody>\r\n          {orders.map((row, index) => {\r\n            return (\r\n              <InvoiceTableRow\r\n                key={row.uuid}\r\n                row={row}\r\n                openRow={openRow}\r\n                handleOpenRow={handleOpenRow}\r\n                onReload={onReload}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>:\r\n          orders.map((row, index) => {\r\n            return (\r\n              // <InvoiceTableRow\r\n              //   key={row.uuid}\r\n              //   row={row}\r\n              //   openRow={openRow}\r\n              //   handleOpenRow={handleOpenRow}\r\n              //   onReload={onReload}\r\n              // />\r\n              <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \r\n             totalCost={row.total_amount}  id={row.order_code} partnerName={row.customer_name} date={row.paid_date} \r\n             typeBill={\"Hoá đơn\"}/>\r\n            );\r\n          })\r\n        }\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ComponentToPrint orders={orders} classes={classes} />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Invoice;\r\n\r\nconst ComponentToPrint = ({ orders, classes }) => {\r\n  return (\r\n    <div>\r\n      <Typography\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 20,\r\n          fontWeight: 500,\r\n          margin: 30,\r\n          color: \"#000\",\r\n        }}\r\n      >\r\n        Danh sách hoá đơn\r\n      </Typography>\r\n      <div>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.InvoiceHeadCells}\r\n        />\r\n        <TableBody>\r\n          {orders.map((row, index) => {\r\n            return <InvoiceTableRow key={row.uuid} row={row} />;\r\n          })}\r\n        </TableBody>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\nimport { useSelector } from 'react-redux';\r\nimport { useFormik } from 'formik';\r\nimport moment from 'moment'\r\nimport refundApi from '../../../../api/refundApi';\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst InvoiceReturnFilter = (props) => {\r\n  const {handleToggleFilter,openFilter, setRefunds} =props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      startDate: '',\r\n      endDate: '',\r\n      orderCode: '',\r\n      minTotalAmount: 0,\r\n      maxTotalAmount: 0,\r\n      status: 'debt',\r\n      paymentMethod: '',\r\n    },\r\n    onSubmit: async values => {\r\n      console.log(values)\r\n      const res = await refundApi.searchRefund(store_uuid, branch_uuid, values)\r\n      setRefunds(res.data)\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Drawer\r\n      anchor=\"right\"\r\n      onClose={handleToggleFilter}\r\n      open={openFilter}\r\n      classes={{\r\n        paper: classes.drawerPaper,\r\n      }}\r\n      className={classes.drawer}\r\n    >\r\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\r\n      {/* Giao hàng, dia chi giao ???*/}\r\n      {/* tiền giảm ???*/}\r\n\r\n\r\n      {/* 1.Ngay from-to */}\r\n      <Typography variant=\"h5\" className={classes.text} >Mã hoá đơn:</Typography>\r\n      <TextField \r\n        id=\"orderCode\" label=\"Mã hoá đơn\" type=\"text\" name=\"orderCode\"\r\n        defaultValue={formik.values.orderCode} \r\n        variant=\"outlined\" size=\"small\" \r\n        fullWidth className={classes.textField} \r\n        InputLabelProps={{ shrink: true }} \r\n        value={formik.values.orderCode}  \r\n        onChange={formik.handleChange}\r\n      />\r\n\r\n      <Typography variant=\"h5\" className={classes.text} >Ngày tạo:</Typography>\r\n      <TextField id=\"startDate\" label=\"Từ\" \r\n        type=\"date\" \r\n        name=\"startDate\"\r\n        defaultValue={formik.values.startDate} \r\n        variant=\"outlined\" size=\"small\" fullWidth \r\n        className={classes.textField} \r\n        InputLabelProps={{ shrink: true }} \r\n        value={formik.values.startDate} \r\n        onChange={formik.handleChange}\r\n      />\r\n      <TextField \r\n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\r\n        defaultValue={formik.values.endDate} \r\n        variant=\"outlined\" size=\"small\" \r\n        fullWidth className={classes.textField} \r\n        InputLabelProps={{ shrink: true }} \r\n        value={formik.values.endDate}  \r\n        onChange={formik.handleChange}\r\n      />\r\n     \r\n\r\n      {/* 2.Tien from-to*/}\r\n      <Typography variant=\"h5\" className={classes.text} >Tiền đơn trả:</Typography>\r\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        name=\"minTotalAmount\"\r\n        value={formik.values.minTotalAmount}\r\n        onChange={formik.handleChange}\r\n        // value={formik.values.minTotalAmount}\r\n      // onChange={(e) =>\r\n      //   setProductInfo({\r\n      //     ...productInfo,\r\n      //     importedPrice: e.target.value,\r\n      //   })\r\n      // }\r\n      />\r\n      <VNDInput \r\n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\r\n        required label=\"Đến\" variant=\"outlined\" \r\n        fullWidth size=\"small\" className={classes.textField}\r\n        value={formik.values.maxTotalAmount}\r\n        onChange={formik.handleChange}\r\n      // onChange={(e) =>\r\n      //   setProductInfo({\r\n      //     ...productInfo,\r\n      //     importedPrice: e.target.value,\r\n      //   })\r\n      // }\r\n      />\r\n\r\n      \r\n\r\n\r\n\r\n      {/* 4.Chi nhanh */}\r\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\r\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\r\n      </Select>\r\n      </FormControl> */}\r\n\r\n\r\n\r\n      {/* 5.Trang thai */}\r\n      <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n        className={classes.formControl}\r\n        fullWidth\r\n        size=\"small\"\r\n        variant=\"outlined\"\r\n      >\r\n        <Select\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          id=\"status\"\r\n          name=\"status\"\r\n          size=\"small\"\r\n          onChange={formik.handleChange}\r\n          // label=\" Chi nhánh\"\r\n          value={formik.values.status}\r\n        >\r\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\r\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n\r\n\r\n\r\n      {/* 5.Pttt */}\r\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\r\n      <FormControl\r\n        className={classes.formControl}\r\n        fullWidth\r\n        size=\"small\"\r\n        variant=\"outlined\"\r\n      >\r\n        <Select\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          id=\"paymentMethod\" name=\"paymentMethod\"\r\n          size=\"small\"\r\n          onChange={formik.handleChange}\r\n          // label=\" Chi nhánh\"\r\n          value={formik.values.paymentMethod}\r\n        >\r\n          <MenuItem value=\"card\">Thẻ</MenuItem>\r\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n\r\n      {/* BUTTON */}\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={formik.handleSubmit}\r\n        style={{ marginTop: 30 }}>\r\n        Lọc\r\n      </Button>\r\n\r\n\r\n\r\n    </Drawer>\r\n  )\r\n}\r\n\r\nexport default InvoiceReturnFilter\r\n\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\n\r\nimport { TableCell, TableRow } from '@material-ui/core';\r\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle';\r\n\r\nimport InvoiceReturnDetail from './InvoiceReturnDetail/InvoiceReturnDetail';\r\nimport { VNDFormat } from '../../../../components/TextField/NumberFormatCustom';\r\n\r\nfunction InvoiceReturnTableRow(props) {\r\n  const { row, handleOpenRow, openRow } = props;\r\n  const classes = useRowStyles();\r\n  return (\r\n    <>\r\n      {/* ROW */}\r\n      <TableRow\r\n        onClick={() => handleOpenRow(row.uuid)}\r\n        key={row.uuid}\r\n        className={clsx(classes.row, (openRow === row.uuid) ? classes.rowClicked : null)}\r\n      >\r\n        <TableCell align=\"left\">{row.refund_code}</TableCell>\r\n        <TableCell align=\"left\" className={classes.fontName}>{row.created_at}</TableCell>\r\n        <TableCell align=\"left\" style={{ minWidth: 100 }} className={classes.fontName}>{row.customer_name}</TableCell>\r\n        <TableCell align=\"left\">{row.branch_name}</TableCell>\r\n        <TableCell align=\"left\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell>\r\n        <TableCell align=\"center\" className={classes.fontName}><VNDFormat value={row.total_amount}/></TableCell>\r\n        {/* <TableCell align=\"right\" ></TableCell>\r\n        <TableCell align=\"right\" ></TableCell> */}\r\n        \r\n      </TableRow>\r\n\r\n      {/* DETAIL */}\r\n      <TableRow>\r\n        {/* colspan  => số cột trong collapse */}\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\r\n          <InvoiceReturnDetail parentProps={props}/>\r\n        </TableCell>\r\n\r\n      </TableRow>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InvoiceReturnTableRow;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n// import style\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Button,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n// import lib\r\nimport { useReactToPrint } from \"react-to-print\";\r\n// import api\r\n\r\n// import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n/// /import project\r\n// riêng\r\nimport InvoiceReturnFilter from \"./InvoiceReturnTool/InvoiceReturnFilter\";\r\nimport InvoiceReturnTableRow from \"./InvoiceReturnTableRow/InvoiceReturnTableRow\";\r\n// chung\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\nimport refundApi from \"../../../api/refundApi\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nfunction InvoiceReturn() {\r\n  // fetch data here\r\n  const invoiceReturnList = [];\r\n  const [refunds, setRefunds] = useState([]);\r\n  // api\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  /// / 2. Table\r\n\r\n  // collapse\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n  const handleOpenRow = (row) => {\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  // // header sort\r\n  // const [order, setOrder] = React.useState('asc');\r\n  // const [orderBy, setOrderBy] = React.useState('id');\r\n\r\n  const initialQuery = {\r\n    startDate: '',\r\n    endDate: '',\r\n    minDiscount: 0,\r\n    maxDiscount: 0,\r\n    minTotalAmount: 0,\r\n    maxTotalAmount: 0,\r\n    status: '',\r\n    paymentMethod: '',\r\n    orderBy: 'refunds.created_at',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n  };\r\n\r\n  const handleRemoveFilter = () => {\r\n    setQuery(initialQuery)\r\n  }\r\n  \r\n\r\n  const handleRequestSort = (event, property) => {\r\n    /// / (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n  };\r\n\r\n  // 3. ToolBar\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n  // 3.1. search\r\n\r\n  // 3.2. filter\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n\r\n  // 3.3. loc cot\r\n\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const [query, setQuery] = useState(initialQuery)\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n  const [totalRows, setTotalRows] = useState(0)\r\n  useEffect(() => {\r\n    setPagingState({ ...pagingState, page: 0 });\r\n  }, [reload, store_uuid, branch_uuid, query]);\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await refundApi.getAllOfBranch(\r\n          store_uuid,\r\n          branch_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query\r\n          }\r\n        );\r\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\r\n        setTotalRows(response.total_rows)\r\n        setRefunds(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (store_uuid && branch_uuid) {\r\n      loadData();\r\n    }\r\n  }, [pagingState.page, pagingState.limit, store_uuid, branch_uuid, query]);\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Đơn trả\r\n        </Typography>\r\n      </Grid>\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT */}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      <ToolBar\r\n        dataTable={refunds}\r\n        tableType={TableType.INVOICE_RETURN}\r\n        textSearch=\"#,#hđ, Khách, Người trả,...  \" /* handlePrint={handlePrint} */\r\n        handlePrint={handlePrint}\r\n        handleToggleFilter={handleToggleFilter}\r\n\r\n        orderByOptions={[\r\n          {value: 'refunds.created_at', label: 'Ngày nhập'},\r\n          {value: 'refunds.total_amount', label: 'Tổng tiền tra'},\r\n        ]}\r\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\r\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n        handleRemoveFilter={handleRemoveFilter}\r\n      />\r\n      <InvoiceReturnFilter\r\n        openFilter={openFilter}\r\n        handleToggleFilter={handleToggleFilter}\r\n        setRefunds={setRefunds}\r\n      />\r\n      {/* 3. TABLE */}\r\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}>\r\n        <TableHeader\r\n          classes={classes}\r\n          // order={order}\r\n          // orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.InvoiceReturnHeadCells}\r\n        />\r\n        <TableBody>\r\n          {refunds.map((row, index) => (\r\n            <InvoiceReturnTableRow\r\n              key={row.uuid}\r\n              row={row}\r\n              openRow={openRow}\r\n              handleOpenRow={handleOpenRow}\r\n            />\r\n          ))}\r\n        </TableBody>\r\n      </TableWrapper>:\r\n          refunds.map((row, index) => (\r\n            // <InvoiceReturnTableRow\r\n            //   key={row.uuid}\r\n            //   row={row}\r\n            //   openRow={openRow}\r\n            //   handleOpenRow={handleOpenRow}\r\n            // />\r\n            <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \r\n          totalCost={row.total_amount}  id={row.refund_code} partnerName={row.customer_name} date={row.created_at} \r\n          typeBill={\"Đơn trả\"}/>\r\n\r\n          ))\r\n          }\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ComponentToPrint refunds={refunds} classes={classes} />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default InvoiceReturn;\r\n\r\nconst ComponentToPrint = ({ refunds, classes }) => {\r\n  return (\r\n    <div>\r\n      <Typography\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 20,\r\n          fontWeight: 500,\r\n          margin: 30,\r\n          color: \"#000\",\r\n        }}\r\n      >\r\n        Danh sách đơn trả\r\n      </Typography>\r\n      <div>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.InvoiceReturnHeadCells}\r\n        />\r\n        <TableBody>\r\n          {refunds.map((row, index) => {\r\n            return <InvoiceReturnTableRow key={row.uuid} row={row} />;\r\n          })}\r\n        </TableBody>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport Cart from './Cart/Cart';\r\nimport Invoice from './Invoice/Invoice'\r\nimport InvoiceReturn from './InvoiceReturn/InvoiceReturn'\r\n\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst SalesView = (props) => {\r\n  const { path} = useRouteMatch();\r\n  const permissions = useSelector((state) => state.info.user.permissions);\r\n  return (\r\n      <Switch>\r\n        <Route exact path={path} >\r\n          <Redirect to ={permissions?.find((p) => p.name === \"sales\") ? `${path}/cart` : \"/home\"} />\r\n        </Route>\r\n        <Route exact path={`${path}/cart`} component={Cart} />\r\n        <Route path={`${path}/invoice`} component={Invoice} />\r\n        <Route path={`${path}/invoice-return`} component={InvoiceReturn} />     \r\n    </Switch>\r\n\r\n  );\r\n};\r\n\r\nexport default SalesView;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport supplierApi from \"../../../../api/supplierApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n//import project\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Dialog,\r\n  Box,\r\n  Paper,\r\n  IconButton,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\r\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst UploadImages = (img) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 70,\r\n        width: 70,\r\n        marginLeft: 7,\r\n        marginRight: 7,\r\n        borderRadius: 2,\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n  );\r\n};\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {},\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nconst AddSupplier = (props) => {\r\n  const { handleClose, open } = props;\r\n  // tam thoi\r\n  const statusState = \"Success\";\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [image, setImage] = useState([]);\r\n  const [display, setDisplay] = useState([]);\r\n  const addImageHandler = (e) => {    \r\n    console.log(e.target.files[0]);\r\n    console.log(URL.createObjectURL(e.target.files[0]));\r\n    setImage(e.target.files[0]);\r\n    setDisplay(URL.createObjectURL(e.target.files[0]));\r\n  };\r\n\r\n  const supplierFormik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      address: \"\",\r\n      company:\"\",\r\n      paymentInfo:\"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên nhà cung cấp\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\r\n      address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\r\n    }),\r\n  })\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const clearImage = () => {\r\n    setDisplay([]);\r\n    setImage([]);\r\n  };\r\n  const dispatch = useDispatch();\r\n  const handleAddSupplier = async () => {\r\n    handleCloseAndReset()\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"name\", supplierFormik.values.name.toString());\r\n      bodyFormData.append(\"email\", supplierFormik.values.email.toString());\r\n      bodyFormData.append(\"phone\", supplierFormik.values.phone.toString());\r\n      bodyFormData.append(\"payment_info\", supplierFormik.values.paymentInfo.toString());\r\n      bodyFormData.append(\"payment_info\", supplierFormik.values.company.toString());\r\n      bodyFormData.append(\"address\", supplierFormik.values.address.toString());\r\n      bodyFormData.append(\"image\", image);\r\n\r\n      await supplierApi.createSupplier(\r\n        store_uuid,\r\n        bodyFormData\r\n      );\r\n      dispatch(statusAction.successfulStatus(\"Tạo nhà cung cấp thành công\"));\r\n      props.onReload();\r\n    } catch (err) {\r\n      dispatch(statusAction.failedStatus(\"Tạo nhà cung cấp thất bại\"));\r\n      console.log(err);\r\n    }\r\n    handleCloseAndReset()\r\n  };\r\n  const handleCloseAndReset =() =>{\r\n    handleClose()\r\n    setImage([])\r\n    setDisplay([])\r\n    supplierFormik.resetForm()\r\n  } \r\n  return (\r\n    // <SimpleModal\r\n    //   open={open}\r\n    //   handleClose={handleCloseAndReset}\r\n    //   aria-labelledby=\"form-dialog-title\"\r\n    // >\r\n    //   <Box style={{ width: 550, maxWidth: \"100%\" }}>\r\n    //     <Typography className={classes.headerTitle} variant=\"h5\" gutterBottom>\r\n    //       Thêm nhà cung cấp\r\n    //     </Typography>\r\n    <Dialog open={open} onClose={handleCloseAndReset} >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Thêm nhà cung cấp\r\n        </Typography>\r\n\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n        {/* <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n          {display.length ? (\r\n            <Tooltip title=\"Xóa hình ảnh\">\r\n              <Button size=\"small\" onClick={() => clearImage()}>\r\n                <Box\r\n                  component=\"img\"\r\n                  sx={{\r\n                    height: 70,\r\n                    width: 70,\r\n                    marginLeft: 7,\r\n                    marginRight: 7,\r\n                    borderRadius: 2,\r\n                  }}\r\n                  src={display}\r\n                />\r\n              </Button>\r\n            </Tooltip>\r\n          ) : (\r\n            <UploadImages />\r\n          )}\r\n\r\n          <input\r\n            accept=\"image/*\"\r\n            className={classes.input}\r\n            id=\"icon-button-file\"\r\n            type=\"file\"\r\n            onChange={addImageHandler}\r\n          />\r\n          {display.length === 0 ? (\r\n            <label htmlFor=\"icon-button-file\">\r\n              <IconButton\r\n                color=\"primary\"\r\n                aria-label=\"upload picture\"\r\n                component=\"span\"\r\n              >\r\n                <PhotoCamera />\r\n              </IconButton>\r\n            </label>\r\n          ) : null}\r\n        </Box> */}\r\n\r\n        <Grid container spacing={2} style={{ marginTop: 10 }}>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              required\r\n              id=\"outlined-basic\"\r\n              label=\"Tên nhà cung cấp\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name = \"name\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.name}\r\n              error={supplierFormik.touched.name && supplierFormik.errors.name}\r\n              helperText={supplierFormik.touched.name ? supplierFormik.errors.name : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              required\r\n              id=\"outlined-basic\"\r\n              label=\"Địa chỉ\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name= \"address\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.address}\r\n              error={supplierFormik.touched.address && supplierFormik.errors.address}\r\n              helperText={supplierFormik.touched.address ? supplierFormik.errors.address : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Số điện thoại\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n              required\r\n              name=\"phone\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.phone}\r\n              error={supplierFormik.touched.phone && supplierFormik.errors.phone}\r\n              helperText={supplierFormik.touched.phone ? supplierFormik.errors.phone : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={8}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Email\"\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n              name = \"email\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.email}\r\n              error={supplierFormik.touched.email && supplierFormik.errors.email}\r\n              helperText={supplierFormik.touched.email ? supplierFormik.errors.email : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Tên công ty\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name = \"company\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.company}\r\n              error={supplierFormik.touched.company && supplierFormik.errors.company}\r\n              helperText={supplierFormik.touched.company ? supplierFormik.errors.company : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Thông tin thanh toán\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name = \"paymentInfo\"\r\n              onChange={supplierFormik.handleChange}\r\n              value={supplierFormik.values.paymentInfo}\r\n              error={supplierFormik.touched.paymentInfo && supplierFormik.errors.paymentInfo}\r\n              helperText={supplierFormik.touched.paymentInfo ? supplierFormik.errors.paymentInfo : null}\r\n              onBlur={supplierFormik.handleBlur}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        </div>\r\n      </DialogContent>\r\n        <DialogActions>\r\n        {/* <Grid\r\n          item\r\n          xs={12}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"flex-end\",\r\n            marginTop: 20,\r\n          }}\r\n        > */}\r\n          <Button\r\n            onClick={handleCloseAndReset}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n          >\r\n            Huỷ\r\n          </Button>\r\n          <Button\r\n            style={{ marginLeft: 10 }}\r\n            onClick={handleAddSupplier}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            disabled = {!(supplierFormik.isValid && Object.keys(supplierFormik.touched).length > 0)}\r\n          >\r\n            Thêm\r\n          </Button>\r\n        {/* </Grid> */}\r\n      {/* </Box>\r\n    </SimpleModal> */}\r\n    </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddSupplier;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  useTheme,\r\n  withStyles,\r\n  makeStyles,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nimport supplierApi from \"../../api/supplierApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { render } from \"sass\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    input: {\r\n      borderRadius: \"20px\",\r\n    },\r\n  })\r\n);\r\n\r\nconst CustomTextField = withStyles({\r\n  root: {\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": {\r\n        borderRadius: 14,\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\nconst SearchSupplier = (props) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  // const [selectedOption, setSelectedOption] = useState(props.selectedSupplier);\r\n  // const [options, setOptions] = React.useState([]);\r\n\r\n  // redux\r\n  // const info = useSelector((state) => state.info);\r\n  // const store_uuid = info.store.uuid;\r\n\r\n  useEffect(() => {\r\n    // loadingData();\r\n  }, []);\r\n\r\n  // const loadingData = async () => {\r\n  //   const response = await supplierApi.getSuppliers(store_uuid);\r\n  //   setOptions(response.data)\r\n  //   setSelectedOption(response.data[0]);\r\n  //   props.handleSearchBarSelect(response.data[0])\r\n  // };\r\n\r\n  const renderOption = (option) => {\r\n    //display value in Popper elements\r\n    return (\r\n      <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\">\r\n        <Typography variant=\"h5\">{option.name}</Typography>\r\n        <Typography variant=\"body1\">{option.phone}</Typography>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const renderInput = (params) => (\r\n    <TextField\r\n      {...params}\r\n      fullWidth\r\n      placeholder=\"Tìm nhà cung cấp\"\r\n      margin=\"normal\"\r\n      InputProps={\r\n        props.selectedSupplier\r\n          ? {\r\n              ...params.InputProps,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: grey[500] }} />\r\n                </InputAdornment>\r\n              ),\r\n              endAdornment: (\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  size=\"small\"\r\n                  onClick={props.handleClickOpen}\r\n                  style={{ marginRight: -30 }}\r\n                >\r\n                  <AddIcon />\r\n                </IconButton>\r\n              ),\r\n            }\r\n          : {\r\n              ...params.InputProps,\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: grey[500] }} />\r\n                </InputAdornment>\r\n              ),\r\n\r\n              endAdornment: (\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  size=\"small\"\r\n                  onClick={props.handleClickOpen}\r\n                  style={{ marginRight: -30 }}\r\n                >\r\n                  <AddIcon />\r\n                </IconButton>\r\n              ),\r\n            }\r\n      }\r\n    />\r\n  );\r\n\r\n  const getOptionLabel = (option) => (option.name ? option.name : \"\");\r\n\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <Autocomplete\r\n        freeSolo \r\n        value={props.selectedSupplier}\r\n        options={props.suppliers.filter(item => item.status ==='active')}\r\n        getOptionLabel={getOptionLabel}\r\n        onChange={(event, value) => {\r\n          if (value) {\r\n            // setSelectedOption(value);\r\n            props.handleSearchBarSelect(value);\r\n          }\r\n        }}\r\n        renderInput={renderInput}\r\n        renderOption={renderOption}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchSupplier;\r\n","import React from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  Card,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  DialogActions,\r\n  DialogContent,\r\n  IconButton,\r\n  Button,\r\n  Dialog,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  Radio,\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport AddSupplier from \"../../../../views/InventoryView/Supplier/AddSupplier/AddSupplier\";\r\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\r\nimport {\r\n  VNDFormat,\r\n  ThousandFormat,\r\n} from \"../../../TextField/NumberFormatCustom\";\r\nimport SearchSupplier from \"../../../SearchBar/SearchSupplier\";\r\n\r\n//import project\r\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nimport SupplierData from \"../../../../assets/JsonData/supplier.json\";\r\nimport supplierApi from \"../../../../api/supplierApi\";\r\nimport { CardTravelTwoTone } from \"@material-ui/icons\";\r\nimport BranchSelect from \"../../BranchSelect/BranchSelect\";\r\nimport moment from \"moment\";\r\n// update state\r\nimport update from \"immutability-helper\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    marginBox: {\r\n      marginTop: 30,\r\n    },\r\n    marginRow: {\r\n      marginTop: 5,\r\n    },\r\n    hidden: {\r\n      display: \"none\",\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n  })\r\n);\r\nconst ImportSummary = (props) => {\r\n  const {\r\n    cartData,\r\n    handleSelectSupplier,\r\n    currentSupplier,\r\n    handleUpdateDiscount,\r\n    handleUpdatePaidAmount,\r\n    handleUpdatePaymentMethod,\r\n    handleConfirm,\r\n    currentBranch,\r\n    suppliers,\r\n    mode,\r\n    reloadSuppliers,\r\n  } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n  const handleClose = (status) => {\r\n    if (status === \"Success\") {\r\n      dispatch(statusAction.successfulStatus(\"Thêm nhà cung cấp thành công\"));\r\n      reloadSuppliers();\r\n      setOpen(false);\r\n    } else if (status === \"Failure\") {\r\n      dispatch(statusAction.failedStatus(\"Thêm nhà cung cấp thất bại\"));\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleChangePayment = (event) => {\r\n    handleUpdatePaymentMethod(event.target.value);\r\n  };\r\n\r\n  //mode 2: popup\r\n  const [openPopUp, setOpenPopUp] = React.useState(false);\r\n  const handleClickOpenPopUp = () => {\r\n    setOpenPopUp(true);\r\n  };\r\n\r\n  const handleClosePopUp = () => {\r\n    setOpenPopUp(false);\r\n  };\r\n\r\n  function calculateTotalQuantity ( cartList ) {\r\n    var value= 0\r\n    cartList.map(item => value +=item.quantity )\r\n    return value\r\n  }\r\n  return (\r\n    <Box style={{ padding: 30, minHeight: \"80vh\" }}>\r\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n          {/* 1. BASIC INFO */}\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"flex-start\"\r\n          >\r\n            <Typography variant=\"h5\">Chi nhánh</Typography>\r\n            <Typography variant=\"body2\">{currentBranch.name}</Typography>\r\n            {/* <BranchSelect \r\n                            setSelectedBranch={setSelectedBranch}\r\n                            selectedBranch={selectedBranch}\r\n                        /> */}\r\n          </Grid>\r\n\r\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\r\n            <Typography variant=\"body2\">\r\n              {new Date().toLocaleDateString(\"es-US\")}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              {new Date().toLocaleTimeString()}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <div style={{ width: \"100%\" }}>\r\n          <SearchSupplier\r\n            suppliers={suppliers}\r\n            handleClickOpen={handleClickOpen}\r\n            selectedSupplier={\r\n              currentSupplier ? currentSupplier : { name: \"\", phone: \"\" }\r\n            }\r\n            handleSearchBarSelect={handleSelectSupplier}\r\n          />\r\n        </div>\r\n\r\n        <AddSupplier\r\n          open={open}\r\n          handleClose={handleClose}\r\n          onReload={() => {}}\r\n        />\r\n\r\n        {/* when change mode to menu product */}\r\n        {props.children}\r\n\r\n        {/* 2. PAYMENT INFO  */}\r\n        {!mode ? (\r\n          <>\r\n            {/* 2.1 Mode 1 */}\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginBox}\r\n            >\r\n              <Typography variant=\"h5\">Tổng SL sản phẩm ({cartData.cartItem.length}) </Typography>\r\n              <Typography variant=\"body2\">\r\n                <ThousandFormat\r\n                  // value={cartData.cartItem.length}\r\n                  value={calculateTotalQuantity(cartData.cartItem)}\r\n                ></ThousandFormat>\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Tổng tiền hàng</Typography>\r\n              <Typography variant=\"body2\">\r\n                <VNDFormat value={cartData.total_amount} />\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Giảm giá</Typography>\r\n              <VNDInput\r\n                id=\"standard-basic\"\r\n                style={{ width: 90 }}\r\n                value={cartData.discount}\r\n                size=\"small\"\r\n                inputProps={{ style: { textAlign: \"right\" } }}\r\n                onChange={(e) => handleUpdateDiscount(e.target.value)}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Tổng tiền</Typography>\r\n              <Typography variant=\"body2\">\r\n                <VNDFormat\r\n                  style={{ color: \"#2096f3\", fontWeight: 500 }}\r\n                  value={cartData.total_amount - cartData.discount}\r\n                />\r\n              </Typography>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Trả NCC</Typography>\r\n              <VNDInput\r\n                id=\"standard-basic\"\r\n                style={{ width: 90 }}\r\n                // defaultPrice={cartData.total_amount - cartData.discount}\r\n                // defaultPrice={(cartData.total_amount - cartData.discount).toString()}\r\n                value={cartData.paid_amount}\r\n                size=\"small\"\r\n                inputProps={{ style: { textAlign: \"right\" } }}\r\n                onChange={(e) => handleUpdatePaidAmount(e.target.value)}\r\n              />\r\n            </Grid>\r\n            { cartData.total_amount -\r\n                  cartData.discount -\r\n                  cartData.paid_amount > 0?<Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Còn lại</Typography>\r\n              {/* <VNDInput\r\n                    id=\"standard-basic\" style={{ width: 90 }}\r\n                    size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\r\n                    value={cartData.total_amount - cartData.discount - cartData.paid_amount}\r\n                /> */}\r\n              <VNDFormat\r\n                // id=\"standard-basic\" style={{ width: 90 }}\r\n                // size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\r\n                value={\r\n                  cartData.total_amount -\r\n                  cartData.discount -\r\n                  cartData.paid_amount\r\n                }\r\n              />\r\n            </Grid>:null}\r\n\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"flex-end\"\r\n              alignItems=\"center\"\r\n              className={classes.marginRow}\r\n            >\r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup\r\n                  aria-label=\"gender\"\r\n                  name=\"gender1\"\r\n                  value={cartData.payment_method}\r\n                  onChange={handleChangePayment}\r\n                >\r\n                  <Grid container direction=\"row\">\r\n                    <FormControlLabel\r\n                      labelPlacement=\"start\"\r\n                      value=\"card\"\r\n                      control={<Radio />}\r\n                      label=\"Thẻ\"\r\n                    />\r\n                    <FormControlLabel\r\n                      labelPlacement=\"start\"\r\n                      value=\"cash\"\r\n                      control={<Radio />}\r\n                      label=\"Tiền mặt\"\r\n                    />\r\n                  </Grid>\r\n                </RadioGroup>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              fullWidth\r\n              color=\"primary\"\r\n              style={{ marginTop: 40 }}\r\n              onClick={handleConfirm}\r\n            >\r\n              Nhập hàng\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          /* 2.2 Mode 2 */\r\n          <>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Tổng tiền hàng</Typography>\r\n              <Typography variant=\"body2\">500.000</Typography>\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              className={classes.marginRow}\r\n            >\r\n              <Typography variant=\"h5\">Giảm giá</Typography>\r\n              <Input.ThousandSeperatedInput\r\n                id=\"standard-basic\"\r\n                style={{ width: 90 }}\r\n                size=\"small\"\r\n                inputProps={{ style: { textAlign: \"right\" } }}\r\n              />\r\n            </Grid>\r\n            <Button\r\n              variant=\"contained\"\r\n              fullWidth\r\n              color=\"primary\"\r\n              style={{ marginTop: 20 }}\r\n              onClick={handleClickOpenPopUp}\r\n            >\r\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n                <Grid item>Thanh toán </Grid>\r\n                <Grid item>500.000 </Grid>\r\n              </Grid>\r\n            </Button>\r\n            <Dialog\r\n              open={openPopUp}\r\n              onClose={handleClosePopUp}\r\n              aria-labelledby=\"form-dialog-title\"\r\n            >\r\n              <CheckoutPopUp />\r\n            </Dialog>\r\n          </>\r\n        )}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ImportSummary;\r\n\r\nconst CheckoutPopUp = (props) => {\r\n  const { onClose, handleChangePayment, payment } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  return (\r\n    <>\r\n      <Box style={{ marginTop: 20, marginLeft: 15, marginBottom: 10 }}>\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Trả tiền NCC\r\n        </Typography>\r\n      </Box>\r\n      <DialogContent>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng tiền hàng</Typography>\r\n          <Typography variant=\"body2\">500.000</Typography>\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\" style={{ paddingRight: 50 }}>\r\n            Đã trả CNN\r\n          </Typography>\r\n          <Input.ThousandSeperatedInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 90 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Công nợ</Typography>\r\n          <Input.ThousandSeperatedInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 90 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"flex-end\"\r\n          alignItems=\"center\"\r\n          className={classes.marginRow}\r\n        >\r\n          <FormControl component=\"fieldset\">\r\n            <RadioGroup\r\n              aria-label=\"gender\"\r\n              name=\"gender1\"\r\n              value={payment}\r\n              onChange={handleChangePayment}\r\n            >\r\n              <Grid container direction=\"row\">\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"card\"\r\n                  control={<Radio />}\r\n                  label=\"Thẻ\"\r\n                />\r\n                <FormControlLabel\r\n                  labelPlacement=\"start\"\r\n                  value=\"cash\"\r\n                  control={<Radio />}\r\n                  label=\"Tiền mặt\"\r\n                />\r\n              </Grid>\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={onClose}\r\n          fullWidth\r\n          color=\"primary\"\r\n          style={{ marginTop: 40 }}\r\n        >\r\n          Thanh toán\r\n        </Button>\r\n      </DialogActions>\r\n    </>\r\n  );\r\n};\r\n","import { Button, notification, Space } from \"antd\";\r\n\r\nconst openNotification = (type, message, description) => {\r\n  notification[type]({\r\n    message: message,\r\n    description: description,\r\n    placement: \"bottomRight\",\r\n  });\r\n};\r\nexport default openNotification;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport productApi from \"../../../../api/productApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  error,\r\n  openNotification,\r\n  success,\r\n} from \"../../../../components/StatusPopup/StatusPopup\";\r\n\r\nexport default function AddBatch({ handleSubmit, handleClose, row }) {\r\n  const [batch, setBatch] = useState({\r\n    id: new Date().toString(),\r\n    batch_code: \"\",\r\n    // additional_quantity: 0,\r\n    // expiry_date: null,\r\n    additional_quantity: 1,\r\n    expiry_date: new Date().toISOString().substring(0, 10),\r\n    position: \"\",\r\n  });\r\n  return (\r\n    <Dialog open={true} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">Thêm lô mới</DialogTitle>\r\n      <DialogContent>\r\n        {/* <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          name=\"batch_code\"\r\n          label=\"Mã lô (tự động)\"\r\n          fullWidth\r\n          value={batch.batch_code}\r\n          onChange={e => setBatch({...batch, batch_code: e.target.value})}\r\n          // error={formik.touched.name && formik.errors.name}\r\n          // helperText={formik.touched.name ? formik.errors.name : null}\r\n        /> */}\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          name=\"expiry_date\"\r\n          fullWidth\r\n          // defaultValue={new Date().toISOString().substring(0, 10)}\r\n          type=\"date\"\r\n          label=\"Ngày hết hạn\"\r\n          value={batch.expiry_date}\r\n          onChange={(e) => {\r\n            setBatch({ ...batch, expiry_date: e.target.value });\r\n          }}\r\n        />\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          type=\"number\"\r\n          name=\"additional_quantity\"\r\n          label=\"Số lượng nhập\"\r\n          fullWidth\r\n          value={batch.additional_quantity}\r\n          InputProps={{ inputProps: { min: 1 } }}\r\n          onChange={(e) => {\r\n            const value = Number(e.target.value);\r\n            if (value <= 0) {\r\n              return;\r\n            } else {\r\n              setBatch({ ...batch, additional_quantity: value });\r\n            }\r\n          }}\r\n        />\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          label=\"Vị trí\"\r\n          fullWidth\r\n          value={batch.position}\r\n          onChange={(e) => setBatch({ ...batch, position: e.target.value })}\r\n          // error={formik.touched.name && formik.errors.name}\r\n          // helperText={formik.touched.name ? formik.errors.name : null}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button color=\"primary\" onClick={handleClose}>\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          disable={!batch.additional_quantity}\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            handleSubmit(batch);\r\n            handleClose();\r\n          }}\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { openNotification } from \"../../../../components/StatusPopup/StatusPopup\";\r\nimport { useState } from \"react\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport * as _ from \"lodash\";\r\n\r\nexport default function SelectBatch({ handleSubmit, handleClose, row }) {\r\n  const [selectedBatches, setSelectedBatches] = useState([]);\r\n  return (\r\n    <Dialog open={true}>\r\n      <Typography\r\n        style={{ marginTop:15, marginLeft:15 }}\r\n        variant='h3'\r\n      >{`Chọn lô của ${row.product_code} - ${row.name}`}</Typography>\r\n      <DialogContent>\r\n        <Autocomplete\r\n          options={row.batches}\r\n          getOptionLabel={(batch) =>\r\n            `${batch?.batch_code} - ${\r\n              batch?.expiry_date ? batch?.expiry_date : \"\"\r\n            } - Tồn kho: ${batch?.quantity}`\r\n          }\r\n          renderInput={(params) => (\r\n            <TextField {...params} label=\"Tìm mã lô\" variant=\"standard\" />\r\n          )}\r\n          onChange={(e, value) => {\r\n            if (value) {\r\n              setSelectedBatches(\r\n                _.uniqBy(\r\n                  [\r\n                    ...selectedBatches,\r\n                    ...[{ ...value, additional_quantity: 0, is_new: false }],\r\n                  ],\r\n                  \"batch_code\"\r\n                )\r\n              );\r\n            }\r\n          }}\r\n        />\r\n        <div style={{ marginTop: 20 }}>\r\n          {selectedBatches.map((batch) => {\r\n            return (\r\n              <div\r\n                key={batch?.batch_code}\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  gap: 10,\r\n                  border: \"2px solid #eee\",\r\n                  borderRadius: 5,\r\n                  marginBottom: 10,\r\n                  alignItems: \"center\",\r\n                  width: 500,\r\n                  justifyContent: \"space-between\",\r\n                  padding: 10,\r\n                }}\r\n              >\r\n                <Typography variant=\"h5\">{`${batch?.batch_code} - ${\r\n                  batch?.expiry_date ? batch?.expiry_date : \"\"\r\n                } - Tồn kho: ${batch?.quantity}`}</Typography>\r\n                <TextField\r\n                  type=\"number\"\r\n                  style={{ width: 100 }}\r\n                  value={batch.additional_quantity}\r\n                  onChange={(e) => {\r\n                    if (Number(e.target.value) < 0) return;\r\n                    const newSelectedList = selectedBatches.map(\r\n                      (selectedBatch) => {\r\n                        if (selectedBatch.batch_code === batch.batch_code) {\r\n                          return {\r\n                            ...selectedBatch,\r\n                            additional_quantity: Number(e.target.value),\r\n                          };\r\n                        } else {\r\n                          return selectedBatch;\r\n                        }\r\n                      }\r\n                    );\r\n                    setSelectedBatches(newSelectedList);\r\n                  }}\r\n                ></TextField>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button color=\"secondary\" onClick={handleClose}>\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            const nonZeroBatch = selectedBatches.filter(\r\n              (batch) => batch.additional_quantity\r\n            );\r\n            console.log(nonZeroBatch);\r\n            handleSubmit(nonZeroBatch);\r\n            handleClose();\r\n          }}\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\n//import style\r\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\r\n//impỏrt library\r\nimport {\r\n  Box,\r\n  TextField,\r\n  ListItem,\r\n  IconButton,\r\n  TableRow,\r\n  TableCell,\r\n  Typography,\r\n  Chip,\r\n  Button,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport { DeleteOutline } from \"@material-ui/icons\";\r\n//import project\r\nimport * as Input from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\r\nimport VNDInput from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport icon from \"../../../../assets/img/product/tch.jpeg\";\r\nimport AddBatch from \"./AddBatch\";\r\nimport SelectBatch from \"./SelectBatch\";\r\n\r\nexport const ImportRow = (props) => {\r\n  const classes = useStyles();\r\n  const {\r\n    row,\r\n    handleDeleteItemCart,\r\n    handleChangeItemQuantity,\r\n    handleChangeItemPrice,\r\n    handleUpdateBatches,\r\n  } = props;\r\n\r\n  const updateQuantity = (newQuantity) => {\r\n    handleChangeItemQuantity(row.uuid, newQuantity);\r\n  };\r\n  const [addBatchOpen, setAddBatchOpen] = useState(false);\r\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\r\n\r\n  const [selectedBatches, setSelectedBatches] = useState([]);\r\n  const handleSubmit = (newBatch) => {\r\n    setSelectedBatches([\r\n      ...selectedBatches,\r\n      ...[{ ...newBatch, is_new: true, quantity: 0 }],\r\n    ]);\r\n  };\r\n\r\n  const handleSelectBatches = (batches) => {\r\n    const newBatches = [];\r\n    selectedBatches.forEach((selectedBatch) => {\r\n      const newBatch = batches.find(\r\n        (batch) => batch.batch_code === selectedBatch.batch_code\r\n      );\r\n      if (newBatch) {\r\n        newBatches.push({\r\n          ...selectedBatch,\r\n          additional_quantity:\r\n            Number(selectedBatch.additional_quantity) +\r\n            Number(newBatch.additional_quantity),\r\n        });\r\n      } else {\r\n        newBatches.push(selectedBatch);\r\n      }\r\n    });\r\n    batches.forEach((newBatch) => {\r\n      if (\r\n        !newBatches.find((batch) => newBatch.batch_code === batch.batch_code)\r\n      ) {\r\n        newBatches.push(newBatch);\r\n      }\r\n    });\r\n    console.log(newBatches);\r\n    setSelectedBatches(newBatches);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let total = 0;\r\n    selectedBatches.forEach((batch) => {\r\n      total += Number(batch.additional_quantity);\r\n    });\r\n    console.log(total);\r\n    updateQuantity(total);\r\n    handleUpdateBatches(row.uuid, selectedBatches);\r\n  }, [selectedBatches]);\r\n\r\n  return (\r\n    <>\r\n      <TableRow hover key={props.row.uuid}>\r\n        <TableCell align=\"left\" style={{ width: 5 }}>\r\n          {row.id + 1}\r\n        </TableCell>\r\n        <TableCell align=\"left\">{row.product_code}</TableCell>\r\n        <TableCell align=\"left\" style={{ minWidth: 200 }}>\r\n          <ListItem\r\n            style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n          >\r\n            <Box\r\n              component=\"img\"\r\n              sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\r\n              src={row.img_url}\r\n            />\r\n            {row.name}\r\n          </ListItem>\r\n        </TableCell>\r\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\r\n        <TableCell align=\"right\">\r\n          <VNDInput\r\n            id=\"standard-basic\"\r\n            style={{ width: 72 }}\r\n            size=\"small\"\r\n            inputProps={{ style: { textAlign: \"right\" } }}\r\n            value={row.unit_price}\r\n            onChange={(e) =>\r\n              handleChangeItemPrice(props.row.uuid, e.target.value)\r\n            }\r\n          />\r\n        </TableCell>\r\n\r\n        {row.has_batches ? (\r\n          <TableCell align=\"center\" padding=\"none\">\r\n            {row.quantity}\r\n          </TableCell>\r\n        ) : (\r\n          <TableCell align=\"left\" padding=\"none\">\r\n            <ButtonQuantity\r\n              quantity={row.quantity}\r\n              setQuantity={updateQuantity}\r\n            />\r\n          </TableCell>\r\n        )}\r\n\r\n        <TableCell align=\"right\" className={classes.boldText}>\r\n          <VNDFormat value={row.unit_price * row.quantity} />\r\n        </TableCell>\r\n        <TableCell align=\"right\">\r\n          <IconButton aria-label=\"expand row\" size=\"small\">\r\n            <DeleteForeverOutlinedIcon\r\n              onClick={() => handleDeleteItemCart(row.uuid)}\r\n            />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n      {row.has_batches ? (\r\n        <TableRow>\r\n          <TableCell colSpan={1}></TableCell>\r\n          <TableCell colSpan={10}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", gap: 10 }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                onClick={() => setSelectBatchOpen(true)}\r\n              >\r\n                Chọn lô\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                onClick={() => setAddBatchOpen(true)}\r\n              >\r\n                Tạo lô\r\n              </Button>\r\n              {selectedBatches.map((batch) => (\r\n                <Tooltip title={`Tồn kho - ${batch.quantity}`}>\r\n                  <Chip\r\n                    label={`${\r\n                      batch?.batch_code ? batch?.batch_code : \"Mới\"\r\n                    } - ${batch?.expiry_date} - ${batch.additional_quantity}`}\r\n                    key={batch.id}\r\n                    onDelete={() => {\r\n                      const newBatches = selectedBatches.filter(\r\n                        (selectedBatch) => selectedBatch.id !== batch.id\r\n                      );\r\n                      setSelectedBatches(newBatches);\r\n                    }}\r\n                    color={batch.is_new ? \"primary\" : \"secondary\"}\r\n                    deleteIcon={<DeleteOutline />}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Tooltip>\r\n              ))}\r\n              {addBatchOpen && (\r\n                <AddBatch\r\n                  handleSubmit={handleSubmit}\r\n                  handleClose={() => setAddBatchOpen(false)}\r\n                  row={row}\r\n                />\r\n              )}\r\n              {selectBatchOpen && (\r\n                <SelectBatch\r\n                  handleSubmit={handleSelectBatches}\r\n                  row={row}\r\n                  handleClose={() => setSelectBatchOpen(false)}\r\n                />\r\n              )}\r\n            </div>\r\n          </TableCell>\r\n        </TableRow>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\nexport const ImportRowMini = ({ row }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TableRow hover key={row.id}>\r\n      <TableCell align=\"left\">\r\n        <ListItem\r\n          style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n        >\r\n          <Box\r\n            component=\"img\"\r\n            sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\r\n            src={icon}\r\n          />\r\n          <Box direction=\"column\">\r\n            <Typography\r\n              className={classes.boldText}\r\n              style={{\r\n                marginBottom: 3,\r\n                fontSize: 14.5,\r\n                width: 135,\r\n                textOverflow: \"ellipsis\",\r\n                overflow: \"hidden\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n            >\r\n              {row.name}\r\n            </Typography>\r\n            {/* <Typography>{row.price}</Typography> */}\r\n            <Input.ThousandSeperatedInput\r\n              id=\"standard-basic\"\r\n              style={{ width: 70 }}\r\n              size=\"small\"\r\n              defaultPrice={row.price}\r\n            />\r\n          </Box>\r\n        </ListItem>\r\n      </TableCell>\r\n\r\n      <TableCell align=\"left\" padding=\"none\">\r\n        <TextField\r\n          variant=\"outlined\"\r\n          defaultValue={row.quantity}\r\n          style={{ width: 37, margin: 0 }}\r\n          size=\"small\"\r\n          inputProps={{\r\n            style: { paddingLeft: 5, paddingRight: 5, textAlign: \"center\" },\r\n          }}\r\n        />\r\n      </TableCell>\r\n\r\n      <TableCell align=\"right\" className={classes.boldText}>\r\n        700.000\r\n      </TableCell>\r\n      <TableCell align=\"left\">\r\n        <IconButton\r\n          aria-label=\"expand row\"\r\n          size=\"small\"\r\n          style={{ marginLeft: -25 }}\r\n        >\r\n          <DeleteForeverOutlinedIcon />\r\n        </IconButton>\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n","import { makeStyles } from \"@material-ui/core\";\r\nexport default makeStyles((theme) => ({\r\n  margin: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  headerTitle: {\r\n    fontSize: \"1.125rem\",\r\n  },\r\n  root: {\r\n    padding: 20,\r\n  },\r\n  box: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  attrCard:{\r\n    margin:\"5px 0px 25px 0px\", \r\n    boxShadow: \"none\",border: '1px solid' , borderColor:\"#c9c9c9\"\r\n  },\r\n  attrHead:{\r\n    backgroundColor:\"#E4E4E4\", height:40, color:\"#000\"\r\n  }\r\n}));\r\n","/* eslint-disable no-use-before-define */\r\nimport React, { useRef, useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { Box, Button, Grid, InputAdornment, Typography } from \"@material-ui/core\";\r\nimport productApi from \"../../api/productApi\";\r\nimport { useEffect } from \"react\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nexport default function SearchWithAutoComplete(props) {\r\n  const {\r\n    searchApiCall,\r\n    onSelect,\r\n    renderInput,\r\n    renderOption,\r\n    getOptionLabel,\r\n    value,\r\n    nextRef,\r\n    handleDefaultSelect\r\n  } = props;\r\n  const [options, setOptions] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  const loadingData = async (e, searchKey) => {\r\n    setSearchValue(searchKey);\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchData = async (searchKey = searchValue) => {\r\n      if (searchKey !== \"\") {\r\n        try {\r\n          const key = searchKey.slice(0, searchKey.indexOf(\"(\"))\r\n          const response = await searchApiCall(key);\r\n          setOptions(response.data);\r\n          onSelect(response.data[0])\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }\r\n    };\r\n    const timer = setTimeout(() => fetchData(), 500);\r\n    return () => clearTimeout(timer);\r\n  }, [searchValue]);\r\n  return (\r\n    <Autocomplete\r\n      options={options}\r\n      freeSolo\r\n      getOptionLabel={getOptionLabel}\r\n      renderOption={renderOption}\r\n      onInputChange={loadingData}\r\n      autoSelect\r\n      getOptionSelected={(option, value) => option.bar_code === value.bar_code}\r\n      onChange={(e, value) => onSelect(value)}\r\n      size=\"small\"\r\n      renderInput={renderInput}\r\n\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Downshift from \"downshift\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  chip: {\r\n    margin: theme.spacing(0.5, 0.25)\r\n  }\r\n}));\r\n\r\nexport default function TagsInput({ ...props }) {\r\n  const classes = useStyles();\r\n\r\n  const { selectedItem, setSelectedItem, selectedTags, placeholder, tags, ...other } = props;\r\n  const [inputValue, setInputValue] = React.useState(\"\");\r\n  // const [selectedItem, setSelectedItem] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    setSelectedItem(tags);\r\n  }, [tags]);\r\n\r\n  useEffect(() => {\r\n    selectedTags(selectedItem);\r\n  }, [selectedItem, selectedTags]);\r\n  \r\n  // console.log(\"inputValue\");\r\n  // console.log(inputValue);\r\n  // console.log(\"selectedItem\");\r\n  // console.log(selectedItem);\r\n\r\n  function handleKeyDown(event) {\r\n    if (event.key === \"Enter\") {\r\n      const newSelectedItem = [...selectedItem];\r\n      const duplicatedValues = newSelectedItem.indexOf(\r\n        event.target.value.trim()\r\n      );\r\n\r\n      if (duplicatedValues !== -1) {\r\n        setInputValue(\"\");\r\n        return;\r\n      }\r\n      if (!event.target.value.replace(/\\s/g, \"\").length) return;\r\n\r\n      newSelectedItem.push(event.target.value.trim());\r\n      setSelectedItem(newSelectedItem);\r\n      setInputValue(\"\");\r\n    }\r\n    if (\r\n      selectedItem.length &&\r\n      !inputValue.length &&\r\n      event.key === \"Backspace\"\r\n    ) {\r\n      setSelectedItem(selectedItem.slice(0, selectedItem.length - 1));\r\n    }\r\n  }\r\n  function handleChange(item) {\r\n    let newSelectedItem = [...selectedItem];\r\n    if (newSelectedItem.indexOf(item) === -1) {\r\n      newSelectedItem = [...newSelectedItem, item];\r\n    }\r\n    setInputValue(\"\");\r\n    setSelectedItem(newSelectedItem);\r\n  }\r\n\r\n  const handleDelete = item => () => {\r\n    const newSelectedItem = [...selectedItem];\r\n    newSelectedItem.splice(newSelectedItem.indexOf(item), 1);\r\n    setSelectedItem(newSelectedItem);\r\n  };\r\n\r\n  function handleInputChange(event) {\r\n    setInputValue(event.target.value);\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <Downshift\r\n        id=\"downshift-multiple\"\r\n        inputValue={inputValue}\r\n        onChange={handleChange}\r\n        selectedItem={selectedItem}\r\n      >\r\n        {({ getInputProps }) => {\r\n          const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\r\n            onKeyDown: handleKeyDown,\r\n            placeholder\r\n          });\r\n          return (\r\n            <div>\r\n              <TextField\r\n                InputProps={{\r\n                  startAdornment: selectedItem.map(item => (\r\n                    <Chip\r\n                      key={item}\r\n                      tabIndex={-1}\r\n                      label={item}\r\n                      className={classes.chip}\r\n                      onDelete={handleDelete(item)}\r\n                    />\r\n                  )),\r\n                  onBlur,\r\n                  onChange: event => {\r\n                    handleInputChange(event);\r\n                    onChange(event);\r\n                  },\r\n                  onFocus\r\n                }}\r\n                {...other}\r\n                {...inputProps}\r\n              />\r\n            </div>\r\n          );\r\n        }}\r\n      </Downshift>\r\n    </React.Fragment>\r\n  );\r\n}\r\nTagsInput.defaultProps = {\r\n  tags: []\r\n};\r\nTagsInput.propTypes = {\r\n  selectedTags: PropTypes.func.isRequired,\r\n  tags: PropTypes.arrayOf(PropTypes.string)\r\n};\r\n","import React, { useEffect, useState } from 'react'\r\nimport TagsInput from \"../../../../components/TextField/TagsInput\"\r\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\r\n\r\nimport EditTwoToneIcon from '@material-ui/icons/EditTwoTone';\r\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\r\n\r\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\";\r\n\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {Button,TextField, Grid, FormControl, Select,MenuItem,Typography, ListItem} from \"@material-ui/core\";\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        marginRight: 10,\r\n        minWidth: 220,\r\n    },\r\n    row: {\r\n        margin: \"15px 20px 10px 20px\",\r\n    }\r\n\r\n}));\r\n\r\n\r\n\r\nconst AddAttribute = ({ attributeList, datas, setDatas, setRelatedList, list_price, standard_price }) => {\r\n    // console.log(\"init\", datas)\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n\r\n    function generateList   ()  {\r\n        let newArr = [...datas];\r\n\r\n        var mySet  = [];\r\n        for (let i = 0; i < newArr.length ; i++){\r\n            if(mySet.length === 0 ){\r\n                mySet= newArr[i].items\r\n              \r\n            }\r\n            else{\r\n                var _set = [];\r\n                for (let j = 0; j < mySet.length ; j++ ){\r\n                    for (let k = 0; k < newArr[i].items.length ; k++ ){\r\n                        _set.push(mySet[j].concat( ' - ',newArr[i].items[k]))\r\n                        // _set.push({name:mySet[j].concat( ' - ',newArr[i].items[k]), attList:[]})\r\n\r\n                    }\r\n                }\r\n                // console.log(\"_set\",_set)\r\n                if(_set.length !== 0) {mySet = _set}\r\n                // console.log(\"mySet\",mySet)\r\n            }\r\n         }\r\n        return mySet\r\n      }\r\n\r\n      useEffect (() =>{\r\n        var list = []\r\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\r\n        generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\r\n        setRelatedList(list)\r\n    \r\n\r\n      },[datas])\r\n\r\n    const updateFieldChanged = (index, attr) => {\r\n        let newArr = [...datas];\r\n        newArr[index].key = attr;\r\n        setDatas(newArr);\r\n\r\n    }\r\n    const updateValueChanged = (index,value)=>{\r\n        let newArr = [...datas];\r\n        newArr[index].items = value;\r\n        setDatas(newArr);\r\n        // var list = []\r\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\r\n        // setRelatedList(list)\r\n    }\r\n\r\n    const deleteAttr = (key) => {\r\n        let newArr = [...datas];\r\n        // newArr = newArr.filter(row => row.key !== key)\r\n        newArr = newArr.filter(row => row.id !== key)\r\n        setDatas(newArr);\r\n        // var list = []\r\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\r\n        // setRelatedList(list)\r\n    }\r\n\r\n    const addAttrRow = () => {\r\n        let newArr = [...datas];\r\n        newArr.push({ id:new Date(), key: \"unset\", items: []})\r\n        setDatas(newArr);\r\n    //     var list = []\r\n    //     generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\r\n    //     setRelatedList(list)\r\n    }\r\n\r\n    return (\r\n        <div style={{ marginBottom: 10 }}>\r\n            {datas.map((data, index) => {\r\n                return (\r\n                    <AttributeRow attributeList={attributeList} index={index} data={data} datas={datas} updateFieldChanged={updateFieldChanged} deleteAttr={deleteAttr}  updateValueChanged={updateValueChanged}/>\r\n                )\r\n            })}\r\n            <Button variant=\"outlined\" size=\"small\" color=\"primary\" style={{ marginLeft: 20, marginTop: 10, textTransform: \"none\" }}\r\n                startIcon={<AddIcon />}\r\n                onClick={() => addAttrRow()}>\r\n                Thêm thuộc tính\r\n            </Button>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddAttribute\r\n\r\n\r\nconst AttributeRow = ({ attributeList, data, datas, updateFieldChanged, index, deleteAttr, setDatas ,updateValueChanged}) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const [inputAttr, setInputAttr] =  useState(false)\r\n\r\n\r\n    //  popup\r\n  const [openPopupAddAttr, setOpenPopupAddAttr] = useState(false);\r\n  const [isEditPopUp, setIsEditPopUp] = useState(false);\r\n\r\n\r\n    const [value, setValue] = React.useState([]);\r\n\r\n\r\n    const handleChangeAttr = (event) => {\r\n        var valid = true;\r\n        datas.map((row)=>{if(row.key === event.target.value){valid = false}    })\r\n        console.log(\"valid\",valid )\r\n\r\n        if (valid){\r\n            updateFieldChanged(index, event.target.value)   \r\n        } else{}\r\n    };\r\n\r\n    const [selectedItem, setSelectedItem] = React.useState([]);\r\n\r\n    function handleSelecetedTags(items) {\r\n        setValue(items);\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateValueChanged(index, value)  \r\n    }, [value]);\r\n\r\n    return (\r\n        <Grid container className={classes.row} alignItems=\"center\">\r\n            <Grid container item xs={11} alignItems=\"center\" >\r\n               {!inputAttr? <FormControl className={classes.formControl}>\r\n                    <Select value={data.key} onChange={handleChangeAttr}  >\r\n                        <MenuItem value=\"unset\" selected disabled hidden>Chọn thuộc tính...</MenuItem>\r\n                        {attributeList.map((attr) => {\r\n                            return (<MenuItem value={attr.name}>{attr.name}</MenuItem>)\r\n                        })}\r\n                        {/* <MenuItem   hidden>\r\n                            <AddIcon fontSize=\"small\"style={{marginRight:5, marginLeft:-5}}/>\r\n                            <Typography style={{color:\"#000\", fontSize:12}} onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(false)}}>Tạo thuộc tính mới</Typography>\r\n                        </MenuItem> */}\r\n                    </Select>\r\n\r\n                </FormControl>:\r\n                <TextField\r\n                style={{width:230}}\r\n                        value={data.key}\r\n                        onChange={handleChangeAttr}\r\n                />\r\n                                /* <EditTwoToneIcon style={{ marginRight: 60 }}  onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(true)}}/> */\r\n                    }\r\n                {inputAttr === false ?\r\n                <AddIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(true); updateFieldChanged(index, '')    }} />:    \r\n                <RemoveIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(false);updateFieldChanged(index, '')  }} />\r\n                }\r\n                <TagsInput style={{ minWidth: 270 }} selectedTags={handleSelecetedTags} selectedItem={selectedItem} setSelectedItem={setSelectedItem} placeholder=\"Nhấn giá trị và enter\"\r\n                />\r\n            </Grid>\r\n\r\n            <Grid container item xs={1} >\r\n                {/* <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.key) }} /> */}\r\n                <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.id) }} />\r\n            </Grid>\r\n\r\n            <ModalWrapperWithClose     \r\n                open={openPopupAddAttr}\r\n                handleClose={() => setOpenPopupAddAttr(false)}\r\n                title={isEditPopUp? \"Sửa thuộc tính\" :\"Thêm thuộc tính\"}\r\n            >\r\n                 <Grid container alignItems=\"center\" style={{margin:\"20px 10px 30px 10px\"}}>\r\n                    <Typography style={{marginRight:40, color:\"#000\", fontWeight:500}}>Tên thuộc tính:  </Typography> \r\n                    <TextField />\r\n                 </Grid>\r\n                 {isEditPopUp?\r\n                    //  Edit, Delete\r\n                    // null\r\n                    <div style={{flexGrow: 1,textAlign: \"right\"}}>\r\n                        <Button size=\"small\" variant=\"contained\" color=\"secondary\">Xoá</Button>\r\n                        <Button size=\"small\" variant=\"contained\" color=\"primary\" style={{marginLeft:10}}>Sửa</Button>\r\n                    </div>\r\n                    :\r\n                    // add\r\n                    <Button style={{flexGrow: 1,textAlign: \"center\"}} variant=\"contained\" color=\"primary\">Thêm</Button>               \r\n                }       \r\n            </ModalWrapperWithClose>\r\n\r\n        </Grid>\r\n    )\r\n}\r\n","import React, {useEffect} from 'react'\r\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\r\n\r\nimport {Button, Grid, TextField,FormControl,TableRow,TableCell,Divider,TableBody, Select,MenuItem, Typography} from \"@material-ui/core\";\r\nimport clsx from \"clsx\"\r\nimport {ThousandFormat, ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\r\nimport TableWrapper from '../../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport TableHeader  from '../../../../components/TableCommon/TableHeader/TableHeader'\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        marginRight: 10,\r\n        minWidth: 220,\r\n    },\r\n    row: {\r\n        margin: \"15px 20px 10px 20px\",\r\n    }\r\n\r\n}));\r\n\r\nconst RelaltedItemList = ({relatedList, setRelatedList , list_price,standard_price}) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0, attribute_values}\r\n\r\n\r\n\r\n\r\n\r\n    const handleDelete = (index)=> {\r\n        var newArr = [...relatedList];\r\n        newArr = newArr.filter(row => row.name !== index)\r\n        setRelatedList(newArr)\r\n    }\r\n\r\n    const handleChangeProperties = (index, property, newValue) => {\r\n        const newArr = relatedList.map(row => {\r\n            if (row.name === index) {\r\n                const newRow = {...row}\r\n                newRow[property] = newValue;\r\n                return newRow;\r\n            } else {\r\n                return row\r\n            }\r\n        })\r\n        console.log(newArr)\r\n        setRelatedList(newArr);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n           <TableWrapper isCart={true}>\r\n                <TableHeader\r\n                    classes={classes}\r\n                    headerData={CustomerHeadCells}\r\n                />\r\n                <TableBody>\r\n                {relatedList.map((row, index) => {\r\n                    return (\r\n\r\n                      <TableRow>\r\n                        <TableCell align=\"center\">{row.name}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <TextField\r\n                            value={row.product_code}\r\n                            onChange={(e) =>\r\n                              handleChangeProperties(\r\n                                row.name,\r\n                                \"product_code\",\r\n                                e.target.value\r\n                              )\r\n                            }\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <TextField\r\n                            value={row.bar_code}\r\n                            onChange={(e) =>\r\n                              handleChangeProperties(\r\n                                row.name,\r\n                                \"bar_code\",\r\n                                e.target.value\r\n                              )\r\n                            }\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <ThousandSeperatedInput\r\n                            value={row.standard_price}\r\n                            onChange={(e) =>{\r\n                              handleChangeProperties(\r\n                                row.name,\r\n                                \"standard_price\",\r\n                                e.target.value\r\n                              )}\r\n                            }\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <ThousandSeperatedInput\r\n                            value={row.list_price}\r\n                            onChange={(e) => {\r\n                                handleChangeProperties(\r\n                                  row.name,\r\n                                  \"list_price\",\r\n                                  e.target.value\r\n                                )\r\n                            }\r\n                            }\r\n                          />\r\n                        </TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <DeleteForeverTwoToneIcon\r\n                            onClick={() => handleDelete(row.name)}\r\n                          />\r\n                        </TableCell>\r\n                      </TableRow>\r\n\r\n                    );\r\n                })}\r\n                </TableBody>\r\n            </TableWrapper>\r\n            \r\n          \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default RelaltedItemList\r\n\r\n\r\nconst CustomerHeadCells = [\r\n    { id: 'name', align: 'center', disablePadding: true, label: 'Tên' },\r\n    { id: 'product_code', align: 'center', disablePadding: true, label: 'Mã hàng' }, \r\n    { id: 'bar_code', align: 'center', disablePadding: true, label: 'Mã vạch' },  \r\n    { id: 'standard_price', align: 'center', disablePadding: true, label: 'Giá vốn' },\r\n    { id: 'unit_price', align: 'center', disablePadding: true, label: 'Giá bán' },\r\n    { id: 'action', align: 'center', disablePadding: true, label: '' },\r\n];\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Box,\r\n  InputAdornment,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  IconButton,\r\n  Tooltip,\r\n  Dialog,\r\n  FormControlLabel,\r\n  Switch,\r\n  Collapse,\r\n  Paper,\r\n  Card,\r\n  CardHeader,\r\n  Checkbox,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n//import project\r\nimport VNDInput, { ThousandSeperatedInput } from \"../../../../components/TextField/NumberFormatCustom\";\r\n// import img\r\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\r\nimport barcodeIcon from \"../../../../assets/img/icon/barcode1.png\";\r\nimport AddCategory from \"./AddCategory\";\r\nimport useStyles from \"./styles\";\r\nimport productApi from \"../../../../api/productApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport SearchWithAutoComplete from \"../../../../components/SearchBar/SearchWithAutoComplete\";\r\nimport { urltoFile } from \"../../../../api/helper\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { FormatedImage } from \"../../../../components/SearchBar/SearchProduct\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport clsx from \"clsx\";\r\nimport TagsInput from \"../../../../components/TextField/TagsInput\";\r\nimport AddAttribute from \"./AddAttribute\";\r\nimport RelaltedItemList from \"./RelaltedItemList\";\r\nimport SnackBarGeneral from \"../../../../components/SnackBar/SnackBarGeneral\";\r\n\r\nconst UploadImages = (img) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 70,\r\n        width: 70,\r\n        marginLeft: 7,\r\n        marginRight: 7,\r\n        borderRadius: 2,\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n  );\r\n};\r\n\r\nconst AddInventory = (props) => {\r\n  const { handleClose, open } = props;\r\n  const [openAddCategory, setOpenAddCategory] = useState(false);\r\n  const handleCloseCategory = () => setOpenAddCategory(false);\r\n  const [categoryList, setCategoryList] = useState([\r\n    {\r\n      uuid: \"\",\r\n      parent_category_id: null,\r\n      name: \"\",\r\n      created_at: \"\",\r\n      updated_at: \"\",\r\n    },\r\n  ]);\r\n\r\n  const [images, setImages] = useState([]);\r\n  const [display, setDisplay] = useState([]);\r\n  const [imageURL, setImageURL] = useState(\"\");\r\n  const addImageHandler = (e) => {\r\n    console.log(e.target.files[0]);\r\n    console.log(URL.createObjectURL(e.target.files[0]));\r\n    setImages([...images, e.target.files[0]]);\r\n    setDisplay([\r\n      ...display,\r\n      {\r\n        index: images.length,\r\n        link: URL.createObjectURL(e.target.files[0]),\r\n        isUrl: false,\r\n      },\r\n    ]);\r\n  };\r\n\r\n  const productFormik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      barcode: \"\",\r\n      importedPrice: 0,\r\n      salesPrice: 0,\r\n      category: \"\",\r\n      unit: \"\",\r\n      re_order_point: 0,\r\n      product_code: \"\",\r\n      has_batches: false,\r\n      quantity:0,\r\n      max_order:999999999\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\r\n      importedPrice: Yup.number()\r\n        .required(\"Nhập giá vốn\")\r\n        // .moreThan(0, \"Giá vốn phải lớn hơn không\"),\r\n        .moreThan(-1, \"Giá vốn không được âm\"),\r\n\r\n      salesPrice: Yup.number()\r\n        .required(\"Nhập giá bán\")\r\n        .moreThan(0, \"Giá bán phải lớn hơn không\"),\r\n\r\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(\r\n        -1,\r\n        \"Số lượng đặt hàng lại không được âm\"\r\n      ),\r\n\r\n      quantity: Yup.number()\r\n        .moreThan(-1, \"Tồn kho ban đầu không được âm\"),\r\n      \r\n      max_order: Yup.number()\r\n        .moreThan(-1, \"Số lượng nhập hàng tối đa\"),\r\n        \r\n\r\n    }),\r\n  });\r\n\r\n  const [openSnack, setOpenSnack] = React.useState(false);\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: \"error\",\r\n    message: \"Tên thuộc tính trống\",\r\n  });\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n  const dispatch = useDispatch();\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const addProductHandler = async () => {\r\n    handleCloseAndReset();\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\r\n      bodyFormData.append(\r\n        \"list_price\",\r\n        productFormik.values.salesPrice.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"standard_price\",\r\n        productFormik.values.importedPrice.toString()\r\n      );\r\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\r\n      bodyFormData.append(\r\n        \"product_code\",\r\n        productFormik.values.product_code.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"quantity_per_unit\",\r\n        productFormik.values.unit.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"min_reorder_quantity\",\r\n        productFormik.values.re_order_point.toString()\r\n      );\r\n\r\n      bodyFormData.append(\r\n        \"max_order\",\r\n        productFormik.values.max_order.toString()\r\n      );\r\n\r\n      bodyFormData.append(\r\n        \"quantity\",\r\n        productFormik.values.quantity ? productFormik.values.quantity.toString() : 0\r\n      );\r\n      bodyFormData.append(\r\n        \"category_uuid\",\r\n        productFormik.values.category.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"has_batches\",\r\n        Number(productFormik.values.has_batches)\r\n      );\r\n\r\n      bodyFormData.append(\r\n        \"branch_uuid\",\r\n        branch_uuid\r\n      );\r\n      bodyFormData.append(\"img_url\", imageURL);\r\n\r\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\r\n\r\n      await productApi.createProduct(store_uuid, bodyFormData);\r\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\r\n      props.setReload();\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\r\n    }\r\n  };\r\n\r\n  const [reset, setReset] = useState(true);\r\n  const onReset = () => {\r\n    setReset((reset) => !reset);\r\n  };\r\n  useEffect(() => {\r\n    const fetchCategoryList = async () => {\r\n      try {\r\n        const response = await productApi.getAllCategory(store_uuid);\r\n        setCategoryList(response.data);\r\n        productFormik.setFieldValue(\"category\", response.data[0].uuid);\r\n      } catch (error) {\r\n        console.log(error);\r\n        return [];\r\n      }\r\n    };\r\n    fetchCategoryList();\r\n  }, [store_uuid, reset]);\r\n\r\n  const selectSampleProductHandler = (product) => {\r\n    if (product && product.name) {\r\n      try {\r\n        productFormik.setFieldValue(\"name\", product.name, true);\r\n        productFormik.setFieldValue(\"barcode\", product.bar_code, true);\r\n        clearAllImages();\r\n        setDisplay([{ link: product.img_url, isUrl: true }]);\r\n        setImages([]);\r\n        setImageURL(product.img_url);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const searchSampleProductHandler = async (searchKey) => {\r\n    return productApi.searchDefaultProducts(searchKey, 1);\r\n  };\r\n  const handleCloseAndReset = () => {\r\n    handleClose();\r\n    productFormik.resetForm();\r\n    clearAllImages();\r\n  };\r\n  const clearAllImages = () => {\r\n    setDisplay([]);\r\n    setImages([]);\r\n    setImageURL(\"\");\r\n  };\r\n  const clearImage = (displayImage) => {\r\n    setDisplay(display.filter((img) => img != displayImage));\r\n    if (displayImage.isUrl) {\r\n      setImageURL(\"\");\r\n    } else {\r\n      setImages(images.filter((image, index) => index !== displayImage.index));\r\n    }\r\n  };\r\n  const renderNameInput = (params) => {\r\n    return (\r\n      <TextField\r\n        {...params}\r\n        required\r\n        label=\"Tìm kiếm sp mẫu bằng tên hoặc mã vạch\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        autoFocus\r\n        size=\"small\"\r\n        InputProps={{\r\n          ...params.InputProps,\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <SearchIcon />\r\n            </InputAdornment>\r\n          ),\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Box\r\n                component=\"img\"\r\n                sx={{ height: 23, width: 23, marginRight: -30 }}\r\n                src={barcodeIcon}\r\n              />\r\n            </InputAdornment>\r\n          ),\r\n          onKeyDown: (e) => {\r\n            if (e.key.toLowerCase() === \"arrowdown\") {\r\n              onFocus(salesPriceRef);\r\n            }\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  };\r\n  const renderOptionTest = (option) => {\r\n    return (\r\n      <Grid fullWidth container direction=\"row\">\r\n        <Grid item xs={3}>\r\n          <FormatedImage url={option.img_url} />\r\n        </Grid>\r\n        <Grid item xs={9} container direction=\"column\">\r\n          <Typography variant=\"h5\">{option.name}</Typography>\r\n          <Typography variant=\"body2\">{option.bar_code}</Typography>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n  const getOptionLabel = (option) => {\r\n    if (option.name) {\r\n      return option.name + \" \" + \"(\" + option.bar_code + \")\";\r\n    }\r\n    return option;\r\n  };\r\n  const salesPriceRef = useRef();\r\n  const onFocus = (ref) => {\r\n    ref.current.focus();\r\n  };\r\n\r\n  //ATTRIBUTE\r\n  // api get all attribute\r\n  const attributeList = [ \r\n    {  id: \"1\", name: \"MÀU\",  },\r\n    { id: \"2\", name: \"KÍCH THƯỚC\", },\r\n    {  id: \"3\", name: \"CHẤT LIỆU\",  },\r\n    {   id: \"4\", name: \"VỊ\",},\r\n    {   id: \"5\", name: \"BỘ NHỚ\",},\r\n \r\n  ];\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  //Lô, HSD\r\n  const [outOfDate, setOutOfDate] = React.useState(\"false\");\r\n\r\n  // Attr\r\n  const [datas, setDatas] = useState([{ key: \"unset\", items: [] }]);\r\n\r\n  // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0}\r\n  const [relatedList, setRelatedList] = useState([]);\r\n  // const [attrOfProduct, setAttrOfProduct] = useState([]);\r\n\r\n\r\n  // console.log(\"relatedList\",relatedList)\r\n\r\n  const handleAddProductWithVariation = async () => {\r\n    if(relatedList.length !== 0){\r\n        // var isValid = datas.map(item => item.key === 'unset'?  false  )\r\n       for (let i = 0; i < datas.length; i++){\r\n         if (datas[i].key ==='unset' ){\r\n          setOpenSnack(true);\r\n          setSnackStatus({ style: \"error\",  message: \"Tên thuộc tính trống\",});\r\n           return \r\n         }\r\n       }\r\n    }\r\n    handleCloseAndReset();\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\r\n      bodyFormData.append(\r\n        \"list_price\",\r\n        productFormik.values.salesPrice.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"standard_price\",\r\n        productFormik.values.importedPrice.toString()\r\n      );\r\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\r\n      bodyFormData.append(\r\n        \"product_code\",\r\n        productFormik.values.product_code.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"quantity_per_unit\",\r\n        productFormik.values.unit.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"min_reorder_quantity\",\r\n        productFormik.values.re_order_point.toString()\r\n      );\r\n\r\n      bodyFormData.append(\r\n        \"max_order\",\r\n        productFormik.values.max_order.toString()\r\n      );\r\n\r\n      bodyFormData.append(\r\n        \"category_uuid\",\r\n        productFormik.values.category.toString()\r\n      );\r\n      bodyFormData.append(\r\n        \"has_batches\",\r\n        Number(productFormik.values.has_batches)\r\n      );\r\n      console.log(relatedList);\r\n\r\n      for (var i = 0; i < relatedList.length; i++) {\r\n        const values = relatedList[i].name.split(\"-\");\r\n        const attributeValues = [];\r\n        const attrOfProduct = datas.map((item) => item.key)\r\n        attrOfProduct.forEach((att, index) => {\r\n          if (values[index])\r\n            attributeValues.push({\r\n              // name: att.name,\r\n              name: att,\r\n              value: values[index],\r\n            });\r\n        });\r\n        bodyFormData.append(\r\n          \"variations[]\",\r\n          JSON.stringify({\r\n            ...relatedList[i],\r\n            attribute_value: JSON.stringify(attributeValues),\r\n          })\r\n        );\r\n      }\r\n\r\n      bodyFormData.append(\"img_url\", imageURL);\r\n\r\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\r\n\r\n      await productApi.addProductWithVaration(store_uuid, bodyFormData);\r\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\r\n      handleClose();\r\n      props.setReload(true);\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleCloseAndReset}\r\n      aria-labelledby=\"form-dialog-title\"\r\n      maxWidth=\"md\"\r\n    >\r\n      <Box className={classes.root}>\r\n        <AddCategory\r\n          open={openAddCategory}\r\n          handleClose={handleCloseCategory}\r\n          onReset={onReset}\r\n        />\r\n         <SnackBarGeneral\r\n            handleClose={()=>  setOpenSnack(false)}\r\n            open={openSnack}\r\n            status={snackStatus}\r\n          />\r\n        <Box\r\n          display=\"flex\"\r\n          flexDirection=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          style={{ marginBottom: 20 }}\r\n        >\r\n          <Typography className={classes.headerTitle} variant=\"h5\">\r\n            Thêm sản phẩm\r\n          </Typography>\r\n          <Box style={{ width: \"70%\" }}>\r\n            <SearchWithAutoComplete\r\n              handleDefaultSelect={selectSampleProductHandler}\r\n              onSelect={selectSampleProductHandler}\r\n              searchApiCall={searchSampleProductHandler}\r\n              renderInput={renderNameInput}\r\n              getOptionLabel={getOptionLabel}\r\n              renderOption={renderOptionTest}\r\n              filterOptions={(options, state) => options}\r\n            />\r\n          </Box>\r\n        </Box>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-around\"\r\n          spacing={2}\r\n        >\r\n          <Grid item sm={7} xs={12}>\r\n            <TextField\r\n              required\r\n              label=\"Tên sản phẩm\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"name\"\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.name}\r\n              error={productFormik.touched.name && productFormik.errors.name}\r\n              helperText={\r\n                productFormik.touched.name ? productFormik.errors.name : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n              type=\"text\"\r\n            />\r\n            <TextField\r\n              label=\"Mã sản phẩm (tự động)\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"product_code\"\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.product_code}\r\n            />\r\n            <TextField\r\n              label=\"Mã vạch\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"barcode\"\r\n              onKeyDown={(e) => {}}\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.barcode}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <Box\r\n                      component=\"img\"\r\n                      sx={{ height: 25, width: 25 }}\r\n                      src={barcodeIcon}\r\n                    />\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              className={classes.margin}\r\n            />\r\n            <TextField\r\n              label=\"Đơn vị\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"unit\"\r\n              onChange={productFormik.handleChange}\r\n              value={productFormik.values.unit}\r\n            />\r\n\r\n            <Box className={`${classes.box} ${classes.margin}`}>\r\n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\r\n                <InputLabel htmlFor=\"category\">Danh mục</InputLabel>\r\n                <Select\r\n                  native\r\n                  label=\"Danh mục\"\r\n                  id=\"category\"\r\n                  name=\"category\"\r\n                  value={productFormik.values.category}\r\n                  onChange={productFormik.handleChange}\r\n                  onBlur={productFormik.handleBlur}\r\n                >\r\n                  {categoryList.map((category) => (\r\n                    <option key={category.uuid} value={category.uuid}>\r\n                      {category.name}\r\n                    </option>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n              <Tooltip title=\"Thêm danh mục\">\r\n                <IconButton\r\n                  size=\"small\"\r\n                  style={{ marginLeft: 5 }}\r\n                  onClick={() => setOpenAddCategory(true)}\r\n                >\r\n                  <AddIcon color=\"primary\" />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item sm={5} xs={12}>\r\n            <VNDInput\r\n              required\r\n              label=\"Giá bán\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"salesPrice\"\r\n              inputRef={salesPriceRef}\r\n              value={productFormik.values.salesPrice}\r\n              // onChange={productFormik.handleChange}\r\n              onChange={(e)=>{\r\n                // productFormik.handleChange\r\n                productFormik.setFieldValue(\"salesPrice\", e.target.value)\r\n                if (relatedList.length !== 0){\r\n                  var list = [...relatedList]\r\n                  list = relatedList.map(i =>i.list_price = e.target.value)\r\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\r\n                  // setRelatedList(list)\r\n                }}}\r\n              error={\r\n                productFormik.touched.salesPrice &&\r\n                productFormik.errors.salesPrice\r\n              }\r\n              helperText={\r\n                productFormik.touched.salesPrice\r\n                  ? productFormik.errors.salesPrice\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n            />\r\n            <VNDInput\r\n              required\r\n              label=\"Giá vốn\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              name=\"importedPrice\"\r\n              value={productFormik.values.importedPrice}\r\n              // onChange={productFormik.handleChange}\r\n              onChange={(e)=>{\r\n                // productFormik.handleChange\r\n                productFormik.setFieldValue(\"importedPrice\", e.target.value)\r\n                if (relatedList.length !== 0){\r\n                  var list = [...relatedList]\r\n                  list = relatedList.map(i =>i.standard_price = e.target.value)\r\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\r\n                  // setRelatedList(list)\r\n                }}}\r\n              error={\r\n                productFormik.touched.importedPrice &&\r\n                productFormik.errors.importedPrice\r\n              }\r\n              helperText={\r\n                productFormik.touched.importedPrice\r\n                  ? productFormik.errors.importedPrice\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n              className={classes.margin}\r\n            />\r\n            {Number(productFormik.values.importedPrice) > Number(productFormik.values.salesPrice) ?<Typography variant='h6' style={{color:'red'}}> Giá vốn đang lớn hơn giá bán !!</Typography>:null}\r\n             <ThousandSeperatedInput\r\n              label=\"Tồn kho ban đầu\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"quantity\"\r\n              value={productFormik.values.quantity}\r\n              onChange={productFormik.handleChange}\r\n              error={\r\n                productFormik.touched.quantity &&\r\n                productFormik.errors.quantity\r\n              }\r\n              helperText={\r\n                productFormik.touched.quantity\r\n                  ? productFormik.errors.quantity\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n            />\r\n\r\n            <ThousandSeperatedInput\r\n              label=\"Số lượng đặt hàng lại\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"re_order_point\"\r\n              value={productFormik.values.re_order_point}\r\n              onChange={productFormik.handleChange}\r\n              error={\r\n                productFormik.touched.re_order_point &&\r\n                productFormik.errors.re_order_point\r\n              }\r\n              helperText={\r\n                productFormik.touched.re_order_point\r\n                  ? productFormik.errors.re_order_point\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n            />\r\n             <ThousandSeperatedInput\r\n              label=\"Số lượng nhập hàng tối đa\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              className={classes.margin}\r\n              name=\"max_order\"\r\n              value={productFormik.values.max_order}\r\n              onChange={productFormik.handleChange}\r\n              error={\r\n                productFormik.touched.max_order &&\r\n                productFormik.errors.max_order\r\n              }\r\n              helperText={\r\n                productFormik.touched.max_order\r\n                  ? productFormik.errors.max_order\r\n                  : null\r\n              }\r\n              onBlur={productFormik.handleBlur}\r\n            />\r\n       \r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs>\r\n            <Box\r\n              display=\"flex\"\r\n              flexDirection=\"row\"\r\n              alignItems=\"center\"\r\n              style={{ marginTop: 10 }}\r\n            >\r\n              {display.map((img) => (\r\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\r\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\r\n                    <Box\r\n                      component=\"img\"\r\n                      sx={{\r\n                        height: 70,\r\n                        width: 70,\r\n                        marginLeft: 7,\r\n                        marginRight: 7,\r\n                        borderRadius: 2,\r\n                      }}\r\n                      src={img.link}\r\n                    />\r\n                  </Button>\r\n                </Tooltip>\r\n              ))}\r\n              {display.length === 0 ? <UploadImages /> : null}\r\n              <IconButton\r\n                disabled={display.length > 3 ? true : false}\r\n                color=\"primary\"\r\n                size=\"medium\"\r\n                component=\"label\"\r\n              >\r\n                <input type=\"file\" hidden onChange={addImageHandler} />\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n        <div style={{ flexGrow: 1, textAlign: \"right\" }}>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                //checked={outOfDate}\r\n                name=\"has_batches\"\r\n                checked={productFormik.values.has_batches}\r\n                onChange={productFormik.handleChange}\r\n                //onChange={(event) => setOutOfDate(event.target.checked)}\r\n              />\r\n            }\r\n            label=\"Lô, hạn sử dụng\"\r\n          />\r\n        </div>\r\n\r\n        <Card className={classes.attrCard}>\r\n          <CardHeader\r\n            onClick={handleExpandClick}\r\n            action={\r\n              <IconButton\r\n                size=\"small\"\r\n                className={clsx(classes.expand, {\r\n                  [classes.expandOpen]: expanded,\r\n                })}\r\n                onClick={handleExpandClick}\r\n                aria-expanded={expanded}\r\n              >\r\n                <ExpandMoreIcon />\r\n              </IconButton>\r\n            }\r\n            title=\"Thuộc tính\"\r\n            className={classes.attrHead}\r\n          />\r\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n            <AddAttribute\r\n              attributeList={attributeList}\r\n              datas={datas}\r\n              setDatas={setDatas}\r\n              setRelatedList={setRelatedList}\r\n\r\n              list_price={productFormik.values.salesPrice}\r\n              standard_price={productFormik.values.importedPrice}\r\n              // attrOfProduct={attrOfProduct}\r\n              // setAttrOfProduct={setAttrOfProduct}\r\n            />\r\n          </Collapse>\r\n        </Card>\r\n        {/* GENERATE ATTR */}\r\n        {relatedList.length > 0 ? (\r\n          <Card className={classes.attrCard}>\r\n            <CardHeader\r\n              title=\"Danh sách hàng cùng loại\"\r\n              className={classes.attrHead}\r\n            />\r\n            {/*  !!!! Handle value phần này */}\r\n            <RelaltedItemList\r\n              relatedList={relatedList}\r\n              setRelatedList={setRelatedList}\r\n\r\n\r\n\r\n            />\r\n          </Card>\r\n        ) : null}\r\n\r\n        {/* Button */}\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"flex-end\",\r\n          }}\r\n        >\r\n          <Button\r\n            onClick={handleCloseAndReset}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n            style={{ marginRight: 20 }}\r\n          >\r\n            Huỷ\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              if (relatedList.length) {\r\n                handleAddProductWithVariation();\r\n              } else {\r\n                addProductHandler();\r\n              }\r\n            }}\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            disabled={\r\n              !(\r\n                productFormik.isValid &&\r\n                Object.keys(productFormik.touched).length > 0\r\n              ) ||\r\n             ( Number(productFormik.values.importedPrice) > Number(productFormik.values.salesPrice))\r\n            }\r\n          >\r\n            Thêm\r\n          </Button>\r\n        </Grid>\r\n      </Box>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddInventory;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { CartBottom } from \"../../../components/Button/CartButton\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport { ImportReceiptPrinter } from \"../../../components/ReceiptPrinter/ReceiptPrinter\";\r\n//import library\r\nimport {\r\n  Grid,\r\n  Card,\r\n  Box,\r\n  TableContainer,\r\n  FormControlLabel,\r\n  Switch,\r\n  ListItem,\r\n  TableBody,\r\n  Typography,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport SearchBarCode from \"../../../components/SearchBar/SearchBarCode\";\r\n\r\n//import project\r\n//rieng\r\nimport ImportSummary from \"../../../components/CheckoutComponent/CheckoutSummary/ImportSummary/ImportSummary\";\r\nimport { ImportRow, ImportRowMini } from \"./ImportTableRow/ImportTableRow\";\r\n//chung\r\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\";\r\nimport ChangeCartBtn from \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\";\r\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\nimport {\r\n  getComparator,\r\n  stableSort,\r\n} from \"../../../components/TableCommon/util/sortUtil\";\r\n\r\nimport purchaseOrderApi from \"../../../api/purchaseOrderApi\";\r\n// update state\r\nimport update from \"immutability-helper\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\r\nimport moment from \"moment\";\r\nimport AddInventory from \"../Inventory/AddInventory/AddInventory\";\r\nimport supplierApi from \"../../../api/supplierApi\";\r\nimport { CartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\r\n\r\n// FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\r\n\r\nconst Import = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [selectedBranch, setSelectedBranch] = useState({});\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch = info.branch;\r\n  const user_uuid = useSelector((state) => state.info.user.uuid);\r\n\r\n  ////------------ I. DATA (useState) ----------------\r\n  // Cart data get from search_product component\r\n  // const cartData = [\r\n  //     // QUANTITY có thể edit ->  truyền quatity edit ngược về cartData ??\r\n  //     //dựa vào id của text field quatity ??\r\n\r\n  //     //còn bị lỗi sort // tự generate stt\r\n  //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n  //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n  //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },\r\n  //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n  //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n  //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },\r\n\r\n  // ];\r\n  // chú ý cartList id from 1 to ... dùng để edit + delete\r\n  // const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: cartData}]);\r\n\r\n  // local storage\r\n  const loadLocalStorage = () => {\r\n    if (window.localStorage.getItem(\"importListData\")) {\r\n      const data = JSON.parse(window.localStorage.getItem(\"importListData\"));\r\n      if (data.user_uuid === user_uuid) {\r\n        return data.cartList;\r\n      }\r\n    }\r\n\r\n    return [\r\n      {\r\n        supplier: null,\r\n        cartItem: [],\r\n        total_amount: 0,\r\n        paid_amount: 0,\r\n        discount: 0,\r\n        payment_method: \"cash\",\r\n      },\r\n    ];\r\n  };\r\n  const [cartList, setCartList] = React.useState(loadLocalStorage());\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\r\n      \"importListData\",\r\n      JSON.stringify({ user_uuid: user_uuid, cartList: cartList })\r\n    );\r\n  }, [cartList]);\r\n\r\n  //// ----------II. FUNCTION\r\n  // 1.Cart\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n  const [addProduct, setAddProduct] = useState(false);\r\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\r\n  const [suppliers, setSuppliers] = React.useState([]);\r\n\r\n  const [openSnack, setOpenSnack] = React.useState(false);\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: \"error\",\r\n    message: \"Nhập hàng thất bại\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    updateTotalAmount();\r\n  }, [isUpdateTotalAmount]);\r\n\r\n  useEffect(() => {\r\n    const fetchSupplier = async () => {\r\n      const response = await supplierApi.getSuppliers(store_uuid);\r\n      setSuppliers(response.data);\r\n    };\r\n\r\n    fetchSupplier();\r\n  }, []);\r\n\r\n  const [reloadSupplier, setReloadSupplier] = useState(false);\r\n  useEffect(() => {\r\n    const fetchSupplier = async () => {\r\n      const response = await supplierApi.getSuppliers(store_uuid);\r\n      setSuppliers(response.data);\r\n    };\r\n\r\n    fetchSupplier();\r\n  }, [reloadSupplier]);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    setOpenSnack(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleChoose = (index) => {\r\n    setSelectedIndex(index);\r\n    handleClose();\r\n  };\r\n  const handleAdd = () => {\r\n    // ADD CART\r\n    setCartList([\r\n      ...cartList,\r\n      {\r\n        supplier: null,\r\n        cartItem: [],\r\n        total_amount: 0,\r\n        paid_amount: 0,\r\n        discount: 0,\r\n        payment_method: \"cash\",\r\n      },\r\n    ]);\r\n    setSelectedIndex(cartList.length);\r\n    handleClose();\r\n  };\r\n  const handleDelete = (index) => {\r\n    // DELETE CART\r\n    cartList.splice(index, 1);\r\n    if (cartList.length === 0) {\r\n      setCartList([\r\n        {\r\n          supplier: null,\r\n          cartItem: [],\r\n          total_amount: \"0\",\r\n          paid_amount: \"0\",\r\n          discount: \"0\",\r\n          payment_method: \"cash\",\r\n        },\r\n      ]);\r\n      setSelectedIndex(0);\r\n    } else {\r\n      setCartList(cartList);\r\n    }\r\n    if (selectedIndex === index) {\r\n      setSelectedIndex(0);\r\n    } else if (selectedIndex > index) {\r\n      setSelectedIndex(selectedIndex - 1);\r\n    }\r\n    handleClose();\r\n  };\r\n  const updateCustomer = (value) => {\r\n    let newArr = [...cartList]; // copying the old datas array\r\n    newArr[selectedIndex].customer = value;\r\n    setCartList(newArr);\r\n  };\r\n\r\n  //2. Table sort\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(null);\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n\r\n  //mode\r\n  const [mode, setMode] = React.useState(false);\r\n  const handleChangeMode = (event) => {\r\n    setMode(event.target.checked);\r\n  };\r\n\r\n  // handle search select item add to cart\r\n  const handleSearchBarSelect = (selectedOption) => {\r\n    console.log(\"selectedOption.batches\",selectedOption.batches)\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === selectedOption.uuid\r\n    );\r\n    let item = cartList[selectedIndex].cartItem.find(\r\n      (item) => item.uuid === selectedOption.uuid\r\n    );\r\n\r\n    if (!item) {\r\n      let newCartItem = {\r\n        id: cartList[selectedIndex].cartItem.length,\r\n        uuid: selectedOption.uuid,\r\n        quantity: selectedOption.has_batches ? 0 : 1,\r\n        bar_code: selectedOption.bar_code,\r\n        product_code: selectedOption.product_code,\r\n        unit_price: selectedOption.standard_price,\r\n        img_url: selectedOption.img_url,\r\n        name: selectedOption.name,\r\n        has_batches: selectedOption.has_batches,\r\n        batches: selectedOption.batches,\r\n      };\r\n\r\n      let newCartList = update(cartList, {\r\n        [selectedIndex]: { cartItem: { $push: [newCartItem] } },\r\n      });\r\n      setCartList(newCartList);\r\n      setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n      return;\r\n    }\r\n\r\n    if (!item.has_batches) {\r\n      handleChangeItemQuantity(\r\n        selectedOption.uuid,\r\n        cartList[selectedIndex].cartItem[itemIndex].quantity + 1\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleDeleteItemCart = (itemUuid) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { cartItem: { $splice: [[itemIndex, 1]] } },\r\n    });\r\n    setCartList(newCartList);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleChangeItemQuantity = (itemUuid, newQuantity) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    let item = cartList[selectedIndex].cartItem.find(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    if (newQuantity === 0 && !item.has_batches) {\r\n      handleDeleteItemCart(itemUuid);\r\n      return;\r\n    }\r\n\r\n    let newCartList = [...cartList];\r\n    newCartList[selectedIndex].cartItem[itemIndex].quantity = newQuantity;\r\n    setCartList(newCartList);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleChangeItemPrice = (itemUuid, newPrice) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: {\r\n        cartItem: { [itemIndex]: { unit_price: { $set: newPrice } } },\r\n      },\r\n    });\r\n    setCartList(newCartList);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleSelectSupplier = (selectedSupplier) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { supplier: { $set: selectedSupplier } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleUpdatePaidAmount = (amount) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { paid_amount: { $set: amount } },\r\n    });\r\n\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleUpdateBatches = (itemUuid, selectedBatches) => {\r\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\r\n      (item) => item.uuid === itemUuid\r\n    );\r\n\r\n    if (itemIndex === -1) return;\r\n    const newCartList = [...cartList];\r\n    newCartList[selectedIndex].cartItem[itemIndex].selectedBatches =\r\n      selectedBatches;\r\n\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleUpdatePaymentMethod = ( method) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { payment_method: { $set: method } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleUpdateDiscount = (amount) => {\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { discount: { $set: amount } },\r\n    });\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const updateTotalAmount = () => {\r\n    let total = 0;\r\n    cartList[selectedIndex].cartItem.forEach((item) => {\r\n      total += item.unit_price * item.quantity;\r\n    });\r\n\r\n    let newCartList = update(cartList, {\r\n      [selectedIndex]: { total_amount: { $set: total } },\r\n    });\r\n    newCartList = update(newCartList, {\r\n      [selectedIndex]: {\r\n        paid_amount: { $set: total - cartList[selectedIndex].discount },\r\n      },\r\n    });\r\n\r\n    setCartList(newCartList);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    let cart = cartList[selectedIndex];\r\n\r\n    // let d = new Date();\r\n    // let importTime = d.getFullYear() + '-' + (d.getMonth() + 1).toString()  + '-' + d.getDate() + ' '\r\n    //                 + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();\r\n\r\n    var emptyCart = cart.cartItem.filter((item) => item.quantity).length === 0;\r\n    if (emptyCart) {\r\n      setOpenSnack(true);\r\n      setSnackStatus({\r\n        style: \"error\",\r\n        message: \"Giỏ hàng trống\",\r\n      });\r\n\r\n      setOpenSnack(true);\r\n      // console.log(err);\r\n    } else {\r\n      let d = moment.now() / 1000;\r\n      let importTime = moment\r\n        .unix(d)\r\n        .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\r\n\r\n      let body = {\r\n        supplier_uuid: cart.supplier ? cart.supplier.uuid : \"\",\r\n        total_amount: cart.total_amount.toString(),\r\n        payment_method: cart.payment_method,\r\n        paid_amount: cart.paid_amount,\r\n        discount: cart.discount.toString(),\r\n        status:\r\n          Number(cart.total_amount) - Number(cart.discount) >=\r\n          Number(cart.paid_amount)\r\n            ? \"debt\"\r\n            : \"closed\",\r\n        details: cart.cartItem.map((item) => ({\r\n          ...item,\r\n          selectedBatches: item.selectedBatches.map((batch) => ({\r\n            ...batch,\r\n            returned_quantity: 0,\r\n          })),\r\n        })),\r\n        import_date: importTime,\r\n      };\r\n      try {\r\n        console.log(body)\r\n        let res = await purchaseOrderApi.addInventory(\r\n          store_uuid,\r\n          branch.uuid,\r\n          body\r\n        );\r\n        setSnackStatus({\r\n          style: \"success\",\r\n          message: \"Nhập hàng thành công: \" + res.data.purchase_order_code,\r\n        });\r\n        setOpenSnack(true);\r\n\r\n        handlePrint();\r\n        handleDelete(selectedIndex);\r\n      } catch (err) {\r\n        setSnackStatus({\r\n          style: \"error\",\r\n          message: \"Nhập hàng thất bại! \",\r\n        });\r\n        setOpenSnack(true);\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  //print\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  //   }\r\n  // };\r\n\r\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\r\n  const handleSwitchChange = () => {\r\n    setBarcodeChecked(!barcodeChecked);\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      justifyContent=\"space-between\"\r\n      alignItems=\"center\"\r\n      spacing={2}\r\n    >\r\n      <AddInventory\r\n        open={addProduct}\r\n        handleClose={() => setAddProduct(false)}\r\n        setReload={() => {}}\r\n      />{\" \"}\r\n      <SnackBarGeneral\r\n        handleClose={handleCloseSnackBar}\r\n        open={openSnack}\r\n        status={snackStatus}\r\n      />\r\n      {/* 1. TABLE CARD (left) */}\r\n      <Grid item xs={12} sm={8}>\r\n        <Card className={classes.root}>\r\n          <Box\r\n            style={{\r\n              padding: xsScreen ? 10 : 30,\r\n              minHeight: \"80vh\",\r\n              paddingBottom: 0,\r\n            }}\r\n          >\r\n            <Box style={{ height: xsScreen ? null : \"70vh\" }}>\r\n              {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                justifyContent=\"space-between\"\r\n                alignItems=\"center\"\r\n                style={{ marginTop: -10, marginBottom: 30 }}\r\n              >\r\n                <Grid>\r\n                  <ListItem>\r\n                    {/* 1.1.1 Title */}\r\n                    <Typography variant=\"h3\"> Nhập hàng </Typography>\r\n                    <Typography\r\n                      variant=\"h3\"\r\n                      style={{\r\n                        marginLeft: 10,\r\n                        color: theme.customization.primaryColor[500],\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      # {selectedIndex + 1}\r\n                    </Typography>\r\n                    {/* 1.1.2. Btn Channge Cart */}\r\n                    <ChangeCartBtn\r\n                      selectedIndex={selectedIndex}\r\n                      anchorEl={anchorEl}\r\n                      cartList={cartList}\r\n                      handleClick={handleClick}\r\n                      handleClose={handleClose}\r\n                      handleChoose={handleChoose}\r\n                      handleDelete={handleDelete}\r\n                      handleAdd={handleAdd}\r\n                      isCart={false}\r\n                    />\r\n                  </ListItem>\r\n                </Grid>\r\n                <Grid>\r\n                  <Grid container alignItems=\"center\">\r\n                    <Grid item>\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Switch\r\n                            checked={barcodeChecked}\r\n                            onChange={handleSwitchChange}\r\n                            color=\"primary\"\r\n                          />\r\n                        }\r\n                        label={\"Dùng mã vạch\"}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item>\r\n                      {barcodeChecked ? (\r\n                        <SearchBarCode\r\n                          handleSearchBarSelect={handleSearchBarSelect}\r\n                        />\r\n                      ) : (\r\n                        <SearchProduct\r\n                          handleSearchBarSelect={handleSearchBarSelect}\r\n                        />\r\n                      )}\r\n                    </Grid>\r\n                    <Grid item>\r\n                      <ButtonBase\r\n                        sx={{ borderRadius: \"1px\" }}\r\n                        onClick={() => {\r\n                          setAddProduct(true);\r\n                        }}\r\n                        style={{ marginLeft: 10 }}\r\n                      >\r\n                        <Avatar\r\n                          variant=\"rounded\"\r\n                          className={classes.headerAvatar}\r\n                        >\r\n                          <Tooltip title=\"Thêm sản phẩm\">\r\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n                          </Tooltip>\r\n                        </Avatar>\r\n                      </ButtonBase>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              {/* 1.2 TABLE */}\r\n              {!mode ? (\r\n                !xsScreen ? (\r\n                  <TableWrapper isCart={true}>\r\n                    <TableHeader\r\n                      classes={classes}\r\n                      order={order}\r\n                      orderBy={orderBy}\r\n                      onRequestSort={handleRequestSort}\r\n                      headerData={HeadCells.ImportHeadCells}\r\n                      isCart={true}\r\n                    />\r\n                    <TableBody>\r\n                      {stableSort(\r\n                        cartList[selectedIndex].cartItem,\r\n                        getComparator(order, orderBy)\r\n                      ).map((row, index) => {\r\n                        return (\r\n                          <ImportRow\r\n                            key={`${row.uuid}_index`}\r\n                            row={row}\r\n                            handleDeleteItemCart={handleDeleteItemCart}\r\n                            handleChangeItemPrice={handleChangeItemPrice}\r\n                            handleChangeItemQuantity={handleChangeItemQuantity}\r\n                            handleUpdateBatches={handleUpdateBatches}\r\n                          />\r\n                        );\r\n                      })}\r\n                    </TableBody>\r\n                  </TableWrapper>\r\n                ) : (\r\n                  cartList[selectedIndex].cartItem.map((row, index) => {\r\n                    return (\r\n                      <CartMiniTableRow\r\n                        row={row}\r\n                        handleDeleteItemCart={handleDeleteItemCart}\r\n                        handleChangeItemPrice={handleChangeItemPrice}\r\n                        handleChangeItemQuantity={handleChangeItemQuantity}\r\n                      />\r\n                    );\r\n                  })\r\n                )\r\n              ) : (\r\n                <MenuProduct />\r\n              )}\r\n            </Box>\r\n            {/* 1.3 CHANGE MODE  */}\r\n            {/* <FormControlLabel\r\n              control={<Switch checked={mode} onChange={handleChangeMode} />}\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n                margin: -10,\r\n                marginTop: 10,\r\n              }}\r\n            /> */}\r\n          </Box>\r\n        </Card>\r\n      </Grid>\r\n      {xsScreen ? <CartBottom numberItem={2} /> : null}\r\n      {/* 2.SUMMARY CARD (right) */}\r\n      <Grid item xs={12} sm={4} className={classes.root}>\r\n        <Card className={classes.root}>\r\n          <Box style={{ padding: 0, minHeight: \"80vh\" }}>\r\n            {!mode ? (\r\n              /* Viết hàm tính toán sau dựa trên cartData ... hiện tại đang set cứng giá trị */\r\n              <ImportSummary\r\n                setSelectedBranch={setSelectedBranch}\r\n                selectedBranch={selectedBranch}\r\n                cartData={cartList[selectedIndex]}\r\n                handleSelectSupplier={handleSelectSupplier}\r\n                handleUpdateDiscount={handleUpdateDiscount}\r\n                handleUpdatePaidAmount={handleUpdatePaidAmount}\r\n                handleUpdatePaymentMethod={handleUpdatePaymentMethod}\r\n                handleConfirm={handleConfirm}\r\n                currentSupplier={cartList[selectedIndex].supplier}\r\n                mode={mode}\r\n                currentBranch={branch}\r\n                suppliers={suppliers}\r\n                reloadSuppliers={() => setReloadSupplier(!reloadSupplier)}\r\n              />\r\n            ) : (\r\n              <ImportSummary\r\n                cartData={cartList[selectedIndex]}\r\n                updateCustomer={updateCustomer}\r\n                currentCustomer={cartList[selectedIndex].customer}\r\n                mode={mode}\r\n              >\r\n                <TableContainer\r\n                  style={{\r\n                    maxHeight: \"40vh\",\r\n                    marginBottom: 20,\r\n                    height: \"40vh\",\r\n                  }}\r\n                >\r\n                  <TableBody>\r\n                    {cartList[selectedIndex].cartItem.map((row, index) => {\r\n                      return <ImportRowMini row={row} />;\r\n                    })}\r\n                  </TableBody>\r\n                </TableContainer>\r\n              </ImportSummary>\r\n            )}\r\n          </Box>\r\n        </Card>\r\n      </Grid>\r\n      {/* 3. Receipt */}\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ImportReceiptPrinter cart={cartList[selectedIndex]} />\r\n        </div>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Import;\r\n","import axios from \"axios\";\r\nimport axiosClient from \"./axiosClient\";\r\nconst storeApi = {\r\n  getStoreInfo: (storeUuid) => {\r\n    const url = `stores/${storeUuid}`;\r\n    return axiosClient.get(url, {}); \r\n  },\r\n  updateStoreInfo: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}`;\r\n    return axiosClient.put(url, body); \r\n  },\r\n  \r\n  getActivities: (storeUuid, period) => {\r\n    const url = `stores/${storeUuid}/activities`;\r\n    return axiosClient.get(url, { params: { period: period } });\r\n  },\r\n\r\n  getReportOverview: (storeUuid, fromDate, toDate) => {\r\n    const url = `stores/${storeUuid}/report/overview`;\r\n    return axiosClient.get(url, {\r\n      params: { from_date: fromDate, to_date: toDate },\r\n    });\r\n  },\r\n\r\n  getReportProduct: (storeUuid, fromDate, toDate, limit, categoryId) => {\r\n    const url = `stores/${storeUuid}/report/item`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n        limit: limit,\r\n        category_id: categoryId,\r\n      },\r\n    });\r\n  },\r\n\r\n  getReportRevenue: (storeUuid, fromDate, toDate, unit) => {\r\n    const url = `stores/${storeUuid}/report/statistic`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n        unit: unit,\r\n        revenue: 1,\r\n      },\r\n    });\r\n  },\r\n\r\n  getReportCaptital: (storeUuid, fromDate, toDate, unit) => {\r\n    const url = `stores/${storeUuid}/report/statistic`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n        unit: unit,\r\n        captital: 1,\r\n      },\r\n    });\r\n  },\r\n\r\n  getReportProfit: (storeUuid, fromDate, toDate, unit) => {\r\n    const url = `stores/${storeUuid}/report/statistic`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n        unit: unit,\r\n        profit: 1,\r\n      },\r\n    });\r\n  },\r\n\r\n  getReportPurchase: (storeUuid, fromDate, toDate, unit) => {\r\n    const url = `stores/${storeUuid}/report/statistic`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n        unit: unit,\r\n        purchase: 1,\r\n      },\r\n    });\r\n  },\r\n\r\n  getReportTop: (storeUuid, fromDate, toDate, limit) => {\r\n    const url = `stores/${storeUuid}/report/top`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        from_date: fromDate,\r\n        to_date: toDate,\r\n        limit: limit\r\n      },\r\n    });\r\n  },\r\n\r\n  importProductJSON: (storeUuid, json) => {\r\n    const url = `stores/${storeUuid}/products/addProductByJson`;\r\n    return axiosClient.post(url, {\r\n      \"json_data\": json\r\n    });\r\n  },\r\n\r\n  updateStoreConfig: (storeUuid,body) =>{\r\n    const url = `stores/${storeUuid}/updateStoreConfiguration`;\r\n    return axiosClient.post(url,body)\r\n  },\r\n};\r\nexport default storeApi;\r\n","import React from \"react\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport useRowStyles from \"../../../../components/TableCommon/style/rowStyle\";\r\nimport clsx from \"clsx\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nimport {\r\n  TableCell,\r\n  TableRow,\r\n  Box,\r\n  Avatar,\r\n  ListItem,\r\n  Typography,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\n\r\nimport InventoryDetail from \"./InventoryDetail/InventoryDetail\";\r\nimport { FormatedProductStatus } from \"../../../../components/TableCommon/util/format\";\r\nimport icon from \"../../../../assets/img/product/img.jpeg\";\r\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {ProductMiniTableRow} from \"../../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nconst InventoryTableRow = (props) => {\r\n  const { row, handleOpenRow, openRow } = props;\r\n  const classes = useRowStyles();\r\n \r\n\r\n  return (\r\n    <>\r\n      <TableRow\r\n        onClick={() => handleOpenRow(row.uuid)}\r\n        className={clsx(\r\n          classes.row,\r\n          openRow === row.uuid ? classes.rowClicked : null\r\n        )}\r\n        key={row.uuid}\r\n      >\r\n        <TableCell align=\"left\">\r\n          {row.product_code}\r\n        </TableCell>\r\n        <TableCell align=\"center\" style={{ minWidth: 200 }}>\r\n          <ListItem\r\n            style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n          >\r\n            <Box\r\n              component=\"img\"\r\n              sx={{ height: 50, width: 50, borderRadius: 10, marginRight: 15 }}\r\n              src={row.img_url}\r\n            />\r\n            <Typography className={classes.fontName}>{row.name}</Typography>\r\n          </ListItem>\r\n        </TableCell>\r\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\r\n\r\n        <TableCell align=\"left\">{row.category?.name}</TableCell>\r\n        <TableCell align=\"right\">\r\n          <VNDFormat value={row.list_price} />\r\n        </TableCell>\r\n        <TableCell align=\"right\">\r\n          <VNDFormat value={row.standard_price} />\r\n        </TableCell>\r\n        <TableCell align=\"center\">\r\n          <FormatedProductStatus\r\n            quantity={row.branch_quantity}\r\n            lowStock={row.min_reorder_quantity}\r\n          />\r\n        </TableCell>\r\n        <TableCell align=\"center\" className={classes.fontName}>\r\n          {row.branch_quantity}\r\n        </TableCell>\r\n      </TableRow>\r\n\r\n      {/* DETAIL */}\r\n      <TableRow>\r\n        {/* colspan  => số cột trong collapse */}\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\r\n          <InventoryDetail parentProps={props} openRow={openRow} />\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InventoryTableRow;\r\n","import React from 'react'\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport {Snackbar} from '@material-ui/core';\r\n\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\nconst SnackBar = (props) => {\r\n    const {handleCloseBar,openBar,addStatus} =props;\r\n    return (\r\n        <Snackbar\r\n        anchorOrigin={{ vertical: 'top',horizontal:  'right' }}\r\n        open={openBar}\r\n        onClose={handleCloseBar}\r\n        autoHideDuration={2000} \r\n      >\r\n        {addStatus === \"Success\" ? \r\n        <Alert onClose={handleCloseBar} severity=\"success\">\r\n            Thêm thành công\r\n        </Alert> \r\n        :  <Alert onClose={handleCloseBar} severity=\"error\">\r\n            Thêm thất bại\r\n        </Alert> }\r\n\r\n      </Snackbar>\r\n    )\r\n}\r\n\r\nexport default SnackBar\r\n","export const excel_name_product = \"Excel_mẫu_sản_phẩm\";\r\n\r\nexport const excel_data_product = [\r\n  {\r\n    \"Mã hàng\": \"SP0027\",\r\n    \"Mã vạch\": \"232432\",\r\n    Tên: \"Bánh hamburger\",\r\n    \"Danh mục\": null,\r\n    \"Giá bán\": 20000,\r\n    \"Giá vốn\": 10000,\r\n    \"Đơn vị\": \"cái\",\r\n    \"Tồn kho nhỏ nhất\": 20,\r\n    \"Tồn kho lớn nhất\": 50,\r\n    \"Hình ảnh (url1, url2,...)\":\r\n      \"https://cdn.tgdd.vn/2020/12/CookProduct/Thuc-an-nhanh-la-gi-tac-hai-cua-thuc-an-nhanh-va-cac-loai-tot-cho-suc-khoe-1-1200x676.jpg , https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIYQv2sI0lYnAFw9bpFOZ5Q0C39xgXVms6-19XSIW7F9QPzyP2YzcrlfeL1v6XFkRyu5c&usqp=CAU\",\r\n    \"Mô tả\": \"Hello\",\r\n  },\r\n  {\r\n    \"Mã hàng\": \"SP0027\",\r\n    \"Mã vạch\": \"2324323\",\r\n    Tên: \"Coca\",\r\n    \"Danh mục\": null,\r\n    \"Giá bán\": 10000,\r\n    \"Giá vốn\": 3000,\r\n    \"Đơn vị\": \"chai\",\r\n    \"Tồn kho nhỏ nhất\": 20,\r\n    \"Tồn kho lớn nhất\": 100,\r\n    \"Hình ảnh (url1, url2,...)\":\r\n      \"http://product.hstatic.net/200000360759/product/upload_63570f8febd743ceae7cc4c76fe42540_grande.jpg\",\r\n    \"Mô tả\": \"Hello\",\r\n  },\r\n];\r\nexport const header_product = [\r\n  \"product_code\",\r\n  \"bar_code\",\r\n  \"name\",\r\n  \"category_id\",\r\n  \"list_price\",\r\n  \"standard_price\",\r\n  \"quantity_per_unit\",\r\n  \"min_reorder_quantity\",\r\n  \"max_quantity\",\r\n  \"urls\",\r\n  \"description\",\r\n];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popper from \"@material-ui/core/Popper\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Button from \"@mui/material/Button\";\r\nimport CardContent from \"@mui/material/CardContent\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    border: \"1px solid\",\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst Item = styled(Paper)(({ theme }) => ({\r\n  ...theme.typography.body2,\r\n  padding: theme.spacing(1),\r\n  textAlign: \"left\",\r\n  color: theme.palette.text.secondary,\r\n  height: 50,\r\n}));\r\n\r\nconst errorHeadings = {\r\n  list_price: \"Giá bán\",\r\n  standard_price: \"Giá nhập\",\r\n  min_reorder_quantity: \"Tồn kho tối thiểu\",\r\n  max_quantity: \"Tồn kho tối đa\",\r\n  urls: \"Link ảnh\",\r\n  description: \"Mô tả\",\r\n  quantity_per_unit: \"Đơn vị\",\r\n  code: \"Mã sản phẩm, barcode\",\r\n};\r\n\r\nconst ProductImportPopper = ({ open, loading, errors, handleClose }) => {\r\n  const classes = useStyles();\r\n  const [dataTable, setDataTable] = useState([]);\r\n\r\n  const errorMessages = (error) => {\r\n    const message = [];\r\n    for (let errField in error) {\r\n      message.push(`${errorHeadings[errField]}: ${error[errField]}`);\r\n    }\r\n    return message;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const mappedData = [];\r\n    console.log(errors);\r\n    errors.forEach((error) => {\r\n      mappedData.push({\r\n        id: `Dòng ${error.row + 1}`,\r\n        product_name: error.product.name,\r\n        bar_code: error.product.bar_code,\r\n        product_code: error.product.product_code,\r\n        error: errorMessages(error.error),\r\n      });\r\n    });\r\n\r\n    setDataTable(mappedData);\r\n    console.log(mappedData);\r\n  }, [errors]);\r\n\r\n  const renderErrorCard = () => {\r\n    return dataTable?.map((error) => (\r\n      <div style={{ textAlign: \"left\", color: \"red\" }}>\r\n        <Typography>{error.id}</Typography>\r\n        <Typography>{error.error.join(\", \")}</Typography>\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    open && (\r\n      <div\r\n        style={{\r\n          zIndex: 200,\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          marginTop: \"-200px\",\r\n          marginLeft: \"-250px\",\r\n        }}\r\n      >\r\n        <Paper\r\n          elevation={3}\r\n          style={{\r\n            height: 400,\r\n            width: 500,\r\n            padding: 20,\r\n          }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={10}>\r\n              <Typography variant=\"h6\">Xử lý file excel</Typography>\r\n            </Grid>\r\n            <Grid item xs={2} alignContent={\"flex-end\"}>\r\n              <Button onClick={handleClose}>Đóng</Button>\r\n            </Grid>\r\n\r\n            <Grid\r\n              container\r\n              spacing={2}\r\n              direction=\"column\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              style={{ marginTop: 30 }}\r\n            >\r\n              {loading ? <CircularProgress /> : <div>{renderErrorCard()}</div>}\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default ProductImportPopper;\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport {ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\nimport { useFormik } from 'formik';\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst InventoryFilter = (props) => {\r\n    const {handleToggleFilter,openFilter,query, setQuery} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const formik = useFormik({\r\n      initialValues: query,\r\n      onSubmit: async values => {\r\n        // console.log(values)\r\n        // const res = await purchaseOrderApi.searchPurchaseOrder(store_uuid, branch_uuid, values)\r\n        // setPurchaseOrders(res.data)\r\n        setQuery(values)\r\n      },\r\n    });\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n\r\n      {/* 1. Danh muc  */}\r\n      <Typography variant=\"h5\"className={classes.text} >Danh mục:</Typography>\r\n\r\n\r\n      {/* 2. Tien von from-to */}\r\n      <Typography variant=\"h5\"className={classes.text} >Giá vốn:</Typography>\r\n      <VNDInput  label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        name=\"minStandardPrice\"\r\n        value={formik.values.minStandardPrice}\r\n        onChange={formik.handleChange}\r\n      />\r\n      <VNDInput  label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n         name=\"maxStandardPrice\"\r\n         value={formik.values.maxStandardPrice}\r\n         onChange={formik.handleChange}\r\n      />\r\n\r\n      {/* 2. Tien ban from-to */}\r\n      <Typography variant=\"h5\"className={classes.text} >Giá bán:</Typography>\r\n      <VNDInput  label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n       name=\"minListPrice\"\r\n       value={formik.values.minListPrice}\r\n       onChange={formik.handleChange}\r\n      />\r\n      <VNDInput  label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        name=\"maxListPrice\"\r\n        value={formik.values.maxListPrice}\r\n        onChange={formik.handleChange}\r\n      />\r\n\r\n      {/* 4. Tồn kho from-to */} \r\n      <Typography variant=\"h5\"className={classes.text} >Tồn kho:</Typography>\r\n      <ThousandSeperatedInput  label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        name=\"minInventory\"\r\n        value={formik.values.minInventory}\r\n        onChange={formik.handleChange}\r\n      />\r\n      <ThousandSeperatedInput  label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        name=\"maxInventory\"\r\n        value={formik.values.maxInventory}\r\n        onChange={formik.handleChange}\r\n      />\r\n\r\n\r\n      {/* 5. Tinh trang ton kho : còn hang het hang */} \r\n      {/* <Typography variant=\"h5\"className={classes.text} >Tình trạng:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Đã hết</MenuItem>\r\n        <MenuItem value=\"q1\">Sắp hết</MenuItem>\r\n        <MenuItem value=\"q1\">Còn hàng</MenuItem>\r\n      </Select>\r\n      </FormControl> */}\r\n\r\n      {/* 6. Ngày tao ? */}\r\n      {/* <Typography variant=\"h5\"className={classes.text} >Ngày bán:</Typography>\r\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      /> */}\r\n\r\n      {/* Ngung kinh doanh ? */}\r\n\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        name=\"status\"\r\n        value={formik.values.status}\r\n        onChange={formik.handleChange}\r\n      >\r\n        <MenuItem value=\"active\">Hoạt động</MenuItem>\r\n        <MenuItem value=\"inactive\">Ngưng hoạt động</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n       {/* BUTTON */}\r\n       <Button onClick={formik.handleSubmit} variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n           Lọc\r\n      </Button>\r\n          \r\n\r\n\r\n          \r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default InventoryFilter\r\n\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Button,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\n\r\n//import api\r\nimport productApi from \"../../../api/productApi\";\r\nimport storeApi from \"../../../api/storeApi\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n////import project\r\n//riêng\r\nimport Category from \"./Category/Category\";\r\nimport AddInventory from \"./AddInventory/AddInventory\";\r\nimport InventoryTableRow from \"./InventoryTableRow/InventoryTableRow\";\r\n//chung\r\nimport SnackBar from \"../../../components/SnackBar/SnackBar\";\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport * as excel from \"../../../assets/constant/excel\";\r\n\r\nimport * as xlsx from \"xlsx\";\r\nimport ProductImportPopper from \"../../../components/Popper/ProductImportPopper\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {ProductMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\nimport InventoryFilter from \"./InventoryTool/InventoryFilter\";\r\n\r\nconst Inventory = () => {\r\n  const [productList, setProductList] = useState([]);\r\n  const [reload, setReload] = useState(true);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n  const importProductByJSON = async (jsonData) => {\r\n    try {\r\n      setOpenProductImportPopper(true);\r\n      setIsLoadingProduct(true);\r\n      const res = await storeApi.importProductJSON(store_uuid, jsonData);\r\n      if (res.status === \"error\") {\r\n        setIsLoadingProduct(false);\r\n        setProductErrors(res.data);\r\n      } else {\r\n        setIsLoadingProduct(false);\r\n        setOpenProductImportPopper(false);\r\n        setReload(!reload);\r\n      }\r\n\r\n      // setOpen(true);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setIsLoadingProduct(false);\r\n      // setOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPagingState({ ...pagingState, page: 0 });\r\n  }, [reload, store_uuid, branch_uuid]);\r\n\r\n  const initialQuery = {\r\n    orderBy: 'products.created_at',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n    minStandardPrice: \"\",\r\n    maxStandardPrice: \"\",\r\n    minListPrice: \"\",\r\n    maxListPrice: \"\",\r\n    minInventory: \"\",\r\n    maxInventory: \"\",\r\n    status: \"\",\r\n    categoryId: \"\",\r\n  };\r\n  const handleRemoveFilter = () => {\r\n    setQuery(initialQuery)\r\n  }\r\n  const [query, setQuery] = useState(initialQuery)\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n\r\n  const [totalRows, setTotalRows] = useState(0)\r\n  useEffect(() => {\r\n    setPagingState({...pagingState, page: 0})\r\n  }, [reload, store_uuid, query])\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await productApi.getProductsOfBranch(\r\n          store_uuid,\r\n          branch_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query\r\n          }\r\n        );\r\n        setTotalRows(response.total_rows)\r\n        setProductList(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (store_uuid && branch_uuid) {\r\n      loadData();\r\n    }\r\n    \r\n  }, [pagingState.page, pagingState.limit, branch_uuid, reload, query]);\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  //category\r\n  const [openCategory, setOpenCategory] = React.useState(false);\r\n  const handleClickOpenCategory = () => {\r\n    setOpenCategory(true);\r\n  };\r\n  const handleCloseCategory = () => {\r\n    setOpenCategory(false);\r\n    console.log(\"here\");\r\n  };\r\n\r\n  //status add\r\n  const [addStatus, setAddStatus] = React.useState(null);\r\n\r\n  //noti\r\n  const [openBar, setOpenBar] = React.useState(false);\r\n  const handleCloseBar = () => {\r\n    setOpenBar(false);\r\n  };\r\n\r\n  //collapse\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n  const handleOpenRow = (row) => {\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  // header sort\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"id\");\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n  };\r\n\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  /// import product by file\r\n  const [openProductImportPopper, setOpenProductImportPopper] = useState(false);\r\n  const [isLoadingProduct, setIsLoadingProduct] = useState(false);\r\n  const [productErrors, setProductErrors] = useState([]);\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <ProductImportPopper\r\n        open={openProductImportPopper}\r\n        loading={isLoadingProduct}\r\n        errors={productErrors}\r\n        handleClose={() => setOpenProductImportPopper(false)}\r\n      />\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        {/* 1. ADD POP UP */}\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Sản phẩm\r\n        </Typography>\r\n        <Grid className={classes.btngroup}>\r\n          <Tooltip title=\"Xem danh mục\">\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              onClick={handleClickOpenCategory}\r\n            >\r\n              Danh mục\r\n            </Button>\r\n          </Tooltip>\r\n\r\n          <ButtonBase sx={{ borderRadius: \"16px\" }} onClick={handleClickOpen}>\r\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\r\n              <Tooltip title=\"Thêm sản phẩm\">\r\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n              </Tooltip>\r\n            </Avatar>\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Popup add */}\r\n      <Category open={openCategory} handleClose={handleCloseCategory} />\r\n      {open && (\r\n        <AddInventory\r\n          open={open}\r\n          handleClose={handleClose}\r\n          setReload={() => setReload(!reload)}\r\n        />\r\n      )}\r\n      {/* Noti */}\r\n      <SnackBar\r\n        openBar={openBar}\r\n        handleCloseBar={handleCloseBar}\r\n        addStatus={addStatus}\r\n      />\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT*/}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      <ToolBar\r\n        dataTable={productList}\r\n        tableType={TableType.INVENTORY}\r\n        handlePrint={handlePrint}\r\n        handleSearchValueChange={setSearchValue}\r\n        handleToggleFilter={handleToggleFilter}\r\n        hasImport={true}\r\n        importProductByJSON={importProductByJSON}\r\n        excel_head={excel.header_product}\r\n        excel_data={excel.excel_data_product}\r\n        excel_name={excel.excel_name_product}\r\n        columnsToKeep={[\r\n          { dbName: \"product_code\", displayName: \"Mã sản phẩm\" },\r\n          { dbName: \"name\", displayName: \"Sản phẩm\" },\r\n          { dbName: \"bar_code\", displayName: \"Mã vạch\" },\r\n          { dbName: \"list_price\", displayName: \"Giá bán\" },\r\n          { dbName: \"standard_price\", displayName: \"Giá nhập\" },\r\n          { dbName: \"quantity_available\", displayName: \"Tồn kho\" },\r\n          { dbName: \"min_reorder_quantity\", displayName: \"Điểm đặt hàng lại\" },\r\n        ]}\r\n\r\n\r\n        orderByOptions={[\r\n          {value: 'products.created_at', label: 'Ngày nhập'},\r\n          {value: 'products.list_price', label: 'Gia ban'},\r\n          {value: 'products.standard_price', label: 'Gia von'},\r\n          {value: 'products.quantity_available', label: 'Ton kho'},\r\n        ]}\r\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\r\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n        \r\n        handleRemoveFilter={handleRemoveFilter}\r\n      />\r\n\r\n      <InventoryFilter \r\n         openFilter={openFilter}\r\n         setQuery={setQuery}\r\n         query={query}\r\n         setProductList={setProductList}\r\n         handleToggleFilter={handleToggleFilter}\r\n      />\r\n\r\n\r\n      {/* 3. TABLE */}\r\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}>\r\n        <TableHeader\r\n          classes={classes}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.InventoryHeadCells}\r\n        />\r\n        <TableBody>\r\n          {productList.map((row, index) => {\r\n            return (\r\n              <InventoryTableRow\r\n                key={row.uuid}\r\n                row={row}\r\n                setReload={() => setReload(!reload)}\r\n                openRow={openRow}\r\n                handleOpenRow={handleOpenRow}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>:\r\n      productList.map((row, index) => {\r\n        return (\r\n          // <ProductMiniTableRow\r\n          //   key={row.uuid}\r\n          //   row={row}\r\n          //   setReload={() => setReload(!reload)}\r\n          //   openRow={openRow}\r\n          //   handleOpenRow={handleOpenRow}\r\n          // />\r\n          // <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={() => setReload(!reload)} \r\n          // totalCost={row.total_amount}  id={row.purchase_order_code} partnerName={row.supplier_name} date={row.creation_date} \r\n          // typeBill={\"Sản phẩm\"} />\r\n          <ProductMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={() => setReload(!reload)} \r\n            img={row.img_url}  id={row.product_code} name={row.name} list_price={row.list_price} standard_price={row.standard_price}  branch_quantity={row.branch_quantity} min_reorder_quantity={row.min_reorder_quantity}\r\n            typePartner={\"Sản phẩm\"}  />\r\n        );\r\n      })\r\n\r\n      }\r\n\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ComponentToPrint productList={productList} classes={classes} />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\nexport default Inventory;\r\n\r\nconst ComponentToPrint = ({ productList, classes }) => {\r\n  return (\r\n    <div>\r\n      <Typography\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 20,\r\n          fontWeight: 500,\r\n          margin: 30,\r\n          color: \"#000\",\r\n        }}\r\n      >\r\n        Danh sách sản phẩm\r\n      </Typography>\r\n      <div>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.InventoryHeadCells}\r\n        />\r\n        <TableBody>\r\n          {productList.map((row, index) => {\r\n            return <InventoryTableRow key={row.uuid} row={row} />;\r\n          })}\r\n        </TableBody>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// PRINT làm lại sau\r\n\r\n//print\r\n// const componentRef = useRef();\r\n// const handlePrint = useReactToPrint({\r\n//     content: () => componentRef.current,\r\n// });\r\n\r\n{\r\n  /* <ComponentToPrint dataTable={dataTable} headerData={headerData} tableType={tableType} ref={componentRef} /> */\r\n}\r\n\r\n// function ComponentToPrint(props) {\r\n//   const [dataTable, setDataTable] = React.useState([])\r\n//   const [headerData, setHeaderData] = React.useState(props.headerData)\r\n//   const [tableType, setTableType] = React.useState(props.tableType)\r\n\r\n//   React.useEffect(() => {\r\n//     setDataTable(props.dataTable)\r\n//   }, [props.dataTable])\r\n\r\n//   return (\r\n//     <MyTable rows={dataTable} headerData={headerData} tableType={tableType} />\r\n//   )\r\n// }\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\nimport { useFormik } from 'formik';\r\nimport moment from 'moment';\r\nimport purchaseOrderApi from '../../../../api/purchaseOrderApi';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst InventoryOrderFilter = (props) => {\r\n    const {handleToggleFilter,openFilter, setPurchaseOrders, query, setQuery} = props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const info = useSelector((state) => state.info);\r\n    const store_uuid = info.store.uuid;\r\n    const branch_uuid = info.branch.uuid;\r\n    \r\n    const formik = useFormik({\r\n      initialValues: query,\r\n      onSubmit: async values => {\r\n        // console.log(values)\r\n        // const res = await purchaseOrderApi.searchPurchaseOrder(store_uuid, branch_uuid, values)\r\n        // setPurchaseOrders(res.data)\r\n        setQuery(values)\r\n      },\r\n    });\r\n\r\n\r\n    return (\r\n      <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n        {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\r\n        {/* Giao hàng, dia chi giao ???*/}\r\n        {/* tiền giảm ???*/}\r\n  \r\n  \r\n        {/* 1.Ngay from-to */}\r\n        <Typography variant=\"h5\" className={classes.text} >Ngày nhập:</Typography>\r\n        <TextField id=\"startDate\" label=\"Từ\" \r\n          type=\"date\" \r\n          name=\"startDate\"\r\n          defaultValue={formik.values.startDate} \r\n          variant=\"outlined\" size=\"small\" fullWidth \r\n          className={classes.textField} \r\n          InputLabelProps={{ shrink: true }} \r\n          value={formik.values.startDate} \r\n          onChange={formik.handleChange}\r\n        />\r\n        <TextField \r\n          id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\r\n          defaultValue={formik.values.endDate} \r\n          variant=\"outlined\" size=\"small\" \r\n          fullWidth className={classes.textField} \r\n          InputLabelProps={{ shrink: true }} \r\n          value={formik.values.endDate}  \r\n          onChange={formik.handleChange}\r\n        />\r\n       \r\n  \r\n        {/* 2.Tien from-to*/}\r\n        <Typography variant=\"h5\" className={classes.text} >Tiền nhập:</Typography>\r\n        <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n          name=\"minTotalAmount\"\r\n          value={formik.values.minTotalAmount}\r\n          onChange={formik.handleChange}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n        />\r\n        <VNDInput \r\n          id=\"maxTotalAmount\" name=\"maxTotalAmount\"\r\n          required label=\"Đến\" variant=\"outlined\" \r\n          fullWidth size=\"small\" className={classes.textField}\r\n          value={formik.values.maxTotalAmount}\r\n          onChange={formik.handleChange}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n        />\r\n  \r\n        {/* 3.Giảm giá from-to*/}\r\n        <Typography variant=\"h5\" className={classes.text} >Giảm giá:</Typography>\r\n        <TextField required label=\"Từ\" variant=\"outlined\" \r\n          name=\"minDiscount\" id=\"minDiscount\"\r\n          fullWidth size=\"small\" className={classes.textField}\r\n          value={formik.values.minDiscount}\r\n          onChange={formik.handleChange}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n        />\r\n        <VNDInput \r\n          required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" \r\n          id=\"maxDiscount\" name=\"maxDiscount\"\r\n          className={classes.textField}\r\n          value={formik.values.maxDiscount}\r\n          onChange={formik.handleChange}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n        />\r\n  \r\n  \r\n  \r\n        {/* 4.Chi nhanh */}\r\n        {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\r\n        <FormControl\r\n            className={classes.formControl}\r\n            fullWidth\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n          >\r\n        <Select\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          id=\"demo-simple-select-outlined\"\r\n          size=\"small\"\r\n          // onChange={(event) => { setGender(event.target.value) }}\r\n          // label=\" Chi nhánh\"\r\n          // value={gender}\r\n        >\r\n          <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\r\n          <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\r\n        </Select>\r\n        </FormControl> */}\r\n  \r\n  \r\n  \r\n        {/* 5.Trang thai */}\r\n        <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\r\n        <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"status\"\r\n            name=\"status\"\r\n            size=\"small\"\r\n            onChange={formik.handleChange}\r\n            // label=\" Chi nhánh\"\r\n            value={formik.values.status}\r\n          >\r\n            <MenuItem value=\"debt\">Còn nợ</MenuItem>\r\n            <MenuItem value=\"closed\">Trả đủ</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n  \r\n  \r\n  \r\n        {/* 5.Pttt */}\r\n        <Typography variant=\"h5\" className={classes.text} >Phương thức thanh toán:</Typography>\r\n        <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"paymentMethod\" name=\"paymentMethod\"\r\n            size=\"small\"\r\n            onChange={formik.handleChange}\r\n            // label=\" Chi nhánh\"\r\n            value={formik.values.paymentMethod}\r\n          >\r\n            <MenuItem value=\"card\">Thẻ</MenuItem>\r\n            <MenuItem value=\"cash\">Tiền mặt</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n  \r\n        {/* BUTTON */}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={formik.handleSubmit}\r\n          style={{ marginTop: 30 }}>\r\n          Lọc\r\n        </Button>\r\n  \r\n  \r\n  \r\n      </Drawer>\r\n    )\r\n}\r\n\r\nexport default InventoryOrderFilter\r\n\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\n\r\nimport {TableCell,TableRow} from '@material-ui/core';\r\n\r\nimport {FormatedStatus} from '../../../../components/TableCommon/util/format'\r\nimport InventoryOrderDetail from './InventoryOrderDetail/InventoryOrderDetail'\r\nimport {VNDFormat} from '../../../../components/TextField/NumberFormatCustom'\r\n\r\nconst InventoryOrderTableRow = (props) => {\r\n    const { row, handleOpenRow,openRow} = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <>\r\n        {/* ROW */}\r\n            <TableRow\r\n            onClick={() => handleOpenRow(row.uuid)}   \r\n            key={row.uuid}\r\n            className={ clsx(classes.row,(openRow === row.uuid) ? classes.rowClicked : null)}\r\n            >\r\n                <TableCell align=\"left\" >{row.purchase_order_code}</TableCell>\r\n                <TableCell align=\"left\" >{row.creation_date}</TableCell>\r\n                <TableCell align=\"left\"className={classes.fontName}>{row.supplier_name}</TableCell>\r\n                <TableCell align=\"left\"className={classes.fontName} style={{minWidth:150}}>{row.branch_name}</TableCell>\r\n                <TableCell align=\"left\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell>\r\n                <TableCell align=\"right\"><VNDFormat value={row.total_amount  -row.discount}/></TableCell>\r\n                <TableCell align=\"center\" className={classes.fontName}>\r\n                    <FormatedStatus debt={row.status === 'debt' ? 0 : 1}/>\r\n                </TableCell>\r\n               \r\n            </TableRow>\r\n\r\n        {/* DETAIL */}\r\n            <TableRow>\r\n              {/* colspan  => số cột trong collapse */}\r\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \r\n                    <InventoryOrderDetail parentProps={props}/>       \r\n              </TableCell>\r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InventoryOrderTableRow\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n\r\n// import redux\r\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n////import project\r\nimport InventoryOrderFilter from \"./InventoryOrderTool/InventoryOrderFilter\";\r\nimport InventoryOrderTableRow from \"./InventoryOrderTableRow/InventoryOrderTableRow\";\r\n//chung\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\nimport purchaseOrderApi from \"../../../api/purchaseOrderApi\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nconst InventoryOrder = () => {\r\n  // fetch data here\r\n  const [purchaseOrders, setPurchaseOrders] = useState([]);\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const dispatch = useDispatch();\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  //// 2. Table\r\n  //collapse\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n  const handleOpenRow = (row) => {\r\n    console.log(row);\r\n    console.log(openRow);\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  const initialQuery = {\r\n    startDate: '',\r\n    endDate: '',\r\n    minDiscount: 0,\r\n    maxDiscount: 0,\r\n    minTotalAmount: 0,\r\n    maxTotalAmount: 0,\r\n    status: '',\r\n    paymentMethod: '',\r\n    orderBy: 'purchase_orders.creation_date',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n  };\r\n\r\n  const handleRemoveFilter = () => {\r\n    setQuery(initialQuery)\r\n  }\r\n  const [query, setQuery] = useState(initialQuery)\r\n\r\n  const [reload, setReload] = React.useState(false);\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n  const [totalRows, setTotalRows] = useState(0)\r\n  //3.2. filter\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n  const onReload = () => {\r\n    setReload(!reload);\r\n  };\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n  };\r\n\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  useEffect(() => {\r\n    setPagingState({ ...pagingState, page: 0 });\r\n  }, [reload, store_uuid, branch_uuid, query]);\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await purchaseOrderApi.getAllOfBranch(\r\n          store_uuid,\r\n          branch_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query\r\n          }\r\n        );\r\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\r\n        setTotalRows(response.total_rows);\r\n        setPurchaseOrders(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (store_uuid && branch_uuid ) {\r\n      \r\n      loadData();\r\n    }\r\n  }, [pagingState.page, pagingState.limit, branch_uuid, query]);\r\n\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: \"error\",\r\n    message: \"Kiểm kho thất bại\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log(query)\r\n  }, [query])\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        {/* 1. ADD POP UP */}\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Đơn nhập hàng\r\n        </Typography>\r\n\r\n        <Grid className={classes.btngroup1}>\r\n          <ButtonBase\r\n            sx={{ borderRadius: \"16px\" }}\r\n            onClick={() => {\r\n              dispatch(customizeAction.setSidebarOpen(false));\r\n              dispatch(customizeAction.setItemMenuOpen(4));\r\n            }}\r\n            component={Link}\r\n            to=\"/home/inventory/import\"\r\n          >\r\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\r\n              <Tooltip title=\"Nhập hàng\">\r\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n              </Tooltip>\r\n            </Avatar>\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT*/}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/}\r\n      <ToolBar\r\n        dataTable={purchaseOrders}\r\n        tableType={TableType.INVENTORY_ORDER}\r\n        textSearch={\"#, NCC, Nguoi nhap,...\"}\r\n        handleToggleFilter={handleToggleFilter}\r\n        handlePrint={handlePrint}\r\n\r\n        orderByOptions={[\r\n          {value: 'purchase_orders.creation_date', label: 'Ngày nhập'},\r\n          {value: 'total_amount', label: 'Tổng tiền nhập'},\r\n        ]}\r\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\r\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n        \r\n        handleRemoveFilter={handleRemoveFilter}\r\n\r\n        columnsToKeep = {[\r\n          {dbName:\"purchase_order_code\",displayName:\"Mã đơn nhập\"},\r\n          {dbName:\"payment_date\",displayName:\"Ngày nhập\"},\r\n          {dbName:\"supplier_name\",displayName:\"Nhà cung cấp\"},\r\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \r\n          {dbName:\"paid_amount\",displayName:\"Tiền đã trả\"}, \r\n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\r\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"}\r\n        ]}\r\n      />\r\n\r\n      <InventoryOrderFilter\r\n        openFilter={openFilter}\r\n        setQuery={setQuery}\r\n        query={query}\r\n        setPurchaseOrders={setPurchaseOrders}\r\n        handleToggleFilter={handleToggleFilter}\r\n      />\r\n\r\n      {/* 3. TABLE */}\r\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.InventoryOrderHeadCells}\r\n          pagingState={pagingState}\r\n          setPagingState={setPagingState}\r\n          \r\n        />\r\n        <TableBody>\r\n          {purchaseOrders.map((row, index) => {\r\n            return (\r\n              <InventoryOrderTableRow\r\n                key={row.uuid}\r\n                row={row}\r\n                openRow={openRow}\r\n                handleOpenRow={handleOpenRow}\r\n                onReload={onReload}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>\r\n      :\r\n      purchaseOrders.map((row, index) => {\r\n        return (\r\n          <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \r\n          totalCost={row.total_amount}  id={row.purchase_order_code} partnerName={row.supplier_name} date={row.creation_date} \r\n          typeBill={\"Đơn nhập hàng\"} />\r\n\r\n        );\r\n      })\r\n       \r\n      \r\n      }\r\n\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ComponentToPrint purchaseOrders={purchaseOrders} classes={classes} />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InventoryOrder;\r\n\r\nconst ComponentToPrint = ({ purchaseOrders, classes }) => {\r\n  return (\r\n    <div>\r\n      <Typography\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 20,\r\n          fontWeight: 500,\r\n          margin: 30,\r\n          color: \"#000\",\r\n        }}\r\n      >\r\n        Danh sách đơn nhập hàng\r\n      </Typography>\r\n      <div>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.InventoryOrderHeadCells}\r\n        />\r\n        <TableBody>\r\n          {purchaseOrders.map((row, index) => {\r\n            return <InventoryOrderTableRow key={row.uuid} row={row} />;\r\n          })}\r\n        </TableBody>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\n\r\nimport { TableCell, TableRow } from '@material-ui/core';\r\n\r\nimport InventoryReturnDetail from './InventoryReturnDetail/InventoryReturnDetail'\r\nimport { FormatedStatus } from '../../../../components/TableCommon/util/format'\r\nimport { VNDFormat } from '../../../../components/TextField/NumberFormatCustom'\r\n\r\nconst InventoryReturnTableRow = (props) => {\r\n    const { row, handleOpenRow, openRow } = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <>\r\n            {/* ROW */}\r\n            <TableRow\r\n                onClick={() => handleOpenRow(row.uuid)}\r\n                key={row.uuid}\r\n                className={clsx(classes.row, (openRow === row.uuid) ? classes.rowClicked : null)}\r\n            >\r\n                <TableCell align=\"left\" >{row.purchase_return_code}</TableCell>\r\n                <TableCell align=\"left\" className={classes.fontName}>{row.creation_date}</TableCell>\r\n                <TableCell align=\"left\" className={classes.fontName} style={{ minWidth: 150 }}>{row.supplier_name}</TableCell>\r\n                <TableCell align=\"left\">{row.branch_name}</TableCell>\r\n                <TableCell align=\"left\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell>\r\n                <TableCell align=\"center\" className={classes.fontName}><VNDFormat value={row.total_amount} /></TableCell>\r\n                {/* <TableCell align=\"center\" className={classes.fontName}>\r\n                    <FormatedStatus debt={row.status === 'debt' ? 1 : 0} />\r\n                </TableCell> */}\r\n                {/* <TableCell align=\"right\" ></TableCell>\r\n                <TableCell align=\"right\" ></TableCell> */}\r\n            </TableRow>\r\n\r\n            {/* DETAIL */}\r\n            <TableRow>\r\n                {/* colspan  => số cột trong collapse */}\r\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\r\n                    <InventoryReturnDetail parentProps={props} />\r\n                </TableCell>\r\n\r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default InventoryReturnTableRow\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom';\r\nimport { useFormik } from 'formik';\r\nimport moment from 'moment';\r\nimport purchaseReturnApi from '../../../../api/purchaseReturnApi';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst InventoryReturnFilter = (props) => {\r\n    const {handleToggleFilter,openFilter, setPurchaseReturns, query, setQuery} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const info = useSelector((state) => state.info);\r\n    const store_uuid = info.store.uuid;\r\n    const branch_uuid = info.branch.uuid;\r\n    \r\n    const formik = useFormik({\r\n      initialValues: query,\r\n      onSubmit: async values => {\r\n        // console.log(values)\r\n        // const res = await purchaseReturnApi.searchPurchaseReturn(store_uuid, branch_uuid, values)\r\n        setQuery(values)\r\n      },\r\n    });\r\n\r\n    return (\r\n      <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n        \r\n\r\n        {/* 1.Ngay from-to */}\r\n        <Typography variant=\"h5\" className={classes.text} >Ngày trả:</Typography>\r\n        <TextField id=\"startDate\" label=\"Từ\" \r\n          type=\"date\" \r\n          name=\"startDate\"\r\n          defaultValue={formik.values.startDate} \r\n          variant=\"outlined\" size=\"small\" fullWidth \r\n          className={classes.textField} \r\n          InputLabelProps={{ shrink: true }} \r\n          value={formik.values.startDate} \r\n          onChange={formik.handleChange}\r\n        />\r\n        <TextField \r\n          id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\r\n          defaultValue={formik.values.endDate} \r\n          variant=\"outlined\" size=\"small\" \r\n          fullWidth className={classes.textField} \r\n          InputLabelProps={{ shrink: true }} \r\n          value={formik.values.endDate}  \r\n          onChange={formik.handleChange}\r\n        />\r\n       \r\n  \r\n        {/* 2.Tien from-to*/}\r\n        <Typography variant=\"h5\" className={classes.text} >Tiền trả:</Typography>\r\n        <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n          name=\"minTotalAmount\"\r\n          value={formik.values.minTotalAmount}\r\n          onChange={formik.handleChange}\r\n        />\r\n        <VNDInput \r\n          id=\"maxTotalAmount\" name=\"maxTotalAmount\"\r\n          required label=\"Đến\" variant=\"outlined\" \r\n          fullWidth size=\"small\" className={classes.textField}\r\n          value={formik.values.maxTotalAmount}\r\n          onChange={formik.handleChange}\r\n        />\r\n\r\n        {/* 5.Trang thai */}\r\n        <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\r\n        <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"status\"\r\n            name=\"status\"\r\n            size=\"small\"\r\n            onChange={formik.handleChange}\r\n            // label=\" Chi nhánh\"\r\n            value={formik.values.status}\r\n          >\r\n            <MenuItem value=\"debt\">Còn nợ</MenuItem>\r\n            <MenuItem value=\"closed\">Trả đủ</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n  \r\n        {/* 5.Pttt */}\r\n        <Typography variant=\"h5\" className={classes.text}>Phương thức thanh toán:</Typography>\r\n        <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"paymentMethod\" name=\"paymentMethod\"\r\n            size=\"small\"\r\n            onChange={formik.handleChange}\r\n            // label=\" Chi nhánh\"\r\n            value={formik.values.paymentMethod}\r\n          >\r\n            <MenuItem value=\"card\">Thẻ</MenuItem>\r\n            <MenuItem value=\"cash\">Tiền mặt</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n  \r\n        {/* BUTTON */}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={formik.handleSubmit}\r\n          style={{ marginTop: 30 }}>\r\n          Lọc\r\n        </Button>\r\n      </Drawer>\r\n    )\r\n}\r\n\r\nexport default InventoryReturnFilter\r\n\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n\r\n//import api\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n////import project\r\n//riêng\r\nimport InventoryReturnTableRow from \"./InventoryReturnTableRow/InventoryReturnTableRow\";\r\nimport InventoryReturnFilter from \"./InventoryReturnTool/InventoryReturnFilter\";\r\n\r\n//chung\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\n\r\nimport JSONdata from \"../../../assets/JsonData/inventoryReturn.json\";\r\nimport { useSelector } from \"react-redux\";\r\nimport purchaseReturnApi from \"../../../api/purchaseReturnApi\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nconst InventoryReturnOrder = () => {\r\n  const [purchaseReturns, setPurchaseReturns] = useState([]);\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n  const [totalRows, setTotalRows] = useState(0)\r\n\r\n  const initialQuery = {\r\n    startDate: '',\r\n    endDate: '',\r\n    minTotalAmount: 0,\r\n    maxTotalAmount: 0,\r\n    status: '',\r\n    paymentMethod: '',\r\n    orderBy: 'purchase_returns.creation_date',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n  };\r\n  const handleRemoveFilter = () => {\r\n    setQuery(initialQuery)\r\n  }\r\n  const [query, setQuery] = useState(initialQuery)\r\n\r\n  useEffect(() => {\r\n    setPagingState({ ...pagingState, page: 0 });\r\n  }, [reload, store_uuid, branch_uuid, query]);\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await purchaseReturnApi.getAllOfBranch(\r\n          store_uuid,\r\n          branch_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query\r\n          }\r\n        );\r\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\r\n        setTotalRows(response.total_rows)\r\n        setPurchaseReturns(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (store_uuid && branch_uuid) {\r\n\r\n      loadData();\r\n    }\r\n  }, [pagingState.page, pagingState.limit, branch_uuid, query]);\r\n\r\n  const handleOpenRow = (row) => {\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  // header sort\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"id\");\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n  };\r\n\r\n  //3. ToolBar\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n  //3.1. search\r\n\r\n  //3.2. filter\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n\r\n  //3.3. loc cot\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Đơn trả hàng nhập\r\n        </Typography>\r\n      </Grid>\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT*/}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      {/* <ToolBar  dataTable={inventoryReturnList} tableType={TableType.INVENTORY_RETURN} /*handlePrint={handlePrint}*/}\r\n      <ToolBar\r\n        dataTable={purchaseReturns}\r\n        tableType={TableType.INVENTORY_RETURN}\r\n        textSearch={\"#, #đn, NCC, Nguoi trả,...\"}\r\n        handleToggleFilter={handleToggleFilter}\r\n        handlePrint={handlePrint}\r\n\r\n        orderByOptions={[\r\n          {value: 'purchase_returns.creation_date', label: 'Ngày trả'},\r\n          {value: 'total_amount', label: 'Tổng tiền trả'},\r\n        ]}\r\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\r\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n        handleRemoveFilter={handleRemoveFilter}\r\n\r\n        columnsToKeep = {[\r\n          {dbName:\"purchase_return_code\",displayName:\"Mã trả hàng nhập\"},\r\n          {dbName:\"purchase_order_code\",displayName:\"Mã đơn nhập\"},\r\n          {dbName:\"creation_date\",displayName:\"Ngày nhập\"},\r\n          {dbName:\"supplier_name\",displayName:\"Nhà cung cấp\"},\r\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \r\n          {dbName:\"paid_amount\",displayName:\"Tổng tiền đã thu\"}, \r\n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\r\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"}\r\n        ]}\r\n      />\r\n\r\n      <InventoryReturnFilter\r\n        openFilter={openFilter}\r\n        setQuery={setQuery}\r\n        query={query}\r\n        handleToggleFilter={handleToggleFilter}\r\n        setPurchaseReturns={setPurchaseReturns}\r\n      />\r\n\r\n      {/* 3. TABLE */}\r\n      {!xsScreen? <TableWrapper  pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}>\r\n        <TableHeader\r\n          classes={classes}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.InventoryReturnOrderHeadCells}\r\n        />\r\n        <TableBody>\r\n          {purchaseReturns.map((row, index) => {\r\n            return (\r\n              <InventoryReturnTableRow\r\n                key={row.uuid}\r\n                row={row}\r\n                openRow={openRow}\r\n                handleOpenRow={handleOpenRow}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>:\r\n      purchaseReturns.map((row, index) => {\r\n        return (\r\n          // <InventoryReturnTableRow\r\n          //   key={row.uuid}\r\n          //   row={row}\r\n          //   openRow={openRow}\r\n          //   handleOpenRow={handleOpenRow}\r\n          // />\r\n          <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \r\n          totalCost={row.total_amount}  id={row.purchase_return_code} partnerName={row.supplier_name} date={row.creation_date} \r\n          typeBill={\"Đơn trả hàng nhập\"}/>\r\n\r\n        );\r\n      })\r\n      }\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ComponentToPrint\r\n            purchaseReturns={purchaseReturns}\r\n            classes={classes}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst ComponentToPrint = ({ purchaseReturns, classes }) => {\r\n  return (\r\n    <div>\r\n      <Typography\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 20,\r\n          fontWeight: 500,\r\n          margin: 30,\r\n          color: \"#000\",\r\n        }}\r\n      >\r\n        Danh sách đơn trả hàng nhập\r\n      </Typography>\r\n      <div>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.InventoryReturnOrderHeadCells}\r\n        />\r\n        <TableBody>\r\n          {purchaseReturns.map((row, index) => {\r\n            return <InventoryReturnTableRow key={row.uuid} row={row} />;\r\n          })}\r\n        </TableBody>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InventoryReturnOrder;\r\n","import React from 'react'\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport {Grid,Card,Box, Typography,TextField,InputAdornment,DialogActions,DialogContent,IconButton,Button,Dialog,FormControlLabel,Checkbox,FormControl,FormLabel,RadioGroup, Radio} from '@material-ui/core'\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddSupplier from '../../../../views/InventoryView/Supplier/AddSupplier/AddSupplier'\r\n\r\nimport SearchSupplier from '../../../SearchBar/SearchSupplier';\r\n\r\n//import project \r\nimport * as Input from '../../../TextField/NumberFormatCustom'\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nimport SupplierData from '../../../../assets/JsonData/supplier.json'\r\nimport supplierApi from '../../../../api/supplierApi';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  marginBox:{\r\n    marginTop:30\r\n  },\r\n  marginRow:{\r\n    marginTop:5\r\n  },\r\n  hidden:{\r\n    display: \"none\",\r\n  },\r\n  headerTitle:{\r\n    fontSize: \"1.125rem\",\r\n  }\r\n}));\r\nconst OrderSummary = (props) => {\r\n    const {cartData, updateCustomer,currentCustomer, mode} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    const handleClose = (status) => {\r\n        setOpen(false);\r\n    };\r\n\r\n    //phuong thuc thanh toan\r\n    const [payment, setPayment] = React.useState('cash');\r\n\r\n    const handleChangePayment = (event) => {\r\n        setPayment(event.target.value);\r\n    };\r\n    //mode 2: popup\r\n    const [openPopUp, setOpenPopUp] = React.useState(false);\r\n    const handleClickOpenPopUp = () => {\r\n        setOpenPopUp(true);\r\n    };\r\n\r\n    const handleClosePopUp = () => {\r\n        setOpenPopUp(false);\r\n    };\r\n\r\n\r\n    return (\r\n        \r\n        <Box style={{padding:30,minHeight:'80vh'}}>\r\n                    \r\n            <Grid container direction=\"column\"  alignItems=\"flex-start\" spacing={3}>\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" >\r\n                        {/* 1. BASIC INFO */}\r\n                    <Grid item  xs={8} container direction=\"column\"  alignItems=\"flex-start\">\r\n                        <Typography variant=\"h5\">\r\n                            Chi nhánh \r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            Chi nhánh trung tâm\r\n                        </Typography>\r\n                        \r\n                    </Grid>\r\n                    \r\n                    <Grid item xs={4} container direction=\"column\"  alignItems=\"flex-end\">\r\n                        <Typography variant=\"body2\">\r\n                            22/12/2008\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            22:30\r\n                        </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n                \r\n                <div style={{ width: '100%'}}>\r\n                    \r\n                        {/* <Autocomplete\r\n                            id=\"free-solo-demo\"\r\n                            freeSolo\r\n                            value={currentCustomer}\r\n                            options={SupplierData}\r\n                            getOptionLabel={(option) => option.name.concat(\" - \").concat(option.phone) } \r\n                            onChange={(event, value) => {updateCustomer(value);}} \r\n                            renderInput={(params) => (\r\n                                <TextField \r\n                                {...params}\r\n                                fullWidth \r\n                                placeholder=\"Tìm nhà cung cấp\"\r\n                                margin=\"normal\"  \r\n                                InputProps={currentCustomer === null? {\r\n                                    ...params.InputProps,\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                        <SearchIcon style={{color:grey[500]}}/>\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                    endAdornment: (\r\n                                        <IconButton aria-label=\"delete\"  size=\"small\" onClick={handleClickOpen} style={{marginRight:-30}}>\r\n                                            <AddIcon/>\r\n                                        </IconButton>\r\n                                        ),\r\n                                    }: {\r\n                                    ...params.InputProps,\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                        <SearchIcon style={{color:grey[500]}}/>\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                    }}\r\n                                \r\n                                />\r\n                            )}  \r\n                            renderOption={(option) => {\r\n                                return (\r\n                                <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\"  >\r\n                                    <Typography variant=\"h5\">{option.name}</Typography>\r\n                                    <Typography variant=\"body1\">{option.phone}</Typography>               \r\n                                </Grid>\r\n                                )\r\n                              }}          \r\n                        /> */}\r\n\r\n                        <SearchSupplier handleClickOpen={handleClickOpen} selectedSupplier={{name: \"\", phone:\"\"}}/>\r\n\r\n                </div>\r\n                \r\n                <AddSupplier  open={open} handleClose={handleClose}/>\r\n            \r\n                {/* when change mode to menu product */}\r\n                {props.children}\r\n\r\n                {/* 2. PAYMENT INFO  */}\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginBox}>\r\n                    <Typography variant=\"h5\">\r\n                        Tổng số mặt hàng\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                            5\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginRow}>\r\n                    <Typography variant=\"h5\">\r\n                        Khoảng tiền hàng\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                            500.000\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                {/* <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\r\n                    <Typography variant=\"h5\">\r\n                        Tiền đã cọc\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                        400.000\r\n                    </Typography>\r\n                </Grid> */}           \r\n                <Button variant=\"contained\" fullWidth color=\"primary\" style={{marginTop:40}} onClick={()=>{console.log(\"Gui mail NCC\")}}>\r\n                    Đặt hàng\r\n                </Button>\r\n        </Grid>\r\n    </Box>\r\n\r\n    )\r\n}\r\n\r\nexport default OrderSummary\r\n\r\n","import React from 'react'\r\n//import style\r\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\r\n//impỏrt library\r\nimport {Box,TextField,ListItem,IconButton,TableRow,TableCell,Typography} from '@material-ui/core'\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\n//import project \r\nimport * as Input from '../../../../components/TextField/NumberFormatCustom'\r\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\r\n\r\nimport icon from '../../../../assets/img/product/tch.jpeg';\r\n\r\n\r\nexport const OrderProductRow = ({row}) =>{\r\n    const classes = useStyles(); \r\n    const [quantity, setQuantity] = React.useState(row.quantity);\r\n\r\n    return (\r\n      <TableRow hover key={row.id}>\r\n         <TableCell align=\"left\" style={{width:5}}>{row.stt}</TableCell>\r\n          {/* <TableCell align=\"left\">{row.id}</TableCell> */}\r\n          <TableCell align=\"left\" style={{minWidth:200}}>\r\n            <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}> \r\n                <Box component=\"img\" sx={{ height: 40, width: 40,  borderRadius:10,  marginRight:15 }}src={icon} />\r\n                {row.name}\r\n            </ListItem>  \r\n            </TableCell>\r\n          <TableCell align=\"right\">\r\n            {/* <Input.ThousandSeperatedInput id=\"standard-basic\" style={{width:70 }} size=\"small\" inputProps={{style: { textAlign: \"right\" }}} defaultPrice={row.price}  /> */}\r\n            {row.price}\r\n          </TableCell>\r\n  \r\n          <TableCell align=\"left\" padding='none' >\r\n            <ButtonQuantity quantity={quantity} setQuantity={setQuantity}/> \r\n          </TableCell> \r\n          \r\n          <TableCell align=\"right\"className={classes.boldText}>{row.price * row.quantity}</TableCell>\r\n          <TableCell align=\"right\" >\r\n            <IconButton aria-label=\"expand row\" size=\"small\" >\r\n                <DeleteForeverOutlinedIcon/>\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n    )\r\n  }\r\nexport const OrderProductRowMini = ({row}) =>{\r\n    const classes = useStyles(); \r\n\r\n    return (\r\n        <TableRow hover key={row.id}>\r\n        \r\n          <TableCell align=\"left\" >\r\n            <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}> \r\n                <Box component=\"img\" sx={{ height: 40, width: 40,  borderRadius:10,  marginRight:15 }}src={icon} />\r\n                <Box direction=\"column\">\r\n\r\n                    <Typography className={classes.boldText} style={{marginBottom:3, fontSize:14.5,width:135, textOverflow: 'ellipsis' ,overflow: 'hidden',whiteSpace: 'nowrap' }}>{row.name}</Typography>\r\n                    <Typography>{row.price}</Typography>\r\n                    \r\n                </Box>\r\n            </ListItem>  \r\n        </TableCell>\r\n     \r\n          <TableCell align=\"left\" padding='none' >\r\n                <TextField variant=\"outlined\" defaultValue={row.quantity} style={{width:37,margin: 0}}  size=\"small\" inputProps={{style: { paddingLeft: 5,paddingRight: 5, textAlign: \"center\"}}} />\r\n          </TableCell> \r\n          \r\n          <TableCell align=\"right\"className={classes.boldText}>700.000</TableCell>\r\n          <TableCell align=\"left\" >\r\n            <IconButton aria-label=\"expand row\" size=\"small\"style={{marginLeft:-25}} >\r\n                <DeleteForeverOutlinedIcon/>\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n    )\r\n  }\r\n\r\n\r\n","import React from 'react'\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\n//import library \r\nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\r\nimport ArrowBackTwoToneIcon from '@material-ui/icons/ArrowBackTwoTone';\r\nimport { Link } from \"react-router-dom\";\r\n//import constant\r\nimport * as HeadCells from '../../../assets/constant/tableHead'\r\n\r\n\r\n//import project\r\n//rieng\r\nimport OrderSummary from '../../../components/CheckoutComponent/CheckoutSummary/OrderSummary/OrderSummary'\r\nimport {OrderProductRow,OrderProductRowMini} from './OrderProductTableRow/OrderProductTableRow'\r\n//chung\r\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\"\r\nimport ChangeCartBtn from  \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\"\r\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\r\nimport TableHeader from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport {getComparator,stableSort} from '../../../components/TableCommon/util/sortUtil'\r\n\r\n// update state\r\nimport update from 'immutability-helper';\r\n\r\n // FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\r\n\r\nconst OrderProduct = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    ////------------ I. DATA (useState) ----------------\r\n    // Cart data get from search_product component \r\n    // const cartData = [\r\n    //     // QUANTITY có thể edit ->  truyền quatity edit ngược về cartData ??\r\n    //     //dựa vào id của text field quatity ??\r\n\r\n    //     //còn bị lỗi sort // tự generate stt\r\n    //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n    //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n    //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },  \r\n    //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n    //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n    //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },   \r\n        \r\n    // ]; \r\n    // chú ý cartList id from 1 to ... dùng để edit + delete\r\n    // const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: cartData}]);\r\n\r\n    const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: []}]);\r\n    //// ----------II. FUNCTION\r\n    // 1.Cart\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n    \r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleChoose = (index) =>{\r\n        setSelectedIndex(index);\r\n        handleClose();\r\n    }\r\n    const handleAdd = () =>{\r\n        // ADD CART\r\n        setCartList([...cartList, { id: cartList.length + 1, customer:null, cartItem: []}]);\r\n        setSelectedIndex(cartList.length);\r\n        handleClose();\r\n    } \r\n    const handleDelete = (index) =>{\r\n        // DELETE CART\r\n        cartList.splice(index, 1);\r\n        setCartList(cartList);\r\n        if (selectedIndex === index){setSelectedIndex(0);}\r\n        else if(selectedIndex > index){setSelectedIndex(selectedIndex-1);}\r\n        handleClose();\r\n    }\r\n    const updateCustomer =  value => {  \r\n        let newArr = [...cartList]; // copying the old datas array\r\n        newArr[selectedIndex].customer = value; \r\n        setCartList(newArr);\r\n    }\r\n\r\n    //2. Table sort\r\n    const [order, setOrder] = React.useState('desc');\r\n    const [orderBy, setOrderBy] = React.useState('stt');\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n    //mode\r\n    const [mode, setMode] = React.useState(false);\r\n    const handleChangeMode = (event) => {\r\n        setMode(event.target.checked);\r\n    };\r\n\r\n\r\n    // handle search select \r\n    const handleSearchBarSelect = (selectedOption) => {\r\n        let newCartList = update(cartList, {[selectedIndex]: {cartItem: {$push: [selectedOption]}}})\r\n        setCartList(newCartList)\r\n    }\r\n    return (\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\"  alignItems=\"center\" spacing={2} >\r\n            \r\n            {/* 1. TABLE CARD (left) */}\r\n            <Grid item xs={12} sm={8}  >\r\n                <Card className={classes.root}>\r\n                    <Box style={{padding:30, minHeight:'80vh', paddingBottom:0}} >\r\n                        <Box style={{ height:'70vh'}}>\r\n                        {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\r\n                        <Grid \r\n                            container\r\n                            direction=\"row\"\r\n                            justifyContent=\"space-between\"  \r\n                            alignItems=\"center\"\r\n                            style={{marginTop:-10,marginBottom:30}}\r\n                        > \r\n                            <Grid>\r\n                                <ListItem  >\r\n                                    <IconButton \r\n                                    style={{marginLeft:-35,marginRight:10}}\r\n                                    component={Link}\r\n                                    to='/home/inventory/order-list' \r\n                                    \r\n                                    >\r\n                                        <ArrowBackTwoToneIcon/>\r\n                                    </IconButton>\r\n                                    {/* 1.1.1 Title */}\r\n                                    <Typography  variant=\"h3\" > Đặt hàng </Typography> \r\n                                    <Typography  variant=\"h3\" style={{marginLeft:10, color:theme.customization.primaryColor[500]}}> # {cartList[selectedIndex].id} </Typography> \r\n                                    {/* 1.1.2. Btn Channge Cart */}\r\n                                    <ChangeCartBtn selectedIndex={selectedIndex}anchorEl={anchorEl}cartList={cartList} handleClick={handleClick} handleClose={handleClose}handleChoose={handleChoose}handleDelete={handleDelete}handleAdd={handleAdd} isCart={false}/>                \r\n                                </ListItem>\r\n                            </Grid>\r\n                            <Grid>\r\n                                {/* 1.1.3. Search */}\r\n                                <SearchProduct handleSearchBarSelect={handleSearchBarSelect}/>    \r\n                            </Grid>\r\n                        </Grid>\r\n\r\n\r\n                        {/* 1.2 TABLE */}\r\n                        {!mode ? \r\n                            <TableWrapper isCart={true} >\r\n                                <TableHeader\r\n                                    classes={classes}\r\n                                    order={order}\r\n                                    orderBy={orderBy}\r\n                                    onRequestSort={handleRequestSort}\r\n                                    headerData={HeadCells.OrderHeadCells}\r\n                                    isCart={true}\r\n                                />\r\n                                <TableBody>\r\n                                {stableSort(cartList[selectedIndex].cartItem, getComparator(order, orderBy))\r\n                                    .map((row, index) => {\r\n                                    return (\r\n                                        <OrderProductRow row={row}/> \r\n                                    );})\r\n                                }\r\n                                </TableBody>\r\n                            </TableWrapper> \r\n                        :\r\n\r\n                        <MenuProduct />\r\n                        \r\n                        }\r\n                        </Box>\r\n                       {/* 1.3 CHANGE MODE  */}\r\n                        <FormControlLabel\r\n                            control={<Switch checked={mode} onChange={handleChangeMode} />}\r\n                            style={{display: \"flex\",justifyContent: \"flex-end\",margin:-10, marginTop:10}}\r\n                        />\r\n \r\n                    </Box>\r\n                </Card>\r\n            </Grid>\r\n\r\n\r\n            {/* 2.SUMMARY CARD (right) */}\r\n            <Grid item xs={12} sm={4} className={classes.root} >\r\n                \r\n                <Card className={classes.root}>\r\n                    <Box style={{padding:0,minHeight:'80vh', }}>\r\n                    {!mode  ?\r\n                        /* Viết hàm tính toán sau dựa trên cartData ... hiện tại đang set cứng giá trị */\r\n                        <OrderSummary cartData={cartList[selectedIndex].cartItem} updateCustomer={updateCustomer}  currentCustomer={cartList[selectedIndex].customer} mode={mode}/>                    \r\n                        : \r\n                        <OrderSummary cartData={cartList[selectedIndex].cartItem} updateCustomer={updateCustomer}  currentCustomer={cartList[selectedIndex].customer} mode={mode}>\r\n                            <TableContainer style={{maxHeight: '40vh',marginBottom:20, height:'40vh'}}>                         \r\n                                <TableBody>\r\n                                {cartList[selectedIndex].cartItem.map((row, index) => {\r\n                                    return (\r\n                                    <OrderProductRowMini row={row}/> \r\n                                    );})\r\n                                }\r\n                                </TableBody>\r\n                            </TableContainer> \r\n                        </OrderSummary>\r\n  \r\n                    }\r\n                    </Box>\r\n                </Card>\r\n           \r\n           \r\n            </Grid>\r\n        </Grid>\r\n        \r\n    )\r\n}\r\n\r\nexport default OrderProduct\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\nimport { VNDFormat,ThounsandFormat } from '../../../../components/TextField/NumberFormatCustom';\r\nimport {TableCell,TableRow} from '@material-ui/core';\r\n\r\nimport {FormatedStatusOrder} from '../../../../components/TableCommon/util/format'\r\nimport OrderProductListDetail from './OrderProductListDetail/OrderProductListDetail'\r\n\r\nconst OrderProductListTableRow = (props) => {\r\n    const { row, handleOpenRow,openRow} = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <>\r\n        {/* ROW */}\r\n            <TableRow\r\n            onClick={() => handleOpenRow(row.id)}   \r\n            key={row.id}\r\n            className={ clsx(classes.row,(openRow === row.id) ? classes.rowClicked : null)}\r\n            >\r\n                <TableCell align=\"left\" >{row.customer_order_code}</TableCell>\r\n                <TableCell align=\"left\"className={classes.fontName}>{row.created_at}</TableCell>\r\n                <TableCell align=\"left\"className={classes.fontName} style={{minWidth:150}}>{row.name}</TableCell>\r\n                <TableCell align=\"left\">{row.phone}</TableCell>\r\n                <TableCell align=\"right\" className={classes.fontName}><VNDFormat value={row.total_amount} /></TableCell>\r\n                <TableCell align=\"center\">\r\n                    <FormatedStatusOrder status={row.status}/>\r\n                </TableCell>\r\n                <TableCell align=\"left\">{row.address}</TableCell>\r\n            </TableRow>\r\n\r\n        {/* DETAIL */}\r\n            <TableRow>\r\n              {/* colspan  => số cột trong collapse */}\r\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \r\n                    <OrderProductListDetail parentProps={props}/>       \r\n              </TableCell>\r\n       \r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OrderProductListTableRow\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst OrderProductListFilter = (props) => {\r\n    const {handleToggleFilter,openFilter} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n         {/* Nhan vien, NCC?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\r\n         {/* 1.Ngay from-to */}\r\n      <Typography variant=\"h5\"className={classes.text} >Ngày đặt:</Typography>\r\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n      {/* 2,Khoảng tiền from-to*/}\r\n      <Typography variant=\"h5\"className={classes.text} >Tiền đơn nhập:</Typography>\r\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        //  value={productInfo.importedPrice}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n      />\r\n      <VNDInput required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n      //  value={productInfo.importedPrice}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n      />\r\n       {/* 3.Chi nhanh */}\r\n       <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\r\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n      {/* 4. Trang thai */}\r\n      <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\r\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n        {/* BUTTON */}\r\n        <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n           Lọc\r\n      </Button>\r\n\r\n\r\n          \r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default OrderProductListFilter\r\n\r\n","import React, {useState, useEffect,useRef} from 'react'\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {Typography,Card,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useReactToPrint } from \"react-to-print\";\r\n\r\n//import api \r\n\r\n// import redux\r\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n//import constant\r\nimport * as HeadCells from '../../../assets/constant/tableHead'\r\nimport *  as TableType from '../../../assets/constant/tableType'\r\n\r\n////import project\r\nimport OrderProductListFilter from './OrderProductListTool/OrderProductListFilter'\r\n\r\nimport OrderProductListTableRow from './OrderProductListTableRow/OrderProductListTableRow'\r\n//chung\r\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport ToolBar from '../../../components/TableCommon/ToolBar/ToolBar'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\n\r\nimport JSONdata from '../../../assets/JsonData/inventoryOrder.json'\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\nimport orderApi from '../../../api/orderApi';\r\n\r\n\r\nconst OrderProductList = () => {\r\n   // fetch data here\r\n   const orderProductList = JSONdata;\r\n  \r\n\r\n   const theme = useTheme();\r\n   const classes = useStyles(theme);\r\n   const dispatch = useDispatch();\r\n   const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n  \r\n\r\n\r\n   //// 2. Table\r\n   //collapse\r\n   const [openRow, setRowOpen] = React.useState(null);\r\n   const handleOpenRow = (row) => {\r\n       if (row !==  openRow){setRowOpen(row);}\r\n       else{setRowOpen(null)}  \r\n   };\r\n\r\n   // header sort \r\n   const [order, setOrder] = React.useState('asc');\r\n   const [orderBy, setOrderBy] = React.useState('id');\r\n   \r\n   const handleRequestSort = (event, property) => {\r\n     //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n     // const isAsc = orderBy === property && order === 'asc';\r\n     // setOrder(isAsc ? 'desc' : 'asc');\r\n     // setOrderBy(property);\r\n   };\r\n\r\n\r\n    //3. ToolBar\r\n     // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n      content: () => componentRef.current,\r\n  });\r\n    //3.1. search\r\n\r\n    //3.2. filter\r\n    const [openFilter, setOpenFilter] = React.useState(false);\r\n    const handleToggleFilter = () => {\r\n      setOpenFilter(!openFilter);\r\n    };\r\n\r\n    //3.3. loc cot\r\n\r\n\r\n\r\n\r\n    // fileter\r\n    const [customerOrders, setCustomerOrders] = useState([])\r\n    const initialQuery = {\r\n      startDate: '',\r\n      endDate: '',\r\n      minTotalAmount: 0,\r\n      maxTotalAmount: 0,\r\n      status: '',\r\n      orderBy: 'customer_orders.created_at',\r\n      sort: 'desc',\r\n      searchKey: '',\r\n    };\r\n    const handleRemoveFilter = () => {\r\n      setQuery(initialQuery)\r\n    }\r\n    const [query, setQuery] = useState(initialQuery)\r\n    const [reload, setReload] = React.useState(false);\r\n    const [pagingState, setPagingState] = useState({\r\n      page: 0,\r\n      limit: 10,\r\n    });\r\n    const [totalRows, setTotalRows] = useState(0)\r\n    const onReload = () => {\r\n      setReload(!reload);\r\n    };\r\n    const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  useEffect(() => {\r\n    setPagingState({ ...pagingState, page: 0 });\r\n  }, [reload, store_uuid, branch_uuid, query]);\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await orderApi.searchCustomerOrder(\r\n          store_uuid,\r\n          branch_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query\r\n          }\r\n        );\r\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\r\n        setTotalRows(response.total_rows);\r\n        setCustomerOrders(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (store_uuid && branch_uuid ) {\r\n      \r\n      loadData();\r\n    }\r\n  }, [pagingState.page, pagingState.limit, branch_uuid, query]);\r\n\r\n\r\n  return (\r\n    <Card className={classes.root} >\r\n          <Grid \r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"space-between\"  \r\n          > \r\n              {/* 1. ADD POP UP */}\r\n                <Typography className={classes.headerTitle} variant=\"h5\">\r\n                    Đơn đặt hàng nhập\r\n                </Typography>\r\n\r\n                <Grid className={classes.btngroup1} >\r\n                    <ButtonBase \r\n                        sx={{ borderRadius: '16px' }} \r\n                        onClick={()=>{dispatch(customizeAction.setSidebarOpen(false));}}\r\n                        component={Link}\r\n                        to='/home/inventory/order-list/order' \r\n                        >\r\n                        <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\r\n                            <Tooltip title=\"Đặt hàng\">\r\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n                            </Tooltip>\r\n                        </Avatar>\r\n                    </ButtonBase>\r\n            </Grid>\r\n          </Grid>\r\n    \r\n          <Divider />\r\n\r\n          {/* 2. SEARCH - FILTER - EXPORT*/}\r\n          {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n          {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/ }\r\n          <ToolBar  dataTable={orderProductList} tableType={TableType.ORDER_LIST}  textSearch={'#, NCC, Nguoi đặt,...'}\r\n           handleToggleFilter={handleToggleFilter}  handlePrint={handlePrint}\r\n\r\n           orderByOptions={[\r\n            {value: 'customer_orders.created_at', label: 'Ngày tạo'},\r\n            {value: 'total_amount', label: 'Tổng tiền'},\r\n          ]}\r\n          orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\r\n          sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\r\n          searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n          \r\n          handleRemoveFilter={handleRemoveFilter}\r\n  \r\n          columnsToKeep = {[\r\n            {dbName:\"purchase_order_code\",displayName:\"Mã đơn nhập\"},\r\n            {dbName:\"payment_date\",displayName:\"Ngày nhập\"},\r\n            {dbName:\"supplier_name\",displayName:\"Nhà cung cấp\"},\r\n            {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \r\n            {dbName:\"paid_amount\",displayName:\"Tiền đã trả\"}, \r\n            {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\r\n            {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"}\r\n          ]}\r\n           \r\n           /> \r\n\r\n          {/* <OrderProductListFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/> */}\r\n\r\n\r\n\r\n          {/* 3. TABLE */}\r\n          {!xsScreen?<TableWrapper\r\n           pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\r\n          >\r\n              <TableHeader\r\n                classes={classes}\r\n                order={order}\r\n                orderBy={orderBy}\r\n                onRequestSort={handleRequestSort}\r\n                headerData={HeadCells.OrderListHeadCells}\r\n              />\r\n              <TableBody>\r\n                {customerOrders.map((row, index) => {\r\n                    return (\r\n                      <OrderProductListTableRow key={row.id} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} />\r\n         \r\n                    );\r\n                })}\r\n              </TableBody>\r\n          </TableWrapper>:\r\n          orderProductList.map((row, index) => {\r\n            return (\r\n              <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  \r\n              //onReload={onReload} \r\n              totalCost={10000}  id={\"OR00001\"} partnerName={\"THAY THẾ\"} date={\"22/12/2008\"} \r\n              typeBill={\"Đơn đặt hàng nhập\"} />\r\n            );\r\n          })}\r\n          <div  style={{display:'none'}} >\r\n            <div ref={componentRef}  >\r\n            <ComponentToPrint  orderProductList={orderProductList} classes={classes}/>\r\n            </div>\r\n        \r\n          </div>\r\n     \r\n      </Card>\r\n  )\r\n}\r\n\r\nexport default OrderProductList\r\n\r\nconst ComponentToPrint = ({orderProductList,classes}) =>{\r\n  return (\r\n      <div >\r\n        <Typography style={{flexGrow: 1,textAlign: \"center\",fontSize:20, fontWeight:500, margin:30, color:'#000'}} >Danh sác đơn đặt hàng NCC</Typography>\r\n        <div >\r\n          <TableHeader\r\n                classes={classes}\r\n                headerData={HeadCells.OrderListHeadCells}\r\n              />\r\n              <TableBody >\r\n                {orderProductList.map((row, index) => {\r\n                  return (\r\n                    <OrderProductListTableRow\r\n                      key={row.uuid}\r\n                      row={row}\r\n                    \r\n                    />\r\n                  );\r\n                })}\r\n              </TableBody>\r\n        </div>\r\n  </div>\r\n  )\r\n}","import React from 'react'\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport {Grid,Card,Box, Typography,DialogTitle,TextField,InputAdornment,DialogActions,DialogContent,IconButton,Button,Dialog,FormControlLabel,Checkbox,FormControl,FormLabel,RadioGroup, Radio} from '@material-ui/core'\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddSupplier from '../../../../views/InventoryView/Supplier/AddSupplier/AddSupplier'\r\n\r\nimport SearchSupplier from '../../../SearchBar/SearchSupplier';\r\n\r\n//import project \r\nimport * as Input from '../../../TextField/NumberFormatCustom'\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nimport SupplierData from '../../../../assets/JsonData/supplier.json'\r\nimport supplierApi from '../../../../api/supplierApi';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  marginBox:{\r\n    marginTop:30\r\n  },\r\n  marginRow:{\r\n    marginTop:5\r\n  },\r\n  hidden:{\r\n    display: \"none\",\r\n  },\r\n  headerTitle:{\r\n    fontSize: \"1.125rem\",\r\n  }\r\n}));\r\nconst CheckSummary = (props) => {\r\n    const {cartData, updateCustomer,currentCustomer, mode} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    const handleClose = (status) => {\r\n        setOpen(false);\r\n    };\r\n\r\n    //phuong thuc thanh toan\r\n    const [payment, setPayment] = React.useState('cash');\r\n\r\n    const handleChangePayment = (event) => {\r\n        setPayment(event.target.value);\r\n    };\r\n    //mode 2: popup\r\n    const [openPopUp, setOpenPopUp] = React.useState(false);\r\n    const handleClickOpenPopUp = () => {\r\n        setOpenPopUp(true);\r\n    };\r\n\r\n    const handleClosePopUp = () => {\r\n        setOpenPopUp(false);\r\n    };\r\n\r\n     //check confirm\r\n    const [openConfirm, setOpenConfirm] = React.useState(false);\r\n     const handleOpenConfirm = () => {\r\n        setOpenConfirm(true);\r\n       };\r\n    const handleCloseConfirm = (status) => {\r\n        setOpenConfirm(false);\r\n        setAddStatus(status);\r\n        if(status === \"Success\"){\r\n            // onReload();\r\n            setOpenBar(true);\r\n        }else if (status === \"Fail\"){\r\n            setOpenBar(true);\r\n        }\r\n    };\r\n    //status add\r\n    const [addStatus, setAddStatus] = React.useState(null);\r\n    \r\n    //noti\r\n    const [openBar, setOpenBar] = React.useState(false);\r\n    const handleCloseBar = () => {\r\n      setOpenBar(false)\r\n    };\r\n\r\n\r\n    return (\r\n        \r\n        <Box style={{padding:30,minHeight:'80vh'}}>\r\n                    \r\n            <Grid container direction=\"column\"  alignItems=\"flex-start\" spacing={3}>\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" >\r\n                        {/* 1. BASIC INFO */}\r\n                    <Grid item  xs={8} container direction=\"column\"  alignItems=\"flex-start\">\r\n                        <Typography variant=\"h5\">\r\n                            Chi nhánh \r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            Chi nhánh trung tâm\r\n                        </Typography>\r\n                        \r\n                    </Grid>\r\n                    \r\n                    <Grid item xs={4} container direction=\"column\"  alignItems=\"flex-end\">\r\n                        <Typography variant=\"body2\">\r\n                            22/12/2008\r\n                        </Typography>\r\n                        <Typography variant=\"body2\">\r\n                            22:30\r\n                        </Typography>\r\n                    </Grid>\r\n                </Grid>\r\n                \r\n               \r\n                        \r\n                {/* when change mode to menu product */}\r\n                {props.children}\r\n\r\n                {/* 2. PAYMENT INFO  */}\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginBox}>\r\n                    <Typography variant=\"h5\">\r\n                        Tổng tồn kho\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                            5\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginRow}>\r\n                    <Typography variant=\"h5\">\r\n                       Tổng SL thực tế\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                            500.000\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.marginRow}>\r\n                    <Typography variant=\"h5\">\r\n                       Tổng lệch\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                            500.000\r\n                    </Typography>\r\n                </Grid>\r\n\r\n                        \r\n                <Button variant=\"contained\" fullWidth color=\"primary\" style={{marginTop:40}} onClick={handleOpenConfirm}>\r\n                    Kiểm  kho\r\n                </Button>\r\n                <Dialog open={openConfirm} onClose={handleCloseConfirm} aria-labelledby=\"form-dialog-title\">\r\n                    <DialogTitle id=\"form-dialog-title\">\r\n                        <Typography className={classes.headerTitle} variant=\"h5\">\r\n                        Xác nhận\r\n                        </Typography>\r\n                    </DialogTitle>\r\n\r\n                    <DialogContent>\r\n                        Cân bằng kho của bạn\r\n                    </DialogContent>\r\n\r\n                    <DialogActions>\r\n                        <Button\r\n                        onClick={() => handleCloseConfirm(null)}\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        color=\"secondary\"\r\n                        >\r\n                        Huỷ\r\n                        </Button>\r\n                        <Button\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        >\r\n                        OK\r\n                        </Button>\r\n                    </DialogActions>\r\n                    </Dialog>\r\n\r\n\r\n        </Grid>\r\n    </Box>\r\n\r\n    )\r\n}\r\n\r\nexport default CheckSummary\r\n\r\n","import React from 'react'\r\n//import style\r\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\r\n//impỏrt library\r\nimport {Box,TextField,ListItem,IconButton,TableRow,TableCell,Typography} from '@material-ui/core'\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\n//import project \r\nimport * as Input from '../../../../components/TextField/NumberFormatCustom'\r\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\r\n\r\nimport icon from '../../../../assets/img/product/tch.jpeg';\r\n\r\n\r\nexport const CheckRow = ({row}) =>{\r\n    const classes = useStyles(); \r\n    const [quantity, setQuantity] = React.useState(row.quantity);\r\n\r\n    return (\r\n      <TableRow hover key={row.id}>\r\n         <TableCell align=\"left\" style={{width:5}}>{row.stt}</TableCell>\r\n          {/* <TableCell align=\"left\">{row.id}</TableCell> */}\r\n          <TableCell align=\"left\" style={{minWidth:200}}>\r\n            <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}> \r\n                <Box component=\"img\" sx={{ height: 40, width: 40,  borderRadius:10,  marginRight:15 }}src={icon} />\r\n                {row.name}\r\n            </ListItem>  \r\n            </TableCell>\r\n          <TableCell align=\"right\">\r\n            100\r\n          </TableCell>\r\n  \r\n          <TableCell align=\"left\" padding='none' >\r\n            <ButtonQuantity quantity={quantity} setQuantity={setQuantity}/> \r\n          </TableCell> \r\n\r\n          <TableCell align=\"right\">\r\n             {99 -100}\r\n          </TableCell>\r\n          \r\n          <TableCell align=\"right\"className={classes.boldText}>{row.price * row.quantity}</TableCell>\r\n          <TableCell align=\"right\" >\r\n            <IconButton aria-label=\"expand row\" size=\"small\" >\r\n                <DeleteForeverOutlinedIcon/>\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n    )\r\n  }\r\nexport const CheckRowMini = ({row}) =>{\r\n    const classes = useStyles(); \r\n\r\n    return (\r\n        <TableRow hover key={row.id}>\r\n        \r\n          <TableCell align=\"left\" >\r\n            <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}> \r\n                <Box component=\"img\" sx={{ height: 40, width: 40,  borderRadius:10,  marginRight:15 }}src={icon} />\r\n                <Box direction=\"column\">\r\n\r\n                    <Typography className={classes.boldText} style={{marginBottom:3, fontSize:14.5,width:135, textOverflow: 'ellipsis' ,overflow: 'hidden',whiteSpace: 'nowrap' }}>{row.name}</Typography>\r\n                    <Typography>100</Typography>\r\n                    \r\n                </Box>\r\n            </ListItem>  \r\n        </TableCell>\r\n     \r\n          <TableCell align=\"left\" padding='none' >\r\n              <TextField variant=\"outlined\" defaultValue={row.quantity} style={{width:37,margin: 0}}  size=\"small\" inputProps={{style: { paddingLeft: 5,paddingRight: 5, textAlign: \"center\"}}} />\r\n          </TableCell> \r\n          \r\n          <TableCell align=\"right\"className={classes.boldText}>-5</TableCell>\r\n          <TableCell align=\"left\" >\r\n            <IconButton aria-label=\"expand row\" size=\"small\"style={{marginLeft:-25}} >\r\n                <DeleteForeverOutlinedIcon/>\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n    )\r\n  }\r\n\r\n\r\n","import React from 'react'\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\n//import library \r\nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\r\nimport ArrowBackTwoToneIcon from '@material-ui/icons/ArrowBackTwoTone';\r\nimport { Link } from \"react-router-dom\";\r\n//import constant\r\nimport * as HeadCells from '../../../assets/constant/tableHead'\r\n\r\n\r\n//import project\r\n//rieng\r\nimport CheckSummary from '../../../components/CheckoutComponent/CheckoutSummary/CheckSummary/CheckSummary'\r\nimport {CheckRow,CheckRowMini} from './CheckTableRow/CheckTableRow'\r\n//chung\r\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\"\r\nimport ChangeCartBtn from  \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\"\r\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\r\nimport TableHeader from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport {getComparator,stableSort} from '../../../components/TableCommon/util/sortUtil'\r\n\r\n// update state\r\nimport update from 'immutability-helper';\r\n\r\n // FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\r\n\r\nconst Check = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    ////------------ I. DATA (useState) ----------------\r\n    // Cart data get from search_product component \r\n    // const cartData = [\r\n    //     // QUANTITY có thể edit ->  truyền quatity edit ngược về cartData ??\r\n    //     //dựa vào id của text field quatity ??\r\n\r\n    //     //còn bị lỗi sort // tự generate stt\r\n    //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n    //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n    //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },  \r\n    //     { stt: 1, id: 123, name:\"Áo dài Việt Nam Việt Nam\", quantity:2, price:200 },\r\n    //     { stt: 2, id: 12,  name:\"Quan\", quantity:1, price:220 },\r\n    //     { stt: 3, id: 134,  name:\"Bánh\", quantity:3, price:240 },   \r\n        \r\n    // ]; \r\n    // chú ý cartList id from 1 to ... dùng để edit + delete\r\n    // const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: cartData}]);\r\n\r\n    const [cartList, setCartList] = React.useState([{ id: 1, customer: null, cartItem: []}]);\r\n    //// ----------II. FUNCTION\r\n    // 1.Cart\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n    \r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleChoose = (index) =>{\r\n        setSelectedIndex(index);\r\n        handleClose();\r\n    }\r\n    const handleAdd = () =>{\r\n        // ADD CART\r\n        setCartList([...cartList, { id: cartList.length + 1, customer:null, cartItem: []}]);\r\n        setSelectedIndex(cartList.length);\r\n        handleClose();\r\n    } \r\n    const handleDelete = (index) =>{\r\n        // DELETE CART\r\n        cartList.splice(index, 1);\r\n        setCartList(cartList);\r\n        if (selectedIndex === index){setSelectedIndex(0);}\r\n        else if(selectedIndex > index){setSelectedIndex(selectedIndex-1);}\r\n        handleClose();\r\n    }\r\n    const updateCustomer =  value => {  \r\n        let newArr = [...cartList]; // copying the old datas array\r\n        newArr[selectedIndex].customer = value; \r\n        setCartList(newArr);\r\n    }\r\n\r\n    //2. Table sort\r\n    const [order, setOrder] = React.useState('desc');\r\n    const [orderBy, setOrderBy] = React.useState('stt');\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n    //mode\r\n    const [mode, setMode] = React.useState(false);\r\n    const handleChangeMode = (event) => {\r\n        setMode(event.target.checked);\r\n    };\r\n\r\n\r\n    // handle search select \r\n    const handleSearchBarSelect = (selectedOption) => {\r\n        let newCartList = update(cartList, {[selectedIndex]: {cartItem: {$push: [selectedOption]}}})\r\n        setCartList(newCartList)\r\n    }\r\n   \r\n    return (\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\"  alignItems=\"center\" spacing={2} >\r\n            \r\n            {/* 1. TABLE CARD (left) */}\r\n            <Grid item xs={12} sm={8}  >\r\n                <Card className={classes.root}>\r\n                    <Box style={{padding:30, minHeight:'80vh', paddingBottom:0}} >\r\n                        <Box style={{ height:'70vh'}}>\r\n                        {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\r\n                        <Grid \r\n                            container\r\n                            direction=\"row\"\r\n                            justifyContent=\"space-between\"  \r\n                            alignItems=\"center\"\r\n                            style={{marginTop:-10,marginBottom:30}}\r\n                        > \r\n                            <Grid>\r\n                                <ListItem  >\r\n                                    <IconButton \r\n                                    style={{marginLeft:-35,marginRight:10}}\r\n                                    component={Link}\r\n                                    to='/home/inventory/check-history' \r\n                                    \r\n                                    >\r\n                                        <ArrowBackTwoToneIcon/>\r\n                                    </IconButton>\r\n                                    {/* 1.1.1 Title */}\r\n                                    <Typography  variant=\"h3\" > Kiểm kho </Typography> \r\n                                    <Typography  variant=\"h3\" style={{marginLeft:10, color:theme.customization.primaryColor[500]}}> # {cartList[selectedIndex].id} </Typography> \r\n                                    {/* 1.1.2. Btn Channge Cart */}\r\n                                    <ChangeCartBtn selectedIndex={selectedIndex}anchorEl={anchorEl}cartList={cartList} handleClick={handleClick} handleClose={handleClose}handleChoose={handleChoose}handleDelete={handleDelete}handleAdd={handleAdd} isCart={false}/>                \r\n                                </ListItem>\r\n                            </Grid>\r\n                            <Grid>\r\n                                {/* 1.1.3. Search */}\r\n                                <SearchProduct handleSearchBarSelect={handleSearchBarSelect}/>    \r\n                            </Grid>\r\n                        </Grid>\r\n\r\n\r\n                        {/* 1.2 TABLE */}\r\n                        {!mode ? \r\n                            <TableWrapper isCart={true} >\r\n                                <TableHeader\r\n                                    classes={classes}\r\n                                    order={order}\r\n                                    orderBy={orderBy}\r\n                                    onRequestSort={handleRequestSort}\r\n                                    headerData={HeadCells.CheckHeadCells}\r\n                                    isCart={true}\r\n                                />\r\n                                <TableBody>\r\n                                {stableSort(cartList[selectedIndex].cartItem, getComparator(order, orderBy))\r\n                                    .map((row, index) => {\r\n                                    return (\r\n                                        <CheckRow row={row}/> \r\n                                    );})\r\n                                }\r\n                                </TableBody>\r\n                            </TableWrapper> \r\n                        :\r\n\r\n                        <MenuProduct />\r\n                        \r\n                        }\r\n                        </Box>\r\n                       {/* 1.3 CHANGE MODE  */}\r\n                        <FormControlLabel\r\n                            control={<Switch checked={mode} onChange={handleChangeMode} />}\r\n                            style={{display: \"flex\",justifyContent: \"flex-end\",margin:-10, marginTop:10}}\r\n                        />\r\n \r\n                    </Box>\r\n                </Card>\r\n            </Grid>\r\n\r\n\r\n            {/* 2.SUMMARY CARD (right) */}\r\n            <Grid item xs={12} sm={4} className={classes.root} >\r\n                \r\n                <Card className={classes.root}>\r\n                    <Box style={{padding:0,minHeight:'80vh', }}>\r\n                    {!mode  ?\r\n                        /* Viết hàm tính toán sau dựa trên cartData ... hiện tại đang set cứng giá trị */\r\n                        <CheckSummary cartData={cartList[selectedIndex].cartItem}  mode={mode}/>                    \r\n                        : \r\n                        <CheckSummary cartData={cartList[selectedIndex].cartItem} updateCustomer={updateCustomer}  currentCustomer={cartList[selectedIndex].customer} mode={mode}>\r\n                            <TableContainer style={{maxHeight: '40vh',marginBottom:20, height:'40vh'}}>                         \r\n                                <TableBody>\r\n                                {cartList[selectedIndex].cartItem.map((row, index) => {\r\n                                    return (\r\n                                    <CheckRowMini row={row}/> \r\n                                    );})\r\n                                }\r\n                                </TableBody>\r\n                            </TableContainer> \r\n                        </CheckSummary>\r\n  \r\n                    }\r\n                    </Box>\r\n                </Card>\r\n           \r\n           \r\n            </Grid>\r\n        </Grid>\r\n        \r\n    )\r\n}\r\n\r\nexport default Check\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport {ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\n\r\nimport { useFormik } from 'formik';\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst CheckHistoryFilter = (props) => {\r\n    const {handleToggleFilter,openFilter,query, setQuery} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const formik = useFormik({\r\n      initialValues: query,\r\n      onSubmit: values => {\r\n        setQuery(values)\r\n      },\r\n    });\r\n\r\n\r\n    return (\r\n      <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n        {/* 1.Ngay from-to */}\r\n        <Typography variant=\"h5\" className={classes.text}>\r\n          Ngày kiểm:\r\n        </Typography>\r\n        <TextField\r\n          id=\"date\"\r\n          label=\"Từ\"\r\n          type=\"date\"\r\n          defaultValue=\"\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className={classes.textField}\r\n          InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n          name=\"startDate\"\r\n          value={formik.values.startDate}\r\n          onChange={formik.handleChange}\r\n        />\r\n        <TextField\r\n          id=\"date\"\r\n          label=\"Đến\"\r\n          type=\"date\"\r\n          defaultValue=\"\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          name=\"endDate\"\r\n          value={formik.values.endDate}\r\n          onChange={formik.handleChange}\r\n          className={classes.textField}\r\n          InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n        />\r\n        {/* 2.Chi nhanh */}\r\n        {/* <Typography variant=\"h5\" className={classes.text}>\r\n          Chi nhánh:\r\n        </Typography>\r\n        <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            size=\"small\"\r\n            // onChange={(event) => { setGender(event.target.value) }}\r\n            // label=\" Chi nhánh\"\r\n            // value={gender}\r\n          >\r\n            <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\r\n            <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\r\n          </Select>\r\n        </FormControl> */}\r\n        {/* 3. Lệch from-to */}\r\n        <Typography variant=\"h5\" className={classes.text}>\r\n          Lệch:\r\n        </Typography>\r\n        <ThousandSeperatedInput\r\n          label=\"Từ\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          className={classes.textField}\r\n          name=\"minTotalAmount\"\r\n          value={formik.values.minTotalAmount}\r\n          onChange={formik.handleChange}\r\n        />\r\n        <ThousandSeperatedInput\r\n          label=\"Đến\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          className={classes.textField}\r\n          name=\"maxTotalAmount\"\r\n          value={formik.values.maxTotalAmount}\r\n          onChange={formik.handleChange}\r\n        />\r\n\r\n        {/* 4. Trang thai */}\r\n        {/* <Typography variant=\"h5\" className={classes.text}>\r\n          Trạng thái:\r\n        </Typography>\r\n        <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            size=\"small\"\r\n            // onChange={(event) => { setGender(event.target.value) }}\r\n            // label=\" Chi nhánh\"\r\n            // value={gender}\r\n          >\r\n            <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\r\n            <MenuItem value=\"q1\">Trả đủ</MenuItem>\r\n          </Select>\r\n        </FormControl> */}\r\n\r\n        {/* BUTTON */}\r\n        <Button onClick={formik.handleSubmit} variant=\"contained\" color=\"primary\" style={{ marginTop: 30 }} >\r\n          Lọc\r\n        </Button>\r\n      </Drawer>\r\n    );\r\n}\r\n\r\nexport default CheckHistoryFilter\r\n\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\n\r\nimport {TableCell,TableRow} from '@material-ui/core';\r\nimport {ThousandFormat, VNDFormat} from \"../../../../components/TextField/NumberFormatCustom\"\r\nimport {FormatedStatusCheck} from '../../../../components/TableCommon/util/format'\r\nimport CheckHistoryDetail from './CheckHistoryDetail/CheckHistoryDetail'\r\n\r\nconst CheckHistoryTableRow = (props) => {\r\n    const { row, handleOpenRow,openRow} = props;\r\n    const classes = useRowStyles();\r\n\r\n    const quantityDifference = row.details\r\n      ?.map((detail) => detail.quantity)\r\n      .reduce((total, ele) => total + ele, 0)\r\n    \r\n    const moneyDifference = row.details\r\n      ?.map((detail) => Number(detail.quantity) * Number(detail.unit_price))\r\n      .reduce((total, num) => total + num, 0)\r\n\r\n\r\n    return (\r\n      <>\r\n        {/* ROW */}\r\n        <TableRow\r\n          onClick={() => handleOpenRow(row.uuid)}\r\n          key={row.uuid}\r\n          className={clsx(\r\n            classes.row,\r\n            openRow === row.uuid ? classes.rowClicked : null\r\n          )}\r\n        >\r\n          <TableCell align=\"left\">{row.inventory_check_code}</TableCell>\r\n          <TableCell align=\"left\" className={classes.fontName}>\r\n            {row.created_at}\r\n          </TableCell>\r\n          <TableCell align=\"left\">{row.branch_name}</TableCell>\r\n          <TableCell align=\"right\" className={classes.fontName}>\r\n           <ThousandFormat style={{fontWeight:700,color:quantityDifference >0 ?\"green\" :\"red\"}}value={quantityDifference} />\r\n          </TableCell>\r\n          <TableCell align=\"right\" className={classes.fontName}>\r\n          <VNDFormat style={{fontWeight:700,color:quantityDifference >0 ?\"green\" :\"red\"}} value={moneyDifference}/>\r\n          </TableCell>\r\n          {/* <TableCell align=\"center\">\r\n                    <FormatedStatusCheck status={row.tongSLthucte - row.tongtonkho}/>\r\n                </TableCell> */}\r\n          {/* <TableCell align=\"left\">\r\n            {row.created_user_type === \"owner\" ? \"Chủ cửa hàng\" : \"Nhân viên\"}\r\n          </TableCell> */}\r\n          <TableCell align=\"center\">{row.user_name}</TableCell>\r\n        </TableRow>\r\n\r\n        {/* DETAIL */}\r\n        <TableRow>\r\n          {/* colspan  => số cột trong collapse */}\r\n          <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\r\n            <CheckHistoryDetail parentProps={props} />\r\n          </TableCell>\r\n        </TableRow>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default CheckHistoryTableRow\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst inventoryCheckApi = {\r\n  create: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/inventory-checks/`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/inventory-checks/`;\r\n    return axiosClient.get(url, {params: query});\r\n  },\r\n  search: (storeUuid, branchUuid, query) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/inventory-checks/`;\r\n    return axiosClient.get(url, { params: query });\r\n  },\r\n};\r\nexport default inventoryCheckApi;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Grid,\r\n  Avatar,\r\n  Card,\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n  Button,\r\n  Dialog,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  Radio,\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n// import project\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\r\n\r\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    marginBox: {\r\n      marginTop: 30,\r\n    },\r\n    marginRow: {\r\n      marginTop: 5,\r\n    },\r\n    hidden: {\r\n      display: \"none\",\r\n    },\r\n    ava: {\r\n      width: 30,\r\n      height: 30,\r\n    },\r\n  })\r\n);\r\nfunction InventoryCheckSummary({ data, handleConfirm, userName, branchName }) {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  useEffect(() => {}, [data, userName, branchName]);\r\n\r\n  return (\r\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\r\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"flex-start\"\r\n          >\r\n            <Typography variant=\"h5\">Chi nhánh</Typography>\r\n            <Typography variant=\"body2\">\r\n              {/* current branch */}\r\n              {branchName}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\r\n            <Typography variant=\"body2\">\r\n              {/* current date */}\r\n              {new Date().toLocaleDateString(\"es-US\")}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              {/* current date */}\r\n              {new Date().toLocaleTimeString()}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          className={classes.marginBox}\r\n          style={{ marginBottom: 20 }}\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            container\r\n            direction=\"row\"\r\n            className={classes.marginBox}\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h3\" style={{ marginRight: 10 }}>\r\n              Người thực hiện\r\n            </Typography>\r\n            <Typography\r\n              variant=\"h3\"\r\n              style={{ color: theme.customization.primaryColor[500] }}\r\n            >\r\n              {userName}\r\n            </Typography>\r\n          </Grid>\r\n          {/* <Grid\r\n            item\r\n            xs={4}\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"flex-end\"\r\n            className={classes.marginBox}\r\n            alignItems=\"center\"\r\n          >\r\n            <Typography variant=\"h5\">{data.custome}</Typography>\r\n          </Grid> */}\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginBox}\r\n        >\r\n          <Typography variant=\"h5\">Số mặt hàng lệch</Typography>\r\n          <Typography variant=\"body2\">\r\n           <Input.ThousandFormat value={\r\n              data.details.filter(\r\n                (item) =>\r\n                  Number(item.branch_quantity) !== Number(item.real_quantity)\r\n              ).length\r\n            } />\r\n          </Typography>\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng sản phẩm lệch</Typography>\r\n          <Typography variant=\"body2\">\r\n          <Input.ThousandFormat value={data.details\r\n              .map(\r\n                (item) =>\r\n                  Number(item.real_quantity) - Number(item.branch_quantity)\r\n              )\r\n              .reduce((a, b) => a + b, 0)} />\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          className={classes.marginRow}\r\n        >\r\n          <Typography variant=\"h5\">Tổng giá trị lệch</Typography>\r\n          <Typography variant=\"body2\"> <Input.VNDFormat value={data.total_amount} /></Typography>\r\n        </Grid>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          fullWidth\r\n          color=\"primary\"\r\n          style={{ marginTop: 40 }}\r\n          onClick={handleConfirm}\r\n          disabled={data.total_amount === 0}\r\n        >\r\n          Kiểm kho\r\n        </Button>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default InventoryCheckSummary;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Card,\r\n  ListItem,\r\n  DialogContent,\r\n  Box,\r\n  Grid,\r\n  TableBody,\r\n  Typography,\r\n  FormControl,\r\n  Select,\r\n  InputLabel,\r\n  Table,\r\n  MenuItem,\r\n  TableCell,\r\n  TableRow,\r\n  Collapse,\r\n  Chip,\r\n  TextField,\r\n  Button,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Tooltip,\r\n  IconButton,\r\n  Switch,\r\n  FormControlLabel,\r\n} from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport SelectBatch from \"../SelectBatch/SelectBatch\";\r\nimport { DeleteOutline } from \"@material-ui/icons\";\r\nimport update from \"immutability-helper\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SearchBarCode from \"../SearchBar/SearchBarCode\";\r\nimport moment from \"moment\";\r\nimport { Input } from \"@mui/material\";\r\nimport { VNDFormat, ThousandFormat } from \"../TextField/NumberFormatCustom\";\r\nimport useStyles from \"../TableCommon/style/mainViewStyle\";\r\n\r\nimport * as HeadCells from \"../../assets/constant/tableHead\";\r\nimport SearchProduct from \"../SearchBar/SearchProduct\";\r\nimport TableHeader from \"../TableCommon/TableHeader/TableHeader\";\r\nimport TableWrapper from \"../TableCommon/TableWrapper/TableWrapper\";\r\nimport inventoryCheckApi from \"../../api/inventoryCheckApi\";\r\nimport SnackBarGeneral from \"../SnackBar/SnackBarGeneral\";\r\nimport InventoryCheckSummary from \"../CheckoutComponent/CheckoutSummary/InventoryCheckSumary/InventroyCheckSumary\";\r\nimport ModalWrapperWithClose from \"../Modal/ModalWrapperWithClose\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport ButtonQuantity from \"../Button/ButtonQuantity\";\r\n\r\nimport { CheckMiniTableRow } from \"../../components/MiniTableRow/MiniTableRow\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nfunction InventoryCheckPopUp({\r\n  classes,\r\n  setReload,\r\n  handleCloseReturn,\r\n  success,\r\n  failure,\r\n}) {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const theme = useTheme();\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  const [order, setOrder] = React.useState(\"desc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n  const user_name = info.user.name;\r\n  const branch_name = info.branch.name;\r\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\r\n  const [inventoryCheck, setInventoryCheck] = React.useState({\r\n    total_amount: 0,\r\n    details: [],\r\n    note: \"\",\r\n  });\r\n\r\n  const [openSnack, setOpenSnack] = React.useState(false);\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: \"error\",\r\n    message: \"Kiểm kho thất bại\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    updateTotalAmount();\r\n  }, [isUpdateTotalAmount]);\r\n\r\n  const updateTotalAmount = () => {\r\n    let total = 0;\r\n    inventoryCheck.details.forEach((item) => {\r\n      total +=\r\n        (Number(item.real_quantity) - Number(item.branch_quantity)) *\r\n        Number(item.standard_price);\r\n    });\r\n\r\n    const newInventoryCheck = update(inventoryCheck, {\r\n      total_amount: { $set: total },\r\n    });\r\n    setInventoryCheck(newInventoryCheck);\r\n  };\r\n\r\n  const handleDeleteItem = (itemId) => {\r\n    const itemIndex = inventoryCheck.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    const newInventoryCheck = update(inventoryCheck, {\r\n      details: { $splice: [[itemIndex, 1]] },\r\n    });\r\n    setInventoryCheck(newInventoryCheck);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleItemRealQuantityChange = (itemId, newQuantity) => {\r\n    const itemIndex = inventoryCheck.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    \r\n\r\n    if (newQuantity === inventoryCheck.details[itemIndex].real_quantity && !inventoryCheck.details[itemIndex].has_batches) {\r\n      handleDeleteItem(itemId);\r\n      return;\r\n    }\r\n\r\n    const newInventoryCheck = update(inventoryCheck, {\r\n      details: {\r\n        [itemIndex]: {\r\n          real_quantity: { $set: newQuantity },\r\n        },\r\n      },\r\n    });\r\n    setInventoryCheck(newInventoryCheck);\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    var emptyCart = inventoryCheck.details.length === 0;\r\n    if (emptyCart) {\r\n      setOpenSnack(true);\r\n      setSnackStatus({\r\n        style: \"error\",\r\n        message: \"Kiểm kho trống\",\r\n      });\r\n    } else {\r\n      setOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleConfirmBalance = async () => {\r\n    const d = moment.now() / 1000;\r\n\r\n    const export_date = moment\r\n      .unix(d)\r\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\r\n\r\n    const body = {\r\n      total_amount: inventoryCheck.total_amount,\r\n      details: inventoryCheck.details.map((detail) => ({\r\n        product_id: detail.id,\r\n        quantity: Number(detail.real_quantity) - Number(detail.branch_quantity),\r\n        unit_price: detail.standard_price,\r\n        uuid: detail.uuid,\r\n        branch_inventory: detail.branch_quantity,\r\n        batches: detail.batches.length ? detail.batches : \"\"\r\n      })),\r\n      note: inventoryCheck.note,\r\n    };\r\n\r\n    try {\r\n      const res = await inventoryCheckApi.create(store_uuid, branch_uuid, body);\r\n      handleCloseReturn();\r\n      success(res.data?.inventory_check_code);\r\n    } catch (err) {\r\n      failure();\r\n      console.log(err);\r\n    }\r\n  };\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    setOpenSnack(false);\r\n  };\r\n\r\n  const handleProductSelect = (product) => {\r\n    if (inventoryCheck.details.find((d) => d.id === product.id)) {\r\n      return;\r\n    }\r\n    const newDetails = [\r\n      ...inventoryCheck.details,\r\n      {\r\n        ...product,\r\n        // real_quantity: 0,\r\n        real_quantity: Number(product.branch_quantity),\r\n      },\r\n    ];\r\n    setInventoryCheck({ ...inventoryCheck, details: newDetails });\r\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\r\n  };\r\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\r\n  const handleSwitchChange = () => {\r\n    setBarcodeChecked(!barcodeChecked);\r\n  };\r\n  \r\n  const handleChangeDetailBatches = (itemId, batches) => {\r\n    const itemIndex = inventoryCheck.details.findIndex(\r\n      (item) => item.id === itemId\r\n    );\r\n    \r\n    const newInventoryCheck = {...inventoryCheck};\r\n    newInventoryCheck.details[itemIndex].batches = batches;\r\n  }\r\n  return (\r\n    <>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Grid item>\r\n          <ListItem\r\n            style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}\r\n          >\r\n            <Grid container alignItems=\"center\">\r\n              <Grid item>\r\n                <Typography variant=\"h3\" style={{ marginRight: 20 }}>\r\n                  Kiểm kho\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch\r\n                      checked={barcodeChecked}\r\n                      onChange={handleSwitchChange}\r\n                      color=\"primary\"\r\n                    />\r\n                  }\r\n                  label={\"Dùng mã vạch\"}\r\n                />\r\n              </Grid>\r\n              <Grid item>\r\n                {barcodeChecked ? (\r\n                  <SearchBarCode handleSearchBarSelect={handleProductSelect} />\r\n                ) : (\r\n                  <SearchProduct handleSearchBarSelect={handleProductSelect} />\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </ListItem>\r\n        </Grid>\r\n\r\n        <Grid item>\r\n          <IconButton\r\n            aria-label=\"close\"\r\n            className={classes.closeButton}\r\n            onClick={handleCloseReturn}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <DialogContent style={{ marginTop: 25 }}>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          spacing={2}\r\n        >\r\n          <Grid item xs={12} sm={8}>\r\n            <Card className={classes.card}>\r\n              <Box style={{ padding: 30, minHeight: \"75vh\" }}>\r\n                {/* JSON data attribute phải giongso table head id */}\r\n\r\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\r\n                {!xsScreen ? (\r\n                  <TableWrapper isCart>\r\n                    <TableHeader\r\n                      classes={classes}\r\n                      order={order}\r\n                      orderBy={orderBy}\r\n                      onRequestSort={handleRequestSort}\r\n                      headerData={HeadCells.InventoryCheckHeadCells}\r\n                    />\r\n                    <TableBody>\r\n                      {inventoryCheck.details.map((detail, index) => (\r\n                        <InventoryCheckTableRow\r\n                          handleItemRealQuantityChange={\r\n                            handleItemRealQuantityChange\r\n                          }\r\n                          detail={detail}\r\n                          handleDeleteItem={handleDeleteItem}\r\n                          handleChangeDetailBatches={handleChangeDetailBatches}\r\n                        />\r\n                      ))}\r\n                    </TableBody>\r\n                  </TableWrapper>\r\n                ) : (\r\n                  // inventoryCheck.details.map((detail, index) => (\r\n                  [\"helo\", \"xin chao\"].map((detail, index) => (\r\n                    <CheckMiniTableRow\r\n                      handleItemRealQuantityChange={\r\n                        handleItemRealQuantityChange\r\n                      }\r\n                      detail={detail}\r\n                      handleDeleteItem={handleDeleteItem}\r\n                    />\r\n                  ))\r\n                )}\r\n              </Box>\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4} className={classes.card}>\r\n            <Card className={classes.card}>\r\n              <InventoryCheckSummary\r\n                handleConfirm={handleConfirm}\r\n                data={inventoryCheck}\r\n                userName={user_name}\r\n                branchName={branch_name}\r\n              />\r\n            </Card>\r\n          </Grid>\r\n\r\n          <ModalWrapperWithClose\r\n            title=\"Cân bằng kho\"\r\n            open={open}\r\n            handleClose={handleClose}\r\n          >\r\n            <Typography style={{ marginTop: 10, marginBottom: 10 }}>\r\n              Cân bằng kho sẽ thay đổi tồn kho hiện tại của hàng hóa được lưu\r\n              trong hệ thống.\r\n            </Typography>\r\n            <Typography style={{ fontWeight: 500 }}>\r\n              Bạn có chắc chắn muốn Cân bằng kho?\r\n            </Typography>\r\n\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"flex-end\",\r\n                paddingTop: 20,\r\n              }}\r\n            >\r\n              <Button\r\n                onClick={handleClose}\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                style={{ marginRight: 20 }}\r\n                color=\"secondary\"\r\n              >\r\n                {\" \"}\r\n                Huỷ{\" \"}\r\n              </Button>\r\n              <Button\r\n                onClick={() => handleConfirmBalance()}\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                color=\"primary\"\r\n              >\r\n                Xác nhận{\" \"}\r\n              </Button>\r\n            </Grid>\r\n\r\n            {/* <Button\r\n              onClick={() => handleClose()}\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n            >\r\n              Huỷ\r\n            </Button>\r\n            <Button\r\n              style={{ marginTop: 40 }}\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                handleConfirmBalance();\r\n\r\n                // handleCloseReturn();\r\n              }}\r\n            >\r\n              Xác nhận\r\n            </Button> */}\r\n          </ModalWrapperWithClose>\r\n        </Grid>\r\n      </DialogContent>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InventoryCheckPopUp;\r\n\r\nfunction InventoryCheckTableRow({\r\n  detail,\r\n  handleItemRealQuantityChange,\r\n  handleDeleteItem,\r\n  handleChangeDetailBatches,\r\n}) {\r\n  const classes = useStyles();\r\n  const [show, setShow] = React.useState(\"none\");\r\n  \r\n\r\n  const [batches, setBatches] = useState([]);\r\n  const onChangeRealQuantity = (newQuantity) => {\r\n    handleItemRealQuantityChange(detail.id, newQuantity);\r\n  };\r\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    if (detail.has_batches) {\r\n      setBatches(detail.batches.map(batch => ({...batch, is_checked: false, checked_quantity: batch.quantity })));\r\n    }\r\n  }, [])\r\n  const handleSelectBatch = (index) => {\r\n    console.log(index)\r\n    const newBatches = [...batches];\r\n    newBatches[index].is_checked = true;\r\n    setBatches(newBatches)\r\n  }\r\n  const handleChangeBatchQuantity = (e, checkedBatch) => {\r\n    const value = Number(e.target.value)\r\n    if (value < 0) {\r\n      return;\r\n    }\r\n    const newBatches = [...batches];\r\n    const indexOfBatch = newBatches.findIndex(batch => batch.batch_code === checkedBatch.batch_code)\r\n    if (indexOfBatch >= 0 ) {\r\n      newBatches[indexOfBatch].checked_quantity = value\r\n    }\r\n    setBatches(newBatches)\r\n  }\r\n  const handleDeleteBatch = (checkedBatch ) => {\r\n    const newBatches = [...batches];\r\n    const indexOfBatch = newBatches.findIndex(batch => batch.batch_code === checkedBatch.batch_code)\r\n    if (indexOfBatch >= 0 ) {\r\n      newBatches[indexOfBatch].is_checked = false;\r\n      newBatches[indexOfBatch].checked_quantity = newBatches[indexOfBatch].quantity;\r\n      setBatches(newBatches)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let total = 0;\r\n    batches.forEach(batch => total += Number(batch.checked_quantity));\r\n    onChangeRealQuantity(total);\r\n    handleChangeDetailBatches(detail.id, batches)\r\n  }, [batches])\r\n\r\n  return (\r\n    <>\r\n      <TableRow hover key={detail.id}>\r\n        <TableCell align=\"left\" style={{ width: 5 }}>\r\n          {detail.product_code}\r\n        </TableCell>\r\n        {/* <TableCell align=\"left\">{row.id}</TableCell> */}\r\n        <TableCell align=\"left\">{detail.name}</TableCell>\r\n        <TableCell align=\"right\">\r\n          {\" \"}\r\n          <ThousandFormat value={detail.branch_quantity} />\r\n          {detail.has_batches && (\r\n            <>\r\n              <div>\r\n                {batches\r\n                  .filter((batch) => batch.is_checked)\r\n                  .map((checked_batch) => (\r\n                    <div>\r\n                      <Tooltip\r\n                        title={`${\r\n                          checked_batch.position ? checked_batch.position : \"\"\r\n                        }-${\r\n                          checked_batch.expiry_date\r\n                            ? checked_batch.expiry_date\r\n                            : \"\"\r\n                        }`}\r\n                      >\r\n                        <Chip\r\n                          label={`${checked_batch.batch_code}-${checked_batch.quantity}`}\r\n                        ></Chip>\r\n                      </Tooltip>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </>\r\n          )}\r\n        </TableCell>\r\n\r\n        <TableCell align=\"left\" padding=\"none\">\r\n          {detail.has_batches ? (\r\n            <>\r\n              <div>{detail.real_quantity}</div>\r\n              <div>\r\n                {batches\r\n                  .filter((batch) => batch.is_checked)\r\n                  .map((checkedBatch) => (\r\n                    <div>\r\n                      <Chip\r\n                        label={\r\n                          <TextField\r\n                            type=\"number\"\r\n                            style={{ width: 100 }}\r\n                            value={checkedBatch.checked_quantity}\r\n                            onChange={(e) =>handleChangeBatchQuantity(e, checkedBatch)}\r\n                          />\r\n                        }\r\n                        variant=\"outlined\"\r\n                        deleteIcon={<DeleteOutline/>}\r\n                        onDelete={(e) => handleDeleteBatch(checkedBatch)}\r\n                      ></Chip>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <ButtonQuantity\r\n              quantity={detail.real_quantity}\r\n              setQuantity={onChangeRealQuantity}\r\n              show={show}\r\n              setShow={setShow}\r\n              limit={detail.quantity}\r\n              isReturn={false}\r\n            />\r\n          )}\r\n        </TableCell>\r\n\r\n        <TableCell align=\"center\">\r\n          <ThousandFormat\r\n            value={\r\n              Number(detail.real_quantity) - Number(detail.branch_quantity)\r\n            }\r\n          />\r\n        </TableCell>\r\n\r\n        <TableCell align=\"center\" className={classes.boldText}>\r\n          <VNDFormat\r\n            value={\r\n              (Number(detail.real_quantity) - Number(detail.branch_quantity)) *\r\n              detail.standard_price\r\n            }\r\n          />\r\n        </TableCell>\r\n        <TableCell align=\"right\" className={classes.boldText}>\r\n          <IconButton\r\n            aria-label=\"expand row\"\r\n            size=\"small\"\r\n            style={{ marginLeft: -25 }}\r\n          >\r\n            <DeleteForeverOutlinedIcon\r\n              onClick={() => handleDeleteItem(detail.id)}\r\n            />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n      {detail.has_batches ? (\r\n        <TableRow>\r\n          <TableCell colSpan={1}></TableCell>\r\n          <TableCell colSpan={10}>\r\n            <FormControl variant=\"standard\" sx={{ m: 1, minWidth: 120 }}>\r\n              <InputLabel id=\"demo-simple-select-standard-label\">\r\n                Chọn lô\r\n              </InputLabel>\r\n              <Select\r\n                onChange={(e) => handleSelectBatch(e.target.value)}\r\n                style={{ width: 200 }}\r\n              >\r\n                {batches.map((batch, index) => (\r\n                  <MenuItem value={index}>{`${batch.batch_code}(${\r\n                    batch.expiry_date ? batch.expiry_date.substring(0, 10) : \"\"\r\n                  }${batch.position ? \"-\" + batch.position : \"\"}): ${\r\n                    batch.quantity\r\n                  }`}</MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </TableCell>\r\n        </TableRow>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Button,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n  Dialog,\r\n  DialogContent,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n\r\n//import api\r\n\r\n// import redux\r\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n////import project\r\nimport CheckHistoryFilter from \"./CheckHistoryTool/CheckHistoryFilter\";\r\nimport CheckHistoryTableRow from \"./CheckHistoryTableRow/CheckHistoryTableRow\";\r\n//chung\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\n\r\nimport JSONdata from \"../../../assets/JsonData/check.json\";\r\nimport InventoryCheckPopUp from \"../../../components/PopupCheck/InventoryCheckPopUp\";\r\nimport inventoryCheckApi from \"../../../api/inventoryCheckApi\";\r\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\n\r\n\r\nconst CheckHistory = () => {\r\n  // fetch data here\r\n  const checkHistoryList = JSONdata;\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  \r\n  const [inventoryChecks, setInventoryChecks] = useState([]);\r\n  const initialQuery = {\r\n    startDate: '',\r\n    endDate: '',\r\n    minTotalAmount:'',\r\n    maxTotalAmount: '',\r\n    orderBy: 'inventory_checks.created_at',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n  };\r\n  const [query, setQuery] = useState(initialQuery)\r\n  const handleRemoveFilter = () => {\r\n    setQuery(initialQuery)\r\n  }\r\n\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n  const [totalRows, setTotalRows] = useState(0)\r\n\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setPagingState({ ...pagingState, page: 0 });\r\n  }, [branch_uuid, store_uuid, reload, query]);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await inventoryCheckApi.getAllOfBranch(\r\n          store_uuid,\r\n          branch_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query\r\n          }\r\n        );\r\n\r\n        setInventoryChecks(response.data);\r\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\r\n        setTotalRows(response.total_rows)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    loadData();\r\n  }, [pagingState.page, pagingState.limit, branch_uuid, store_uuid, reload, query]);\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const dispatch = useDispatch();\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n\r\n  const openInvetoryCheck = () => {\r\n    setAddOpen(true);\r\n  };\r\n\r\n  const closeInvetoryCheck = () => {\r\n    setAddOpen(false);\r\n    setIsClosePopUp(false);\r\n  };\r\n\r\n  //// 2. Table\r\n  //collapse\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n  const handleOpenRow = (row) => {\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  // header sort\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"id\");\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n  };\r\n\r\n  //3. ToolBar\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n  //3.1. search\r\n\r\n  //3.2. filter\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n\r\n  //3.3. loc cot\r\n\r\n  const [closePopUp, setIsClosePopUp] = useState(false);\r\n  const [snackStatus, setSnackStatus] = React.useState({\r\n    style: \"error\",\r\n    message: \"Kiểm kho thất bại\",\r\n  });\r\n  const [openSnack, setOpenSnack] = React.useState(false);\r\n  const handleCloseSnackBar = (event, reason) => {\r\n    setOpenSnack(false);\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <SnackBarGeneral\r\n        handleClose={handleCloseSnackBar}\r\n        open={openSnack}\r\n        status={snackStatus}\r\n      />\r\n      {closePopUp && (\r\n        <Dialog\r\n          fullWidth={true}\r\n          maxWidth=\"lg\"\r\n          open={addOpen}\r\n          onClose={closeInvetoryCheck}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <InventoryCheckPopUp\r\n            handleCloseReturn={closeInvetoryCheck}\r\n            classes={classes}\r\n            setReload={() => {\r\n              setReload(!reload);\r\n            }}\r\n            success={(code) => {\r\n              setSnackStatus({\r\n                style: \"success\",\r\n                message: `Kiểm kho thành công ${code}`,\r\n              });\r\n              setOpenSnack(true);\r\n              setReload(!reload);\r\n            }}\r\n            failure={() => {\r\n              setSnackStatus({\r\n                style: \"success\",\r\n                message: `Kiểm kho thất bại`,\r\n              });\r\n              setOpenSnack(true);\r\n            }}\r\n          />\r\n        </Dialog>\r\n      )}\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        {/* 1. ADD POP UP */}\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Đơn kiểm kho\r\n        </Typography>\r\n\r\n        <Grid className={classes.btngroup1}>\r\n          <ButtonBase\r\n            sx={{ borderRadius: \"16px\" }}\r\n            onClick={() => {\r\n              openInvetoryCheck();\r\n            }}\r\n          >\r\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\r\n              <Tooltip title=\"Kiểm kho\">\r\n                <AddIcon\r\n                  stroke={1.5}\r\n                  size=\"1.3rem\"\r\n                  onClick={() => setIsClosePopUp(true)}\r\n                />\r\n              </Tooltip>\r\n            </Avatar>\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT*/}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      <ToolBar\r\n        dataTable={inventoryChecks}\r\n        tableType={TableType.CHECK_LIST}\r\n        textSearch={\"#, Người kiểm,...\"} /*handlePrint={handlePrint}*/\r\n        handleToggleFilter={handleToggleFilter}\r\n        handlePrint={handlePrint}\r\n        columnsToKeep = {[\r\n          {dbName:\"inventory_check_code\",displayName:\"Mã đợt kiểm\"},\r\n          {dbName:\"user_name\",displayName:\"Người kiểm\"},\r\n          {dbName:\"created_at\",displayName:\"Ngày kiểm\"},\r\n          {dbName:\"total_amount\",displayName:\"Tổng giá trị lệch\"},\r\n          {dbName:\"branch_name\",displayName:\"Tên chi nhánh\"},\r\n        ]}\r\n\r\n\r\n        orderByOptions={[\r\n          {value: 'inventory_checks.created_at', label: 'Ngày kiểm'},\r\n          {value: 'inventory_checks.total_amount', label: 'Tổng tiền lệch'},\r\n        ]}\r\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\r\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n        handleRemoveFilter={handleRemoveFilter}\r\n      />\r\n\r\n      <CheckHistoryFilter\r\n        query={query}\r\n        setQuery={setQuery}\r\n        openFilter={openFilter}\r\n        setInventoryChecks={setInventoryChecks}\r\n        handleToggleFilter={handleToggleFilter}\r\n      />\r\n\r\n      {/* 3. TABLE */}\r\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}>\r\n        <TableHeader\r\n          classes={classes}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.CheckHistoryHeadCells}\r\n        />\r\n        <TableBody>\r\n          {inventoryChecks.map((row, index) => {\r\n            return (\r\n              <CheckHistoryTableRow\r\n                key={row.uuid}\r\n                row={row}\r\n                openRow={openRow}\r\n                handleOpenRow={handleOpenRow}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>:\r\n      inventoryChecks.map((row, index) => {\r\n        return (\r\n          <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \r\n          // onReload={onReload} \r\n          totalCost={row.details\r\n            ?.map((detail) => Number(detail.quantity) * Number(detail.unit_price))\r\n            .reduce((total, num) => total + num, 0)}  \r\n          id={row.inventory_check_code} partnerName={row.user_name} date={row.created_at} \r\n          typeBill={\"Đơn kiểm kho\"} />\r\n\r\n        );\r\n      })}\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ComponentToPrint\r\n            checkHistoryList={checkHistoryList}\r\n            classes={classes}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CheckHistory;\r\n\r\nconst ComponentToPrint = ({ checkHistoryList, classes }) => {\r\n  return (\r\n    <div>\r\n      <Typography\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 20,\r\n          fontWeight: 500,\r\n          margin: 30,\r\n          color: \"#000\",\r\n        }}\r\n      >\r\n        Danh sách đơn kiểm kho\r\n      </Typography>\r\n      <div>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.CheckHistoryHeadCells}\r\n        />\r\n        <TableBody>\r\n          {checkHistoryList.map((row, index) => {\r\n            return <CheckHistoryTableRow key={row.uuid} row={row} />;\r\n          })}\r\n        </TableBody>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst SupplierFilter = (props) => {\r\n    const {handleToggleFilter,openFilter} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n         {/* status?? */}\r\n         \r\n        {/*1. Tổng tiền from -to */}\r\n        <Typography variant=\"h5\"className={classes.text} >Tổng tiền mua:</Typography>\r\n        <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n          //  value={productInfo.importedPrice}\r\n          // onChange={(e) =>\r\n          //   setProductInfo({\r\n          //     ...productInfo,\r\n          //     importedPrice: e.target.value,\r\n          //   })\r\n          // }\r\n        />\r\n        <VNDInput required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        //  value={productInfo.importedPrice}\r\n          // onChange={(e) =>\r\n          //   setProductInfo({\r\n          //     ...productInfo,\r\n          //     importedPrice: e.target.value,\r\n          //   })\r\n          // }\r\n        />\r\n\r\n        {/* 2.Trạng thái */}\r\n        <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\r\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n        {/*3. Ngày tao from -to  */}\r\n        <Typography variant=\"h5\"className={classes.text} >Ngày tạo:</Typography>\r\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n        \r\n        {/* 4.Ngung hoat dong ??  */}\r\n         {/* BUTTON */}\r\n      <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n           Lọc\r\n      </Button>\r\n\r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default SupplierFilter\r\n\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nimport {TableCell,TableRow,Box,Avatar,ListItem,Typography, Chip} from '@material-ui/core';\r\n\r\nimport {FormatedStatus} from '../../../../components/TableCommon/util/format'\r\nimport SupplierDetail from './SupplierDetail/SupplierDetail'\r\n\r\nconst SupplierTableRow = (props) => {\r\n    const { row, handleOpenRow,openRow} = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <>\r\n        {/* ROW */}\r\n            <TableRow\r\n            onClick={() => handleOpenRow(row.uuid)}   \r\n            key={row.uuid}\r\n            className={ clsx(classes.row,(openRow === row.uuid) ? classes.rowClicked : null)}\r\n            >\r\n                <TableCell align=\"left\">{row.supplier_code}</TableCell>\r\n                <TableCell align=\"left\" className={classes.fontName} style={{minWidth:150}}>{row.name}</TableCell>\r\n                <TableCell align=\"left\">{row.phone}</TableCell>\r\n                <TableCell align=\"left\">{row.email}</TableCell>\r\n                <TableCell align=\"left\" style={{minWidth:100}}>{row.address}</TableCell>\r\n                {/* <TableCell align=\"right\" >{row.total_cost}</TableCell> */}\r\n                <TableCell align=\"center\">\r\n                    <FormatedStatus debt={row.debt}/>\r\n                </TableCell>\r\n            </TableRow>\r\n\r\n        {/* DETAIL */}\r\n            <TableRow>\r\n              {/* colspan  => số cột trong collapse */}\r\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \r\n                    <SupplierDetail parentProps={props}/>       \r\n              </TableCell>\r\n       \r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SupplierTableRow\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n//import api\r\nimport supplierApi from \"../../../api/supplierApi\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n////import project\r\n//riêng\r\nimport AddSupplier from \"./AddSupplier/AddSupplier\";\r\nimport SupplierFilter from \"./SupplierTool/SupplierFilter\";\r\n// import InventoryTableRow from './InventoryTableRow/InventoryTableRow'\r\nimport SupplierTableRow from \"./SupplierTableRow/SupplierTableRow\";\r\n//chung\r\nimport SnackBar from \"../../../components/SnackBar/SnackBar\";\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {PartnerMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\n\r\n\r\nconst Supplier = () => {\r\n  const [supplerList, setSupplierList] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const onReload = () => setReload(!reload);\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n  //// 1. Add pop up + noti\r\n  //add\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = (status) => {\r\n    onReload();\r\n    setOpen(false);\r\n  };\r\n\r\n  //status add\r\n  const [addStatus, setAddStatus] = React.useState(null);\r\n\r\n  //noti\r\n  const [openBar, setOpenBar] = React.useState(false);\r\n  const handleCloseBar = () => {\r\n    setOpenBar(false);\r\n  };\r\n\r\n  //// 2. Table\r\n\r\n  //collapse\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n  const handleOpenRow = (row) => {\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  // header sort\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"id\");\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n  };\r\n\r\n  //3. ToolBar\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n  //3.1. search\r\n\r\n  //3.2. filter\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n\r\n  //3.3. loc cot\r\n  const initialQuery = {\r\n    orderBy: 'suppliers.created_at',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n  };\r\n  const handleRemoveFilter = (initialQuery) => {\r\n    setQuery(initialQuery)\r\n  }\r\n  const [query, setQuery] = useState(initialQuery)\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n\r\n  const [totalRows, setTotalRows] = useState(0)\r\n  useEffect(() => {\r\n    setPagingState({...pagingState, page: 0})\r\n  }, [reload, store_uuid, query])\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await supplierApi.getSuppliers(store_uuid, {\r\n          page: pagingState.page,\r\n          limit: pagingState.limit,\r\n          ...query\r\n        });\r\n        \r\n        setSupplierList(response.data);\r\n        // setPagingState({...pagingState, total_rows: response.total_rows})\r\n        setTotalRows( response.total_rows)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    \r\n    if (store_uuid) {\r\n\r\n      loadData();\r\n    }\r\n    \r\n  }, [reload,pagingState.page, store_uuid, pagingState.limit, query]);\r\n\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        {/* 1. ADD POP UP */}\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Nhà cung cấp\r\n        </Typography>\r\n\r\n        <Grid className={classes.btngroup1}>\r\n          <ButtonBase sx={{ borderRadius: \"16px\" }} onClick={handleClickOpen}>\r\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\r\n              <Tooltip title=\"Thêm nhà cung cấp\">\r\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n              </Tooltip>\r\n            </Avatar>\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Popup add */}\r\n      <AddSupplier open={open} handleClose={handleClose} onReload={onReload} />\r\n      {/* Noti */}\r\n      <SnackBar\r\n        openBar={openBar}\r\n        handleCloseBar={handleCloseBar}\r\n        addStatus={addStatus}\r\n      />\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT*/}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      <ToolBar\r\n        dataTable={supplerList}\r\n        tableType={TableType.SUPPLIER}\r\n        textSearch={\"#, Tên, sđt, email, ...  \"}\r\n        handleToggleFilter={handleToggleFilter}\r\n        handlePrint={handlePrint}\r\n        columnsToKeep = {[\r\n          {dbName:\"name\",displayName:\"Tên nhà cung cấp\"},\r\n          {dbName:\"phone\",displayName:\"Số điện thoại\"},\r\n          {dbName:\"email\",displayName:\"Email\"},\r\n          {dbName:\"address\",displayName:\"Địa chỉ\"},\r\n          {dbName:\"company\",displayName:\"Công ty\"},\r\n          {dbName:\"payment_info\",displayName:\"Thông tin thanh toán\"},\r\n        ]}\r\n        isOnlySearch={true}\r\n        handleRemoveFilter={handleRemoveFilter}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n      />\r\n      <SupplierFilter\r\n        openFilter={openFilter}\r\n        handleToggleFilter={handleToggleFilter}\r\n      />\r\n\r\n      {/* 3. TABLE */}\r\n\r\n      {!xsScreen ?<TableWrapper\r\n\r\n        pagingState={{...pagingState, total_rows: totalRows}}\r\n\r\n\r\n        setPagingState={setPagingState}\r\n      >\r\n        <TableHeader\r\n          classes={classes}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.SupplierHeadCells}\r\n        />\r\n        <TableBody>\r\n          {supplerList.map((row, index) => {\r\n            return (\r\n              <SupplierTableRow\r\n                setReload={onReload}\r\n                key={row.uuid}\r\n                row={row}\r\n                openRow={openRow}\r\n                handleOpenRow={handleOpenRow}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>:\r\n      supplerList.map((row, index) => {\r\n        return (\r\n          <PartnerMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \r\n            id={row.supplier_code} name={row.name} phone={row.phone} \r\n            typePartner={\"Nhà cung cấp\"}  />\r\n        );\r\n      })}\r\n\r\n      <div style={{ display: \"none\" }}>\r\n        <div ref={componentRef}>\r\n          <ComponentToPrint supplerList={supplerList} classes={classes} />\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Supplier;\r\n\r\nconst ComponentToPrint = ({ supplerList, classes }) => {\r\n  return (\r\n    <div>\r\n      <Typography\r\n        style={{\r\n          flexGrow: 1,\r\n          textAlign: \"center\",\r\n          fontSize: 20,\r\n          fontWeight: 500,\r\n          margin: 30,\r\n          color: \"#000\",\r\n        }}\r\n      >\r\n        Danh sách nhà cung cấp\r\n      </Typography>\r\n      <div>\r\n        <TableHeader\r\n          classes={classes}\r\n          headerData={HeadCells.SupplierHeadCells}\r\n        />\r\n        <TableBody>\r\n          {supplerList.map((row, index) => {\r\n            return <SupplierTableRow key={row.uuid} row={row} />;\r\n          })}\r\n        </TableBody>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\n\r\nconst NoMatchPage = () => {\r\n    return (\r\n        <div>\r\n            No Match Page\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoMatchPage\r\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport Import from './Import/Import'\r\nimport Inventory from './Inventory/Inventory'\r\nimport InventoryOrder from './InventoryOrder/InventoryOrder'\r\nimport InventoryReturnOrder from './InventoryReturnOrder/InventoryReturnOrder'\r\nimport OrderProduct from './OrderProduct/OrderProduct'\r\nimport OrderProductList from './OrderProductList/OrderProductList'\r\nimport Check from './Check/Check'\r\nimport CheckHistory from './CheckHistory/CheckHistory'\r\nimport Supplier from './Supplier/Supplier'\r\nimport PageNotFound from '../../pages/PageNotFound/PageNotFound'\r\n\r\n\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst InventoryView = (props) => {\r\n  const { path } = useRouteMatch();\r\n  const permissions = useSelector((state) => state.info.user.permissions);\r\n  console.log()\r\n  return (\r\n      <Switch>\r\n          <Route exact path={path} >\r\n            <Redirect to = {permissions?.find((p) => p.name === \"inventory\") ? `${path}/import` : \"/home\"}/>\r\n          </Route>\r\n          <Route exact path={`${path}/import`} component={Import} />\r\n          <Route path={`${path}/inventory`} component={Inventory} />\r\n          <Route path={`${path}/receipt`}  component={InventoryOrder}/>\r\n          <Route path={`${path}/returns`}  component={InventoryReturnOrder}/>\r\n          <Route path={`${path}/order-list/order`}  component={OrderProduct}/>   \r\n          <Route path={`${path}/order-list`}  component={OrderProductList}/>    \r\n          <Route path={`${path}/check-history/check`}  component={Check}/>   \r\n          <Route path={`${path}/check-history`}  component={CheckHistory}/>      \r\n          <Route path={`${path}/supplier`}  component={Supplier}/>\r\n          <Route exact path={`${path}/*`} component={PageNotFound}/>\r\n      </Switch>\r\n  );\r\n};\r\n\r\nexport default InventoryView;\r\n","import { Modal, Button, Space } from \"antd\";\r\n\r\nexport function info() {\r\n  Modal.info({\r\n    title: \"This is a notification message\",\r\n    content: (\r\n      <div>\r\n        <p>some messages...some messages...</p>\r\n        <p>some messages...some messages...</p>\r\n      </div>\r\n    ),\r\n    onOk() {},\r\n  });\r\n}\r\n\r\nexport function success(message) {\r\n  Modal.success({\r\n    content: message,\r\n  });\r\n}\r\n\r\nexport function error(title, content) {\r\n  Modal.error({\r\n    title: title,\r\n    content:content,\r\n    style:{zIndex:10000}\r\n  });\r\n}\r\n\r\nexport function warning(title, content) {\r\n  Modal.warning({\r\n    title: title,\r\n    content: content,\r\n  });\r\n}\r\n","import React, {useEffect} from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  FormHelperText,\r\n  Dialog,\r\n} from \"@material-ui/core\";\r\n\r\n//import project\r\nimport NumberFormatCustom from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport MultipleSelect from \"../../../../components/MultipleSelect/MultipleSelect\";\r\nimport { EmailRounded, Image } from \"@material-ui/icons\";\r\nimport branchApi from \"../../../../api/branchApi\";\r\n\r\n// api\r\nimport { useSelector } from \"react-redux\";\r\nimport employeeApi from \"../../../../api/employeeApi\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport VNDInput from \"../../../../components/TextField/NumberFormatCustom\";\r\nimport openNotification from \"../../../../components/StatusPopup/StatusPopup\";\r\nimport { error } from \"../../../../components/StatusModal/StatusModal\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(1),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n      marginBottom: 15,\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nlet permissionChoices = [\r\n  { id: 1, name: \"inventory\", description: \"Kho hàng\" },\r\n  { id: 2, name: \"employee\", description: \"Nhân sự\" },\r\n  { id: 3, name: \"sales\", description: \"Bán hàng\" },\r\n  { id: 4, name: \"product\", description: \"Sản phẩm\" },\r\n  { id: 5, name: \"report\", description: \"Báo cáo\" },\r\n];\r\n\r\nconst AddEmployee = (props) => {\r\n  const { handleClose, open,setOpen} = props;\r\n\r\n  // tam thoi\r\n  const statusState = \"Success\";\r\n\r\n  const [userNameError, setUserNameError] = React.useState(false);\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  // đổi thành state sau (price format)\r\n  const [values, setValues] = React.useState({\r\n    numberformat: \"\",\r\n  });\r\n  const handleChange = (event) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const [branches, setBranches] = React.useState([]);\r\n  const [image, setImage] = React.useState(\"\");\r\n  const [imageToShow, setImageToShow] = React.useState(\"\")\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      uuid: \"\",\r\n      name: \"\",\r\n      user_name: \"\",\r\n      phone: \"\",\r\n      permissions: [],\r\n      password: \"\",\r\n      email: \"\",\r\n      salary: \"\",\r\n      salary_type: \"\",\r\n      id_card_num: \"\",\r\n      gender: \"\",\r\n      date_of_birth: \"\",\r\n      address: \"\",\r\n      branches: [],\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n      name: Yup.string().required(\"Bắt buộc!\"),\r\n      user_name: Yup.string().required(\"Bắt buộc!\"),\r\n      phone: Yup.string()\r\n      .length(10, \"Số điện thoại không chính xác\")\r\n      .required(\"Nhập số điện thoại\")\r\n      .matches(/^\\d+$/, \"Số điển thoại không chính xác\"),\r\n      email: Yup.string().email(\"Email không chính xác\"),\r\n      password: Yup.string().required(\"Bắt buộc!\"),\r\n      branches: Yup.array().min(1, \"Ít nhất một chi nhánh\"),\r\n      permissions: Yup.array().min(1, \"Ít nhất một chức năng\"),\r\n      email: Yup.string().email(\"Email không chính xác\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\").matches(/^\\d+$/)\r\n    }),\r\n\r\n    onSubmit: async (values, actions) => {\r\n      let formData = new FormData();\r\n\r\n      for (let value in values) {\r\n        if (value === \"permissions\") {\r\n          for (var i = 0; i < values[\"permissions\"].length; i++) {\r\n            formData.append(\"permissions[]\", values[\"permissions\"][i]);\r\n          }\r\n        } else if (value === \"branches\") {\r\n          for (var i = 0; i < values[\"branches\"].length; i++) {\r\n            formData.append(\"branches[]\", values[\"branches\"][i]);\r\n          }\r\n        } else if (value === \"password\") {\r\n          formData.append(value, values[value]);\r\n          formData.append(\"password_confirmation\", values[value]);\r\n        } else {\r\n          formData.append(value, values[value]);\r\n        }\r\n      }\r\n\r\n      formData.append(\"image\", image);\r\n      formData.append(\"status\", \"active\");\r\n\r\n\r\n      try {\r\n        setOpen(false)\r\n        const response = await employeeApi.createEmployee(\r\n          store_uuid,\r\n          formData\r\n        );\r\n        handleClose(\"Success\");\r\n      } catch (err) {\r\n        // error(\"Lỗi\", \"Tên đăng nhập đã tồn tại\")\r\n        setUserNameError(true)\r\n       \r\n      }\r\n    },\r\n  });\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n\r\n\r\n  React.useEffect(() => {\r\n    const loadBranches = async () => {\r\n      try {\r\n        const response = await branchApi.getAllBranches(store_uuid);\r\n        console.log(response.data);\r\n        setBranches(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    loadBranches();\r\n  }, [store_uuid]);\r\n\r\n    useEffect(() =>{\r\n      if(userNameError) {setUserNameError(false)}\r\n    },[formik.values.user_name])\r\n\r\n   \r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={()=> setOpen(false)}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Thêm nhân viên\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n          <Grid container direction=\"row\">\r\n            <Avatar\r\n              alt=\"Remy Sharp\"\r\n              className={classes.ava}\r\n              src={imageToShow}\r\n            />\r\n            <input\r\n              accept=\"image/*\"\r\n              className={classes.input}\r\n              id=\"contained-button-file\"\r\n              multiple\r\n              type=\"file\"\r\n              // accept=\"image/*\"\r\n              capture=\"environment\"\r\n              onChange={(event) => {\r\n                setImage(event.target.files[0]);\r\n\r\n                // read the selected file and display on the avata\r\n                var file = event.target.files[0];\r\n                var reader = new FileReader();\r\n                reader.onloadend = function () {\r\n                  setImageToShow(reader.result);\r\n                };\r\n\r\n                reader.readAsDataURL(file);\r\n              }}\r\n            />\r\n            <label htmlFor=\"contained-button-file\">\r\n              <Button\r\n                variant=\"contained\"\r\n                component=\"span\"\r\n                style={{ height: 22, textTransform: \"none\", marginLeft: 20 }}\r\n              >\r\n                Chọn ảnh\r\n              </Button>\r\n            </label>\r\n          </Grid>\r\n\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"space-around\"\r\n            spacing={2}\r\n          >\r\n            <Grid item sm={6}>\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Tên nhân viên\"\r\n                required\r\n                value={formik.values.name}\r\n                name=\"name\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              {formik.errors.name && formik.touched.name && (\r\n                <FormHelperText error>{formik.errors.name}</FormHelperText>\r\n              )}\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Số điện thoại\"\r\n                value={formik.values.phone}\r\n                variant=\"outlined\"\r\n                name=\"phone\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              {formik.errors.phone && formik.touched.phone && (\r\n                <FormHelperText error>{formik.errors.phone}</FormHelperText>\r\n              )}\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Tên đăng nhập\"\r\n                required\r\n                value={formik.values.user_name}\r\n                variant=\"outlined\"\r\n                name=\"user_name\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange }\r\n              />\r\n\r\n              {formik.errors.user_name && formik.touched.user_name && (\r\n                <FormHelperText error>{formik.errors.user_name}</FormHelperText>\r\n              )}\r\n              { userNameError && (\r\n                <FormHelperText error>Tên đăng nhập đã tồn tại</FormHelperText>\r\n              )}\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Mật khẩu tài khoản\"\r\n                required\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                name=\"password\"\r\n                type={\"password\"}\r\n                size=\"small\"\r\n                value={formik.values.password}\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              {formik.errors.password && formik.touched.password && (\r\n                <FormHelperText error>{formik.errors.password}</FormHelperText>\r\n              )}\r\n             \r\n\r\n              <TextField\r\n                id=\"date\"\r\n                label=\"Ngày sinh\"\r\n                type=\"date\"\r\n                defaultValue=\"\" //null\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                name=\"date_of_birth\"\r\n                fullWidth\r\n                value={formik.values.date_of_birth}\r\n                className={classes.textField}\r\n                InputLabelProps={{ shrink: true }}\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"CMND\"\r\n                value={formik.values.id_card_num}\r\n                variant=\"outlined\"\r\n                name=\"id_card_num\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n              >\r\n                <InputLabel id=\"demo-simple-select-outlined-label\">\r\n                  Giới tính{\" \"}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"demo-simple-select-outlined-label\"\r\n                  id=\"demo-simple-select-outlined\"\r\n                  name=\"gender\"\r\n                  onChange={formik.handleChange}\r\n                  label=\"Gender\"\r\n                  value={formik.values.gender}\r\n                >\r\n                  <MenuItem value=\"male\">Nam</MenuItem>\r\n                  <MenuItem value=\"female\">Nữ</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                value={formik.values.email}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n              />\r\n\r\n              {formik.errors.email && formik.touched.email && (\r\n                <FormHelperText error>{formik.errors.email}</FormHelperText>\r\n              )}\r\n\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Địa chỉ\"\r\n                name=\"address\"\r\n                value={formik.values.address}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item sm={6}>\r\n              {/* Select lưong */}\r\n              <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n              >\r\n                <InputLabel id=\"demo-simple-select-outlined-label\">\r\n                  Lương{\" \"}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"demo-simple-select-outlined-label\"\r\n                  id=\"demo-simple-select-outlined\"\r\n                  name=\"salary_type\"\r\n                  value={formik.values.salary_type}\r\n                  onChange={formik.handleChange}\r\n                >\r\n                  <MenuItem value=\"none\">\r\n                    <em>None</em>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"fix\">Lương cố định</MenuItem>\r\n                  <MenuItem value=\"per-shift\">Lương theo ca</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n\r\n              {/* <TextField\r\n                label=\"Mức lương\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                value={formik.values.salary}\r\n                name=\"salary\"\r\n                // value={values.numberformat}\r\n                // onChange={handleChange}\r\n                onChange={formik.handleChange}\r\n                InputProps={{\r\n                  inputComponent: NumberFormatCustom,\r\n                }}\r\n              /> */}\r\n              <VNDInput\r\n                label=\"Mức lương\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                value={formik.values.salary}\r\n                name=\"salary\"\r\n                // value={values.numberformat}\r\n                // onChange={handleChange}\r\n                onChange={formik.handleChange}\r\n                // InputProps={{\r\n                //   inputComponent: NumberFormatCustom,\r\n                // }}\r\n              />\r\n\r\n              {/* <TextField id=\"outlined-basic\" label=\"Quyền\" variant=\"outlined\" fullWidth size=\"small\"/> */}\r\n\r\n              <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n              >\r\n                <InputLabel id=\"branchSelect\">Chức năng</InputLabel>\r\n                <Select\r\n                  multiple\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  name=\"permissions\"\r\n                  value={formik.values.permissions}\r\n                  renderValue={(selected) =>\r\n                    selected\r\n                      .map((permission) => {\r\n                        return permissionChoices.find(\r\n                          (p) => p.id === permission\r\n                        )?.description;\r\n                      })\r\n                      .join(\", \")\r\n                  }\r\n                  onChange={formik.handleChange}\r\n                >\r\n                  {permissionChoices.map((branch) => (\r\n                    <MenuItem key={branch.name} value={branch.id}>\r\n                      {branch.description}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n              {formik.errors.permissions && formik.touched.permissions && (\r\n                <FormHelperText error>\r\n                  {formik.errors.permissions}\r\n                </FormHelperText>\r\n              )}\r\n\r\n              <FormControl\r\n                className={classes.formControl}\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ marginTop: 8 }}\r\n              >\r\n                <InputLabel id=\"branchSelect\">Chi nhánh </InputLabel>\r\n                <Select\r\n                  multiple\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  id=\"branches\"\r\n                  name=\"branches\"\r\n                  onChange={formik.handleChange}\r\n                  size=\"small\"\r\n                  value={formik.values.branches}\r\n                  renderValue={(selected) =>\r\n                    selected\r\n                      .map((empWorkBranch) => {\r\n                        return branches.find(\r\n                          (branch) => branch.id === empWorkBranch\r\n                        )?.name;\r\n                      })\r\n                      .join(\", \")\r\n                  }\r\n                >\r\n                  {branches.map((branch) => (\r\n                    <MenuItem key={branch.name} value={branch.id}>\r\n                      {branch.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n\r\n                {formik.errors.branches && formik.touched.branches && (\r\n                  <FormHelperText error>\r\n                    {formik.errors.branches}\r\n                  </FormHelperText>\r\n                )}\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={()=> setOpen(false)}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button\r\n          onClick={formik.handleSubmit}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddEmployee;\r\n","/* eslint-disable no-use-before-define */\r\n\r\nimport React from 'react';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\n\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n\r\nexport default function CheckboxesTags() {\r\n  return (\r\n    <div >\r\n    <Autocomplete\r\n      multiple\r\n    //   size=\"small\"\r\n   \r\n      id=\"checkboxes-tags-demo\"\r\n      options={role}\r\n      disableCloseOnSelect\r\n      getOptionLabel={(option) => option.title}\r\n      renderOption={(option, { selected }) => (\r\n        <React.Fragment>\r\n          <Checkbox\r\n            icon={icon}\r\n            checkedIcon={checkedIcon}\r\n            // style={{ marginRight: 80, }}\r\n            checked={selected}\r\n\r\n          />\r\n          {option.title}\r\n        </React.Fragment>\r\n      )}\r\n      style={{ width: 500 }}\r\n      renderInput={(params) => (\r\n        <TextField {...params} variant=\"outlined\" placeholder=\"Quyền\"  style={{  width:'54%'}}/>\r\n      )}\r\n    />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Top 100 films as rated by IMDb users. http://www.imdb.com/chart/top\r\nconst role = [\r\n  { title: 'Bán hàng', year: 1994 },\r\n  { title: 'Kho hàng', year: 1972 },\r\n  { title: 'Giao hàng', year: 1974 },\r\n  { title: 'HR', year: 1974 },\r\n  { title: 'Quản lý', year: 1974 },\r\n  \r\n];\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl,Box\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\nimport Role from '../../../../components/TextField/Role'\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst EmployeeFilter = (props) => {\r\n    const {handleToggleFilter,openFilter} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n        {/* date_of_birth,gender,status, chi nhanh?? */}\r\n        \r\n        {/* 1. Tổng tiền from -to */}\r\n      <Typography variant=\"h5\"className={classes.text} >Tiền hoá đơn:</Typography>\r\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        //  value={productInfo.importedPrice}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n      />\r\n\r\n        {/* 2.Trạng thái ???*/}\r\n        <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\r\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n      <Typography variant=\"h5\"className={classes.text} >Quyền:</Typography>\r\n        {/* 3.Quyen */}\r\n       <Role />\r\n\r\n        {/* 4.Ngày tao from -to  */}\r\n        <Typography variant=\"h5\"className={classes.text} >Ngày tạo:</Typography>\r\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n\r\n\r\n        {/* Ngung hoat dong ??  */}\r\n\r\n         {/* BUTTON */}\r\n      <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n           Lọc\r\n      </Button>\r\n\r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default EmployeeFilter\r\n\r\n","import React from \"react\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport useRowStyles from \"../../../../components/TableCommon/style/rowStyle\";\r\nimport clsx from \"clsx\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport {\r\n  TableCell,\r\n  TableRow,\r\n  Box,\r\n  Avatar,\r\n  ListItem,\r\n  Typography,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport EmployeeDetail from \"./EmployeeDetail/EmployeeDetail\";\r\n\r\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\r\n\r\nconst EmployeeTableRow = (props) => {\r\n  const { row, handleOpenRow, openRow, handleReload } = props;\r\n  const classes = useRowStyles();\r\n  // console.log(\"row\",row)\r\n\r\n  return (\r\n    <>\r\n      {/* ROW */}\r\n      <TableRow\r\n        onClick={() => handleOpenRow(row.uuid)}\r\n        key={row.uuid}\r\n        className={clsx(\r\n          classes.row,\r\n          openRow === row.uuid ? classes.rowClicked : null\r\n        )}\r\n      >\r\n        <TableCell align=\"left\">{row.employee_code}</TableCell>\r\n        <TableCell align=\"left\" style={{ minWidth: 200 }}>\r\n          <ListItem\r\n            style={{ margin:0,padding:0, marginTop: -10, marginBottom: -10 }}\r\n          >\r\n            <Avatar\r\n              alt=\"Remy Sharp\"\r\n              src={row.img_url}\r\n              style={{ marginRight: 20 }}\r\n              className={classes.ava}\r\n            />\r\n            <Typography className={classes.fontName}>{row.name}</Typography>\r\n          </ListItem>\r\n        </TableCell>\r\n\r\n        <TableCell align=\"left\">{row.phone}</TableCell>\r\n        <TableCell align=\"left\">{row.email}</TableCell>\r\n        <TableCell align=\"left\">{row.status === 'active' ? 'Kích hoạt' : 'Ngưng hoạt động'}</TableCell>\r\n      </TableRow>\r\n\r\n      {/* DETAIL */}\r\n      <TableRow>\r\n        {/* colspan  => số cột trong collapse */}\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\r\n          <EmployeeDetail parentProps={props}  handleReload={handleReload}/>\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EmployeeTableRow;\r\n","import React, { useState, useEffect,useRef } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {\r\n  Typography,\r\n  Card,\r\n  Button,\r\n  Divider,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  Tooltip,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useReactToPrint } from \"react-to-print\";\r\n//import api\r\nimport employeeApi from \"../../../api/employeeApi\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n//import constant\r\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\n\r\n////import project\r\n//riêng\r\nimport AddEmployee from \"./AddEmployee/AddEmployee\";\r\nimport EmployeeFilter from \"./EmployeeTool/EmployeeFilter\";\r\nimport EmployeeTableRow from \"./EmployeeTableRow/EmployeeTableRow\";\r\n//chung\r\nimport SnackBar from \"../../../components/SnackBar/SnackBar\";\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {PartnerMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nconst Employee = () => {\r\n  const [employeeList, setEmployeeList] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const onReload = () => {setReload(!reload); console.log('reload called')};\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n\r\n  // paging\r\n  const initialQuery = {\r\n    orderBy: 'employees.created_at',\r\n    sort: 'desc',\r\n    searchKey: '',\r\n  };\r\n  const handleRemoveFilter = (initialQuery) => {\r\n    setQuery(initialQuery)\r\n  }\r\n  const [query, setQuery] = useState(initialQuery)\r\n  const [pagingState, setPagingState] = useState({\r\n    page: 0,\r\n    limit: 10,\r\n  });\r\n\r\n  const [totalRows, setTotalRows] = useState(0)\r\n  useEffect(() => {\r\n    setPagingState({...pagingState, page: 0})\r\n  }, [reload, store_uuid, query])\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const response = await employeeApi.getEmployees(store_uuid, {\r\n          page: pagingState.page,\r\n          limit: pagingState.limit,\r\n          ...query\r\n        });\r\n        \r\n       \r\n        setEmployeeList(response.data);\r\n        setTotalRows( response.total_rows)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    if (store_uuid) {\r\n\r\n      loadData();\r\n    }\r\n  }, [pagingState.page, pagingState.limit, reload, store_uuid, query]);\r\n\r\n\r\n  //// 1. Add pop up + noti\r\n  //add\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = (status) => {\r\n    // setOpen(false);\r\n    setAddStatus(status);\r\n    if (status === \"Success\") {\r\n      onReload();\r\n      setOpenBar(true);\r\n    } else if (status === \"Fail\") {\r\n      setOpenBar(true);\r\n    }\r\n  };\r\n\r\n  //status add\r\n  const [addStatus, setAddStatus] = React.useState(null);\r\n\r\n  //noti\r\n  const [openBar, setOpenBar] = React.useState(false);\r\n  const handleCloseBar = () => {\r\n    setOpenBar(false);\r\n  };\r\n\r\n  //// 2. Table\r\n\r\n  //collapse\r\n  const [openRow, setRowOpen] = React.useState(null);\r\n  const handleOpenRow = (row) => {\r\n    if (row !== openRow) {\r\n      setRowOpen(row);\r\n    } else {\r\n      setRowOpen(null);\r\n    }\r\n  };\r\n\r\n  // header sort\r\n  const [order, setOrder] = React.useState(\"asc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"id\");\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n    // const isAsc = orderBy === property && order === 'asc';\r\n    // setOrder(isAsc ? 'desc' : 'asc');\r\n    // setOrderBy(property);\r\n  };\r\n\r\n  //3. ToolBar\r\n\r\n  // toolbar\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n      content: () => componentRef.current,\r\n  });\r\n  //3.1. search\r\n\r\n  //3.2. filter\r\n  const [openFilter, setOpenFilter] = React.useState(false);\r\n  const handleToggleFilter = () => {\r\n    setOpenFilter(!openFilter);\r\n  };\r\n\r\n  //3.3. loc cot\r\n\r\n  return (\r\n    // <TableWrapper title=\"Nhân viên\" dataTable={employeeList} headerData={HeadCells.EmployeeHeadCells} tableType={TableType.EMPLOYEE} reload={onReload}/>\r\n    <Card className={classes.root}>\r\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n        {/* 1. ADD POP UP */}\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Nhân viên\r\n        </Typography>\r\n\r\n        <Grid className={classes.btngroup1}>\r\n          <ButtonBase sx={{ borderRadius: \"16px\" }} onClick={handleClickOpen}>\r\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\r\n              <Tooltip title=\"Thêm nhân viên\">\r\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n              </Tooltip>\r\n            </Avatar>\r\n          </ButtonBase>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Popup add */}\r\n      {open && <AddEmployee open={open} handleClose={handleClose} setOpen={setOpen} />}\r\n      {/* Noti */}\r\n      <SnackBar\r\n        openBar={openBar}\r\n        handleCloseBar={handleCloseBar}\r\n        addStatus={addStatus}\r\n      />\r\n\r\n      <Divider />\r\n\r\n      {/* 2. SEARCH - FILTER - EXPORT*/}\r\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n      <ToolBar\r\n        dataTable={employeeList}\r\n        tableType={TableType.EMPLOYEE}\r\n        textSearch={\r\n          \"#, Tên, sđt, email, ...  \"\r\n        } /*handlePrint={handlePrint}*/\r\n        handleToggleFilter={handleToggleFilter}\r\n        handlePrint={handlePrint}\r\n        columnsToKeep = {[\r\n          {dbName:\"name\",displayName:\"Tên nhân viên\"},\r\n          {dbName:\"phone\",displayName:\"Số điện thoại\"},\r\n          {dbName:\"email\",displayName:\"Email\"},\r\n          {dbName:\"date_of_birth\",displayName:\"Ngày sinh\"},\r\n          {dbName:\"id_card_num\",displayName:\"CMND\"},\r\n          {dbName:\"salary_type\",displayName:\"Loại lương\"},\r\n          {dbName:\"salary\",displayName:\"Mức lương\"},\r\n        ]}\r\n\r\n        isOnlySearch={true}\r\n        handleRemoveFilter={handleRemoveFilter}\r\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n      />\r\n\r\n      <EmployeeFilter\r\n        openFilter={openFilter}\r\n        handleToggleFilter={handleToggleFilter}\r\n      />\r\n      {/* 3. TABLE */}\r\n      {!xsScreen? <TableWrapper\r\n        pagingState={{...pagingState, total_rows: totalRows}}\r\n        setPagingState={setPagingState}\r\n      >\r\n        <TableHeader\r\n          classes={classes}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.EmployeeHeadCells}\r\n        />\r\n        <TableBody>\r\n          {employeeList.map((row, index) => {\r\n            return (\r\n              <EmployeeTableRow\r\n                key={row.uuid}\r\n                row={row}\r\n                openRow={openRow}\r\n                handleOpenRow={handleOpenRow}\r\n                handleReload={onReload}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>:\r\n          employeeList.map((row, index) => {\r\n            return (\r\n             \r\n              <PartnerMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \r\n              img={row.img_url}  id={row.employee_code} name={row.name} phone={row.phone} scrore={100}\r\n              typePartner={\"Nhân viên\"}  />\r\n            );\r\n          })}\r\n\r\n\r\n      <div  style={{display:'none'}} >\r\n        <div ref={componentRef}  >\r\n        <ComponentToPrint  employeeList={employeeList} classes={classes}/>\r\n        </div>\r\n        \r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Employee;\r\nconst ComponentToPrint = ({employeeList,classes}) =>{\r\n  return (\r\n      <div >\r\n        <Typography style={{flexGrow: 1,textAlign: \"center\",fontSize:20, fontWeight:500, margin:30, color:'#000'}} >Danh sách nhân viên</Typography>\r\n        <div >\r\n          <TableHeader\r\n                classes={classes}\r\n                headerData={HeadCells.EmployeeHeadCells}\r\n              />\r\n              <TableBody >\r\n                {employeeList.map((row, index) => {\r\n                  return (\r\n                    <EmployeeTableRow\r\n                      key={row.uuid}\r\n                      row={row}\r\n                    />\r\n                  );\r\n                })}\r\n              </TableBody>\r\n        </div>\r\n  </div>\r\n  )\r\n}","import {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport { grey} from '@material-ui/core/colors'\r\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\r\nimport { amber, pink,green } from '@material-ui/core/colors';\r\nexport const useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    background: theme.customization.mode === \"Light\"? null: grey[800],\r\n    borderRadius:theme.customization.borderRadius,\r\n    color: '#000000',\r\n    boxShadow: \"none\",\r\n    padding:18,\r\n  },\r\n  headerTitle:{\r\n    flexGrow: 1,\r\n    textAlign: \"center\",\r\n    marginTop:10,\r\n  },\r\n  textTitle:{\r\n    flexGrow: 1,\r\n    textAlign: \"center\",\r\n    marginBottom:20\r\n  },\r\n  divider:{\r\n      marginBottom:20\r\n  },\r\n  search: {\r\n    borderRadius: theme.customization.borderRadius,\r\n    height: 40,\r\n    marginTop: 10,\r\n    backgroundColor:\r\n      theme.customization.mode === \"Light\" ? grey[50] : grey[700],\r\n  },\r\n  box: {\r\n    backgroundColor:\r\n      theme.customization.mode === \"Light\" ? grey[50] : grey[700],\r\n  },\r\n  addIcon:{\r\n    background:theme.customization.secondaryColor[500],\r\n    borderRadius:20,\r\n    color:\"#fff\",\r\n    \r\n  },\r\n  addShiftIcon:{\r\n    background:grey[100],\r\n    borderRadius:20,\r\n    color:grey[700],\r\n  },\r\n  btnChoose:{\r\n      background:theme.customization.primaryColor[500],\r\n      color:'#fff',\r\n      \"&:hover\": {\r\n        background:theme.customization.primaryColor[500],\r\n      },\r\n  },\r\n  center:{\r\n    flexGrow: 1,textAlign: \"center\"\r\n  },\r\n  minWidthBox:{\r\n      minWidth:70\r\n  },\r\n\r\n\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n  // whiteBg:{\r\n  //   color: theme.customization.primaryColor[500],\r\n  //   backgroundColor: '#fff',\r\n   \r\n  //   border: '0.1px solid lightgray',\r\n  //   borderColor: theme.customization.primaryColor[500], \r\n  // }\r\n  whiteBg:{\r\n    backgroundColor: theme.customization.primaryColor[500],\r\n    color: '#fff',\r\n   \r\n    border: '0.1px solid lightgray',\r\n    borderColor: grey,\r\n  },\r\n  mode:{\r\n    display: \"flex\", justifyContent: \"flex-end\", marginTop: 20,\r\n  },\r\n  boxName:{\r\n   \r\n    margin:5,\r\n    height:44,\r\n    borderRadius:10,\r\n    \r\n    padding:10,\r\n    display:'flex',\r\n    alignItems:'center',\r\n  },\r\n  boxNameDay:{\r\n    // margin:5,\r\n    // height:44,\r\n    // borderRadius:10,\r\n  },\r\n  boxRed:{\r\n    backgroundColor: pink[300],\r\n    \"&:hover\": {\r\n      backgroundColor: pink[400],\r\n    },\r\n  },\r\n  boxGreen:{\r\n    backgroundColor: green[300],\r\n    \"&:hover\": {\r\n      backgroundColor: green[400],\r\n    },\r\n  },\r\n  boxYellow:{\r\n    backgroundColor: amber[300],\r\n    \"&:hover\": {\r\n      backgroundColor: amber[400],\r\n    },\r\n  },\r\n  nameText:{\r\n    color:'#fff',\r\n    fontSize:16,\r\n    fontWeight:400,\r\n    \r\n  },\r\n  \r\n\r\n}));\r\n","export default __webpack_public_path__ + \"static/media/ava1.a21a152a.png\";","export default __webpack_public_path__ + \"static/media/ava2.8533a5a1.png\";","export default __webpack_public_path__ + \"static/media/ava3.6605533f.png\";","export default __webpack_public_path__ + \"static/media/ava4.f21a4572.png\";","export default __webpack_public_path__ + \"static/media/ava5.1b6b5da6.png\";","export default __webpack_public_path__ + \"static/media/ava6.5188d7b0.png\";","export default __webpack_public_path__ + \"static/media/ava7.2b57f529.png\";","export default __webpack_public_path__ + \"static/media/ava8.c8805bd6.png\";","export default __webpack_public_path__ + \"static/media/ava9.e974a2b3.png\";","export default __webpack_public_path__ + \"static/media/ava10.1cc3f8f5.png\";","import React from \"react\";\r\nimport {\r\n  useTheme,\r\n  makeStyles,\r\n  createStyles,\r\n  withStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n  Badge,\r\n  Avatar,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\n\r\nimport ava1 from \"../../../../assets/img/ava/ava1.png\";\r\nimport ava2 from \"../../../../assets/img/ava/ava2.png\";\r\nimport ava3 from \"../../../../assets/img/ava/ava3.png\";\r\nimport ava4 from \"../../../../assets/img/ava/ava4.png\";\r\nimport ava5 from \"../../../../assets/img/ava/ava5.png\";\r\nimport ava6 from \"../../../../assets/img/ava/ava6.png\";\r\nimport ava7 from \"../../../../assets/img/ava/ava7.png\";\r\nimport ava8 from \"../../../../assets/img/ava/ava8.png\";\r\nimport ava9 from \"../../../../assets/img/ava/ava9.png\";\r\nimport ava10 from \"../../../../assets/img/ava/ava10.png\";\r\n\r\nconst listImg = [ava1, ava2, ava3, ava4, ava5, ava6, ava7, ava8, ava9, ava10];\r\nfunction returnImage() {\r\n  return listImg[Math.floor(Math.random() * 11)];\r\n}\r\nconst StyledBadgeGreen = withStyles((theme) => ({\r\n  badge: {\r\n    backgroundColor: \"#44b700\",\r\n    color: \"#44b700\",\r\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n    \"&::after\": {\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      borderRadius: \"50%\",\r\n      animation: \"$ripple 1.2s infinite ease-in-out\",\r\n      border: \"1px solid currentColor\",\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  \"@keyframes ripple\": {\r\n    \"0%\": {\r\n      transform: \"scale(.8)\",\r\n      opacity: 1,\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(2.4)\",\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\nconst StyledBadgeRed = withStyles((theme) => ({\r\n  badge: {\r\n    backgroundColor: \"#eb0202\",\r\n    color: \"#eb0202\",\r\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n    \"&::after\": {\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      borderRadius: \"50%\",\r\n      animation: \"$ripple 1.2s infinite ease-in-out\",\r\n      border: \"1px solid currentColor\",\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  \"@keyframes ripple\": {\r\n    \"0%\": {\r\n      transform: \"scale(.8)\",\r\n      opacity: 1,\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(2.4)\",\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\n\r\nconst StyledBadgeYellow = withStyles((theme) => ({\r\n  badge: {\r\n    backgroundColor: \"#ffae00\",\r\n    color: \"#ffae00\",\r\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n    \"&::after\": {\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      borderRadius: \"50%\",\r\n      animation: \"$ripple 1.2s infinite ease-in-out\",\r\n      border: \"1px solid currentColor\",\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  \"@keyframes ripple\": {\r\n    \"0%\": {\r\n      transform: \"scale(.8)\",\r\n      opacity: 1,\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(2.4)\",\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\n\r\nexport const Dot = (props) => {\r\n  const { status } = props;\r\n  if (status === -1) {\r\n    return (\r\n      <StyledBadgeRed\r\n        overlap=\"circular\"\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        variant=\"dot\"\r\n      >\r\n        {props.children}\r\n      </StyledBadgeRed>\r\n    );\r\n  } else if (status === 0) {\r\n    return (\r\n      <StyledBadgeYellow\r\n        overlap=\"circular\"\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        variant=\"dot\"\r\n      >\r\n        {props.children}\r\n      </StyledBadgeYellow>\r\n    );\r\n  } else {\r\n    return (\r\n      <StyledBadgeGreen\r\n        overlap=\"circular\"\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        variant=\"dot\"\r\n      >\r\n        {props.children}\r\n      </StyledBadgeGreen>\r\n    );\r\n  }\r\n};\r\n\r\nexport const EmployeeItemAva = ({ src, status, name }) => {\r\n  return (\r\n    <Tooltip title={name} arrow>\r\n      <Dot status={status}>\r\n        <Avatar style={{ margin: 5 }} alt=\"Remy Sharp\" src={src} />\r\n      </Dot>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default EmployeeItemAva;\r\n","export function ISO8601_week_no(dt) \r\n{\r\n     var tdt = new Date(dt.valueOf());\r\n     var dayn = (dt.getDay() + 6) % 7;\r\n     tdt.setDate(tdt.getDate() - dayn + 3);\r\n     var firstThursday = tdt.valueOf();\r\n     tdt.setMonth(0, 1);\r\n     if (tdt.getDay() !== 4) \r\n       {\r\n      tdt.setMonth(0, 1 + ((4 - tdt.getDay()) + 7) % 7);\r\n        }\r\n     return 1 + Math.ceil((firstThursday - tdt) / 604800000);\r\n }\r\n\r\nexport function formatDate(mode, date){\r\n    console.log('mode', mode)\r\n    var dat = date.getDay();\r\n    var dd = date.getDate();\r\n    var mm = date.getMonth()+1; \r\n    var yyyy = date.getFullYear();\r\n\r\n    \r\n    if(dd<10) {dd='0'+dd;}\r\n    if(mm<10) {mm='0'+mm;}\r\n    if(dat === 0){dat = 'Chủ nhật'}\r\n    else {dat = `Thứ ${dat + 1}`}\r\n\r\n    if(mode === 0){\r\n        /* Thu 2, 22/12/2008  */\r\n        return dat + ', ' + dd + '/'+ mm +'/' + yyyy\r\n    }else if (mode === 1){\r\n        // return  'Tuần ' + ISO8601_week_no(date) + ', ' + mm +'/' + yyyy\r\n        return  'Tuần ' + ISO8601_week_no(date) +', ' + yyyy\r\n    }else{\r\n         /* Thang 12, 2008  */\r\n        return  'Tháng '+ mm + ', ' +  yyyy\r\n    }  \r\n     \r\n}\r\nexport function getMonday(d) {\r\n    d = new Date(d);\r\n    var day = d.getDay(),\r\n        diff = d.getDate() - day + (day == 0 ? -6:1); // adjust when day is sunday\r\n    return new Date(d.setDate(diff));\r\n}\r\n\r\n\r\nexport function calNextDay(index,selectedDate) { \r\n    var nextDay = new Date(getMonday(selectedDate).getTime() + (index* 24 * 60 * 60 * 1000));\r\n    return nextDay\r\n}\r\nexport function formatDDMMYYY (date){\r\n    var dd = date.getDate();\r\n    var mm = date.getMonth()+1; \r\n    var yyyy = date.getFullYear();\r\n    if(dd<10) {dd='0'+dd;}\r\n    if(mm<10) {mm='0'+mm;}\r\n    \r\n    return  dd + '/'+ mm +'/' + yyyy\r\n}\r\nexport function getDayText (date){\r\n    switch (date.getDay()){\r\n        case 0: return 'Sun'\r\n        case 1: return 'Mon'\r\n        case 2: return 'Tue'\r\n        case 3: return 'Wed'\r\n        case 4: return 'Thu'\r\n        case 5: return 'Fri'\r\n        case 6: return 'Sat'\r\n    }\r\n        \r\n\r\n}\r\nexport function daysInMonth (month, year) {\r\n    return new Date(year, month, 0).getDate();\r\n}\r\n// 30 - 44.67   31-44.84  28- 49.64 29-47.94\r\nexport function getWidthCss(numberOfDayInMonth){\r\n    if(numberOfDayInMonth == 28){return 55 }\r\n    else if(numberOfDayInMonth == 29){return 53.11 }\r\n    else if(numberOfDayInMonth == 30){return 51.33}\r\n    else{ return 49.67}\r\n}\r\nexport function isToday (date){\r\n    const now = new Date();\r\n    console.log('hello')\r\n    console.log(date.toLocaleDateString(\"en-US\"))\r\n    console.log(now.toLocaleDateString(\"en-US\"))\r\n    return date.toLocaleDateString(\"en-US\") === now.toLocaleDateString(\"en-US\")\r\n}","import React from 'react'\r\nimport {Typography,Divider,IconButton,Grid,Popover,Box,TextField,ButtonBase,InputAdornment,ButtonGroup,Button,Tooltip} from '@material-ui/core';\r\nimport SearchTwoToneIcon from '@material-ui/icons/SearchTwoTone';\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\nimport SwapVertTwoToneIcon from '@material-ui/icons/SwapVertTwoTone';\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport { useStyles } from '../style';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nconst ScheduleHead = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const info = useSelector((state) => state.info);\r\n    const branch = info.branch;\r\n\r\n    return (\r\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\r\n                {/* <TextField  \r\n                    variant=\"outlined\" \r\n                    InputProps={{\r\n                        startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                            <SearchTwoToneIcon className={classes.icon}/>\r\n                        </InputAdornment>\r\n                        ),\r\n                        className:classes.search\r\n                    }}\r\n                />  */}\r\n                 <div style={{width:150}}></div> \r\n                <Box>\r\n                    <Typography className={classes.headerTitle} variant=\"h2\">\r\n                        Ca làm việc\r\n                    </Typography>\r\n                    <Typography className={classes.textTitle} variant=\"body2\">\r\n                        {`(${branch.name})`}\r\n                    </Typography> \r\n                </Box>\r\n                \r\n                <Box>\r\n                    <Tooltip title=\"In\">\r\n                        <IconButton aria-label=\"filter list\" style={{height:50, marginTop:5}}>\r\n                            <PrintTwoToneIcon className={classes.icon} />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    {/* <Tooltip title=\"Đổi chi nhánh\">\r\n                        <IconButton aria-label=\"filter list\" style={{height:50, marginTop:5}}>\r\n                            <SwapVertTwoToneIcon className={classes.icon} />\r\n                        </IconButton>\r\n                    </Tooltip> */}\r\n                </Box>\r\n            </Grid>\r\n    )\r\n}\r\n\r\nexport default ScheduleHead\r\n","import React from 'react'\r\nimport {Typography,Divider,IconButton,Grid,Popover,Box,TextField,ButtonBase,InputAdornment,ButtonGroup,Button,Tooltip} from '@material-ui/core';\r\nimport { useState } from \"react\";\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\nimport NavigateNextTwoToneIcon from '@material-ui/icons/NavigateNextTwoTone';\r\nimport NavigateBeforeTwoToneIcon from '@material-ui/icons/NavigateBeforeTwoTone';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n  DatePicker\r\n} from '@material-ui/pickers';\r\nimport { grey} from '@material-ui/core/colors'\r\nimport { useStyles } from '../style';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {formatDate} from '../dateUtil'\r\n\r\nconst ScheduleToolBar = ({selectedBtn,handleModeBtn,setSelectedBtn,selectedDate,handleDateChange,anchorEl,setAnchorEl, openAddSchedule}) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n\r\n    // open choose date\r\n    // const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popover' : undefined;\r\n    const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n    setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" style={{marginBottom:20}}>\r\n                    <ButtonGroup>\r\n                        <Button className={selectedBtn === 0 && classes.btnChoose} onClick={()=>handleModeBtn(0)}>Ngày</Button>\r\n                        <Button className={selectedBtn === 1 &&classes.btnChoose}   onClick={()=>handleModeBtn(1)}>Tuần</Button>\r\n                        <Button className={selectedBtn === 2 &&classes.btnChoose}  onClick={()=>handleModeBtn(2)}>Tháng</Button>\r\n                    </ButtonGroup>\r\n                <Grid item >\r\n                    <Grid container  direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n                        <IconButton style={{marginRight:15,}}>\r\n                            <NavigateBeforeTwoToneIcon /> \r\n                        </IconButton>\r\n                        <Box border={1} style={{padding:'10px 20px 10px 20px', borderColor:grey[300], borderRadius:10}} className={classes.box} onClick={handleClick}>\r\n                            <Typography variant=\"h3\" style={{color:grey[600], fontWeight:500}} >\r\n                                \r\n                                {formatDate(selectedBtn,selectedDate)}\r\n                            </Typography>\r\n                        </Box>\r\n\r\n                        <IconButton style={{marginLeft:15}}>\r\n                            <NavigateNextTwoToneIcon />\r\n                        </IconButton>\r\n                    </Grid>  \r\n                </Grid>\r\n                <PopUpChooseDate id={id} open={open} anchorEl={anchorEl}handleClose={handleClose}selectedDate={selectedDate}handleDateChange={handleDateChange}/>\r\n\r\n                <ButtonBase onClick={openAddSchedule}  className={classes.addBtn} style={{marginLeft:70}} >\r\n                    <Tooltip title='Thêm lịch làm việc'>\r\n                        <AddIcon  size=\"small\" className={classes.addIcon} />\r\n                    </Tooltip>\r\n                </ButtonBase>\r\n           </Grid>\r\n    )\r\n}\r\n\r\nexport default ScheduleToolBar\r\nconst PopUpChooseDate = ({id,open,anchorEl,handleClose,selectedDate,handleDateChange}) =>{\r\n    return(\r\n        <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n        }}\r\n    >         \r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <KeyboardDatePicker\r\n        disableToolbar\r\n        variant=\"static\"\r\n        inputVariant=\"outlined\"\r\n        format=\"dd/MM/yyyy\"\r\n        margin=\"normal\"\r\n        value={selectedDate}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n        }}\r\n        />\r\n    </MuiPickersUtilsProvider>\r\n    </Popover>\r\n    )\r\n}","import React from 'react'\r\nimport { useState } from \"react\";\r\nimport {useTheme, makeStyles,createStyles,withStyles} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Badge,IconButton,Grid,Popover,Paper,Box,TextField,Avatar,ButtonBase,InputAdornment,ButtonGroup,Button,Tooltip, TableContainer} from '@material-ui/core';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport EmployeeItemAva from '../../EmployeeItem/EmployeeItemAva'\r\nimport { grey} from '@material-ui/core/colors'\r\nimport {formatDate,getMonday,calNextDay,formatDDMMYYY, isToday} from '../../dateUtil'\r\nimport { useStyles } from '../../style';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport clsx from 'clsx'\r\nconst HeadWeekBox =({date, _day,now}) =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    var day = _day.getDate()\r\n    return(\r\n        <Box className={classes.center} border={1} borderLeft={0} style={{ borderColor:grey[300], height:55,minWidth:152, background:isToday(_day)?theme.customization.primaryColor[50]:null}}  >\r\n            <Typography variant=\"body2\" style={{fontSize:12, marginTop:5, marginBottom:-3}} >\r\n                {date}\r\n            </Typography>\r\n            <Typography variant=\"h3\" style={{color:grey[700], fontWeight:600, fontSize:25,marginRight:day < 10?7:0, marginLeft:day <10?7:0}} >\r\n                {day}\r\n            </Typography>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport const HeadWeek =({selectedDate, openAddShift}) =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const now = new Date();\r\n    return(\r\n        <Grid style={{minWidth:1226,overflowX: 'auto'}}>\r\n            <Grid  container  direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                <Box border={1}  style={{borderColor:grey[300],height:44,minWidth:150,height:55}} > \r\n                    <Grid  container  direction=\"row\" alignItems=\"center\" >\r\n                        <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5, marginTop:10}} >\r\n                            Ca làm việc\r\n                        </Typography>\r\n                        <ButtonBase onClick={openAddShift}  className={classes.addBtn} style={{marginTop:10,marginLeft:25 ,marginRight:10}} >\r\n                            <Tooltip title='Thêm ca'>\r\n                                <AddIcon  size=\"small\" className={classes.addShiftIcon} />\r\n                            </Tooltip>\r\n                        </ButtonBase>\r\n                    </Grid>\r\n                </Box>\r\n                {/* <HeadWeekBox date='Mon' day={calNextDay(0,selectedDate).getDate() } now={now.getDate()}/>\r\n                <HeadWeekBox date='Tue' day={calNextDay(1,selectedDate).getDate() } now={now.getDate()}/>\r\n                <HeadWeekBox date='Wed' day={calNextDay(2,selectedDate).getDate() } now={now.getDate()}/>\r\n                <HeadWeekBox date='Thu' day={calNextDay(3,selectedDate).getDate() } now={now.getDate()}/>\r\n                <HeadWeekBox date='Fri' day={calNextDay(4,selectedDate).getDate() } now={now.getDate()} />\r\n                <HeadWeekBox date='Sat' day={calNextDay(5,selectedDate).getDate() } now={now.getDate()}/>\r\n                <HeadWeekBox date='Sun' day={calNextDay(6,selectedDate).getDate() } now={now.getDate()}/> */}\r\n                {['Mon','Tue','Wed','Thu','Fri','Sat','Sun'].map((date, index)=>{\r\n                    return   (\r\n                        <HeadWeekBox date={date} _day={calNextDay(index,selectedDate) } />\r\n                    )\r\n                })}\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nfunction sliceIntoChunks(arr, chunkSize) {\r\n    const res = [];\r\n    for (let i = 0; i < arr.length; i += chunkSize) {\r\n        const chunk = arr.slice(i, i + chunkSize);\r\n        res.push(chunk);\r\n    }\r\n    return res;\r\n}\r\n\r\nconst BodyWeekBox =({day,groupList,handlePopUp,setClickSchedule ,shift,mode}) =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    console.log('mode',mode)\r\n\r\n    if (groupList === undefined){return  <Box className={classes.center} border={1} borderTop={0} borderLeft={0} style={{ height:280, borderColor:grey[300],minWidth:152,}} > <Grid  container  direction=\"row\" justifyContent={\"space-around\"} alignItems=\"center\" ><div style={{width:50}}></div><div style={{width:50}}></div> <div style={{width:50}}></div></Grid></Box> }   \r\n    else{\r\n        if(mode === true){\r\n            var groupListMax = groupList.slice(0, 14);\r\n            var moreItemNumber =  groupList.length - 14;\r\n            var arr = sliceIntoChunks(groupListMax,3)\r\n        }else{\r\n            var groupListMax = groupList.slice(0, 5);\r\n            var moreItemNumber =  groupList.length - 5;\r\n            var arr = groupListMax\r\n        }\r\n       \r\n    \r\n    const handleClickBox = () =>{\r\n        var _shift ={...shift} \r\n        _shift.schedules = _shift.schedules.filter(schedule => schedule.date === day)\r\n        setClickSchedule(_shift)\r\n        handlePopUp();\r\n    }\r\n    return(\r\n        <Box className={classes.center} border={1} borderTop={0} borderLeft={0} style={{ height:280, borderColor:grey[300],minWidth:152,}} onClick={handleClickBox}>\r\n            {mode === true ?\r\n            arr.map(item=>{ \r\n                return(\r\n                    <Grid  container  direction=\"row\" justifyContent={\"space-around\"} alignItems=\"center\" >\r\n                        {item.map(subitem =>{\r\n                            return(\r\n                                <EmployeeItemAva status={subitem.status} src={subitem.employee_img_url} name={subitem.employee_name}/>\r\n                            )\r\n                        })}\r\n                        {/* //    chinh css thoi */}\r\n                        {item.length === 1 ?<> <div style={{width:50}}></div> <div style={{width:50}}></div> </>:null } \r\n                        {item.length === 2 && moreItemNumber <= 0 ? <div style={{width:50}}></div> :null }\r\n                        {item.length === 2 && moreItemNumber > 0? <Avatar className={classes.whiteBg}>+{moreItemNumber}</Avatar>:null }\r\n                    </Grid>\r\n                )}) : \r\n            <>\r\n            {arr.map(item=>{ \r\n                return(\r\n                        <Box className={clsx(classes.boxName,item.status === -1 && classes.boxRed,item.status === 0 && classes.boxYellow,item.status === 1 && classes.boxGreen)} > \r\n                            <Box style={{width:120,flexGrow: 1,textAlign: \"center\"}}>\r\n                            <Typography className={classes.nameText} noWrap={false}>\r\n                                {item.employee_name}\r\n                            </Typography>\r\n                            </Box>\r\n                        </Box>\r\n                    //  </Grid>\r\n                )\r\n            })}\r\n            {moreItemNumber!== 0 ?<Typography style={{padding:5, color:'#2196f3', fontWeight:500,cursor: 'pointer'}}>+ {moreItemNumber} more</Typography> :null}\r\n            </>\r\n            }\r\n        </Box>\r\n    )\r\n    }\r\n}\r\nexport const ShiftWeekBox = ({shift,selectedDate,handlePopUp,setClickSchedule,mode})  =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    var groupBy = function(xs, key) {\r\n        return xs?.reduce(function(rv, x) {\r\n          (rv[x[key]] = rv[x[key]] || []).push(x);\r\n          return rv;\r\n        }, {});\r\n      };\r\n      \r\n   var groupList = groupBy(shift.schedules, 'date')\r\n      \r\n\r\n    return (\r\n        <Box style={{minWidth:1226,overflowClipBox: 'scroll'}} >\r\n            <Grid  container  direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                <Box border={1} borderRight={1} borderTop={0} style={{borderColor:grey[300],height:280, minWidth:150}} > \r\n                    <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5, marginTop:100}} >\r\n                        {shift.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" style={{marginLeft:5, marginTop:5}} >\r\n                        {shift.start_time} - {shift.end_time}\r\n                    </Typography>\r\n                    {/* Con thieu EDIT _ DELETE */}\r\n                </Box>\r\n                {/* <BodyWeekBox groupList={groupList['29/11/2021']} />\r\n                <BodyWeekBox groupList={groupList['30/11/2021']}/>\r\n                <BodyWeekBox groupList={groupList['01/12/2021']}/>\r\n                <BodyWeekBox groupList={groupList['02/12/2021']}/>\r\n                <BodyWeekBox groupList={groupList['03/12/2021']}/>\r\n                <BodyWeekBox groupList={groupList['04/12/2021']}/>\r\n                <BodyWeekBox groupList={groupList['05/12/2021']}/> */}\r\n                { [0,1,2,3,4,5,6].map(index=>{\r\n                    var day = formatDDMMYYY(calNextDay(index,selectedDate));\r\n                    return   (\r\n                        <BodyWeekBox groupList={groupList[day]} day={day} handlePopUp={handlePopUp} setClickSchedule={setClickSchedule} shift={shift} mode={mode}/>\r\n                    )\r\n                })}\r\n\r\n                \r\n            </Grid>\r\n        </Box> \r\n            \r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { useState } from \"react\";\r\nimport {useTheme, makeStyles,createStyles,withStyles} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Badge,IconButton,Grid,Popover,Paper,Box,TextField,Avatar,ButtonBase,InputAdornment,ButtonGroup,Button,Tooltip, TableContainer} from '@material-ui/core';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport EmployeeItemAva from '../../EmployeeItem/EmployeeItemAva'\r\nimport { grey} from '@material-ui/core/colors'\r\nimport {formatDate,getMonday,getDayText,isToday,calNextDay,formatDDMMYYY} from '../../dateUtil'\r\nimport { useStyles } from '../../style';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport clsx from 'clsx'\r\n\r\nexport const HeadDay =({selectedDate, openAddShift}) =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const now = new Date();\r\n    return(\r\n        <Grid >\r\n            <Grid  container  direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                <Box border={1}  style={{borderColor:grey[300],height:44,minWidth:150,height:55}} > \r\n                    <Grid  container  direction=\"row\" alignItems=\"center\" >\r\n                        <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5, marginTop:10}} >\r\n                            Ca làm việc\r\n                        </Typography>\r\n                        <ButtonBase onClick={openAddShift}  className={classes.addBtn} style={{marginTop:10,marginLeft:25 ,marginRight:10}} >\r\n                            <Tooltip title='Thêm ca'>\r\n                                <AddIcon  size=\"small\" className={classes.addShiftIcon} />\r\n                            </Tooltip>\r\n                        </ButtonBase>\r\n                    </Grid>\r\n                </Box>\r\n \r\n                <Box className={classes.center} border={1} borderLeft={0} style={{ borderColor:grey[300], height:55,minWidth:152,background:isToday(selectedDate)?theme.customization.primaryColor[50]:null}}  >\r\n                    <Typography variant=\"body2\" style={{fontSize:12, marginTop:5, marginBottom:-3}} >\r\n                        {getDayText(selectedDate)}\r\n                    </Typography>\r\n                    <Typography variant=\"h3\" style={{color:grey[700], fontWeight:600, fontSize:25}} >\r\n                        {selectedDate.getDate()}\r\n                    </Typography>\r\n                </Box>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\nexport const ShiftDayBox = ({shift,handlePopUp,setClickSchedule,mode})  =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    // var arr = shift.scheduleList\r\n    const handleClickBox = () =>{\r\n        var _shift ={...shift} \r\n        // _shift.scheduleList = _shift.scheduleList.filter(schedule => schedule.date === day)\r\n        setClickSchedule(_shift)\r\n        handlePopUp();\r\n    }\r\n    var arr = shift.schedules\r\n\r\n    return (\r\n        <Box border={1} borderTop={0} borderRight={0}style={{borderColor:grey[300]}} > \r\n\r\n            <Grid  container  direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                    <Box style={{borderColor:grey[300], minWidth:148}} >\r\n                    <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5}} >\r\n                        {shift.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" style={{marginLeft:5, marginTop:5}} >\r\n                        {shift.start_time} - {shift.end_time}\r\n                    </Typography>\r\n                    {/* Con thieu EDIT _ DELETE */}\r\n                    </Box>\r\n                \r\n               \r\n                <Box border={1} borderTop={0} borderBottom={0}  className={classes.center} style={{  borderColor:grey[300],width:1}} onClick={handleClickBox}>\r\n                {mode === true ?\r\n                    <Grid   container  direction=\"row\" alignItems=\"center\" justifyContent=\"center\">\r\n                    {arr.map(subitem =>{\r\n                        return(\r\n                            <EmployeeItemAva src={subitem.employee_img_url} status={subitem.status} name={subitem.employee_name}/>\r\n                        )\r\n                    }) }\r\n                     </Grid>: \r\n                    <>\r\n                    <Grid  container  direction=\"row\" alignItems=\"center\" justifyContent=\"center\">\r\n                    {arr.map(item=>{ \r\n                        return(\r\n                            <Box className={clsx(item.status === -1 && classes.boxRed,item.status === 0 && classes.boxYellow,item.status === 1 && classes.boxGreen)} style={{width:120, margin:5,height:44,borderRadius:10,padding:10,alignItems:'center'}} > \r\n                                {/* <Box style={{width:120,flexGrow: 1,textAlign: \"center\"}}> */}\r\n                                <Typography className={classes.nameText} noWrap={false}>\r\n                                    {item.employee_name}\r\n                                </Typography>\r\n                                {/* </Box> */}\r\n                            </Box>\r\n                   \r\n                        )\r\n                    })}\r\n                    </Grid>\r\n                    </>\r\n                    }\r\n                </Box>\r\n\r\n\r\n                \r\n            </Grid>\r\n         </Box>  \r\n            \r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport { useState } from \"react\";\r\nimport {useTheme, makeStyles,createStyles,withStyles} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Badge,IconButton,Grid,Popover,Paper,Box,TextField,Avatar,ButtonBase,InputAdornment,ButtonGroup,Button,Tooltip, TableContainer} from '@material-ui/core';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport EmployeeItemAva from '../../EmployeeItem/EmployeeItemAva'\r\nimport { grey} from '@material-ui/core/colors'\r\nimport {formatDate,getMonday,getDayText,calNextDay,isToday,formatDDMMYYY,daysInMonth,getWidthCss} from '../../dateUtil'\r\nimport { useStyles } from '../../style';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport clsx from 'clsx'\r\nimport { amber, pink,green } from '@material-ui/core/colors';\r\nimport {Dot} from '../../EmployeeItem/EmployeeItemAva'\r\nexport const HeadMonth =({selectedDate, openAddShift}) =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    var firstDay = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), 1);\r\n\r\n    var month = selectedDate.getMonth()+1;\r\n    var year = selectedDate.getFullYear() \r\n\r\n    return(\r\n            <Grid style={{minWidth:1850}} container  direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                <Box border={1}  style={{borderColor:grey[300],height:44,width:150,height:55}} > \r\n                    <Grid  container  direction=\"row\" alignItems=\"center\" >\r\n                        <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5, marginTop:10}} >\r\n                            Ca làm việc\r\n                        </Typography>\r\n                        <ButtonBase onClick={openAddShift}  className={classes.addBtn} style={{marginTop:10,marginLeft:25 ,marginRight:10}} >\r\n                            <Tooltip title='Thêm ca'>\r\n                                <AddIcon  size=\"small\" className={classes.addShiftIcon} />\r\n                            </Tooltip>\r\n                        </ButtonBase>\r\n                    </Grid>\r\n                </Box>\r\n                <Box border={1} borderLeft={0} style={{borderColor:grey[300],height:44,width:160,height:55}} > \r\n                    <Grid  container  direction=\"row\" alignItems=\"center\" >\r\n                        <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5, marginTop:10}} >\r\n                            Nhân viên\r\n                        </Typography>\r\n                     \r\n                    </Grid>\r\n                </Box>\r\n                 {Array.from(Array(daysInMonth(month, year)).keys()).map(index=>{\r\n                    return(\r\n                        <Box className={classes.center} border={1} borderLeft={0} style={{ borderColor:grey[300], height:55, width:42,background:isToday(new Date(`${month}/${index+1}/${year}`))?theme.customization.primaryColor[50]:null}}  >    \r\n                            <Typography variant=\"body2\" style={{fontSize:12, marginTop:5, marginBottom:-3}} >\r\n                                {/* Xem lai ham nao tot hon ko */}\r\n                                {getDayText(calNextDay(index,firstDay))} \r\n                            </Typography>\r\n                            <Typography variant=\"h4\"  >\r\n                                {index + 1}\r\n                            </Typography>\r\n                        </Box>\r\n                    )\r\n                })}\r\n              \r\n            </Grid>\r\n    )\r\n}\r\n\r\n\r\nexport const ShiftMonthBox = ({shift,selectedDate,handleChangeModeMonth,modeMonth})  =>{\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    var groupBy = function(xs, key) {\r\n        return xs.reduce(function(rv, x) {\r\n          (rv[x[key]] = rv[x[key]] || []).push(x);\r\n          return rv;\r\n        }, {});\r\n      };\r\n      \r\n   var employeeGroup = groupBy(shift.schedules, 'employee_id')\r\n      \r\n    function getColor (day,dateGroup, month, year) {\r\n            if(dateGroup[`${day}/${month}/${year}`] !== undefined) {\r\n                if(dateGroup[`${day}/${month}/${year}`][0].status === -1){\r\n                    return pink[300]\r\n                }else if (dateGroup[`${day}/${month}/${year}`][0].status === 0){\r\n                    return amber[300]\r\n                }else{\r\n                    return green[300]\r\n                }\r\n            }else{\r\n                return null\r\n            }\r\n    }\r\n\r\n    var numberOfDayInMonth = daysInMonth(selectedDate.getMonth()+1, selectedDate.getFullYear() )\r\n    var widthCss = getWidthCss(numberOfDayInMonth)\r\n   \r\n\r\n    return (\r\n        <Box border={1} borderTop={0} borderRight={0}style={{borderColor:grey[300]}} > \r\n            <Grid  style={{minWidth:1850}} container  direction=\"row\" alignItems=\"center\" >\r\n                <Box style={{borderColor:grey[300], width:147,}} >\r\n                    <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5}} >\r\n                        {shift.name}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" style={{marginLeft:5, marginTop:5}} >\r\n                        {shift.start_time} - {shift.end_time}\r\n                    </Typography>\r\n                    {/* Con thieu EDIT _ DELETE */}\r\n                </Box>\r\n                <Box border={1}  borderBottom={0} borderRight={0} borderTop={0}style={{borderColor:grey[300]}} > \r\n              \r\n                    {Object.keys(employeeGroup).map(function(key, index) {\r\n                  \r\n                \r\n                    var dateGroup = groupBy(employeeGroup[key], 'date')\r\n                    \r\n                        return(\r\n                            <Grid  container  direction=\"row\" alignItems=\"center\" >\r\n                                <Box border={1} borderLeft={0}  borderTop={0}style={{borderColor:grey[300],width:160,height:55}} > \r\n                                    <Typography variant=\"h4\" style={{fontSize:16, marginLeft:5, marginTop:10,width:150,}} >\r\n                                        {employeeGroup[key][0].employee_name}\r\n                                    </Typography>\r\n                                    <Typography variant=\"body2\" style={{fontSize:14, marginLeft:5,}} >\r\n                                        {/* {employeeGroup[key][0].role} */}\r\n                                        Nhân viên bán hàng\r\n                                    </Typography>\r\n                                </Box>\r\n\r\n                                {Array.from(Array(numberOfDayInMonth).keys()).map(index=>{\r\n                                    var day = index+1 > 9 ? index+1 : `0${index+1}` \r\n                                    var month = selectedDate.getMonth()+1;\r\n                                    var year = selectedDate.getFullYear();\r\n                                    \r\n                                    return(\r\n                                        \r\n                                        // fix laij cai responsive nay\r\n                                        <Box className={classes.center} border={1}borderLeft={0}borderTop={0} style={{ borderColor:grey[300], height:55, width:widthCss,   backgroundColor:modeMonth === false ? getColor(day, dateGroup, month , year ):null  }}  >\r\n                                            {modeMonth === true ? \r\n                                            <Box style={{marginTop:15}}>\r\n                                            {dateGroup[`${day}/${month}/${year}`]!== undefined ? \r\n                                                <Dot status={dateGroup[`${day}/${month}/${year}`][0].status} style={{marginTop:10,}}/>\r\n                                                : null\r\n                                            }\r\n                                            </Box>: \r\n                                            null}\r\n                                        </Box>\r\n                                    )\r\n                                })}\r\n                            </Grid> \r\n                        )\r\n                    })}\r\n                </Box>\r\n   \r\n            </Grid>\r\n         </Box>  \r\n            \r\n    )\r\n}\r\n\r\nconst StyledBadgeGreen = withStyles((theme) => ({\r\n    badge: {\r\n      backgroundColor: '#44b700',\r\n      color: '#44b700',\r\n      boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n      '&::after': {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        borderRadius: '50%',\r\n        animation: '$ripple 1.2s infinite ease-in-out',\r\n        border: '1px solid currentColor',\r\n        content: '\"\"',\r\n      },\r\n    },\r\n    '@keyframes ripple': {\r\n      '0%': {\r\n        transform: 'scale(.8)',\r\n        opacity: 1,\r\n      },\r\n      '100%': {\r\n        transform: 'scale(2.4)',\r\n        opacity: 0,\r\n      },\r\n    },\r\n  }))(Badge);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst scheduleApi = {\r\n  createSchedule: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/createSchedule`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n\r\n  createShift: (storeUuid, branchUuid, body) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/createShift`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n\r\n  getSchedule: (storeUuid, branchUuid, selectedDate, mode) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/getSchedule`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        selected_date: selectedDate,\r\n        mode: mode,\r\n      },\r\n    });\r\n  },\r\n  // this is support for assign schedule for employee pop up\r\n  getEmpAndShiftOfBranch: (storeUuid, branchUuid) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/getEmpAndShiftOfBranch`;\r\n    return axiosClient.get(url, {});\r\n  },\r\n\r\n  checkAttendance: (storeUuid, branchUuid, schedule) => {\r\n    const url = `stores/${storeUuid}/branches/${branchUuid}/checkAttendance`;\r\n    return axiosClient.post(url, { data: schedule });\r\n  },\r\n};\r\nexport default scheduleApi;\r\n","import React from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  FormHelperText,\r\n  Dialog,\r\n} from \"@material-ui/core\";\r\n\r\n\r\n// api\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport scheduleApi from \"../../../../api/scheduleApi\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(1),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n      marginBottom: 15,\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nconst AddShiftPopup = (props) => {\r\n  const { handleClose, addShiftOpen, reload } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      start_time: \"\",\r\n      end_time: \"\",\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n      name: Yup.string().required(\"Bắt buộc!\"),\r\n      start_time: Yup.string().required(\"Bắt buộc!\"),\r\n      end_time: Yup.string().required(\"Bắt buộc!\"),\r\n    }),\r\n\r\n    onSubmit: async (values, actions) => {\r\n      try {\r\n        const response = await scheduleApi.createShift(store_uuid, branch_uuid, values);\r\n        dispatch(statusAction.successfulStatus(\"Thêm ca thành công\"))\r\n        reload();\r\n        handleClose(\"Success\");\r\n      } catch (error) {\r\n        dispatch(statusAction.failedStatus(\"Thêm ca thất bại\"))\r\n        handleClose(\"Failed\");\r\n      }\r\n    },\r\n  });\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <Dialog\r\n        open={addShiftOpen}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Thêm ca làm việc\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n          <Grid container direction=\"row\">\r\n            <TextField\r\n              label=\"Tên ca\"\r\n              required\r\n              value={formik.values.name}\r\n              name=\"name\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              onChange={formik.handleChange}\r\n            />\r\n\r\n            {formik.errors.name && formik.touched.name && (\r\n              <FormHelperText error>{formik.errors.name}</FormHelperText>\r\n            )}\r\n\r\n            <TextField\r\n              label=\"Bắt đầu\"\r\n              type=\"time\"\r\n              value={formik.values.start_time}\r\n              name=\"start_time\"\r\n              onChange={formik.handleChange}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n            />\r\n\r\n            {formik.errors.start_time && formik.touched.start_time && (\r\n              <FormHelperText error>{formik.errors.start_time}</FormHelperText>\r\n            )}\r\n\r\n            <TextField\r\n              label=\"Kết thúc\"\r\n              type=\"time\"\r\n              value={formik.values.end_time}\r\n              name=\"end_time\"\r\n              onChange={formik.handleChange}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n            />\r\n\r\n            {formik.errors.end_time && formik.touched.end_time && (\r\n              <FormHelperText error>{formik.errors.end_time}</FormHelperText>\r\n            )}\r\n          </Grid>\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => handleClose(null)}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button onClick={formik.handleSubmit}>Thêm</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddShiftPopup;\r\n","import React from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  FormHelperText,\r\n  Dialog,\r\n} from \"@material-ui/core\";\r\n\r\n// api\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\nimport scheduleApi from \"../../../../api/scheduleApi\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(1),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n      marginBottom: 15,\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nconst daysOfWeek = [\r\n  { value: 1, name: \"Thứ 2\" },\r\n  { value: 2, name: \"Thứ 3\" },\r\n  { value: 3, name: \"Thứ 4\" },\r\n  { value: 4, name: \"Thứ 5\" },\r\n  { value: 5, name: \"Thứ 6\" },\r\n  { value: 6, name: \"Thứ 7\" },\r\n  { value: 0, name: \"Chủ Nhật\" },\r\n];\r\n\r\nconst AddSchedulePopup = (props) => {\r\n  const { handleClose, addScheduleOpen, reload } = props;\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      employee_id: \"\",\r\n      shift_id: \"\",\r\n      start_date: \"\",\r\n      end_date: \"\",\r\n      week_day: [],\r\n    },\r\n    validationSchema: Yup.object().shape({\r\n      employee_id: Yup.string().required(\"Bắt buộc!\"),\r\n      shift_id: Yup.string().required(\"Bắt buộc!\"),\r\n      start_date: Yup.string().required(\"Bắt buộc!\"),\r\n      end_date: Yup.string().required(\"Bắt buộc!\"),\r\n      week_day: Yup.array().min(1, \"Ít nhất một ngày trong tuần\"),\r\n    }),\r\n\r\n    onSubmit: async (values, actions) => {\r\n\r\n      const body = {...values, week_day: values.week_day.join(',')}\r\n\r\n      try {\r\n        const response = await scheduleApi.createSchedule(\r\n          store_uuid,\r\n          branch_uuid,\r\n          body\r\n        );\r\n\r\n        dispatch(statusAction.successfulStatus(\"Thêm lịch làm việc thành công\"))\r\n        reload();\r\n        handleClose(\"Success\");\r\n      } catch (error) {\r\n        dispatch(statusAction.failedStatus(\"Thêm lịch làm việc thất bại\"))\r\n        handleClose(\"Failed\");\r\n      }\r\n    },\r\n  });\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n  const dispatch = useDispatch();\r\n\r\n  // select employees and shifts of branch\r\n  const [employees, setEmployees] = React.useState([]);\r\n  const [shifts, setShifts] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    const fetchEmpAndShift = async () => {\r\n      try {\r\n        const response = await scheduleApi.getEmpAndShiftOfBranch(\r\n          store_uuid,\r\n          branch_uuid\r\n        );\r\n        setEmployees(response.data.employees);\r\n        setShifts(response.data.shifts);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n    fetchEmpAndShift();\r\n  }, [branch_uuid]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={addScheduleOpen}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Thêm lịch làm việc cho nhân viên\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n          <Grid container direction=\"row\">\r\n            <FormControl\r\n              className={classes.formControl}\r\n              fullWidth\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              style={{ marginTop: 8 }}\r\n            >\r\n              <InputLabel id=\"employee_name\">Nhân viên</InputLabel>\r\n              <Select\r\n                labelId=\"employee_name\"\r\n                required\r\n                value={formik.values.employee_id}\r\n                name=\"employee_id\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n                renderValue={(value) =>\r\n                  employees.find((employee) => employee.employee_id === value)\r\n                    ?.name\r\n                }\r\n              >\r\n                {employees.map((employee) => (\r\n                  <MenuItem\r\n                    value={employee.employee_id}\r\n                  >{`${employee.name} - ${employee.phone}`}</MenuItem>\r\n                ))}\r\n              </Select>\r\n\r\n              {formik.errors.employee_id && formik.touched.employee_id && (\r\n                <FormHelperText error>\r\n                  {formik.errors.employee_id}\r\n                </FormHelperText>\r\n              )}\r\n            </FormControl>\r\n            <FormControl\r\n              className={classes.formControl}\r\n              fullWidth\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              style={{ marginTop: 8 }}\r\n            >\r\n              <InputLabel id=\"shift_name\">Ca làm việc</InputLabel>\r\n              <Select\r\n                labelId=\"shift_name\"\r\n                required\r\n                value={formik.values.shift_id}\r\n                name=\"shift_id\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={formik.handleChange}\r\n                renderValue={(value) =>\r\n                  shifts.find((shift) => shift.id === value)?.name\r\n                }\r\n              >\r\n                {shifts.map((shift) => (\r\n                  <MenuItem\r\n                    value={shift.id}\r\n                  >{`${shift.name}: ${shift.start_time} - ${shift.end_time}`}</MenuItem>\r\n                ))}\r\n                {shifts.length === 0 && (\r\n                  <MenuItem value=\"\" disabled>\r\n                    Chưa tạo ca cho chi nhánh\r\n                  </MenuItem>\r\n                )}\r\n              </Select>\r\n\r\n              {formik.errors.shift_id && formik.touched.shift_id && (\r\n                <FormHelperText error>{formik.errors.shift_id}</FormHelperText>\r\n              )}\r\n            </FormControl>\r\n\r\n            <FormControl\r\n              className={classes.formControl}\r\n              fullWidth\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              style={{ marginTop: 8 }}\r\n            >\r\n              <InputLabel id=\"daysOfWeek\">Ngày trong tuần</InputLabel>\r\n              <Select\r\n                labelId=\"daysOfWeek\"\r\n                multiple\r\n                name=\"week_day\"\r\n                required\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                value={formik.values.week_day}\r\n                onChange={formik.handleChange}\r\n                renderValue={(selected) =>\r\n                  selected\r\n                    .map((day) => daysOfWeek.find((d) => d.value === day).name)\r\n                    .join(\",\")\r\n                }\r\n              >\r\n                {daysOfWeek.map((day) => (\r\n                  <MenuItem key={day.name} value={day.value}>\r\n                    {day.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n\r\n              {formik.errors.week_day && formik.touched.week_day && (\r\n                <FormHelperText error>{formik.errors.week_day}</FormHelperText>\r\n              )}\r\n            </FormControl>\r\n            <TextField\r\n              type=\"date\"\r\n              value={formik.values.start_date}\r\n              name=\"start_date\"\r\n              onChange={formik.handleChange}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              label=\"Ngày bắt đầu\"\r\n              className={classes.textField}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n\r\n            {formik.errors.start_date && formik.touched.start_date && (\r\n              <FormHelperText error>{formik.errors.start_date}</FormHelperText>\r\n            )}\r\n\r\n            <TextField\r\n              type=\"date\"\r\n              value={formik.values.end_date}\r\n              name=\"end_date\"\r\n              onChange={formik.handleChange}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              label=\"Ngày kết thúc\"\r\n              size=\"small\"\r\n              className={classes.textField}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n\r\n            {formik.errors.end_date && formik.touched.end_date && (\r\n              <FormHelperText error>{formik.errors.end_date}</FormHelperText>\r\n            )}\r\n          </Grid>\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => handleClose(null)}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button onClick={formik.handleSubmit}>Thêm</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddSchedulePopup;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Typography,\r\n  DialogTitle,\r\n  TableBody,\r\n  ListItem,\r\n  TableCell,\r\n  TableRow,\r\n  Divider,\r\n  Badge,\r\n  Dialog,\r\n  IconButton,\r\n  Grid,\r\n  Popover,\r\n  Paper,\r\n  Box,\r\n  TextField,\r\n  Avatar,\r\n  ButtonBase,\r\n  InputAdornment,\r\n  ButtonGroup,\r\n  DialogActions,\r\n  Button,\r\n  Tooltip,\r\n  Checkbox,\r\n  TableContainer,\r\n} from \"@material-ui/core\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport DeleteForeverTwoToneIcon from \"@material-ui/icons/DeleteForeverTwoTone\";\r\nimport TableHeader from \"../../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport TableWrapper from \"../../../../components/TableCommon/TableWrapper/TableWrapper\";\r\n// import EmployeeTableRow from '../../Employee/EmployeeTableRow/EmployeeTableRow'\r\nimport * as HeadCells from \"../../../../assets/constant/tableHead\";\r\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nimport {\r\n  getComparator,\r\n  stableSort,\r\n} from \"../../../../components/TableCommon/util/sortUtil\";\r\nimport clsx from \"clsx\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n    },\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: \"rect(0 0 0 0)\",\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: \"hidden\",\r\n      padding: 0,\r\n      position: \"absolute\",\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n  })\r\n);\r\nconst ScheduleDetail = ({ open, handlePopUp, clickSchedule, handleSubmit }) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  // 2. Table sort\r\n  const [order, setOrder] = React.useState(\"desc\");\r\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    setOrder(isAsc ? \"desc\" : \"asc\");\r\n    setOrderBy(property);\r\n  };\r\n  const [schedules, setSchedules] = React.useState([]);\r\n\r\n  const handleCheckSchedule = (schedule_id) => {\r\n    const newSchedule = [];\r\n\r\n    schedules.forEach((s) => {\r\n      if (s.schedule_id === schedule_id) {\r\n        newSchedule.push({ ...s, status: !s.status });\r\n      } else {\r\n        newSchedule.push(s);\r\n      }\r\n    });\r\n\r\n    setSchedules(newSchedule);\r\n  };\r\n  useEffect(() => {\r\n    if (clickSchedule) {\r\n      setSchedules(clickSchedule.schedules);\r\n    }\r\n  }, [clickSchedule]);\r\n  return (\r\n    <Dialog\r\n      maxWidth=\"lg\"\r\n      open={open}\r\n      onClose={handlePopUp}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography\r\n          variant=\"h2\"\r\n          style={{\r\n            marginBottom: 10,\r\n            color: theme.customization.primaryColor[500],\r\n            flexGrow: 1,\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          {clickSchedule.schedules ? clickSchedule.schedules[0].date : \"\"}\r\n        </Typography>\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          {clickSchedule.name}\r\n        </Typography>\r\n        <Typography\r\n          className={classes.headerTitle}\r\n          style={{ color: grey[600] }}\r\n          variant=\"h5\"\r\n        >\r\n          {clickSchedule.start_time} - {clickSchedule.end_time}\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <TableWrapper isCart={true}>\r\n        <TableHeader\r\n          classes={classes}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onRequestSort={handleRequestSort}\r\n          headerData={HeadCells.EmployeeScheduleHeadCells}\r\n          isCart={true}\r\n        />\r\n        <TableBody>\r\n          {schedules?.map((row, index) => {\r\n            return (\r\n              <EmployeeTableRow\r\n                row={row}\r\n                handleCheckSchedule={handleCheckSchedule}\r\n                // handleDeleteItemCart={handleDeleteItemCart}\r\n                // handleChangeItemPrice={handleChangeItemPrice}\r\n                // handleChangeItemQuantity={handleChangeItemQuantity}\r\n              />\r\n            );\r\n          })}\r\n        </TableBody>\r\n      </TableWrapper>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            handleSubmit(\r\n              schedules.map((s) => ({\r\n                schedule_id: s.schedule_id,\r\n                status: s.status,\r\n              }))\r\n            );\r\n          }}\r\n        >\r\n          Lưu thay đổi\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\nconst EmployeeTableRow = ({ row, handleCheckSchedule }) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  return (\r\n    <TableRow>\r\n      <TableCell align=\"left\">{row.schedule_id}</TableCell>\r\n      <TableCell align=\"left\" style={{ minWidth: 200 }}>\r\n        <ListItem\r\n          style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n        >\r\n          <Avatar\r\n            alt=\"Remy Sharp\"\r\n            src={row.employee_img_url}\r\n            style={{ marginRight: 15 }}\r\n            className={classes.ava}\r\n          />\r\n          <Typography className={classes.fontName}>\r\n            {row.employee_name}\r\n          </Typography>\r\n        </ListItem>\r\n      </TableCell>\r\n\r\n      <TableCell align=\"left\">{row.employee_phone}</TableCell>\r\n      <TableCell align=\"center\">\r\n        <Checkbox\r\n          checked={row.status}\r\n          inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n          onChange={() => handleCheckSchedule(row.schedule_id)}\r\n        />\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\nexport default ScheduleDetail;\r\n","import React, { useDebugValue } from \"react\";\r\nimport { useStyles } from \"./style\";\r\nimport { useState } from \"react\";\r\nimport {\r\n  useTheme,\r\n  makeStyles,\r\n  createStyles,\r\n  withStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n  Typography,\r\n  Divider,\r\n  Badge,\r\n  Dialog,\r\n  IconButton,\r\n  FormControlLabel,\r\n  Grid,\r\n  Switch,\r\n  Popover,\r\n  Paper,\r\n  Box,\r\n  TextField,\r\n  Avatar,\r\n  ButtonBase,\r\n  InputAdornment,\r\n  ButtonGroup,\r\n  Button,\r\n  Tooltip,\r\n  TableContainer,\r\n} from \"@material-ui/core\";\r\nimport AvatarGroup from \"@material-ui/lab/AvatarGroup\";\r\nimport EmployeeItemAva from \"./EmployeeItem/EmployeeItemAva\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport \"date-fns\";\r\n\r\nimport { formatDate, getMonday, calNextDay } from \"./dateUtil\";\r\nimport ScheduleHead from \"./ScheduleHead/ScheduleHead\";\r\nimport ScheduleToolBar from \"./ScheduleToolBar/ScheduleToolBar\";\r\nimport { HeadWeek, ShiftWeekBox } from \"./ScheduleView/WeekView/WeekView\";\r\nimport { HeadDay, ShiftDayBox } from \"./ScheduleView/DayView/DayView\";\r\nimport { HeadMonth, ShiftMonthBox } from \"./ScheduleView/MonthView/MonthView\";\r\nimport scheduleApi from \"../../../api/scheduleApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport AddShiftPopup from \"./AddShiftPopup/AddShiftPopup\";\r\nimport AddSchedulePopup from \"./AddSchedulePopup/AddSchedulePopup\";\r\nimport ScheduleDetail from \"./ScheduleDetail/ScheduleDetail\";\r\nimport { statusAction } from \"../../../store/slice/statusSlice\";\r\nconst Schedule = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [addShiftOpen, setAddShiftOpen] = React.useState(false);\r\n  const [addScheduleOpen, setAddScheduleOpen] = React.useState(false);\r\n  const [reload, setReload] = React.useState(false);\r\n\r\n  // A. LOAD DATA from api\r\n  // shiftInfo,schedule,...\r\n  // load here ...........\r\n  const [shiftInfo, setShiftInfo] = React.useState([]);\r\n  // B. Xu ly sate\r\n  //// 1. Tool bar\r\n  // 1.1 choose branch\r\n\r\n  // 1.2. Search employee\r\n\r\n  //// 2. Schedule bar\r\n  // 2.1 chosse date\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [selectedDate, setSelectedDate] = React.useState(new Date());\r\n\r\n  const handleDateChange = (dayStr) => {\r\n    setSelectedDate(dayStr);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  // 2.2 choose mode day-week-month\r\n  const [selectedBtn, setSelectedBtn] = React.useState(1);\r\n\r\n  // api to get schedule\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  React.useEffect(() => {\r\n    let selected_date = moment\r\n      .unix(selectedDate.getTime() / 1000)\r\n      .format(\"YYYY-MM-DD\", { trim: false });\r\n    let mode = \"\";\r\n    switch (selectedBtn) {\r\n      case 0:\r\n        mode = \"day\";\r\n        break;\r\n      case 1:\r\n        mode = \"week\";\r\n        break;\r\n      case 2:\r\n        mode = \"month\";\r\n        break;\r\n    }\r\n\r\n    const fetchSchedule = async () => {\r\n      try {\r\n        const response = await scheduleApi.getSchedule(\r\n          store_uuid,\r\n          branch_uuid,\r\n          selected_date,\r\n          mode\r\n        );\r\n        setShiftInfo(response.data);\r\n        console.log(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    fetchSchedule();\r\n  }, [selectedBtn, selectedDate, branch_uuid, reload]);\r\n\r\n  const handleModeBtn = (mode) => {\r\n    setSelectedBtn(mode);\r\n\r\n    // re-load data\r\n    // cai nay để tạm thôi\r\n    // if (mode === 0){\r\n    //     setShiftInfo(shiftInfoWeek) //Day\r\n    // }else if (mode === 1){\r\n    //     setShiftInfo(shiftInfoWeek) //Week\r\n    // }else{\r\n    //     setShiftInfo(shiftInfoMonth) //Week\r\n    // }\r\n  };\r\n\r\n  // 2.3 onClickSchedule (shift- day)\r\n  const [clickSchedule, setClickSchedule] = React.useState({});\r\n  //popUpDetail\r\n  const [open, setOpen] = React.useState(false);\r\n  const handlePopUp = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  ////\r\n  //mode\r\n  const [mode, setMode] = React.useState(true);\r\n  const handleChangeMode = (event) => {\r\n    setMode(event.target.checked);\r\n  };\r\n  const [modeMonth, setModeMonth] = React.useState(true);\r\n  const handleChangeModeMonth = (event) => {\r\n    setModeMonth(event.target.checked);\r\n  };\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmitSchedule = async (schedules) => {\r\n    try {\r\n      const response = await scheduleApi.checkAttendance(\r\n        store_uuid,\r\n        branch_uuid,\r\n        schedules\r\n      );\r\n\r\n      dispatch(statusAction.successfulStatus(\"Chấm công thành công\"));\r\n      setReload(!reload);\r\n      setOpen(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n      dispatch(statusAction.failedStatus(\"Chấm công thất bại\"));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      {/* 1. search + choose branch */}\r\n      <ScheduleHead />\r\n\r\n      {addShiftOpen && (\r\n        <AddShiftPopup\r\n          addShiftOpen={addShiftOpen}\r\n          handleClose={() => setAddShiftOpen(false)}\r\n          reload={() => setReload(!reload)}\r\n        />\r\n      )}\r\n      {addScheduleOpen && (\r\n        <AddSchedulePopup\r\n          addScheduleOpen={addScheduleOpen}\r\n          handleClose={() => setAddScheduleOpen(false)}\r\n          reload={() => setReload(!reload)}\r\n        />\r\n      )}\r\n\r\n      <Divider className={classes.divider} />\r\n\r\n      {/* 2. choose mode + choose date + add schedule */}\r\n      <ScheduleToolBar\r\n        openAddSchedule={() => setAddScheduleOpen(true)}\r\n        selectedBtn={selectedBtn}\r\n        handleModeBtn={handleModeBtn}\r\n        setSelectedBtn={setSelectedBtn}\r\n        selectedDate={selectedDate}\r\n        handleDateChange={handleDateChange}\r\n        anchorEl={anchorEl}\r\n        setAnchorEl={setAnchorEl}\r\n      />\r\n      {(() => {\r\n        switch (selectedBtn) {\r\n          case 0:\r\n            return (\r\n              <>\r\n                <HeadDay\r\n                  selectedDate={selectedDate}\r\n                  openAddShift={() => setAddShiftOpen(true)}\r\n                />\r\n                {shiftInfo.map((shift) => {\r\n                  return (\r\n                    // !!!! shift with schedultList have only Select Date\r\n                    <ShiftDayBox\r\n                      selectedDate={selectedDate}\r\n                      shift={shift}\r\n                      handlePopUp={handlePopUp}\r\n                      setClickSchedule={setClickSchedule}\r\n                      mode={mode}\r\n                    />\r\n                  );\r\n                })}\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch checked={mode} onChange={handleChangeMode} />\r\n                  }\r\n                  className={classes.mode}\r\n                />\r\n              </>\r\n            );\r\n          case 1: //WEEK VIEW\r\n            return (\r\n              <>\r\n                <TableContainer>\r\n                  <HeadWeek\r\n                    selectedDate={selectedDate}\r\n                    openAddShift={() => setAddShiftOpen(true)}\r\n                  />\r\n                  {shiftInfo.map((shift) => {\r\n                    return (\r\n                      <ShiftWeekBox\r\n                        selectedDate={selectedDate}\r\n                        shift={shift}\r\n                        handlePopUp={handlePopUp}\r\n                        setClickSchedule={setClickSchedule}\r\n                        mode={mode}\r\n                      />\r\n                    );\r\n                  })}\r\n                </TableContainer>\r\n\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch checked={mode} onChange={handleChangeMode} />\r\n                  }\r\n                  className={classes.mode}\r\n                />\r\n              </>\r\n            );\r\n          case 2:\r\n            return (\r\n              <>\r\n                <TableContainer>\r\n                  <HeadMonth\r\n                    selectedDate={selectedDate}\r\n                    openAddShift={() => setAddShiftOpen(true)}\r\n                  />\r\n                  {shiftInfo.map((shift) => {\r\n                    return (\r\n                      <ShiftMonthBox\r\n                        selectedDate={selectedDate}\r\n                        shift={shift}\r\n                        modeMonth={modeMonth}\r\n                      />\r\n                    );\r\n                  })}\r\n                </TableContainer>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch\r\n                      checked={modeMonth}\r\n                      onChange={handleChangeModeMonth}\r\n                    />\r\n                  }\r\n                  className={classes.mode}\r\n                />\r\n              </>\r\n            );\r\n        }\r\n      })()}\r\n\r\n      <ScheduleDetail\r\n        open={open}\r\n        handlePopUp={handlePopUp}\r\n        clickSchedule={clickSchedule}\r\n        handleSubmit={handleSubmitSchedule}\r\n      />\r\n      {/* Con pop up check attendance cho employee cu the */}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Schedule;\r\n\r\nconst shiftInfoWeek = [\r\n  {\r\n    id: 1,\r\n    name: \"Ca sáng\",\r\n    fromTime: \"07:00\",\r\n    toTime: \"12:00\",\r\n    scheduleList: [\r\n      // Moi employee chỉ 1 hàng trong 1 ngày -> cái này copy paste nên còn sai\r\n      // them employeeInfo(employeeId , employeeRole, employyePhone,...),cheduleID,...\r\n      { employeeId: 1, name: \"Gia Le\", date: \"29/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"29/11/2021\", status: -1 },\r\n      {\r\n        employeeId: 3,\r\n        name: \"Mai Truong Khang\",\r\n        date: \"29/11/2021\",\r\n        status: 0,\r\n      },\r\n      {\r\n        employeeId: 4,\r\n        name: \"Mai Huynh Tuan Kiet\",\r\n        date: \"29/11/2021\",\r\n        status: 1,\r\n      },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"29/11/2021\", status: 1 },\r\n      { employeeId: 6, name: \"Quoc Hai\", date: \"29/11/2021\", status: 0 },\r\n      { employeeId: 6, name: \"Gia Le\", date: \"29/11/2021\", status: -1 },\r\n      { employeeId: 6, name: \"Minh Tri\", date: \"29/11/2021\", status: 0 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: -1 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"01/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"01/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"01/12/2021\", status: 0 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 1 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: 1 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/12/2021\", status: -1 },\r\n\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"05/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"05/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"05/12/2021\", status: -1 },\r\n    ],\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Ca chiều\",\r\n    fromTime: \"12:00\",\r\n    toTime: \"16:00\",\r\n    scheduleList: [\r\n      { employeeId: 1, name: \"Gia Le\", date: \"29/11/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"29/11/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"29/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"29/11/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"29/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"29/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"29/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"29/11/2021\", status: 0 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"30/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: -1 },\r\n      {\r\n        employeeId: 1,\r\n        employeeId: 1,\r\n        name: \"Gia Le\",\r\n        date: \"30/11/2021\",\r\n        status: -1,\r\n      },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: -1 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"01/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"01/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"01/12/2021\", status: 0 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"02/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/12/2021\", status: 1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/12/2021\", status: 0 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: 1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/12/2021\", status: 1 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/12/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"04/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/12/2021\", status: -1 },\r\n\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"05/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"05/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"05/12/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"05/12/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"05/12/2021\", status: -1 },\r\n    ],\r\n  },\r\n];\r\n\r\nconst shiftInfoMonth = [\r\n  {\r\n    id: 1,\r\n    name: \"Ca sáng\",\r\n    fromTime: \"07:00\",\r\n    toTime: \"12:00\",\r\n    scheduleList: [\r\n      // Moi employee chỉ 1 hàng trong 1 ngày -> cái này copy paste nên còn sai\r\n      // them employeeInfo(employeeId , employeeRole, employyePhone,...),cheduleID,...\r\n      { employeeId: 1, name: \"Gia Le\", date: \"29/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"29/11/2021\", status: -1 },\r\n      {\r\n        employeeId: 3,\r\n        name: \"Mai Truong Khang\",\r\n        date: \"29/11/2021\",\r\n        status: 0,\r\n      },\r\n      {\r\n        employeeId: 4,\r\n        name: \"Mai Huynh Tuan Kiet\",\r\n        date: \"29/11/2021\",\r\n        status: 1,\r\n      },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"29/11/2021\", status: 1 },\r\n\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"01/11/2021\", status: -1 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/11/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"01/11/2021\", status: 0 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"02/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"02/11/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/11/2021\", status: 0 },\r\n      {\r\n        employeeId: 4,\r\n        name: \"Mai Huynh Tuan Kiet\",\r\n        date: \"02/11/2021\",\r\n        status: 1,\r\n      },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"03/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"03/11/2021\", status: -1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"03/11/2021\", status: -1 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"04/11/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"04/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"04/11/2021\", status: 0 },\r\n\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"05/11/2021\", status: 0 },\r\n      { employeeId: 1, name: \"Gia Le\", date: \"05/11/2021\", status: -1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"05/11/2021\", status: -1 },\r\n\r\n      { employeeId: 1, name: \"Gia Le\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 5, name: \"Minh Tri\", date: \"30/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"30/11/2021\", status: 0 },\r\n    ],\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Ca chiều\",\r\n    fromTime: \"12:00\",\r\n    toTime: \"16:00\",\r\n    scheduleList: [\r\n      { employeeId: 1, name: \"Gia Le\", date: \"01/11/2021\", status: 1 },\r\n      { employeeId: 2, name: \"Quoc Hai\", date: \"02/11/2021\", status: -1 },\r\n    ],\r\n  },\r\n];\r\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport Employee from './Employee/Employee';\r\nimport Schedule from './Schedule/Schedule'\r\n\r\nimport React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst HRView = (props) => {\r\n  const { path } = useRouteMatch();\r\n  const permissions = useSelector((state) => state.info.user.permissions);\r\n  return (\r\n      <Switch>\r\n        <Route exact path={path} >\r\n          <Redirect to={permissions?.find((p) => p.name === \"employee\") ? `${path}/employee` : \"/home\"}/>\r\n        </Route>\r\n        <Route exact path={`${path}/employee`} component={Employee} />\r\n        <Route path={`${path}/schedule`} component={Schedule} />\r\n      </Switch>\r\n\r\n  );\r\n};\r\n\r\nexport default HRView;\r\n","import * as React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Card from \"@mui/material/Card\";\r\nimport CardActions from \"@mui/material/CardActions\";\r\nimport CardContent from \"@mui/material/CardContent\";\r\nimport Button from \"@mui/material/Button\";\r\nimport storeApi from \"../../../api/storeApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { format, toDate,parseISO } from 'date-fns'\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nimport Timeline from '@material-ui/lab/Timeline';\r\nimport TimelineItem from '@material-ui/lab/TimelineItem';\r\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator';\r\nimport TimelineConnector from '@material-ui/lab/TimelineConnector';\r\nimport TimelineContent from '@material-ui/lab/TimelineContent';\r\nimport TimelineDot from '@material-ui/lab/TimelineDot';\r\nimport TimelineOppositeContent from '@material-ui/lab/TimelineOppositeContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {ListItem,Paper} from '@material-ui/core';\r\nimport { makeStyles ,useTheme} from '@material-ui/core/styles';\r\n\r\nimport {VNDFormat} from \"../../../components/TextField/NumberFormatCustom\"\r\nimport { Grid } from \"@mui/material\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    padding: '6px 16px',\r\n  },\r\n  secondaryTail: {\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n}));\r\n\r\nconst returnTextAction = (type) =>{\r\n  switch(type){\r\n    case \"order\":\r\n      return <Typography style={{color:\"#8bc34a\", fontWeight:600}}>Bán hàng </Typography>  \r\n    case \"purchase_order\":\r\n        return<Typography style={{color:\"#2196f3\", fontWeight:600}}>Nhập hàng</Typography>\r\n    case \"refund\":\r\n        return<Typography style={{color:\"#f44336\", fontWeight:600}}>Trả hàng</Typography>\r\n    case \"purchase_return\":\r\n        return<Typography style={{color:\"#ff9800\", fontWeight:600}}>Trả hàng nhập</Typography>\r\n    default:\r\n      return\r\n  }\r\n  <Typography> Thanh toán hoá đơn</Typography>\r\n}\r\n// const returnColor = (type) =>{\r\n//   switch(type){\r\n//     case \"order\": return \"#8bc34a\"\r\n//     case \"purchase_order\": return \"#2196f3\"\r\n//     case \"refund\": return \"#f44336\"\r\n//     case \"purchase_return\": return \"#ff9800\"\r\n//     default: return\r\n//   }\r\n// }\r\n\r\n\r\nexport default function HistoryCard({data}) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n  \r\n  return (\r\n    // <Card sx={{ minWidth: 275, marginBottom: 5, borderRadius: 5 }}>\r\n    //   <CardContent>\r\n    //     <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\r\n    //       {\"Tài liệu: \" + data?.code}\r\n    //     </Typography>\r\n    //     <Typography component=\"div\">\r\n    //       {\"Đối tác: \" + data?.partner_name}\r\n    //     </Typography>\r\n    //     <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\r\n    //       {(data?.user_type === \"owner\" ? \"Chủ cửa hàng - \" : \"Nhân viên - \") +\r\n    //         data?.user_name}\r\n    //     </Typography>\r\n    //     <Typography variant=\"body2\">\r\n    //       {\"Tổng giá trị: \" + data?.total_amount}\r\n    //     </Typography>\r\n    //   </CardContent>\r\n    //   <CardActions>\r\n    //     <Button size=\"small\">{\"Thời gian: \" + data?.created_at}</Button>\r\n    //     <Button size=\"small\">{\"Địa điểm: \" + data?.branch_name}</Button>\r\n    //   </CardActions>\r\n    // </Card>\r\n    <TimelineItem style={{marginLeft:xsScreen ? -30:0}} >\r\n          <TimelineOppositeContent style={{ flex: 0.1 }} >\r\n              <Typography variant=\"body2\" color=\"textSecondary\">{format(parseISO(data?.created_at), 'hh:mm a')}</Typography>  \r\n          </TimelineOppositeContent>\r\n\r\n          <TimelineSeparator>\r\n            <TimelineDot variant=\"outlined\" color=\"primary\"  />\r\n            <TimelineConnector />\r\n          </TimelineSeparator>\r\n\r\n          <TimelineContent>\r\n\r\n            <Paper elevation={3} className={classes.paper}>\r\n                <Typography style={{color:\"grey\", fontSize:12}} >\r\n                  {data?.branch_name}\r\n                </Typography>\r\n                <Typography style={{fontWeight:600, fontSize:13}} >\r\n                  {data?.user_name}\r\n                </Typography>\r\n                <Grid container direction=\"row\"alignItems=\"center\" > \r\n                    <Grid item > {returnTextAction(data?.type)}</Grid>\r\n                    <Grid item style={{marginLeft:3,  }}>  đơn</Grid>\r\n                    <Grid item style={{marginLeft:3, marginRight:3,fontWeight:600,}}> {data?.code} </Grid>\r\n                    <Grid item> với giá trị </Grid>\r\n                    <Grid item> <Typography style={{marginLeft:3, fontWeight:600,color:theme.customization.secondaryColor[500] }}> <VNDFormat value={data?.total_amount}/> </Typography></Grid>\r\n\r\n                </Grid>\r\n                \r\n                {/* <ListItem style={{marginTop:-5, marginLeft:-16}}>\r\n                {returnTextAction(data?.type)}\r\n                <Typography style={{marginLeft:3,  }}>đơn </Typography>\r\n                <Typography style={{marginLeft:3, marginRight:3,fontWeight:600,}}>  {data?.code}  </Typography>\r\n                <Typography>với giá trị </Typography>\r\n                <Typography style={{marginLeft:3, fontWeight:600,color:theme.customization.secondaryColor[500] }}> <VNDFormat value={data?.total_amount}/> </Typography>\r\n                </ListItem> */}\r\n            </Paper>\r\n\r\n          </TimelineContent>\r\n        \r\n      </TimelineItem>\r\n\r\n  );\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport storeApi from \"../../../api/storeApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport HistoryCard from \"./HistoryCard\";\r\nimport { format, toDate,parseISO } from 'date-fns'\r\n\r\nimport Timeline from '@material-ui/lab/Timeline';\r\nimport { Typography } from '@mui/material';\r\n\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nconst HistoryTable = () => {\r\n  const theme = useTheme();\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  const [activities, setActivities] = useState([]);\r\n\r\n  const fetchActivities = async (period) => {\r\n    try {\r\n      const res = await storeApi.getActivities(store_uuid, period);\r\n      setActivities(res.data);\r\n      console.log(res.data)\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchActivities(30);\r\n  }, []);\r\n\r\n  let date = \"\";\r\n  return (\r\n    <>\r\n      <Timeline>\r\n      {activities.map(activity => {\r\n        \r\n        if(date !== format(parseISO(activity?.created_at), 'dd/MM/yyyy')){\r\n          date = format(parseISO(activity?.created_at), 'dd/MM/yyyy')\r\n          return ( \r\n            <>\r\n              <Typography style={{marginBottom:20, marginTop:20,marginLeft:10, fontWeight:500, color:theme.customization.primaryColor[500]}}>{date}</Typography>\r\n              <HistoryCard data={activity} />\r\n          </>\r\n          )\r\n        }else{\r\n          return <HistoryCard data={activity}/>\r\n        }\r\n      }\r\n          \r\n            \r\n       )} \r\n    \r\n    </Timeline>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HistoryTable;","import React from 'react'\r\nimport {\r\n  Drawer,TextField,InputAdornment,Box,Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport {ThousandSeperatedInput} from '../../../components/TextField/NumberFormatCustom'\r\nimport VNDInput from '../../../components/TextField/NumberFormatCustom'\r\nimport barcodeIcon from \"../../../assets/img/icon/barcode_grey.png\";\r\nimport SearchTwoToneIcon from \"@material-ui/icons/SearchTwoTone\";\r\n\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst HistoryFilter = (props) => {\r\n    const {handleToggleFilter,openFilter} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n\r\n\r\n     \r\n      {/* 1. Ngày tao ? */}\r\n      <Typography variant=\"h5\"className={classes.text} >Ngày thực hiện:</Typography>\r\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n      />\r\n       {/* 2.  */} \r\n       <Typography variant=\"h5\"className={classes.text} >Hành động:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n       \r\n      >\r\n        <MenuItem value=\"trungtam\">Bán hàng</MenuItem>\r\n        <MenuItem value=\"q1\">Nhập hàng</MenuItem>\r\n        <MenuItem value=\"q1\">Trả hàng</MenuItem>\r\n        <MenuItem value=\"q1\">Trả hàng nhập</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n      {/* 3. Giá trị from-to */}\r\n      <Typography variant=\"h5\"className={classes.text} >Giá trị:</Typography>\r\n      <VNDInput  label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        \r\n      />\r\n      <VNDInput  label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n   \r\n      />\r\n      {/* 4. Nhân viên */}\r\n      <Typography variant=\"h5\"className={classes.text} >Nhân viên:</Typography>\r\n      <TextField\r\n          variant=\"outlined\"\r\n          placeholder={\"Tên, Sđt nhân viên\"} /*placeholder='Tìm kiếm ...'*/\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <SearchTwoToneIcon className={classes.icon} />\r\n              </InputAdornment>\r\n            ),\r\n            // endAdornment: (\r\n            //   <InputAdornment position=\"end\">\r\n            //     <Box\r\n            //       component=\"img\"\r\n            //       sx={{ height: 23, width: 23 }}\r\n            //       src={barcodeIcon}\r\n            //     />\r\n            //   </InputAdornment>\r\n            // ),\r\n            className: classes.search,\r\n          }}\r\n        />\r\n\r\n      \r\n\r\n       {/* BUTTON */}\r\n       <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n           Lọc\r\n      </Button>\r\n          \r\n\r\n\r\n          \r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default HistoryFilter\r\n\r\n","import React, { useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { Typography,Box, Card, Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport HistoryTable  from './HistoryTable.js'\r\nimport { useSelector } from \"react-redux\";\r\nimport HistoryFilter from \"./HistoryFilter.js\"\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      padding: 18,\r\n    },\r\n    headerTitle: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n      marginTop: 10,\r\n      marginLeft: 40,\r\n    },\r\n    addIcon: {\r\n      background: theme.customization.secondaryColor[500],\r\n      borderRadius: 20,\r\n      color: \"#fff\",\r\n    },\r\n    addBtn: {\r\n      marginRight: 10,\r\n      marginTop: 5,\r\n    },\r\n    textTitle: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n      marginTop: 5,\r\n      \r\n    },\r\n  })\r\n);\r\n\r\nconst History = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n   //3.2. filter\r\n   const [openFilter, setOpenFilter] = React.useState(false);\r\n   const handleToggleFilter = () => {\r\n     setOpenFilter(!openFilter);\r\n   };\r\n\r\n  const str = \"2020-06-11\";\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n \r\n  return (\r\n    <Card className={classes.root}>\r\n\r\n      <Grid container direction=\"row\" alignItems=\"center\">\r\n        <Typography className={classes.headerTitle} variant=\"h2\">\r\n          Lịch sử hoạt động\r\n        </Typography>\r\n        <ButtonBase className={classes.addBtn} onClick={handleToggleFilter} >\r\n          <Tooltip title=\"Lọc\">\r\n            <FilterListIcon size=\"small\" />\r\n          </Tooltip>\r\n        </ButtonBase>\r\n      </Grid>\r\n      <Typography className={classes.textTitle} variant=\"body2\">\r\n        ( Chi nhánh {info.branch.name})\r\n      </Typography>\r\n     \r\n      <Box style={{marginTop:15}}>\r\n        <HistoryTable/>\r\n      </Box>\r\n\r\n      <HistoryFilter\r\n        openFilter={openFilter}\r\n        handleToggleFilter={handleToggleFilter}\r\n      />\r\n      \r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","export default __webpack_public_path__ + \"static/media/location.436ff38c.png\";","import React from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport icon from \"../../../assets/img/icon/location.png\";\r\nimport {\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport icon1 from \"../../../assets/img/product/lyimg.jpeg\";\r\nimport clsx from \"clsx\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      borderRadius: 8,\r\n      color: \"#000000\",\r\n      boxShadow: \"none\",\r\n      width: 220,\r\n      height: 135,\r\n      display: \"block\",\r\n      marginTop: -160,\r\n      zIndex: 90,\r\n      position: \"relative\",\r\n    },\r\n    hidden: {\r\n      display: \"none\",\r\n    },\r\n  })\r\n);\r\n\r\nexport default function Map(props) {\r\n  const { branchList, chosenBranch, getLocation } = props;\r\n  return (\r\n    <div style={{ height: \"45vh\", width: \"100%\", marginBottom: 30 }}>\r\n      <GoogleMapReact\r\n        bootstrapURLKeys={{ key: \"AIzaSyCYH6UyW3H3gskCw2JQjkmTnaeSZbw-h4E\" }}\r\n        // defaultCenter={{lat:branchList[0].lat,lng: branchList[0].lng}}\r\n        center={chosenBranch}\r\n        defaultZoom={11}\r\n      >\r\n        {branchList.map((branch) => {\r\n          return (\r\n            <Marker\r\n              lat={branch.lat}\r\n              lng={branch.lng}\r\n              id={branch.id}\r\n              branch={branch}\r\n              getLocation={getLocation}\r\n            />\r\n          );\r\n        })}\r\n      </GoogleMapReact>\r\n    </div>\r\n  );\r\n}\r\nconst Marker = (props) => {\r\n  const { id, handleClickOpen, branch, getLocation } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [open, setOpen] = React.useState();\r\n\r\n  const handleMouseOver = (e) => {\r\n    setOpen(true);\r\n  };\r\n  const handleMouseExit = (e) => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        component=\"img\"\r\n        sx={{\r\n          marginLeft: -7,\r\n          marginTop: -50,\r\n          height: 33,\r\n          width: 33,\r\n          zIndex: -1,\r\n        }}\r\n        src={icon}\r\n        onClick={() => {\r\n          console.log(\"Click\");\r\n        }}\r\n        style={{ cursor: \"pointer\" }}\r\n        // onClick={()=>handleClickOpen(id)}\r\n        onMouseOver={handleMouseOver}\r\n        onMouseOut={handleMouseExit}\r\n      />\r\n      <Card\r\n        className={clsx(open && classes.root, !open && classes.hidden)}\r\n        onMouseOver={handleMouseOver}\r\n        onMouseOut={handleMouseExit}\r\n      >\r\n        <CardMedia component=\"img\" height=\"60\" image={icon1} />\r\n        <CardContent\r\n          style={{ marginLeft: -5, marginTop: -9, paddingBottom: -10 }}\r\n        >\r\n          <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n            {branch.name}\r\n          </Typography>\r\n          <p\r\n            style={{\r\n              fontSize: 12,\r\n              marginTop: -3,\r\n              color: grey[700],\r\n              maxHeight: 13,\r\n            }}\r\n          >\r\n            {\" \"}\r\n            {branch.address}{\" \"}\r\n          </p>\r\n          <Typography\r\n            onClick={() => {\r\n              getLocation(branch.lat, branch.lng);\r\n            }}\r\n            variant=\"h6\"\r\n            style={{\r\n              cursor: \"pointer\",\r\n              flexGrow: 1,\r\n              textAlign: \"right\",\r\n              color: \"#1b74e4\",\r\n              fontSize: 12,\r\n            }}\r\n          >\r\n            Chỉ đường\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/store.f48edcd0.JPG\";","import Geocode from \"react-geocode\";\r\n\r\nconst getGeoCode = async (location) => {\r\n  Geocode.setApiKey(\"AIzaSyB2Dc7Bv_fEotXw4AiVY5TS7PODoV6IraA\");\r\n  Geocode.setRegion(\"vn\");\r\n  try {\r\n    const response = await Geocode.fromAddress(location);\r\n    const { lat, lng } = response.results[0].geometry.location;\r\n    return { lat, lng };\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport default getGeoCode;\r\n","import {\r\n  Box,\r\n  Button,\r\n  createStyles,\r\n  FormControl,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  makeStyles,\r\n  Select,\r\n  TextField,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport branchApi from \"../../../api/branchApi\";\r\nimport userApi from \"../../../api/userApi\";\r\nimport { statusAction } from \"../../../store/slice/statusSlice\";\r\nimport SimpleModal from \"../../Modal/ModalWrapper\";\r\nimport getGeoCode from \"../Geocode\";\r\nimport ConfirmPopUp from \"../../ConfirmPopUp/ConfirmPopUp\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport avaUpload from \"../../../assets/img/product/default-product.png\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n  })\r\n);\r\nconst UploadImages = (img) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 70,\r\n        width: 70,\r\n        marginLeft: 7,\r\n        marginRight: 7,\r\n        borderRadius: 2,\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n  );\r\n};\r\nconst EditBranch = (props) => {\r\n  const { handleClose, open, branch } = props;\r\n  const classes = useStyles();\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const [cityList, setCityList] = useState([]);\r\n  const [districtList, setDistrictList] = useState([]);\r\n  const [wardList, setWardList] = useState([]);\r\n  const [isDelete, setIsDelete] = useState(false);\r\n  const [image, setImage] = useState([]);\r\n  const [display, setDisplay] = useState([]);\r\n  const clearImage = () => {\r\n    setDisplay([]);\r\n    setImage([]);\r\n  };\r\n  const addImageHandler = (e) => {\r\n    setImage(e.target.files[0]);\r\n    setDisplay(URL.createObjectURL(e.target.files[0]));\r\n  };\r\n  useEffect(() => {\r\n    if(branch.img_url){\r\n      setDisplay(branch.img_url);\r\n      setImage(branch.img_url);\r\n    }\r\n  }, [branch])\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      name: branch.name,\r\n      address: branch.address,\r\n      ward: branch.ward,\r\n      district: branch.district,\r\n      city: branch.province,\r\n      phone: branch.phone,\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên chi nhánh\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\r\n      address: Yup.string().required(\"Nhập địa chỉ\"),\r\n      city: Yup.string().required(\"Chọn tỉnh/ thành phố\"),\r\n      ward: Yup.string().required(\"Chọn phường/ xã\"),\r\n      district: Yup.string().required(\"Chọn quận/ huyện\"),\r\n    }),\r\n  });\r\n  useEffect(() => {\r\n    const loadCity = async () => {\r\n      try {\r\n        const res = await userApi.getCity();\r\n        setCityList(res.provinces);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    loadCity();\r\n  }, []);\r\n  useEffect(() => {\r\n    const loadDistrict = async (city_id) => {\r\n      if (city_id) {\r\n        try {\r\n          const res = await userApi.getDistrict(city_id);\r\n          setDistrictList(res.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    };\r\n    loadDistrict(formik.values.city);\r\n  }, [formik.values.city]);\r\n  useEffect(() => {\r\n    const loadWard = async (city_id, district_id) => {\r\n      if (city_id && district_id) {\r\n        try {\r\n          const res = await userApi.getWard(city_id, district_id);\r\n          setWardList(res.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    };\r\n    loadWard(formik.values.city, formik.values.district);\r\n  }, [formik.values.city, formik.values.district]);\r\n\r\n  const dispatch = useDispatch();\r\n  const handleEditBranch = async () => {\r\n    closeModalAndResetData();\r\n    const ward = wardList.find((ward) => ward.id === formik.values.ward) ? wardList.find((ward) => ward.id === formik.values.ward).name : \"\";\r\n    const province = cityList.find(\r\n      (city) => city.id === formik.values.city\r\n    ) ?  cityList.find(\r\n      (city) => city.id === formik.values.city\r\n    ).name : \"\";\r\n    const district = districtList.find(\r\n      (district) => district.id === formik.values.district\r\n    ) ?  districtList.find(\r\n      (district) => district.id === formik.values.district\r\n    ).name : \"\";\r\n    let lat, lng;\r\n    try {\r\n      ({lat, lng}  = await getGeoCode(\r\n        formik.values.address + \" \" + ward + \" \" + district + \" \" + province\r\n      ));\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"name\", formik.values.name.toString());\r\n      bodyFormData.append(\"address\", formik.values.address.toString());\r\n      bodyFormData.append(\"ward\", ward);\r\n      bodyFormData.append(\"province\", province);\r\n      bodyFormData.append(\"district\", district);\r\n      bodyFormData.append(\"phone\", formik.values.phone.toString());\r\n      bodyFormData.append(\"status\", \"active\");\r\n      bodyFormData.append(\"lng\", lng? lng.toString() : \"\");\r\n      bodyFormData.append(\"lat\", lat? lat.toString() : \"\");\r\n      if (image && typeof image !== \"string\") {\r\n        bodyFormData.append(\"image\", image);\r\n      }\r\n      const response = await branchApi.updateBranch(\r\n        store_uuid,\r\n        branch.uuid,\r\n        bodyFormData\r\n      );\r\n      dispatch(statusAction.successfulStatus(\"Chỉnh sửa chi nhánh thành công\"));\r\n      props.onReload();\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Chỉnh sửa chi nhánh thất bại\"));\r\n    }\r\n  };\r\n  const handleDeleteBranch = async () => {\r\n    setIsDelete(false);\r\n    handleClose();\r\n    try {\r\n      await branchApi.deleteBranch(store_uuid, branch.uuid);\r\n      props.onReload();\r\n      dispatch(statusAction.successfulStatus(\"Xóa chi nhánh thành công\"));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"xóa chi nhánh thất bại\"));\r\n    }\r\n  };\r\n  const closeModalAndResetData = () => {\r\n    handleClose();\r\n    formik.resetForm();\r\n    clearImage()\r\n  };\r\n  console.log(formik.errors)\r\n  return (\r\n    <SimpleModal open={open} handleClose={closeModalAndResetData}>\r\n      <ConfirmPopUp\r\n        open={isDelete}\r\n        handleConfirm={handleDeleteBranch}\r\n        handleClose={() => setIsDelete(false)}\r\n        message={\r\n          <Typography>\r\n            Xóa vĩnh viễn chi nhánh <b>{branch.name} ?</b>\r\n          </Typography>\r\n        }\r\n      />\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"row\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Chỉnh sửa chi nhánh mới\r\n        </Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          style={{ marginRight: 20 }}\r\n          color=\"secondary\"\r\n          onClick={() => setIsDelete(true)}\r\n        >\r\n          Xóa chi nhánh\r\n        </Button>\r\n      </Box>\r\n      <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n        {display.length ? (\r\n          <Tooltip title=\"Xóa hình ảnh\">\r\n            <Button size=\"small\" onClick={clearImage}>\r\n              <Box\r\n                component=\"img\"\r\n                sx={{\r\n                  height: 70,\r\n                  width: 70,\r\n                  marginLeft: 7,\r\n                  marginRight: 7,\r\n                  borderRadius: 2,\r\n                }}\r\n                src={display}\r\n              />\r\n            </Button>\r\n          </Tooltip>\r\n        ) : (\r\n          <UploadImages />\r\n        )}\r\n\r\n        <input\r\n          accept=\"image/*\"\r\n          style={{ display: \"none\" }}\r\n          id=\"icon-button-file\"\r\n          type=\"file\"\r\n          onChange={addImageHandler}\r\n        />\r\n        {display.length === 0 ? (\r\n          <label htmlFor=\"icon-button-file\">\r\n            <IconButton\r\n              color=\"primary\"\r\n              aria-label=\"upload picture\"\r\n              component=\"span\"\r\n            >\r\n              <PhotoCamera />\r\n            </IconButton>\r\n          </label>\r\n        ) : null}\r\n      </Box>\r\n      <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            name=\"name\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Tên chi nhánh\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.name}\r\n            error={formik.touched.name && formik.errors.name}\r\n            helperText={formik.touched.name ? formik.errors.name : null}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Số điện thoại\"\r\n            name=\"phone\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.phone}\r\n            error={formik.touched.phone && formik.errors.phone}\r\n            helperText={formik.touched.phone ? formik.errors.phone : null}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={7}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={formik.touched.city && formik.errors.city}\r\n            helperText={formik.touched.city ? formik.errors.city : null}\r\n          >\r\n            <InputLabel>Tỉnh</InputLabel>\r\n            <Select\r\n              native\r\n              name=\"city\"\r\n              label=\"Tỉnh\"\r\n              value={formik.values.city}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n            >\r\n              <option value=\"\" />\r\n              {cityList.map((city) => (\r\n                <option value={city.id}>{city.name}</option>\r\n              ))}\r\n            </Select>\r\n            {formik.touched.city ? (\r\n              <FormHelperText>{formik.errors.city}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={formik.touched.district && formik.errors.district}\r\n            onBlur={formik.handleBlur}\r\n          >\r\n            <InputLabel>Quận</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Quận\"\r\n              name=\"district\"\r\n              value={formik.values.district}\r\n              onChange={formik.handleChange}\r\n            >\r\n              <option value=\"\" />\r\n              {districtList.map((district) => (\r\n                <option value={district.id}>{district.name}</option>\r\n              ))}\r\n            </Select>\r\n            {formik.touched.district ? (\r\n              <FormHelperText>{formik.errors.district}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <FormControl required fullWidth variant=\"outlined\" \r\n            error={formik.touched.ward && formik.errors.ward}\r\n            onBlur={formik.handleBlur}\r\n            >\r\n            <InputLabel htmlFor=\"ward\">Phường</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Phường\"\r\n              name=\"ward\"\r\n              value={formik.values.ward}\r\n              onChange={formik.handleChange}\r\n              helperText={formik.touched.ward ? formik.errors.ward : null}\r\n            >\r\n              <option aria-label=\"None\" value=\"\" />\r\n              {wardList.map((ward) => (\r\n                <option value={ward.id}>{ward.name}</option>\r\n              ))}\r\n            </Select>\r\n            {formik.touched.ward ? (\r\n              <FormHelperText>{formik.errors.ward}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            name=\"address\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Địa chỉ\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.address}\r\n          />\r\n        </Grid>\r\n      </Grid>{\" \"}\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"flex-end\",\r\n          paddingTop: 20,\r\n        }}\r\n      >\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          style={{ marginRight: 20 }}\r\n          onClick={closeModalAndResetData}\r\n        >\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          onClick={handleEditBranch}\r\n          style={{ marginRight: 20 }}\r\n          disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\r\n        >\r\n          Sửa\r\n        </Button>\r\n      </Grid>\r\n    </SimpleModal>\r\n  );\r\n};\r\n\r\nexport default EditBranch;\r\n","import React, { useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { Typography, Box, Card, Grid } from \"@material-ui/core\";\r\nimport store from \"../../../assets/img/store.JPG\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport EditBranch from \"./EditBranch\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    card: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      padding: 10,\r\n      boxShadow: \"0px 10px 20px rgba(0,0,0,0.1)\",\r\n      \"&:hover\": {\r\n        boxShadow: \" 0px 10px 10px rgba(0,0,0,0.2)\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst BranchList = (props) => {\r\n  const { branchList, setChosenBranch, getLocation, onReload } = props;\r\n  const [isEditBranch, setIsEditBranch] = useState(false);\r\n  const [branchToEdit, setBranchToEdit] = useState({\r\n    name: \"\",\r\n    address: \"\",\r\n    ward: \"\",\r\n    district: \"\",\r\n    city: \"\",\r\n    phone: \"\",\r\n  });\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  return (\r\n    <Grid container spacing={2}>\r\n      {isEditBranch &&\r\n        <EditBranch\r\n          branch={branchToEdit}\r\n          onReload={onReload}\r\n          open={isEditBranch}\r\n          handleClose={() => setIsEditBranch(false)}\r\n        />\r\n      }\r\n      {branchList.map((branch) => {\r\n        return (\r\n          <Grid item xs={12} sm={6}>\r\n            <Card className={classes.card} style={{ minHeight: 140 }}>\r\n              {/* <CardContent style={{}}> */}\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={4}>\r\n                  <Box\r\n                    component=\"img\"\r\n                    sx={{ height: \"100%\", width: \"100%\", borderRadius: 10 }}\r\n                    src={branch.img_url ? branch.img_url : store}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={8} style={{ minHeight: 140 }}>\r\n                  <Typography\r\n                    gutterBottom\r\n                    variant=\"h5\"\r\n                    component=\"div\"\r\n                    style={{ color: grey[600], marginTop: 5 }}\r\n                  >\r\n                    {branch.name}\r\n                  </Typography>\r\n                  <Typography\r\n                    gutterBottom\r\n                    component=\"div\"\r\n                    style={{ fontSize: \"1rem\", fontWeight: 400, height: \"60%\" }}\r\n                  >\r\n                    {`${branch.address} ${branch.ward} ${branch.district} ${branch.province}`}\r\n                  </Typography>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                    <Typography\r\n                      onClick={() => {\r\n                        //                         setChosenBranch({ lat: branch.lat, lng: branch.lng });\r\n                        setChosenBranch({ lat: parseFloat(branch.lat), lng: parseFloat(branch.lng) });\r\n                        window.scrollTo(0, 0);\r\n                      }}\r\n                      variant=\"h5\"\r\n                      style={{ cursor: \"pointer\", color: \"#1b74e4\" }}\r\n                    >\r\n                      Xem bản đồ\r\n                    </Typography>\r\n                    <Typography\r\n                      onClick={() => {\r\n                        getLocation(branch.lat, branch.lng);\r\n                      }}\r\n                      variant=\"h5\"\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                        color: \"#1b74e4\",\r\n                        marginLeft: 10,\r\n                      }}\r\n                    >\r\n                      Chỉ đường\r\n                    </Typography>\r\n                    <Typography\r\n                      onClick={() => {\r\n                        setBranchToEdit(branch);\r\n                        setIsEditBranch(true);\r\n                      }}\r\n                      variant=\"h5\"\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                        color: \"#1b74e4\",\r\n                        marginLeft: 10,\r\n                      }}\r\n                    >\r\n                      Chỉnh sửa\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n              {/* </CardContent> */}\r\n            </Card>\r\n          </Grid>\r\n        );\r\n      })}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default BranchList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport Map from \"./Map/Map\";\r\nimport BranchList from \"./BranchList/BranchList\";\r\nimport { useSelector } from \"react-redux\";\r\nimport branchApi from \"../../api/branchApi\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    textTitle: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n      marginBottom: 20,\r\n    },\r\n  })\r\n);\r\n\r\nconst Branch = (props) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n\r\n  const [branchList, setBranchList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchBranchList = async () => {\r\n      try {\r\n        const response = await branchApi.getBranches(store_uuid);\r\n        setBranchList(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchBranchList();\r\n  }, [store_uuid, props.reload]);\r\n\r\n  //MAP\r\n  const [currentLocation, setCurrentLocation] = React.useState(null);\r\n  const handleSetLocation = (location) => {\r\n    setCurrentLocation(\r\n      `${location.coords.latitude},${location.coords.longitude}`\r\n    );\r\n  };\r\n  function getLocation(lat, lng) {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((location) => {\r\n        handleSetLocation(location);\r\n        window.open(\r\n          `https://www.google.com/maps/dir/${currentLocation}/${lat},${lng}`,\r\n          \"_blank\"\r\n        );\r\n      });\r\n    } else {\r\n    }\r\n  }\r\n\r\n  //map\r\n  const [chosenBranch, setChosenBranch] = React.useState({\r\n    lat: 10.772717,\r\n    lng: 106.62628,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Typography className={classes.textTitle} variant=\"body2\">\r\n        ( {branchList.length} chi nhánh )\r\n      </Typography>\r\n      <Map\r\n        branchList={branchList}\r\n        chosenBranch={chosenBranch}\r\n        getLocation={getLocation}\r\n      />\r\n      <BranchList\r\n        branchList={branchList}\r\n        setChosenBranch={setChosenBranch}\r\n        getLocation={getLocation}\r\n        onReload={props.onReload}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Branch;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Select,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  Box,\r\n  Tooltip,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport userApi from \"../../../../api/userApi\";\r\nimport getGeoCode from \"../../../../components/BranchMap/Geocode\";\r\n\r\n//import project\r\nimport customerApi from \"../../../../api/customerApi\";\r\nimport branchApi from \"../../../../api/branchApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useFormik } from \"formik\";\r\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({}));\r\nconst UploadImages = (img) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 70,\r\n        width: 70,\r\n        marginLeft: 7,\r\n        marginRight: 7,\r\n        borderRadius: 2,\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n  );\r\n};\r\nconst AddBranch = (props) => {\r\n  const { handleClose, open, onReload } = props;\r\n\r\n  const theme = useTheme();\r\n\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const [cityList, setCityList] = useState([]);\r\n  const [districtList, setDistrictList] = useState([]);\r\n  const [wardList, setWardList] = useState([]);\r\n  const [image, setImage] = useState([]);\r\n  const [display, setDisplay] = useState([]);\r\n  const clearImage = () => {\r\n    setDisplay([]);\r\n    setImage([]);\r\n  };\r\n  const addImageHandler = (e) => {\r\n    setImage(e.target.files[0]);\r\n    setDisplay(URL.createObjectURL(e.target.files[0]));\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      address: \"\",\r\n      ward: \"\",\r\n      district: \"\",\r\n      city: \"\",\r\n      phone: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên chi nhánh\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\")\r\n        .matches(/^\\d+$/, \"Số điển thoại không chính xác\"),\r\n      address: Yup.string().required(\"Nhập địa chỉ\"),\r\n      city: Yup.string().required(\"Chọn tỉnh/thành phố\"),\r\n      district: Yup.string().required(\"Chọn quận/huyện\"),\r\n      ward: Yup.string().required(\"Chọn phường/xã\"),\r\n    }),\r\n  });\r\n  useEffect(() => {\r\n    const loadCity = async () => {\r\n      try {\r\n        const res = await userApi.getCity();\r\n        setCityList(res.provinces);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    loadCity();\r\n  }, []);\r\n  useEffect(() => {\r\n    const loadDistrict = async (city_id) => {\r\n      if (city_id) {\r\n        try {\r\n          const res = await userApi.getDistrict(city_id);\r\n          setDistrictList(res.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    };\r\n    loadDistrict(formik.values.city);\r\n    console.log(formik.errors);\r\n  }, [formik.values.city]);\r\n  useEffect(() => {\r\n    const loadWard = async (city_id, district_id) => {\r\n      if (city_id && district_id) {\r\n        try {\r\n          const res = await userApi.getWard(city_id, district_id);\r\n          setWardList(res.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    };\r\n    loadWard(formik.values.city, formik.values.district);\r\n  }, [formik.values.city, formik.values.district]);\r\n  const dispatch = useDispatch();\r\n  const closeModalAndResetData = () => {\r\n    handleClose();\r\n    formik.resetForm();\r\n  };\r\n  const handleAddBranch = async () => {\r\n    closeModalAndResetData();\r\n    const ward = wardList.find((ward) => ward.id === formik.values.ward).name;\r\n    const province = cityList.find(\r\n      (city) => city.id === formik.values.city\r\n    ).name;\r\n    const district = districtList.find(\r\n      (district) => district.id === formik.values.district\r\n    ).name;\r\n    let lat, lng;\r\n    try {\r\n      ({lat, lng}  = await getGeoCode(\r\n        formik.values.address + \" \" + ward + \" \" + district + \" \" + province\r\n      ));\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"name\", formik.values.name.toString());\r\n      bodyFormData.append(\"address\", formik.values.address.toString());\r\n      bodyFormData.append(\"ward\", ward);\r\n      bodyFormData.append(\"province\", province);\r\n      bodyFormData.append(\"district\", district);\r\n      bodyFormData.append(\"phone\", formik.values.phone.toString());\r\n      bodyFormData.append(\"status\", \"active\");\r\n      bodyFormData.append(\"lng\", lng? lng.toString() : \"\");\r\n      bodyFormData.append(\"lat\", lat? lat.toString() : \"\");\r\n      bodyFormData.append(\"image\", image);\r\n      const response = await branchApi.createBranch(store_uuid, bodyFormData);\r\n      onReload();\r\n      // dispatch(statusAction.successfulStatus(\"Create branch successfully\"));\r\n      dispatch(statusAction.successfulStatus(\"Tạo chi nhánh thành công\"));\r\n    } catch (error) {\r\n      console.log(error);\r\n      // dispatch(statusAction.failedStatus(\"Failed to createBranch\"));\r\n      dispatch(statusAction.failedStatus(\"Tạo chi nhánh thất bại\"));\r\n    }\r\n    \r\n  };\r\n  return (\r\n    <SimpleModal open={open} handleClose={closeModalAndResetData}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Thêm chi nhánh mới\r\n      </Typography>\r\n      <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n        {display.length ? (\r\n          <Tooltip title=\"Xóa hình ảnh\">\r\n            <Button size=\"small\" onClick={clearImage}>\r\n              <Box\r\n                component=\"img\"\r\n                sx={{\r\n                  height: 70,\r\n                  width: 70,\r\n                  marginLeft: 7,\r\n                  marginRight: 7,\r\n                  borderRadius: 2,\r\n                }}\r\n                src={display}\r\n              />\r\n            </Button>\r\n          </Tooltip>\r\n        ) : (\r\n          <UploadImages />\r\n        )}\r\n\r\n        <input\r\n          accept=\"image/*\"\r\n          style={{ display: \"none\" }}\r\n          id=\"icon-button-file\"\r\n          type=\"file\"\r\n          onChange={addImageHandler}\r\n        />\r\n        {display.length === 0 ? (\r\n          <label htmlFor=\"icon-button-file\">\r\n            <IconButton\r\n              color=\"primary\"\r\n              aria-label=\"upload picture\"\r\n              component=\"span\"\r\n            >\r\n              <PhotoCamera />\r\n            </IconButton>\r\n          </label>\r\n        ) : null}\r\n      </Box>\r\n      <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            name=\"name\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Tên chi nhánh\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.name}\r\n            error={formik.touched.name && formik.errors.name}\r\n            helperText={formik.touched.name ? formik.errors.name : null}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Số điện thoại\"\r\n            name=\"phone\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.phone}\r\n            error={formik.touched.phone && formik.errors.phone}\r\n            helperText={formik.touched.phone ? formik.errors.phone : null}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={7}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={formik.touched.city && formik.errors.city}\r\n          >\r\n            <InputLabel>Tỉnh</InputLabel>\r\n            <Select\r\n              native\r\n              name=\"city\"\r\n              label=\"Tỉnh\"\r\n              value={formik.values.city}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n            >\r\n              <option value=\"\" />\r\n              {cityList.map((city) => (\r\n                <option value={city.id}>{city.name}</option>\r\n              ))}\r\n            </Select>\r\n            {formik.touched.city ? (\r\n              <FormHelperText>{formik.errors.city}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={formik.touched.district && formik.errors.district}\r\n          >\r\n            <InputLabel>Huyện</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Huyện\"\r\n              name=\"district\"\r\n              value={formik.values.district}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n            >\r\n              <option value=\"\" />\r\n              {districtList.map((district) => (\r\n                <option value={district.id}>{district.name}</option>\r\n              ))}\r\n            </Select>\r\n            {formik.touched.district ? (\r\n              <FormHelperText>{formik.errors.district}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={formik.touched.ward && formik.errors.ward}\r\n          >\r\n            <InputLabel htmlFor=\"ward\">Xã</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Xã\"\r\n              name=\"ward\"\r\n              value={formik.values.ward}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n            >\r\n              <option aria-label=\"None\" value=\"\" />\r\n              {wardList.map((ward) => (\r\n                <option value={ward.id}>{ward.name}</option>\r\n              ))}\r\n            </Select>\r\n            {formik.touched.ward ? (\r\n              <FormHelperText>{formik.errors.ward}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            name=\"address\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Địa chỉ\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.address}\r\n            onBlur={formik.handleBlur}\r\n            error={formik.touched.address && formik.errors.address}\r\n            helperText={formik.touched.address ? formik.errors.address : null}\r\n          />\r\n        </Grid>\r\n      </Grid>{\" \"}\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"flex-end\",\r\n          paddingTop: 20,\r\n        }}\r\n      >\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          style={{ marginRight: 20 }}\r\n          color=\"secondary\"\r\n          onClick={closeModalAndResetData}\r\n        >\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          onClick={handleAddBranch}\r\n          disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </Grid>\r\n    </SimpleModal>\r\n  );\r\n};\r\n\r\nexport default AddBranch;\r\n","import React, { useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { Typography, Card, Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport SnackBar from \"../../../components/SnackBar/SnackBar\";\r\nimport BranchMap from \"../../../components/BranchMap/BranchMap\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport AddBranch from \"./AddBranch/AddBranch\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      padding: 18,\r\n    },\r\n    headerTitle: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n      marginTop: 10,\r\n      marginLeft: 40,\r\n    },\r\n    addIcon: {\r\n      background: theme.customization.secondaryColor[500],\r\n      borderRadius: 20,\r\n      color: \"#fff\",\r\n    },\r\n    addBtn: {\r\n      marginRight: 10,\r\n      marginTop: 5,\r\n    },\r\n  })\r\n);\r\n\r\nconst Branch = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const onReload = () => setReload(!reload);\r\n\r\n  //// 1. Add pop up + noti\r\n  //add\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Grid container direction=\"row\" alignItems=\"center\">\r\n        <Typography className={classes.headerTitle} variant=\"h2\">\r\n          Chi nhánh\r\n        </Typography>\r\n        <ButtonBase className={classes.addBtn} onClick={handleClickOpen}>\r\n          <Tooltip title=\"Thêm chi nhánh\">\r\n            <AddIcon size=\"small\" className={classes.addIcon} />\r\n          </Tooltip>\r\n        </ButtonBase>\r\n\r\n       {open&& <AddBranch onReload={onReload} open={open} handleClose={handleClose} />}\r\n      </Grid>\r\n      <BranchMap reload={reload} onReload={onReload} />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Branch;\r\n","import React from 'react'\r\nimport { useTheme, withStyles,makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Typography,Divider, Button,FormControlLabel,Checkbox,List,Card,ListItem,ListSubheader,ListItemSecondaryAction,Switch,ListItemIcon, ListItemAvatar,Avatar,ListItemText,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport {ThousandSeperatedInput} from \"../../../../components/TextField/NumberFormatCustom\"\r\n\r\n\r\nconst CustomerScoreSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n\r\nconst theme = useTheme();\r\nconst [customerScore, setCustomerScore] = React.useState(checked)\r\n\r\n\r\nconst handleCheckbox= (event) => {\r\n    \r\n    setCustomerScore((prevState)=>{\r\n     return {\r\n      ...prevState,\r\n      [event.target.name]:event.target.checked\r\n     }\r\n    })\r\n  };\r\n\r\n  const handleChangeValue= (event) => {\r\n   \r\n    setCustomerScore((prevState)=>{\r\n     return {\r\n      ...prevState,\r\n      \"value\":event.target.value\r\n     }\r\n    })\r\n  };\r\n  \r\n  console.log(\"customerStore\",checked)\r\n\r\n  return (\r\n    <>\r\n    <div style={{marginBottom:15}}>\r\n        <Grid container direction=\"row\"  alignItems=\"center\" spacing={3}>\r\n            <Grid item>\r\n                <Typography style={{fontWeight:500, color:\"#000\"}}>Tỷ lệ quy đổi điểm thưởng</Typography>\r\n            </Grid>\r\n            <Grid item>\r\n                <ListItem> \r\n                <ThousandSeperatedInput value={customerScore.value} onChange={handleChangeValue}/>\r\n                <Avatar variant=\"rounded\"   style={{width: theme.spacing(5),height: theme.spacing(3), backgroundColor: theme.palette.primary.main , marginLeft:10, marginRight:20}} >\r\n                    <Typography  style={{fontSize:13, fontWeight:500}} >VND</Typography>\r\n                </Avatar>     \r\n                <Typography style={{marginRight:15}}> = </Typography>\r\n                <Typography> 1 điểm thưởng</Typography>\r\n            </ListItem>\r\n            \r\n            </Grid>  \r\n              \r\n\r\n        </Grid>\r\n     \r\n    </div>\r\n     <FormControlLabel control={<Checkbox name=\"exceptDiscountProduct\"  checked={customerScore.exceptDiscountProduct}  onChange={handleCheckbox} />} label=\"Không tích điểm cho sản phẩm khuyến mãi\" />\r\n     <FormControlLabel control={<Checkbox name=\"exceptDiscountInvoice\" checked={customerScore.exceptDiscountInvoice}   onChange={handleCheckbox}/>} label=\"Không tích điểm cho hoá đơn khuyến mãi\" />\r\n     <FormControlLabel control={<Checkbox name=\"exceptVoucher\" checked={customerScore.exceptVoucher}   onChange={handleCheckbox}/>} label=\"Không tích điểm cho hoá đơn cho hoá đơn thanh toán bằng voucher\" />\r\n\r\n     \r\n     <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,customerScore)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n      </Grid>\r\n    </>\r\n\r\n\r\n     \r\n  )\r\n}\r\n\r\nexport default CustomerScoreSetting","import React from 'react'\r\nimport { useTheme, withStyles,makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Typography,Divider,Button, TextField,FormControlLabel,Checkbox,List,Card,ListItem,ListSubheader,ListItemSecondaryAction,Switch,ListItemIcon, ListItemAvatar,Avatar,ListItemText,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport {ThousandSeperatedInput} from \"../../../../components/TextField/NumberFormatCustom\"\r\n\r\n\r\nconst EmailSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n\r\n    const theme = useTheme();\r\n\r\n    const [email, setEmail] = React.useState(checked)\r\n\r\n\r\n    const handleChangeValue= (event) => {\r\n    \r\n      setEmail((prevState)=>{\r\n        return {\r\n        ...prevState,\r\n        [event.target.name]:event.target.value\r\n        }\r\n      })\r\n    };\r\n\r\n  \r\n    return (\r\n      <>\r\n      <ListItem>\r\n          <Typography style={{fontWeight:500, color:\"#000\", marginRight:20}}>Email gửi</Typography>\r\n          <TextField  name=\"emailAddress\" value={email.emailAddress} onChange={handleChangeValue} style={{width:250}} />\r\n      </ListItem>\r\n      <ListItem>\r\n          <Typography style={{fontWeight:500, color:\"#000\", marginRight:20}}>Mật khẩu</Typography>\r\n          <TextField  name=\"password\" value={email.password} onChange={handleChangeValue} style={{width:250}} />\r\n      </ListItem>\r\n\r\n      <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n            <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n            <Button onClick={()=>handleSubmit(name,email)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n        </Grid>\r\n    \r\n      </>      \r\n    )\r\n}\r\n\r\nexport default EmailSetting","import React from 'react'\r\nimport { useTheme, withStyles,makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Typography,MenuItem,Select,TextField,Button,Divider, FormControlLabel,Checkbox,List,Card,ListItem,ListSubheader,ListItemSecondaryAction,Switch,ListItemIcon, ListItemAvatar,Avatar,ListItemText,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport {ThousandSeperatedInput} from \"../../../../components/TextField/NumberFormatCustom\"\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n   \r\n  \r\n  })\r\n);\r\nconst NotifyDebtSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n\r\nconst theme = useTheme();\r\nconst classes = useStyles(theme);\r\nconst [notifyDebt, setNotifyDebt] = React.useState(checked)\r\n\r\n\r\nconst handleCheckbox= (event) => {\r\n    setNotifyDebt((prevState)=>{\r\n      return {\r\n       ...prevState,\r\n       [event.target.name]:event.target.checked\r\n      }\r\n     })\r\n};\r\n\r\n  const handleChangeValue= (event) => {\r\n\r\n    setNotifyDebt((prevState)=>{\r\n      return {\r\n       ...prevState,\r\n       [event.target.name]:event.target.value\r\n      }\r\n     })\r\n  };\r\n\r\n  return (\r\n    <>\r\n        <ListItem> \r\n            <FormControlLabel  style={{marginRight:30}}  control={<Checkbox name=\"checkDebtAmount\" color=\"primary\" checked={notifyDebt.checkDebtAmount}   onChange={handleCheckbox}/>} \r\n            label={<Typography style={{fontWeight:500, color:\"#000\"}}>Tổng tiền nợ</Typography>        } />\r\n            <ThousandSeperatedInput name=\"debtAmount\"value={notifyDebt.debtAmount} onChange={handleChangeValue}/>   \r\n        </ListItem>\r\n\r\n        <ListItem> \r\n            <FormControlLabel  style={{marginRight:40}}  control={<Checkbox name=\"checkNumberOfDay\" color=\"primary\" checked={notifyDebt.checkNumberOfDay} onChange={handleCheckbox}/>} \r\n            label={<Typography style={{fontWeight:500, color:\"#000\"}}>Số ngày nợ</Typography>        } />\r\n            <ThousandSeperatedInput name=\"numberOfDay\" style={{width:40,marginRight:15}} value={notifyDebt.numberOfDay}  onChange={handleChangeValue}/>   \r\n            <Typography  style={{marginRight:15}} >ngày tính từ </Typography>\r\n            <Select\r\n                name=\"typeDebtDay\"\r\n                value={notifyDebt.typeDebtDay}\r\n                onChange={handleChangeValue}\r\n                style={{color:theme.customization.primaryColor[500], fontWeight:500}}\r\n                MenuProps={{ classes: { paper: classes.dropdownStyle } }}\r\n            >\r\n                <MenuItem value={\"firstDebt\"}>giao dịch nợ đầu tiên</MenuItem> \r\n                <MenuItem value={\"lastBuy\"}>giao dịch cuối cùng</MenuItem>\r\n          </Select>\r\n        </ListItem>\r\n\r\n        <FormControlLabel control={<Checkbox name=\"canNotContinueBuy\"  checked={notifyDebt.canNotContinueBuy}   onChange={handleCheckbox} />} label=\"Không cho khách hàng mua hàng nếu vượt quá hạn mức nợ\"  style={{marginTop:30}}/>\r\n        <FormControlLabel control={<Checkbox name=\"canNotContinueDebt\" checked={notifyDebt.canNotContinueDebt}   onChange={handleCheckbox}/>} label=\"Không cho khách hàng nợ tiếp nếu vượt quá hạn mức nợ\" />\r\n\r\n        <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,notifyDebt)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n      </Grid>\r\n    \r\n    </>\r\n\r\n\r\n     \r\n  )\r\n}\r\n\r\nexport default NotifyDebtSetting","import React from 'react'\r\nimport { useTheme, withStyles,makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Typography,Divider,Button, Select,MenuItem,TextField,FormControlLabel,Checkbox,List,Card,ListItem,FormControl,RadioGroup,Radio,ListSubheader,ListItemSecondaryAction,Switch,ListItemIcon, ListItemAvatar,Avatar,ListItemText,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport {ThousandSeperatedInput} from \"../../../../components/TextField/NumberFormatCustom\"\r\n\r\n\r\nconst OrderLowStockSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n\r\n  const theme = useTheme();\r\n\r\n  const [orderLowStock, setOrderLowStock] = React.useState(checked)\r\n\r\n  const handleChange = (event) => {\r\n    setOrderLowStock((prevState)=>{\r\n      return {\r\n          ...prevState,\r\n          [event.target.name]:event.target.value\r\n      }\r\n  })\r\n  };\r\n    \r\n  return (\r\n    <>\r\n      <Typography style={{fontWeight:500, color:\"#000\",marginRight:15, width:150}}>Số lượng đặt hàng lại:</Typography>\r\n      <FormControl component=\"fieldset\">\r\n          <RadioGroup  name=\"choiceQuantity\" value={orderLowStock.choiceQuantity} onChange={handleChange}>\r\n          <ListItem>\r\n            <FormControlLabel value=\"select\" control={<Radio  color=\"primary\" />}  />\r\n            <Typography style={{color:\"#000\", marginRight:15}}>Dựa trên SL sản phẩm mà chi nhánh đã đặt</Typography>\r\n            <Select\r\n                  name=\"selectQuantity\"\r\n                  value={orderLowStock.selectQuantity}\r\n                  onChange={handleChange}\r\n                  style={{color:theme.customization.primaryColor[500], fontWeight:500}}\r\n              >\r\n                  <MenuItem value={\"latest\"}> gần đây nhất</MenuItem> \r\n                  <MenuItem value={\"avg\"}> trung bình</MenuItem>\r\n            </Select>\r\n          </ListItem>\r\n\r\n          <ListItem>\r\n            <FormControlLabel value=\"number\" control={<Radio  color=\"primary\" />}  />\r\n              <ThousandSeperatedInput name=\"inputQuantity\" style={{width:60,marginRight:15}} value={orderLowStock.inputQuantity}  onChange={handleChange} />   \r\n              <Typography style={{color:\"#000\"}}> sản phẩm </Typography>\r\n         </ListItem>\r\n    </RadioGroup>\r\n    </FormControl>\r\n      <Typography style={{fontWeight:500, color:\"#000\",marginRight:15, marginTop:25,marginBottom:5,width:150}}>Nhà cung cấp:</Typography>\r\n      \r\n      <ListItem>\r\n        <Typography style={{color:\"#000\", marginRight:15}}>NCC mà chi nhánh đặt sản phẩm</Typography>\r\n        <Select\r\n              name=\"selectSuplier\"\r\n              value={orderLowStock.selectSuplier}\r\n              onChange={handleChange}\r\n              style={{color:theme.customization.primaryColor[500], fontWeight:500}}\r\n          >\r\n              <MenuItem value={\"latest\"}>gần nhất</MenuItem> \r\n              <MenuItem value={\"manytime\"}>nhiều lần nhất</MenuItem>\r\n        </Select>\r\n\r\n      </ListItem>\r\n     \r\n\r\n      <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\" >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,orderLowStock)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n        </Grid>\r\n    </>     \r\n  )\r\n}\r\n\r\nexport default OrderLowStockSetting","import React from 'react'\r\nimport { useTheme, withStyles,makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { Typography,Divider, Button,TextField,FormControlLabel,Checkbox,List,Card,FormControl,ListItem,ListSubheader,ListItemSecondaryAction,Switch,ListItemIcon, ListItemAvatar,Avatar,ListItemText,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport {ThousandSeperatedInput} from \"../../../../components/TextField/NumberFormatCustom\"\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\n\r\nexport const ReturnLimitSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n\r\n    const theme = useTheme();\r\n    const [returnLimit, setReturnLimit] = React.useState(checked)\r\n\r\n    return (\r\n        <>\r\n        <ListItem style={{paddingLeft:0, marginTop:15}}>\r\n          <Typography style={{fontWeight:500, color:\"#000\", marginRight:20}}>Không cho phép trả hàng sau: </Typography>\r\n          <ThousandSeperatedInput style={{width:50,marginRight:20}} value={returnLimit.day} onChange={(e)=>setReturnLimit({status:true, day:e.target.value})} />\r\n          <Typography >ngày </Typography>\r\n        </ListItem>\r\n         <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,returnLimit)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n        </Grid>\r\n        </>\r\n\r\n  )\r\n}\r\n\r\nexport const DiscountSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n\r\n    const theme = useTheme();\r\n    const [discount, setDiscount] = React.useState(checked)\r\n    const handleCheckbox= (event) => {\r\n        setDiscount((prevState)=>{\r\n            return {\r\n                ...prevState,\r\n                [event.target.name]:event.target.checked\r\n            }\r\n        })\r\n    };\r\n    return (\r\n        <>\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"applyMultiple\"  checked={discount.applyMultiple}  onChange={handleCheckbox} />} label=\"Áp dụng gộp các chương trình khuyến mại\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"applyOnline\"  checked={discount.applyOnline}  onChange={handleCheckbox} />} label=\"Áp dụng khuyến mãi khi mua hàng online\" />\r\n\r\n        <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,discount)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n        </Grid>\r\n        </>\r\n\r\n  )\r\n}\r\n\r\nexport const CanFixPriceSellSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n    const theme = useTheme();\r\n    const [discount, setDiscount] = React.useState(checked)\r\n    const handleCheckbox= (event) => {\r\n        setDiscount((prevState)=>{\r\n            return {\r\n                ...prevState,\r\n                [event.target.name]:event.target.checked\r\n            }\r\n        })\r\n    };\r\n    return (\r\n        <>\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"cart\"  checked={discount.cart}  onChange={handleCheckbox} />} label=\"Giá bán có thể sửa\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"import\"  checked={discount.import}  onChange={handleCheckbox} />} label=\"Giá nhập có thể sửa\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"returnCart\"  checked={discount.returnCart}  onChange={handleCheckbox} />} label=\"Giá trả hàng bán có thể sửa\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"returnImport\"  checked={discount.returnImport}  onChange={handleCheckbox} />} label=\"Giá trả hàng nhập có thể sửa\" />\r\n\r\n        <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,discount)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n        </Grid>\r\n        </>\r\n\r\n  )\r\n}\r\n\r\nexport const PrintReceiptWhenSellSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n    const theme = useTheme();\r\n    const [discount, setDiscount] = React.useState(checked)\r\n    const handleCheckbox= (event) => {\r\n        setDiscount((prevState)=>{\r\n            return {\r\n                ...prevState,\r\n                [event.target.name]:event.target.checked\r\n            }\r\n        })\r\n    };\r\n    return (\r\n        <>\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"cart\"  checked={discount.cart}  onChange={handleCheckbox} />} label=\"In hoá đơn sau khi bán hàng\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"import\"  checked={discount.import}  onChange={handleCheckbox} />} label=\"In đơn sau khi nhập hàng\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"returnCart\"  checked={discount.returnCart}  onChange={handleCheckbox} />} label=\"In hoá đơn sau khi trả hàng\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"returnImport\"  checked={discount.returnImport}  onChange={handleCheckbox} />} label=\"In đơn sau khi trả hàng nhập\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"order\"  checked={discount.order}  onChange={handleCheckbox} />} label=\"In đơn sau khi đặt hàng nhập\" />\r\n        <FormControlLabel control={<Checkbox  color=\"primary\" name=\"checkInventroy\"  checked={discount.checkInventroy}  onChange={handleCheckbox} />} label=\"In đơn sau khi kiểm kho\" />\r\n\r\n\r\n        <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,discount)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n        </Grid>\r\n        </>\r\n\r\n  )\r\n}\r\n  \r\nexport const VatSetting = ({checked,handleClose,handleSubmit,name}) => {\r\n\r\n    const theme = useTheme();\r\n    const [vat, setVat] = React.useState(checked)\r\n\r\n    const handleChangeName = (event, index) => {\r\n        var newVat = {...vat}\r\n        newVat.listCost[index].name = event.target.value\r\n        setVat(newVat)\r\n    };\r\n\r\n    const handleChangeValue= (event, index) => {\r\n        var newVat = {...vat}\r\n        newVat.listCost[index].value = event.target.value\r\n        setVat(newVat)\r\n    };\r\n   \r\n\r\n    const handleChangeMoneyType= (index,value) => {\r\n        var newVat = {...vat}\r\n        newVat.listCost[index].type = value\r\n        setVat(newVat)\r\n    };\r\n    const addConditionRow = () => {\r\n        var newVat = {...vat}\r\n        const d = new Date();\r\n        newVat.listCost.push({key:d.toString(),costName:\"\", value:0, type:\"%\"})\r\n        setVat(newVat);\r\n    }\r\n    const deleteAttr = (key) => {\r\n        var newVat = {...vat}\r\n        newVat.listCost = newVat.listCost.filter(row => row.key !== key)\r\n        setVat(newVat);\r\n    }\r\n    return (\r\n        <>\r\n      \r\n        {vat.listCost.map((row,index) =>{\r\n            return (\r\n            <>\r\n        \r\n            <Grid item  container direction=\"row\" alignItems=\"center\" spacing={5} style={{marginTop:10}}>\r\n                <Grid item> \r\n                    <ListItem style={{margin:0, padding:0}}>\r\n                        <Typography style={{fontWeight:500, color:\"#000\",marginRight:15, width:150}}>Tên chi phí</Typography>\r\n                        <TextField placeholder=\"Tên chi phí\" style={{marginRight:15}} value={row.name} onChange={(e)=>handleChangeName(e, index)}/>\r\n                    </ListItem>\r\n                </Grid> \r\n                \r\n                <Grid item> \r\n                    <ListItem style={{margin:0, padding:0}}>\r\n                        <Typography style={{fontWeight:500, color:\"#000\",marginRight:15}}>Giá trị</Typography>\r\n                        <ThousandSeperatedInput style={{marginRight:10, color:\"#000\"}} value={row.value} onChange={(e)=>handleChangeValue(e, index)} />\r\n                        <Avatar variant=\"rounded\"  onClick={()=>handleChangeMoneyType(index,\"VND\")}  style={{width: theme.spacing(4),height: theme.spacing(3), background:row.type ===\"VND\"?  theme.palette.primary.main :null,}} >\r\n                            <Typography  style={{fontSize:13, fontWeight:500}} >VND</Typography>\r\n                        </Avatar>     \r\n                        <Avatar  onClick={()=>handleChangeMoneyType(index,\"%\")} variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background: row.type ===\"%\"?theme.palette.primary.main :null,}} >\r\n                            <Typography  style={{fontSize:13, fontWeight:500}} >%</Typography>\r\n                        </Avatar>    \r\n                    </ListItem>      \r\n                </Grid> \r\n                <Grid item>\r\n                    <DeleteForeverTwoToneIcon  onClick={() => {deleteAttr(row.key)}}/>\r\n                </Grid> \r\n            </Grid>\r\n            </>\r\n        )})}\r\n        <div style={{display:'flex',justifyContent:\"flex-end\"}}>\r\n         <Button variant=\"outlined\" size=\"small\" color=\"primary\" style={{marginBottom:15 , width:150,marginTop: 20, textTransform: \"none\" }}\r\n            startIcon={<AddIcon />}\r\n            onClick={() => addConditionRow()}>\r\n            Thêm phí thu\r\n        </Button>\r\n        </div>\r\n\r\n        <Grid item  xs={12} style={{ display: \"flex\", flexDirection: \"row\",justifyContent: \"flex-end\",  paddingTop: 20,  }}  >\r\n          <Button onClick={handleClose} variant=\"contained\"  size=\"small\"  style={{ marginRight: 20 }} color=\"secondary\"  >  Huỷ </Button>\r\n          <Button onClick={()=>handleSubmit(name,vat)} variant=\"contained\" size=\"small\" color=\"primary\" >OK  </Button>\r\n        </Grid>\r\n        </>\r\n\r\n  )\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  Grid,\r\n  Select,\r\n  FormControl,\r\n  InputLabel,\r\n  FormHelperText,\r\n  Box,\r\n  Tooltip,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport userApi from \"../../../../api/userApi\";\r\nimport getGeoCode from \"../../../../components/BranchMap/Geocode\";\r\n\r\n//import project\r\nimport customerApi from \"../../../../api/customerApi\";\r\nimport branchApi from \"../../../../api/branchApi\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useFormik } from \"formik\";\r\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\r\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\r\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\r\nimport * as Yup from \"yup\";\r\nimport storeApi from \"../../../../api/storeApi\";\r\n\r\nconst useStyles = makeStyles((theme) => createStyles({}));\r\nconst UploadImages = (img) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 70,\r\n        width: 70,\r\n        marginLeft: 7,\r\n        marginRight: 7,\r\n        borderRadius: 2,\r\n      }}\r\n      src={avaUpload}\r\n    />\r\n  );\r\n};\r\nconst StoreSetting = (props) => {\r\n  const { handleClose, open } = props;\r\n\r\n  const theme = useTheme();\r\n  const [image, setImage] = useState([]);\r\n  const [display, setDisplay] = useState([]);\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      const response = await storeApi.getStoreInfo(store_uuid);\r\n      if (response.data.store_configuration) {\r\n        const js = JSON.parse(response.data.store_configuration)\r\n        if (js.img_url) {\r\n          setImage(js.img_url)\r\n          setDisplay(js.img_url)\r\n        }\r\n        formik.setFieldValue(\"facebook\", js.facebook)\r\n        formik.setFieldValue(\"instagram\", js.instagram)\r\n        formik.setFieldValue(\"custom_web\", js.custom_web)\r\n      }\r\n    };\r\n    if (store_uuid) {\r\n      loadData();\r\n    }\r\n  }, [store_uuid]);\r\n\r\n  const clearImage = () => {\r\n    setDisplay([]);\r\n    setImage([]);\r\n  };\r\n  const addImageHandler = (e) => {\r\n    setImage(e.target.files[0]);\r\n    setDisplay(URL.createObjectURL(e.target.files[0]));\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      facebook: \"\",\r\n      instagram: \"\",\r\n      custom_web: \"\",\r\n    }\r\n  });\r\n  const dispatch = useDispatch();\r\n  const closeModalAndResetData = () => {\r\n    handleClose();\r\n    formik.resetForm();\r\n    clearImage();\r\n  };\r\n  const handleUpdateStore = async () => {\r\n    closeModalAndResetData();\r\n    try {\r\n      var bodyFormData = new FormData();\r\n      bodyFormData.append(\"facebook\", formik.values.facebook.toString());\r\n      bodyFormData.append(\"instagram\", formik.values.instagram.toString());\r\n      bodyFormData.append(\"custom_web\", formik.values.custom_web.toString());\r\n      bodyFormData.append(\"image\", image);\r\n      const response = await storeApi.updateStoreConfig(store_uuid, bodyFormData);\r\n      dispatch(statusAction.successfulStatus(\"Lưu thay đổi\"));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(statusAction.failedStatus(\"Lưu thất bại\"));\r\n    }\r\n  };\r\n  return (\r\n    <SimpleModal open={open} handleClose={closeModalAndResetData}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Cài đặt chung cửa hàng\r\n      </Typography>\r\n      <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n        {display?.length ? (\r\n          <Tooltip title=\"Xóa hình ảnh\">\r\n            <Button size=\"small\" onClick={clearImage}>\r\n              <Box\r\n                component=\"img\"\r\n                sx={{\r\n                  height: 70,\r\n                  width: 70,\r\n                  marginLeft: 7,\r\n                  marginRight: 7,\r\n                  borderRadius: 2,\r\n                }}\r\n                src={display}\r\n              />\r\n            </Button>\r\n          </Tooltip>\r\n        ) : (\r\n          <UploadImages />\r\n        )}\r\n\r\n        <input\r\n          accept=\"image/*\"\r\n          style={{ display: \"none\" }}\r\n          id=\"icon-button-file\"\r\n          type=\"file\"\r\n          onChange={addImageHandler}\r\n        />\r\n        {display?.length === 0 ? (\r\n          <label htmlFor=\"icon-button-file\">\r\n            <IconButton\r\n              color=\"primary\"\r\n              aria-label=\"upload picture\"\r\n              component=\"span\"\r\n            >\r\n              <PhotoCamera />\r\n            </IconButton>\r\n          </label>\r\n        ) : null}\r\n      </Box>\r\n      <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            label=\"Link facebook\"\r\n            name=\"facebook\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.facebook}\r\n            error={formik.touched.facebook && formik.errors.facebook}\r\n            helperText={formik.touched.facebook ? formik.errors.facebook : null}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            label=\"Link instagram\"\r\n            name=\"instagram\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.instagram}\r\n            error={formik.touched.instagram && formik.errors.instagram}\r\n            helperText={formik.touched.instagram ? formik.errors.instagram : null}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            label=\"Link web\"\r\n            name=\"custom_web\"\r\n            onChange={formik.handleChange}\r\n            value={formik.values.custom_web}\r\n            error={formik.touched.custom_web && formik.errors.custom_web}\r\n            helperText={formik.touched.custom_web ? formik.errors.custom_web : null}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        item\r\n        xs={12}\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"flex-end\",\r\n          paddingTop: 20,\r\n        }}\r\n      >\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          style={{ marginRight: 20 }}\r\n          color=\"secondary\"\r\n          onClick={closeModalAndResetData}\r\n        >\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          onClick={handleUpdateStore}\r\n          disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\r\n        >\r\n          Lưu thay đổi\r\n        </Button>\r\n      </Grid>\r\n    </SimpleModal>\r\n  );\r\n};\r\n\r\nexport default StoreSetting;\r\n","import React, { useState } from \"react\";\r\nimport { useTheme, withStyles,makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { Typography,Button,Divider, List,Card,ListItem,ListSubheader,TextField,ListItemSecondaryAction,Switch,ListItemIcon, ListItemAvatar,Avatar,ListItemText,Grid, ButtonBase, Tooltip } from \"@material-ui/core\"; \r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nconst SettingItem = (props) => {\r\n    const {statusChecked,actionToggle, title, subTitle, name,detail,setOpen} = props\r\n    const theme = useTheme();\r\n    // const classes = useStyles(theme);\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n  \r\n    const handlePopup = (name) => {\r\n        setOpen((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            [name]: true ,\r\n          };\r\n        });\r\n    };\r\n    return (\r\n      <>\r\n      <ListItem style={{margin:xsScreen?0:null, padding:xsScreen?0:null}}>\r\n          <ListItemIcon >\r\n              {props.children}\r\n          </ListItemIcon>\r\n          <ListItemText\r\n          primary={<Typography style={{ fontSize:16,fontWeight:500 }}>{title}</Typography>} \r\n          secondary={<Typography style={{ fontSize:13 , color:'#9f9f9f', marginTop:2}}>{subTitle}</Typography>} />\r\n          {detail && statusChecked ?\r\n          <Button variant=\"outlined\"   size=\"small\"style={{marginRight:50, textTransform:'none', fontWeight:700}} color=\"primary\" \r\n            onClick={()=>handlePopup(name)} > \r\n            Chi tiết \r\n          </Button>:null} \r\n          <ListItemSecondaryAction >\r\n              <IOSSwitch\r\n                  edge=\"end\"\r\n                  name={name}\r\n                  onChange={actionToggle}\r\n                  checked={statusChecked}\r\n              />\r\n          </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <Divider />\r\n      </>\r\n    )\r\n  }\r\n  export default SettingItem\r\n  const IOSSwitch = withStyles((theme) => ({\r\n      root: {\r\n        width: 42,\r\n        height: 26,\r\n        padding: 0,\r\n        margin: theme.spacing(1),\r\n      },\r\n      switchBase: {\r\n        padding: 1,\r\n        '&$checked': {\r\n          transform: 'translateX(16px)',\r\n          color: theme.palette.common.white,\r\n          '& + $track': {\r\n          //   backgroundColor: '#52d869',\r\n              backgroundColor: theme.customization.secondaryColor[500],\r\n            opacity: 1,\r\n            border: 'none',\r\n          },\r\n        },\r\n        '&$focusVisible $thumb': {\r\n          // color: '#52d869',\r\n          color:  theme.customization.secondaryColor[500],\r\n          border: '6px solid #fff',\r\n        },\r\n      },\r\n      thumb: {\r\n        width: 24,\r\n        height: 24,\r\n      },\r\n      track: {\r\n        borderRadius: 26 / 2,\r\n        border: `1px solid ${theme.palette.grey[400]}`,\r\n        backgroundColor: theme.palette.grey[50],\r\n        opacity: 1,\r\n        transition: theme.transitions.create(['background-color', 'border']),\r\n      },\r\n      checked: {},\r\n      focusVisible: {},\r\n    }))(({ classes, ...props }) => {\r\n      return (\r\n        <Switch\r\n          focusVisibleClassName={classes.focusVisible}\r\n          disableRipple\r\n          classes={{\r\n            root: classes.root,\r\n            switchBase: classes.switchBase,\r\n            thumb: classes.thumb,\r\n            track: classes.track,\r\n            checked: classes.checked,\r\n          }}\r\n          {...props}\r\n        />\r\n      );\r\n    });\r\n  \r\n  ","import React, { useState } from \"react\";\r\nimport {\r\n  useTheme,\r\n  withStyles,\r\n  makeStyles,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Divider,\r\n  List,\r\n  Card,\r\n  ListItem,\r\n  ListSubheader,\r\n  TextField,\r\n  ListItemSecondaryAction,\r\n  Switch,\r\n  ListItemIcon,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  ListItemText,\r\n  Grid,\r\n  ButtonBase,\r\n  Tooltip,\r\n  Box,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport WifiIcon from \"@material-ui/icons/Wifi\";\r\nimport StarsIcon from \"@material-ui/icons/Stars\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport TelegramIcon from \"@material-ui/icons/Telegram\";\r\nimport RecordVoiceOverIcon from \"@material-ui/icons/RecordVoiceOver\";\r\nimport LocalShippingIcon from \"@material-ui/icons/LocalShipping\";\r\nimport AccountBalanceIcon from \"@material-ui/icons/AccountBalance\";\r\nimport MoneyIcon from \"@material-ui/icons/Money\";\r\nimport CardGiftcardIcon from \"@material-ui/icons/CardGiftcard\";\r\nimport UpdateIcon from \"@material-ui/icons/Update\";\r\nimport AddShoppingCartIcon from \"@material-ui/icons/AddShoppingCart\";\r\nimport ExtensionIcon from \"@material-ui/icons/Extension\";\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport NotificationImportantIcon from \"@material-ui/icons/NotificationImportant\";\r\nimport AccountTreeIcon from \"@material-ui/icons/AccountTree\";\r\nimport AddAlertIcon from \"@material-ui/icons/AddAlert\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\";\r\nimport CustomerScoreSetting from \"./CustomerScoreSetting\";\r\nimport EmailSetting from \"./EmailSetting\";\r\nimport NotifyDebtSetting from \"./NotifyDebtSetting\";\r\nimport OrderLowStockSetting from \"./OrderLowStockSetting\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport MoneyOffIcon from \"@material-ui/icons/MoneyOff\";\r\nimport PrintIcon from \"@material-ui/icons/Print\";\r\nimport storeApi from \"../../../../api/storeApi\";\r\nimport openNotification from \"../../../../components/StatusPopup/StatusPopup\";\r\nimport {\r\n  ReturnLimitSetting,\r\n  DiscountSetting,\r\n  CanFixPriceSellSetting,\r\n  PrintReceiptWhenSellSetting,\r\n  VatSetting,\r\n} from \"./OtherSetting\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport StoreSetting from \"../StoreSetting/StoreSetting\";\r\nimport SettingItem from \"./SettingItem\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      padding: 18,\r\n    },\r\n    headerTitle: {\r\n      marginTop: 10,\r\n      marginLeft: 20,\r\n    },\r\n  })\r\n);\r\n\r\nconst GeneralSetting = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  //call api here\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      const response = await storeApi.getStoreInfo(store_uuid);\r\n      if (response.data.general_configuration) {\r\n        setChecked(JSON.parse(response.data.general_configuration));\r\n      }\r\n    };\r\n\r\n    if (store_uuid) {\r\n      loadData();\r\n    }\r\n  }, [store_uuid]);\r\n\r\n  const [checked, setChecked] = React.useState({\r\n    //\r\n    inventory: { status: true },\r\n    recommendedProduct: { status: true },\r\n    variation: { status: true },\r\n    expiryDate: { status: true },\r\n\r\n    //\r\n    customerScore: {\r\n      status: false,\r\n      value: 10000,\r\n      exceptDiscountProduct: false,\r\n      exceptDiscountInvoice: false,\r\n      exceptVoucher: false,\r\n    },\r\n    email: {\r\n      status: false,\r\n      emailAddress: \"\",\r\n      password: \"\",\r\n    },\r\n    notifyDebt: {\r\n      status: true,\r\n      checkDebtAmount: true,\r\n      debtAmount: \"500000\",\r\n      checkNumberOfDay: false,\r\n      numberOfDay: \"15\",\r\n      typeDebtDay: \"firstDebt\",\r\n      canNotContinueBuy: false,\r\n      canNotContinueDebt: false,\r\n    },\r\n\r\n    //\r\n    returnLimit: {\r\n      status: false,\r\n      day: 7,\r\n    },\r\n    canFixPriceSell: {\r\n      status: false,\r\n      cart: false,\r\n      import: true,\r\n      returnCart: true,\r\n      returnImport: true,\r\n    },\r\n    printReceiptWhenSell: {\r\n      status: true,\r\n      cart: true,\r\n      import: false,\r\n      returnCart: false,\r\n      returnImport: false,\r\n      order: false,\r\n      checkInventroy: false,\r\n    },\r\n    discount: {\r\n      status: true,\r\n      applyMultiple: false,\r\n      applyOnline: true,\r\n    },\r\n    voucher: { status: true },\r\n    delivery: { status: true },\r\n\r\n    vat: {\r\n      status: false,\r\n      listCost: [{ key: \"1\", costName: \"\", value: 0, type: \"%\" }],\r\n    },\r\n\r\n    //\r\n    orderLowStock: {\r\n      status: true,\r\n      choiceQuantity: \"select\", //number\r\n      selectQuantity: \"latest\", //avg\r\n      inputQuantity: 10,\r\n      selectSuplier: \"latest\", //manytime\r\n    },\r\n    autoApplyDiscount: { status: true },\r\n  });\r\n\r\n  const handleToggle = (event) => {\r\n    const { name, checked } = event.target;\r\n    setChecked((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        [name]: {\r\n          ...prevState[name],\r\n          status: checked,\r\n        },\r\n      };\r\n    });\r\n    //CALL API: Mỗi lần toggle là đẩy lên backend\r\n    // như vậy nhiều quá á, làm nút SAVE nha\r\n  };\r\n\r\n  const [open, setOpen] = React.useState({\r\n    customerScore: false,\r\n    email: false,\r\n    notifyDebt: false,\r\n    returnLimit: false,\r\n    discount: false,\r\n    vat: false,\r\n    orderLowStock: false,\r\n    canFixPriceSell: false,\r\n    printReceiptWhenSell: false,\r\n  });\r\n\r\n  const handleTogglePopup = (event, name) => {\r\n    if (event.target.checked) {\r\n      setOpen((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          [name]: true,\r\n        };\r\n      });\r\n    } else {\r\n      setChecked((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          [name]: {\r\n            ...prevState[name],\r\n            status: false,\r\n          },\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClosePopup = () => {\r\n    setOpen({ customerScore: false });\r\n  };\r\n\r\n  const handleSubmit = (name, customerScore) => {\r\n    // close pop up && set switch\r\n    handleClosePopup();\r\n    setChecked((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        [name]: {\r\n          ...customerScore,\r\n          status: true,\r\n        },\r\n      };\r\n    });\r\n\r\n    // CALL API ĐẨY LÊN BACK END HERE....\r\n\r\n    // snackbar noti submit thành công\r\n  };\r\n  const [openStore, setOpenStore] = useState(false);\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      {openStore && <StoreSetting open={openStore} handleClose={() => setOpenStore(false)} />}\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"space-between\"\r\n        style={{ paddingRight: \"3vw\" }}\r\n      >\r\n        <Typography className={classes.headerTitle} variant=\"h3\">\r\n          Cài đặt chung\r\n        </Typography>\r\n        <Tooltip title=\"Cài đặt chung\">\r\n          <IconButton aria-label=\"setting\" onClick={() => setOpenStore(true)}>\r\n            <SettingsIcon color=\"secondary\" />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n      {/* 1 */}\r\n      <List\r\n        subheader={<ListSubheader>Hàng hoá</ListSubheader>}\r\n        className={classes.root}\r\n      >\r\n        <SettingItem\r\n          name=\"inventory\"\r\n          statusChecked={checked.inventory.status}\r\n          actionToggle={handleToggle}\r\n          title=\"Quản lý tồn kho\"\r\n          subTitle=\"Quản lý sản phẩm theo số lượng tồn kho\"\r\n        >\r\n          <AccountTreeIcon\r\n            style={{\r\n              fill: checked.inventory.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"recommendedProduct\"\r\n          statusChecked={checked.recommendedProduct.status}\r\n          actionToggle={handleToggle}\r\n          title=\"Tự động gợi ý thông tin hàng hoá\"\r\n          subTitle=\"Cho phép tự động gợi ý tên, mã, mô tả, hình ảnh hàng hóa khi thêm mới\"\r\n        >\r\n          <NotificationImportantIcon\r\n            style={{\r\n              fill: checked.recommendedProduct.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"variation\"\r\n          statusChecked={checked.variation.status}\r\n          actionToggle={handleToggle}\r\n          title=\"Hàng hoá có thuộc tính\"\r\n          subTitle=\"Quản lý sản phẩm có thuộc tính (size, màu,...)\"\r\n        >\r\n          <ExtensionIcon\r\n            style={{\r\n              fill: checked.variation.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"expiryDate\"\r\n          statusChecked={checked.expiryDate.status}\r\n          actionToggle={handleToggle}\r\n          title=\"Quản lý tồn kho theo Lô/Date\"\r\n          subTitle=\"Quản lý hạn sử dụng của sản phẩm, thông báo khi sản phẩm sắp hết hạn sử dụng\"\r\n        >\r\n          <EventAvailableIcon\r\n            style={{\r\n              fill: checked.expiryDate.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n      </List>\r\n      {/* 2 */}\r\n      <List\r\n        subheader={<ListSubheader>Khách hàng</ListSubheader>}\r\n        className={classes.root}\r\n      >\r\n        <SettingItem\r\n          name=\"customerScore\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.customerScore.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"customerScore\");\r\n          }}\r\n          title=\"Tích điểm\"\r\n          subTitle=\"Tích điểm thưởng cho khách hàng khi mua hàng, sử dụng điểm thưởng để chia nhóm khách hàng.\"\r\n        >\r\n          <StarsIcon\r\n            style={{\r\n              fill: checked.customerScore.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"email\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.email.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"email\");\r\n          }}\r\n          title=\"Gửi Email - SMS - Zalo\"\r\n          subTitle=\"Cho phép sử dụng tính năng SMS – Email Marketing - Tin nhắn Zalo.\"\r\n        >\r\n          <TelegramIcon\r\n            style={{\r\n              fill: checked.email.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"notifyDebt\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.notifyDebt.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"notifyDebt\");\r\n          }}\r\n          title=\"Cảnh báo công nợ khách hàng\"\r\n          subTitle=\"Cho phép thiết lập hạn mức công nợ để cảnh báo khách hàng.\"\r\n        >\r\n          <RecordVoiceOverIcon\r\n            style={{\r\n              fill: checked.notifyDebt.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n      </List>\r\n\r\n      {/* 3 */}\r\n      <List\r\n        subheader={<ListSubheader>Giao dịch</ListSubheader>}\r\n        className={classes.root}\r\n      >\r\n        <SettingItem\r\n          name=\"returnLimit\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.returnLimit.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"returnLimit\");\r\n          }}\r\n          title=\"Giới hạn thời gian trả hàng\"\r\n          subTitle=\"Không cho phép trả hàng khi vuợt quá thời gian giới hạn\"\r\n        >\r\n          <UpdateIcon\r\n            style={{\r\n              fill: checked.returnLimit.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"canFixPriceSell\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.canFixPriceSell.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"canFixPriceSell\");\r\n          }}\r\n          title=\"Có thể sửa giá khi thực hiện giao dịch\"\r\n          subTitle=\"Cho phép sửa giá bán, giá nhập, giá trả khi thực hiện giao dịch\"\r\n        >\r\n          <MoneyOffIcon\r\n            style={{\r\n              fill: checked.canFixPriceSell.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"printReceiptWhenSell\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.printReceiptWhenSell.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"printReceiptWhenSell\");\r\n          }}\r\n          title=\"In hoá đơn ngay sau khi thực hiện giao dịch\"\r\n          subTitle=\"In hoá đơn ngay sau khi hoàn thành giao dịch (bán hàng, nhập hàng, trả hàng, đặt hàng, kiểm kho,...)\"\r\n        >\r\n          <PrintIcon\r\n            style={{\r\n              fill: checked.printReceiptWhenSell.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"discount\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.discount.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"discount\");\r\n          }}\r\n          title=\"Khuyến mãi\"\r\n          subTitle=\"Áp dụng chương trinh khuyến mãi cho sản phẩm hoặc hoá đơn\"\r\n        >\r\n          <CardGiftcardIcon\r\n            style={{\r\n              fill: checked.discount.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"voucher\"\r\n          statusChecked={checked.voucher.status}\r\n          actionToggle={handleToggle}\r\n          title=\"Voucher\"\r\n          subTitle=\"Áp dụng voucher vào trả tiền hoá đơn\"\r\n        >\r\n          <MoneyIcon\r\n            style={{\r\n              fill: checked.voucher.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"delivery\"\r\n          statusChecked={checked.delivery.status}\r\n          actionToggle={handleToggle}\r\n          title=\"Giao hàng\"\r\n          subTitle=\"Quản lý giao hàng\"\r\n        >\r\n          <LocalShippingIcon\r\n            style={{\r\n              fill: checked.delivery.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"vat\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.vat.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"vat\");\r\n          }}\r\n          title=\"Thu khác khi bán hàng\"\r\n          subTitle=\"Áp dụng phí thu khác khi bán hàng (VAT, phí dịch vụ, ...)\"\r\n        >\r\n          <AccountBalanceIcon\r\n            style={{\r\n              fill: checked.vat.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n      </List>\r\n      {/* 4 */}\r\n      <List\r\n        subheader={<ListSubheader>Khác</ListSubheader>}\r\n        className={classes.root}\r\n      >\r\n        <SettingItem\r\n          name=\"orderLowStock\"\r\n          detail={true}\r\n          setOpen={setOpen}\r\n          statusChecked={checked.orderLowStock.status}\r\n          actionToggle={(e) => {\r\n            handleTogglePopup(e, \"orderLowStock\");\r\n          }}\r\n          title=\"Gợi ý tạo đơn đặt hàng NCC\"\r\n          subTitle=\"Tự động gợi ý tạo đơn đặt hàng nhà cung cấp khi sản phẩm sắp hết\"\r\n        >\r\n          <AddAlertIcon\r\n            style={{\r\n              fill: checked.orderLowStock.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n\r\n        <SettingItem\r\n          name=\"autoApplyDiscount\"\r\n          statusChecked={checked.autoApplyDiscount.status}\r\n          actionToggle={handleToggle}\r\n          title=\"Tự động áp dụng khuyến mãi\"\r\n          subTitle=\"Tự động áp dụng khuyến mãi khi bán hàng (nếu không cho áp dụng gộp nhiều sản phẩm thì hệ thống sẽ tự động áp dụng khuyến mãi có lợi nhất cho khách hàng trong trường hợp có nhiều khuyến mãi) \"\r\n        >\r\n          <AddShoppingCartIcon\r\n            style={{\r\n              fill: checked.autoApplyDiscount.status\r\n                ? theme.customization.secondaryColor[500]\r\n                : null,\r\n            }}\r\n          />\r\n        </SettingItem>\r\n      </List>\r\n\r\n      {/* Modal */}\r\n      {open.customerScore ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập tích điểm\"\r\n          open={open.customerScore}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <CustomerScoreSetting\r\n            checked={checked.customerScore}\r\n            handleSubmit={handleSubmit}\r\n            name=\"customerScore\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n\r\n      {open.email ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập Email - SMS - Zalo\"\r\n          open={open.email}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <EmailSetting\r\n            checked={checked.email}\r\n            handleSubmit={handleSubmit}\r\n            name=\"email\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n\r\n      {open.notifyDebt ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập cảnh báo công nợ khách hàng\"\r\n          open={open.notifyDebt}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <NotifyDebtSetting\r\n            checked={checked.notifyDebt}\r\n            handleSubmit={handleSubmit}\r\n            name=\"notifyDebt\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n\r\n      {open.returnLimit ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập thời gian trả hàng\"\r\n          open={open.returnLimit}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <ReturnLimitSetting\r\n            checked={checked.returnLimit}\r\n            handleSubmit={handleSubmit}\r\n            name=\"returnLimit\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n      {open.canFixPriceSell ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập chức năng sửa giá\"\r\n          open={open.canFixPriceSell}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <CanFixPriceSellSetting\r\n            checked={checked.canFixPriceSell}\r\n            handleSubmit={handleSubmit}\r\n            name=\"canFixPriceSell\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n      {open.printReceiptWhenSell ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập in hoá đơn sau giao dịch\"\r\n          open={open.printReceiptWhenSell}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <PrintReceiptWhenSellSetting\r\n            checked={checked.printReceiptWhenSell}\r\n            handleSubmit={handleSubmit}\r\n            name=\"printReceiptWhenSell\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n      {open.discount ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập khuyến mãi\"\r\n          open={open.discount}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <DiscountSetting\r\n            checked={checked.discount}\r\n            handleSubmit={handleSubmit}\r\n            name=\"discount\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n      {open.vat ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập thu khác khi bán hàng\"\r\n          open={open.vat}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <VatSetting\r\n            checked={checked.vat}\r\n            handleSubmit={handleSubmit}\r\n            name=\"vat\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n      {open.orderLowStock ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Thiết lập tự động tạo đơn đặt hàng NCC\"\r\n          open={open.orderLowStock}\r\n          handleClose={handleClosePopup}\r\n        >\r\n          <OrderLowStockSetting\r\n            checked={checked.orderLowStock}\r\n            handleSubmit={handleSubmit}\r\n            name=\"orderLowStock\"\r\n            handleClose={handleClosePopup}\r\n          />\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n      <Button\r\n        onClick={async () => {\r\n          try {\r\n            const response = storeApi.updateStoreInfo(store_uuid, {\r\n              general_configuration: JSON.stringify(checked),\r\n            });\r\n            openNotification(\"success\", \"Lưu cài đặt chung thành công\");\r\n          } catch (err) {\r\n            console.log(err);\r\n            openNotification(\"error\", \"Lưu cài đặt chung thất bại\");\r\n          }\r\n        }}\r\n      >\r\n        Lưu thay đổi\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\n// const SettingItem = (props) => {\r\n//   const {statusChecked,actionToggle, title, subTitle, name,detail,setOpen} = props\r\n//   const theme = useTheme();\r\n//   const classes = useStyles(theme);\r\n//   const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n//   const handlePopup = (name) => {\r\n//       setOpen((prevState) => {\r\n//         return {\r\n//           ...prevState,\r\n//           [name]: true ,\r\n//         };\r\n//       });\r\n//   };\r\n//   return (\r\n//     <>\r\n//     <ListItem style={{margin:xsScreen?0:null, padding:xsScreen?0:null}}>\r\n//         <ListItemIcon >\r\n//             {props.children}\r\n//         </ListItemIcon>\r\n//         <ListItemText\r\n//         primary={<Typography style={{ fontSize:16,fontWeight:500 }}>{title}</Typography>}\r\n//         secondary={<Typography style={{ fontSize:13 , color:'#9f9f9f', marginTop:2}}>{subTitle}</Typography>} />\r\n//         {detail && statusChecked ?\r\n//         <Button variant=\"outlined\"   size=\"small\"style={{marginRight:50, textTransform:'none', fontWeight:700}} color=\"primary\"\r\n//           onClick={()=>handlePopup(name)} >\r\n//           Chi tiết\r\n//         </Button>:null}\r\n//         <ListItemSecondaryAction >\r\n//             <IOSSwitch\r\n//                 edge=\"end\"\r\n//                 name={name}\r\n//                 onChange={actionToggle}\r\n//                 checked={statusChecked}\r\n//             />\r\n//         </ListItemSecondaryAction>\r\n//     </ListItem>\r\n//     <Divider />\r\n//     </>\r\n//   )\r\n// }\r\n\r\n// const IOSSwitch = withStyles((theme) => ({\r\n//     root: {\r\n//       width: 42,\r\n//       height: 26,\r\n//       padding: 0,\r\n//       margin: theme.spacing(1),\r\n//     },\r\n//     switchBase: {\r\n//       padding: 1,\r\n//       '&$checked': {\r\n//         transform: 'translateX(16px)',\r\n//         color: theme.palette.common.white,\r\n//         '& + $track': {\r\n//         //   backgroundColor: '#52d869',\r\n//             backgroundColor: theme.customization.secondaryColor[500],\r\n//           opacity: 1,\r\n//           border: 'none',\r\n//         },\r\n//       },\r\n//       '&$focusVisible $thumb': {\r\n//         // color: '#52d869',\r\n//         color:  theme.customization.secondaryColor[500],\r\n//         border: '6px solid #fff',\r\n//       },\r\n//     },\r\n//     thumb: {\r\n//       width: 24,\r\n//       height: 24,\r\n//     },\r\n//     track: {\r\n//       borderRadius: 26 / 2,\r\n//       border: `1px solid ${theme.palette.grey[400]}`,\r\n//       backgroundColor: theme.palette.grey[50],\r\n//       opacity: 1,\r\n//       transition: theme.transitions.create(['background-color', 'border']),\r\n//     },\r\n//     checked: {},\r\n//     focusVisible: {},\r\n//   }))(({ classes, ...props }) => {\r\n//     return (\r\n//       <Switch\r\n//         focusVisibleClassName={classes.focusVisible}\r\n//         disableRipple\r\n//         classes={{\r\n//           root: classes.root,\r\n//           switchBase: classes.switchBase,\r\n//           thumb: classes.thumb,\r\n//           track: classes.track,\r\n//           checked: classes.checked,\r\n//         }}\r\n//         {...props}\r\n//       />\r\n//     );\r\n//   });\r\n\r\nexport default GeneralSetting;\r\n","import React from 'react'\r\n\r\nimport {\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Input,\r\n    Chip,\r\n    Checkbox,\r\n    ListItemText\r\n  } from \"@material-ui/core\";\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n  chips: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  chip: {\r\n    margin: 2,\r\n  },\r\n  noLabel: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst MultipleSelect = ({chonsenValue,handleAction, label,options,handleDeleteChip}) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n    return (\r\n        <FormControl className={classes.formControl}>\r\n            <InputLabel>{label}</InputLabel>\r\n            <Select\r\n            multiple\r\n            value={chonsenValue}\r\n            onChange={handleAction}\r\n            input={<Input id=\"select-multiple-chip\" />}\r\n            renderValue={(selected) => (\r\n                <div className={classes.chips}>\r\n                {selected.map((value) => (\r\n                    <Chip key={value} label={value}  className={classes.chip}  size=\"small\" \r\n                    deleteIcon={\r\n                      <CancelIcon\r\n                        onMouseDown={(event) => event.stopPropagation()}\r\n                      />\r\n                    }\r\n                    clickable\r\n                     onDelete={ handleDeleteChip(value)}/>\r\n                ))}\r\n                </div>\r\n            )}\r\n            MenuProps={MenuProps}\r\n            >\r\n             {options.map((name) => (\r\n            <MenuItem key={name} value={name} style={{height:40}}>\r\n              <Checkbox checked={chonsenValue.indexOf(name) > -1} style={{marginLeft:-10}}/>\r\n              <ListItemText primary={name} />\r\n            </MenuItem>\r\n          ))}\r\n            </Select>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport default MultipleSelect\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\n\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n","import React from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nimport InfoTwoToneIcon from '@material-ui/icons/InfoTwoTone';\r\nimport {Typography,Tooltip} from '@material-ui/core';\r\n\r\nconst HtmlTooltip = withStyles((theme) => ({\r\n    tooltip: {\r\n      backgroundColor: '#f5f5f9',\r\n      color: 'rgba(0, 0, 0, 0.87)',\r\n      maxWidth: 220,\r\n      fontSize: theme.typography.pxToRem(12),\r\n      border: '1px solid #dadde9',\r\n    },\r\n  }))(Tooltip);\r\n\r\nconst MoreInfo = () => {\r\n    return (\r\n        <div>\r\n            \r\n            <HtmlTooltip\r\n                arrow\r\n                title={\r\n                <React.Fragment>\r\n                    <Typography color=\"inherit\">Tooltip with HTML</Typography>\r\n                    <em>{\"And here's\"}</em> <b>{'some'}</b> <u>{'amazing content'}</u>.{' '}\r\n                    {\"It's very engaging. Right?\"}\r\n                </React.Fragment>\r\n                }\r\n            >\r\n              <InfoTwoToneIcon fontSize=\"small\" />\r\n            </HtmlTooltip>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MoreInfo\r\n","\r\nimport React, { useState, useEffect } from 'react';\r\nimport useAutocomplete from '@material-ui/lab/useAutocomplete';\r\nimport NoSsr from '@material-ui/core/NoSsr';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport styled from 'styled-components';\r\nimport { useSelector } from \"react-redux\";\r\nimport { VNDFormat } from \"../TextField/NumberFormatCustom\";\r\nimport productApi from \"../../api/productApi\";\r\n\r\n\r\nimport {\r\n    Grid,\r\n    Card,\r\n    Box,\r\n    Typography,\r\n    TextField,\r\n    InputAdornment,\r\n    IconButton,\r\n    Button,\r\n    Dialog,\r\n    FormControlLabel,\r\n    Checkbox,\r\n    FormControl,\r\n    FormLabel,\r\n    RadioGroup,\r\n    Radio,\r\n    List\r\n  } from \"@material-ui/core\";\r\nimport {\r\n    useTheme,\r\n    withStyles,\r\n    makeStyles,\r\n    createStyles,\r\n  } from \"@material-ui/core/styles\";\r\n\r\n  const useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    input: {\r\n      borderRadius: \"20px\",\r\n    },\r\n  })\r\n);\r\n\r\nconst Label = styled('label')`\r\n  padding: 0 0 4px;\r\n  line-height: 1.5;\r\n  display: block;\r\n`;\r\n\r\nconst InputWrapper = styled('div')`\r\n  width: 280px;\r\n  border: 1px solid #d9d9d9;\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n  padding: 1px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  max-height: 120px;\r\n  overflow-y: scroll;\r\n  &:hover {\r\n    border-color: #40a9ff;\r\n  }\r\n\r\n  &.focused {\r\n    border-color: #40a9ff;\r\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\r\n  }\r\n\r\n  & input {\r\n    font-size: 14px;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    padding: 4px 6px;\r\n    width: 0;\r\n    min-width: 30px;\r\n    flex-grow: 1;\r\n    border: 0;\r\n    margin: 0;\r\n    outline: 0;\r\n  }\r\n`;\r\n\r\nconst Tag = styled(({ label, onDelete, ...props }) => (\r\n  <div {...props}>\r\n    <span>{label}</span>\r\n    <CloseIcon onClick={onDelete} />\r\n  </div>\r\n))`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 24px;\r\n  margin: 2px;\r\n  line-height: 22px;\r\n  background-color: #fafafa;\r\n  border: 1px solid #e8e8e8;\r\n  border-radius: 2px;\r\n  box-sizing: content-box;\r\n  padding: 0 4px 0 10px;\r\n  outline: 0;\r\n  overflow: hidden;\r\n\r\n  &:focus {\r\n    border-color: #40a9ff;\r\n    background-color: #e6f7ff;\r\n  }\r\n\r\n  & span {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  & svg {\r\n    font-size: 12px;\r\n    cursor: pointer;\r\n    padding: 4px;\r\n  }\r\n`;\r\n\r\nconst Listbox = styled('ul')`\r\n  width: 280px;\r\n  margin: 2px 0 0;\r\n  padding: 0;\r\n  position: absolute;\r\n  list-style: none;\r\n  background-color: #fff;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n  z-index: 2;\r\n`;\r\nexport const FormatedImage = (props) => {\r\n  return (\r\n    <Box\r\n      component=\"img\"\r\n      sx={{\r\n        height: 53,\r\n        width: 53,\r\n        borderRadius: 10,\r\n        marginRight: 15,\r\n      }}\r\n      src={props.url}\r\n    />\r\n  );\r\n};\r\nexport default function SearchMultiple(props) {\r\n const {isVoucher,selectedOption,handleSelectedOption,handleDeleteOption,index} = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  // const [selectedOption, setSelectedOption] = useState(props.selected);\r\n  const [options, setOptions] = React.useState([]);\r\n  const [inputValue, setInputValue] = React.useState(\"\");\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  const loadingData = async (searchKey) => {\r\n    // search product\r\n    if (!isVoucher ){\r\n      const response = await productApi.searchBranchProduct(\r\n        store_uuid,\r\n        branch_uuid,\r\n        searchKey\r\n      );\r\n      setOptions(response.data);\r\n    }else{\r\n        // search voucher \r\n        // CALL API VOUCHER HERE\r\n      setOptions([{id:\"VC00001\", name:\"HELLOWORLD\", quantity:10,value:10000,}]);\r\n    }\r\n   \r\n    \r\n  };\r\n\r\n  const handleSelect = (option) =>{\r\n    if (selectedOption.findIndex( (item) => item.uuid === option.uuid)  === -1){\r\n      handleSelectedOption(option,index,\"add\")\r\n    }else{\r\n      handleSelectedOption(option,index,\"delete\")\r\n    }\r\n    \r\n    setOptions([])\r\n    setInputValue(\"\")\r\n  }\r\n  //add multiple\r\n  const handleKeyDown = (event) => {\r\n    if (event.key === 'Enter') {\r\n      console.log('do validate')\r\n    }\r\n  }\r\n\r\n  const renderOption = (option) => {\r\n    //display value in Popper elements\r\n    return (\r\n      <Grid fullWidth container direction=\"row\"style={{padding:'3px 10px 3px 10px'}} onClick={()=>handleSelect(option)}  style={{ cursor: \"pointer\",padding:5,backgroundColor: selectedOption.findIndex( (item) => item.uuid === option.uuid)  === -1?null: theme.customization.primaryColor[50]}}>\r\n        <Grid item xs={3}>\r\n          <FormatedImage url={option.img_url} />\r\n        </Grid>\r\n        <Grid item xs={9} container direction=\"column\">\r\n          <Typography variant=\"h5\">{`#${option.product_code}`}</Typography>\r\n          <Typography variant=\"h5\">{option.name}</Typography>\r\n          <Grid container item direction=\"row\" justifyContent=\"space-between\">\r\n            <Typography variant=\"body2\">\r\n              Tồn kho: {option.branch_quantity}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              Giá bán: <VNDFormat value={option.list_price}></VNDFormat>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n  const renderOptionVoucher = (option) => {\r\n    //display value in Popper elements\r\n    return (\r\n      <Grid fullWidth container direction=\"row\"style={{padding:'3px 10px 3px 10px'}} onClick={()=>handleSelect(option)}  style={{ cursor: \"pointer\",padding:5,backgroundColor: selectedOption.findIndex( (item) => item.uuid === option.uuid)  === -1?null: theme.customization.primaryColor[50]}}>\r\n        <Grid item xs={9} container direction=\"column\">\r\n          <Typography variant=\"h5\">{`#${option.id}`}</Typography>\r\n          <Typography variant=\"h5\">{option.name}</Typography>\r\n          <Grid container item direction=\"row\" justifyContent=\"space-between\">\r\n            <Typography variant=\"body2\">\r\n              SL: {option.quantity}\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              Mệnh giá: <VNDFormat value={option.value}></VNDFormat>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n  \r\n\r\n\r\n\r\n\r\n  return (\r\n    <NoSsr>\r\n      <div>\r\n        <div >\r\n          <InputWrapper >\r\n          {/* {selectedOption.length== 0 ?<Typography style={{margin:\"5px 0px 0px 9px\"}}>Chọn sản phẩm tặng...</Typography> :null} */}\r\n          { !isVoucher ?selectedOption.map((option) => (\r\n              // suawr laij product_code sau\r\n              <Tag label={option.product_code.concat(\" - \").concat(option.name)} onDelete={()=>{handleSelectedOption(option,index,\"delete\"); console.log(\"selectedOption\",selectedOption)}} />\r\n            )): \r\n            selectedOption.map((option) => (\r\n              <Tag label={option.name} onDelete={()=>{handleSelectedOption(option,index,\"delete\"); console.log(\"selectedOption\",selectedOption)}} />\r\n            ))}\r\n            <input \r\n              value={inputValue}\r\n              onChange={(event, value) => {\r\n                loadingData(event.target.value)\r\n                setInputValue(event.target.value)\r\n              }}\r\n              onKeyDown={handleKeyDown}\r\n              />\r\n          </InputWrapper>\r\n        </div>\r\n        {options.length > 0 ? (\r\n          <Listbox >\r\n            {!isVoucher ?  \r\n            options.map((option, index) => (\r\n              renderOption(option)\r\n            )):\r\n            options.map((option, index) => (\r\n              renderOptionVoucher(option)\r\n            ))\r\n            }\r\n          </Listbox>\r\n        ) : null}\r\n      </div>\r\n    </NoSsr>\r\n  );\r\n}\r\n\r\n\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst promotionCouponApi = {\r\n  createPromotion: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}/createPromotion`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n\r\n  createVoucher: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}/createVoucher`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n  updatePromotion: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}/updatePromotion`;\r\n    return axiosClient.put(url, body);\r\n  },\r\n  updateVoucher: (storeUuid, body) => {\r\n    const url = `stores/${storeUuid}/updatePromotion`;\r\n    return axiosClient.put(url, body);\r\n  },\r\n  getActivePromotionVoucher: (storeUuid, date) => {\r\n    const url = `stores/${storeUuid}/getActivePromotionVoucher`;\r\n    return axiosClient.get(url, {\r\n      params: {\r\n        date: date,\r\n      },\r\n    });\r\n  },\r\n  getAllPromotions: (storeUuid,query) => {\r\n    const url = `stores/${storeUuid}/getAllPromotions`;\r\n    return axiosClient.get(url, {\r\n      params: query,\r\n    });\r\n  },\r\n  getAllVouchers: (storeUuid,query) => {\r\n    const url = `stores/${storeUuid}/getAllVouchers`;\r\n    return axiosClient.get(url, {\r\n      params: query,\r\n    });\r\n  },\r\n};\r\nexport default promotionCouponApi;\r\n","import React, {useState} from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport MultipleSelect from \"../../../../../components/Select/MultipleSelect\"\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Dialog,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Card,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Divider,\r\n  ButtonBase,\r\n  Tooltip,\r\n  CardHeader,\r\n  Input,\r\n  Chip,\r\n  \r\n} from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\n\r\n//import project\r\nimport customerApi from \"../../../../../api/customerApi\";\r\nimport {useSelector} from 'react-redux'\r\nimport MoreInfo from \"../../../../../components/MoreInfo/MoreInfo\"\r\nimport clsx from \"clsx\"\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\nimport { ThousandSeperatedInput } from \"../../../../../components/TextField/NumberFormatCustom\";\r\nimport SearchMultiple from \"../../../../../components/SearchBar/SearchMultiple\";\r\nimport promotionCouponApi from \"../../../../../api/promotionCouponApi\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n    },\r\n    textField: {\r\n      width: \"100%\",\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n    weight:{\r\n      fontWeight:500,\r\n      color: \"#000\",\r\n      fontSize: 13,\r\n    },\r\n    attrCard:{\r\n      margin:\"5px 0px 25px 0px\", \r\n      boxShadow: \"none\",border: '1px solid' , borderColor:\"#c9c9c9\"\r\n    },\r\n    attrHead:{\r\n      backgroundColor:\"#E4E4E4\", height:40, color:\"#000\"\r\n    }\r\n \r\n  })\r\n);\r\n\r\nconst AddDiscount = (props) => {\r\n  const { handleClose, open } = props;\r\n  // tam thoi\r\n  const statusState = \"Success\";\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n  // const [email, setEmail] = React.useState(\"\");\r\n  // const [phone, setPhone] = React.useState(\"\");\r\n  // const [address, setAddress] = React.useState(\"\");\r\n  // const [paymentInfo, setPaymentInfo] = React.useState(\"\");\r\n\r\n\r\n  //Khuyến mãi theo - Hình thức\r\n  const [discountKey, setDiscountKey] = React.useState(\"invoice\");   // invoice, product\r\n  const handleChangeKey = (event) => {\r\n    setDiscountKey(event.target.value);\r\n    setDiscountType(event.target.value === \"invoice\" ? \"discountInvoice\": \"sendGift\")\r\n    const d = new Date();\r\n    setRowsInvoice([{key:d.toString(),  totalCost:0,  discountValue:0, numberGiftItem:1, listGiftItem:[], type:\"VND\" ,numberBuyItem:1, listBuyItem:[],typeDiscountItem:\"price\" }])\r\n  };\r\n  const [discountType, setDiscountType] = React.useState(\"discountInvoice\"); //discountInvoice , sendGift, sendVoucher,priceByQuantity\r\n  const handleChangeType = (event) => {\r\n    setDiscountType(event.target.value);\r\n    const d = new Date();\r\n    setRowsInvoice([{key:d.toString(),  totalCost:0,  discountValue:0, numberGiftItem:1, listGiftItem:[], type:\"VND\" ,numberBuyItem:1, listBuyItem:[],typeDiscountItem:\"price\" }])\r\n  };\r\n\r\n  // Khuyên mãi theo \r\n  const [rowsInvoice, setRowsInvoice] = React.useState([\r\n    {\r\n      //invoive\r\n      key:\"1\", //  ID dung để delete row , ko liên quan database\r\n      totalCost:0, \r\n      type:\"VND\" ,// \"%\"\r\n\r\n      discountValue:0,\r\n\r\n      numberGiftItem:1,\r\n      listGiftItem:[],\r\n\r\n       //item\r\n      numberBuyItem:1,\r\n      listBuyItem:[],\r\n      typeDiscountItem:\"price\"\r\n\r\n     \r\n\r\n    }]);\r\n\r\n  const  handleChangeMoneyType = (index, value) => {\r\n    console.log(\"rowsInvoice\",rowsInvoice)\r\n    let newArr = [...rowsInvoice];\r\n    newArr[index].type = value;\r\n    setRowsInvoice(newArr);\r\n  }\r\n\r\n  const  handleChangeTotalCost = (event, index) => {\r\n    let newArr = [...rowsInvoice];\r\n    newArr[index].totalCost = event.target.value;\r\n    setRowsInvoice(newArr);\r\n  }\r\n  const  handleChangeValue = (event, index) => {\r\n    let newArr = [...rowsInvoice];\r\n    newArr[index].discountValue = event.target.value;\r\n    setRowsInvoice(newArr);\r\n  }\r\n  const  handleChangeNumberGiftItem = (event, index) => {\r\n    let newArr = [...rowsInvoice];\r\n    newArr[index].numberGiftItem = event.target.value;\r\n    setRowsInvoice(newArr);\r\n  }\r\n  const  handleChangeListGiftItem = (option, index,typeChange) => {\r\n    let newArr = [...rowsInvoice];\r\n    if (typeChange === \"delete\"){\r\n      newArr[index].listGiftItem = newArr[index].listGiftItem.filter(item => item.uuid !== option.uuid)\r\n    }else{\r\n      newArr[index].listGiftItem.push(option)\r\n    }\r\n   \r\n    setRowsInvoice(newArr);\r\n  }\r\n  const  handleChangeNumberBuyItem = (event, index) => {\r\n    let newArr = [...rowsInvoice];\r\n    newArr[index].numberBuyItem = event.target.value;\r\n    setRowsInvoice(newArr);\r\n  }\r\n  const  handleChangeListBuyItem = (option, index,typeChange) => {\r\n    let newArr = [...rowsInvoice];\r\n    if (typeChange === \"delete\"){\r\n      newArr[index].listBuyItem = newArr[index].listBuyItem.filter(item => item.uuid !== option.uuid)\r\n    }else{\r\n      newArr[index].listBuyItem.push(option)\r\n    }\r\n   \r\n    setRowsInvoice(newArr);\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n\r\n  const addConditionRow = () => {\r\n    let newArr = [...rowsInvoice];\r\n    const d = new Date();\r\n    newArr.push({key:d.toString(),  totalCost:0,  discountValue:0, numberGiftItem:1, listGiftItem:[], type:\"VND\" ,numberBuyItem:1, listBuyItem:[],typeDiscountItem:\"price\" })\r\n    setRowsInvoice(newArr);\r\n  }\r\n\r\n  const deleteAttr = (key) => {\r\n    console.log(\"key\",key);\r\n    console.log(\"rowsInvoice\",rowsInvoice);\r\n    var newArr = [...rowsInvoice];\r\n    newArr = newArr.filter(row => row.key !== key)\r\n    setRowsInvoice(newArr);\r\n  }\r\n\r\n\r\n  // Set Date Advance\r\n\r\n  const [byMonth, setByMonth] = React.useState([]);\r\n  const [byDay, setByDay] = React.useState([]);\r\n  const [byDate, setByDate] = React.useState([]);\r\n  const [byTime, setByTime] = React.useState([]);\r\n\r\n  const handleByMonthChange = (event) => {\r\n    setByMonth(event.target.value);\r\n  };\r\n  const handleDeleteMonth = (chipToDelete) => () => {\r\n    setByMonth((chips) => byMonth.filter((chip) => chip !== chipToDelete));\r\n  };\r\n  const handleByDayChange = (event) => {\r\n    setByDay(event.target.value);\r\n  };\r\n  const handleDeleteDay = (chipToDelete) => () => {\r\n    setByDay((chips) => byDay.filter((chip) => chip !== chipToDelete));\r\n  };\r\n\r\n  const handleByDateChange = (event) => {\r\n    setByDate(event.target.value);\r\n  };\r\n  const handleDeleteDate = (chipToDelete) => () => {\r\n    setByDate((chips) => byDate.filter((chip) => chip !== chipToDelete));\r\n  };\r\n\r\n  const handleByTimeChange = (event) => {\r\n    setByTime(event.target.value);\r\n  };\r\n  const handleDeleteTime = (chipToDelete) => () => {\r\n    setByTime((chips) => byTime.filter((chip) => chip !== chipToDelete));\r\n  };\r\n\r\n  //Birthday\r\n  const [checkedBirthday, setCheckedBirthday] = React.useState(false);\r\n  const handleCheckedBirthday = (event) => {\r\n    setCheckedBirthday(event.target.checked);\r\n  };\r\n  \r\n\r\n  const [startDate, setStartDate] = React.useState()\r\n  const [endDate, setEndDate] = React.useState()\r\n\r\n  const info = useSelector(state => state.info)\r\n  const store_uuid = info.store.uuid\r\n\r\n  return (\r\n \r\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"md\" fullWidth={true}\r\n     >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\" >\r\n          Thêm chương trình khuyến mãi\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div >\r\n          <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Tên chương trình khuyến mãi (*)\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              size=\"small\"\r\n              value={name}\r\n              onChange={(event)=>setName(event.target.value)}\r\n            />\r\n         <Card className={classes.attrCard} style={{marginTop:20, marginBottom:10}}>\r\n          <CardHeader\r\n            title=\"Hình thức khuyến mãi\"\r\n            className={classes.attrHead}\r\n          />\r\n\r\n             \r\n         {/* <Typography variant=\"h5\" className={classes.text} style={{marginTop:20, marginBottom:10}}>Hình thức khuyến mãi</Typography> */}\r\n         <Grid  container  direction=\"row\"  alignItems=\"center\" style={{padding:10, paddingBottom:15, marginBottom:10}} >\r\n            <Grid container item sm={4} alignItems=\"center\">\r\n                <Grid item sm={6}>\r\n                  <Typography style={{fontWeight:500, color:theme.customization.primaryColor[500], marginRight:10}}>Khuyến mãi theo </Typography>\r\n                </Grid>\r\n                <Grid item sm={6}>\r\n                    <FormControl className={classes.formControl}>\r\n                      <Select\r\n                        value={discountKey}\r\n                        onChange={handleChangeKey}\r\n                      >\r\n                        <MenuItem value=\"invoice\">Hoá đơn</MenuItem>\r\n                        <MenuItem value=\"product\">Sản phẩm</MenuItem>\r\n                       \r\n                      </Select>\r\n                    </FormControl>\r\n                      \r\n                </Grid>\r\n            </Grid>\r\n\r\n            <Grid container item sm={4} alignItems=\"center\">\r\n              <Grid item sm={4}>\r\n                    <Typography style={{fontWeight:500, color:theme.customization.primaryColor[500], marginRight:10}}>Hình thức</Typography>\r\n                  </Grid>\r\n                  <Grid item sm={8}>\r\n                      {discountKey === 'invoice'? \r\n                         <FormControl className={classes.formControl}>\r\n                        <Select\r\n                          value={discountType}\r\n                          onChange={handleChangeType}\r\n                        >\r\n                            <MenuItem value=\"discountInvoice\">Giảm giá hoá đơn</MenuItem>\r\n                            <MenuItem value=\"sendGift\">Tặng hàng</MenuItem>\r\n                            <MenuItem value=\"sendVoucher\">Tặng voucher</MenuItem>\r\n                        </Select>\r\n                      </FormControl>\r\n                      :\r\n                      <FormControl className={classes.formControl}>\r\n                      <Select\r\n                        value={discountType}\r\n                        onChange={handleChangeType}\r\n                      >\r\n                          <MenuItem value=\"sendGift\">Mua hàng tặng hàng</MenuItem>\r\n                          <MenuItem value=\"priceByQuantity\">Giá bán theo số lượng mua</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                      \r\n                    }\r\n                  </Grid>\r\n            </Grid>\r\n         </Grid>\r\n\r\n      {/* Header */}\r\n         <div style={{backgroundColor:theme.customization.primaryColor[50], height:35, marginTop:20,paddingTop:10, paddingLeft:15, marginLeft:10, marginRight:10}}>\r\n          <Grid  container direction=\"row\" justifyContent=\"\">\r\n              {/* col 1 */}\r\n              {discountKey ===\"invoice\"?\r\n              <Grid item style={{width:150, marginRight:30}}>\r\n                <Typography className={clsx(classes.text,classes.weight)} >Tổng tiền hàng</Typography>\r\n              </Grid>:null\r\n              }\r\n              {discountKey ===\"product\" && discountType ===\"sendGift\" ?\r\n              <>\r\n              <Grid item style={{width:50, marginRight:50}}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL mua</Typography>\r\n              </Grid>\r\n              <Grid item style={{ marginRight:190}}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng mua</Typography>\r\n              </Grid>\r\n               </>:null\r\n              }\r\n               { discountType ===\"discountInvoice\"?\r\n                  <Grid item >\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Giá trị khuyến mãi</Typography>\r\n                </Grid>:null\r\n                }\r\n                {['sendGift','sendVoucher'].includes(discountType) ?\r\n                  <Grid item style={{width:50, marginRight:50}}>\r\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL tặng</Typography>\r\n              </Grid>:null\r\n                }\r\n                {discountType ===\"sendGift\"?\r\n                    <Grid item >\r\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng tặng</Typography>\r\n                    </Grid> :null\r\n               }\r\n               {discountType ===\"sendVoucher\"?\r\n                    <Grid item >\r\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Voucher</Typography>\r\n                    </Grid> :null\r\n               }\r\n                 \r\n                 \r\n           \r\n              \r\n          </Grid>\r\n          \r\n          </div>\r\n           <Divider classes={{root: classes.divider}} style={{marginLeft:10, marginRight:10}}/>      \r\n       \r\n       {/* List Khuyen mai */}\r\n          {rowsInvoice.map((row, index) => {\r\n              return (\r\n                  <>\r\n                  <div style={{paddingLeft:15, marginLeft:10, marginRight:10}}>\r\n                  <Grid container direction=\"row\" justifyContent=\"\">\r\n                      {/* col 1 */}\r\n                      {discountKey ===\"invoice\"?\r\n                      <Grid item  container direction=\"row\" alignItems=\"center\" style={{width:130,marginRight:52, height:40}} >\r\n                          <Grid item> <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> Từ </Typography> </Grid> \r\n                          <Grid item> <ThousandSeperatedInput  style={{width:100}} onChange={(event)=>handleChangeTotalCost(event, index)} value={row.totalCost} /> </Grid> \r\n                      </Grid>:null\r\n                      }\r\n                      {discountKey ===\"product\" && discountType ===\"sendGift\" ?\r\n                      <>\r\n                      <Grid item style={{width:50,marginRight:30, height:40, marginTop:4}} >\r\n                        <ThousandSeperatedInput  style={{width:50}} onChange={(event)=>handleChangeNumberBuyItem(event, index)} value={row.numberBuyItem} /> \r\n                      </Grid>\r\n                      <Grid item style={{ marginTop:4, marginRight:30}} >\r\n                          <SearchMultiple\r\n                            selectedOption={row.listBuyItem}\r\n                            handleSelectedOption={handleChangeListBuyItem}\r\n                            index={index}\r\n                          />\r\n                        </Grid> \r\n                      </>\r\n                      :null }\r\n                      {/* col 2 */}\r\n                      {discountType ===\"discountInvoice\"?\r\n                      <Grid item >\r\n                        <Grid item  container direction=\"row\" alignItems=\"center\" style={{height:40}}>\r\n                          {/*!! Nếu la % nhớ handle maximum change là 100% */}\r\n                          <Grid item> <ThousandSeperatedInput style={{marginRight:10, color:\"#000\"}} onChange={(event)=>handleChangeValue(event, index)} value={row.discountValue}  />  </Grid> \r\n                          <Grid item style={{ marginRight:5}}> \r\n                              <ButtonBase sx={{ borderRadius: '16px', }} \r\n                                  onClick={()=>handleChangeMoneyType(index,\"VND\")}\r\n                                >\r\n                                <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:row.type ===\"VND\"?  theme.palette.primary.main :null,}} >\r\n                                    <Typography  style={{fontSize:13, fontWeight:500}} >VND</Typography>\r\n                                </Avatar>     \r\n                            </ButtonBase>\r\n                           </Grid> \r\n                           <Grid item> \r\n                              <ButtonBase sx={{ borderRadius: '16px' }} \r\n                                  onClick={()=>handleChangeMoneyType(index,\"%\")}\r\n                                >\r\n                                <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background: row.type ===\"%\"?theme.palette.primary.main :null,}} >\r\n                                    <Typography  style={{fontSize:13, fontWeight:500}} >%</Typography>\r\n                                </Avatar>\r\n                                \r\n                            </ButtonBase>\r\n                           </Grid> \r\n                        </Grid>\r\n                      </Grid>:null\r\n                      }\r\n                    {/* col 3 */}\r\n                    {['sendGift','sendVoucher'].includes(discountType) ?\r\n                    <Grid item style={{width:50,marginRight:30, height:40, marginTop:4}} >\r\n                        <ThousandSeperatedInput  style={{width:50}} onChange={(event)=>handleChangeNumberGiftItem(event, index)} value={row.numberGiftItem} /> \r\n                    </Grid>:null\r\n                    }\r\n                    {discountType ===\"sendGift\"?\r\n                          <Grid item style={{ marginTop:4}} >\r\n                            <SearchMultiple\r\n                              selectedOption={row.listGiftItem}\r\n                              handleSelectedOption={handleChangeListGiftItem}\r\n                              index={index}\r\n                            />\r\n                          </Grid> :null\r\n                    }\r\n                    {discountType ===\"sendVoucher\"?\r\n    \r\n                          <Grid item style={{ marginTop:4}} >\r\n                            <SearchMultiple\r\n                              isVoucher={true}\r\n                              selectedOption={row.listGiftItem}\r\n                              handleSelectedOption={handleChangeListGiftItem}\r\n                              index={index}\r\n                            />\r\n                          </Grid> :null\r\n                    }\r\n                  \r\n                      <Grid item container direction=\"row\" justifyContent=\"flex-end\">\r\n                          <DeleteForeverTwoToneIcon style={{marginTop:-30}} onClick={() => {deleteAttr(row.key)}} />\r\n                      </Grid>\r\n                </Grid>\r\n                </div>\r\n                \r\n                <Divider classes={{root: classes.divider}} style={{marginLeft:10, marginRight:10}}/>\r\n                  </>\r\n              );\r\n          })}\r\n\r\n          <Button variant=\"outlined\" size=\"small\" color=\"primary\" style={{ marginLeft: 20,marginBottom:15, marginTop: 10, textTransform: \"none\" }}\r\n              startIcon={<AddIcon />}\r\n              onClick={() => addConditionRow()}>\r\n              Thêm điều kiện\r\n          </Button>\r\n        </Card>\r\n\r\n\r\n        <Card className={classes.attrCard} style={{marginTop:20, marginBottom:10, }}>\r\n          <CardHeader\r\n            title=\"Thời gian áp dụng\"\r\n            className={classes.attrHead}\r\n          />\r\n           <div style={{padding:10}}>\r\n          <Grid  container  direction=\"row\" justifyContent=\"space-around\" alignItems=\"center\"  spacing={3} >\r\n              <Grid item sm={6} >\r\n                  <TextField id=\"startDate\" label=\"Từ\" \r\n                      type=\"date\" \r\n                      name=\"startDate\"\r\n                      // defaultValue={formik.values.startDate} \r\n                      variant=\"outlined\" size=\"small\" fullWidth \r\n                      className={classes.textField} \r\n                      InputLabelProps={{ shrink: true }} \r\n                      value={startDate} \r\n                      onChange={e => setStartDate(e.target.value)}\r\n                    />\r\n            </Grid>\r\n            \r\n            <Grid item sm={6}>\r\n              <TextField \r\n                  id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\r\n                  defaultValue={new Date().toDateString()} \r\n                  variant=\"outlined\" size=\"small\" \r\n                  fullWidth className={classes.textField} \r\n                  InputLabelProps={{ shrink: true }} \r\n                  value={endDate}  \r\n                  onChange={e => setEndDate(e.target.value)}\r\n                />\r\n            </Grid> \r\n        </Grid>\r\n        {/*  */}\r\n        <Divider style={{margin:\"25px 10px 0px 10px\"}} />\r\n        <Typography style={{fontWeight:500, color:\"#707070\", marginTop:15, marginBottom:-10}}>Cài đặt nâng cao:</Typography>\r\n            <MultipleSelect  chonsenValue={byMonth} handleAction={handleByMonthChange} handleDeleteChip={handleDeleteMonth} label=\"Theo tháng\" options={month}/>\r\n            <MultipleSelect  chonsenValue={byDay} handleAction={handleByDayChange} handleDeleteChip={handleDeleteDay}label=\"Theo ngày\" options={day}/>\r\n            <MultipleSelect  chonsenValue={byDate} handleAction={handleByDateChange} handleDeleteChip={handleDeleteDate}label=\"Theo thứ\" options={date}/>\r\n            <MultipleSelect  chonsenValue={byTime} handleAction={handleByTimeChange} handleDeleteChip={handleDeleteTime} label=\"Theo giờ\" options={time}/>\r\n           \r\n        </div>\r\n        <FormControlLabel\r\n              control={<Checkbox  color=\"primary\" checked={checkedBirthday} onChange={handleCheckedBirthday}  />}\r\n              label={<Grid container direction=\"row\" alignItems=\"center\">Áp dụng vào <Typography style={{color:theme.customization.primaryColor[500], fontWeight:500, marginLeft:4, marginRight:4}}> ngày sinh nhật</Typography> của khách hàng </Grid>}\r\n              style={{marginLeft:10}}\r\n            />\r\n        \r\n        </Card>\r\n      </div>\r\n\r\n\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => handleClose(null)}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button\r\n          onClick={async () => {\r\n            let body = {\r\n              name: name,\r\n              start_date: startDate,\r\n              end_date: endDate,\r\n\r\n              promotion_condition: JSON.stringify({\r\n                discountKey: discountKey,\r\n                discountType: discountType,\r\n                rowsInvoice: rowsInvoice,\r\n              \r\n              }),\r\n              customer_birth: checkedBirthday,\r\n              // Thêm cái này nữa Hải ơi\r\n              byDay:byDay,\r\n              byMonth:byMonth,\r\n              byDate:byDate,\r\n              byTime:byTime\r\n\r\n            };\r\n\r\n            try {\r\n              const response = await promotionCouponApi.createPromotion(store_uuid, body)\r\n              handleClose(\"Success\")\r\n              console.log(response.status)\r\n\r\n            } catch (err) {\r\n              handleClose(\"Failed\");\r\n            }\r\n\r\n          }}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddDiscount;\r\n\r\nconst month = [\r\n  'Tháng 1',\r\n  'Tháng 2',\r\n  'Tháng 3',\r\n  'Tháng 4',\r\n  'Tháng 5',\r\n  'Tháng 6',\r\n  'Tháng 7',\r\n  'Tháng 8',\r\n  'Tháng 9',\r\n  'Tháng 10',\r\n  'Tháng 11',\r\n  'Tháng 12',\r\n];\r\nconst day = ['Ngày 1','Ngày 2','Ngày 3','Ngày 4','Ngày 5','Ngày 6','Ngày 7','Ngày 8','Ngày 9','Ngày 10','Ngày 11','Ngày 12','Ngày 13','Ngày 14','Ngày 15','Ngày 16','Ngày 17','Ngày 18','Ngày 19','Ngày 20','Ngày 21','Ngày 22','Ngày 23','Ngày 24','Ngày 25','Ngày 26','Ngày 27','Ngày 28','Ngày 29','Ngày 30','Ngày 31'];\r\nconst date=['Thứ 2','Thứ 3','Thứ 4','Thứ 5','Thứ 6','Thứ 7','Chủ nhật']\r\nconst time = ['0am','1am','2am','3am','4am','5am','6am','7am','8am','9am','10am','11am','12am','13pm','14pm','15pm','16pm','17pm','18pm','19pm','20pm', \"21pm\",\"22pm\",'23pm']\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../../components/TextField/NumberFormatCustom'\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst DiscountFilter = (props) => {\r\n    const {handleToggleFilter,openFilter} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n    \r\n\r\n        {/* 1. Trạng thái */}\r\n        <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Kích hoạt</MenuItem>\r\n        <MenuItem value=\"q1\">Chưa kích hoạt</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n      {/* 2. Hiệu lực */}\r\n      <Typography variant=\"h5\"className={classes.text} >Hiệu lực:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Còn hiệu lực</MenuItem>\r\n        <MenuItem value=\"q1\">Hết hiệu lực</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n       \r\n\r\n         {/* BUTTON */}\r\n        <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n            Lọc\r\n        </Button>\r\n\r\n          \r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default DiscountFilter\r\n\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nimport {TableCell,TableRow,Avatar,ListItem,Typography} from '@material-ui/core';\r\n\r\n\r\nimport {FormatedStatus} from '../../../../../components/TableCommon/util/format'\r\nimport ava from '../../../../../assets/img/product/lyimg.jpeg';\r\nimport DiscountDetail from './DiscountDetail/DiscountDetail'\r\n\r\n\r\nconst DiscountTableRow = (props) => {\r\n    const { row, handleOpenRow,openRow} = props;\r\n    const classes = useRowStyles();\r\n    const discountKey = row.promotion_condition.discountKey === \"invoice\" ?\"Hoá đơn\" :\"Sản phẩm\"\r\n    var promotion_condition ={}\r\n    if(row.promotion_condition.length !== 0) {promotion_condition = JSON.parse(row.promotion_condition) }\r\n    const discountType = getDiscountType(promotion_condition?.discountKey,promotion_condition?.discountType )  \r\n    const type = `${discountKey}  -  ${discountType}`  \r\n    \r\n    return (\r\n        <>\r\n        {/* ROW */}\r\n            <TableRow\r\n            onClick={() =>{ handleOpenRow(row.id) ; }}   \r\n            key={row.id}\r\n            className={ clsx(classes.row,(openRow === row.id) ? classes.rowClicked : null)}\r\n            >\r\n                <TableCell align=\"left\">{row.promotion_code}</TableCell>\r\n                <TableCell align=\"left\">{row.name}</TableCell>\r\n                <TableCell align=\"left\">{row.start_date}</TableCell>\r\n                <TableCell align=\"left\">{row.end_date}</TableCell>\r\n                <TableCell align=\"left\">{type}</TableCell>\r\n                <TableCell align=\"left\">{row.status}</TableCell>\r\n\r\n            </TableRow>\r\n\r\n        {/* DETAIL */}\r\n            <TableRow>\r\n              {/* colspan  => số cột trong collapse */}\r\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \r\n                    <DiscountDetail parentProps={props} promotion_condition={promotion_condition} type={type} />       \r\n              </TableCell>\r\n       \r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DiscountTableRow\r\n\r\n\r\n\r\nfunction getDiscountType (discountKey, discountType){\r\n    console.log(\"discountKey\",discountKey)\r\n    console.log(\"discountType\",discountType)\r\n    if(discountKey === \"invoice\"){\r\n        if(discountType ===\"sendGift\"){return \"Tặng hàng\"}\r\n        else if (discountType ===\"sendVoucher\"){ return \"Tặng voucher\"}\r\n        else{ return \"Giảm giá hoá đơn\"}\r\n    }else{\r\n        if(discountType ===\"sendGift\"){return \"Mua hàng tặng hàng\"}\r\n        else{return \"Giá bán theo số lượng mua\"}\r\n    }\r\n}","import React, {useState, useEffect,useRef} from 'react'\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {Typography,Card, Button,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useReactToPrint } from \"react-to-print\";\r\n//import api \r\nimport customerApi from '../../../../api/customerApi'\r\nimport { useSelector } from 'react-redux'\r\n\r\n//import constant\r\nimport * as HeadCells from '../../../../assets/constant/tableHead'\r\nimport *  as TableType from '../../../../assets/constant/tableType'\r\n\r\n////import project\r\n//riêng\r\nimport AddDiscount from './AddDiscount/AddDiscount'\r\nimport DiscountFilter from './DiscountTool/DiscountFilter'\r\n\r\nimport DiscountTableRow from './DiscountTableRow/DiscountTableRow'\r\n//chung\r\nimport SnackBar from '../../../../components/SnackBar/SnackBar'\r\nimport TableHeader  from '../../../../components/TableCommon/TableHeader/TableHeader'\r\nimport ToolBar from '../../../../components/TableCommon/ToolBar/ToolBar'\r\nimport TableWrapper from '../../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport promotionCouponApi from '../../../../api/promotionCouponApi';\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nconst DiscountSetting = () => {\r\n    // const [discountList, setDiscountList] = useState([]);\r\n    const [newDiscountList, setNewDiscountList] = useState([]);\r\n    const [reload, setReload] = useState(false);\r\n\r\n    const onReload = () => setReload(!reload)\r\n    \r\n    const info = useSelector(state => state.info)\r\n    const store_uuid = info.store.uuid;\r\n    const [pagingState, setPagingState] = useState({\r\n      page: 0,\r\n      limit: 10,\r\n    });\r\n    const [totalRows, setTotalRows] = useState(0)\r\n    useEffect(() => {\r\n      setPagingState({ ...pagingState, page: 0 });\r\n    }, [reload, store_uuid]);\r\n    \r\n    useEffect(() => {\r\n      const loadData = async () => {\r\n        try {\r\n          const response = await promotionCouponApi.getAllPromotions(\r\n            store_uuid,\r\n            {\r\n              page: pagingState.page,\r\n              limit: pagingState.limit,\r\n            }\r\n          );\r\n          // setPagingState({ ...pagingState, total_rows: response.total_rows });\r\n          setTotalRows(response.total_rows)\r\n          setNewDiscountList(response.promotions);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      };\r\n      if (store_uuid) {\r\n        loadData();\r\n      }\r\n    }, [pagingState.page, pagingState.limit, reload]);\r\n\r\n    // useEffect(() => {\r\n    //     customerApi.getCustomers(store_uuid)\r\n    //     .then(response => response.data, err => console.log(err))\r\n    //     .then(data => {\r\n    //       setDiscountList(data)\r\n    //     })\r\n    // }, [reload, store_uuid]);\r\n\r\n    useEffect(() => {\r\n      console.log(\"newDiscountList\", newDiscountList)\r\n    }, [newDiscountList])\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n    //// 1. Add pop up + noti\r\n    //add\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n      setOpen(true);\r\n    };\r\n\r\n    const handleClose = (status) => {\r\n      setOpen(false);\r\n      setAddStatus(status);\r\n      if(status === \"Success\"){\r\n        onReload();\r\n        setOpenBar(true);\r\n      }else if (status === \"Fail\"){\r\n        setOpenBar(true);\r\n      }\r\n    };\r\n\r\n    //status add\r\n    const [addStatus, setAddStatus] = React.useState(null);\r\n    \r\n    //noti\r\n    const [openBar, setOpenBar] = React.useState(false);\r\n    const handleCloseBar = () => {\r\n      setOpenBar(false)\r\n    };\r\n\r\n    //// 2. Table\r\n\r\n    //collapse\r\n    const [openRow, setRowOpen] = React.useState(null);\r\n    const handleOpenRow = (row) => {\r\n        if (row !==  openRow){setRowOpen(row);}\r\n        else{setRowOpen(null)}  \r\n    };\r\n\r\n    // header sort \r\n    const [order, setOrder] = React.useState('asc');\r\n    const [orderBy, setOrderBy] = React.useState('id');\r\n    \r\n    const handleRequestSort = (event, property) => {\r\n      //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n      // const isAsc = orderBy === property && order === 'asc';\r\n      // setOrder(isAsc ? 'desc' : 'asc');\r\n      // setOrderBy(property);\r\n    };\r\n\r\n    //3. ToolBar\r\n\r\n    // toolbar\r\n    const componentRef = useRef();\r\n    const handlePrint = useReactToPrint({\r\n        content: () => componentRef.current,\r\n    });\r\n    //3.1. search\r\n\r\n    //3.2. filter\r\n    const [openFilter, setOpenFilter] = React.useState(false);\r\n    const handleToggleFilter = () => {\r\n      setOpenFilter(!openFilter);\r\n    };\r\n\r\n    //3.3. loc cot\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n    <Card className={classes.root} >\r\n    \r\n        <Grid container direction=\"row\" alignItems=\"center\">\r\n            <Typography style={{flexGrow: 1,textAlign: \"center\", marginTop: 15,}} variant=\"h2\">\r\n              Khuyến mãi\r\n            </Typography>\r\n              <Grid className={classes.btngroup1}  style={{ marginTop:10}}>\r\n                    <ButtonBase sx={{ borderRadius: '16px' }} \r\n                        onClick={handleClickOpen}\r\n                    >\r\n                    <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\r\n                        <Tooltip title='Thêm chương trình khuyến mãi'>\r\n                        <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n                        </Tooltip>\r\n                    </Avatar>\r\n                </ButtonBase>\r\n              </Grid>\r\n\r\n              {/* Popup add */}\r\n              {open && <AddDiscount open={open} handleClose={handleClose} />}\r\n        </Grid>\r\n\r\n       \r\n        {/* Noti */}\r\n        <SnackBar openBar={openBar} handleCloseBar={handleCloseBar} addStatus={addStatus}/>\r\n\r\n        \r\n        {/* <Divider  openFilter={openFilter} handleToggleFilter={handleToggleFilter}/> */}\r\n        \r\n        {/* 2. SEARCH - FILTER - EXPORT*/}\r\n        {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n        <ToolBar  dataTable={newDiscountList} tableType={TableType.CUSTOMER} textSearch={'Mã, tên khuyến mãi  '} /*handlePrint={handlePrint}*/ \r\n        handleToggleFilter={handleToggleFilter}  handlePrint={handlePrint}/>\r\n        <DiscountFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/>\r\n        {/* 3. TABLE */}\r\n        {!xsScreen?<TableWrapper\r\n        pagingState={{...pagingState, total_rows: totalRows}}\r\n        setPagingState={setPagingState}\r\n        >\r\n            <TableHeader\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={handleRequestSort}\r\n              headerData={HeadCells.DiscountHeadCells}\r\n            />\r\n            <TableBody>\r\n              {newDiscountList?.map((row, index) => {\r\n                // json\r\n                  return (\r\n                    <DiscountTableRow key={row.uuid} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} />\r\n                  );\r\n              })}\r\n            </TableBody>\r\n        </TableWrapper>:\r\n            newDiscountList?.map((row, index) => {\r\n           \r\n              if(row.promotion_condition.length !== 0) {var promotion_condition = JSON.parse(row.promotion_condition) }\r\n              const discountKey = row.promotion_condition.discountKey === \"invoice\" ?\"Hoá đơn\" :\"Sản phẩm\"\r\n              const discountType = getDiscountType(promotion_condition?.discountKey,promotion_condition?.discountType )  \r\n              const type = `${discountKey}  -  ${discountType}`  \r\n\r\n                return (\r\n                <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \r\n                  totalCost={row.promotion_code}id={row.name} partnerName={type} date={row.end_date} \r\n                  promotion_condition={promotion_condition} type={type}\r\n                  typeBill={\"Khuyến mãi\"} />         \r\n             );})}\r\n        \r\n        <div  style={{display:'none'}} >\r\n        <div ref={componentRef}  >\r\n        <ComponentToPrint  discountList={newDiscountList} classes={classes}/>\r\n        </div>\r\n        \r\n      </div>\r\n      </Card>\r\n    )\r\n}\r\n\r\nexport default DiscountSetting\r\n\r\nconst ComponentToPrint = ({discountList,classes}) =>{\r\n  return (\r\n      <div >\r\n        <Typography style={{flexGrow: 1,textAlign: \"center\",fontSize:20, fontWeight:500, margin:30, color:'#000'}} >Danh sách khuyến mãi</Typography>\r\n        <div >\r\n          <TableHeader\r\n                classes={classes}\r\n                headerData={HeadCells.CustomerHeadCells}\r\n              />\r\n              <TableBody >\r\n                {discountList?.map((row, index) => {\r\n                  return (\r\n                    <DiscountTableRow\r\n                      key={row.uuid}\r\n                      row={row}\r\n                    \r\n                    />\r\n                  );\r\n                })}\r\n              </TableBody>\r\n        </div>\r\n  </div>\r\n  )\r\n}\r\nfunction getDiscountType (discountKey, discountType){\r\n  console.log(\"discountKey\",discountKey)\r\n  console.log(\"discountType\",discountType)\r\n  if(discountKey === \"invoice\"){\r\n      if(discountType ===\"sendGift\"){return \"Tặng hàng\"}\r\n      else if (discountType ===\"sendVoucher\"){ return \"Tặng voucher\"}\r\n      else{ return \"Giảm giá hoá đơn\"}\r\n  }else{\r\n      if(discountType ===\"sendGift\"){return \"Mua hàng tặng hàng\"}\r\n      else{return \"Giá bán theo số lượng mua\"}\r\n  }\r\n}","import React, {useState} from \"react\";\r\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {\r\n  Button,\r\n  TextField,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Typography,\r\n  Grid,\r\n  Avatar,\r\n  Dialog,\r\n  FormControl,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio\r\n} from \"@material-ui/core\";\r\n\r\n//import project\r\nimport customerApi from \"../../../../../api/customerApi\";\r\nimport {useSelector} from 'react-redux'\r\nimport VNDInput from \"../../../../../components/TextField/NumberFormatCustom\";\r\nimport {ThousandSeperatedInput} from \"../../../../../components/TextField/NumberFormatCustom\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    headerTitle: {\r\n      fontSize: \"1.125rem\",\r\n    },\r\n    ava: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n    },\r\n    textField: {\r\n      width: \"100%\",\r\n    },\r\n    input: {\r\n      display: \"none\",\r\n    },\r\n    text:{\r\n      // color:\"#666666\"\r\n    }\r\n  })\r\n);\r\n\r\nconst AddVoucher = (props) => {\r\n  const { handleClose, open } = props;\r\n  // tam thoi\r\n  const statusState = \"Success\";\r\n\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  // const [name, setName] = React.useState(\"\");\r\n  // const [email, setEmail] = React.useState(\"\");\r\n  // const [phone, setPhone] = React.useState(\"\");\r\n  // const [address, setAddress] = React.useState(\"\");\r\n  // const [paymentInfo, setPaymentInfo] = React.useState(\"\");\r\n\r\n  const info = useSelector(state => state.info)\r\n  const store_uuid = info.store.uuid\r\n\r\n  return (\r\n \r\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Typography className={classes.headerTitle} variant=\"h5\">\r\n          Thêm voucher\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.root}>\r\n          {/* 1. Text field cơ bản */}\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"space-around\"\r\n            spacing={3}\r\n          >\r\n            <Grid item sm={6}>\r\n           \r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Tên voucher (*)\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                // value={name}\r\n                // onChange={(event)=>setName(event.target.value)}\r\n              />\r\n              <VNDInput\r\n                id=\"outlined-basic\"\r\n                label=\"Mệnh giá voucher (*)\"\r\n                // value={phone}\r\n                // onChange={(event)=>setPhone(event.target.value)}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n              />\r\n              \r\n              \r\n            </Grid>\r\n\r\n            <Grid item sm={6}>\r\n              {/* nếu ko điền mặc định là ko giới hạn */}\r\n              <ThousandSeperatedInput\r\n                label={<Typography style={{fontWeight:500, fontSize:15, marginTop:-6, marginRight:-15}}>Số lượng voucher</Typography>}\r\n                placeholder=\"Không giới hạn\"\r\n                fullWidth\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }} \r\n                // value={address}\r\n                // onChange={(event)=>setAddress(event.target.value)}\r\n              />\r\n              <VNDInput\r\n                id=\"outlined-basic\"\r\n                label={<Typography style={{fontWeight:500, fontSize:15, marginTop:-6, marginRight:-15}}>Tiền hoá đơn tối thiểu</Typography>}\r\n                // label=\"Tiền hoá đơn tối thiểu\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                placeholder=\"Không tối thiểu\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }} \r\n                // value={address}\r\n                // onChange={(event)=>setAddress(event.target.value)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          {/* 2. Thời gian áp dụng */}\r\n          <Typography variant=\"h5\" className={classes.text} style={{marginTop:15}}>Thời gian áp dụng:</Typography>\r\n          <Grid  container  direction=\"row\" justifyContent=\"space-around\" alignItems=\"center\"  spacing={3} >\r\n              <Grid item sm={6} >\r\n                  <TextField id=\"startDate\" label=\"Từ\" \r\n                      type=\"date\" \r\n                      name=\"startDate\"\r\n                      // defaultValue={formik.values.startDate} \r\n                      variant=\"outlined\" size=\"small\" fullWidth \r\n                      className={classes.textField} \r\n                      InputLabelProps={{ shrink: true }} \r\n                      // value={formik.values.startDate} \r\n                      // onChange={formik.handleChange}\r\n                    />\r\n            </Grid>\r\n            \r\n            <Grid item sm={6}>\r\n              <TextField \r\n                  id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\r\n                  // defaultValue={formik.values.endDate} \r\n                  variant=\"outlined\" size=\"small\" \r\n                  fullWidth className={classes.textField} \r\n                  InputLabelProps={{ shrink: true }} \r\n                  // value={formik.values.endDate}  \r\n                  // onChange={formik.handleChange}\r\n                />\r\n            </Grid> \r\n        </Grid>\r\n         \r\n\r\n\r\n\r\n         {/* 3. Trạng thái */}\r\n         <Typography variant=\"h5\" className={classes.text} style={{marginTop:15}}>Trạng thái:</Typography>\r\n          <FormControl component=\"fieldset\">\r\n            <RadioGroup\r\n              name=\"status\"\r\n              // value={payment}\r\n              // onChange={handleChangePayment}\r\n            >\r\n              <Grid container direction=\"row\">\r\n                <FormControlLabel\r\n                  labelPlacement=\"end\"\r\n                  value=\"active\"\r\n                  control={<Radio />}\r\n                  label=\"Kích hoạt\"\r\n                />\r\n                <FormControlLabel\r\n                  labelPlacement=\"end\"\r\n                  value=\"inactive\"\r\n                  control={<Radio />}\r\n                  label=\"Chưa áp dụng\"\r\n                />\r\n              </Grid>\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          onClick={() => handleClose(null)}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n        >\r\n          Huỷ\r\n        </Button>\r\n        <Button\r\n          // onClick={async () => {\r\n          //   let body = {\r\n          //     name: name,\r\n          //     email: email,\r\n          //     phone: phone,\r\n          //     address: address,\r\n          //     payment_info: paymentInfo,\r\n          //   };\r\n\r\n          //   try {\r\n          //     const response = await customerApi.createCustomer(store_uuid, body)\r\n          //     handleClose(\"Success\")\r\n          //     console.log(response.status)\r\n\r\n          //   } catch (err) {\r\n          //     handleClose(\"Failed\");\r\n          //   }\r\n\r\n          // }}\r\n          variant=\"contained\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n        >\r\n          Thêm\r\n        </Button>\r\n      </DialogActions>\r\n      </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddVoucher;\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../../components/TextField/NumberFormatCustom'\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst VoucherFilter = (props) => {\r\n    const {handleToggleFilter,openFilter} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n        {/* 1. Trạng thái */}\r\n        <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Kích hoạt</MenuItem>\r\n        <MenuItem value=\"q1\">Chưa áp dụng</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n      {/* 2. Hiệu lực */}\r\n      <Typography variant=\"h5\"className={classes.text} >Hiệu lực:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Còn hiệu lực</MenuItem>\r\n        <MenuItem value=\"q1\">Hết hiệu lực</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n       \r\n\r\n         {/* BUTTON */}\r\n        <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n            Lọc\r\n        </Button>\r\n\r\n          \r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default VoucherFilter\r\n\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nimport {TableCell,TableRow,Avatar,ListItem,Typography} from '@material-ui/core';\r\n\r\n\r\nimport {FormatedStatus} from '../../../../../components/TableCommon/util/format'\r\nimport ava from '../../../../../assets/img/product/lyimg.jpeg';\r\nimport VoucherDetail from './VoucherDetail/VoucherDetail'\r\n\r\n\r\nconst VoucherTableRow = (props) => {\r\n    const { row, handleOpenRow,openRow} = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <>\r\n        {/* ROW */}\r\n            <TableRow\r\n            onClick={() => handleOpenRow(row.uuid)}   \r\n            key={row.uuid}\r\n            className={ clsx(classes.row,(openRow === row.uuid) ? classes.rowClicked : null)}\r\n            >\r\n                <TableCell align=\"left\">MÃ</TableCell>\r\n                <TableCell align=\"left\">TÊN</TableCell>\r\n                <TableCell align=\"left\">TỪ NGÀY</TableCell>\r\n                <TableCell align=\"left\" >ĐẾN NGÀY</TableCell> \r\n                {/* nhớ format .000 */}\r\n                <TableCell align=\"left\" >SỐ LƯỢNG</TableCell> \r\n                <TableCell align=\"left\" >MÊNH GIÁ</TableCell> \r\n\r\n                <TableCell align=\"left\" >TRẠNG THÁI</TableCell> \r\n            </TableRow>\r\n\r\n        {/* DETAIL */}\r\n            <TableRow>\r\n              {/* colspan  => số cột trong collapse */}\r\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \r\n                    <VoucherDetail parentProps={props}/>       \r\n              </TableCell>\r\n       \r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default VoucherTableRow\r\n","import React, {useState, useEffect,useRef} from 'react'\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {Typography,Card, Button,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useReactToPrint } from \"react-to-print\";\r\n//import api \r\nimport customerApi from '../../../../api/customerApi'\r\nimport { useSelector } from 'react-redux'\r\n\r\n//import constant\r\nimport * as HeadCells from '../../../../assets/constant/tableHead'\r\nimport *  as TableType from '../../../../assets/constant/tableType'\r\n\r\n////import project\r\n//riêng\r\nimport AddVoucher from './AddVoucher/AddVoucher'\r\nimport VoucherFilter from './VoucherTool/VoucherFilter'\r\n\r\nimport VoucherTableRow from './VoucherTableRow/VoucherTableRow'\r\n//chung\r\nimport SnackBar from '../../../../components/SnackBar/SnackBar'\r\nimport TableHeader  from '../../../../components/TableCommon/TableHeader/TableHeader'\r\nimport ToolBar from '../../../../components/TableCommon/ToolBar/ToolBar'\r\nimport TableWrapper from '../../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport promotionCouponApi from '../../../../api/promotionCouponApi'\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {BillMiniTableRow} from \"../../../../components/MiniTableRow/MiniTableRow\"\r\n\r\nconst VoucherSetting = () => {\r\n    const [voucherList, setVoucherList] = useState([]);\r\n    const [newVoucherList, setNewVoucherList] = useState([]);\r\n    const [reload, setReload] = useState(false);\r\n\r\n    const onReload = () => setReload(!reload)\r\n    \r\n    const info = useSelector(state => state.info)\r\n    const store_uuid = info.store.uuid\r\n    const [pagingState, setPagingState] = useState({\r\n      page: 0,\r\n      limit: 10,\r\n    });\r\n    const [totalRows, setTotalRows] = useState(0)\r\n    useEffect(() => {\r\n      setPagingState({ ...pagingState, page: 0 });\r\n    }, [reload, store_uuid]);\r\n\r\n    useEffect(() => {\r\n      const loadData = async () => {\r\n        const response = await promotionCouponApi.getAllVouchers(\r\n          store_uuid,\r\n          {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n          }\r\n        );\r\n        console.log(\"vouchers\", response.vouchers)\r\n        setNewVoucherList(response.vouchers)\r\n        setTotalRows(response.total_rows)\r\n      }\r\n      if (store_uuid) {\r\n        loadData();\r\n      }\r\n    }, [reload, store_uuid]);\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n    //// 1. Add pop up + noti\r\n    //add\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n      setOpen(true);\r\n    };\r\n\r\n    const handleClose = (status) => {\r\n      setOpen(false);\r\n      setAddStatus(status);\r\n      if(status === \"Success\"){\r\n        onReload();\r\n        setOpenBar(true);\r\n      }else if (status === \"Fail\"){\r\n        setOpenBar(true);\r\n      }\r\n    };\r\n\r\n    //status add\r\n    const [addStatus, setAddStatus] = React.useState(null);\r\n    \r\n    //noti\r\n    const [openBar, setOpenBar] = React.useState(false);\r\n    const handleCloseBar = () => {\r\n      setOpenBar(false)\r\n    };\r\n\r\n    //// 2. Table\r\n  \r\n    //collapse\r\n    const [openRow, setRowOpen] = React.useState(null);\r\n    const handleOpenRow = (row) => {\r\n        if (row !==  openRow){setRowOpen(row);}\r\n        else{setRowOpen(null)}  \r\n    };\r\n\r\n    // header sort \r\n    const [order, setOrder] = React.useState('asc');\r\n    const [orderBy, setOrderBy] = React.useState('id');\r\n    \r\n    const handleRequestSort = (event, property) => {\r\n      //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n      // const isAsc = orderBy === property && order === 'asc';\r\n      // setOrder(isAsc ? 'desc' : 'asc');\r\n      // setOrderBy(property);\r\n    };\r\n\r\n    //3. ToolBar\r\n\r\n    // toolbar\r\n    const componentRef = useRef();\r\n    const handlePrint = useReactToPrint({\r\n        content: () => componentRef.current,\r\n    });\r\n    //3.1. search\r\n\r\n    //3.2. filter\r\n    const [openFilter, setOpenFilter] = React.useState(false);\r\n    const handleToggleFilter = () => {\r\n      setOpenFilter(!openFilter);\r\n    };\r\n\r\n    //3.3. loc cot\r\n\r\n\r\n    return (\r\n\r\n    <Card className={classes.root} >\r\n        <Grid container direction=\"row\" alignItems=\"center\">\r\n            <Typography style={{flexGrow: 1,textAlign: \"center\", marginTop: 15,}} variant=\"h2\">\r\n              Voucher\r\n            </Typography>\r\n              <Grid className={classes.btngroup1}  style={{ marginTop:10}}>\r\n                    <ButtonBase sx={{ borderRadius: '16px' }} \r\n                        onClick={handleClickOpen}\r\n                    >\r\n                    <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\r\n                        <Tooltip title='Thêm voucher'>\r\n                        <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n                        </Tooltip>\r\n                    </Avatar>\r\n                </ButtonBase>\r\n              </Grid>\r\n\r\n              {/* Popup add */}\r\n              <AddVoucher open={open} handleClose={handleClose} />\r\n        </Grid>\r\n\r\n        {/* Noti */}\r\n        <SnackBar openBar={openBar} handleCloseBar={handleCloseBar} addStatus={addStatus}/>\r\n\r\n              \r\n        {/* 2. SEARCH - FILTER - EXPORT*/}\r\n        {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n        <ToolBar  dataTable={voucherList} tableType={TableType.CUSTOMER} textSearch={'Mã, tên voucher '} /*handlePrint={handlePrint}*/ \r\n        handleToggleFilter={handleToggleFilter}  handlePrint={handlePrint}/>\r\n        <VoucherFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/>\r\n        {/* 3. TABLE */}\r\n        {!xsScreen?<TableWrapper>\r\n            <TableHeader\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={handleRequestSort}\r\n              headerData={HeadCells.VoucherHeadCells}\r\n            />\r\n            <TableBody>\r\n              {voucherList?.map((row, index) => {\r\n                  return (\r\n                    <VoucherTableRow key={row.uuid} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} />\r\n                  );\r\n              })}\r\n            </TableBody>\r\n        </TableWrapper>:\r\n        //voucherList\r\n          [{name:\"heeloo\",key:\"xin chai\"}]?.map((row, index) => {\r\n            return (\r\n              <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \r\n              totalCost={100}  id={\"TEN VOUCHER\"} partnerName={\"SL:\".concat(100)} date={\"22/12/2009\"} \r\n              typeBill={\"Voucher\"} />           \r\n               );\r\n          })}\r\n          \r\n          \r\n        <div  style={{display:'none'}} >\r\n        <div ref={componentRef}  >\r\n        <ComponentToPrint  voucherList={voucherList} classes={classes}/>\r\n        </div>\r\n        \r\n      </div>\r\n      </Card>\r\n    )\r\n}\r\n\r\nexport default VoucherSetting\r\n\r\nconst ComponentToPrint = ({voucherList,classes}) =>{\r\n  return (\r\n      <div >\r\n        <Typography style={{flexGrow: 1,textAlign: \"center\",fontSize:20, fontWeight:500, margin:30, color:'#000'}} >Danh sách voucher</Typography>\r\n        <div >\r\n          <TableHeader\r\n                classes={classes}\r\n                headerData={HeadCells.CustomerHeadCells}\r\n              />\r\n              <TableBody >\r\n                {voucherList?.map((row, index) => {\r\n                  return (\r\n                    <VoucherTableRow\r\n                      key={row.uuid}\r\n                      row={row}\r\n                    \r\n                    />\r\n                  );\r\n                })}\r\n              </TableBody>\r\n        </div>\r\n  </div>\r\n  )\r\n}","import {useTheme, makeStyles,styled,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\n\r\nexport const ColorButtonPink = withStyles((theme) => ({\r\n    root: {\r\n    //  color: theme.palette.getContrastText(\"#ff007d\"),\r\n    color:'#000',\r\n      backgroundColor: \"#ff007d\",\r\n      textTransform: 'none',\r\n      '&:hover': {\r\n        backgroundColor: lighten(\"#ff007d\", 0.3),\r\n      },\r\n      borderRadius:15\r\n    },\r\n  }))(Button);\r\n  export  const ColorButtonYellow = withStyles((theme) => ({\r\n    root: {\r\n     color: theme.palette.getContrastText(\"#ffc02b\"),\r\n      backgroundColor: \"#ffc02b\",\r\n      textTransform: 'none',\r\n      '&:hover': {\r\n        backgroundColor: lighten(\"#ffc02b\", 0.3),\r\n      },\r\n      borderRadius:15\r\n    },\r\n  }))(Button);\r\n\r\n  export const ColorButton = styled(Button)(({ theme, mainColor,navColor }) => ({\r\n    color: \"#ffffff\",\r\n    backgroundColor: navColor? lighten(mainColor, 0.2):mainColor ,\r\n    width: 100,\r\n    \"&:hover\": {\r\n      backgroundColor: navColor?lighten(mainColor, 0.1) :lighten(mainColor, 0.3),\r\n      \r\n    },\r\n  }));\r\n  export const ColorOutlineButton = styled(Button)(({ theme ,mainColor,navColor}) => ({\r\n    color: mainColor,\r\n    borderColor: mainColor,\r\n    boxShadow:navColor?'0px 2px 2px rgba(0,0,0,0.2)':null,\r\n    backgroundColor: navColor?lighten(mainColor, 0.8):theme.palette.background.paper,\r\n    \"&:hover\": {\r\n      backgroundColor:navColor?lighten(mainColor, 0.6) :lighten(mainColor, 0.8),\r\n    },\r\n  }));\r\n\r\n  export const ColorOutlineButtonCart = styled(Button)(({ theme ,mainColor}) => ({\r\n    color: mainColor,\r\n    borderColor: mainColor,\r\n    backgroundColor:lighten(mainColor, 0.8),\r\n    \"&:hover\": {\r\n      backgroundColor:lighten(mainColor, 0.6),\r\n    },\r\n    textTransform: \"none\",\r\n    marginTop:20\r\n  }));","import React from 'react'\r\nimport { Typography,Toolbar,Fab,Button,Badge,Select,MenuItem,InputAdornment,FormControlLabel,FormLabel,CardHeader,IconButton,Collapse,FormControl,RadioGroup,TextField, ListItem,Card, Radio,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport { useTheme, makeStyles,styled ,lighten,darken} from \"@material-ui/core/styles\";\r\nimport AccountCircleRoundedIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport {ColorButton,ColorOutlineButton} from \"../../../../components/Button/ColorButton\"\r\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\r\nimport { ThousandSeperatedInput } from '../../../../components/TextField/NumberFormatCustom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    toolBar: {\r\n        // background: theme.palette.background.paper,\r\n        color: theme.customization.themeGreyText,\r\n        border:'1px solid #b6b6b6'\r\n    },\r\n    btnNav: {\r\n        textTransform: \"none\",\r\n        marginRight: 10,\r\n    }, \r\n    btn: {\r\n        boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\r\n        backgroundColor: \"#ffe57f\",\r\n        borderRadius: \"10px 0px 0px 10px\",\r\n        \"&:hover\": {\r\n          backgroundColor: \"#ffcf10\",\r\n        },\r\n        height: 60,\r\n        width: 60,\r\n       \r\n      },\r\n      swatch: {\r\n        padding: '5px',\r\n        background: '#fff',\r\n        borderRadius: '1px',\r\n        boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n        display: 'inline-block',\r\n        cursor: 'pointer',\r\n      },  \r\n}));\r\n\r\n\r\nconst NavBarSetting = ({web,handleChangeNavBar,logo,setWeb}) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const mainColor=`rgba(${ web.mainColor.r }, ${ web.mainColor.g }, ${ web.mainColor.b }, ${ web.mainColor.a })`\r\n    const {buttonLogin,buttonCart,navColor,textNav} = web.navBar;\r\n\r\n    function handleColor (type) {\r\n        if(type===0){return '#000'}\r\n        else if (type===1){return '#fff'}\r\n        else if (type===3){return mainColor}\r\n        else{return theme.darkTextPrimary }\r\n    }\r\n    const textColor = handleColor(parseInt(textNav[0]));\r\n    const textSize = parseInt(textNav[1])\r\n    const textBold = parseInt(textNav[2])\r\n\r\n    const handleChangeNavBarIndex = (event, index)=>{\r\n        var newWeb = {...web};\r\n        newWeb.navBar.textNav[index] = event.target.value;\r\n        setWeb(newWeb)\r\n    }\r\n      \r\n    return (\r\n        <>\r\n\r\n        <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n                <Typography style={{fontWeight:500, marginRight:20}}>Nút đăng nhập </Typography>\r\n                <FormControl component=\"fieldset\">\r\n                  <RadioGroup name=\"buttonLogin\" value={web.navBar.buttonLogin} onChange={handleChangeNavBar}>\r\n                    <div>\r\n                      <FormControlLabel value={\"0\"} control={<Radio color=\"primary\" />} label=\"Kiểu 1\" />\r\n                      <FormControlLabel value={\"1\"} control={<Radio color=\"primary\"/>} label=\"Kiểu 2\" />\r\n                    </div>\r\n                  </RadioGroup>\r\n              </FormControl>\r\n          </ListItem>\r\n          <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n                <Typography style={{fontWeight:500, marginRight:20}}>Nút giỏ hàng </Typography>\r\n                <FormControl component=\"fieldset\">\r\n                  <RadioGroup  name=\"buttonCart\" value={web.navBar.buttonCart} onChange={handleChangeNavBar}>\r\n                    <div>\r\n                      <FormControlLabel value={\"0\"} control={<Radio color=\"primary\"/>} label=\"Kiểu 1\" />\r\n                      <FormControlLabel value={\"1\"} control={<Radio color=\"primary\"/>} label=\"Kiểu 2\" />\r\n                    </div>\r\n                  </RadioGroup>\r\n              </FormControl>\r\n          </ListItem>\r\n          <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n              <Typography style={{fontWeight:500, marginRight:20}}>Màu thanh công cụ </Typography>\r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup name=\"navColor\" value={web.navBar.navColor} onChange={handleChangeNavBar}>\r\n                  <div>\r\n                    <FormControlLabel value={\"0\"} control={<Radio color=\"primary\" />} label=\"Màu trắng\" />\r\n                    <FormControlLabel value={\"1\"} control={<Radio color=\"primary\"/>} label=\"Màu chính\" />\r\n                  </div>\r\n                </RadioGroup>\r\n            </FormControl>\r\n        </ListItem>\r\n        <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n              <Typography style={{fontWeight:500, marginRight:20}}>Màu chữ </Typography>\r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup name=\"textNav\" value={web.navBar.textNav[0]} onChange={(event)=>handleChangeNavBarIndex(event, 0)}>\r\n                  <div>\r\n                    <FormControlLabel value={\"0\"} control={<Radio color=\"primary\" />} label=\"Đen\" />\r\n                    <FormControlLabel value={\"1\"} control={<Radio color=\"primary\"/>} label=\"Trắng\" />\r\n                    <FormControlLabel value={\"2\"} control={<Radio color=\"primary\"/>} label=\"Xám\" />\r\n                    <FormControlLabel value={\"3\"} control={<Radio color=\"primary\"/>} label=\"Màu chính\" />\r\n                  </div>\r\n                </RadioGroup>\r\n            </FormControl>\r\n        </ListItem>\r\n        <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n              <Typography style={{fontWeight:500, marginRight:30,width:55 }}>Cỡ chữ </Typography>   \r\n              <Grid container  >\r\n                <Grid item className={classes.swatch} style={{width:40}}><ThousandSeperatedInput value={web.navBar.textNav[1]} onChange={(event)=>handleChangeNavBarIndex(event, 1)}/></Grid>\r\n                <Grid item className={classes.swatch} style={{width:30, backgroundColor:\"#E4E4E4\"}}>px</Grid>\r\n            </Grid>\r\n            </ListItem>\r\n\r\n        <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n              <Typography style={{fontWeight:500, marginRight:20, }}>Độ dày chữ </Typography>   \r\n              <FormControl size=\"small\" variant=\"outlined\" className={classes.formControl} >\r\n                <Select\r\n                    value={web.navBar.textNav[2]}\r\n                    onChange={(event)=>handleChangeNavBarIndex(event, 2)}\r\n                    >\r\n                    <MenuItem value={300}>300</MenuItem>\r\n                    <MenuItem value={400}>400</MenuItem>\r\n                    <MenuItem value={500}>500</MenuItem>\r\n                    <MenuItem value={600}>600</MenuItem>\r\n                    <MenuItem value={700}>700</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </ListItem>\r\n\r\n\r\n\r\n        {/* Mẫu */}\r\n        <Toolbar\r\n          className={classes.toolBar}\r\n          style={{\r\n            background: parseInt(web.navBar.navColor) ? mainColor : theme.palette.background.paper,\r\n          }}\r\n        >\r\n\r\n        <Grid\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"space-between\"\r\n          >\r\n            <Grid item sm={2}>\r\n              <img src={logo} style={{height:50}}/>\r\n            </Grid>\r\n            <Grid container item sm={10} direction=\"row\" alignItems=\"center\">\r\n                <Grid container item sm={8} direction=\"row\">\r\n                    <Button\r\n                        className={classes.btnNav}\r\n                        style={{\r\n                        color: textColor,\r\n                        fontWeight: textBold,\r\n                        fontSize: textSize,\r\n                        }}\r\n                    >\r\n                    Trang chủ\r\n                  </Button>\r\n                  <Button\r\n                        className={classes.btnNav}\r\n                        style={{\r\n                        color: textColor,\r\n                        fontWeight: textBold,\r\n                        fontSize: textSize,\r\n                        }}\r\n                    >\r\n                    Sản phẩm\r\n                  </Button>\r\n                  <Button\r\n                        className={classes.btnNav}\r\n                        style={{\r\n                        color: textColor,\r\n                        fontWeight: textBold,\r\n                        fontSize: textSize,\r\n                        }}\r\n                    >\r\n                    Cửa hàng\r\n                  </Button>\r\n                </Grid>\r\n                <Grid\r\n                  container\r\n                  item\r\n                  sm={4}\r\n                  direction=\"row\"\r\n                  justifyContent=\"flex-end\"\r\n                >\r\n                  {parseInt(buttonLogin) == 0? \r\n                  <>\r\n                   <ColorOutlineButton\r\n                   mainColor={mainColor}\r\n                   navColor={parseInt(navColor)}\r\n                   className={classes.btnNav}\r\n                   variant=\"outlined\"\r\n                   style={{ borderRadius: 20, marginBottom: 5 }}\r\n                 >\r\n                   Đăng nhập\r\n                 </ColorOutlineButton>\r\n                 <ColorButton\r\n                   mainColor={mainColor}\r\n                   navColor={parseInt(navColor)}\r\n                   className={classes.btnNav}\r\n                   variant=\"contained\"\r\n                   color=\"secondary\"\r\n                   style={{\r\n                     borderRadius: 20,\r\n                     marginLeft: 10,\r\n                     marginBottom: 5,\r\n                   }}\r\n                 >\r\n                   Đăng ký\r\n                 </ColorButton>\r\n                 </>\r\n                  : \r\n                  <AccountCircleRoundedIcon  style={{width:40, height:40, color:parseInt(navColor) === 0? mainColor:\"#fff\"}}/>\r\n                  }\r\n                   {parseInt(buttonCart) === 1 ? \r\n                    <div style={{backgroundColor:parseInt(navColor) === 0? mainColor:'#fff',width:37, height:37,marginTop:2,paddingTop:7, paddingLeft:7,borderRadius:40,marginLeft:15}}\r\n                   \r\n                    >\r\n                      <Tooltip title=\"Giỏ hàng\">\r\n                        <StyledBadge color=\"error\" badgeContent={3}>\r\n                          <ShoppingCartIcon  style={{color:parseInt(navColor) === 0?\"#fff\":mainColor}}/>\r\n                        </StyledBadge>\r\n                      </Tooltip>\r\n                  </div>\r\n                 :null\r\n                  }\r\n                 \r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n            \r\n        </Toolbar>\r\n        {parseInt(web.navBar.buttonCart) === 0 ?\r\n          <div style={{ flexGrow: 1,textAlign: \"right\",marginTop:15}}>\r\n            <Fab\r\n            aria-label=\"add\"\r\n            className={classes.btn}\r\n            >\r\n            <ButtonBase size=\"large\" style={{ margin: 10 }}>\r\n              <StyledBadge color=\"error\" badgeContent={3}>\r\n                <ShoppingCartTwoToneIcon />\r\n              </StyledBadge>\r\n            </ButtonBase>\r\n          </Fab>\r\n        </div>:null\r\n        }\r\n\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default NavBarSetting\r\n\r\n\r\nconst StyledBadge = styled(Badge)(({ theme }) => ({\r\n    \"& .MuiBadge-badge\": {\r\n      border: `1px solid #000`,\r\n      padding: \"0 4px\",\r\n    },\r\n  }));","export default __webpack_public_path__ + \"static/media/tradao.ab1f6f7e.jpeg\";","import React,{useEffect,useState,useRef} from 'react'\r\nimport { Typography,Box,Toolbar,Fab,Button,Badge,Select,CardActionArea,CardMedia,CardContent,MenuItem,InputAdornment,FormControlLabel,FormLabel,CardHeader,IconButton,Collapse,FormControl,RadioGroup,TextField, ListItem,Card, Radio,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport { useTheme, makeStyles,styled ,lighten,darken} from \"@material-ui/core/styles\";\r\nimport AccountCircleRoundedIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport {ColorButton,ColorOutlineButton} from \"../../../../components/Button/ColorButton\"\r\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\r\nimport { ThousandSeperatedInput } from '../../../../components/TextField/NumberFormatCustom';\r\nimport clsx from \"clsx\";\r\nimport { Link } from \"react-router-dom\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n// import InfoComponent from \"../../../../pages/CustomerPage/ProductPage/ProductList/ProductList\"\r\nimport InventoryList from '../../../../assets/JsonData/inventory.json'\r\nimport icon from '../../../../assets/img/product/tradao.jpeg';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\nimport {ColorOutlineButtonCart} from \"../../../../components/Button/ColorButton\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    toolBar: {\r\n        // background: theme.palette.background.paper,\r\n        color: theme.customization.themeGreyText,\r\n        border:'1px solid #b6b6b6'\r\n    },\r\n    btnNav: {\r\n        textTransform: \"none\",\r\n        marginRight: 10,\r\n    }, \r\n    btn: {\r\n        boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\r\n        backgroundColor: \"#ffe57f\",\r\n        borderRadius: \"10px 0px 0px 10px\",\r\n        \"&:hover\": {\r\n          backgroundColor: \"#ffcf10\",\r\n        },\r\n        height: 60,\r\n        width: 60,\r\n       \r\n      },\r\n      swatch: {\r\n        padding: '5px',\r\n        background: '#fff',\r\n        borderRadius: '1px',\r\n        boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n        display: 'inline-block',\r\n        cursor: 'pointer',\r\n      },  \r\n}));\r\n\r\n\r\nconst ProductSetting = ({web,handleChangeListProduct,setWeb}) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const {mainColor, priceStyle,btnStyle,isMargin,border,alignCenter,nameStyle,isBox,marginContainer,boxDistance} = web.listProduct;\r\n     //customization \r\n\r\n    let  numOfItemInRow=5;\r\n     let widthSize = `${((100-marginContainer*2 )/numOfItemInRow)-boxDistance*2}vw`\r\n     function handleColor (type) {\r\n         if(type===0){return theme.heading}\r\n         else if (type===1){return theme.darkTextPrimary }\r\n         else{return mainColor}\r\n     }\r\n     console.log(\"nameStyle\",nameStyle)\r\n     const nameColor = handleColor(nameStyle[0])\r\n     const nameSize = nameStyle[1]?\"h4\":\"h5\";\r\n     const nameBold = nameStyle[2]? 600:500;\r\n     const nameLineClass = nameStyle[3]?classes.multiLineEllipsis:classes.oneLineEllipsis\r\n     const priceColor = handleColor(priceStyle[0])\r\n     const priceSize =priceStyle[1]?16:14\r\n     const priceBold = priceStyle[2]?600:400\r\n     \r\n\r\n  \r\n   \r\n    const handleChangeNavBarIndex = (event, index)=>{\r\n        var newWeb = {...web};\r\n        newWeb.navBar.textNav[index] = event.target.value;\r\n        setWeb(newWeb)\r\n    }\r\n      \r\n    return (\r\n        <>\r\n       <Grid container spacing={8}>\r\n           <Grid item>\r\n           <Typography style={{fontWeight:500, marginRight:20, color:\"#000\",fontSize:15}}>Tên sản phẩm: </Typography>\r\n                <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n                    <Typography style={{fontWeight:500, marginRight:20}}>Màu chữ </Typography>\r\n                    <FormControl component=\"fieldset\">\r\n                        <RadioGroup name=\"textNav\" value={web.navBar.textNav[0]} onChange={(event)=>{}}>\r\n                        <div>\r\n                            <FormControlLabel value={\"0\"} control={<Radio color=\"primary\" />} label=\"Đen\" />\r\n                            <FormControlLabel value={\"1\"} control={<Radio color=\"primary\"/>} label=\"Màu chính\" />\r\n                        </div>\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </ListItem>\r\n                <ListItem style={{margin:0, padding:0,marginBottom:15}}>\r\n                    <Typography style={{fontWeight:500, marginRight:20,width:60 }}>Cỡ chữ </Typography>\r\n                    <Grid container  >\r\n                        <Grid item className={classes.swatch} style={{width:40}}><ThousandSeperatedInput value={web.navBar.textNav[1]} onChange={(event)=>{}}/></Grid>\r\n                        <Grid item className={classes.swatch} style={{width:30, backgroundColor:\"#E4E4E4\"}}>px</Grid>\r\n                    </Grid>\r\n                </ListItem>\r\n                <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n                    <Typography style={{fontWeight:500, marginRight:20}}>Độ dày </Typography>\r\n                    <FormControl size=\"small\" variant=\"outlined\" className={classes.formControl} >\r\n                        <Select\r\n                            value={web.navBar.textNav[2]}\r\n                            onChange={(event)=>{}}\r\n                            >\r\n                            <MenuItem value={300}>300</MenuItem>\r\n                            <MenuItem value={400}>400</MenuItem>\r\n                            <MenuItem value={500}>500</MenuItem>\r\n                            <MenuItem value={600}>600</MenuItem>\r\n                            <MenuItem value={700}>700</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                </ListItem>\r\n           </Grid>\r\n           <Grid item >\r\n           <Typography style={{fontWeight:500, marginRight:20, color:\"#000\",fontSize:15}}>Giá sản phẩm: </Typography>\r\n                <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n                    <Typography style={{fontWeight:500, marginRight:20}}>Màu số </Typography>\r\n                    <FormControl component=\"fieldset\">\r\n                        <RadioGroup name=\"textNav\" value={web.navBar.textNav[0]} onChange={(event)=>{}}>\r\n                        <div>\r\n                            <FormControlLabel value={\"0\"} control={<Radio color=\"primary\" />} label=\"Đen\" />\r\n                            <FormControlLabel value={\"1\"} control={<Radio color=\"primary\"/>} label=\"Màu chính\" />\r\n                        </div>\r\n                        </RadioGroup>\r\n                    </FormControl>\r\n                </ListItem>\r\n                <ListItem style={{margin:0, padding:0,marginBottom:15}}>\r\n                    <Typography style={{fontWeight:500, marginRight:20,width:55 }}>Cỡ số </Typography>\r\n                    <Grid container  >\r\n                        <Grid item className={classes.swatch} style={{width:40}}><ThousandSeperatedInput value={web.navBar.textNav[1]} onChange={(event)=>{}}/></Grid>\r\n                        <Grid item className={classes.swatch} style={{width:30, backgroundColor:\"#E4E4E4\"}}>px</Grid>\r\n                    </Grid>\r\n                </ListItem>\r\n                <ListItem style={{margin:0, padding:0, marginBottom:8}}>\r\n                    <Typography style={{fontWeight:500, marginRight:20}}>Độ dày </Typography>\r\n                    <FormControl size=\"small\" variant=\"outlined\" className={classes.formControl} >\r\n                        <Select\r\n                            value={web.navBar.textNav[2]}\r\n                            onChange={(event)=>{}}\r\n                            >\r\n                            <MenuItem value={300}>300</MenuItem>\r\n                            <MenuItem value={400}>400</MenuItem>\r\n                            <MenuItem value={500}>500</MenuItem>\r\n                            <MenuItem value={600}>600</MenuItem>\r\n                            <MenuItem value={700}>700</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                </ListItem>\r\n           </Grid>\r\n       </Grid>\r\n\r\n        {/* Mẫu */}\r\n        <Box   className={classes.container} style={{backgroundColor:'pink',marginLeft:`${marginContainer}vw`,marginRight:`${marginContainer}vw`,}}>\r\n\r\n            <Grid container direction=\"row\" spacing={2} justifyContent=\"center\" >\r\n             {\r\n             InventoryList?.map((item,index)=>{\r\n                 return( \r\n                     <>\r\n                     {isBox?\r\n                     <Card  className={clsx(classes.hoverCard,classes.item,classes.colorCard)} style={{margin:`${boxDistance}%`, width:widthSize, borderRadius:border?7:0}} >\r\n                        <CardActionArea >\r\n                            <CardMedia\r\n                                style={{height:widthSize, margin:isMargin?10:0, marginBottom:isMargin?-5:0, borderRadius:border&& isMargin ?7:0}}\r\n                                image={icon}\r\n                            />\r\n                            <Box style={{marginTop:10}}>\r\n                                <CardContent>\r\n                                    < InfoComponent  item={item} mainColor={mainColor} btnStyle={btnStyle} alignCenter={alignCenter} nameColor={nameColor} priceColor={priceColor} nameSize={nameSize} nameBold={nameBold} nameLineClass={nameLineClass} priceBold={priceBold}priceSize={priceSize} />\r\n                                </CardContent>   \r\n                            </Box>\r\n                        </CardActionArea>\r\n                    </Card> :\r\n                    <Box  className={clsx(/*classes.hoverCard,*/classes.item)} style={{margin:`${boxDistance}%`,width:widthSize, borderRadius:border?7:0}} >\r\n                        <CardActionArea >\r\n                            <CardMedia\r\n                                style={{height:widthSize, margin:isMargin?10:0, marginBottom:isMargin?-5:0, borderRadius:border?7:0}}\r\n                                image={icon}\r\n                            />\r\n                            <Box style={{marginTop:10}}>\r\n                                {isMargin? \r\n                                <CardContent>\r\n                                    < InfoComponent item={item} mainColor={mainColor} btnStyle={btnStyle} alignCenter={alignCenter} nameColor={nameColor} priceColor={priceColor} nameSize={nameSize} nameBold={nameBold} nameLineClass={nameLineClass} priceBold={priceBold}priceSize={priceSize} />\r\n                                </CardContent>\r\n                                :\r\n                                < InfoComponent  item={item} mainColor={mainColor} btnStyle={btnStyle} alignCenter={alignCenter} nameColor={nameColor} priceColor={priceColor} nameSize={nameSize} nameBold={nameBold} nameLineClass={nameLineClass} priceBold={priceBold}priceSize={priceSize} />\r\n                            }    \r\n                            </Box>\r\n                        </CardActionArea>\r\n                    </Box>\r\n                     } \r\n                </>\r\n                )\r\n             }\r\n             )\r\n             }\r\n            </Grid>\r\n        </Box>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductSetting\r\n\r\n\r\nconst InfoComponent = (props)=>{\r\n    const {openPopUp,item,mainColor,btnStyle,alignCenter, nameColor,priceColor,nameSize,nameBold,nameLineClass,priceSize,priceBold} = props;\r\n   \r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n        <>\r\n        <Typography gutterBottom variant={nameSize}className={clsx( nameLineClass, classes.name, alignCenter && classes.alignCenter)} style={{color:nameColor, fontWeight:nameBold}}>\r\n        {item.name}\r\n        </Typography>\r\n        {\r\n            !alignCenter && !btnStyle[1]? \r\n            <Grid container direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" style={{marginBottom:-9}}>\r\n                <Grid item>\r\n                    <Typography variant=\"body2\" style={{color:priceColor, fontWeight:priceBold, fontSize:priceSize}}  >\r\n                        {item.price}.000đ\r\n                    </Typography>\r\n                \r\n                </Grid>\r\n                {btnStyle[0]?\r\n                    <Grid item>\r\n                        <IconButton size=\"small\"  style={{color:'#fff', background:mainColor}} \r\n                            // Stop Ripple Effect\r\n                            onTouchStart={(event) => event.stopPropagation()}\r\n                            onMouseDown={(event) => event.stopPropagation()}\r\n                            onClick={(event) => {\r\n                                // Prevent CardActionArea Click\r\n                                event.preventDefault()\r\n                                openPopUp(item);\r\n                            }}\r\n                        >\r\n                            <AddIcon fontSize=\"small\"/>\r\n                        </IconButton>\r\n                    </Grid> :null }\r\n\r\n            </Grid>\r\n            :\r\n            <>\r\n            <Typography   className={alignCenter &&classes.alignCenter} style={{color:priceColor, fontWeight:priceBold, fontSize:priceSize}} >\r\n                {item.price}.000đ\r\n            </Typography>\r\n\r\n            {btnStyle[0]?\r\n            <ColorOutlineButtonCart variant=\"outlined\" fullWidth mainColor={mainColor} \r\n                onClick={(event) => {\r\n                    // Prevent CardActionArea Click\r\n                    event.preventDefault()\r\n                    openPopUp(item);\r\n                }}\r\n                >\r\n                Giỏ hàng\r\n            </ColorOutlineButtonCart>   \r\n            \r\n            :null }\r\n            </>\r\n        }\r\n        </>\r\n    )\r\n}\r\n","import { useTheme,withStyles, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nexport const useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      padding: 18,\r\n    },\r\n    headerTitle: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n      marginTop: 10,\r\n      marginLeft: 40,\r\n      marginBottom:15\r\n    },\r\n     color: {\r\n        width: '36px',\r\n        height: '14px',\r\n        borderRadius: '2px',\r\n      },\r\n      swatch: {\r\n        padding: '5px',\r\n        background: '#fff',\r\n        borderRadius: '1px',\r\n        boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n        display: 'inline-block',\r\n        cursor: 'pointer',\r\n      },\r\n      popover: {\r\n        position: 'absolute',\r\n        zIndex: '2',\r\n      },\r\n      cover: {\r\n        position: 'fixed',\r\n        top: '0px',\r\n        right: '0px',\r\n        bottom: '0px',\r\n        left: '0px',\r\n      },\r\n      color: {\r\n        width: '17px',\r\n        height: '17px',\r\n        borderRadius: '2px',\r\n      },\r\n      swatch: {\r\n        padding: '5px',\r\n        background: '#fff',\r\n        borderRadius: '1px',\r\n        boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n        display: 'inline-block',\r\n        cursor: 'pointer',\r\n      },\r\n      popover: {\r\n        position: 'absolute',\r\n        zIndex: '2',\r\n      },\r\n      cover: {\r\n        position: 'fixed',\r\n        top: '0px',\r\n        right: '0px',\r\n        bottom: '0px',\r\n        left: '0px',\r\n      },\r\n      expand: {\r\n        transform: 'rotate(0deg)',\r\n        marginLeft: 'auto',\r\n        transition: theme.transitions.create('transform', {\r\n          duration: theme.transitions.duration.shortest,\r\n        }),\r\n      },\r\n      expandOpen: {\r\n        transform: 'rotate(180deg)',\r\n      },\r\n      attrHead:{\r\n        backgroundColor:\"#E4E4E4\", height:40, color:\"#000\"\r\n      },\r\n      attrCard:{\r\n        marginBottom:15\r\n      }\r\n  \r\n  })\r\n);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  useTheme,\r\n  withStyles,\r\n  makeStyles,\r\n  createStyles,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n  Button,\r\n  Typography,\r\n  InputAdornment,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  CardHeader,\r\n  IconButton,\r\n  Collapse,\r\n  FormControl,\r\n  RadioGroup,\r\n  TextField,\r\n  ListItem,\r\n  Card,\r\n  Radio,\r\n  Grid,\r\n  ButtonBase,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport LanguageIcon from \"@material-ui/icons/Language\";\r\nimport LinkIcon from \"@material-ui/icons/Link\";\r\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { SketchPicker } from \"react-color\";\r\nimport clsx from \"clsx\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n// import NavBar from \"../../../../pages/CustomerPage/NavBar/\"\r\nimport NavBarSetting from \"./NavBarSetting\";\r\nimport ProductSetting from \"./ProductSetting\";\r\nimport { useStyles } from \"./style\";\r\nimport { useSelector } from \"react-redux\";\r\nimport storeApi from \"../../../../api/storeApi\";\r\nimport openNotification from \"../../../../components/StatusPopup/StatusPopup\";\r\nconst WebSetting = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const domainName = \"http://localhost:3000/#/store/\";\r\n\r\n  // api\r\n  var logoStore =\r\n    \"https://cdn.mykiot.vn/2021/11/c3fa6fc1ceef1d611cd9c7ed256db621e1814ba175dd832a37ffb6cc8e43bd6d.jpg\";\r\n  const webInfo = {\r\n    webAddress: \"lyquochai\",\r\n    status: \"inactive\",\r\n    mainColor: { r: \"250\", g: \"140\", b: \"22\", a: \"1\", hex: \"#fa8c16\" }, //#f2a5ae , //#fa8c16\"       // mainColor: {  r: '242', g: '165', b: '174',  a: '1', hex:'#fa8c16'},\r\n    bgColor: { r: \"255\", g: \"255\", b: \"255\", a: \"1\", hex: \"#ffffff\" },\r\n    navBar: {\r\n      buttonLogin: \"0\", // 0: nut, 1:icon\r\n      buttonCart: \"0\", //0: special, 1: normal\r\n      navColor: \"1\", //0:white, 1- maincolor\r\n      textNav: [\"1\", 17, 600], //0-left 1-right //color: black-white-grey-maincolor, size: small - large(16):,  bold:no() -yes (600)\r\n    },\r\n    listProduct: {\r\n      priceStyle: [0, 0, 0], //0-left 1-right //color: normal-maincolor , size: small - large(16), bold:no() -yes (600)\r\n      nameStyle: [0, 1, 0, 0], //0-left 1-right //color: normal-maincolor , size: small - large(16), bold:no() -yes (600), maxNumberOFline: 1-2\r\n      btnStyle: [1, 0], //0-left 1-right //haveBtn: no-yes, style:circle - box\r\n      isBox: true,\r\n      isMargin: true,\r\n      border: true,\r\n      alignCenter: false,\r\n      marginContainer: 0,\r\n      boxDistance: 1,\r\n      // marginContainer:10,\r\n      // boxDistance:2,\r\n    },\r\n  };\r\n\r\n  const [web, setWeb] = React.useState(webInfo);\r\n  const [displayColorPicker, setDisplayColorPicker] = React.useState(false);\r\n  const [displayColorPicker1, setDisplayColorPicker1] = React.useState(false);\r\n  const [openLinkWarningPopup, seOpenLinkWarningPopup] = React.useState(false);\r\n\r\n  // redux\r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      const response = await storeApi.getStoreInfo(store_uuid);\r\n      if (response.data.web_configuration) {\r\n        setWeb(JSON.parse(response.data.web_configuration));\r\n      }\r\n    };\r\n\r\n    if (store_uuid) {\r\n      loadData();\r\n    }\r\n  }, [store_uuid]);\r\n\r\n  // 1.\r\n\r\n  const handleWebAddress = (e) => {\r\n    var newWeb = { ...web };\r\n    newWeb.webAddress = e.target.value;\r\n    setWeb(newWeb);\r\n  };\r\n\r\n  const openLinkTab = () => {\r\n    if (web.status === \"active\" && webInfo.webAddress.length !== 0) {\r\n      window.open(domainName + web.webAddress);\r\n    } else {\r\n      seOpenLinkWarningPopup(true);\r\n    }\r\n  };\r\n\r\n  // 2.\r\n  const handleChangeMainColor = (color) => {\r\n    var newWeb = { ...web };\r\n    console.log(color.rgb);\r\n    newWeb.mainColor.r = color.rgb.r;\r\n    newWeb.mainColor.g = color.rgb.g;\r\n    newWeb.mainColor.b = color.rgb.b;\r\n    newWeb.mainColor.a = color.rgb.a;\r\n    newWeb.mainColor.hex = color.hex;\r\n    setWeb(newWeb);\r\n  };\r\n  const handleChangeBgColor = (color) => {\r\n    var newWeb = { ...web };\r\n    newWeb.bgColor.r = color.rgb.r;\r\n    newWeb.bgColor.g = color.rgb.g;\r\n    newWeb.bgColor.b = color.rgb.b;\r\n    newWeb.bgColor.a = color.rgb.a;\r\n    newWeb.bgColor.hex = color.hex;\r\n    setWeb(newWeb);\r\n  };\r\n\r\n  // 3.\r\n  const [expandedNavBar, setExpandedNavBar] = React.useState(false);\r\n  const [expandedListProduct, setExpandedListProduct] = React.useState(false);\r\n  const [expandedDetailProduct, setExpandedDetailProduct] =\r\n    React.useState(false);\r\n  const [expandedCart, setExpandedCart] = React.useState(false);\r\n  const [expandedMainPage, setExpandedMainPage] = React.useState(false);\r\n\r\n  const handleChangeNavBar = (event) => {\r\n    const { name, value } = event.target;\r\n    console.log(\"web\", web);\r\n    setWeb((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        navBar: {\r\n          ...prevState[\"navBar\"],\r\n          [name]: value,\r\n        },\r\n      };\r\n    });\r\n  };\r\n  const handleChangeListProduct = (event) => {\r\n    const { name, value } = event.target;\r\n    console.log(\"web\", web);\r\n    setWeb((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        listProduct: {\r\n          ...prevState[\"listProduct\"],\r\n          [name]: value,\r\n        },\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Typography className={classes.headerTitle} variant=\"h2\">\r\n        Trang web\r\n      </Typography>\r\n\r\n      {/* 1.Địa chỉ trang web */}\r\n      <Typography\r\n        style={{ fontWeight: 500, marginRight: 10, marginBottom: 10 }}\r\n      >\r\n        Địa chỉ trang web:{\" \"}\r\n      </Typography>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          height: 45,\r\n          marginBottom: 20,\r\n          border: \"1px solid #b8b8b8\",\r\n          borderRadius: 15,\r\n          padding: 1,\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <LanguageIcon style={{ color: grey[700], margin: 10 }} />\r\n        <Typography>{domainName}</Typography>\r\n        <input\r\n          value={web.webAddress}\r\n          onChange={(e) => {\r\n            handleWebAddress(e);\r\n          }}\r\n          placeholder=\"Tên_cửa_hàng\"\r\n          style={{\r\n            border: 0,\r\n            outline: 0,\r\n            color: theme.customization.primaryColor[500],\r\n            fontWeight: 700,\r\n          }}\r\n        />\r\n\r\n        <Grid item container direction=\"row\" justifyContent=\"flex-end\">\r\n          <Tooltip title=\"Xem trang web\">\r\n            <LinkIcon\r\n              style={{ textAlign: \"left\", marginRight: 10 }}\r\n              onClick={() => openLinkTab()}\r\n            />\r\n          </Tooltip>\r\n        </Grid>\r\n      </div>\r\n\r\n      {openLinkWarningPopup ? (\r\n        <ModalWrapperWithClose\r\n          title=\"Lỗi trang web\"\r\n          open={openLinkWarningPopup}\r\n          handleClose={() => {\r\n            seOpenLinkWarningPopup(false);\r\n          }}\r\n        >\r\n          Trang web khách hàng chưa được tạo hoặc đang trong trạng thái không\r\n          kích hoạt.\r\n        </ModalWrapperWithClose>\r\n      ) : null}\r\n\r\n      {/* 2.Tổng quan */}\r\n      <ListItem style={{ padding: 0, margin: 0, marginBottom: 10 }}>\r\n        <Typography style={{ fontWeight: 500, marginRight: 10 }}>\r\n          Màu chính:{\" \"}\r\n        </Typography>\r\n        <div>\r\n          <Grid\r\n            container\r\n            onClick={() => setDisplayColorPicker(!displayColorPicker)}\r\n          >\r\n            <Grid item className={classes.swatch}>\r\n              <div\r\n                style={{\r\n                  width: 18,\r\n                  height: 18,\r\n                  background: `rgba(${web.mainColor.r}, ${web.mainColor.g}, ${web.mainColor.b}, ${web.mainColor.a})`,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item className={classes.swatch} style={{ width: 70 }}>\r\n              {web.mainColor.hex}\r\n            </Grid>\r\n            <Grid item className={classes.swatch}>\r\n              {web.mainColor.a * 100} %\r\n            </Grid>\r\n          </Grid>\r\n          {displayColorPicker ? (\r\n            <div className={classes.popover}>\r\n              <div\r\n                className={classes.cover}\r\n                onClick={() => setDisplayColorPicker(false)}\r\n              />\r\n              <SketchPicker\r\n                color={{\r\n                  r: web.mainColor.r,\r\n                  g: web.mainColor.g,\r\n                  b: web.mainColor.b,\r\n                  a: web.mainColor.a,\r\n                }}\r\n                onChange={handleChangeMainColor}\r\n              />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </ListItem>\r\n\r\n      <ListItem style={{ padding: 0, margin: 0, marginBottom: 15 }}>\r\n        <Typography style={{ fontWeight: 500, marginRight: 20 }}>\r\n          Màu nền:{\" \"}\r\n        </Typography>\r\n        <div>\r\n          <Grid\r\n            container\r\n            onClick={() => setDisplayColorPicker1(!displayColorPicker1)}\r\n          >\r\n            <Grid item className={classes.swatch}>\r\n              <div\r\n                style={{\r\n                  width: 18,\r\n                  height: 18,\r\n                  background: `rgba(${web.bgColor.r}, ${web.bgColor.g}, ${web.bgColor.b}, ${web.bgColor.a})`,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item className={classes.swatch} style={{ width: 70 }}>\r\n              {web.bgColor.hex}\r\n            </Grid>\r\n            <Grid item className={classes.swatch}>\r\n              {web.bgColor.a * 100} %\r\n            </Grid>\r\n          </Grid>\r\n          {displayColorPicker1 ? (\r\n            <div className={classes.popover}>\r\n              <div\r\n                className={classes.cover}\r\n                onClick={() => setDisplayColorPicker1(false)}\r\n              />\r\n              <SketchPicker\r\n                color={{\r\n                  r: web.bgColor.r,\r\n                  g: web.bgColor.g,\r\n                  b: web.bgColor.b,\r\n                  a: web.bgColor.a,\r\n                }}\r\n                onChange={handleChangeBgColor}\r\n              />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </ListItem>\r\n\r\n      {/* 3.Thanh công cụ*/}\r\n      <SettingCollapse\r\n        title=\"Thanh công cụ\"\r\n        expand={expandedNavBar}\r\n        setExpanded={setExpandedNavBar}\r\n      >\r\n        <NavBarSetting\r\n          web={web}\r\n          handleChangeNavBar={handleChangeNavBar}\r\n          logo={logoStore}\r\n          setWeb={setWeb}\r\n        />\r\n      </SettingCollapse>\r\n\r\n      {/*4. Danh sách sản phẩm */}\r\n      <SettingCollapse\r\n        title=\"Danh sách sản phẩm\"\r\n        expand={expandedListProduct}\r\n        setExpanded={setExpandedListProduct}\r\n      >\r\n        <ProductSetting\r\n          web={web}\r\n          handleChangeListProduct={handleChangeListProduct}\r\n          setWeb={setWeb}\r\n        />\r\n      </SettingCollapse>\r\n      {/*5. Chi tiết sản phẩm */}\r\n      <SettingCollapse\r\n        title=\"Chi tiết sản phẩm\"\r\n        expand={expandedDetailProduct}\r\n        setExpanded={setExpandedDetailProduct}\r\n      >\r\n        Hello\r\n      </SettingCollapse>\r\n      {/*6. Giỏ hàng */}\r\n      <SettingCollapse\r\n        title=\"Giỏ hàng\"\r\n        expand={expandedCart}\r\n        setExpanded={setExpandedCart}\r\n      >\r\n        Hello\r\n      </SettingCollapse>\r\n\r\n      {/*7. Trang chính */}\r\n      <SettingCollapse\r\n        title=\"Trang chủ\"\r\n        expand={expandedMainPage}\r\n        setExpanded={setExpandedMainPage}\r\n      >\r\n        Hello\r\n      </SettingCollapse>\r\n\r\n      <Button\r\n        onClick={async () => {\r\n          try {\r\n            const response = storeApi.updateStoreInfo(store_uuid, {\r\n              web_configuration: JSON.stringify(web),\r\n            });\r\n            openNotification(\"success\", \"Lưu cài đặt chung thành công\");\r\n          } catch (err) {\r\n            console.log(err);\r\n            openNotification(\"success\", \"Lưu cài đặt chung thất bại\");\r\n          }\r\n        }}\r\n      >\r\n        Lưu thay đổi\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default WebSetting;\r\n\r\nconst SettingCollapse = (props) => {\r\n  const { expand, setExpanded, title } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  return (\r\n    <Card className={classes.attrCard}>\r\n      <CardHeader\r\n        onClick={() => setExpanded(!expand)}\r\n        action={\r\n          <IconButton\r\n            size=\"small\"\r\n            className={clsx(classes.expand, {\r\n              [classes.expandOpen]: expand,\r\n            })}\r\n            onClick={() => setExpanded(!expand)}\r\n          >\r\n            <ExpandMoreIcon />\r\n          </IconButton>\r\n        }\r\n        title={title}\r\n        className={classes.attrHead}\r\n      />\r\n      <Collapse\r\n        in={expand}\r\n        timeout=\"auto\"\r\n        unmountOnExit\r\n        style={{ padding: 10 }}\r\n      >\r\n        {props.children}\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport const CustomTextField = withStyles({\r\n  root: {\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": {\r\n        borderRadius: 14,\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n","import React, { useState } from \"react\";\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\n\r\nimport { useTheme, withStyles,makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { Typography,Divider, List,Card,ListItem,ListSubheader,ListItemSecondaryAction,Switch,ListItemIcon, ListItemAvatar,Avatar,ListItemText,Grid, ButtonBase, Tooltip } from \"@material-ui/core\";\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport WifiIcon from '@material-ui/icons/Wifi';\r\n\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\r\n      borderRadius: theme.customization.borderRadius,\r\n      color: \"#000000\",\r\n      padding: 18,\r\n    },\r\n    headerTitle: {\r\n   \r\n      marginTop: 10,\r\n      marginLeft: 20,\r\n    },\r\n  \r\n  })\r\n);\r\n\r\n\r\nconst EmailSetting = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [checked, setChecked] = React.useState({\r\n    createAccountCustomer:{\r\n      status:true,\r\n      content:''\r\n    },\r\n    notifyDebtCustomer:{\r\n      status:true,\r\n      content:''\r\n    },\r\n    sendVoucherCustomer:{\r\n      status:true,\r\n      content:''\r\n    },\r\n    buyOnlineCustomer:{\r\n      status:true,\r\n      content:''\r\n    },\r\n    completeBuyOnlineCustomer:{\r\n      status:true,\r\n      content:''\r\n    },\r\n    //\r\n    notifyCustomerNotBuyTooLong:{\r\n      status:true,\r\n      content:'voucher'\r\n    },\r\n    notifyDiscount:{\r\n      status:true,\r\n      content:''\r\n    },\r\n    sendDiscountVIPCustomer:{\r\n\r\n    },\r\n    //\r\n    createAccountEmployee:{\r\n      status:true,\r\n      content:''\r\n    },\r\n    \r\n  });\r\n\r\n  const handleToggle = (event) => {\r\n    const {name,checked} = event.target;\r\n    setChecked((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        [name]:{\r\n          ...prevState[name],\r\n          status:checked\r\n        },\r\n      };\r\n    });\r\n    //CALL API: Mỗi lần toggle là đẩy lên backend\r\n  };\r\n\r\n  const handleSubmit = (name,customerScore) =>{   \r\n    // close pop up && set switch\r\n  \r\n    setChecked((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        [name]:{\r\n          ...customerScore,\r\n          status:true\r\n        },\r\n      };\r\n    });\r\n\r\n    // CALL API ĐẨY LÊN BACK END HERE....\r\n\r\n\r\n    // snackbar noti submit thành công\r\n\r\n  }\r\n\r\n\r\n  const [value, setValue] = useState('');\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n       <Typography className={classes.headerTitle} variant=\"h3\">\r\n            Email\r\n        </Typography>\r\n        <ReactQuill style={{minHeight:300, borderRaidus:5}} theme=\"snow\" value={value} onChange={setValue}  modules={modules} formats={formats}  placeholder={'Write something...'}/>\r\n\r\n    </Card>\r\n\r\n  );\r\n};\r\nconst modules = {\r\n  toolbar: [\r\n    [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\r\n    [{size: []}],\r\n    [{ align: '' }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\r\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n    [{'color':[]}],\r\n    [{'background':[]}],\r\n    [{'list': 'ordered'}, {'list': 'bullet'}, \r\n     {'indent': '-1'}, {'indent': '+1'}],\r\n    ['link', 'image', 'video'],\r\n    ['clean'],\r\n    \r\n  ],\r\n  clipboard: {\r\n    // toggle to add extra line breaks when pasting HTML:\r\n    matchVisual: false,\r\n  }\r\n}\r\nconst formats = [\r\n  'header', 'font', 'size',\r\n  'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n  'list', 'bullet', 'indent',\r\n  'link', 'image', 'video','color','background'\r\n]\r\n\r\n\r\nexport default EmailSetting;\r\n","import React from 'react'\r\nimport {\r\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\r\n\r\nconst drawerWidth = 300;\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    \r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n      padding:15\r\n    },\r\n    textField:{marginBottom:10},\r\n    text:{marginBottom:10,marginTop:15}\r\n  })\r\n);\r\nconst CustomerFilter = (props) => {\r\n    const {handleToggleFilter,openFilter} =props;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n    <Drawer\r\n        anchor=\"right\"\r\n        onClose={handleToggleFilter}\r\n        open={openFilter}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n        className={classes.drawer}\r\n      >\r\n        {/*date_of_birth, gender,status  */}\r\n        {/*1. Tổng tiền from -to */}\r\n        <Typography variant=\"h5\"className={classes.text} >Tiền hoá đơn:</Typography>\r\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\r\n        //  value={productInfo.importedPrice}\r\n        // onChange={(e) =>\r\n        //   setProductInfo({\r\n        //     ...productInfo,\r\n        //     importedPrice: e.target.value,\r\n        //   })\r\n        // }\r\n      />\r\n\r\n        {/* 2. Trạng thái */}\r\n        <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\r\n      <FormControl\r\n          className={classes.formControl}\r\n          fullWidth\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n        >\r\n      <Select\r\n        labelId=\"demo-simple-select-outlined-label\"\r\n        id=\"demo-simple-select-outlined\"\r\n        size=\"small\"\r\n        // onChange={(event) => { setGender(event.target.value) }}\r\n        // label=\" Chi nhánh\"\r\n        // value={gender}\r\n      >\r\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\r\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\r\n      </Select>\r\n      </FormControl>\r\n\r\n        {/*3. Ngày tao from -to  */}\r\n        <Typography variant=\"h5\"className={classes.text} >Ngày tạo:</Typography>\r\n        <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n        />\r\n        <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\r\n        />\r\n\r\n\r\n        {/* địa chỉ ??  */}\r\n        \r\n        {/* Ngung hoat dong ??  */}\r\n\r\n\r\n         {/* BUTTON */}\r\n      <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\r\n           Lọc\r\n      </Button>\r\n\r\n          \r\n    </Drawer>\r\n    )\r\n}\r\n\r\nexport default CustomerFilter\r\n\r\n","import React from 'react'\r\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\r\nimport clsx from \"clsx\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nimport {TableCell,TableRow,Avatar,ListItem,Typography} from '@material-ui/core';\r\n\r\n\r\nimport {FormatedStatus} from '../../../../components/TableCommon/util/format'\r\nimport CustomerDetail from './CustomerDetail/CustomerDetail'\r\n\r\nimport ava from '../../../../assets/img/product/lyimg.jpeg';\r\nimport { VNDFormat, ThousandFormat } from '../../../../components/TextField/NumberFormatCustom';\r\n\r\nconst CustomerTableRow = (props) => {\r\n    const { row, handleOpenRow,openRow ,onReload} = props;\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n        <>\r\n        {/* ROW */}\r\n            <TableRow\r\n            onClick={() => handleOpenRow(row.uuid)}   \r\n            key={row.uuid}\r\n            className={ clsx(classes.row,(openRow === row.uuid) ? classes.rowClicked : null)}\r\n            >\r\n                <TableCell align=\"left\">{row.customer_code}</TableCell>\r\n                {/* <TableCell align=\"left\">{row.id}</TableCell> */}\r\n                <TableCell align=\"left\" style={{minWidth:200}} >\r\n                    <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}>\r\n                        <Avatar alt=\"Remy Sharp\" src={ava} style={{marginRight:20}} className={classes.ava} />\r\n                        <Typography className={classes.fontName}>{row.name}</Typography>\r\n                    </ListItem>  \r\n                </TableCell>\r\n\r\n                <TableCell align=\"left\">{row.phone}</TableCell>\r\n                <TableCell align=\"right\" ><ThousandFormat value={row.points} /></TableCell> \r\n                <TableCell align=\"center\" >\r\n                    <FormatedStatus debt={row.debt} />     \r\n                </TableCell>\r\n            </TableRow>\r\n\r\n        {/* DETAIL */}\r\n            <TableRow>\r\n              {/* colspan  => số cột trong collapse */}\r\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \r\n                    <CustomerDetail parentProps={props}/>       \r\n              </TableCell>\r\n       \r\n            </TableRow>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CustomerTableRow\r\n","import React, {useState, useEffect,useRef} from 'react'\r\nimport {useTheme} from \"@material-ui/core/styles\";\r\n//import style\r\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import lib\r\nimport {Typography,Card, Button,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody} from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useReactToPrint } from \"react-to-print\";\r\n//import api \r\nimport customerApi from '../../../api/customerApi'\r\nimport { useSelector } from 'react-redux'\r\n\r\n//import constant\r\nimport * as HeadCells from '../../../assets/constant/tableHead'\r\nimport *  as TableType from '../../../assets/constant/tableType'\r\n\r\n////import project\r\n//riêng\r\nimport AddCustomer from './AddCustomer/AddCustomer'\r\nimport CustomerFilter from './CustomerTool/CustomerFilter'\r\n\r\nimport CustomerTableRow from './CustomerTableRow/CustomerTableRow'\r\n//chung\r\nimport SnackBar from '../../../components/SnackBar/SnackBar'\r\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport ToolBar from '../../../components/TableCommon/ToolBar/ToolBar'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\n\r\n\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport {PartnerMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\r\nimport ava from '../../../assets/img/product/lyimg.jpeg';\r\n\r\n\r\nconst Customer = () => {\r\n    const [customerList, setCustomerList] = useState([]);\r\n    const [reload, setReload] = useState(false);\r\n\r\n    const onReload = () => setReload(!reload)\r\n    \r\n    const info = useSelector(state => state.info)\r\n    const store_uuid = info.store.uuid\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n\r\n\r\n    //// 1. Add pop up + noti\r\n    //add\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n      setOpen(true);\r\n    };\r\n\r\n    const handleClose = (status) => {\r\n      setOpen(false);\r\n      setAddStatus(status);\r\n      if(status === \"Success\"){\r\n        onReload();\r\n        setOpenBar(true);\r\n      }else if (status === \"Fail\"){\r\n        setOpenBar(true);\r\n      }\r\n    };\r\n\r\n    //status add\r\n    const [addStatus, setAddStatus] = React.useState(null);\r\n    \r\n    //noti\r\n    const [openBar, setOpenBar] = React.useState(false);\r\n    const handleCloseBar = () => {\r\n      setOpenBar(false)\r\n    };\r\n\r\n    //// 2. Table\r\n  \r\n    //collapse\r\n    const [openRow, setRowOpen] = React.useState(null);\r\n    const handleOpenRow = (row) => {\r\n        if (row !==  openRow){setRowOpen(row);}\r\n        else{setRowOpen(null)}  \r\n    };\r\n\r\n    // header sort \r\n    const [order, setOrder] = React.useState('asc');\r\n    const [orderBy, setOrderBy] = React.useState('id');\r\n    \r\n    const handleRequestSort = (event, property) => {\r\n      //// (gửi order vs orderBy lên api) -> fetch lại data để sort\r\n      // const isAsc = orderBy === property && order === 'asc';\r\n      // setOrder(isAsc ? 'desc' : 'asc');\r\n      // setOrderBy(property);\r\n    };\r\n\r\n    //3. ToolBar\r\n\r\n    // toolbar\r\n    const componentRef = useRef();\r\n    const handlePrint = useReactToPrint({\r\n        content: () => componentRef.current,\r\n    });\r\n    //3.1. search\r\n\r\n    //3.2. filter\r\n    const [openFilter, setOpenFilter] = React.useState(false);\r\n    const handleToggleFilter = () => {\r\n      setOpenFilter(!openFilter);\r\n    };\r\n\r\n    //3.3. loc cot\r\n\r\n    const initialQuery = {\r\n      orderBy: 'customers.created_at',\r\n      sort: 'desc',\r\n      searchKey: '',\r\n    };\r\n    const handleRemoveFilter = (initialQuery) => {\r\n      setQuery(initialQuery)\r\n    }\r\n    const [query, setQuery] = useState(initialQuery)\r\n    const [pagingState, setPagingState] = useState({\r\n      page: 0,\r\n      limit: 10,\r\n    });\r\n  \r\n    const [totalRows, setTotalRows] = useState(0)\r\n    useEffect(() => {\r\n      setPagingState({...pagingState, page: 0})\r\n    }, [reload, store_uuid, query])\r\n  \r\n    useEffect(() => {\r\n      const loadData = async () => {\r\n        try {\r\n          const response = await customerApi.getCustomers(store_uuid, {\r\n            page: pagingState.page,\r\n            limit: pagingState.limit,\r\n            ...query\r\n          });\r\n          setTotalRows(response.total_rows)\r\n          setCustomerList(response.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      };\r\n      if (store_uuid) {\r\n        loadData();\r\n      }\r\n    }, [pagingState.page, pagingState.limit,reload,query]);\r\n    return (\r\n\r\n    <Card className={classes.root} >\r\n        <Grid \r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"  \r\n        > \r\n            {/* 1. ADD POP UP */}\r\n              <Typography className={classes.headerTitle} variant=\"h5\">\r\n                    Khách hàng\r\n              </Typography>\r\n\r\n              <Grid className={classes.btngroup1} >\r\n                  <ButtonBase sx={{ borderRadius: '16px' }} \r\n                      onClick={handleClickOpen}\r\n                  >\r\n                  <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\r\n                      <Tooltip title='Thêm khách hàng'>\r\n                      <AddIcon stroke={1.5} size=\"1.3rem\" />\r\n                      </Tooltip>\r\n                  </Avatar>\r\n              </ButtonBase>\r\n            </Grid>\r\n        </Grid>\r\n\r\n        {/* Popup add */}\r\n       {open && <AddCustomer open={open} handleClose={handleClose} onReload={onReload} />}\r\n        {/* Noti */}\r\n        <SnackBar openBar={openBar} handleCloseBar={handleCloseBar} addStatus={addStatus}/>\r\n\r\n        \r\n        <Divider  openFilter={openFilter} handleToggleFilter={handleToggleFilter}/>\r\n        \r\n        {/* 2. SEARCH - FILTER - EXPORT*/}\r\n        {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\r\n        <ToolBar  \r\n          dataTable={customerList} \r\n          tableType={TableType.CUSTOMER} \r\n          textSearch={'#, Tên, sđt, email,...  '} /*handlePrint={handlePrint}*/ \r\n          handleToggleFilter={handleToggleFilter}  \r\n          handlePrint={handlePrint}\r\n          isOnlySearch={true}\r\n          handleRemoveFilter={handleRemoveFilter}\r\n          searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\r\n        />\r\n        \r\n        <CustomerFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/>\r\n        {/* 3. TABLE */}\r\n        {!xsScreen? <TableWrapper\r\n          pagingState={{...pagingState, total_rows: totalRows}}\r\n          setPagingState={setPagingState}\r\n        >\r\n            <TableHeader\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={handleRequestSort}\r\n              headerData={HeadCells.CustomerHeadCells}\r\n\r\n             \r\n            />\r\n            <TableBody>\r\n              {customerList?.map((row, index) => {\r\n                  return (\r\n                    <CustomerTableRow key={row.uuid} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} onReload={onReload}/>\r\n                  );\r\n              })}\r\n            </TableBody>\r\n        </TableWrapper>:\r\n        customerList?.map((row, index) => {\r\n          return (\r\n            <PartnerMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  onReload={onReload} \r\n            img={ava}  id={row.customer_code} name={row.name} phone={row.phone} score={10}\r\n            typePartner={\"Khách hàng\"}  />\r\n          );\r\n        })}\r\n\r\n        <div  style={{display:'none'}} >\r\n        <div ref={componentRef}  >\r\n        <ComponentToPrint  customerList={customerList} classes={classes}/>\r\n        </div>\r\n        \r\n      </div>\r\n      </Card>\r\n    )\r\n}\r\n\r\nexport default Customer\r\n\r\nconst ComponentToPrint = ({customerList,classes}) =>{\r\n  return (\r\n      <div >\r\n        <Typography style={{flexGrow: 1,textAlign: \"center\",fontSize:20, fontWeight:500, margin:30, color:'#000'}} >Danh sách khách hàng</Typography>\r\n        <div >\r\n          <TableHeader\r\n                classes={classes}\r\n                headerData={HeadCells.CustomerHeadCells}\r\n              />\r\n              <TableBody >\r\n                {customerList?.map((row, index) => {\r\n                  return (\r\n                    <CustomerTableRow\r\n                      key={row.uuid}\r\n                      row={row}\r\n                    \r\n                    />\r\n                  );\r\n                })}\r\n              </TableBody>\r\n        </div>\r\n  </div>\r\n  )\r\n}","import React from 'react'\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Card,Avatar,TableBody,TableRow,TableCell,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport ava from '../../../assets/img/product/lyimg.jpeg';\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n    headerTitle:{\r\n        fontSize: '1.125rem',\r\n      },\r\n      header:{\r\n        padding:20,\r\n     \r\n      },\r\n\r\n}));\r\n\r\nconst CustomerReport = (props) => {\r\n    const {customerSales} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    \r\n    return (\r\n        <Card>\r\n            <Grid container direction=\"row\"justifyContent=\"space-between\" alignItems=\"center\" className={classes.header} >\r\n                  <Grid item >\r\n                      <Typography className={classes.headerTitle} variant=\"h5\">\r\n                            Top 10 khách hàng\r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                        <Typography variant=\"h5\"  style={{cursor: 'pointer',color:'#1b74e4'}}>\r\n                            Xem chi tiết\r\n                        </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n              <TableWrapper isCart={true}>\r\n                <TableHeader\r\n                    classes={classes}\r\n                    headerData={CustomerHeadCells}\r\n                    notSort={true}\r\n                />\r\n                <TableBody>\r\n                {customerSales.map((row, index) => {\r\n                    return (\r\n                        <TableRow >\r\n                            {/* <TableCell align=\"left\">{index + 1}</TableCell> */}\r\n                            <TableCell align=\"left\" style={{minWidth:200}} >\r\n                                <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}>\r\n                                    <Typography className={classes.fontName} style={{marginRight:20}}>{index + 1}</Typography>\r\n                                    <Avatar alt=\"Remy Sharp\" src={ava} style={{marginRight:20}} className={classes.ava} />\r\n                                    <Typography className={classes.fontName}>{row.name}</Typography>\r\n                                </ListItem>  \r\n                            </TableCell>\r\n \r\n                            <TableCell align=\"left\" >{row.total_sale}</TableCell> \r\n                            <TableCell align=\"left\">{row.number_of_orders}</TableCell>\r\n                            \r\n                        </TableRow>\r\n                    );\r\n                })}\r\n                </TableBody>\r\n            </TableWrapper>\r\n            \r\n            \r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default CustomerReport\r\n\r\n\r\n\r\nconst CustomerHeadCells = [\r\n    // { id: 'id', align: 'left', disablePadding: true, label: 'Stt' },\r\n    { id: 'name', align: 'center', disablePadding: true, label: 'Khách hàng' },\r\n    { id: 'total', align: 'left', disablePadding: true, label: 'Tổng tiền' },  \r\n    { id: 'phone', align: 'left', disablePadding: true, label: 'Số đơn' },\r\n];\r\n","import React from 'react';\r\n\r\n// import ApexCharts from 'apexcharts';\r\nimport ReactApexChart from 'react-apexcharts';\r\n\r\n\r\nexport default class ApexChart extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n      \r\n        series: [{\r\n          name: 'Thu',\r\n          data: [31, 40, 28, 51, 42, 109, 100]\r\n        }, {\r\n          name: 'Chi',\r\n          data: [11, 32, 45, 32, 34, 52, 41]\r\n        }],\r\n        options: {\r\n          chart: {\r\n            height: 350,\r\n            type: 'area'\r\n          },\r\n          dataLabels: {\r\n            enabled: false\r\n          },\r\n          stroke: {\r\n            curve: 'smooth'\r\n          },\r\n          xaxis: {\r\n            type: 'datetime',\r\n            categories: [\"2018-09-19T00:00:00.000Z\", \"2018-09-19T01:30:00.000Z\", \"2018-09-19T02:30:00.000Z\", \"2018-09-19T03:30:00.000Z\", \"2018-09-19T04:30:00.000Z\", \"2018-09-19T05:30:00.000Z\", \"2018-09-19T06:30:00.000Z\"]\r\n          },\r\n          tooltip: {\r\n            x: {\r\n              format: 'dd/MM/yy HH:mm'\r\n            },\r\n          },\r\n          colors:['#ffc400', '#00e5ff', '#9C27B0']\r\n        },\r\n      \r\n      \r\n      };\r\n    }\r\n\r\n  \r\n\r\n    render() {\r\n      return (\r\n      \r\n        <div id=\"chart\">\r\n        <ReactApexChart options={this.state.options} series={this.state.series} type=\"area\" height={350} />\r\n        </div>\r\n\r\n\r\n      );\r\n    }\r\n  }\r\n","import React from 'react'\r\nimport Chart from 'react-apexcharts';\r\nimport {Typography,Divider,Card,Grid,Paper,Avatar,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\nimport clsx from \"clsx\";\r\nimport {useTheme,makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport { grey, blue,purple} from '@material-ui/core/colors'\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport {VNDFormat, ThousandFormat} from \"../../../components/TextField/NumberFormatCustom\"\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  row:{\r\n    flexGrow: 1,\r\n    marginBottom:20,\r\n  },\r\n  paper: {\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    paddingTop:10\r\n  },\r\n  overall:{\r\n    background:'#13d0f2',\r\n  },\r\n  pink: {\r\n    color: '#000',\r\n    backgroundColor: '#ff007d',\r\n    marginTop:5,\r\n    marginLeft:5\r\n  },\r\n  yellow: {\r\n    color: '#000',\r\n    backgroundColor: '#ffc400',\r\n    marginTop:5,\r\n    marginLeft:5,\r\n    // width: theme.spacing(3),\r\n    // height: theme.spacing(3),\r\n  },\r\n  blue: {\r\n    color: '#000',\r\n    backgroundColor: '#00e5ff',\r\n    marginTop:5,\r\n    marginLeft:5\r\n  },\r\n  number:{\r\n    //   fontSize:20,\r\n    //   fontWeight:500\r\n        fontSize:30,\r\n      fontWeight:500\r\n  },\r\n  count:{\r\n    fontSize:20,\r\n    fontWeight:500 ,\r\n    color:'#fff'\r\n  },\r\n  ava:{\r\n    // backgroundColor: '#ffc400',\r\n    backgroundColor: '#3BD49F',\r\n  },\r\n  hoverCard:{\r\n    boxShadow:' 0px 10px 20px rgba(0,0,0,0.1)',\r\n    \"&:hover\": {\r\n      boxShadow:'0px 10px 20px rgba(0,0,0,0.15)',\r\n    },\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    paddingTop:10,\r\n    borderRadius:theme.customization.borderRadius\r\n},\r\n \r\n}));\r\n\r\nexport const OverallReport = ({data}) => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const chartIncome = {\r\n        type: 'area',\r\n        height: 70,\r\n        series: [\r\n            {\r\n                name: 'Doanh thu',\r\n                data: [45, 66, 41, 89, 25, 44, 9]\r\n            }\r\n        ],\r\n        options: {\r\n            chart: {\r\n                sparkline: {\r\n                    enabled: true\r\n                },\r\n            },\r\n            dataLabels: {\r\n                enabled: false\r\n            },\r\n            \r\n            stroke: {\r\n                curve: 'smooth',\r\n                width: 2\r\n            },\r\n            xaxis: {\r\n                type: 'datetime',\r\n                categories: [\"2018-09-19T00:00:00.000Z\", \"2018-09-19T01:30:00.000Z\", \"2018-09-19T02:30:00.000Z\", \"2018-09-19T03:30:00.000Z\", \"2018-09-19T04:30:00.000Z\", \"2018-09-19T05:30:00.000Z\", \"2018-09-19T06:30:00.000Z\"]\r\n            },\r\n        \r\n            tooltip: {\r\n                x: {\r\n                  format: 'dd/MM/yy HH:mm'\r\n                },\r\n            },\r\n            colors: ['#00e5ff'],\r\n        },\r\n        \r\n    };\r\n    const chartExpense = {\r\n        type: 'area',\r\n        height: 70,\r\n        series: [\r\n            {\r\n                name: 'Chi tiêu',\r\n                data: [45, 66, 41, 89, 25, 44, 9]\r\n            }\r\n        ],\r\n        options: {\r\n            chart: {\r\n                sparkline: {\r\n                    enabled: true\r\n                },\r\n            },\r\n            dataLabels: {\r\n                enabled: false\r\n            },\r\n            \r\n            stroke: {\r\n                curve: 'smooth',\r\n                width: 2\r\n            },\r\n            xaxis: {\r\n                type: 'datetime',\r\n                categories: [\"2018-09-19T00:00:00.000Z\", \"2018-09-19T01:30:00.000Z\", \"2018-09-19T02:30:00.000Z\", \"2018-09-19T03:30:00.000Z\", \"2018-09-19T04:30:00.000Z\", \"2018-09-19T05:30:00.000Z\", \"2018-09-19T06:30:00.000Z\"]\r\n            },\r\n        \r\n            tooltip: {\r\n                x: {\r\n                  format: 'dd/MM/yy HH:mm'\r\n                },\r\n            },\r\n            colors: ['#ffc400'],\r\n            animations:{\r\n                enabled: true,\r\n            },\r\n        },\r\n        \r\n    };\r\n\r\n    const chartInvoice ={\r\n        type: 'area',\r\n        height: 70,\r\n        series: [\r\n            {\r\n                name: 'Chi tiêu',\r\n                data: [45, 66, 41, 89, 25, 44, 9]\r\n            }\r\n        ],\r\n        options: {\r\n            chart: {\r\n                sparkline: {\r\n                    enabled: true\r\n                },\r\n            },\r\n            dataLabels: {\r\n                enabled: false\r\n            },\r\n            \r\n            stroke: {\r\n                curve: 'smooth',\r\n                width: 2\r\n            },\r\n            xaxis: {\r\n                type: 'datetime',\r\n                categories: [\"2018-09-19T00:00:00.000Z\", \"2018-09-19T01:30:00.000Z\", \"2018-09-19T02:30:00.000Z\", \"2018-09-19T03:30:00.000Z\", \"2018-09-19T04:30:00.000Z\", \"2018-09-19T05:30:00.000Z\", \"2018-09-19T06:30:00.000Z\"]\r\n            },\r\n        \r\n            tooltip: {\r\n                x: {\r\n                  format: 'dd/MM/yy HH:mm'\r\n                },\r\n            },\r\n            colors: ['#ff007d'],\r\n        },\r\n    }\r\n  \r\n\r\n    return (\r\n        <div className={classes.row}>\r\n            <Grid container spacing={3}>\r\n            \r\n            <Grid  item md={4}xs={12} >\r\n                <Card className={clsx(classes.hoverCard, classes.overall)} style={{padding:10}}>\r\n                    <Grid container  spacing={3}>\r\n                        <Grid container item xs={6} >\r\n                            <Grid item xs={4} style={{minWidth:40}}>\r\n                                <Avatar className={classes.ava} style={{backgroundColor:'#ff007d'}}> \r\n                                    <FolderIcon/>\r\n                                </Avatar>   \r\n                            </Grid>\r\n                            \r\n                            <Grid  item  xs={8}  style={{textAlign:'center'}}>\r\n                                <Typography>Mặt hàng</Typography>\r\n                                <Typography className={classes.count}>{data.numOfProducts}</Typography>\r\n                            </Grid>\r\n                          \r\n                        </Grid>  \r\n                        <Grid container item xs={6} >\r\n                            <Grid item xs={4} style={{minWidth:40}}>\r\n                                    <Avatar  style={{backgroundColor:'#ffc400'}}> \r\n                                        <FolderIcon/>\r\n                                    </Avatar>   \r\n                                </Grid>\r\n                                \r\n                                <Grid  item  xs={8}  style={{textAlign:'center'}}>\r\n                                    <Typography>Nhân viên</Typography>\r\n                                    <Typography className={classes.count}>{data.numOfEmployees}</Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        <Grid container item xs={6} >\r\n                            <Grid item xs={4} style={{minWidth:40}}>\r\n                                <Avatar style={{backgroundColor:'#8ae600'}}> \r\n                                    <FolderIcon/>\r\n                                </Avatar>   \r\n                            </Grid>\r\n                            \r\n                            <Grid  item  xs={8}  style={{textAlign:'center'}}>\r\n                                <Typography>Khách hàng</Typography>\r\n                                <Typography className={classes.count}>{data.numOfCustomers}</Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container item xs={6} >\r\n                            <Grid item xs={4} style={{minWidth:40}}>\r\n                                <Avatar style={{backgroundColor:\"#b870ff\"}}> \r\n                                    <FolderIcon/>\r\n                                </Avatar>   \r\n                            </Grid>\r\n                            \r\n                            <Grid  item  xs={8}  style={{textAlign:'center'}}>\r\n                                <Typography>Chi nhánh</Typography>\r\n                                <Typography className={classes.count}>{data.numOfBranches}</Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </Card>\r\n            </Grid>\r\n\r\n            <Grid container item md={8} xs={12} spacing={3}>\r\n                <Grid item md={4}xs={12}>\r\n                    <Card className={classes.hoverCard}>\r\n                        <Typography>Tổng thu</Typography>\r\n                        <Typography className={classes.number}><ThousandFormat value={data.inAccount}/></Typography>\r\n                        <Chart {...chartIncome} />   \r\n                    </Card>\r\n                </Grid>\r\n                <Grid item md={4}xs={12}>\r\n                    <Card className={classes.hoverCard}>\r\n                        <Typography>Tổng chi</Typography>\r\n                         <Typography className={classes.number}><ThousandFormat value={data.outAccount}/></Typography>\r\n                        <Chart {...chartExpense}/>    \r\n                    </Card>\r\n                </Grid>\r\n                <Grid item md={4} xs={12}>\r\n                    <Card className={classes.hoverCard}>\r\n                        <Typography>Tổng lợi nhuận</Typography>\r\n                        <Typography className={classes.number}>200.000</Typography>\r\n                        <Chart {...chartInvoice}/>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n            \r\n            </Grid> \r\n\r\n        </div>\r\n    )\r\n}\r\nexport default OverallReport","import React from 'react'\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Card,Avatar,TableBody,TableRow,TableCell,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport ava from '../../../assets/img/product/lyimg.jpeg';\r\nimport { FormatedProductStatusReport } from \"../../../components/TableCommon/util/format\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n    headerTitle:{\r\n        fontSize: '1.125rem',\r\n      },\r\n      header:{\r\n        padding:20,\r\n     \r\n      },\r\n      hoverCard:{\r\n        boxShadow:' 0px 10px 20px rgba(0,0,0,0.1)',\r\n        \"&:hover\": {\r\n          boxShadow:'0px 10px 20px rgba(0,0,0,0.15)',\r\n        },\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        paddingTop:10,\r\n        borderRadius:theme.customization.borderRadius,\r\n        marginBottom:25\r\n    },\r\n\r\n}));\r\n\r\nconst ProductReport = (props) => {\r\n    const {productList} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n\r\n    return (\r\n        <Card  className={classes.hoverCard}>\r\n            <Grid container direction=\"row\"justifyContent=\"space-between\" alignItems=\"center\" className={classes.header} >\r\n                  <Grid item >\r\n                      <Typography className={classes.headerTitle} variant=\"h5\">\r\n                            Sản phẩm:  Top 10 doanh thu \r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                        <Typography variant=\"h5\"  style={{cursor: 'pointer',color:'#1b74e4'}}>\r\n                            Xem chi tiết\r\n                        </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n              <TableWrapper isCart={true} isReport={true}>\r\n                <TableHeader\r\n                classes={classes}\r\n                headerData={InventoryHeadCells}\r\n                />\r\n                <TableBody>\r\n                {productList.map((row, index) => {\r\n                    return (\r\n                        <TableRow>\r\n                           <TableCell align=\"left\">{index + 1}</TableCell>\r\n                            <TableCell align=\"left\" style={{ minWidth: 200 }}>\r\n                                <ListItem\r\n                                    style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\r\n                                >\r\n                                    <Box\r\n                                    component=\"img\"\r\n                                    sx={{ height: 50, width: 50, borderRadius: 10, marginRight: 15 }}\r\n                                    src={row.img_url}\r\n                                    />\r\n                                    <Typography className={classes.fontName}>{row.name}</Typography>\r\n                                </ListItem>\r\n                            </TableCell>\r\n                            <TableCell align=\"center\" style={{minWidth:10}}>\r\n                                <FormatedProductStatusReport quantity={row.branch_quantity} lowStock={row.min_reorder_quantity}/>\r\n                            </TableCell>\r\n                            <TableCell align=\"left\" className={classes.fontName}>\r\n                                SL\r\n                            </TableCell>\r\n                            <TableCell align=\"left\" className={classes.fontName}>\r\n                                Tổng tiền\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    );\r\n                })}\r\n                </TableBody>\r\n            </TableWrapper>\r\n            \r\n            \r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default ProductReport\r\n\r\n\r\n\r\n\r\nexport const InventoryHeadCells = [\r\n    { id: 'id', align: 'left', disablePadding: true, label: 'Stt' },\r\n    { id: 'name', align: 'left', disablePadding: false, label: 'Sản phẩm' },\r\n    { id: 'inventory', align: 'left', disablePadding: true, label: 'Tồn kho' },\r\n    { id: 'quantity', align: 'left', disablePadding: true, label: 'Số lượng' },\r\n    { id: 'totalAmount', align: 'left', disablePadding: true, label: 'Tổng tiền' },\r\n];","import React from 'react'\r\nimport Chart from 'react-apexcharts';\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Card,Avatar,TableBody,TableRow,TableCell,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n    headerTitle:{\r\n        fontSize: '1.125rem',\r\n      },\r\n      header:{\r\n        padding:20,\r\n     \r\n      },\r\n      hoverCard:{\r\n        boxShadow:' 0px 10px 20px rgba(0,0,0,0.1)',\r\n        \"&:hover\": {\r\n          boxShadow:'0px 10px 20px rgba(0,0,0,0.15)',\r\n        },\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        paddingTop:10,\r\n        borderRadius:theme.customization.borderRadius\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst CategoryReport = (props) => {\r\n    const {categoryList} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n\r\n    const chartData = {\r\n   \r\n        height:350,\r\n        type:\"area\",\r\n        series: [{\r\n          name: 'Thu',\r\n          data: [31, 40, 28, 51, 42, 109, 100]\r\n        }, {\r\n          name: 'Chi',\r\n          data: [11, 32, 45, 32, 34, 52, 41]\r\n        }],\r\n        options: {\r\n          chart: {\r\n            height: 350,\r\n            type: 'area',\r\n            toolbar: {\r\n                show: true,\r\n                offsetX: 0,\r\n                offsetY: 0,\r\n                tools: {\r\n                  download: true,\r\n                  selection: false,\r\n                  zoom: false,\r\n                  zoomin: false,\r\n                  zoomout: false,\r\n                  pan: false,\r\n                  reset: false | '<img src=\"/static/icons/reset.png\" width=\"20\">',\r\n                  customIcons: []\r\n                },\r\n            }\r\n          },\r\n          dataLabels: {\r\n            enabled: false\r\n          },\r\n          stroke: {\r\n            curve: 'smooth'\r\n          },\r\n          xaxis: {\r\n            type: 'datetime',\r\n            categories: [\"2018-09-19T00:00:00.000Z\", \"2018-09-19T01:30:00.000Z\", \"2018-09-19T02:30:00.000Z\", \"2018-09-19T03:30:00.000Z\", \"2018-09-19T04:30:00.000Z\", \"2018-09-19T05:30:00.000Z\", \"2018-09-19T06:30:00.000Z\"]\r\n          },\r\n          tooltip: {\r\n            x: {\r\n              format: 'dd/MM/yy HH:mm'\r\n            },\r\n          },\r\n          colors:['#ffc400', '#00e5ff', '#9C27B0']\r\n        },\r\n    };\r\n\r\n    return (\r\n        <Card  className={classes.hoverCard}>\r\n            <Grid container direction=\"row\"justifyContent=\"space-between\" alignItems=\"center\" className={classes.header} >\r\n                  <Grid item >\r\n                      <Typography className={classes.headerTitle} variant=\"h5\">\r\n                            Thu - Chi - Lợi nhuận \r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                        <Typography variant=\"h5\"  style={{cursor: 'pointer',color:'#1b74e4'}}>\r\n                            Xem chi tiết\r\n                        </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n            <Chart {...chartData}/>    \r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default CategoryReport\r\n","import React from 'react'\r\nimport Chart from 'react-apexcharts';\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Card,Avatar,TableBody,TableRow,TableCell,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n    headerTitle:{\r\n        fontSize: '1.125rem',\r\n      },\r\n      header:{\r\n        padding:20,\r\n     \r\n      },\r\n      hoverCard:{\r\n        boxShadow:' 0px 10px 20px rgba(0,0,0,0.1)',\r\n        \"&:hover\": {\r\n          boxShadow:'0px 10px 20px rgba(0,0,0,0.15)',\r\n        },\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        paddingTop:10,\r\n        borderRadius:theme.customization.borderRadius,\r\n        marginBottom:25\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst CategoryReport = (props) => {\r\n    const {categoryList} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n\r\n    const data = {\r\n        type:\"donut\",\r\n        // DATA HERE : value\r\n        series: [44, 55, 41, 17, 15],\r\n        \r\n        options: {\r\n           // DATA HERE : name\r\n          labels: ['Team A', 'Team B', 'Team C', 'Team D', 'Team E'],\r\n          chart: {\r\n            type: 'donut',\r\n          },\r\n          responsive: [{\r\n            breakpoint: 480,\r\n            options: {\r\n              chart: {\r\n                width: 50\r\n              },\r\n              legend: {\r\n                position: 'bottom'\r\n              }\r\n            }\r\n          }]\r\n        },\r\n      }\r\n\r\n    return (\r\n        <Card  className={classes.hoverCard}>\r\n            <Grid container direction=\"row\"justifyContent=\"space-between\" alignItems=\"center\" className={classes.header} >\r\n                  <Grid item >\r\n                      <Typography className={classes.headerTitle} variant=\"h5\">\r\n                            Danh mục\r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                        <Typography variant=\"h5\"  style={{cursor: 'pointer',color:'#1b74e4'}}>\r\n                            Xem chi tiết\r\n                        </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n            <Chart {...data}/>  \r\n            <TableWrapper isCart={true}>\r\n           \r\n                <TableBody>\r\n                {categoryList.map((row, index) => {\r\n                    return (\r\n                        <TableRow >\r\n                            <TableCell align=\"left\">{index + 1}</TableCell>\r\n        \r\n                            <TableCell align=\"left\" >{row.name}</TableCell> \r\n                            <TableCell align=\"left\">{row.total}/55%</TableCell>\r\n                            \r\n                        </TableRow>\r\n                    );\r\n                })}\r\n                </TableBody>\r\n            </TableWrapper>  \r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default CategoryReport\r\n","import React from 'react'\r\nimport Chart from 'react-apexcharts';\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Card,Avatar,TableBody,TableRow,TableCell,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\n\r\nimport ReactApexChart from 'react-apexcharts';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n    headerTitle:{\r\n        fontSize: '1.125rem',\r\n      },\r\n      header:{\r\n        padding:20,\r\n     \r\n      },\r\n      hoverCard:{\r\n        boxShadow:' 0px 10px 20px rgba(0,0,0,0.1)',\r\n        \"&:hover\": {\r\n          boxShadow:'0px 10px 20px rgba(0,0,0,0.15)',\r\n        },\r\n        textAlign: 'center',\r\n        color: theme.palette.text.secondary,\r\n        paddingTop:10,\r\n        borderRadius:theme.customization.borderRadius,\r\n        marginBottom:25\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst BranchReport = (props) => {\r\n    const {categoryList} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    var data= {   \r\n        series: [{\r\n           // DATA HERE : total value\r\n          data: [400, 430, 448, 470, 540, 580, 690, 1100, 1200, 1380]\r\n        }],\r\n        options: {\r\n          chart: {\r\n            type: 'bar',\r\n            height: 350\r\n          },\r\n          plotOptions: {\r\n            bar: {\r\n              borderRadius: 4,\r\n              horizontal: true,\r\n            }\r\n          },\r\n          dataLabels: {\r\n            enabled: false\r\n          },\r\n          // DATA HERE :name\r\n          xaxis: {\r\n            categories: ['South Korea', 'Canada', 'United Kingdom', 'Netherlands', 'Italy', 'France', 'Japan',\r\n              'United States', 'China', 'Germany'\r\n            ],\r\n          }\r\n        },\r\n      \r\n      \r\n      };\r\n\r\n  \r\n\r\n    return (\r\n        <Card  className={classes.hoverCard}>\r\n            <Grid container direction=\"row\"justifyContent=\"space-between\" alignItems=\"center\" className={classes.header} >\r\n                  <Grid item >\r\n                      <Typography className={classes.headerTitle} variant=\"h5\">\r\n                            Chi nhánh\r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                        <Typography variant=\"h5\"  style={{cursor: 'pointer',color:'#1b74e4'}}>\r\n                            Xem chi tiết\r\n                        </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n            {/* <Chart {...options}/>     */}\r\n            <ReactApexChart options={data.options} series={data.series} type=\"bar\" height={350} />\r\n\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default BranchReport\r\n","import React from 'react'\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Card,Avatar,TableBody,TableRow,TableCell,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport ava from '../../../assets/img/product/lyimg.jpeg';\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n    headerTitle:{\r\n        fontSize: '1.125rem',\r\n      },\r\n      header:{\r\n        padding:20,\r\n     \r\n      },\r\n\r\n}));\r\n\r\nconst SupplierReport = (props) => {\r\n    const {supplierList} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    \r\n    return (\r\n        <Card>\r\n            <Grid container direction=\"row\"justifyContent=\"space-between\" alignItems=\"center\" className={classes.header} >\r\n                  <Grid item >\r\n                      <Typography className={classes.headerTitle} variant=\"h5\">\r\n                            Top 10 nhà cung cấp\r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                        <Typography variant=\"h5\"  style={{cursor: 'pointer',color:'#1b74e4'}}>\r\n                            Xem chi tiết\r\n                        </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n              <TableWrapper isCart={true}>\r\n                <TableHeader\r\n                    classes={classes}\r\n                    headerData={SupplierHeadCells}\r\n                />\r\n                <TableBody>\r\n                {supplierList.map((row, index) => {\r\n                    return (\r\n                        <TableRow >\r\n                            {/* <TableCell align=\"left\">{index + 1}</TableCell> */}\r\n                            <TableCell align=\"left\" style={{minWidth:200}} >\r\n                                <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}>\r\n                                    <Typography className={classes.fontName} style={{marginRight:20}}>{index + 1}</Typography>\r\n                                    <Avatar alt=\"Remy Sharp\" src={ava} style={{marginRight:20}} className={classes.ava} />\r\n                                    <Typography className={classes.fontName}>{row.name}</Typography>\r\n                                </ListItem>  \r\n                            </TableCell>\r\n \r\n                            <TableCell align=\"left\" >{row.total_cost}</TableCell> \r\n                            <TableCell align=\"left\">{row.phone}</TableCell>\r\n                            \r\n                        </TableRow>\r\n                    );\r\n                })}\r\n                </TableBody>\r\n            </TableWrapper>\r\n            \r\n            \r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default SupplierReport\r\n\r\n\r\n\r\nconst SupplierHeadCells = [\r\n    // { id: 'id', align: 'left', disablePadding: true, label: 'Stt' },\r\n    { id: 'name', align: 'center', disablePadding: true, label: 'Khách hàng' },\r\n    { id: 'total', align: 'left', disablePadding: true, label: 'Tổng tiền' },  \r\n    { id: 'phone', align: 'left', disablePadding: true, label: 'Sđt' },\r\n];\r\n","import React from 'react'\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Card,Avatar,TableBody,TableRow,TableCell,Paper,Box,Button,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\r\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\r\nimport ava from '../../../assets/img/product/lyimg.jpeg';\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n    headerTitle:{\r\n        fontSize: '1.125rem',\r\n      },\r\n      header:{\r\n        padding:20,\r\n     \r\n      },\r\n\r\n}));\r\n\r\nconst EmployeeReport = (props) => {\r\n    const {employeeSales} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    \r\n    return (\r\n        <Card>\r\n            <Grid container direction=\"row\"justifyContent=\"space-between\" alignItems=\"center\" className={classes.header} >\r\n                  <Grid item >\r\n                      <Typography className={classes.headerTitle} variant=\"h5\">\r\n                            Top 10 nhân viên\r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                        <Typography variant=\"h5\"  style={{cursor: 'pointer',color:'#1b74e4'}}>\r\n                            Xem chi tiết\r\n                        </Typography>\r\n                  </Grid>\r\n              </Grid>\r\n              <TableWrapper isCart={true}>\r\n                <TableHeader\r\n                    classes={classes}\r\n                    headerData={EmployeeHeadCells}\r\n                />\r\n                <TableBody>\r\n                {employeeSales.map((row, index) => {\r\n                    return (\r\n                        <TableRow >\r\n                            {/* <TableCell align=\"left\">{index + 1}</TableCell> */}\r\n                            <TableCell align=\"left\" style={{minWidth:200}} >\r\n                                <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10 }}>\r\n                                    <Typography className={classes.fontName} style={{marginRight:20}}>{index + 1}</Typography>\r\n                                    <Avatar alt=\"Remy Sharp\" src={ava} style={{marginRight:20}} className={classes.ava} />\r\n                                    <Typography className={classes.fontName}>{row.name}</Typography>\r\n                                </ListItem>  \r\n                            </TableCell>\r\n \r\n                            <TableCell align=\"left\" >{row.total_sale}</TableCell> \r\n                            <TableCell align=\"left\">{row.number_of_orders}</TableCell>\r\n                            \r\n                        </TableRow>\r\n                    );\r\n                })}\r\n                </TableBody>\r\n            </TableWrapper>\r\n            \r\n            \r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default EmployeeReport\r\n\r\n\r\n\r\nconst EmployeeHeadCells = [\r\n    // { id: 'id', align: 'left', disablePadding: true, label: 'Stt' },\r\n    { id: 'name', align: 'center', disablePadding: true, label: 'Khách hàng' },\r\n    { id: 'total', align: 'left', disablePadding: true, label: 'Tổng tiền' },  \r\n    { id: 'phone', align: 'left', disablePadding: true, label: 'Số đơn' },\r\n];\r\n","import React ,{useState, useEffect} from 'react'\r\nimport ApexChart from '../../../components/Chart/Chart'\r\nimport {useTheme, makeStyles,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {Typography,Divider,Grid,Paper,Box,Button,InputLabel,MenuItem,FormControl,Select,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport { grey, blue,purple} from '@material-ui/core/colors'\r\nimport clsx from \"clsx\";\r\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\r\nimport ReactApexChart from 'react-apexcharts';\r\nimport CustomerReport from './CustomerReport'\r\n// import data_card from './chart-data/data_card'\r\n// import data1 from './chart-data/bajaj-area-chart'\r\n// import data2 from './chart-data/mydata'\r\nimport {ColorButtonPink,ColorButtonYellow} from '../../../components/Button/ColorButton'\r\nimport OverallReport from './OverallReport'\r\nimport ProductReport from './ProductReport'\r\nimport MoneyReport from './MoneyReport'\r\nimport CategoryReport from './CategoryReport'\r\nimport BranchReport from './BranchReport'\r\nimport SupplierReport from './SupplierReport'\r\nimport EmployeeReport from './EmployeeReport'\r\nimport Chart from 'react-apexcharts';\r\nimport storeApi from \"../../../api/storeApi\";\r\n\r\n//import api \r\nimport customerApi from '../../../api/customerApi'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\n//import api\r\nimport productApi from \"../../../api/productApi\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    background: theme.customization.mode === \"Light\"? null: grey[800],\r\n    borderRadius:theme.customization.borderRadius,\r\n    color: '#000000',\r\n    boxShadow: \"none\",\r\n    paddingRight:10,\r\n    paddingLeft:20\r\n  },\r\n  header:{\r\n    paddingTop:20,\r\n    paddingBottom:15\r\n  },\r\n  headerTitle:{\r\n    fontSize: '1.125rem',\r\n  },\r\n  divider:{\r\n      marginBottom:15\r\n  },\r\n  \r\n}));\r\n\r\n\r\nconst Report = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    //0. set time\r\n    const [time, setTime] = React.useState('30day');\r\n\r\n    const handleChangeTime = (event) => {\r\n      setTime(event.target.value);\r\n    };\r\n\r\n    // 1.data for Overall Report\r\n\r\n\r\n    // 2.data for customer\r\n    \r\n  const [categoryList, setCategoryList] = useState([{name: 'áo', total: 100},{name: 'quần', total: 200}]);\r\n  const [productList, setProductList] = useState([]);\r\n  \r\n\r\n  const [moneyData, setMoneyData] = useState([]);\r\n  const [branchList, setBranchList] = useState([]);\r\n\r\n  const [customerList, setCustomerList] = useState([]);\r\n  const [supplierList, setSupplierList] = useState([]);\r\n  const [employeeList, setEmployeeList] = useState([]);\r\n\r\n\r\n  const [reload, setReload] = useState(true);\r\n  const onReload = () => setReload(!reload)\r\n    \r\n  const info = useSelector((state) => state.info);\r\n  const store_uuid = info.store.uuid;\r\n  const branch_uuid = info.branch.uuid;\r\n\r\n  // report apis call here \r\n  const [isLoaded, setIsLoaded] = useState(false)\r\n\r\n  // must be in format\r\n  const [fromDate, setFromDate] = useState('2021-12-20');\r\n  const [toDate, setToDate] = useState(\"2022-01-31\");\r\n\r\n  // top 10, 20\r\n  const [limit, setLimit] = useState(10);\r\n\r\n  // unit used for chart data split by day/ month/ year\r\n  const [unit, setUnit] = useState(\"day\");\r\n\r\n  // category id to view to item by root category\r\n  // should be selected by a drop down and pass as category_id\r\n  const [categoryId, setCategoryId] = useState(4);\r\n\r\n  // response data state\r\n  const [overview, setOverview] = useState({})\r\n  const [topItemByCategory, setTopItemByCategory] = useState([])\r\n  \r\n  const [revenue, setRevenue] = useState({})\r\n  const [purchase, setPurchase] = useState({})\r\n  const [captital, setCapital] = useState({})\r\n  const [profit, setProfit] = useState({})\r\n\r\n  const [topData, setTopData] = useState({})\r\n\r\n  useEffect(() => {\r\n    const fetchReports = async () => {\r\n\r\n      // overview: number of employees, customers, suppliers, in money, out money\r\n      const overViewRes = await storeApi.getReportOverview(store_uuid, fromDate, toDate);\r\n      setOverview(overViewRes.data)\r\n\r\n      // top 'limit' of items by category\r\n      const topItemByCategoryRes = await storeApi.getReportProduct(store_uuid, fromDate, toDate, limit, categoryId);\r\n      setTopItemByCategory(topItemByCategoryRes);\r\n\r\n      // revenue, captital, profit, purchase data by 'unit'\r\n      const revenueRes = await storeApi.getReportRevenue(\r\n        store_uuid,\r\n        fromDate,\r\n        toDate,\r\n        unit\r\n      );\r\n      setRevenue(revenueRes)\r\n\r\n      const captitalRes = await storeApi.getReportCaptital(\r\n        store_uuid,\r\n        fromDate,\r\n        toDate,\r\n        unit\r\n      );\r\n      setCapital(captitalRes)\r\n\r\n      const profitRes = await storeApi.getReportProfit(\r\n        store_uuid,\r\n        fromDate,\r\n        toDate,\r\n        unit\r\n      );\r\n      setProfit(profitRes);\r\n\r\n      const purchaseRes = await storeApi.getReportPurchase(\r\n        store_uuid,\r\n        fromDate,\r\n        toDate,\r\n        unit\r\n      );\r\n      setPurchase(purchaseRes);\r\n\r\n      // top employees, customers, products, suppliers,...\r\n      const topDataRes = await storeApi.getReportTop(\r\n        store_uuid,\r\n        fromDate,\r\n        toDate,\r\n        limit\r\n      );\r\n      setTopData(topDataRes)\r\n      // uncomment here\r\n      setIsLoaded(true)\r\n    }\r\n    console.log(\"overview\")\r\n    console.log(overview)\r\n    console.log(topItemByCategory)\r\n    console.log(revenue)\r\n    console.log(topData)\r\n\r\n    fetchReports()\r\n    \r\n  }, [])\r\n  \r\n\r\n    useEffect(() => {\r\n      customerApi.getCustomers(store_uuid)\r\n      .then(response => response.data, err => console.log(err))\r\n      .then(data => {\r\n          setCustomerList(data)\r\n      })\r\n\r\n  }, [reload, store_uuid]);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await productApi.getProductsOfBranch(\r\n          store_uuid,\r\n          branch_uuid\r\n        );\r\n        setProductList(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (reload) {\r\n      fetchProducts();\r\n      setReload(false);\r\n    }\r\n  }, [reload, store_uuid, branch_uuid]);\r\n\r\n\r\n\r\n\r\n    ///////////\r\n    // const info = useSelector((state) => state.info);\r\n    // const store_uuid = info.store.uuid;\r\n    const [data, setData] = useState({\r\n      customerSales:[],\r\n      employeeSales:[],\r\n      inAccount:0,\r\n      numOfBranches:0,\r\n      numOfCustomers:0,\r\n      numOfEmployees:0,\r\n      numOfProducts:0,\r\n      outAccount:0,\r\n      product_report:[],\r\n\r\n    });\r\n    \r\n    \r\n    // const fetchReport = async (period) => {\r\n    //   const res = await storeApi.getReport(store_uuid, period);\r\n    //   console.log(res.data);\r\n    //   setData(res.data)\r\n    // };\r\n  \r\n    // useEffect(() => {\r\n    //   fetchReport(7)\r\n    // }, [])\r\n\r\n    // console.log(\"data\")\r\n    // console.log(data)\r\n\r\n    return isLoaded && (\r\n      <Card className={classes.root}>\r\n             {/* 1. */}\r\n            <div className={classes.row}>\r\n              <Grid \r\n              container \r\n              direction=\"row\"\r\n              justifyContent=\"space-between\"\r\n              alignItems=\"center\"\r\n              className={classes.header}\r\n              >\r\n                  <Grid item >\r\n                    <Typography className={classes.headerTitle} variant=\"h5\">\r\n                        Tổng quan\r\n                      </Typography> \r\n                  </Grid>\r\n                  <Grid item  >\r\n                    <FormControl\r\n                          className={classes.formControl}\r\n                          style={{marginTop:-5}}\r\n                          // fullWidth\r\n                          size=\"small\"\r\n                          variant=\"outlined\"\r\n                        >\r\n                          <Select\r\n                            labelId=\"demo-simple-select-outlined-label\"\r\n                            id=\"time\"\r\n                            name=\"time\"\r\n                            size=\"small\"\r\n                            onChange={handleChangeTime}\r\n                            // label=\" Chi nhánh\"\r\n                            defaultValue=\"today\"\r\n                            value={time}\r\n                          >\r\n                            <MenuItem value=\"today\">Hôm nay</MenuItem>\r\n                            <MenuItem value=\"7day\">7 ngày gần nhất</MenuItem>\r\n                            <MenuItem value=\"30day\">30 ngày gần nhất</MenuItem>\r\n                            <MenuItem value=\"365day\">365 ngày gần nhất</MenuItem>\r\n                            <MenuItem value=\"advance\">Tìm kiếm nâng cao</MenuItem>\r\n                          </Select>\r\n                        </FormControl>\r\n                    \r\n                        <ColorButtonPink variant=\"contained\" size=\"small\" className={classes.row} style={{marginLeft:20}}>\r\n                              Báo cáo\r\n                        </ColorButtonPink>\r\n                         <ColorButtonYellow variant=\"contained\" size=\"small\" className={classes.row} style={{marginLeft:10}}>\r\n                            <GetAppTwoToneIcon fontSize=\"small\"/>\r\n                              Báo cáo\r\n                        </ColorButtonYellow>\r\n                  </Grid>\r\n\r\n              </Grid>   \r\n            </div>\r\n\r\n\r\n           {/* <Divider className={classes.divider}/> */}\r\n        \r\n           {/* 2. OverallReport  */}\r\n            <OverallReport  data={overview}/>\r\n           \r\n            {/* 3.  */}\r\n            <Grid container spacing={3} >\r\n                <Grid  item xs={12} md={7} >\r\n                    <ProductReport productList={productList}/>   \r\n                \r\n                </Grid>\r\n                \r\n                <Grid  item xs={12} md={5}  style={{textAlign:'center'}}> \r\n                    <CategoryReport categoryList={categoryList}/>\r\n                </Grid>\r\n            </Grid>\r\n\r\n          {/* 4.  */}\r\n            <Grid container spacing={3} >\r\n                <Grid  item xs={12} md={5} >\r\n                    <BranchReport branchList={branchList}/>   \r\n                </Grid>\r\n                \r\n                <Grid  item xs={12} md={7}  style={{textAlign:'center'}}> \r\n                    <MoneyReport moneyData={moneyData}/>        \r\n                </Grid>\r\n            </Grid>\r\n            \r\n            \r\n\r\n            <Grid container spacing={3} >\r\n                <Grid  item xs={12} md={4} >\r\n                    <EmployeeReport  employeeSales={data.employeeSales}/>       \r\n                </Grid>\r\n              \r\n                <Grid  item xs={12} md={4}  style={{textAlign:'center'}}> \r\n                      <CustomerReport  customerSales={data.customerSales}/>       \r\n                </Grid>\r\n                <Grid  item xs={12} md={4}  style={{textAlign:'center'}}> \r\n                    <SupplierReport  supplierList={supplierList}/>       \r\n                </Grid>\r\n            </Grid>\r\n\r\n      </Card>\r\n        \r\n    )\r\n}\r\n\r\nexport default Report\r\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport History from \"./History/History\";\r\nimport Branch from \"./Branch/Branch\";\r\n\r\nimport GeneralSetting from \"./Setting/GeneralSetting/GeneralSetting\";\r\nimport DiscountSetting from \"./Setting/DiscountSetting/DiscountSetting\";\r\nimport VoucherSetting from \"./Setting/VoucherSetting/VoucherSetting\";\r\nimport WebSetting from \"./Setting/WebSetting/WebSetting\";\r\nimport EmailSetting from \"./Setting/EmailSetting/EmailSetting\"\r\nimport Customer from \"./Customer/Customer\";\r\nimport Report from \"./Report/Report\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ManagerView = (props) => {\r\n  \r\n  const { path } = useRouteMatch();\r\n  const permissions = useSelector((state) => state.info.user.permissions);\r\n  return (\r\n    <Switch>\r\n      <Route exact path={path} component={History} >\r\n        <Redirect to={permissions?.find((p) => p.name === \"report\") ? `${path}/history` : \"/home\"}/>\r\n      </Route>\r\n      <Route exact path={`${path}/history`} component={History} />\r\n      <Route path={`${path}/branch`} component={Branch} />\r\n      \r\n      <Route path={`${path}/customer`} component={Customer} />\r\n      <Route path={`${path}/report`} component={Report} />\r\n      <Route path={`${path}/report-date`} component={GeneralSetting} />\r\n\r\n      <Route path={`${path}/setting`} component={GeneralSetting} />\r\n      <Route path={`${path}/setting-discount`} component={DiscountSetting} />\r\n      <Route path={`${path}/setting-voucher`} component={VoucherSetting} />\r\n      <Route path={`${path}/setting-web`} component={WebSetting} />\r\n      <Route path={`${path}/setting-email`} component={EmailSetting} />\r\n      \r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default ManagerView;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    background: theme.palette.background.default,\r\n  },\r\n  appBar: {\r\n    background: theme.palette.background.paper,\r\n    boxShadow: \"none\",\r\n\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    // marginTop: 48 + 16 + 16,\r\n    marginTop: 48 + 16 ,\r\n    borderColor: theme.palette.background.paper,\r\n    paddingLeft: 20,\r\n    paddingBottom:48 + 16 + 16,\r\n  },\r\n  _drawerPaper: {\r\n    width: drawerWidth,\r\n    borderColor: theme.palette.background.paper,\r\n    paddingLeft: 20,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: \"100%\",\r\n  },\r\n\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n    },\r\n    marginLeft: drawerWidth,\r\n  },\r\n\r\n  background: {\r\n    background:\r\n      theme.customization.mode === \"Light\"\r\n        ? theme.palette.primary.light\r\n        : theme.customization.primaryColor[theme.customization.colorLevel],\r\n    borderRadius: theme.customization.borderRadius,\r\n    marginRight: 20,\r\n    padding: 20,\r\n    // marginTop:40,\r\n    marginTop:25,\r\n \r\n  },\r\n  backgroundMini: {\r\n    background:\r\n      theme.customization.mode === \"Light\"\r\n        ? theme.palette.primary.light\r\n        : theme.customization.primaryColor[theme.customization.colorLevel],\r\n    borderRadius: theme.customization.borderRadius,\r\n    marginRight: 5,\r\n    marginLeft:5,\r\n    padding: 10,\r\n    // marginTop:40,\r\n    marginTop:25,\r\n    \r\n  },\r\n  marginBackground:{\r\n    marginLeft: 20\r\n  },\r\n  toolBar: {\r\n    background: theme.palette.background.paper,\r\n    // padding:12,\r\n    padding:5,\r\n  },\r\n  searchEngine: {\r\n    paddingLeft: 20,\r\n  },\r\n  scroll: {\r\n    // maxHeight: 10,\r\n  },\r\n \r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport { useTheme, createStyles } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport clsx from \"clsx\";\r\nimport BranchSelectAppBar from \"../../components/CheckoutComponent/BranchSelect/BranchSelectAppBar\";\r\n//import library\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Drawer,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\n\r\n//import icons\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\n\r\n//import project\r\nimport MenuList from \"../../components/MenuList/MenuList\";\r\nimport SearchProduct from \"../../components/SearchBar/SearchProduct\";\r\nimport Customization from \"../../components/Customization/Customization\";\r\nimport AvatarInfo from \"../../components/Button/AvatarInfo\";\r\nimport SalesView from \"../../views/SalesView/SalesView\";\r\nimport InventoryView from \"../../views/InventoryView/InventoryView\";\r\nimport HRView from \"../../views/HRView/HRView\";\r\nimport ManagerView from \"../../views/ManagerView/ManagerView\";\r\nimport PageNotFound from \"../PageNotFound/PageNotFound\";\r\nimport useStyles from \"./styles\";\r\nimport { authActions } from \"../../store/slice/authSlice\";\r\nimport EditEmployee from \"../../views/HRView/Employee/AddEmployee/EditEmployee\"\r\n\r\nimport { customizeAction } from \"../../store/slice/customizeSlice\";\r\n\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport DeliveryView from \"../../views/DeliveryView/DeliveryView\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst HomePage = (props) => {\r\n  const { window } = props;\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  let { path } = useRouteMatch();\r\n  const smallScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const container =\r\n    window !== undefined ? () => window().document.body : undefined;\r\n  const matchUpMd = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  const customization = useSelector((state) => state.customize);\r\n  const infoDetail = useSelector((state) => state.info);\r\n  const isSidebarOpen =\r\n    customization.isSidebarOpen === null\r\n      ? !smallScreen\r\n      : customization.isSidebarOpen;\r\n\r\n  const roleUser = infoDetail.role === \"owner\" ? \"Chủ cửa hàng\" : \"Nhân viên\"\r\n\r\n  const permissions = useSelector((state) => state.info.user.permissions);\r\n\r\n  useEffect(() => {\r\n    dispatch(customizeAction.setSidebarOpen(!smallScreen));\r\n  }, [smallScreen, permissions]);\r\n\r\n  const handleToggleSidebar = (open) => {\r\n    dispatch(customizeAction.setSidebarOpen(open));\r\n  };\r\n\r\n\r\n  const divLogo = () => {\r\n    if (!smallScreen)\r\n      return (\r\n        <div\r\n          style={{\r\n            width: drawerWidth,\r\n            justifyContent: \"flex-end\",\r\n            display: \"flex\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h3\" style={{ marginTop: 15, marginLeft: 20 }}>\r\n            BKRM\r\n          </Typography>\r\n          <div\r\n            style={{\r\n              width: drawerWidth,\r\n              justifyContent: \"flex-end\",\r\n              display: \"flex\",\r\n            }}\r\n          >\r\n            <IconButton onClick={() => handleToggleSidebar(!isSidebarOpen)}>\r\n              <MenuIcon style={{ color: theme.customization.themeText }} />\r\n            </IconButton>\r\n          </div>\r\n        </div>\r\n      );\r\n  };\r\n  const _divLogo = () => {\r\n    if (smallScreen)\r\n      return (\r\n        <div\r\n          style={{\r\n            width: drawerWidth,\r\n            // height: 48,\r\n            height: 48,\r\n            marginTop: 30,\r\n            marginLeft: -15,\r\n          }}\r\n        >\r\n          <Typography variant=\"h3\" noWrap className={classes.searchEngine}>\r\n            BKRM\r\n          </Typography>\r\n        </div>\r\n      );\r\n  };\r\n  const dispatch = useDispatch();\r\n  const logOutHandler = () => {\r\n    dispatch(authActions.logOut());\r\n    localStorage.removeItem(\"token\");\r\n    sessionStorage.removeItem(\"BKRMprev\");\r\n    sessionStorage.removeItem(\"BKRMopening\");\r\n\r\n  };\r\n\r\n  const [openUserInfo, setOpenUserInfo] = useState(false)\r\n  return (\r\n    <div className={classes.root}>\r\n      {openUserInfo && <EditEmployee open={openUserInfo} handleClose = {() =>setOpenUserInfo(false)} employee ={infoDetail.user} fromAvatar={true}/>}\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar className={classes.toolBar}>\r\n          {divLogo()}\r\n          <IconButton\r\n            aria-label=\"open drawer\"\r\n            onClick={() => handleToggleSidebar(!isSidebarOpen)}\r\n            edge=\"start\"\r\n            className={!smallScreen && classes.hide}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Box\r\n            display=\"flex\"\r\n            flexDirection=\"row\"\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"center\"\r\n            style={{ width: \"100%\" }}\r\n          >\r\n            {/* <Typography variant=\"h3\" noWrap >\r\n     \r\n            </Typography> */}\r\n            <Box></Box>\r\n            {/* <SearchProduct /> */}\r\n\r\n            <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n              <BranchSelectAppBar store_uuid={infoDetail.store.uuid} />\r\n              <IconButton color=\"primary\" size=\"small\" onClick={() => { setOpenUserInfo(true); console.log(infoDetail) }} >\r\n                <PersonIcon fontSize=\"large\" />\r\n              </IconButton>\r\n              <Box\r\n                display=\"flex\"\r\n                flexDirection=\"column\"\r\n                justifyContent=\"center\"\r\n                style={{ width: 200, marginLeft: 10, marginRight: 5 }}\r\n              >\r\n                <Typography variant=\"h6\" style={{ fontWeight: 700, fontSize: 13 }}>{roleUser}</Typography>\r\n                <Typography variant=\"h6\" noWrap>\r\n                  {infoDetail.user.name}\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Button color=\"primary\" onClick={() => logOutHandler()}>\r\n                Logout\r\n              </Button>\r\n            </Box>\r\n            {/* <Box style={{marginRight:10}}>\r\n              <AvatarInfo  name={infoDetail.user.name}/>\r\n            </Box> */}\r\n          </Box>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Customization />\r\n      {/* Drawer */}\r\n      <Drawer\r\n        container={container}\r\n        variant={matchUpMd ? \"persistent\" : \"temporary\"}\r\n        anchor=\"left\"\r\n        open={isSidebarOpen}\r\n        onClose={() => handleToggleSidebar(!isSidebarOpen)}\r\n        classes={{\r\n          paper: matchUpMd ? classes.drawerPaper : classes._drawerPaper,\r\n        }}\r\n        ModalProps={{ keepMounted: true }}\r\n        color=\"inherit\"\r\n      // style={{height:30}}\r\n      >\r\n        {_divLogo()}\r\n        {/* <PerfectScrollbar component=\"div\" className={classes.scroll}> */}\r\n\r\n        <MenuList permissions={permissions} />\r\n        {/* <div>hello</div> */}\r\n        {/* </PerfectScrollbar> */}\r\n      </Drawer>\r\n\r\n      <main\r\n        className={clsx([classes.content], {\r\n          [classes.contentShift]: isSidebarOpen,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n        <Box\r\n          className={!xsScreen ? clsx([classes.background], {\r\n            [classes.marginBackground]: !isSidebarOpen,\r\n          }) :\r\n            clsx([classes.backgroundMini], {\r\n              [classes.marginBackground]: false,\r\n            })\r\n          }\r\n        >\r\n          <Switch>\r\n            {permissions?.find((p) => p.name === \"sales\") && (\r\n              <Route path={`${path}/sales`} component={SalesView} />\r\n            )}\r\n            {permissions?.find((p) => p.name === \"inventory\") && (\r\n              <Route path={`${path}/inventory`} component={InventoryView} />\r\n            )}\r\n            {permissions?.find((p) => p.name === \"employee\") && (\r\n              <Route path={`${path}/hr`} component={HRView} />\r\n            )}\r\n            {/* <Route path={`${path}/delivery`} component={DeliveryView} /> */}\r\n            {permissions?.find((p) => p.name === \"report\") && (\r\n              <Route path={`${path}/manager`} component={ManagerView} />\r\n            )}\r\n            <Route path={`${path}/`} >\r\n              {/* only redirect whenever permissions is successfully loaded => length at least = 1 */}\r\n              {permissions?.length > 0 ?\r\n                (<Redirect to={permissions?.find((p) => p.name === \"sales\") ? `${path}/sales` : permissions?.find((p) => p.name === \"inventory\") ? `${path}/inventory` : permissions?.find((p) => p.name === \"employee\") ? `${path}/hr` : `${path}/manager`} />) : null}\r\n            </Route>\r\n            <Route path={`${path}/*`} component={PageNotFound} />\r\n          </Switch>\r\n        </Box>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\nHomePage.propTypes = {\r\n  window: PropTypes.func,\r\n};\r\n\r\nexport default HomePage;\r\n","import React from 'react'\r\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\r\n\r\n//import library\r\nimport {Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\r\n\r\n//import icon\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\r\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\r\n\r\n\r\n//import project \r\nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\r\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\r\n\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nconst useStyles = makeStyles((theme) =>\r\ncreateStyles({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  headerTitle:{\r\n    fontSize: '1.125rem'\r\n  },\r\n  typo:{\r\n    marginBottom:20\r\n  },\r\n  card: {\r\n    background: theme.customization.mode === \"Light\"? null: grey[800],\r\n    borderRadius:theme.customization.borderRadius,\r\n    color: '#000000',\r\n    borderWidth:2,\r\n  },\r\n  background:{\r\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n\r\n}));\r\n\r\n\r\nconst InventoryOrderDetail = (props) => {\r\n    const {row,openRow }= props.parentProps;\r\n  //  tam thoi\r\n    const currentUser = \"Minh Tri\";\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n      setOpen(true);\r\n    };\r\n\r\n    const handleCloseReturn = () => {\r\n      setOpen(false);\r\n    };\r\n\r\n\r\n    return (\r\n        // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\r\n        <Collapse in={ true } timeout=\"auto\" unmountOnExit>\r\n             <Box margin={1}>\r\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\r\n                 {row.name}\r\n               </Typography>\r\n\r\n             <Grid  container direction=\"row\" justifyContent=\"flex-start\">\r\n                <Grid item xs={5}>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\" > \r\n                      <Grid item xs={5} >\r\n                        <Typography variant=\"h5\" gutterBottom component=\"div\">Mã đơn nhập</Typography>    \r\n                      </Grid>\r\n                      <Grid item xs={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.id} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                      <Grid item xs={5} >\r\n                        <Typography variant=\"h5\" gutterBottom component=\"div\">Ngày bán </Typography>    \r\n                      </Grid>\r\n                      <Grid item xs={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.date} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                      <Grid item xs={5} >\r\n                        <Typography variant=\"h5\" gutterBottom component=\"div\">Nhà cung cấp</Typography>    \r\n                      </Grid>\r\n                      <Grid item xs={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.customer} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                      <Grid item xs={5} >\r\n                        <Typography variant=\"h5\"gutterBottom component=\"div\">Người trả</Typography>    \r\n                      </Grid>\r\n                      <Grid item xs={4} >\r\n                        <Typography variant=\"body1\" gutterBottom component=\"div\">{row.employee} </Typography>\r\n                      </Grid>\r\n                  </Grid>\r\n                     \r\n                  </Grid>\r\n                    <Grid item xs={5}>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={6} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">Cần trả 500.000</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={6} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng đơn nhập</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.total}</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={6} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.branch} </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\r\n                        <Grid item xs={6} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Phương thức thanh toán</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={4} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment} </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    \r\n                  </Grid>\r\n\r\n          \r\n               \r\n               </Grid>\r\n \r\n\r\n\r\n\r\n               <Typography variant=\"h4\" gutterBottom component=\"div\" style={{marginTop:30}}>\r\n                 Danh sách sản phẩm\r\n               </Typography>\r\n               <Table size=\"small\" aria-label=\"purchases\">\r\n                 <TableHead>\r\n                   <TableRow>\r\n                     <TableCell>#</TableCell>\r\n                     <TableCell>Sản phẩm</TableCell>\r\n                     <TableCell align=\"right\">Số lượng</TableCell>\r\n                     <TableCell align=\"right\">Giá nhập</TableCell>\r\n                     <TableCell align=\"right\">Thành tiền</TableCell>\r\n                   </TableRow>\r\n                 </TableHead>\r\n                 <TableBody>\r\n    \r\n                    {row.list.map((historyRow) => (\r\n                     <TableRow key={historyRow.product_id}>\r\n                       <TableCell component=\"th\" scope=\"row\">\r\n                         {historyRow.product_id}\r\n                       </TableCell>\r\n                       <TableCell>{historyRow.name}</TableCell>\r\n                       <TableCell align=\"right\">{historyRow.quantity}</TableCell>\r\n                       <TableCell align=\"right\">\r\n                         {historyRow.price}\r\n                       </TableCell>\r\n                       <TableCell align=\"right\" style={{fontWeight:700}}>\r\n                         {historyRow.quantity * historyRow.price}\r\n                       </TableCell>\r\n                       \r\n                     </TableRow>\r\n                   ))}\r\n                 </TableBody>\r\n               </Table> \r\n               <Box  className={classes.background}style={{padding:10, borderRadius:theme.customization.borderRadius, marginTop:10}}>\r\n               <Grid container direction=\"column\" >\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số mặt hàng</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tiền hàng</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.total} </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Giảm giá</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng đơn nhập</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả NCC</Typography>    \r\n                        </Grid>\r\n                        <Grid item xs={2} >\r\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                    \r\n              </Grid>\r\n              </Box>\r\n\r\n              <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}> \r\n                    {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\r\n                    {currentUser === row.employee ? \r\n                      <> <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\r\n                        <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button> </>\r\n                      : null\r\n                    }\r\n                  \r\n                  <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}} onClick={handleClickOpen}>Trả hàng</Button>\r\n                  \r\n                  <IconButton\r\n                    aria-label=\"more\"\r\n                    aria-controls=\"long-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleClick}\r\n                    size=\"small\"\r\n                    style={{marginLeft:10}}\r\n\r\n                  >\r\n                    <MoreVertIcon />\r\n                  </IconButton>\r\n\r\n                  <StyledMenu\r\n                    id=\"customized-menu\"\r\n                    anchorEl={anchorEl}\r\n                    keepMounted\r\n                    open={Boolean(anchorEl)}\r\n                    onClose={handleClose}\r\n                    \r\n                    \r\n                  >\r\n                    <StyledMenuItem>\r\n                      <ListItemIcon style={{marginRight:-15}}>\r\n                        <PrintTwoToneIcon fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"In đơn nhập\" />\r\n                    </StyledMenuItem>\r\n\r\n                    <StyledMenuItem>\r\n                      <ListItemIcon style={{marginRight:-15}}>\r\n                        <GetAppTwoToneIcon fontSize=\"small\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Xuất excel\" />\r\n                    </StyledMenuItem>\r\n                  </StyledMenu>\r\n                  \r\n              </Grid>\r\n\r\n              <Dialog fullWidth={true} maxWidth='lg' open={open} onClose={handleCloseReturn} aria-labelledby=\"form-dialog-title\">\r\n                    <InventoryReturnPopUp handleCloseReturn={handleCloseReturn} row={row} classes={classes}/>\r\n              </Dialog>\r\n                \r\n             </Box>\r\n           </Collapse>\r\n    )\r\n}\r\n\r\nexport default InventoryOrderDetail\r\n\r\nconst headCells = [\r\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\r\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\r\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\r\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\r\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\r\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\r\n;\r\n","import { makeStyles } from \"@material-ui/core\";\r\nexport default makeStyles((theme) => ({\r\n  background: {\r\n    padding: 20,\r\n    minHeight: \"100vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    background:\r\n      theme.customization.mode === \"Light\"\r\n        ? theme.palette.primary.light\r\n        : theme.customization.primaryColor[theme.customization.colorLevel],\r\n  },\r\n  container: {\r\n    background: theme.palette.background.default,\r\n    minHeight: \"90vh\",\r\n   width: 400,\r\n    padding: 20,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    backgroundColor: theme.palette.secondary.main,\r\n    margin: theme.spacing(1),\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n","import { authActions } from \"./slice/authSlice\";\r\nimport { loadingActions } from \"./slice/loadingSlice\";\r\nimport { infoActions } from \"./slice/infoSlice\";\r\nimport { customizeAction } from \"./slice/customizeSlice\";\r\nimport userApi from \"../api/userApi\";\r\nimport { pink, blue, grey } from \"@material-ui/core/colors\";\r\nimport { statusAction } from \"./slice/statusSlice\";\r\nexport const verifyToken = () => {\r\n  return async (dispatch) => {\r\n    dispatch(loadingActions.startLoad());\r\n    const verifyToken = async () => {\r\n      const response = await userApi.verify();\r\n      return response;\r\n    };\r\n    try {\r\n      const rs = await verifyToken();\r\n      if (rs) {\r\n        dispatch(authActions.logIn());\r\n        if (rs.role == \"owner\") {\r\n          dispatch(\r\n            infoActions.setUser({\r\n              ...rs.user,\r\n              permissions: [\r\n                { id: 1, name: \"inventory\", description: \"Kho hàng\" },\r\n                { id: 2, name: \"employee\", description: \"Nhân sự\" },\r\n                { id: 3, name: \"sales\", description: \"Bán hàng\" },\r\n                { id: 4, name: \"product\", description: \"Sản phẩm\" },\r\n                { id: 5, name: \"report\", description: \"Báo cáo\" },\r\n              ],\r\n            })\r\n          );\r\n        } else {\r\n          dispatch(\r\n            infoActions.setUser({ ...rs.user, permissions: rs.permissions })\r\n          );\r\n        }\r\n        dispatch(infoActions.setStore(rs.store));\r\n        dispatch(infoActions.setRole(rs.role));\r\n      } else {\r\n        dispatch(authActions.logOut());\r\n      }\r\n      dispatch(loadingActions.finishLoad());\r\n    } catch (error) {\r\n      dispatch(authActions.logOut());\r\n      dispatch(loadingActions.finishLoad());\r\n    }\r\n  };\r\n};\r\nexport const logInHandler = (userName, password) => {\r\n  return async (dispatch) => {\r\n    dispatch(loadingActions.startLoad());\r\n    const logIn = async () => {\r\n      const response = await userApi.signIn({\r\n        user_name: userName,\r\n        password: password,\r\n        role: \"owner\",\r\n      });\r\n      return response;\r\n    };\r\n    try {\r\n      const rs = await logIn();\r\n      if (rs.access_token) {\r\n        localStorage.setItem(\"token\", rs.access_token);\r\n        dispatch(authActions.logIn());\r\n        dispatch(loadingActions.finishLoad());\r\n        dispatch(\r\n          infoActions.setUser({\r\n            ...rs.user,\r\n            permissions: [\r\n              { id: 1, name: \"inventory\", description: \"Kho hàng\" },\r\n              { id: 2, name: \"employee\", description: \"Nhân sự\" },\r\n              { id: 3, name: \"sales\", description: \"Bán hàng\" },\r\n              { id: 4, name: \"product\", description: \"Sản phẩm\" },\r\n              { id: 5, name: \"report\", description: \"Báo cáo\" },\r\n            ],\r\n          })\r\n        );\r\n        dispatch(infoActions.setStore(rs.store));\r\n        dispatch(infoActions.setRole(rs.role));\r\n        // dispatch(statusAction.successfulStatus(\"Login successfully\"));\r\n      }\r\n    } catch (error) {\r\n      dispatch(authActions.logOut());\r\n      dispatch(loadingActions.finishLoad());\r\n      // dispatch(statusAction.failedStatus(\"Login failed\"));\r\n      dispatch(statusAction.failedStatus(\"Tên đăng nhập hoặc mật khẩu không đúng\"));\r\n    }\r\n  };\r\n};\r\n\r\nexport const empLogInHandler = (userName, password) => {\r\n  return async (dispatch) => {\r\n    dispatch(loadingActions.startLoad());\r\n    const logIn = async () => {\r\n      const response = await userApi.signIn({\r\n        user_name: userName,\r\n        password: password,\r\n        role: \"employee\",\r\n      });\r\n      return response;\r\n    };\r\n    try {\r\n      const rs = await logIn();\r\n      if (rs.access_token) {\r\n        localStorage.setItem(\"token\", rs.access_token);\r\n        dispatch(authActions.logIn());\r\n        dispatch(loadingActions.finishLoad());\r\n        dispatch(\r\n          infoActions.setUser({ ...rs.user, permissions: rs.permissions })\r\n        );\r\n        dispatch(infoActions.setStore(rs.store));\r\n        dispatch(infoActions.setRole(rs.role));\r\n        dispatch(statusAction.successfulStatus(\"Login successfully\"));\r\n      }\r\n    } catch (error) {\r\n      dispatch(authActions.logOut());\r\n      dispatch(loadingActions.finishLoad());\r\n      dispatch(statusAction.failedStatus(\"Login failed\"));\r\n    }\r\n  };\r\n};\r\n\r\nexport const setCustomization = (ini) => {\r\n  return (dispatch) => {\r\n    const fetchCustomization = () => {\r\n      let customization = JSON.parse(sessionStorage.getItem(\"customization\"));\r\n      dispatch(customizeAction.setBorderRadius(customization.borderRadius));\r\n      dispatch(customizeAction.setColorLevel(customization.colorLevel));\r\n      dispatch(customizeAction.setFontFamily(customization.fontFamily));\r\n      dispatch(customizeAction.setMode(customization.mode));\r\n      dispatch(customizeAction.setMenu(customization.menu));\r\n      dispatch(customizeAction.setPrimaryColor(customization.primaryColor));\r\n      dispatch(customizeAction.setSecondaryColor(customization.secondaryColor));\r\n    };\r\n    try {\r\n      fetchCustomization();\r\n    } catch (error) {\r\n      let customization = {\r\n        fontFamily: `'Roboto', sans-serif`,\r\n        borderRadius: 12,\r\n        mode: \"Light\",\r\n        menu: \"1\",\r\n        primaryColor: blue,\r\n        secondaryColor: pink,\r\n        colorLevel: 50,\r\n      };\r\n      sessionStorage.setItem(\"customization\", JSON.stringify(customization));\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const selectBranch = (uuid, name) => {\r\n  return (dispatch) => {\r\n    infoActions.setBranch({\r\n      uuid: uuid,\r\n      name: name,\r\n    });\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport useStyles from \"./styles\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logInHandler, empLogInHandler } from \"../../store/actionCreator\";\r\nimport { useFormik  } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nexport default function SignIn() {\r\n  const [isOwner, setIsOwner] = useState(false);\r\n  const loginFormik = useFormik({\r\n    initialValues: {\r\n      phone: \"\",\r\n      password: \"\"\r\n    },\r\n    validationSchema : Yup.object({\r\n      user_name: Yup.string()\r\n        .required(\"Nhập tên đăng nhập\"),\r\n      password: Yup.string().required(\"Nhập mật khẩu\"),\r\n    })\r\n  }\r\n  )\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  return (\r\n    <Box className={classes.background}>\r\n      <Paper className={classes.container}>\r\n        <Box className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography variant=\"h3\" gutterBottom color=\"textSecondary\">\r\n            CỬA HÀNG CỦA BẠN\r\n          </Typography>\r\n          <Typography variant=\"h5\">Đăng nhập</Typography>\r\n          <Box className={classes.form}>\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Tên đăng nhập\"\r\n                name=\"user_name\"\r\n                autoFocus\r\n                value = {loginFormik.values.user_name}\r\n                onChange= {loginFormik.handleChange}\r\n                error={loginFormik.touched.user_name && loginFormik.errors.user_name}\r\n                helperText={loginFormik.touched.user_name ? loginFormik.errors.user_name : null}\r\n                onBlur={loginFormik.handleBlur}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Mật khẩu\"\r\n                type=\"password\"\r\n                value = {loginFormik.values.password}\r\n                onChange= {loginFormik.handleChange}\r\n                error={loginFormik.touched.password && loginFormik.errors.password}\r\n                helperText={loginFormik.touched.password ? loginFormik.errors.password : null}\r\n                onBlur={loginFormik.handleBlur}\r\n              />\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    value={isOwner}\r\n                    color=\"primary\"\r\n                    onChange={(e, checked) => setIsOwner(checked)}\r\n                  />\r\n                }\r\n                label=\"Chủ cửa hàng\"\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled = {!(loginFormik.isValid && Object.keys(loginFormik.touched).length > 0)}\r\n                onClick={() => {\r\n                  if (isOwner) {\r\n                    dispatch(logInHandler(loginFormik.values.user_name, loginFormik.values.password));\r\n                  } else {\r\n                    dispatch(empLogInHandler(loginFormik.values.user_name, loginFormik.values.password));\r\n                  }\r\n                }}\r\n              >\r\n                Đăng nhập\r\n              </Button>\r\n            </form>\r\n            <Grid container>\r\n              <Grid item xs></Grid>\r\n              <Grid item>\r\n                <Typography\r\n                  style={{ textDecoration: \"none\" }}\r\n                  component={Link}\r\n                  to=\"/signup\"\r\n                >\r\n                  Chưa có tài khoản? Đăng kí cửa hàng mới\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  background: {\r\n    padding: 20,\r\n    minHeight: \"100vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    background:\r\n      theme.customization.mode === \"Light\"\r\n        ? theme.palette.primary.light\r\n        : theme.customization.primaryColor[theme.customization.colorLevel],\r\n  },\r\n  container: {\r\n    background: theme.palette.background.default,\r\n    minHeight: \"90vh\",\r\n    width: 400,\r\n    padding: 20,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  button: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    align: \"center\",\r\n    justifyContent: \"space-between\",\r\n    width: \"100%\",\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n","import { Button, Grid, TextField } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst UserInfo = (props) => {\r\n  const { user_formik} = { ...props };\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            name=\"name\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Họ tên\"\r\n            onChange={user_formik.handleChange}\r\n            value={user_formik.values.name}\r\n            error={user_formik.touched.name && user_formik.errors.name}\r\n            helperText={user_formik.touched.name ? user_formik.errors.name : null}\r\n            onBlur={user_formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Số điện thoại\"\r\n            name=\"phone\"\r\n            onChange={user_formik.handleChange}\r\n            value={user_formik.values.phone}\r\n            error={user_formik.touched.phone && user_formik.errors.phone}\r\n            helperText={user_formik.touched.phone ? user_formik.errors.phone : null}\r\n            onBlur={user_formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            name=\"dateOfBirth\"\r\n            type=\"date\"\r\n            defaultValue=\"1991-01-01\"\r\n            label=\"Ngày sinh\"\r\n            onChange={user_formik.handleChange}\r\n            value={user_formik.values.dateOfBirth}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Tên đăng nhập\"\r\n            name=\"user_name\"\r\n            onChange={user_formik.handleChange}\r\n            value={user_formik.values.user_name}\r\n            error={user_formik.touched.user_name && user_formik.errors.user_name}\r\n            helperText={user_formik.touched.user_name ? user_formik.errors.user_name : null}\r\n            onBlur={user_formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Mật khẩu\"\r\n            type=\"password\"\r\n            onChange={user_formik.handleChange}\r\n            value={user_formik.values.password}\r\n            error={user_formik.touched.password && user_formik.errors.password}\r\n            helperText={user_formik.touched.password ? user_formik.errors.password : null}\r\n            onBlur={user_formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            name=\"passwordConfirm\"\r\n            label=\"Nhập lại mật khẩu\"\r\n            type=\"password\"\r\n            onChange={user_formik.handleChange}\r\n            value={user_formik.values.passwordConfirm}\r\n            error={user_formik.touched.passwordConfirm && user_formik.errors.passwordConfirm}\r\n            helperText={user_formik.touched.passwordConfirm ? user_formik.errors.passwordConfirm : null}\r\n            onBlur={user_formik.handleBlur}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import {\r\n  Grid,\r\n  TextField,\r\n  Select,\r\n  FormControl,\r\n  InputLabel,\r\n  Button,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  FormHelperText,\r\n} from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport userApi from \"../../api/userApi\";\r\nimport * as Yup from \"yup\";\r\nimport { useDispatch } from \"react-redux\";\r\nconst StoreInfo = (props) => {\r\n  const { store_formik,cityList,districtList,wardList } = {\r\n    ...props,\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            name=\"name\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Tên chi nhánh\"\r\n            onChange={store_formik.handleChange}\r\n            value={store_formik.values.name}\r\n            error={store_formik.touched.name && store_formik.errors.name}\r\n            helperText={store_formik.touched.name ? store_formik.errors.name : null}\r\n            onBlur={store_formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Số điện thoại\"\r\n            name=\"phone\"\r\n            onChange={store_formik.handleChange}\r\n            value={store_formik.values.phone}\r\n            error={store_formik.touched.phone && store_formik.errors.phone}\r\n            helperText={store_formik.touched.phone ? store_formik.errors.phone : null}\r\n            onBlur={store_formik.handleBlur}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={7}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={store_formik.touched.city && store_formik.errors.city}\r\n          >\r\n            <InputLabel>Tỉnh</InputLabel>\r\n            <Select\r\n              native\r\n              name=\"city\"\r\n              label=\"Tỉnh\"\r\n              value={store_formik.values.city}\r\n              onChange={store_formik.handleChange}\r\n              onBlur={store_formik.handleBlur}\r\n            >\r\n              <option value=\"\" />\r\n              {cityList.map((city) => (\r\n                <option value={city.id}>{city.name}</option>\r\n              ))}\r\n            </Select>\r\n            {store_formik.touched.city ? (\r\n              <FormHelperText>{store_formik.errors.city}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={store_formik.touched.district && store_formik.errors.district}\r\n          >\r\n            <InputLabel>Huyện</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Huyện\"\r\n              name=\"district\"\r\n              value={store_formik.values.district}\r\n              onChange={store_formik.handleChange}\r\n              onBlur={store_formik.handleBlur}\r\n            >\r\n              <option value=\"\" />\r\n              {districtList.map((district) => (\r\n                <option value={district.id}>{district.name}</option>\r\n              ))}\r\n            </Select>\r\n            {store_formik.touched.district ? (\r\n              <FormHelperText>{store_formik.errors.district}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <FormControl\r\n            required\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            error={store_formik.touched.ward && store_formik.errors.ward}\r\n          >\r\n            <InputLabel htmlFor=\"ward\">Xã</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Xã\"\r\n              name=\"ward\"\r\n              value={store_formik.values.ward}\r\n              onChange={store_formik.handleChange}\r\n              onBlur={store_formik.handleBlur}\r\n            >\r\n              <option aria-label=\"None\" value=\"\" />\r\n              {wardList.map((ward) => (\r\n                <option value={ward.id}>{ward.name}</option>\r\n              ))}\r\n            </Select>\r\n            {store_formik.touched.ward ? (\r\n              <FormHelperText>{store_formik.errors.ward}</FormHelperText>\r\n            ) : null}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            name=\"address\"\r\n            variant=\"outlined\"\r\n            required\r\n            fullWidth\r\n            label=\"Địa chỉ\"\r\n            onChange={store_formik.handleChange}\r\n            value={store_formik.values.address}\r\n            onBlur={store_formik.handleBlur}\r\n            error={store_formik.touched.address && store_formik.errors.address}\r\n            helperText={store_formik.touched.address ? store_formik.errors.address : null}\r\n          />\r\n        </Grid>\r\n      </Grid>{\" \"}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default StoreInfo;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport userApi from \"../../api/userApi\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Button, Paper, Step, StepLabel, Stepper } from \"@material-ui/core\";\r\nimport useStyles from \"./styles\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logInHandler } from \"../../store/actionCreator\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserInfo from \"../../components/SignUp/UserInfo\";\r\nimport StoreInfo from \"../../components/SignUp/StoreInfo\";\r\nimport { loadingActions } from \"../../store/slice/loadingSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { statusAction } from \"../../store/slice/statusSlice\";\r\nimport getGeoCode from \"../../components/BranchMap/Geocode\";\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const steps = getSteps();\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n  const user_formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      user_name: '',\r\n      password: \"\",\r\n      passwordConfirm: \"\",\r\n      phone: \"\",\r\n      dateOfBirth: \"1991-01-01\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên chủ cửa hàng\"),\r\n      user_name: Yup.string().required(\"Nhập tên đăng nhập\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\")\r\n        .matches(/^\\d+$/, \"Số điển thoại không chính xác\"),\r\n      password: Yup.string().required(\"Nhập mật khẩu\").min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\r\n      passwordConfirm: Yup.string().required(\"Nhập lại mật khẩu\").oneOf([Yup.ref('password'), null], 'Mật khẩu không khớp'),\r\n    })\r\n  })\r\n  const store_formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      address: \"\",\r\n      ward: \"\",\r\n      district: \"\",\r\n      city: \"\",\r\n      phone: \"\",\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Nhập tên chi nhánh\"),\r\n      phone: Yup.string()\r\n        .length(10, \"Số điện thoại không chính xác\")\r\n        .required(\"Nhập số điện thoại\")\r\n        .matches(/^\\d+$/, \"Số điển thoại không chính xác\"),\r\n      address: Yup.string().required(\"Nhập địa chỉ\"),\r\n      city: Yup.string().required(\"Chọn tỉnh/thành phố\"),\r\n      district: Yup.string().required(\"Chọn quận/huyện\"),\r\n      ward: Yup.string().required(\"Chọn phường/xã\"),\r\n    }),\r\n  });\r\n  const dispatch = useDispatch();\r\n  const handleSignUp = async () => {\r\n    const ward = wardList.find((ward) => ward.id === store_formik.values.ward).name;\r\n    const province = cityList.find(\r\n      (city) => city.id === store_formik.values.city\r\n    ).name;\r\n    const district = districtList.find(\r\n      (district) => district.id === store_formik.values.district\r\n    ).name;\r\n\r\n    let lat, lng;\r\n    try {\r\n      ({ lat, lng } = await getGeoCode(\r\n        store_formik.values.address + \" \" + ward + \" \" + district + \" \" + province\r\n      ));\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n    const body = {\r\n      name: user_formik.values.name,\r\n      email: user_formik.values.email,\r\n      user_name: user_formik.values.user_name,\r\n      password: user_formik.values.password,\r\n      password_confirmation: user_formik.values.passwordConfirm,\r\n      phone: user_formik.values.phone,\r\n      date_of_birth: user_formik.values.dateOfBirth,\r\n      status: \"active\",\r\n      store_name: store_formik.values.name,\r\n      address: store_formik.values.address,\r\n      ward: ward,\r\n      district: district,\r\n      province: province,\r\n      store_phone: store_formik.values.phone,\r\n      default_branch: true,\r\n      lat: lat ? lat.toString() : \"\",\r\n      lng: lng ? lng.toString() : \"\",\r\n    }\r\n    try {\r\n      const response = await userApi.ownerRegister(body);\r\n      if(response.message ===\"error\"){\r\n        dispatch(statusAction.failedStatus(\"Tên tài khoản đã được sử dụng\"))\r\n      }else{\r\n        dispatch(statusAction.successfulStatus(\"Tạo cửa hàng thành công\"))\r\n        dispatch(logInHandler(user_formik.values.user_name, user_formik.values.password));\r\n      }\r\n    } catch (error) {\r\n      dispatch(statusAction.failedStatus(\"Tạo tài khoản thất bại\"))\r\n    }\r\n  };\r\n  const [cityList, setCityList] = useState([]);\r\n  const [districtList, setDistrictList] = useState([]);\r\n  const [wardList, setWardList] = useState([]);\r\n  useEffect(() => {\r\n    const loadCity = async () => {\r\n      try {\r\n        const res = await userApi.getCity();\r\n        setCityList(res.provinces);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    loadCity()\r\n  }, []);\r\n  useEffect(() => {\r\n    const loadDistrict = async (city_id) => {\r\n      if (city_id) {\r\n        try {\r\n          const res = await userApi.getDistrict(city_id);\r\n          setDistrictList(res.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    };\r\n    loadDistrict(store_formik.values.city);\r\n  }, [store_formik.values.city]);\r\n  useEffect(() => {\r\n    const loadWard = async (city_id, district_id) => {\r\n      if (city_id && district_id) {\r\n        try {\r\n          const res = await userApi.getWard(city_id, district_id);\r\n          setWardList(res.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    };\r\n    loadWard(store_formik.values.city, store_formik.values.district);\r\n  }, [store_formik.values.city, store_formik.values.district]);\r\n  return (\r\n    <Box className={classes.background}>\r\n      <Paper className={classes.container}>\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h3\" gutterBottom>\r\n            Đăng kí\r\n          </Typography>\r\n          <Stepper\r\n            activeStep={activeStep}\r\n            alternativeLabel\r\n            style={{ width: 300 }}\r\n          >\r\n            {steps.map((label) => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n          {activeStep !== 1 ? (\r\n            <UserInfo user_formik={user_formik} />\r\n          ) : (\r\n            <StoreInfo store_formik={store_formik} cityList={cityList} districtList={districtList} wardList={wardList} />\r\n          )}\r\n          <Box className={classes.button}>\r\n            <Button disabled={activeStep === 0} onClick={handleBack}>\r\n              Trở về\r\n            </Button>\r\n            {activeStep !== 1 ? (\r\n              <Button onClick={handleNext} variant=\"contained\" color=\"primary\" disabled={!(user_formik.isValid && Object.keys(user_formik.touched).length > 0)}>\r\n                Tiếp tục\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                onClick={handleSignUp}\r\n                disabled={!(store_formik.isValid && Object.keys(store_formik.touched).length > 0)}\r\n              >\r\n                Đăng ký\r\n              </Button>\r\n            )}\r\n          </Box>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Typography\r\n                style={{ textDecoration: \"none\" }}\r\n                component={Link}\r\n                to=\"/login\"\r\n              >\r\n                Đã có tài khoản ? Đăng nhập ngay\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n}\r\n\r\nfunction getSteps() {\r\n  return [\"Điền thông tin người dùng\", \"Điền thông tin chủ cửa hàng\"];\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Route, Redirect, useLocation } from \"react-router-dom\";\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\r\n  const location = useLocation()\r\n  if(isLoggedIn){\r\n    sessionStorage.setItem(\"BKRMprev\",location.pathname)\r\n  }\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        isLoggedIn ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\nexport default PrivateRoute;\r\n","import { makeStyles } from \"@material-ui/styles\";\r\nexport default makeStyles((theme) => ({\r\n  container: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    padding: 10,\r\n    minWidth: \"100%\",\r\n    minHeight: \"100vh\",\r\n  },\r\n  modal: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    display: \"flex\",\r\n    width: \"100vw\",\r\n    minHeight: \"100vh\",\r\n  },\r\n  box: {\r\n    width: \"100%\",\r\n  },\r\n  btn: {\r\n    marginTop: -9,\r\n    marginRight: -3,\r\n  },\r\n  loading: {\r\n    maxWidth: 100,\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { Modal, Box, Paper } from \"@material-ui/core\";\r\nimport useStyles from \"./styles\";\r\nimport { useSelector } from \"react-redux\";\r\nexport default function SimpleModal() {\r\n  const isLoading = useSelector((state) => state.loading.isLoading);\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Modal\r\n        open={isLoading}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        <React.Fragment>\r\n          <Paper>\r\n            <Box className={classes.container}></Box>\r\n          </Paper>\r\n        </React.Fragment>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/video_thesis.4b888578.mov\";","export default __webpack_public_path__ + \"static/media/clickVid.139be669.mov\";","export default __webpack_public_path__ + \"static/media/Order - new.b6a35687.png\";","export default __webpack_public_path__ + \"static/media/Create new product.58e13285.png\";","export default __webpack_public_path__ + \"static/media/web1.737858eb.png\";","export default __webpack_public_path__ + \"static/media/web.ad11c60f.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n//import library\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Drawer,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  CardMedia,\r\n  Container,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\n//import icons\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\n\r\nimport video from \"../../assets/img/mainPage/video_thesis.mov\";\r\nimport video1 from \"../../assets/img/mainPage/clickVid.mov\";\r\n// import app from '../../assets/img/mainPage/Screen Shot 2021-10-26 at 21.16.29.png'\r\n// import app1 from '../../assets/img/mainPage/Screen Shot 2021-10-26 at 21.17.43.png'\r\nimport app from \"../../assets/img/mainPage/Order - new.png\";\r\nimport app1 from \"../../assets/img/mainPage/Create new product.png\";\r\nimport web from \"../../assets/img/mainPage/web.png\";\r\nimport web1 from \"../../assets/img/mainPage/web1.png\";\r\nimport { borderColor } from \"@material-ui/system\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    background: theme.palette.background.default,\r\n  },\r\n  appBar: {\r\n    background: theme.palette.background.paper,\r\n    padding: 15,\r\n    boxShadow: \"none\",\r\n  },\r\n  toolBar: {\r\n    background: theme.palette.background.paper,\r\n    color: theme.customization.themeGreyText,\r\n  },\r\n  btnNav: {\r\n    textTransform: \"none\",\r\n    marginRight: 10,\r\n  },\r\n  videosm: {\r\n    width: \"50%\",\r\n  },\r\n  videoupsm: {\r\n    width: \"95%\",\r\n  },\r\n  color: {},\r\n}));\r\nconst ColorButton = styled(Button)(({ theme }) => ({\r\n  color: \"#ffffff\",\r\n  backgroundColor: \"#ff906d\",\r\n  width: 100,\r\n  \"&:hover\": {\r\n    backgroundColor: \"#fa6232\",\r\n  },\r\n}));\r\nconst ColorOutlineButton = styled(Button)(({ theme }) => ({\r\n  color: \"#ff906d\",\r\n  borderColor: \"#ff906d\",\r\n  \"&:hover\": {\r\n    backgroundColor: \"#fff0eb\",\r\n  },\r\n}));\r\n\r\nconst MainPage = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const matchDownXs = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n  const matchDownSm = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar className={classes.toolBar}>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"space-between\"\r\n          >\r\n            <Grid item sm={2}>\r\n              <Typography variant=\"h3\" noWrap className={classes.searchEngine}>\r\n                BKRM\r\n              </Typography>\r\n            </Grid>\r\n            {matchDownSm ? (\r\n              <Grid>\r\n                <IconButton\r\n                  aria-label=\"open drawer\"\r\n                  onClick={() => {}}\r\n                  edge=\"start\"\r\n                >\r\n                  <MenuIcon />\r\n                </IconButton>\r\n              </Grid>\r\n            ) : (\r\n              <Grid container item sm={10} direction=\"row\" alignItems=\"center\">\r\n                <Grid container item sm={8} direction=\"row\">\r\n                  <Button className={classes.btnNav}>Trang chủ</Button>\r\n                  <Button className={classes.btnNav}>Giới thiệu</Button>\r\n                  <Button className={classes.btnNav}>Giới thiệu</Button>\r\n                  <Button className={classes.btnNav}>Giới thiệu</Button>\r\n                  <Button className={classes.btnNav}>Giới thiệu</Button>\r\n                </Grid>\r\n                <Grid\r\n                  container\r\n                  item\r\n                  sm={4}\r\n                  direction=\"row\"\r\n                  justifyContent=\"flex-end\"\r\n                >\r\n                  <ColorOutlineButton\r\n                    className={classes.btnNav}\r\n                    variant=\"outlined\"\r\n                    style={{ borderRadius: 20, marginBottom: 5 }}\r\n                  >\r\n                    Đăng nhập\r\n                  </ColorOutlineButton>\r\n                  <ColorButton\r\n                    className={classes.btnNav}\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    style={{\r\n                      borderRadius: 20,\r\n                      marginLeft: 10,\r\n                      marginBottom: 5,\r\n                    }}\r\n                  >\r\n                    Đăng ký\r\n                  </ColorButton>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      <Box style={{ marginTop: 130 }}>\r\n        {/* SECTION 1 */}\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Grid\r\n            container\r\n            item\r\n            xs={12}\r\n            sm={6}\r\n            direction=\"column\"\r\n            style={{ paddingLeft: 45, paddingRight: 20 }}\r\n          >\r\n            {matchDownXs ? null : (\r\n              <Grid container direction=\"row\" justifyContent=\"flex-end\">\r\n                <video\r\n                  loop={false}\r\n                  autoPlay={true}\r\n                  muted={true}\r\n                  style={{ width: \"12%\" }}\r\n                >\r\n                  <source src={video1} type=\"video/mp4\" />\r\n                </video>\r\n              </Grid>\r\n            )}\r\n            <Typography\r\n              style={{\r\n                fontSize: matchDownXs ? \"10vw\" : \"6vw\",\r\n                color: theme.customization.themeText,\r\n              }}\r\n            >\r\n              Phần mềm\r\n            </Typography>\r\n            <Typography\r\n              style={{\r\n                fontSize: matchDownXs ? \"10vw\" : \"6vw\",\r\n                color: theme.customization.themeText,\r\n                marginBottom: 20,\r\n              }}\r\n            >\r\n              Quản lý bán lẻ\r\n            </Typography>\r\n            <Grid container style={{ marginBottom: 40 }} direction=\"row\">\r\n              <Grid container item xs={1} style={{ marginRight: -10 }}>\r\n                <Divider\r\n                  orientation=\"vertical\"\r\n                  flexItem\r\n                  style={{ width: 2, backgroundColor: \"#ff906d\" }}\r\n                />\r\n              </Grid>\r\n              <Grid container item xs={11}>\r\n                <Typography\r\n                  style={{\r\n                    fontSize: 14,\r\n                    color: theme.customization.themeGreyText,\r\n                    paddingRight: 50,\r\n                  }}\r\n                >\r\n                  Hỗ trợ bạn tự động hóa quy trình bán hàng từ việc quản lý kho,\r\n                  nhân sự, nhà cung cấp, khách hàng\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <ColorButton\r\n              className={classes.btnNav}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              style={{ borderRadius: 20, width: 100 }}\r\n            >\r\n              Dùng thử\r\n            </ColorButton>\r\n          </Grid>\r\n\r\n          <Grid container item xs={12} sm={6} justifyContent=\"center\">\r\n            <video\r\n              loop={false}\r\n              autoPlay={true}\r\n              muted={true}\r\n              className={matchDownXs ? classes.videosm : classes.videoupsm}\r\n            >\r\n              <source src={video} type=\"video/mp4\" />\r\n            </video>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* SECTION 2 */}\r\n        <Grid>\r\n          <Container\r\n            style={{\r\n              backgroundColor: \"#f3fdff\",\r\n              marginTop: 150,\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Box\r\n                component=\"img\"\r\n                sx={{\r\n                  height: matchDownSm ? \"90%\" : \"70%\",\r\n                  width: matchDownSm ? \"90%\" : \"70%\",\r\n                  borderRadius: matchDownXs ? 10 : 20,\r\n                  // marginRight:15,\r\n                }}\r\n                border={1}\r\n                borderColor={grey[400]}\r\n                src={web1}\r\n              />\r\n            </Grid>\r\n          </Container>\r\n        </Grid>\r\n\r\n        {/* SECTION 3 */}\r\n        <Grid>\r\n          <Container\r\n            style={{\r\n              backgroundColor: \"#f3fdff\",\r\n              marginTop: 150,\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Box\r\n                component=\"img\"\r\n                sx={{\r\n                  height: \"22%\",\r\n                  width: \"22%\",\r\n                  borderRadius: matchDownXs ? 10 : 30,\r\n                  marginRight: 15,\r\n                }}\r\n                border={1}\r\n                borderColor={grey[400]}\r\n                src={app1}\r\n              />\r\n              <Box\r\n                component=\"img\"\r\n                sx={{\r\n                  height: \"22%\",\r\n                  width: \"22%\",\r\n                  borderRadius: matchDownXs ? 10 : 30,\r\n                }}\r\n                border={1}\r\n                borderColor={grey[400]}\r\n                src={app}\r\n              />\r\n            </Grid>\r\n          </Container>\r\n        </Grid>\r\n\r\n        {/* SECTION 4 */}\r\n\r\n        {/* FOOTER */}\r\n        <Grid>\r\n          <Container\r\n            style={{\r\n              backgroundColor: \"#ff906d\",\r\n              marginTop: 150,\r\n              justifyContent: \"center\",\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Box\r\n                sx={{\r\n                  height: 200,\r\n                  width: matchDownSm ? \"90%\" : \"70%\",\r\n                  borderRadius: matchDownXs ? 10 : 20,\r\n                  marginRight: 15,\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Container>\r\n        </Grid>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n","import * as React from 'react'\r\nimport { useTheme, makeStyles, styled ,lighten,darken} from \"@material-ui/core/styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HoverMenu from 'material-ui-popup-state/HoverMenu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ChevronRight from '@material-ui/icons/ChevronRight'\r\nimport Button from '@material-ui/core/Button'\r\nimport {\r\n  usePopupState,\r\n  bindHover,\r\n  bindFocus,\r\n  bindMenu,\r\n} from 'material-ui-popup-state/hooks'\r\nimport { grey} from '@material-ui/core/colors'\r\nimport { Route, useRouteMatch } from \"react-router-dom\";\r\n\r\nconst useCascadingMenuStyles = makeStyles((theme) => ({\r\n  submenu: {\r\n    marginTop: theme.spacing(-1),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    color:grey[700],\r\n    width:150,\r\n    // marginLeft:4,\r\n    // marginRight:4,\r\n    // \"&:hover\": {\r\n    //   backgroundColor: theme.customization.primaryColor[50],\r\n    // }\r\n},\r\n  moreArrow: {\r\n    marginRight: theme.spacing(-1),\r\n  },\r\n  btnNav:{\r\n    textTransform: 'none',\r\n  \r\n},\r\n\r\n}))\r\n\r\nconst CascadingContext = React.createContext({\r\n  parentPopupState: null,\r\n  rootPopupState: null,\r\n})\r\n\r\nfunction CascadingMenuItem({ onClick,title, id ,...props }) {\r\n  const classes = useCascadingMenuStyles()\r\n  let { path } = useRouteMatch();\r\n  const { rootPopupState } = React.useContext(CascadingContext)\r\n  if (!rootPopupState) throw new Error('must be used inside a CascadingMenu')\r\n  const handleClick = React.useCallback(\r\n    (event) => {\r\n      rootPopupState.close(event)\r\n        props.handleClickItem(title)\r\n        \r\n    },\r\n    [rootPopupState, onClick]\r\n  )\r\n\r\n  return <MenuItem button {...props} onClick={handleClick} className={classes.title} \r\n    /* SỬA PATH NÈEEEEEE */\r\n    component={Link} to={`${path}/products/${id}`} \r\n   />\r\n}\r\n\r\nfunction CascadingSubmenu({ onClick,title,id, popupId, ...props }) {\r\n  let { url } = useRouteMatch();\r\n  const classes = useCascadingMenuStyles()\r\n  const { parentPopupState } = React.useContext(CascadingContext)\r\n  const popupState = usePopupState({\r\n    popupId,\r\n    variant: 'popover',\r\n    parentPopupState,\r\n  })\r\n\r\n  const { rootPopupState } = React.useContext(CascadingContext)\r\n  if (!rootPopupState) throw new Error('must be used inside a CascadingMenu')\r\n  const handleClick = React.useCallback(\r\n    (event) => {\r\n        rootPopupState.close(event)\r\n \r\n        props.handleClickItem(title)\r\n       \r\n    },\r\n    [rootPopupState, onClick]\r\n  )\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <MenuItem {...bindHover(popupState)} {...bindFocus(popupState)} className={classes.title} onClick={handleClick} \r\n        /* SỬA PATH NÈEEEEEE */\r\n        component={Link} to={`${url}/category/${id}`}\r\n      >\r\n        <span className={classes.title}>{title}</span>\r\n        <ChevronRight className={classes.moreArrow} fontSize=\"small\" />\r\n      </MenuItem>\r\n      \r\n      <CascadingMenu\r\n        {...props}\r\n        classes={{ ...props.classes, paper: classes.submenu }}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'left' }}\r\n        popupState={popupState}\r\n        style={{margin:2}}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nfunction CascadingMenu({ popupState, ...props }) {\r\n  const { rootPopupState } = React.useContext(CascadingContext)\r\n  const context = React.useMemo(\r\n    () => ({\r\n      rootPopupState: rootPopupState || popupState,\r\n      parentPopupState: popupState,\r\n    }),\r\n    [rootPopupState, popupState]\r\n  )\r\n\r\n  return (\r\n    <CascadingContext.Provider value={context} >\r\n      <HoverMenu {...props} {...bindMenu(popupState)} />\r\n    </CascadingContext.Provider>\r\n  )\r\n}\r\nconst HoverMenuBtn = (props) => {\r\n  const {handleClickItem,category,textColor,textSize,textBold} = props;\r\n  let { url } = useRouteMatch();\r\n  const classes = useCascadingMenuStyles();\r\n  const popupState = usePopupState({\r\n    popupId: 'demoMenu',\r\n    variant: 'popover',\r\n  })\r\n  const renderTree = (nodes) => {\r\n        if(nodes.children){\r\n           return(\r\n            <CascadingSubmenu \r\n         \r\n            popupId={nodes.uuid} \r\n            id={nodes.id}\r\n            title={nodes.name} \r\n            handleClickItem={handleClickItem}\r\n         >\r\n           {\r\n           nodes.children.length ? nodes.children.map((node) => renderTree(node)) : \r\n                <CascadingMenuItem \r\n               \r\n                id={nodes.id}\r\n                title={nodes.name} \r\n                handleClickItem={handleClickItem}\r\n                >\r\n                    {nodes.name}\r\n                </CascadingMenuItem>\r\n           }\r\n        </CascadingSubmenu>\r\n           )\r\n        }else{\r\n            return(\r\n                <CascadingMenuItem \r\n                id={nodes.id}\r\n                title={nodes.title} \r\n                handleClickItem={handleClickItem}\r\n                >\r\n                    {nodes.title}\r\n                </CascadingMenuItem>\r\n            );\r\n        }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        {...bindHover(popupState)}\r\n        {...bindFocus(popupState)}\r\n        className={classes.btnNav} \r\n        style={{color:textColor, fontWeight:textBold, fontSize:textSize}}\r\n        component={Link} to={`${url}/products/all`}\r\n      >\r\n        Sản phẩm\r\n      </Button>\r\n      <CascadingMenu\r\n        popupState={popupState}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'left' }}  \r\n      >\r\n        \r\n        {category.map((nodes)=> renderTree(nodes))}\r\n\r\n      </CascadingMenu>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HoverMenuBtn\r\n\r\n// const category =[\r\n//     {\r\n//         id:1,\r\n//         title:\"Quần áo\",\r\n//         children:[\r\n//             {\r\n//                 id:6,\r\n//                 title:\"Quần\",\r\n//                 children:[\r\n//                     {title:\"Quần dài\"},\r\n//                     {title:\"Quần đùi\"},\r\n//                 ]\r\n//             },\r\n//             {\r\n//                 id:7,\r\n//                 title:\"Áo\",\r\n//                 children:[\r\n//                     {title:\"Áo dài\"},\r\n//                     {title:\"Áo thun\"},\r\n//                 ]\r\n            \r\n//             },\r\n//             {id:8,title:\"Đầm\"},\r\n//             {id:9,title:\"Váy\"},\r\n\r\n//         ]\r\n//     },\r\n//     {\r\n//         id:2,\r\n//         title:\"Phụ kiện\",\r\n//         children:[\r\n//             {id:10,title:\"Nón\"},\r\n//             {id:11,title:\"Mắt kiếng\"},\r\n//         ]\r\n//     },\r\n//     {id:3,title:\"Túi xách\"},\r\n//     {id:4,title:\"Giày dép\"},\r\n//     {id:5,title:\"Quần\"}\r\n\r\n// ]\r\n\r\n\r\n","import React from \"react\";\r\nimport { useTheme, makeStyles, styled ,lighten,darken} from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n//import library\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  Tooltip,\r\n  ButtonBase,\r\n  Avatar,\r\n  Badge,\r\n  List,\r\n  Drawer,\r\n  ListItem,\r\n  ListItemText,\r\n  Divider\r\n} from \"@material-ui/core\";\r\n//import icons\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport HoverMenuBtn from \"../../../components/Button/HoverMenuBtn\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport AccountCircleTwoToneIcon from '@material-ui/icons/AccountCircleTwoTone';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport AccountCircleRoundedIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport ShoppingCartTwoToneIcon from '@material-ui/icons/ShoppingCartTwoTone';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport {ColorButton,ColorOutlineButton} from \"../../../components/Button/ColorButton\"\r\nimport clsx from 'clsx';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        paddingLeft: 20,\r\n        paddingRight: 20,\r\n        boxShadow: \"none\",\r\n    },\r\n    toolBar: {\r\n        color: theme.customization.themeGreyText,\r\n    },\r\n    btnNav: {\r\n        textTransform: \"none\",\r\n        marginRight: 10,\r\n    },   \r\n}));\r\n\r\nconst NavBar = (props) => {\r\n    const {storeInfo,logo, handleClickItem,category} = props;\r\n    const {buttonLogin,buttonCart,navColor,textNav} = props.webInfo.navBar;\r\n    const mainColor=`rgba(${ props.webInfo.mainColor.r }, ${ props.webInfo.mainColor.g }, ${ props.webInfo.mainColor.b }, ${ props.webInfo.mainColor.a })`\r\n\r\n    // \r\n    let { url } = useRouteMatch();\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const matchDownSm = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n    // customization\r\n    function handleColor (type) {\r\n      if(type===0){return '#000'}\r\n      else if (type===1){return '#fff'}\r\n      else if (type===3){return mainColor}\r\n      else{return theme.darkTextPrimary }\r\n    }\r\n    const textColor = handleColor(parseInt(textNav[0]));\r\n    const textSize = parseInt(textNav[1])\r\n    const textBold = parseInt(textNav[2])\r\n  \r\n    //\r\n    const [state, setState] = React.useState(false);\r\n    const toggleDrawer = (open) => {\r\n      setState(open);\r\n    };\r\n\r\n    const drawer = () => (\r\n      <div\r\n        className={clsx(classes.list)}\r\n        role=\"presentation\"\r\n        onClick={()=>toggleDrawer(false)}\r\n        onKeyDown={()=>toggleDrawer(false)}\r\n      >\r\n        <List>\r\n          {[{text:'Trang chủ', link:''}, {text:'Sản phẩm', link:''}, {text:'Cửa hàng', link:'storeInfo'}].map((tab, index) => {\r\n            if(tab.text !== \"Sản phẩm\" ){\r\n              return(\r\n              <>\r\n                <ListItem button key={tab.text} style={{width:220, margin:7}}\r\n                component={Link}\r\n                to={`/store/${props.storeInfo?.web_page}/${tab.link}`}>\r\n                <Typography style={{ color: '#000',  fontWeight: textBold,  fontSize: textSize,}}>\r\n                  {tab.text} \r\n                </Typography>\r\n              </ListItem>\r\n                <Divider />\r\n              </>\r\n              )\r\n            }else{\r\n              return( /* Sửa Link Sản Phẩm Sau */\r\n              <>\r\n              <ListItem button key={tab.text}  style={{width:220, margin:7}}>  \r\n                <Typography   style={{ color: '#000',  fontWeight: textBold, fontSize: textSize,}}>\r\n                  {tab.text} \r\n                </Typography>\r\n               </ListItem>\r\n               <Divider />\r\n            </>)\r\n            }})}\r\n        </List>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={classes.appBar}\r\n        style={{\r\n          background: parseInt(navColor) ? mainColor : theme.palette.background.paper,\r\n        }}\r\n      >\r\n        <Toolbar\r\n          className={classes.toolBar}\r\n          style={{\r\n            background: parseInt(navColor) ? mainColor : theme.palette.background.paper,\r\n          }}\r\n        >\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"space-between\"\r\n          >\r\n            <Grid item sm={2} \r\n            component={Link}\r\n            to={`${url}`}\r\n            >\r\n              <img src={logo} style={{height:45,marginTop:-5,marginBottom:-5}}/>\r\n            </Grid>\r\n            {/* Small screen */}\r\n            {matchDownSm ? (\r\n              <Grid>\r\n                <IconButton\r\n                  aria-label=\"open drawer\"\r\n                  onClick={()=>toggleDrawer( true)}\r\n                  edge=\"start\"\r\n                  style={{ marginBottom: -5 }}\r\n                >\r\n                  <MenuIcon />\r\n                </IconButton>\r\n                <React.Fragment key={'right'}>\r\n                  <Drawer anchor=\"right\" open={state} onClose={()=>toggleDrawer(false)}>\r\n                    {drawer()}\r\n                  </Drawer>\r\n                </React.Fragment>\r\n              </Grid>\r\n            ) : (\r\n              //Nav bar\r\n              <Grid container item sm={10} direction=\"row\" alignItems=\"center\">\r\n                <Grid container item sm={8} direction=\"row\">\r\n                  <Button\r\n                    className={classes.btnNav}\r\n                    component={Link}\r\n                    to={`${url}`}\r\n                    style={{\r\n                      color: textColor,\r\n                      fontWeight: textBold,\r\n                      fontSize: textSize,\r\n                    }}\r\n                  >\r\n                    Trang chủ\r\n                  </Button>\r\n                  <HoverMenuBtn\r\n                    className={classes.btnNav}\r\n                    handleClickItem={handleClickItem}\r\n                    category={category}\r\n                    // style\r\n                    textColor={textColor}\r\n                    textSize={textSize}\r\n                    textBold={textBold}\r\n                  >\r\n                  </HoverMenuBtn>\r\n                  <Button\r\n                    className={classes.btnNav}\r\n                    component={Link}\r\n                    to={`${url}/promotion`}\r\n                    style={{\r\n                      color: textColor,\r\n                      fontWeight: textBold,\r\n                      fontSize: textSize,\r\n                    }}\r\n                  >\r\n                    Khuyến mãi\r\n                  </Button>\r\n                  <Button\r\n                    className={classes.btnNav}\r\n                    component={Link}\r\n                    to={`${url}/storeInfo`}\r\n                    style={{\r\n                      color: textColor,\r\n                      fontWeight: textBold,\r\n                      fontSize: textSize,\r\n                    }}\r\n                  >\r\n                    Cửa hàng\r\n                  </Button>\r\n                  {/* <Button\r\n                    className={classes.btnNav}\r\n                    component={Link}\r\n                    to={`/store/${props.storeInfo?.web_page}/aboutUs`}\r\n                    style={{\r\n                      color: textColor,\r\n                      fontWeight: textBold,\r\n                      fontSize: textSize,\r\n                    }}\r\n                  >\r\n                    Giới thiệu\r\n                  </Button> */}\r\n                </Grid>\r\n\r\n                {/* Nút đặng nhập */}\r\n                <Grid\r\n                  container\r\n                  item\r\n                  sm={4}\r\n                  direction=\"row\"\r\n                  justifyContent=\"flex-end\"\r\n                >\r\n                  {parseInt(buttonLogin) == 0? \r\n                  <>\r\n                   <ColorOutlineButton\r\n                   mainColor={mainColor}\r\n                   navColor={parseInt(navColor)}\r\n                   className={classes.btnNav}\r\n                   variant=\"outlined\"\r\n                   style={{ borderRadius: 20, marginBottom: 5 }}\r\n                 >\r\n                   Đăng nhập\r\n                 </ColorOutlineButton>\r\n                 <ColorButton\r\n                   mainColor={mainColor}\r\n                   navColor={parseInt(navColor)}\r\n                   className={classes.btnNav}\r\n                   variant=\"contained\"\r\n                   color=\"secondary\"\r\n                   style={{\r\n                     borderRadius: 20,\r\n                     marginLeft: 10,\r\n                     marginBottom: 5,\r\n                   }}\r\n                 >\r\n                   Đăng ký\r\n                 </ColorButton>\r\n                 </>\r\n                  : \r\n                  <AccountCircleRoundedIcon  style={{width:40, height:40, color:parseInt(navColor) === 0? mainColor:\"#fff\"}}/>\r\n                  }\r\n                  {/* Nút cart */}\r\n                  {parseInt(buttonCart) === 1 ? \r\n                    <div style={{backgroundColor:parseInt(navColor) === 0? mainColor:'#fff',width:37, height:37,marginTop:2,paddingTop:7, paddingLeft:7,borderRadius:40,marginLeft:15}}\r\n                    component={Link}\r\n                    to={`${url}/cart`}\r\n                    >\r\n                      <Tooltip title=\"Giỏ hàng\">\r\n                        <StyledBadge color=\"error\" badgeContent={3}>\r\n                          <ShoppingCartIcon  style={{color:parseInt(navColor) === 0?\"#fff\":mainColor}}/>\r\n                        </StyledBadge>\r\n                      </Tooltip>\r\n                  </div>\r\n                 :null\r\n                  }\r\n                 \r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n}\r\n\r\nexport default NavBar\r\n\r\nconst StyledBadge = styled(Badge)(({ theme }) => ({\r\n  \"& .MuiBadge-badge\": {\r\n    border: `1px solid #000`,\r\n    padding: \"0 4px\",\r\n  },\r\n}));","import { useTheme, makeStyles, styled ,lighten,darken} from \"@material-ui/core/styles\";\r\nimport { grey} from '@material-ui/core/colors'\r\n\r\nexport const useStyles = makeStyles((theme,) => ({\r\n    container:{\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    grid:{\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    item:{  \r\n        marginBottom:20,\r\n    },\r\n    colorCard:{\r\n        background: theme.customization.mode === \"Light\"? null: grey[800],\r\n    },\r\n    multiLineEllipsis: {\r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        display: \"-webkit-box\",\r\n        \"-webkit-line-clamp\": 2,\r\n        \"-webkit-box-orient\": \"vertical\",\r\n        height:37, \r\n        marginBottom:12,\r\n    },\r\n    oneLineEllipsis: {    \r\n        overflow: \"hidden\",\r\n        textOverflow: \"ellipsis\",\r\n        display: \"-webkit-box\",\r\n        \"-webkit-line-clamp\": 1,\r\n        \"-webkit-box-orient\": \"vertical\",\r\n        marginBottom:8,\r\n       \r\n    },\r\n    name:{\r\n         \r\n    },\r\n    hoverCard:{\r\n        boxShadow:'0px 10px 20px rgba(0,0,0,0.1)',\r\n        \"&:hover\": {\r\n          boxShadow:'0px 10px 20px rgba(0,0,0,0.15)',\r\n        }\r\n    },\r\n    alignCenter:{\r\n        flexGrow: 1,textAlign: \"center\"\r\n    }\r\n}));\r\n","import React from 'react'\r\nimport { useTheme, makeStyles, styled ,lighten} from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport clsx from \"clsx\";\r\nimport AddIcon from '@mui/icons-material/Add';\r\n// import useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\r\n//import library \r\nimport {Button,Grid,Card,Box,CardActions,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography, darken} from '@material-ui/core'\r\nimport icon from '../../../../assets/img/product/tradao.jpeg';\r\n// import icon from '../../../assets/img/product/tap.png';\r\n// import icon from '../../../assets/img/product/rice.png';\r\n//import project \r\n// import InventoryList from '../../../../assets/JsonData/inventory.json'\r\nimport { grey} from '@material-ui/core/colors'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Route, useRouteMatch, useParams } from \"react-router-dom\";\r\nimport {useStyles} from './style'\r\nimport {ColorOutlineButtonCart} from \"../../../../components/Button/ColorButton\"\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { customerPageActions } from '../../../../store/slice/customerPageSlice';\r\nimport { success } from '../../../../components/StatusModal/StatusModal';\r\nimport _ from 'lodash'\r\nconst ProductList = (props) => {\r\n    let { categoryId } = useParams();\r\n    const {mainColor, priceStyle,btnStyle,isMargin,border,alignCenter,nameStyle,isBox,marginContainer,boxDistance, InventoryList} = props;\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    \r\n    let {url} = useRouteMatch();\r\n    const {order} = useSelector(state => state.customerPage)\r\n\r\n\r\n    //customization \r\n    const lgScreen = useMediaQuery(theme.breakpoints.down(\"lg\")) ;\r\n    const mdScreen = useMediaQuery(theme.breakpoints.down(\"md\")) ;\r\n    const smScreen = useMediaQuery(theme.breakpoints.down(\"sm\")) ;\r\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\r\n    let numOfItemInRow = 6;\r\n    if(xsScreen){numOfItemInRow=2}\r\n    else if(smScreen){numOfItemInRow=3}\r\n    else if(mdScreen){numOfItemInRow=4}\r\n    else if(lgScreen){numOfItemInRow=5}\r\n    else {numOfItemInRow=6}\r\n    let widthSize = `${((100-marginContainer*2)/numOfItemInRow)-boxDistance*2}vw`\r\n    function handleColor (type) {\r\n        if(type===0){return theme.heading}\r\n        else if (type===1){return theme.darkTextPrimary }\r\n        else{return mainColor}\r\n    }\r\n \r\n    const nameColor = handleColor(nameStyle[0])\r\n    const nameSize = nameStyle[1]?\"h4\":\"h5\";\r\n    const nameBold = nameStyle[2]? 600:500;\r\n    const nameLineClass = nameStyle[3]?classes.multiLineEllipsis:classes.oneLineEllipsis\r\n    const priceColor = handleColor(priceStyle[0])\r\n    const priceSize =priceStyle[1]?16:14\r\n    const priceBold = priceStyle[2]?600:400\r\n    \r\n    const dispatch = useDispatch()\r\n    const openPopUp = (product) =>{\r\n        const newItem = {...product}\r\n        try {\r\n            console.log(newItem);\r\n            const index = order.cartItem.findIndex(item => item.uuid === newItem.uuid);\r\n            console.log(index)\r\n            const newOrder = _.cloneDeep(order);\r\n            if (index !== -1) {\r\n                newOrder.cartItem[index].quantity += 1;\r\n            } else {\r\n                newItem.quantity = 1;\r\n                newOrder.cartItem.push(newItem);\r\n            }\r\n            dispatch(customerPageActions.setOrder(newOrder))\r\n            success(\"Thêm sản phẩm thành công\")\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <Box className={classes.container} style={{marginLeft:`${marginContainer}vw`,marginRight:`${marginContainer}vw`,}}>\r\n            <Grid container direction=\"row\" spacing={2} justifyContent=\"center\" >\r\n             {/* Đổi list đúng với category */}\r\n             {InventoryList?.map(item=>{\r\n                 return( \r\n                     <>\r\n                     {isBox?\r\n                     <Card  className={clsx(classes.hoverCard,classes.item,classes.colorCard)} style={{margin:`${boxDistance}%`, width:widthSize, borderRadius:border?7:0}} >\r\n                        <CardActionArea \r\n                            // component={Link} to={`${url}/products/${item.product_code}`} \r\n                        >\r\n                            <CardMedia\r\n                                style={{height:widthSize, margin:isMargin?10:0, marginBottom:isMargin?-5:0, borderRadius:border&& isMargin ?7:0}}\r\n                                image={item.img_urls.length  ? item.img_urls[0].url : ''}\r\n                            />\r\n                            <Box style={{marginTop:10}}>\r\n                                <CardContent>\r\n                                    < InfoComponent openPopUp={openPopUp}  item={item} mainColor={mainColor} btnStyle={btnStyle} alignCenter={alignCenter} nameColor={nameColor} priceColor={priceColor} nameSize={nameSize} nameBold={nameBold} nameLineClass={nameLineClass} priceBold={priceBold}priceSize={priceSize} />\r\n                                </CardContent>   \r\n                            </Box>\r\n                        </CardActionArea>\r\n                    </Card> :\r\n                    <Box  className={clsx(/*classes.hoverCard,*/classes.item)} style={{margin:`${boxDistance}%`,width:widthSize, borderRadius:border?7:0}} >\r\n                        <CardActionArea \r\n                            // component={Link} to={`${url}/products/${item.product_code}`}\r\n                        >\r\n                            <CardMedia\r\n                                style={{height:widthSize, margin:isMargin?10:0, marginBottom:isMargin?-5:0, borderRadius:border?7:0}}\r\n                                image={item.img_urls.length  ? item.img_urls[0].url : ''}\r\n                            />\r\n                            <Box style={{marginTop:10}}>\r\n                                {isMargin? \r\n                                <CardContent>\r\n                                    < InfoComponent openPopUp={openPopUp}  item={item} mainColor={mainColor} btnStyle={btnStyle} alignCenter={alignCenter} nameColor={nameColor} priceColor={priceColor} nameSize={nameSize} nameBold={nameBold} nameLineClass={nameLineClass} priceBold={priceBold}priceSize={priceSize} />\r\n                                </CardContent>\r\n                                :\r\n                                < InfoComponent openPopUp={openPopUp}  item={item} mainColor={mainColor} btnStyle={btnStyle} alignCenter={alignCenter} nameColor={nameColor} priceColor={priceColor} nameSize={nameSize} nameBold={nameBold} nameLineClass={nameLineClass} priceBold={priceBold}priceSize={priceSize} />\r\n                            }    \r\n                            </Box>\r\n                        </CardActionArea>\r\n                    </Box>\r\n                     } \r\n                </>\r\n                )\r\n             })}\r\n            </Grid>\r\n        </Box>\r\n        \r\n    )\r\n}\r\nexport const InfoComponent = (props)=>{\r\n    const {openPopUp,item,mainColor,btnStyle,alignCenter, nameColor,priceColor,nameSize,nameBold,nameLineClass,priceSize,priceBold} = props;\r\n    let { path } = useRouteMatch();\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    return (\r\n        <>\r\n        <Typography gutterBottom variant={nameSize}className={clsx( nameLineClass, classes.name, alignCenter && classes.alignCenter)} style={{color:nameColor, fontWeight:nameBold}}>\r\n        {item.name}\r\n        </Typography>\r\n        {\r\n            !alignCenter && !btnStyle[1]? \r\n            <Grid container direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" style={{marginBottom:-9}}>\r\n                <Grid item>\r\n                    <Typography variant=\"body2\" style={{color:priceColor, fontWeight:priceBold, fontSize:priceSize}}  >\r\n                        {item.list_price}\r\n                    </Typography>\r\n                \r\n                </Grid>\r\n                {btnStyle[0]?\r\n                    <Grid item>\r\n                        <IconButton size=\"small\"  style={{color:'#fff', background:mainColor}} \r\n                            // Stop Ripple Effect\r\n                            onTouchStart={(event) => event.stopPropagation()}\r\n                            onMouseDown={(event) => event.stopPropagation()}\r\n                            onClick={(event) => {\r\n                                // Prevent CardActionArea Click\r\n                                event.preventDefault()\r\n                                openPopUp(item);\r\n                            }}\r\n                        >\r\n                            <AddIcon fontSize=\"small\"/>\r\n                        </IconButton>\r\n                    </Grid> :null }\r\n\r\n            </Grid>\r\n            :\r\n            <>\r\n            <Typography   className={alignCenter &&classes.alignCenter} style={{color:priceColor, fontWeight:priceBold, fontSize:priceSize}} >\r\n                {item.price}.000đ\r\n            </Typography>\r\n\r\n            {btnStyle[0]?\r\n            <ColorOutlineButtonCart variant=\"outlined\" fullWidth mainColor={mainColor} \r\n                onClick={(event) => {\r\n                    // Prevent CardActionArea Click\r\n                    event.preventDefault()\r\n                    openPopUp(item);\r\n                }}\r\n                >\r\n                Giỏ hàng\r\n            </ColorOutlineButtonCart>   \r\n            \r\n            :null }\r\n            </>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ProductList","import axiosClient from \"./axiosClient\";\r\nconst customerPageApi = {\r\n  storeInfo: (store_web_page) => {\r\n    const url = `/storeInfo`;\r\n    return axiosClient.get(url, {params: {store_web_page: store_web_page}});\r\n  },\r\n  storeProducts: (store_uuid) => {\r\n    const url = `/storeInfo/${store_uuid}/products`;\r\n    return axiosClient.get(url);\r\n  },\r\n  storeCategroies: (store_uuid) => {\r\n    const url = `/storeInfo/${store_uuid}/getNestedCategories`;\r\n    return axiosClient.get(url);\r\n  },\r\n  addOrder: (store_uuid, body) => {\r\n    const url = `/storeInfo/${store_uuid}/addOrder`;\r\n    return axiosClient.post(url, body);\r\n  },\r\n};\r\nexport default customerPageApi;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useTheme, makeStyles, styled , lighten} from \"@material-ui/core/styles\";\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport {IconButton,Typography,Box} from '@material-ui/core';\r\nimport '../../../index.css';\r\nimport ProductList from '../ProductPage/ProductList/ProductList';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport clsx from \"clsx\";\r\nimport InventoryList from '../../../assets/JsonData/inventory.json'\r\nimport StoreContext from '../StoreContext';\r\nimport customerPageApi from '../../../api/customerPageApi';\r\nimport {useSelector} from 'react-redux';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    arrow: {\r\n        position: 'absolute',\r\n        zIndex: 2,\r\n        top: 'calc(50% - 15px)',  \r\n        cursor: 'pointer',\r\n        opacity:0.2,\r\n        '&:hover': {\r\n            opacity: 1,\r\n        },\r\n    },\r\n    arrowRight:{\r\n        right: 15 ,\r\n    }\r\n}));\r\nconst images=[\r\n    \"https://minio.thecoffeehouse.com/image/admin/bannerWeb_TCH_TeacherDay_074746.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/BANNERWEB(7)_809808.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/BANNERWEB(5)_846453.jpg\"\r\n]\r\n\r\nconst MainPage = (props) => {\r\n    const {storeInfo} = props;\r\n    const {mainColor} = props.webInfo;\r\n    const {priceStyle,btnStyle,isMargin,border,alignCenter,nameStyle,isBox,marginContainer,boxDistance}=props.webInfo.listProduct;\r\n\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n\r\n    const {products} = useSelector(state => state.customerPage);\r\n    return (\r\n<>\r\n    {/* // 1. CAROUSE */}\r\n    <Carousel // showArrows={true} showStatus={true} showIndicators={true} showThumbs={true} stopOnHover={true} thumbWidth=\"\"\r\n        interval=\"3000\"\r\n        infiniteLoop={true}\r\n        showStatus={false} \r\n        autoPlay  \r\n        emulateTouch={true}\r\n        swipeable={true}\r\n        dynamicHeight={false} \r\n        showThumbs={false} \r\n        renderArrowPrev={(onClickHandler) =><IconButton className={classes.arrow} onClick={onClickHandler} ><ArrowBackIosIcon  /></IconButton>}\r\n        renderArrowNext={(onClickHandler) =><IconButton className={clsx(classes.arrow, classes.arrowRight)} onClick={onClickHandler} ><ArrowForwardIosIcon  /></IconButton>}\r\n    >\r\n        {images.map((img)=><img  src={img} />)}\r\n    \r\n    </Carousel>\r\n\r\n\r\n    {/* // 2. BEST SELLERS  */}\r\n    <Box>\r\n        <Typography variant=\"h2\" style={{flexGrow: 1,textAlign: \"center\", marginBottom:30,marginTop:50}}>Bán chạy</Typography>\r\n        {/* <ProductList InventoryList={inventoryList} mainColor={`rgba(${mainColor.r }, ${ mainColor.g }, ${ mainColor.b }, ${ mainColor.a })`} priceStyle={priceStyle} btnStyle={btnStyle} isMargin={isMargin} border={border} alignCenter={alignCenter} nameStyle={nameStyle} isBox={isBox} marginContainer={10} boxDistance={2}/> */}\r\n        <ProductList InventoryList={products} mainColor={`rgba(${mainColor.r }, ${ mainColor.g }, ${ mainColor.b }, ${ mainColor.a })`} priceStyle={priceStyle} btnStyle={btnStyle} isMargin={isMargin} border={border} alignCenter={alignCenter} nameStyle={nameStyle} isBox={isBox} marginContainer={marginContainer} boxDistance={boxDistance}/>\r\n\r\n    </Box>\r\n\r\n    {/* // 3. NEWS IN  */}\r\n    {/* <Box style={{backgroundColor:lighten(mainColor, 0.9),paddingBottom:20,marginTop:50}}>\r\n        <Typography variant=\"h2\" style={{flexGrow: 1,textAlign: \"center\", marginBottom:30,paddingTop:50}}>Sản phẩm mới</Typography>\r\n        <ProductList InventoryList={InventoryList} mainColor={mainColor} priceStyle={priceStyle} btnStyle={btnStyle} isMargin={isMargin} border={border} alignCenter={alignCenter} nameStyle={nameStyle} isBox={isBox} marginContainer={10} boxDistance={2}/>\r\n    </Box> */}\r\n    \r\n</>  \r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default MainPage\r\n","import React from 'react'\r\nimport {Button,Grid,Paper,Card,Box,CardActions,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\r\nimport { useTheme, makeStyles, styled ,lighten} from \"@material-ui/core/styles\";\r\nimport { Carousel } from \"react-responsive-carousel\";\r\nimport { Route, Switch, useRouteMatch, useParams } from \"react-router-dom\";\r\nimport {useSelector} from 'react-redux'\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport clsx from \"clsx\";\r\nconst useStyles = makeStyles((theme,) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        marginLeft:50,\r\n        marginRight:50,\r\n        marginTop:130\r\n    },\r\n}));\r\n\r\nconst images=[\r\n    \"https://minio.thecoffeehouse.com/image/admin/Bottle_TraDao_836487.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147051_photo-2021-10-02-10-52-45.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147050_photo-2021-10-02-10-52-44.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/Bottle_TraDao_836487.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147051_photo-2021-10-02-10-52-45.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147050_photo-2021-10-02-10-52-44.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/Bottle_TraDao_836487.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147051_photo-2021-10-02-10-52-45.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147050_photo-2021-10-02-10-52-44.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/Bottle_TraDao_836487.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147051_photo-2021-10-02-10-52-45.jpg\",\r\n    \"https://minio.thecoffeehouse.com/image/admin/1633147050_photo-2021-10-02-10-52-44.jpg\",\r\n]\r\nconst detailProduct={\r\n        id: 1,\r\n        name: \"Trà Đào Cam Sả Chai Fresh 500ML\",\r\n        price:200,\r\n        import_price: 100,\r\n        barcode: 23443355545,\r\n        category_id:\"1\",\r\n        status:\"active\",\r\n        image_url:\"/src/assets/img/product/1.jpg\",\r\n        quantity:0,\r\n        category:\"Thuc pham\"  \r\n}\r\n\r\nconst DetailPage = () => {\r\n    const theme = useTheme();\r\n    const classes = useStyles(theme);\r\n    const {productCode} = useParams();\r\n    const {products } = useSelector(state => state.customerPage)\r\n    const detailProduct = products.find(prod => prod.product_code === productCode);\r\n    return (\r\n    <div className={classes.root}>\r\n      <Grid container  direction=\"row\" justifyContent=\"space-between\" alignItems=\"flex-start\" spacing={8}>\r\n        <Grid item xs={12} md={6}>\r\n            {/* Hình đã đc cắt vuông trên database */}\r\n            <Carousel \r\n                showArrows={false} \r\n                showStatus={false}\r\n                infiniteLoop={true}\r\n                emulateTouch={true}\r\n                swipeable={true}\r\n                dynamicHeight={false} \r\n                showThumbs={true} \r\n            >\r\n                {detailProduct?.img_urls?.map((img)=><img  src={img.url}style={{borderRadius:10}} />)}\r\n            </Carousel>\r\n           \r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={6}>\r\n          <Box>\r\n              <Typography variant=\"h1\">{detailProduct?.name}</Typography>\r\n              <Typography variant=\"h2\">{detailProduct?.list_price}</Typography>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default DetailPage\r\n","import React from 'react'\r\nimport ProductList  from './ProductList/ProductList'\r\nimport InventoryList from '../../../assets/JsonData/inventory.json'\r\nimport { Typography } from '@mui/material';\r\nimport { Route, Switch, useRouteMatch, useParams } from \"react-router-dom\";\r\nimport DetailPage from './DetailPage/DetailPage'\r\nimport { useSelector } from 'react-redux';\r\n// File to get product & navigate page\r\n\r\n  const RouteList = () => {\r\n    let { path } = useRouteMatch();\r\n    const routeItems = InventoryList.map((item) => { \r\n        return(\r\n        <Route exact path={`${path}/${item.id}`} >\r\n             <ProductList InventoryList={InventoryList}/>\r\n        </Route> \r\n        )\r\n    })\r\n    return routeItems;\r\n  }\r\n  \r\nconst ProductPage = (props) => {\r\n    const {clickItem} = props;\r\n    const {mainColor}=props.webInfo;\r\n    const {priceStyle,btnStyle,isMargin,border,alignCenter,nameStyle,isBox,marginContainer,boxDistance} = props.webInfo.listProduct;\r\n    let { url } = useRouteMatch();\r\n    \r\n    //2.  API GET PRODUCT (base on category and page)\r\n    //....\r\n    let { categoryId } = useParams();\r\n    const {products, categories} = useSelector(state => state.customerPage);\r\n    const productOfCategory = products.filter(product => product.category.id.toString() === categoryId)\r\n    const category = categories.find(cat => cat.id.toString() === categoryId)\r\n\r\n    \r\n    return (\r\n        <>\r\n            {/* 1. TITLE */}\r\n            {/* Đổi sang breadcrumb ?? */}\r\n            <Typography variant=\"h6\" style={{/*flexGrow: 1,textAlign: \"center\",*/marginLeft:40, marginBottom:10, marginTop:100}}>{clickItem? clickItem:category?.name}</Typography>\r\n            \r\n            \r\n            {/* 2. LIST */}\r\n            {/* // InventoryList theo category get from api */}\r\n            <ProductList InventoryList={productOfCategory} mainColor={`rgba(${ mainColor.r }, ${ mainColor.g }, ${ mainColor.b }, ${mainColor.a })`} priceStyle={priceStyle} btnStyle={btnStyle} isMargin={isMargin} border={border} alignCenter={alignCenter} nameStyle={nameStyle} isBox={isBox} marginContainer={marginContainer} boxDistance={boxDistance}/>\r\n            \r\n\r\n            {/* 3. NAVIGATION PAGE NAV  */}\r\n            {/*  */}\r\n        </>\r\n\r\n\r\n\r\n\r\n\r\n    //define route detail ở đây ko hiện ??\r\n    // <Switch>\r\n    //     <Route exact  path={path}>           \r\n    //             <ProductList InventoryList={InventoryList} mainColor={mainColor} priceStyle={priceStyle} btnStyle={btnStyle} isMargin={isMargin} border={border} alignCenter={alignCenter} nameStyle={nameStyle} isBox={isBox} marginContainer={marginContainer} boxDistance={boxDistance}/>\r\n    //     </Route>\r\n    //     {/* Path detail */}\r\n    //     <RouteList  />  \r\n\r\n    // </Switch>\r\n   \r\n \r\n    )\r\n}\r\n\r\nexport default ProductPage\r\n","import React from 'react'\r\nimport BranchMap from '../../../components/BranchMap/BranchMap'\r\nimport {Typography,Box,Card, Button ,Grid,ButtonBase,Avatar,Tooltip,TableBody} from '@material-ui/core';\r\n\r\nconst StorePage = () => {\r\n    return (\r\n        <Box style={{marginTop:100, marginLeft:50, marginRight:50}}>\r\n            <Typography style={{flexGrow: 1,textAlign: \"center\",}} variant=\"h2\">\r\n                Chi nhánh\r\n            </Typography>\r\n            <BranchMap />\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default StorePage\r\n","import React, {useState} from 'react'\r\n// import Editor from '@react-page/editor'\r\n\r\n// import slate from \"@react-page/plugins-slate\";\r\n// import image from \"@react-page/plugins-image\";\r\n// import  {imagePlugin} from \"@react-page/plugins-image\";\r\n\r\n// import \"@react-page/editor/lib/index.css\";\r\n// import \"@react-page/plugins-image/lib/index.css\";\r\n\r\n\r\n\r\n// const cellPlugins = [slate(),\r\n//     imagePlugin({\r\n//         imageUpload: 'https://upload.wikimedia.org/wikipedia/commons/a/a8/Derbys_Peter_Pan_peanut_butter_sample_blikje%2C_foto3.JPG'\r\n//       }),\r\n    \r\n      \r\n//     ];\r\n\r\nconst PromotionPage = () => {\r\n    const [value, setValue] = useState(null);\r\n\r\n    return (\r\n        <div>\r\n            {/* <Editor\r\n                cellPlugins={cellPlugins}\r\n                value={value}\r\n                onChange={setValue}\r\n            /> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PromotionPage\r\n","import React, { useEffect } from 'react'\r\n//import style\r\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\r\n//impỏrt library\r\nimport {Box,TextField,ListItem,IconButton,TableRow,TableCell,Typography} from '@material-ui/core'\r\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\r\n//import project \r\nimport * as Input from '../../../../components/TextField/NumberFormatCustom'\r\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\r\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\"\r\n// import DiscountPopUp from \"../DiscountPopup/DiscountPopup\"\r\nimport icon from '../../../../assets/img/product/tch.jpeg';\r\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\r\n\r\n const CartRow = (props) =>{\r\n    const classes = useStyles(); \r\n    const haveDiscount = true;\r\n\r\n    const {row,discountData, handleDeleteItemCart, handleChangeItemQuantity, index} = props\r\n    \r\n    const updateQuantity = (newQuantity) => {\r\n      handleChangeItemQuantity(index, newQuantity)\r\n    }\r\n    \r\n    return (\r\n      <TableRow  key={props.row.uuid} >\r\n          <TableCell align=\"left\" style={{minWidth:200, }}>\r\n            <ListItem  style={{marginLeft:-30, marginTop:-10, marginBottom:-10, alignItems:\"flex-start\", }}> \r\n                <Box component=\"img\" sx={{ height: 90, width: 90,  borderRadius:10,  marginRight:15 }} src={row.img_urls[0] ? row.img_urls[0].url : \"\"} />\r\n                <Typography  style={{color:\"#000\",  marginTop:10, fontSize:14, }}>{row.name}</Typography>  \r\n            </ListItem> \r\n\r\n            </TableCell>\r\n          <TableCell align=\"center\">\r\n              <Typography  > <VNDFormat value={row.list_price} /></Typography>  \r\n          </TableCell>\r\n  \r\n          <TableCell align=\"center\" padding='none' >\r\n            {/*  */}\r\n            <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity} isMini={true} isCustomer={true} />  \r\n          </TableCell>\r\n          {/*  */}\r\n          \r\n          <TableCell align=\"right\"className={classes.boldText}><VNDFormat value={row.list_price * row.quantity} /></TableCell>\r\n          <TableCell align=\"right\" >\r\n            <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => handleDeleteItemCart(row.uuid)} >\r\n                <DeleteForeverTwoToneIcon />\r\n            </IconButton>\r\n          </TableCell>\r\n        </TableRow>\r\n    )\r\n  }\r\n\r\n  export default CartRow","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme, makeStyles, createStyles,lighten,styled } from \"@material-ui/core/styles\";\r\nimport {\r\n  Typography,\r\n  Box,\r\n  Card,\r\n  Button,\r\n  Grid,\r\n  ButtonBase,\r\n  Avatar,\r\n  TextField,\r\n  Tooltip,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  TableBody,\r\n} from \"@material-ui/core\";\r\nimport * as TableType from \"../../../assets/constant/tableType\";\r\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\r\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\r\nimport InvoiceReturnSummary from \"../../../components/CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary\";\r\nimport CartTableRow from \"./CartTableRow/CartTableRow\"\r\nimport { Divider } from \"@mui/material\";\r\nimport _ from 'lodash'\r\n// import {useTheme, makeStyles,styled,withStyles,createStyles,lighten} from \"@material-ui/core/styles\";\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport { customerPageActions } from '../../../store/slice/customerPageSlice';\r\nimport customerPageApi from '../../../api/customerPageApi'\r\nimport { error, success } from \"../../../components/StatusModal/StatusModal\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    textTitle: {\r\n      flexGrow: 1,\r\n      textAlign: \"center\",\r\n      marginBottom:15,\r\n    },\r\n    card1: {\r\n      boxShadow: \"nones\",\r\n    },\r\n    dividerColor:{\r\n      color:\"#000\"\r\n    }\r\n  })\r\n);\r\n\r\nexport const CartHeadCells = [\r\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\r\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Đơn giá\" },\r\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\r\n  { id: \"total\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\r\n  { id: \"action\", align: \"right\", disablePadding: true, label: \"\" },\r\n];\r\n\r\nconst CartPage = (props) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const {mainColor} = props.webInfo\r\n  \r\n\r\n  const {order, storeInfo } = useSelector(state => state.customerPage)\r\n  const dispatch = useDispatch()\r\n  const [cartList, setCartList] = React.useState([\r\n    {\r\n      uuid:\"123423\",\r\n      id: 123,\r\n      name: \"Áo dài Việt Nam Việt Nam\",\r\n      quantity: 2,\r\n      unit_price: 200,\r\n    },\r\n    { uuid:\"dđ123423\",id: 12, name: \"Quan\", quantity: 1, unit_price: 220 },\r\n    { uuid:\"dđ1dgrr23423\",id: 134, name: \"Bánh\", quantity: 3, unit_price: 240 },\r\n  ]);\r\n\r\n  const handleChangeItemQuantity = (index, newQuantity) => {\r\n    let newOrder = _.cloneDeep(order)\r\n\r\n    newOrder.cartItem[index].quantity = newQuantity\r\n    dispatch(customerPageActions.setOrder(newOrder))\r\n  }\r\n\r\n\r\n  const handleDeleteItemCart = (uuid) =>{\r\n    let newOrder = _.cloneDeep(order)\r\n    newOrder.cartItem = newOrder.cartItem.filter(row => row.uuid !== uuid)\r\n    \r\n    dispatch(customerPageActions.setOrder(newOrder))\r\n  }\r\n\r\n  const handleChangeOrder = (field, value) => {\r\n    let newOrder = _.cloneDeep(order)\r\n    newOrder[field] = value\r\n    \r\n    dispatch(customerPageActions.setOrder(newOrder))\r\n  }\r\n\r\n  const calculateTotal = () => {\r\n    let total = 0;\r\n    order.cartItem.forEach(item => total += item.list_price * item.quantity)\r\n    return total\r\n  }\r\n\r\n  return (\r\n    <div style={{ backgroundColor: \"#fff\" }}>\r\n      <Box style={{ marginTop: 100, marginLeft: 50, marginRight: 50 }}>\r\n        <Typography style={{ flexGrow: 1, textAlign: \"center\" }} variant=\"h2\">\r\n          Giỏ hàng\r\n        </Typography>\r\n        {/* <Typography\r\n          className={classes.textTitle}\r\n          variant=\"body2\"\r\n          style={{ marginBottom: 20 }}\r\n        >\r\n          {order.cartItem.length}\r\n        </Typography> */}\r\n        {/* <div style={{ flexGrow: 1, textAlign: \"center\"}} > */}\r\n        {/* hello */}\r\n        {/* <div style={{flexGrow: 1, textAlign: \"center\"}}> */}\r\n        <Grid container justifyContent=\"center\">\r\n          <Divider\r\n            sx={{ borderBottomWidth: 5 }}\r\n            variant=\"middle\"\r\n            style={{ width: 50, marginBottom: 20, background: \"black\" }}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          // alignItems=\"center\"\r\n          spacing={2}\r\n        >\r\n          <Grid item sm={12} md={8}>\r\n            <Card style={{ boxShadow: \"0px 5px 10px rgba(0,0,0,0.1)\" }}>\r\n              <Box style={{ padding: 30 }}>\r\n                <TableWrapper isCart={true}>\r\n                  <TableHeader\r\n                    classes={classes}\r\n                    isCustomer={true}\r\n                    headerData={CartHeadCells}\r\n                  />\r\n                  <TableBody>\r\n                    {order.cartItem.map((row, index) => {\r\n                      return (\r\n                        <CartTableRow\r\n                          row={row}\r\n                          handleDeleteItemCart={handleDeleteItemCart}\r\n                          handleChangeItemQuantity={handleChangeItemQuantity}\r\n                          index={index}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </TableBody>\r\n                </TableWrapper>\r\n              </Box>\r\n            </Card>\r\n          </Grid>\r\n\r\n          <Grid item sm={12} md={4} className={classes.card}>\r\n            <Card className={classes.card} style={{ padding: 20 }}>\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justifyContent=\"space-between\"\r\n                alignItems=\"center\"\r\n                spacing={2}\r\n              >\r\n                <Box\r\n                  component=\"form\"\r\n                  sx={{\r\n                    \"& .MuiTextField-root\": { m: 1, width: \"100%\" },\r\n                  }}\r\n                  noValidate\r\n                  autoComplete=\"off\"\r\n                >\r\n                  <TextField\r\n                    error={!order.name}\r\n                    value={order.name}\r\n                    label=\"Họ và tên\"\r\n                    style={{ marginBottom: 20 }}\r\n                    // helperText=\"Họ và tên không được trống.\"\r\n                    onChange={(e) => handleChangeOrder(\"name\", e.target.value)}\r\n                  />\r\n                  <TextField\r\n                    error={!order.phone}\r\n                    label=\"Số điện thoại\"\r\n                    value={order.phone}\r\n                    style={{ marginBottom: 20 }}\r\n                    onChange={(e) => handleChangeOrder(\"phone\", e.target.value)}\r\n                    // helperText=\"Số điện thoại không được trống.\"\r\n                  />\r\n                  <InputLabel id=\"demo-simple-select-label\">\r\n                    Chi nhánh\r\n                  </InputLabel>\r\n                  <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    defaultValue={storeInfo.branches?.at(0)?.id}\r\n                    value={order.branch_id}\r\n                    label=\"Chi nhánh\"\r\n                    style={{ width: \"100%\" }}\r\n                    onChange={(e) =>\r\n                      handleChangeOrder(\"branch_id\", e.target.value)\r\n                    }\r\n                  >\r\n                    {storeInfo.branches?.map((branch) => (\r\n                      <MenuItem value={branch.id}>{branch.name}</MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                  <TextField\r\n                    value={order.address}\r\n                    label=\"Địa chỉ\"\r\n                    onChange={(e) =>\r\n                      handleChangeOrder(\"address\", e.target.value)\r\n                    }\r\n                  />\r\n                </Box>\r\n\r\n                \r\n                  <Typography\r\n                    style={{ fontSize: 19, fontWeight: 500, color: \"#000\" }}\r\n                  >\r\n                    Tổng tiền ({order.cartItem.length} mặt hàng):\r\n                  </Typography>\r\n                  <Typography\r\n                    style={{ fontSize: 22, fontWeight: 700, color: \"red\" }}\r\n                  >\r\n                    {calculateTotal()}\r\n                  </Typography>\r\n                \r\n              </Grid>\r\n              {/* <Button style={{marginTop:30}}variant=\"contained\" fullWidth style={{color:mainColor}}>Đặt hàng</Button> */}\r\n              <ColorButton\r\n                mainColor={mainColor}\r\n                color=\"primary\"\r\n                style={{ marginTop: 30 }}\r\n                variant=\"contained\"\r\n                fullWidth\r\n                disabled={!order.name || !order.phone || !calculateTotal()}\r\n                onClick={ async () => {\r\n                  try {\r\n                    let submitOrder = _.omit(order, \"cartItem\")\r\n                    submitOrder.details = JSON.stringify(order.cartItem) \r\n                    \r\n                    const res = await customerPageApi.addOrder(storeInfo.uuid, {...submitOrder, total_amount: calculateTotal()});\r\n                    success(\"Thêm hóa đơn thành công\")\r\n                    dispatch(customerPageActions.setOrder({\r\n                      name: \"\",\r\n                      phone: \"\",\r\n                      cartItem: [],\r\n                      address: \"\",\r\n                      branchId: storeInfo.branches?.at(0)?.id,\r\n                    }))\r\n                  } catch (err) {\r\n                    console.log(err)\r\n                    error('Thêm hóa đơn thất bại')\r\n                  }\r\n                  \r\n                }}\r\n              >\r\n                {\" \"}\r\n                Đặt hàng{\" \"}\r\n              </ColorButton>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const ColorButton = styled(Button)(({mainColor }) => ({\r\n  // color: \"#ffffff\",\r\n  // backgroundColor: `rgba(${ mainColor.r }, ${ mainColor.g }, ${ mainColor.b }, ${mainColor.a })` ,\r\n  // backgroundColor:lighten(`rgba(${ mainColor.r }, ${ mainColor.g }, ${ mainColor.b }, ${mainColor.a })` , 0.5),\r\n\r\n  // \"&:hover\": {\r\n  //   backgroundColor:lighten(`rgba(${ mainColor.r }, ${ mainColor.g }, ${ mainColor.b }, ${mainColor.a })` , 0.3),\r\n    \r\n  // },\r\n}));","const webInfo = {\r\n    webAddress :'lyquochai',\r\n    status:'inactive',\r\n    // mainColor: {  r: '250', g: '140', b: '22',  a: '1', hex:'#fa8c16'} ,\r\n    mainColor: {  r: '242', g: '165', b: '174',  a: '1', hex:'#f2a5ae'},  \r\n    bgColor:{r: '255', g: '255', b: '255',  a: '1',hex:'#ffffff'},\r\n    navBar:{\r\n      buttonLogin: \"1\" ,  // 0: nut, 1:icon\r\n      buttonCart:\"0\" , //0: special, 1: normal\r\n      navColor : \"1\", //0:white, 1- maincolor\r\n      textNav : [\"1\",17, 600],  //0-left 1-right //color: black-white-grey-maincolor, size: small - large(16):,  bold:no() -yes (600)\r\n    },\r\n    listProduct:{\r\n      priceStyle :[0, 0, 0],//0-left 1-right //color: normal-maincolor , size: small - large(16), bold:no() -yes (600)\r\n      nameStyle: [0, 1, 0, 0],//0-left 1-right //color: normal-maincolor , size: small - large(16), bold:no() -yes (600), maxNumberOFline: 1-2\r\n      btnStyle:[1, 0], //0-left 1-right //haveBtn: no-yes, style:circle - box\r\n      isBox:false,\r\n      isMargin:true,\r\n      border:true,\r\n      alignCenter:false,\r\n      marginContainer:0,\r\n      boxDistance:1,\r\n      // marginContainer:10,\r\n      // boxDistance:2,\r\n    }   \r\n}\r\nexport default webInfo","import React, { useState, useEffect, useRef  } from \"react\";\r\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport PageNotFound from \"../PageNotFound/PageNotFound\";\r\n\r\n//import library\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\n\r\nimport NavBar from \"./NavBar/NavBar\";\r\nimport MainPage from \"./MainPage/MainPage\";\r\nimport ProductPage from \"./ProductPage/ProductPage\";\r\nimport DetailPage from \"./ProductPage/DetailPage/DetailPage\";\r\nimport CartButton from \"../../components/Button/CartButton\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport StorePage from \"./StorePage/StorePage\";\r\nimport AboutUsPage from \"./AboutUsPage/AboutUsPage\";\r\nimport PromotionPage from \"./PromotionPage/PromotionPage\";\r\nimport CartPage from \"./CartPage/CartPage\";\r\nimport customerPageApi from \"../../api/customerPageApi\";\r\nimport StoreContext from \"./StoreContext\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport webSetting from \"../../assets/constant/webInfo\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {customerPageActions} from '../../store/slice/customerPageSlice'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    background: theme.palette.background.default,\r\n  },\r\n}));\r\n\r\nconst CustomerPage = () => {\r\n  let { url } = useRouteMatch();\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n\r\n  const [clickItem, setClickItem] = useState(null);\r\n  function handleClickItem(item) {\r\n    setClickItem(item);\r\n  }\r\n  let { storeWebPage } = useParams();\r\n\r\n  const {categories, products, storeInfo} = useSelector(state => state.customerPage)\r\n\r\n  //0.Store Info \r\n  var logoStore = \"https://cdn.mykiot.vn/2021/11/c3fa6fc1ceef1d611cd9c7ed256db621e1814ba175dd832a37ffb6cc8e43bd6d.jpg\"\r\n  //1.  API GET ALL CATEGORY HERE\r\n  //....\r\n //2.  GET SETTING\r\n \r\n\r\n  const renderTree = (items) => {\r\n    return (\r\n      <>\r\n        <Route exact path={`/store/${storeWebPage}/products/${items.id}`}>\r\n          <ProductPage\r\n            clickItem={clickItem}\r\n            webInfo={webInfo}\r\n    \r\n          />\r\n        </Route>\r\n        {Array.isArray(items.children)\r\n          ? items.children.map((item) => renderTree(item))\r\n          : null}\r\n      </>\r\n    );\r\n  };\r\n  const RouteList = () => {\r\n    const routeItems = category.map((item) => {\r\n      return renderTree(item);\r\n    });\r\n    return routeItems;\r\n  };\r\n\r\n  const dispatch = useDispatch()\r\n  const [webInfo, setWebInfo] = useState(webSetting)\r\n  \r\n  useEffect(() => {\r\n    if (!storeWebPage) {\r\n      return;\r\n    }\r\n    const fetchStore = async () => {\r\n      const res = await customerPageApi.storeInfo(storeWebPage);\r\n      console.log(res.data);\r\n      setWebInfo(JSON.parse(res.data.web_configuration))\r\n      console.log(webInfo)\r\n      dispatch(customerPageActions.setStoreInfo(res.data))\r\n      const data = await Promise.all([customerPageApi.storeCategroies(res.data.uuid), \r\n        customerPageApi.storeProducts(res.data.uuid)]\r\n      )\r\n\r\n      dispatch(customerPageActions.setCategories(data[0].data ? data[0].data : []));\r\n      dispatch(customerPageActions.setProducts(data[1].data ? data[1].data : []));\r\n      // console.log(data)\r\n    };\r\n    fetchStore();\r\n  }, []);\r\n\r\n\r\n  if (storeWebPage) {\r\n\r\n  return (<div className={classes.root}>\r\n    <NavBar\r\n      // storeInfo={storeInfo}\r\n      handleClickItem={handleClickItem}\r\n      category={categories ? categories : []}\r\n\r\n      logo={logoStore}\r\n      webInfo={webInfo}\r\n    />\r\n    {parseInt(webInfo.navBar.buttonCart) === 0 ?\r\n     <CartButton storeInfo={storeInfo} />:null\r\n    }\r\n    \r\n\r\n    <Box style={{ marginTop: 73 }}>\r\n      <Switch>\r\n        <Route exact path={`${url}`}>\r\n          <MainPage\r\n           \r\n            webInfo={webInfo}\r\n          />\r\n        </Route>\r\n        <Route exact path={`${url}/promotion`}>\r\n          <PromotionPage />\r\n        </Route>\r\n        <Route exact path={`${url}/storeInfo`}>\r\n          <StorePage />\r\n        </Route>\r\n        {/* <Route exact path={`${path}/aboutUs`}>\r\n          <AboutUsPage />\r\n        </Route> */}\r\n\r\n        <Route exact path={`${url}/cart`}>\r\n          <CartPage webInfo={webInfo}  />\r\n        </Route>\r\n\r\n        {/* Path product */}\r\n        <Route exact path={`${url}/category/:categoryId`}>\r\n          <ProductPage\r\n            webInfo={webInfo}\r\n          />\r\n        </Route>\r\n        <Route exact path={`${url}/category/:categoryId/products/:productCode`}>\r\n          <DetailPage />\r\n        </Route>\r\n        {/* Tại sao define route detail trong ProductPage \r\n          hoặc define route detial sau route product ko đc  \r\n        */}\r\n\r\n        {/* Path detail */}\r\n\r\n        {/* tạm thời - fix lại sau\r\n        <Route exact path={`${url}/products/all/`}>\r\n          <DetailPage />\r\n        </Route> */}\r\n\r\n        {/* Path product */}\r\n        <RouteList />\r\n\r\n        <Route path={`${url}/*`} component={PageNotFound} />\r\n      </Switch>\r\n    </Box>\r\n\r\n    {/* <Footer/> */}\r\n  </div>) \r\n  } else {\r\n    return <div>Error</div>\r\n  }\r\n  \r\n};\r\n\r\nexport default CustomerPage;\r\n\r\nconst category = [\r\n  {\r\n    id: 1,\r\n    title: \"Quần áo\",\r\n    children: [\r\n      {\r\n        id: 6,\r\n        title: \"Quần\",\r\n        children: [\r\n          { id: 20, title: \"Quần dài\" },\r\n          { id: 21, title: \"Quần đùi\" },\r\n        ],\r\n      },\r\n      {\r\n        id: 7,\r\n        title: \"Áo\",\r\n        children: [\r\n          { id: 22, title: \"Áo dài\" },\r\n          { id: 23, title: \"Áo thun\" },\r\n        ],\r\n      },\r\n      { id: 8, title: \"Đầm\" },\r\n      { id: 9, title: \"Váy\" },\r\n    ],\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"Phụ kiện\",\r\n    children: [\r\n      { id: 10, title: \"Nón\" },\r\n      { id: 11, title: \"Mắt kiếng\" },\r\n    ],\r\n  },\r\n  { id: 3, title: \"Túi xách\" },\r\n  { id: 4, title: \"Giày dép\" },\r\n  { id: 5, title: \"Quần\" },\r\n];\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { statusAction } from \"../../store/slice/statusSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nconst SnackBar = () => {\r\n  const isOpen = useSelector((state) => state.status.open);\r\n  const isSuccess = useSelector((state) => state.status.status);\r\n  const message = useSelector((state) => state.status.message);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    const closeStatus = () => {\r\n      dispatch(statusAction.closeStatus());\r\n    };\r\n    if (isOpen) {\r\n      setTimeout(closeStatus, 1000);\r\n    }\r\n  }, [isOpen, dispatch]);\r\n  return (\r\n    <React.Fragment>\r\n      {isSuccess == 1 ? (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n          open={isOpen}\r\n        >\r\n          <Alert severity=\"success\">{message}</Alert>\r\n        </Snackbar>\r\n      ) : isSuccess == 0 ? (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n          open={isOpen}\r\n        >\r\n          <Alert severity=\"error\">{message}</Alert>\r\n        </Snackbar>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SnackBar;\r\n","import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport axiosClient from \"../../api/axiosClient\";\r\n\r\nconst Test = () => {\r\n  let url =\r\n    \"https://cdn.shopify.com/s/files/1/0234/8017/2591/products/young-man-in-bright-fashion_925x_f7029e2b-80f0-4a40-a87b-834b9a283c39.jpg\";\r\n  const test = async () => {\r\n    try {\r\n      fetch(url).then((response) => console.log(response));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return <Button onClick={test}>Trye</Button>;\r\n};\r\n\r\nexport default Test;\r\n","import themes from \"./theme\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  BrowserRouter,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  HashRouter,\r\n} from \"react-router-dom\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\nimport HomePage from \"./pages/HomePage/HomePage\";\r\nimport PageNotFound from \"./pages/PageNotFound/PageNotFound\";\r\nimport LoginPage from \"./pages/LoginPage/LoginPage\";\r\nimport Customization from \"./components/Customization/Customization\";\r\nimport SignupPage from \"./pages/SignupPage/SignupPage\";\r\nimport { verifyToken, setCustomization } from \"./store/actionCreator\";\r\nimport { useEffect, useState } from \"react\";\r\nimport PrivateRoute from \"./components/PrivateRoute/PrivateRoute\";\r\nimport LoadingModal from \"./components/LoadingModal/LoadingModal\";\r\nimport MainPage from \"./pages/MainPage/MainPage\";\r\nimport CustomerPage from \"./pages/CustomerPage/CustomerPage\";\r\nimport { Box, CssBaseline, makeStyles } from \"@material-ui/core\";\r\nimport GlobalSnackbar from \"./components/GlobalSnackBar/GlobalSnackBar\";\r\nimport Test from \"./components/Category/Test\";\r\nimport { customizeAction } from \"./store/slice/customizeSlice\";\r\nimport { SwitchCamera } from \"@material-ui/icons\";\r\nimport \"./index.css\";\r\nfunction App() {\r\n  const customization = useSelector((state) => state.customize);\r\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\r\n  const dispatch = useDispatch();\r\n  const [path, setPath] = useState(\"/home\");\r\n  useEffect(() => {\r\n    dispatch(verifyToken());\r\n    dispatch(setCustomization(customization));\r\n    setPath(sessionStorage.getItem(\"BKRMprev\"));\r\n    \r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    console.log(\"reload\")\r\n  })\r\n  return (\r\n    <ThemeProvider theme={themes(customization)}>\r\n      <Box>\r\n        <LoadingModal />\r\n        <GlobalSnackbar />\r\n        <CssBaseline />\r\n        <HashRouter>\r\n          <Switch>\r\n            {/* Fix lại route */}\r\n            <Route path=\"/\" exact>\r\n              <Redirect to=\"/home\" />\r\n            </Route>{\" \"}\r\n            <PrivateRoute path=\"/home\">\r\n              <HomePage />\r\n            </PrivateRoute>\r\n            <Route path=\"/login\" exact>\r\n              {isLoggedIn ? <Redirect to={path} /> : <LoginPage />}\r\n            </Route>\r\n            <Route path=\"/signup\" exact>\r\n              {isLoggedIn ? <Redirect to={path} /> : <SignupPage />}\r\n            </Route>\r\n            <Route path=\"/main\" component={MainPage} />\r\n            <Route path=\"/store\">\r\n              <Switch>\r\n                <Route path={\"/store/:storeWebPage\"}>\r\n                  <CustomerPage />\r\n                </Route>\r\n              </Switch>\r\n            </Route>\r\n            <Route path=\"/test\" component={Test} />\r\n            <Route path=\"*\" component={PageNotFound} />\r\n          </Switch>\r\n        </HashRouter>\r\n        <Customization />\r\n      </Box>\r\n    </ThemeProvider>\r\n  );\r\n}\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/index\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}