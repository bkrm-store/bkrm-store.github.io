{"version":3,"sources":["components/SearchBar/SearchCustomer.js","components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary.js","views/SalesView/Cart/CartTableRow/CartTableRow.js","views/SalesView/Cart/Cart.js","views/SalesView/Invoice/InvoiceTool/InvoiceFilter.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceTableRow.js","views/SalesView/Invoice/Invoice.js","views/SalesView/InvoiceReturn/InvoiceReturnTool/InvoiceReturnFilter.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnTableRow.js","views/SalesView/InvoiceReturn/InvoiceReturn.js","views/SalesView/SalesView.js","components/Button/MenuButton.js","components/TableCommon/style/mainViewStyle.js","components/TableCommon/TableHeader/TableHeader.js","assets/img/icon/no-results-1.png","components/TableCommon/TableWrapper/TableWrapper.js","components/TableCommon/util/sortUtil.js","components/Modal/ModalWrapperWithClose.js","api/customerApi.js","components/MiniTableRow/MiniTableRow.js","assets/constant/tableHead.js","assets/constant/tableType.js","components/TableCommon/util/format.js","components/ReceiptPrinter/ReceiptPrinter.js","components/Button/ButtonQuantity.js","api/orderApi.js","components/StatusPopup/StatusPopup.js","api/supplierApi.js","components/CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary.js","components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp.js","components/TableCommon/style/rowStyle.js","components/TableCommon/ToolBar/ToolBar.js","api/purchaseOrderApi.js","assets/img/product/tch.jpeg","api/refundApi.js","api/purchaseReturnApi.js","components/Category/CategorySelect.js","components/TableCommon/TableWrapper/Pagination.js","components/SnackBar/SnackBarGeneral.js","components/Modal/PayRemaining.js","assets/img/icon/empty-cart.png","components/Modal/DialogWrapper.js","components/CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary.js","assets/img/icon/barcode1.png","views/InventoryView/Inventory/AddInventory/AddCategory.js","views/SalesView/Cart/DiscountPopup/DiscountPopup.js","assets/img/icon/giftbox.png","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderModal.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail.js","views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail.js","views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail.js","views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail.js","assets/img/ava/avaa.jpeg","views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/styles.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/UpdateInventory.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/BranchInventoryPopUp.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/VarianceModal.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/PrintBarcodePopUp.js","assets/img/barcode/3.jpeg","assets/img/barcode/2.jpeg","assets/img/barcode/1.jpeg","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail.js","components/Category/List/UpdateCategory.js","components/Category/List/RootCategory.js","components/Category/CategoryTree.js","views/InventoryView/Inventory/Category/Category.js","components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/UpdateCustomer/UpdateCustomer.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/UpdateSupplier/UpdateSupplier.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/ChangeEmployeePwd/ChangeEmployeePwd.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail.js","components/MoreInfo/MoreInfo.js","components/Select/CategorySelect.js","components/MenuProduct/MenuProduct.js","components/Button/CartButton.js","api/promotionCouponApi.js","components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn.js","components/Email/CustomerRegisterEmail.js","components/SearchBar/SearchBarCode.js","views/InventoryView/Inventory/AddInventory/styles.js","components/SearchBar/SearchWithAutoComplete.js","components/TextField/TagsInput.js","views/InventoryView/Inventory/AddInventory/AddAttribute.js","views/InventoryView/Inventory/AddInventory/RelaltedItemList.js","views/InventoryView/Inventory/AddInventory/AddInventory.js","../node_modules/@material-ui/icons/CardGiftcard.js","views/ManagerView/Customer/AddCustomer/AddCustomer.js","components/TextField/DiscountInputDetail.js","components/SelectBatch/SelectBatch.js","views/InventoryView/OrderProductList/OrderProductListTool/OrderProductListFilter.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListTableRow.js","views/InventoryView/OrderProductList/OrderProductList.js"],"names":["useStyles","makeStyles","theme","createStyles","input","borderRadius","multilineColor","color","customization","primaryColor","marginRight","SearchCustomer","withStyles","root","TextField","props","useTheme","classes","useEffect","selectedCustomer","filter","createFilterOptions","stringify","option","removeAccents","name","phone","style","width","Autocomplete","filterOptions","autoComplete","freeSolo","onKeyUp","event","key","handleSearchBarSelect","value","options","customers","item","status","getOptionLabel","concat","onChange","renderInput","params","fullWidth","placeholder","margin","InputProps","startAdornment","InputAdornment","position","endAdornment","IconButton","size","onClick","setAddCustomer","fontSize","grey","handleClickOpen","renderOption","Grid","container","direction","justifyContent","Typography","variant","marginBox","marginTop","marginRow","hidden","display","headerTitle","popup","borderColor","padding","paddingLeft","boxShadow","CartSummary","cartData","handleSelectCustomer","currentCustomer","handleUpdatePaidAmount","handleUpdateDiscount","handleUpdatePaymentMethod","handleSearchCustomer","handleCheckDelivery","handleConfirm","selectedBranch","setSelectedBranch","currentBranch","mode","discountData","reloadCustomers","isScore","handleUpdateDiscountDetail","handleUpdateSelectedPromotion","handleUpdateBestDetailSelectedPromotion","products","React","useState","open","setOpen","useDispatch","filteredPromotion","console","log","length","arr","map","pro","sortedRow","JSON","parse","promotion_condition","sort","a","b","totalCost","Number","total_amount","push","detailCondition","discountKey","discountType","id","handlePromotion","selectedPromotion","openDiscount","setOpenDiscount","addCustomer","anchorEl","setAnchorEl","openDiscountDetail","Boolean","info","useSelector","state","store_setting","store","general_configuration","setting","canEnterDiscountWhenSell","returnMoney","paid_amount","discount","discountPro","otherfee","calculateTotalQuantity","cartItem","vat","otherFeeMoney","listCost","reduce","sum","fee","type","Box","minHeight","alignItems","spacing","xs","Date","toLocaleDateString","toLocaleTimeString","AddCustomer","handleClose","onReload","isCart","children","className","ListItem","src","require","default","height","marginLeft","listGiftItem","title","onClose","totalCartAmount","fontWeight","bestDetailSelectedPromotion","discountValue","backgroundColor","paddingRight","Popper","placement","zIndex","DiscountInputDetail","role","currentTarget","openNotification","textAlign","Divider","background","otherFee","scores","points","inputProps","e","target","FormControl","component","RadioGroup","payment_method","FormControlLabel","labelPlacement","control","Radio","label","Button","CartRow","branch","branchs","branches","row","handleDeleteItemCart","handleChangeItemQuantity","handleUpdateBatches","handleChangeItemPrice","mini","imageType","index","typeShow","showImage","isGiftPromotion","updateQuantity","newQuantity","uuid","selectBatchOpen","setSelectBatchOpen","selectedBatches","setSelectedBatches","batches","additional_quantity","total","forEach","batch","canFixPriceSell","show","setShow","findBranchQuantity","rs","branch_inventories","find","x","quantity_available","TableRow","hover","onMouseOver","onMouseLeave","TableCell","align","product_code","minWidth","marginBottom","sx","img_urls","at","defaultProduct","paddingTop","paddingBottom","cart","defaultPrice","unit_price","inventory","MoreInfo","has_batches","quantity","ButtonQuantity","miniCart","setQuantity","branch_quantity","isManageInventory","boldText","colSpan","flexDirection","gap","Tooltip","Chip","batch_code","expiry_date","onDelete","newBatches","selectedBatch","is_new","deleteIcon","DeleteOutline","SelectBatch","handleSubmit","newBatch","Cart","searchBarState","store_uuid","branch_uuid","defaultPaymentAmount","setDiscountData","user_uuid","user","dispatch","reloadProduct","setReloadProduct","window","localStorage","getItem","data","cartList","customer","delivery","discountDetail","loadCartLocalStorage","setCartList","setProducts","setCustomers","setItem","cartMode","setTypeShow","setMode","setShowImage","selectedIndex","setSelectedIndex","addProduct","setAddProduct","isUpdateTotalAmount","setIsUpdateTotalAmount","openSnack","setOpenSnack","message","snackStatus","setSnackStatus","xsScreen","useMediaQuery","breakpoints","down","updateTotalAmount","searchKey","customerApi","getCustomers","search_key","response","loadProducts","productApi","searchBranchProduct","loadCustomers","cust","vouchers","loadPromotionCoupons","promotionCouponApi","getActivePromotionVoucher","promotions","intervalID","setInterval","clearInterval","setReloadCustomers","loadingCustomer","handleDeleteAllItem","newCartList","order","setOrder","orderBy","setOrderBy","selectedOption","batchBarCode","itemIndex","findIndex","newCartItem","bar_code","list_price","update","$push","itemUuid","$splice","isNaN","newPrice","$set","bestCondition","bestDetailSelectedCondition","totalOtherFee","customerScore","parseInt","code","setCode","openPopUpWarning","setOpenPopUpWarning","emptyCart","printReceiptWhenSell","canSellWhenNegativeQuantity","alowDebt","correctQuantity","every","element","notExistNullQuantity","notExistZeroPrice","handleConfirmCallApi","d","moment","now","orderTime","unix","format","trim","details","body","customer_uuid","toString","Math","min","creation_date","paid_date","tax","shipping","is_customer_order","orderApi","addOrder","res","order_code","handlePrint","componentRef","useRef","useReactToPrint","content","current","AddInventory","setReload","SnackBarGeneral","reason","sm","Card","ChangeCartBtn","handleClick","handleChoose","handleDelete","splice","handleAdd","SearchProduct","isFilter","Switch","checked","infoActions","setSearchBarState","SearchBarCode","ButtonBase","Avatar","headerAvatar","stroke","MenuProduct","selectedItem","TableWrapper","TableHeader","onRequestSort","property","headerData","HeadCells","TableBody","stableSort","getComparator","isPromotion","amount","method","obj","discountUpdate","toFixed","checkProduct","percentFee","listGift","detail","TableContainer","maxHeight","Table","isDebtWarning","existZeroPrice","ref","ReceiptPrinter","cartModal","PopUpWarningZeroPrice","ModalWrapperWithClose","drawer","flexShrink","drawerPaper","textField","text","InvoiceFilter","handleToggleFilter","openFilter","query","setOrders","setQuery","formik","useFormik","initialValues","onSubmit","values","startDate","setFieldValue","endDate","Drawer","anchor","paper","InputLabelProps","shrink","handleChange","required","minTotalAmount","maxTotalAmount","minDiscount","maxDiscount","formControl","Select","labelId","MenuItem","paymentMethod","InvoiceTableRow","handleOpenRow","openRow","hidenCollumn","colorText","useRowStyles","clsx","rowClicked","fontName","split","reverse","join","substr","customer_name","total_quantity","includes","debt","InvoiceDetail","parentProps","Invoice","orders","page","limit","pagingState","setPagingState","totalRows","setTotalRows","totalAmount","setTotalAmount","initialQuery","setRowOpen","setOpenFilter","reload","loadData","getAllOfBranch","total_rows","tableRef","createRef","getDataExport","statusAction","failedStatus","btngroup1","customizeAction","setSidebarOpen","setItemMenuOpen","Link","to","ToolBar","dataTable","handleDeleteAll","deleteApi","deleteAll","successfulStatus","Modal","confirm","onOk","tableType","TableType","textSearch","orderByOptions","setSort","setSearchKey","handleRemoveFilter","columnsToKeep","dbName","displayName","partnerName","date","typeBill","Pagination","list","ComponentToPrint","firstDate","slice","flexGrow","isReport","InvoiceReturnFilter","setRefunds","orderCode","defaultValue","InvoiceReturnTableRow","refund_code","created_at","InvoiceReturnDetail","InvoiceReturn","refunds","refundApi","SalesView","path","useRouteMatch","permissions","exact","p","OrderProductList","StyledMenu","border","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","palette","primary","main","common","white","table","button","typography","commonAvatar","mediumAvatar","transition","btngroup","visuallyHidden","clip","overflow","top","icon","tab","indicator","hoverCard","cardRoot","media","appBar","flex","StyledTableCell","head","isCustomer","headColor","headCell","StyledPaper","Paper","dense","setDense","scrollIntoView","stickyHeader","showSizeChanger","newCurrent","newPageSize","pageSizeChange","descendingComparator","array","comparator","stabilizedThis","el","calculateTotalReturnQuantity","returnQuantity","modal","Fragment","createCustomer","storeUuid","url","axiosClient","post","get","getCustomer","customerUuid","deleteCustomer","delete","updateCustomer","put","payDebt","importCustomerJson","json","updateCustomerVouchers","getCustomerDebts","getCustomerGroups","updateCustomerGroup","createCustomerGroup","deleteCustomerGroup","Transition","forwardRef","BillMiniTableRow","dateAdvanceSetting","substring","secondaryColor","fullScreen","TransitionComponent","edge","isMini","PartnerMiniTableRow","img","score","typePartner","alt","ava","ReturnCartMiniTableRow","handleProductPriceChange","handleItemQuantityChange","activeFixPrice","returnCart","returnImport","maxWidth","returnPrice","returned_quantity","isReturn","ProductMiniTableRow","standard_price","min_reorder_quantity","VarianceProductMiniTableRow","variance","img_url","InventoryHeadCells","disablePadding","InventoryOrderHeadCells","InventoryReturnOrderHeadCells","SupplierHeadCells","InvoiceHeadCells","InvoiceReturnHeadCells","EmployeeHeadCells","CustomerHeadCells","CartHeadCells","ImportHeadCells","CartReturnHeadCells","ImportReturnHeadCells","OrderHeadCells","CheckHeadCells","OrderListHeadCells","CheckHistoryHeadCells","EmployeeScheduleHeadCells","InventoryCheckHeadCells","VoucherHeadCells","DiscountHeadCells","TransferInventoryHeadCells","CashbookHeadCells","INVOICE","INVOICE_RETURN","INVENTORY","INVENTORY_ORDER","INVENTORY_RETURN","SUPPLIER","CHECK_LIST","ORDER_LIST","TRANSFER_INVENTORY","EMPLOYEE","CUSTOMER","FormatedStatus","FormatedProductStatus","lowStock","overStock","FormatedProductStatusReport","FormatedStatusOrder","centerQR","center","right","Largetext","weight","divider","orderDate","QRCode","NomalReceiptPrinter","link","store_configuration","web_page","logo","created_by_user","contentNote","readOnly","custom_web","orientation","flexItem","quantity_per_unit","fontStyle","Docso","doc","ImportReceiptPrinter","supplier","HtmlTooltip","tooltip","pxToRem","error_quantity","onMouseOut","fill","textfieldClass","branchUuid","getAllOfStore","getOrder","orderUuid","searchOrder","editOrderApi","deleteOrder","searchCustomerOrder","processCustomerOrder","customerOrderId","confirmCustomerOrder","cancleCustomerOrder","paymentCustomerOrder","updateCustomerOrder","newDetails","description","notification","supplierApi","createSupplier","headers","getSuppliers","getSupplier","supplierUuid","deleteSupplier","inactiveSupplier","activeSupplier","updateSupplier","ImportReturnSummary","handlePaymentMethodChange","handlePaidAmountChange","purchase_order_code","disabled","InventoryReturnPopUp","purchaseOrder","handleCloseReturn","reloadDetail","purchase_order_id","supplier_id","branch_id","max_return_quantity","purchase_order_batches","purchaseReturn","setPurchaseReturn","handleChangeBatches","itemId","newPurchaseReturn","_","handleDeleteItem","export_date","purchase_order_uuid","product_id","purchase_order_detail_id","purchaseReturnApi","removeInventory","purchase_return_code","closeButton","DialogContent","card","ImportReturnTableRow","paidAmount","newSelectedBatches","borderBottom","large","toolbar","search","exportExcel","newData","rowRs","cl","workSheet","xlsx","utils","json_to_sheet","workBook","book_new","book_append_sheet","write","bookType","writeFile","err","hasImport","importByJSON","excel_data","excel_head","excel_name","isOnlySearch","customizable","extra","openImport","setOpenImport","custom","category_id","max_order","customCl","setCustomCl","excel","setExcel","jsonData","setJsonData","listCl","setListCl","barcodeIcon","htmlFor","autoWidth","o","actions","dataTableFull","cursor","select","SelectProps","native","preventDefault","files","reader","FileReader","onload","result","workbook","read","sheetName","SheetNames","worksheet","Sheets","excelLines","sheet_to_json","Object","keys","readAsArrayBuffer","readCustomizedProduct","myJson","product","category_name","readUploadFile","line","address","email","payment_info","total_payment","error","readCustomerUploadFile","purchaseOrderApi","addInventory","getPurchaseOrder","purchaseOrderUuid","searchPurchaseOrder","editPurchaseOrder","purchaseOrdersUuid","deletePurchaseOrder","updateDetail","getRefund","refundUuid","searchRefund","getPurchaseReturn","purchaseReturnUuid","searchPurchaseReturn","CategorySelect","categoryList","category","MyOption","currentLevel","i","subCategory","Paginations","scrollTo","rowsPerPageOptions","rowsPerPage","labelRowsPerPage","count","Alert","autoHideDuration","severity","PayRemaining","editApiCall","resetForm","enableReinitialize","pay","validationSchema","Yup","lessThan","moreThan","paid","errors","touched","onBlur","handleBlur","helperText","isValid","DialogWrapper","InvoiceReturnSummary","order_total_amount","AddCategory","setCategoryList","parent_category_uuid","categoryInfo","setCategoryInfo","fetchAllCategory","getAllCategory","getNestedCategory","response_1","reset","handleAddCategory","handleCloseAndReset","addCategory","onReset","gutterBottom","dropdownStyle","treeData","val","treeDefaultExpandAll","getDiscountType","DiscountPopup","setValue","promotion","setPromotion","idPro","check","setCheck","getColorSelected","selectedData","some","getBestDetailSelectedCondition","fetchCategoryList","getListItem","isGiftCategory","listGiftCategory","getAllProductInCategoryParent","numberGiftItem","toLocaleString","multiple","handleCheck","renderValue","selected","newCheck","handleChangeGiftQuantity","OrderModal","customerOrder","isOpen","inventoryInfo","orderredQuantity","branchInventory","getBranchInventory","getBatches","newOrder","new_customer","ward","province","district","sumBy","order_id","productId","renderQuantityInput","detailIndex","InputLabel","labelWidth","handleSelectBatch","selectedBatchIndex","handleChangeBatchQuantity","handleChangeDetailQuantity","handleCancelOrder","customer_order_code","TableHead","scope","isOrderEmpty","typo","borderWidth","OrderProductListDetail","isOrderModalOpen","setIsOrderModalOpen","handlePayment","Collapse","in","timeout","unmountOnExit","city","historyRow","employee","keepMounted","ListItemIcon","ListItemText","Dialog","tag","lineHeight","boxSizing","outline","span","textOverflow","whiteSpace","DiscountDetail","rowsInvoice","promotion_code","startDay","endDay","isActive","start_date","end_date","byMonth","byDay","byDate","byTime","customer_birth","discountRow","numberBuyItem","flexWrap","listBuyItem","typeDiscountItem","refund","setRefund","InventoryOrderDetail","setPurchaseOrder","posted_to_inventory","date_received","currentDate","debtAmount","openPayRemaining","setOpenPayRemaining","editInventoryOrderApiCall","supplier_name","is_imported","startIcon","InventoryReturnDetail","purchase_order","CheckHistoryDetail","moneyDif","ele","product_name","inventory_check_code","branch_name","user_name","branch_inventory","is_checked","checked_batch","checked_quantity","VoucherDetail","box","UploadImages","avaUpload","UpdateInventory","openAddCategory","setOpenAddCategory","images","setImages","setDisplay","displayList","productInfo","isUrl","productFormik","barcode","importedPrice","salesPrice","unit","re_order_point","updateProductHandler","bodyFormData","FormData","append","prev","cur","image","updateProduct","clearAllImages","onKeyDown","displayImage","URL","createObjectURL","BranchInventoryPopUp","openModal","setOpenModal","generateInitial","valueQuantity","setValueQuantity","confirmTransferQuantity","to_id","value_quantity","Array","isArray","to_name","created_user_id","created_user_name","created_user_type","transferInventory","currenBranchInventory","totalQuantity","DialogTitle","textTransform","newValueQuantity","DialogActions","VarianceModal","suppliers","productDetail","setProductDetail","isOpenUpdate","setIsOpenUpdate","deleteConfirm","setDeleteConfirm","handleCloseDelete","handleConfirmDelete","deleteProduct","fetchProduct","getProduct","openDetailInventory","setOpenDetailInventory","showThumbs","notification_period","attribute_value","attVal","ConfirmPopUp","PrintBarcodePopUp","codeType","setCodeType","printStoreName","setPrintStoreName","has_batch","printBatch","setPrintBatch","col","setCol","batchCode","setBatchCode","handleChooseBarCode","BarCodeModel","InventoryDetail","thisReload","setThisReload","isOpenVarianceDetailModal","setIsOpenVariaceDetailModal","selectedVariance","setSelectedVariance","openPrintBarcode","setOpenPrintBarcode","imageList","has_variance","variations","UpdateCategory","isDelete","setIsDelete","handleUpdateCategory","editCategory","handleDeleteCategory","deleteCategory","ModalWrapper","nested","RootCategory","subCategories","setSubCategories","getSubCategory","categories","useNestedApi","setUpdate","List","fromRoot","textDecoration","CategoryTree","parentCategories","setParentCategories","getParentCategory","categoryPopup","overflowY","Category","setReset","maxWith","InvoiceReturnPopUp","customer_id","order_batches","newRefund","cloneDeep","import_date","order_uuid","order_detail_id","omit","CartReturnTableRow","date1","date2","returnLimit","haveReturnQuantity","abs","day","UpdateCustomer","phoneExist","setPhoneExist","clicked","setClicked","customerFormik","customerDetail","paymentInfo","matches","FormHelperText","UploadImage","CustomerDetail","openPayDebt","setOpenPayDebt","editItem","setEditItem","handleDeleteCustomer","setPaidAmount","customer_code","groups","g","UpdateSupplier","supplierDetail","supplierFormik","company","handleUpdateSupplier","SupplierDetail","editSupplier","setEditSupplier","handleDeleteSupplier","supplier_code","ChangeEmployeePwd","employeeDetail","owner_password","password","confirm_password","oneOf","handleChangePassword","closeModalAndResetData","userApi","owenerChangePassword","employee_password","salaryTypeMapping","fix","EmployeeDetail","handleReload","openEdit","setOpenEdit","date_of_birth","id_card_num","salary_type","salary","setEmployeeDetail","fetchEmp","employeeApi","getEmployee","changePwd","setChangePwd","EditEmployee","employee_code","permission","activeEmployee","inactiveEmployee","deleteEmployee","arrow","saveData","setData","isNotSelect","categoryId","setCategoryId","recursiveSearchTree","findedCategory","getAllChild","cat","child","filterCategory","allChild","allCat","apply","category_uuid","selectedNodeUuid","onSelect","selectedKeys","node","isCheck","allProduct","setAllProduct","selectedItemUuid","findItem","findedItem","real_quantity","renderListOption","colorCard","alignItem","alignCenter","btn","btnBottom","StyledBadge","styled","Badge","CartButton","number","storeInfo","badgeContent","createPromotion","createVoucher","updatePromotion","updateVoucher","getAllPromotions","getAllVouchers","hardText","getTitle","onMouseDown","CustomerRegisterEmail","header","footer","renderToString","setBarcode","onEnter","autoFocus","onKeyPress","expand","transform","transitions","create","duration","shortest","expandOpen","attrCard","attrHead","rooot","SearchWithAutoComplete","searchApiCall","nextRef","handleDefaultSelect","setOptions","searchValue","setSearchValue","loadingData","fetchData","indexOf","timer","setTimeout","clearTimeout","onInputChange","autoSelect","getOptionSelected","chip","TagsInput","setSelectedItem","selectedTags","tags","other","inputValue","setInputValue","handleKeyDown","newSelectedItem","replace","getInputProps","onFocus","tabIndex","handleInputChange","defaultProps","AddAttribute","attributeList","datas","setDatas","setRelatedList","newArr","mySet","items","_set","j","k","generateList","updateFieldChanged","attr","updateValueChanged","deleteAttr","addAttrRow","AttributeRow","inputAttr","setInputAttr","openPopupAddAttr","setOpenPopupAddAttr","isEditPopUp","handleChangeAttr","valid","RelaltedItemList","relatedList","handleChangeProperties","newValue","newRow","TreeSelect","SHOW_PARENT","Quill","register","ImageResize","modules","imageURL","setImageURL","addProductHandler","createProduct","selectSampleProductHandler","searchSampleProductHandler","searchDefaultProducts","salesPriceRef","focus","expanded","setExpanded","handleExpandClick","expandedDescription","setExpandedDescription","handleExpandedDescription","handleAddProductWithVariation","attributeValues","att","addProductWithVaration","recommendedProduct","toLowerCase","inputRef","expiryDate","Checkbox","variation","CardHeader","action","formats","clipboard","matchVisual","imageResize","parchment","import","_interopRequireDefault","_interopRequireWildcard","defineProperty","exports","_default","createElement","storeApi","sendEmail","handleChangeType","onClickAway","isInventoryCheck","newSelectedList","nonZeroBatch","OrderProductListTableRow","orderProductList","JSONdata","customerOrders","setCustomerOrders"],"mappings":"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","file":"static/js/21.79165715.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  Grid,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  useTheme,\n  withStyles,\n  makeStyles,\n  createStyles,\n} from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { removeAccents } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    input: {\n      borderRadius: \"20px\",       \n    },\n    multilineColor:{\n      color:theme.customization.primaryColor[500],\n      marginRight:-20\n  }\n  })\n);\n\nconst CustomTextField = withStyles({\n  root: {\n    \"& .MuiOutlinedInput-root\": {\n      \"& fieldset\": {\n        borderRadius: 14,\n      },\n    },\n  },\n})(TextField);\n\nconst SearchCustomer = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  // const [selectedOption, setSelectedOption] = useState(props.selected)\n  // const [options, setOptions] = React.useState([]);\n\n  useEffect(() => {\n\n  }, [props.selectedCustomer]);\n  // console.log(\"selectedCustomer\",props.selectedCustomer)\n  const renderOption = (option) => {\n    //display value in Popper elements\n    return (\n      <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\">\n        <Typography variant=\"h5\">{option.name}</Typography>\n        <Typography variant=\"body1\">{option.phone}</Typography>\n      </Grid>\n    );\n  };\n\n  const renderInput = (params) => (\n    <TextField\n      {...params}\n      fullWidth\n      placeholder=\"Tìm khách hàng\"\n      margin=\"normal\"\n      // onClick={()=>props.selectedCustomer? console.log(\"hello\"):null}\n      InputProps={\n        // props.selectedCustomer?.name.length === 0 \n        !props.selectedCustomer\n          ? {\n              ...params.InputProps,\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={props.handleClickOpen}\n                  style={{ marginRight: -30 }}\n                >\n                  <AddIcon />\n                </IconButton>\n              ),\n            }\n          : {\n              ...params.InputProps,\n              classes: { input: classes.multilineColor },\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {/* <SearchIcon style={{ color: grey[500] }} /> */}\n                  <PersonIcon style={{ color: theme.customization.primaryColor[500] }} /> \n\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={()=>{\n                    props.handleSearchBarSelect(null)\n                    props.setAddCustomer({ name: \"\", phone: \"\" })\n                  }}\n                  style={{ marginRight: -30 }}\n                >\n                  <ClearOutlinedIcon fontSize=\"small\" style={{ color: theme.customization.primaryColor[500] }} />\n                </IconButton>\n              ),\n            }\n      }\n    />\n  );\n\n  const getOptionLabel = (option) => (option.name ? option.name.concat(option.phone? ` - ${option.phone}` :'') : \"\");\n  const filter = createFilterOptions({\n    stringify: option => `${removeAccents(option.name)}  - ${option.phone}`,\n  });\n  return (\n    <div style={{ width: \"100%\" }}>\n      <Autocomplete\n        filterOptions={filter}\n        autoComplete={false}\n        freeSolo\n        onKeyUp={(event) => {\n          // if (event.key === \"Enter\") {\n          //   props.handleSearchCustomer(event.target.value) \n          // }\n          if(props.selectedCustomer && (event.key === \"Delete\" || event.key === \"Backspace\") ){\n            props.handleSearchBarSelect(null)\n          }\n        }}\n        value={props.selectedCustomer}\n        options={props.customers.filter(item => item.status ==='active')}\n        getOptionLabel={getOptionLabel}\n        onChange={(event, value) => {\n          if (value) {\n            // setSelectedOption(value);\n            props.handleSearchBarSelect(value);\n          }\n        }}\n        // onInputChange={()=>{\n        //   if(props.selectedCustomer?.name.length !== 0){\n        //     // props.handleSearchBarSelect(null)\n        //     props.setAddCustomer({ name: \"\", phone: \"\" })\n        //   }\n          \n        // }}\n        renderInput={renderInput}\n        renderOption={renderOption}\n      />\n    </div>\n  );\n};\n\nexport default SearchCustomer;\n","import React from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  DialogActions,\n  DialogContent,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  RadioGroup,\n  Radio,\n  ListItem,\n  Paper,\n  ButtonBase,\n  Avatar,\n  Popover,\n  Divider\n} from \"@material-ui/core\";\nimport {calculateTotalQuantity} from \"../../../../components/TableCommon/util/sortUtil\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport { useSelector } from \"react-redux\";\n\nimport AddCustomer from \"../../../../views/ManagerView/Customer/AddCustomer/AddCustomer\";\nimport giftBox from \"../../../../assets/img/icon/giftbox.png\";\n// import giftBox from \"../../../../assets/img/icon/gift.png\";\n// import giftBox from \"../../../../assets/img/icon/gift2.png\";\n\nimport SearchCustomer from \"../../../SearchBar/SearchCustomer\";\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\n\n// import VNDInput from '../../../TextField/NumberFormatCustom';\n// import { VNDFormat,ThousandFormat } from '../../../TextField/NumberFormatCustom';\nimport setting from \"../../../../assets/constant/setting\";\n\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../../../TextField/NumberFormatCustom\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport DiscountPopUp from \"../../../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\nimport DiscountInputDetail from \"../../../TextField/DiscountInputDetail\";\nimport openNotification from \"../../../../components/StatusPopup/StatusPopup\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    popup: { borderColor: theme.customization.primaryColor[500], padding: 5, paddingLeft:12, boxShadow: \"0px 5px 10px 0px rgba(0, 0, 0, 0.5)\" },\n  })\n);\nconst CartSummary = (props) => {\n  const {\n    cartData,\n    handleSelectCustomer,\n    currentCustomer,\n    handleUpdateDiscount,\n    handleUpdatePaidAmount,\n    handleUpdatePaymentMethod,\n    handleCheckDelivery,\n    handleSearchCustomer,\n    handleConfirm,\n    selectedBranch,\n    setSelectedBranch,\n    customers,\n    currentBranch,\n    mode,\n    reloadCustomers,\n    discountData,\n    isScore,\n    handleUpdateDiscountDetail,\n    handleUpdateSelectedPromotion,\n    handleUpdateBestDetailSelectedPromotion,\n    products\n  } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const dispatch = useDispatch();\n\n\n  //mode 2: popup\n  const [openPopUp, setOpenPopUp] = React.useState(false);\n  const handleClickOpenPopUp = () => {\n    setOpenPopUp(true);\n  };\n\n  const handleClosePopUp = () => {\n    setOpenPopUp(false);\n  };\n\n  // giao hang\n  const [deliver, setDeliver] = React.useState(false);\n\n  const handleChangeDeliver = (event) => {\n    setDeliver(event.target.checked);\n  };\n\n\n  // so tien khach đưa\n  const [customerMoney, setCustomerMoney] = React.useState(\"0\");\n\n\n  // const handlePromotion = () =>{ \n  //   if(discountData.length !==0 ){ \n  //     let arr = []\n  //      discountData?.map(( pro) => {\n  //       const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return b.totalCost - a.totalCost})\n  //       console.log(\"sortedRow\",sortedRow)\n  //       for ( let i = 0; i <sortedRow.length ; i++){\n  //         if(Number(cartData.total_amount) >= Number(sortedRow[i].totalCost)){\n  //            arr.push({...sortedRow[i], name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})\n  //            return \n  //         }\n  //       }\n  //     })\n  //     return arr\n  //   }\n  //   return []\n  // }\n  // let filteredPromotion = handlePromotion()\n\n  const handlePromotion = () =>{\n    console.log(\"discountData.length \",discountData.length )\n    if(discountData.length ===0 ){return [] }\n    \n    var arr = []\n    discountData?.map(( pro) => {\n      // // thap den cao\n      // const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return a.totalCost - b.totalCost})\n      // thap den cao\n      const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return b.totalCost - a.totalCost})\n      if (Number(cartData.total_amount) >= Number(sortedRow[sortedRow.length - 1].totalCost) ){arr.push({detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})}\n    })\n    return arr\n  }\n  let filteredPromotion = handlePromotion()\n\n\n  // const [selectedPromotion, setSelectedPromotion] = React.useState(null);\n  let  selectedPromotion = cartData.selectedPromotion\n  const [openDiscount, setOpenDiscount] = React.useState(false);\n\n  const [addCustomer, setAddCustomer] =  React.useState({ name: \"\", phone: \"\" });\n  React.useEffect(()=>{\n    if(addCustomer?.name?.length !==  0){props.handleSelectCustomer(addCustomer);setAddCustomer({ name: \"\", phone: \"\" })}\n  })\n  console.log(\"currentCustomer\",currentCustomer)\n\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openDiscountDetail = Boolean(anchorEl);\n\n  const info = useSelector((state) => state.info);\n  console.log(\"info\",info)\n   const store_setting = info.store.general_configuration\n  ? JSON.parse(info.store.general_configuration)\n  : setting;\n  const canEnterDiscountWhenSell = store_setting?.canEnterDiscountWhenSell?.status\n  const handleClick = (event) => {\n      if(canEnterDiscountWhenSell || info.role === 'owner'){\n        setAnchorEl(anchorEl ? null : event.currentTarget);\n      }else{\n        openNotification('error', 'Bạn không có quyền nhập giảm giá', '')\n      }\n  };\n\n  let returnMoney =  cartData.paid_amount - (cartData.total_amount - cartData.discount - cartData.discountPro) \n\n  const totalQuantity = calculateTotalQuantity(cartData.cartItem)\n\n\n \n  const otherfee = store_setting?.vat\n  let otherFeeMoney = otherfee?.listCost ? otherfee?.listCost?.reduce((sum,fee)=>fee.type!==\"%\"? sum + Number(fee.value):sum , 0) :0;\n\n\n\n\n  console.log(\"cartData\",cartData)\n\n  // const getBestPromotion = ()=> {\n  //   let bestCondition = selectedPromotion.detailCondition.map((pro) =>{if (Number(cartData.total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n  //   bestCondition =bestCondition.filter(item => item !== null)[0]\n  //   return  bestCondition\n  // }\n  return (\n    <Box style={{ padding: 30, minHeight: \"80vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          {/* 1. BASIC INFO */}\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">{currentBranch.name}</Typography>\n            {/* <BranchSelect \n                            setSelectedBranch={setSelectedBranch}\n                            selectedBranch={selectedBranch}\n                        /> */}\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <div style={{ width: \"100%\" }}>\n          <SearchCustomer\n            handleClickOpen={handleClickOpen}\n            handleSearchCustomer={handleSearchCustomer}\n            customers={customers}\n            selectedCustomer={\n              currentCustomer\n              // currentCustomer ? currentCustomer : { name: \"\", phone: \"\" }\n            }\n            handleSearchBarSelect={handleSelectCustomer}\n            setAddCustomer={setAddCustomer}\n          />\n        </div>\n\n        {/* <AddCustomer open={open} handleClose={handleClose} /> */}\n        {open &&<AddCustomer \n        open={open} \n        handleClose={()=>{setOpen(false)}}  \n        onReload={props.reloadCustomers} \n        setAddCustomer={setAddCustomer}\n        isCart={true}\n        />}\n        {/* when change mode to menu product */}\n        {props.children}\n\n\n        {/* 2. PAYMENT INFO  */}\n        {/* {!mode ? ( */}\n         \n            {/* 2.1 Mode 1 */}\n           {!mode? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginBox}\n            >\n              <Typography variant=\"h5\">Tổng SL sản phẩm ({cartData.cartItem.length}) </Typography>\n              <Typography variant=\"body2\">\n                <ThousandFormat\n                  value={calculateTotalQuantity(cartData.cartItem)}\n                ></ThousandFormat>\n              </Typography>\n            </Grid>:null}\n\n          <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n              alignItems='center'\n            >\n              <div>\n                <ListItem style={{padding: 0,margin:0}}>\n                <Typography variant=\"h5\">{!canEnterDiscountWhenSell && mode ?`Tổng tiền (${calculateTotalQuantity(cartData.cartItem)})`:`Tổng tiền hàng`}</Typography>\n                {/* { filteredPromotion.length > 0   ? \n                <div onClick={()=>{setOpenDiscount(!openDiscount)}}>\n                    <img id=\"gift\" src={require('../../../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} />\n                </div>\n                :null} */}\n                { filteredPromotion.length  > 0  ? \n                <div onClick={()=>{setOpenDiscount(!openDiscount)}}>\n                    <img id=\"gift\" src={require('../../../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} />\n                </div>\n                :null}\n                \n                </ListItem>\n              \n              </div>\n              {openDiscount && <DiscountPopUp products={products}handleUpdateSelectedPromotion={handleUpdateSelectedPromotion} selectedPromotion={cartData.selectedPromotion} listGiftItem={cartData.listGiftItem}filteredPromotion={filteredPromotion} open={openDiscount} title=\"Khuyến mãi trên hóa đơn\" onClose={()=>{setOpenDiscount(!openDiscount)}} totalCartAmount={cartData.total_amount} handleUpdateBestDetailSelectedPromotion={handleUpdateBestDetailSelectedPromotion}/>}\n\n              \n       \n            <Typography variant=\"body2\"  style={!canEnterDiscountWhenSell && mode?{color: \"#2096f3\", fontWeight: 600,fontSize:18 }:{}} >\n                <VNDFormat value={cartData.total_amount} />\n              </Typography>\n            </Grid>\n            \n                 \n          {(canEnterDiscountWhenSell  && mode)|| !mode?\n          <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n               <div>\n                <ListItem style={{padding: 0,margin:0}}>\n                \n                {/* <Typography variant=\"h5\">Giảm giá {selectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({selectedPromotion.discountValue}%)</b>:\"\"}</Typography> */}\n                {/* <Typography variant=\"h5\">Giảm giá {getBestPromotion()?.type ===\"%\" ? <b style={{color:'red'}} >({getBestPromotion().discountValue}%)</b>:\"\"}</Typography>\n                { selectedPromotion?.discountKey === \"invoice\" ? \n                <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                :null} */}\n\n              <Typography variant=\"h5\">Giảm giá {cartData.bestDetailSelectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({cartData.bestDetailSelectedPromotion?.discountValue}%)</b>:\"\"}</Typography>\n                { selectedPromotion?.discountKey === \"invoice\" ? \n                <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                :null}\n                <Popper  placement=\"left-start\" open={openDiscountDetail} anchorEl={anchorEl} onClose={()=>setAnchorEl(null)}   style={{zIndex:1000000}} >   \n                    <DiscountInputDetail handleUpdateDiscountDetail={handleUpdateDiscountDetail} cartData={cartData} setAnchorEl={setAnchorEl} />\n                </Popper>\n                </ListItem>\n              \n              </div>\n              <Box  onClick={handleClick} style={{ width: 90 ,color:'#616161',textAlign: \"right\"}}>\n                <VNDFormat value={Number(cartData.discount) + Number(cartData.discountPro)}/>\n                <Divider style={{ background: anchorEl?theme.customization.primaryColor[500]:'#616161' }} />\n              </Box>\n              {/* style={{color:anchorEl?theme.customization.primaryColor[500]:'#616161'}} */}\n              {/* <VNDInput\n              // disabled\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                size=\"small\"\n                // defaultValue={cartData.discount}\n                value={cartData.discount}\n                inputProps={{ style: { textAlign: \"right\"} }}\n                // onChange={(e) => handleUpdateDiscount(e.target.value)}\n                onClick={handleClick}\n              /> */}\n            </Grid>\n            { otherfee?.status ?\n            otherfee?.listCost?.length ?\n            otherfee?.listCost?.map((fee)=>{\n              console.log(\"fee\",fee)\n              if(fee.name.length >0)\n              return (\n                <Grid\n                container\n                direction=\"row\"\n                justifyContent=\"space-between\"\n                className={classes.marginRow}\n              >\n                <Typography variant=\"h5\" >{fee.name}</Typography>\n                <Typography variant=\"body2\" >\n                  <VNDFormat\n                    style={{ color: \"#2096f3\",fontWeight: 600, }}\n                    // value={fee.type === \"%\"?  Number(fee.value)*(Number(cartData.total_amount) - Number(cartData.discount) - Number(cartData.discountPro)) / 100 : Number(cartData.total_amount) === 0? \"0\" :fee.value  }\n                    value={fee.type === \"%\"?  Number(fee.value)*(Number(cartData.total_amount) - Number(cartData.discount) - Number(cartData.discountPro)) / 100 :fee.value  }\n\n                  />\n                </Typography>\n              </Grid>\n              )\n            }):null\n            :null}\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\" >Tổng tiền</Typography>\n              <Typography variant=\"body2\" >\n                <VNDFormat\n                  style={{ color: \"#2096f3\",fontWeight: 600, }}\n                  value={Number(cartData.total_amount) !== 0 ?cartData.total_amount - cartData.discount -  cartData?.discountPro +  cartData.otherFee : cartData.total_amount - cartData.discount -  cartData?.discountPro  + otherFeeMoney   }\n                />\n              </Typography>\n            </Grid>\n            </>:null}\n           {isScore && currentCustomer? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tích điểm</Typography>\n              <Typography variant=\"body2\">\n                <ListItem style={{padding:0, margin:0}}>\n                <ThousandFormat\n                  // style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={cartData.scores}\n                />\n               {currentCustomer?.points? <Typography>/{currentCustomer.points + cartData.scores}</Typography> : null} \n               </ListItem>\n              </Typography>\n            </Grid>:null}\n\n            {/* {cartData.total_amount - cartData.discount  !== 0 || cartData.total_amount === 0 ?<Grid */}\n            {cartData.total_amount - cartData.discount  !== 0 ?<Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Khách thanh toán</Typography>\n              <VNDInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                // defaultPrice={(cartData.total_amount - cartData.discount).toString()}\n                // defaultValue={(cartData.total_amount - cartData.discount).toString()}\n                value={cartData.paid_amount}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n                onChange={(e) => handleUpdatePaidAmount(e.target.value)}\n              />\n            </Grid>:null}\n\n\n            {cartData.total_amount - cartData.discount  -  cartData?.discountPro   !== 0 ?\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\" style={returnMoney <0 ?{color:'red', fontWeight:500}:{}}>{returnMoney <0 ? 'Nợ' :'Tiền thối'}</Typography>\n              {/* <Input.ThousandSeperatedInput\n                                    id=\"standard-basic\" style={{ width: 90 }}\n                                    size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\n                                    value={Number(customerMoney) - cartData.paid_amount}\n                                /> */}\n              <Typography variant=\"body2\" style={returnMoney <0 ?{color:'red', fontWeight:500}:{}}>\n                \n                <VNDFormat\n                  value={\n                    cartData.paid_amount -\n                    (cartData.total_amount - cartData.discount  -  cartData?.discountPro + cartData.otherFee)\n                  }\n                />\n              </Typography>\n            </Grid>:null}\n\n           <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n              // className={classes.marginRow}\n              style={{marginTop:mode?-10:null}}\n            >\n              <FormControl component=\"fieldset\">\n                <RadioGroup\n                  aria-label=\"gender\"\n                  name=\"gender1\"\n                  value={cartData.payment_method}\n                  onChange={(e)=>handleUpdatePaymentMethod(e.target.value)}\n                >\n                  <Grid container direction=\"row\">\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"card\"\n                      control={<Radio  size=\"small\"/>}\n                      label=\"Thẻ\"\n                    />\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"cash\"\n                      control={<Radio   size=\"small\"/>}\n                      label=\"Tiền mặt\"\n                    />\n                  </Grid>\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n\n            {/* <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n            >\n              <FormControlLabel\n                labelPlacement=\"start\"\n                control={\n                  <Checkbox checked={cartData.delivery} onChange={(e)=>handleCheckDelivery(e.target.checked)} />\n                }\n                label=\"Giao hàng\"\n              />\n            </Grid> */}\n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{ marginTop:!mode? 60:0 }}\n              onClick={handleConfirm}\n            >\n              Thanh toán\n            </Button>\n          {/* </>\n        ) : (\n          */}\n          {/* <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n              style={{marginTop:-15}}\n            >\n              <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n              <Typography variant=\"body2\">500.000</Typography>\n            </Grid>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Giảm giá</Typography>\n              <Input.ThousandSeperatedInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n              />\n            </Grid>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{  }}\n              onClick={handleClickOpenPopUp}\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Grid item>Thanh toán  ( {calculateTotalQuantity(cartData.cartItem)} ) </Grid>\n                <Grid item>500.000 </Grid>\n              </Grid>\n            </Button>\n            <Dialog\n              open={openPopUp}\n              onClose={handleClosePopUp}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <CheckoutPopUp />\n            </Dialog>\n          </>\n        )} */}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default CartSummary;\n\n// const CheckoutPopUp = (props) => {\n//   const { onClose, handleChangePayment, payment } = props;\n//   const theme = useTheme();\n//   const classes = useStyles(theme);\n//   return (\n//     <>\n//       <Box style={{ marginTop: 20, marginLeft: 15, marginBottom: 10 }}>\n//         <Typography className={classes.headerTitle} variant=\"h5\">\n//           Trả tiền NCC\n//         </Typography>\n//       </Box>\n//       <DialogContent>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n//           <Typography variant=\"body2\">500.000</Typography>\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\" style={{ paddingRight: 50 }}>\n//             Đã trả CNN\n//           </Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Công nợ</Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"flex-end\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <FormControl component=\"fieldset\">\n//             <RadioGroup\n//               aria-label=\"gender\"\n//               name=\"gender1\"\n//               value={payment}\n//               onChange={handleChangePayment}\n//             >\n//               <Grid container direction=\"row\">\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"card\"\n//                   control={<Radio />}\n//                   label=\"Thẻ\"\n//                 />\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"cash\"\n//                   control={<Radio />}\n//                   label=\"Tiền mặt\"\n//                 />\n//               </Grid>\n//             </RadioGroup>\n//           </FormControl>\n//         </Grid>\n//       </DialogContent>\n//       <DialogActions>\n//         <Button\n//           variant=\"contained\"\n//           onClick={onClose}\n//           fullWidth\n//           color=\"primary\"\n//           style={{ marginTop: 40 }}\n//         >\n//           Thanh toán ()\n//         </Button>\n//       </DialogActions>\n//     </>\n//   );\n// };\n\n","import React, { useEffect, useState } from \"react\";\n//import style\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\n//impỏrt library\nimport {\n  Box,\n  TextField,\n  ListItem,\n  IconButton,\n  TableRow,\n  TableCell,\n  Tooltip,\n  Chip,\n  Button,\n  Typography,\n  Grid,\n} from \"@material-ui/core\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\n\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n//import project\nimport * as Input from \"../../../../components/TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\nimport DiscountPopUp from \"../DiscountPopup/DiscountPopup\";\nimport icon from \"../../../../assets/img/product/tch.jpeg\";\nimport SelectBatch from \"../../../../components/SelectBatch/SelectBatch\";\nimport { useSelector } from \"react-redux\";\n\nimport MoreInfo from \"../../../../components/MoreInfo/MoreInfo\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\n\nimport defaultProduct from \"../../../../assets/img/product/default-product.png\";\nimport setting from \"../../../../assets/constant/setting\";\n\nexport const CartRow = (props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const haveDiscount = true;\n  const info = useSelector((state) => state.info);\n  const branch = info.branch;\n  const branchs = info.store.branches\n  const {\n    row,\n    // branchs,\n    discountData,\n    handleDeleteItemCart,\n    handleChangeItemQuantity,\n    handleUpdateBatches,\n    handleChangeItemPrice,\n    mini,\n    imageType,\n    index,\n    typeShow,\n    showImage,\n    isGiftPromotion\n  } = props;\n  console.log(\"cart table row\", row)\n  const updateQuantity = (newQuantity) => {\n    handleChangeItemQuantity(row.uuid, newQuantity);\n  };\n  const [openDiscount, setOpenDiscount] = React.useState(false);\n  const handleOpenDiscount = () => {\n    setOpenDiscount(!openDiscount);\n  };\n\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\n  const [selectedBatches, setSelectedBatches] = useState([]);\n\n  useEffect(() => {\n    if (row.batches?.length >= 1) {\n      setSelectedBatches([{ ...row.batches[0], additional_quantity: 0 }]);\n    }\n  }, []);\n\n  useEffect(() => {\n    if(!isGiftPromotion){\n      let total = 0;\n      selectedBatches.forEach((batch) => {\n        total += Number(batch.additional_quantity);\n      });\n      updateQuantity(total);\n      handleUpdateBatches(row.uuid, selectedBatches);\n    }\n  }, [selectedBatches]);\n\n  const handleSelectBatches = (batches) => {\n    const newBatches = [];\n    selectedBatches.forEach((selectedBatch) => {\n      const newBatch = batches.find(\n        (batch) => batch.batch_code === selectedBatch.batch_code\n      );\n      if (newBatch) {\n        newBatches.push({\n          ...selectedBatch,\n          additional_quantity:\n            Number(selectedBatch.additional_quantity) +\n            Number(newBatch.additional_quantity),\n        });\n      } else {\n        newBatches.push(selectedBatch);\n      }\n    });\n    batches.forEach((newBatch) => {\n      if (\n        !newBatches.find((batch) => newBatch.batch_code === batch.batch_code)\n      ) {\n        newBatches.push(newBatch);\n      }\n    });\n\n    setSelectedBatches(newBatches);\n  };\n\n  const store_setting = info.store.general_configuration\n    ? JSON.parse(info.store.general_configuration)\n    : setting;\n\n  const canFixPriceSell = store_setting?.canFixPriceSell;\n\n  const [show, setShow] = React.useState(false);\n\n  const findBranchQuantity = (id) => {\n    const rs = row.branch_inventories.find(\n      (x) => x.uuid === id\n    )?.quantity_available;\n    if (rs) {\n      return rs;\n    } else {\n      return 0;\n    }\n  };\n  function getCommon(array1, array2) {\n    return array1.filter(object1 => {\n      return array2.some(object2 => {\n        return object1.id === object2.id;\n      });\n    });\n  }\n\n  const getListOfPromotionOfProduct = (product) =>{\n    let satisfy =  discountData.map((pro)=>{\n      let promotionCondition = JSON.parse(pro.promotion_condition)\n      \n      let proSatisfy = promotionCondition.map((condition)=>{\n          console.log(\"allooooo\")\n          if(condition.isBuyCategory){\n            //\n            return false\n          }else{\n            // console.log(\"allooooo\",getCommon(condition.listBuyItem,product ) )\n            // console.log(\"condition.listBuyItem.filter((item)=>item.uuid === product.uuid).length > 0\",condition.listBuyItem.filter((item)=>item.uuid === product.uuid).length > 0)\n            const isSatisfied = condition.listBuyItem.filter((item)=>item.uuid === product.uuid)\n            console.log(\"isSatisfied\",isSatisfied.length > 0)\n            return isSatisfied.length > 0 \n          }\n        })\n        return proSatisfy.some(v => v === true)\n      \n    })\n    // arr.push({detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})\n    // return satisfy.some(v => v === true) ? [{detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id}]: []\n    return satisfy.some(v => v === true)\n\n  }\n  var color = theme.customization.mode === \"Light\"? typeShow==='list'?'#000':null: null\n  return (\n    <>\n      <TableRow\n        hover\n        key={props.row.uuid}\n        onMouseOver={() => setShow(true)}\n        onMouseLeave={() => setShow(false)}\n        // style={{color:'#000'}}\n      >\n        {/* {mini ? null : <TableCell align=\"left\">{row.id + 1}</TableCell>} */}\n        {/* <TableCell align=\"left\" style={!mini?{}:{paddingLeft:0, paddingRight:!imageType?25:15}}>{imageType?'':`${row.id + 1}.`}</TableCell> */}\n        <TableCell align=\"left\" style={!mini?{}:{paddingLeft:0, paddingRight:!imageType?25:15}}>{imageType?'':`${index }.`}</TableCell>\n\n        {/* Sửa lại thành product_code */}\n        {mini ? null : <TableCell align=\"left\"  style={{ paddingRight: 20, }}>\n          {row.product_code}\n        </TableCell>}\n        {/* <TableCell align=\"left\" style={mini ? {maxWidth: 50}: { minWidth: 200 }}> */}\n        <TableCell align=\"left\" style={{ minWidth: 170 }}  padding={'none'}>\n          <ListItem\n            style={ {marginLeft:-10, marginTop: -10, marginBottom: -10, padding:0 }}\n            alignItems=\"center\"\n          >\n           {showImage?  <Box\n              component=\"img\"\n              sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15,marginTop:12, marginBottom:12  }}\n              src={\n                JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) ||\n                defaultProduct\n              }\n            />:null}\n            <Grid style={{paddingTop:12, paddingBottom:12,marginBottom:imageType?3:0}}>\n                <Typography style={!mini?{}:{fontWeight:imageType?600:null,color:color}}>{row.name}</Typography>\n                {imageType ?\n                 canFixPriceSell.status && canFixPriceSell.cart || info?.role === 'owner'? (\n                  <Input.ThousandSeperatedInput\n                    id=\"standard-basic\"\n                    // style={mini ? {maxWidth: 50} : { width: 72 }}\n                    style={{ width: 72 }}\n      \n                    size=\"small\"\n                    inputProps={{ style: { textAlign: \"right\"  } }}\n                    defaultPrice={row.unit_price}\n                    value={row.unit_price}\n                    onChange={(e) =>\n                      handleChangeItemPrice(props.row.uuid, e.target.value)\n                    }\n                  />\n                ) : (\n                  <Input.ThousandFormat value={row.unit_price}>\n                    {\" \"}\n                  </Input.ThousandFormat>\n                ):null}\n            </Grid>\n            {show && store_setting?.inventory.status && !mini? (\n              <MoreInfo>\n                 {branchs.length > 1?\n                 <>\n                    <ListItem>\n                      <Typography style={{ width: 180 }}></Typography>\n                      <Typography style={{ fontWeight: 700 }}>Tồn</Typography>\n                    </ListItem>\n                    {branchs.map((item) => {\n                      return (\n                        <ListItem>\n                          <ListItem style={{ width: 180, margin: 0, padding: 0 }}>\n                            <Typography\n                              style={{ fontWeight: 700, marginRight: 10 }}\n                            >\n                              {item.name}\n                            </Typography>\n                            {item.uuid === branch.uuid ? (\n                              <CheckCircleIcon fontSize=\"small\" color=\"primary\" />\n                            ) : null}\n                          </ListItem>\n                          <Grid justifyContent=\"flex-end\">\n                            <Typography>{findBranchQuantity(item.uuid)}</Typography>\n                          </Grid>\n                        </ListItem>\n                      );\n                    })}\n                    </>:\n                   <Typography  style={{fontWeight:700, color:'#000'}}>{`Tồn kho:\\u00a0\\u00a0\\u00a0  `} {findBranchQuantity(branchs[0].uuid)}</Typography>\n\n                  }\n                {/* {row.branch_inventories.map(item =>(\n                   <ListItem >\n                      <ListItem style={{width:280, margin:0, padding:0}}>\n                          <Typography style={{fontWeight:700, marginRight:10}}>{item.name}</Typography>\n                          {item.uuid === branch.uuid ? <CheckCircleIcon fontSize=\"small\" color='primary'/> :null} \n                      </ListItem>\n                      <Typography>{item.quantity_available}</Typography>\n                    </ListItem>\n                ))}   */}\n              </MoreInfo>\n            ) : null}\n            {/* {getListOfPromotionOfProduct(row) ? (\n              <img\n                id=\"gift\"\n                src={require(\"../../../../assets/img/icon/giftbox.png\").default}\n                style={{ height: 16, width: 16, marginLeft: 10, marginTop: -3 }}\n                onClick={() => setOpenDiscount(true)}\n              />\n            ) : null} */}\n            {false ? (\n              <img\n                id=\"gift\"\n                src={require(\"../../../../assets/img/icon/giftbox.png\").default}\n                style={{ height: 16, width: 16, marginLeft: 10, marginTop: -3 }}\n                onClick={() => setOpenDiscount(true)}\n              />\n            ) : null}\n          </ListItem>\n          {openDiscount && (\n            <DiscountPopUp\n              open={openDiscount}\n              title={`Khuyến mãi trên ${row.product_code} - ${row.name}`}\n              onClose={() => {\n                setOpenDiscount(false);\n              }}\n            />\n          )}\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\n       \n        {row.has_batches  || isGiftPromotion? (\n          <TableCell align=\"center\">\n            {row.quantity}\n          </TableCell>\n        ) : (\n          <TableCell align=\"center\"padding='none' >\n            <ButtonQuantity\n              // isMini={mini?true:false}\n              miniCart={mini}\n              quantity={row.quantity}\n              setQuantity={updateQuantity}\n              branch_quantity={row.branch_quantity}\n              isManageInventory={store_setting?.inventory.status}\n            />\n          </TableCell>\n         \n        )}\n\n      {imageType?null:\n      <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n          { !isGiftPromotion ?\n          canFixPriceSell.status && canFixPriceSell.cart ? (\n            <Input.ThousandSeperatedInput\n              id=\"standard-basic\"\n              // style={mini ? {maxWidth: 50} : { width: 72 }}\n              style={{ width: 72, marginLeft:-5 }}\n\n              size=\"small\"\n              inputProps={{ style: { textAlign: \"right\" } }}\n              defaultPrice={row.unit_price}\n              value={row.unit_price}\n              onChange={(e) =>\n                handleChangeItemPrice(props.row.uuid, e.target.value)\n              }\n            />\n          ) : (\n            <Input.ThousandFormat value={row.unit_price} style={{marginLeft:-5}}>\n              {\" \"}\n            </Input.ThousandFormat>\n          ):\n          <Box style={{marginTop:10}}>\n            <Input.ThousandFormat value={0} style={{marginLeft:-5, }}/><br/>\n            <Input.ThousandFormat  value={`-${row.unit_price}`} style={{marginLeft:-5,color:'red'}}/>\n          </Box>\n          \n          } \n        </TableCell>  }  \n        \n        <TableCell align=\"right\" className={classes.boldText} padding={mini ? \"none\" : \"normal\"}>\n          {!mini?<VNDFormat value={!isGiftPromotion?row.unit_price * row.quantity:0} style={{color:color}}/>:<Input.ThousandFormat value={row.unit_price * row.quantity} style={{paddingLeft:imageType? 0:20, color:color}}/>}\n        </TableCell>\n\n        {!isGiftPromotion?\n        <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n          <IconButton aria-label=\"expand row\" size=\"small\" style={{marginLeft:10}}>\n            <DeleteForeverTwoToneIcon\n              onClick={() => handleDeleteItemCart(row.uuid)}\n            />\n          </IconButton>\n        </TableCell>:null}\n      </TableRow>\n      {row.has_batches ? (\n        <TableRow>\n          <TableCell colSpan={1}></TableCell>\n          <TableCell colSpan={10}>\n            <div style={{ display: \"flex\", flexDirection: \"row\", gap: 10 }}>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                onClick={() => setSelectBatchOpen(true)}\n                \n              >\n                Chọn lô\n              </Button>\n              {selectedBatches.map((batch) => (\n                <Tooltip title={`Tồn kho - ${batch.quantity}`}>\n                  <Chip\n                    label={`${\n                      batch?.batch_code ? batch?.batch_code : \"Mới\"\n                    } - ${batch?.expiry_date ? batch?.expiry_date : \"\"} - ${\n                      batch.additional_quantity\n                    }`}\n                    key={batch.id}\n                    onDelete={() => {\n                      const newBatches = selectedBatches.filter(\n                        (selectedBatch) => selectedBatch.id !== batch.id\n                      );\n                      setSelectedBatches(newBatches);\n                    }}\n                    color={batch.is_new ? \"primary\" : \"secondary\"}\n                    deleteIcon={<DeleteOutline />}\n                    variant=\"outlined\"\n                  />\n                </Tooltip>\n              ))}\n              {selectBatchOpen && (\n                <SelectBatch\n                  handleSubmit={handleSelectBatches}\n                  row={row}\n                  handleClose={() => setSelectBatchOpen(false)}\n                />\n              )}\n            </div>\n          </TableCell>\n        </TableRow>\n      ) : null}\n    </>\n  );\n};\n\n\n// export const CartRowMini = ({ row }) => {\n//   const classes = useStyles();\n\n//   return (\n//     <>\n//       <TableRow hover key={row.id}>\n//         <TableCell align=\"left\">\n//           <ListItem\n//             style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\n//           >\n//             <Box\n//               component=\"img\"\n//               sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\n//               src={icon}\n//             />\n//             <Box direction=\"column\">\n//               <Typography\n//                 className={classes.boldText}\n//                 style={{\n//                   marginBottom: 3,\n//                   fontSize: 14.5,\n//                   width: 135,\n//                   textOverflow: \"ellipsis\",\n//                   overflow: \"hidden\",\n//                   whiteSpace: \"nowrap\",\n//                 }}\n//               >\n//                 {row.name}\n//               </Typography>\n//               {/* <Typography>{row.price}</Typography> */}\n//               <Input.ThousandSeperatedInput\n//                 id=\"standard-basic\"\n//                 style={{ width: 70 }}\n//                 size=\"small\"\n//                 defaultPrice={row.price}\n//               />\n//             </Box>\n//           </ListItem>\n//         </TableCell>\n\n//         <TableCell align=\"left\" padding=\"none\">\n//           <TextField\n//             variant=\"outlined\"\n//             defaultValue={row.quantity}\n//             style={{ width: 37, margin: 0 }}\n//             size=\"small\"\n//             inputProps={{\n//               style: { paddingLeft: 5, paddingRight: 5, textAlign: \"center\" },\n//             }}\n//           />\n//         </TableCell>\n\n//         <TableCell align=\"right\" className={classes.boldText}>\n//           700.000\n//         </TableCell>\n//         <TableCell align=\"left\">\n//           <IconButton\n//             aria-label=\"expand row\"\n//             size=\"small\"\n//             style={{ marginLeft: -25 }}\n//           >\n//             <DeleteForeverOutlinedIcon />\n//           </IconButton>\n//         </TableCell>\n//       </TableRow>\n//     </>\n//   );\n// };\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\nimport { grey } from \"@material-ui/core/colors\";\nimport moment from \"moment\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ReceiptPrinter } from \"../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport { CartBottom } from \"../../../components/Button/CartButton\";\nimport AddInventory from \"../../InventoryView/Inventory/AddInventory/AddInventory\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\n//import library\nimport {\n  Grid,\n  Card,\n  Box,\n  Table,\n  Tabs,\n  Tab,\n  TableContainer,\n  CardContent,\n  CardMedia,\n  CardActionArea,\n  FormControlLabel,\n  Switch,\n  Menu,\n  MenuItem,\n  ListItem,\n  IconButton,\n  TableBody,\n  Typography,\n  ButtonBase,\n  AvatarTypeMap,\n  Tooltip,\n  Avatar,\n  TableCell,\n  TableRow,\n  Button,\n  Divider\n} from \"@material-ui/core\";\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\n\nimport SearchBarCode from \"../../../components/SearchBar/SearchBarCode\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\n\n//import project\n//rieng\nimport CartSummary from \"../../../components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary\";\nimport { CartRow, CartRowMini } from \"./CartTableRow/CartTableRow\";\n//chung\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\";\nimport ChangeCartBtn from \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\";\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport {\n  getComparator,\n  stableSort,\n} from \"../../../components/TableCommon/util/sortUtil\";\n\nimport orderApi from \"../../../api/orderApi\";\n// update state\nimport update from \"immutability-helper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\nimport customerApi from \"../../../api/customerApi\";\n// FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\nimport { calculateTotalQuantity } from \"../../../components/TableCommon/util/sortUtil\";\nimport { CartMiniTableRow, VarianceProductMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../api/branchApi\";\nimport setting from \"../../../assets/constant/setting\";\nimport { infoActions } from \"../../../store/slice/infoSlice\";\nimport productApi from \"../../../api/productApi\";\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport promotionCouponApi from '../../../api/promotionCouponApi';\nimport { loadingActions } from \"../../../store/slice/loadingSlice\";\nimport ModalWrapperWithClose from \"../../../components/Modal/ModalWrapperWithClose\";\nimport { enableMapSet } from \"@reduxjs/toolkit/node_modules/immer\";\n\nconst Cart = () => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [selectedBranch, setSelectedBranch] = useState({});\n\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const searchBarState = info.searchBarState;\n  const store_uuid = info.store.uuid;\n  const branch = info.branch;\n  const branch_uuid = info.branch.uuid;\n  const store_setting = info.store.general_configuration\n    ? JSON.parse(info.store.general_configuration)\n    : setting;\n\n  const defaultPaymentAmount = store_setting?.defaultPaymentAmount.status && store_setting?.defaultPaymentAmount.cart \n  console.log(\"store_setting\",store_setting)\n  console.log(\"defaultPaymentAmount\",defaultPaymentAmount)\n\n    const canEnterDiscountWhenSell = store_setting?.canEnterDiscountWhenSell?.status\n\n  const [discountData, setDiscountData] = useState([]);\n\n  const user_uuid = useSelector((state) => state.info.user.uuid);\n  const dispatch = useDispatch();\n  const [reloadProduct, setReloadProduct] = useState(false);\n\n  const loadCartLocalStorage = () => {\n    if (window.localStorage.getItem(\"cartListData\")) {\n      const data = JSON.parse(window.localStorage.getItem(\"cartListData\"));\n      if (data.user_uuid === user_uuid) {\n        return data.cartList;\n      }\n    }\n    return [\n      {\n        customer: null,\n        cartItem: [],\n        total_amount: \"0\",\n        paid_amount: \"0\",\n        discount: \"0\",\n        payment_method: \"cash\",\n        delivery: false,\n        scores: \"0\",\n        discountDetail:{value:'0', type:'VND' },\n        selectedPromotion:null,\n        bestDetailSelectedPromotion:null,\n        discountPro:0,\n        otherFee:0,\n        listGiftItem:[]\n      },\n    ];\n  };\n\n\n  const [cartList, setCartList] = React.useState(loadCartLocalStorage());\n  const [products, setProducts] = useState([]);\n  const [customers, setCustomers] = useState([]);\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"cartListData\",\n      JSON.stringify({ user_uuid: user_uuid, cartList: cartList })\n    );\n  }, [cartList]);\n\n  useEffect(() => {\n    if (products.length) {\n      window.localStorage.setItem(\n        \"products\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          branch_uuid: branch_uuid, \n          data: products })\n      );\n    }\n  }, [products]);\n\n  useEffect(() => {\n    if (customers.length) {\n      window.localStorage.setItem(\n        \"customers\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          data: customers })\n      );\n    }\n  }, [customers]);\n\n  useEffect(() => {\n    if (window.localStorage.getItem(\"products\")) {\n      const products = JSON.parse(window.localStorage.getItem(\"products\"));\n      if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n        // console.log(products.data)\n        setProducts(products.data);\n      }\n    }\n    if (window.localStorage.getItem(\"mode\")) {\n      const cartMode = JSON.parse(window.localStorage.getItem(\"mode\"));\n      if (cartMode.store_uuid === store_uuid ) {\n        setTypeShow(cartMode.typeShow)\n        setMode(cartMode.mode);\n        setShowImage(cartMode.showImage);\n        \n      }\n    }\n    if (window.localStorage.getItem(\"customers\")) {\n      const customers = JSON.parse(window.localStorage.getItem(\"customers\"));\n      if (customers.store_uuid === store_uuid ) {\n        setCustomers(customers.data);\n      }\n    }\n  }, [store_uuid, branch_uuid])\n\n\n  //// ----------II. FUNCTION\n  const otherfee = store_setting?.vat\n\n  let otherFeeMoney =  otherfee?.listCost? otherfee?.listCost?.reduce((sum,fee)=>fee.type!==\"%\"? sum + Number(fee.value):sum , 0) :0;\n\n\n  // 1.Cart\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const [addProduct, setAddProduct] = useState(false);\n\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Tạo hóa đơn thất bại\",\n  });\n\n  console.log(\"promotionpromotion\",cartList[selectedIndex].selectedPromotion)\n  console.log(\"promotionpromotion\",cartList[selectedIndex].bestDetailSelectedPromotion)\n\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n\n\n  const handleSearchCustomer = async (searchKey) => {\n    try {\n      const response = await customerApi.getCustomers(store_uuid, {\n        search_key: searchKey,\n      });\n      setCustomers(response.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateCustomerVouchers = async (customerUuid, vouchers) => {\n    try {\n      const response = await customerApi.updateCustomerVouchers(\n        customerUuid,\n        vouchers\n      );\n      dispatch(\n        statusAction.successfulStatus(\"Cập nhật voucher của khách thành công\")\n      );\n    } catch (err) {\n      console.log(err);\n      dispatch(statusAction.failedStatus(\"Cập nhật vouchers thất bại\"));\n    }\n  };\n\n  const loadProducts = async () => {\n    try {\n      const response = await productApi.searchBranchProduct(\n        store_uuid,\n        branch_uuid,\n        \"\"\n      );\n      setProducts(response.data)\n\n    } catch (err) {\n      console.log(err)\n    }\n    // dispatch(infoActions.setProducts(response.data));\n  };\n\n  useEffect(() => {\n    // console.log(\"reload heer\")\n    loadProducts();\n  }, [reloadProduct, branch_uuid])\n\n  useEffect(() => {\n    const loadCustomers = async () => {\n      try {\n        const response = await customerApi.getCustomers(store_uuid);\n        const customers = response.data.map((cust) => ({\n          ...cust,\n          vouchers: JSON.parse(cust.vouchers ? cust.vouchers : \"[]\"),\n        }));\n        setCustomers(customers);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    const loadPromotionCoupons = async () => {\n      const response = await promotionCouponApi.getActivePromotionVoucher(store_uuid)\n      console.log(\"response.promotions\",response.promotions)\n      setDiscountData(response.promotions);\n    } \n    if (store_uuid) {\n      loadCustomers();\n      loadPromotionCoupons()\n    }\n    if (store_uuid && branch_uuid) {\n      loadProducts();\n    }\n\n    //  loadingActions.finishLoad();\n\n    const intervalID = setInterval(() => {\n      if (store_uuid && branch_uuid) {\n        loadProducts();\n      }\n    }, 60000 * 5);\n\n    return () => {\n      clearInterval(intervalID)\n    }\n  }, [store_uuid, branch_uuid]);\n  const [reloadCustomers, setReloadCustomers] = useState(false);\n  useEffect(() => {\n    const loadingCustomer = async () => {\n      try {\n        const response = await customerApi.getCustomers(store_uuid);\n        setCustomers(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    if (store_uuid) {\n      loadingCustomer();\n    }\n  }, [reloadCustomers]);\n\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleChoose = (index) => {\n    setSelectedIndex(index);\n    handleClose();\n  };\n  const handleAdd = () => {\n    // ADD CART\n    setCartList([\n      ...cartList,\n      {\n        customer: null,\n        cartItem: [],\n        total_amount: \"0\",\n        paid_amount: \"0\",\n        payment_method: \"cash\",\n        discount: \"0\",\n        delivery: false,\n        scores: \"0\",\n        discountDetail:{value:'0', type:'VND' },\n        selectedPromotion:null,\n        bestDetailSelectedPromotion:null,\n        discountPro:0,\n        otherFee:0,\n        listGiftItem:[]\n\n      },\n    ]);\n    setSelectedIndex(cartList.length);\n    handleClose();\n  };\n\n  const handleDeleteAllItem = (index) => {\n    const newCartList = [...cartList];\n    newCartList[index].cartItem = [];\n    setCartList(newCartList)\n    handleClose();\n  }\n\n  const handleDelete = (index) => {\n    // DELETE CART\n    cartList.splice(index, 1);\n    if (cartList.length === 0) {\n      setCartList([\n        {\n          customer: null,\n          cartItem: [],\n          total_amount: \"0\",\n          paid_amount: \"0\",\n          discount: \"0\",\n          payment_method: \"cash\",\n          delivery: false,\n          scores: \"0\",\n          discountDetail:{value:'0', type:'VND' },\n          selectedPromotion:null,\n          bestDetailSelectedPromotion:null,\n          discountPro:0,\n          otherFee:0,\n          listGiftItem:[]\n\n        },\n      ]);\n    } else {\n      setCartList(cartList);\n    }\n    if (selectedIndex === index) {\n      setSelectedIndex(0);\n    } else if (selectedIndex > index) {\n      setSelectedIndex(selectedIndex - 1);\n    }\n    \n    handleClose();\n  };\n  const updateCustomer = (value) => {\n    let newArr = [...cartList]; // copying the old datas array\n    newArr[selectedIndex].customer = value;\n    setCartList(newArr);\n  };\n\n  //2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(null);\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n\n  //mode\n  const [mode, setMode] = React.useState(false);\n  const [showImage, setShowImage] = React.useState(true);\n  const [typeShow, setTypeShow] = useState('list')\n  const handleChangeMode = (event) => {\n    setMode(event.target.checked);\n  };\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"mode\",\n      JSON.stringify({store_uuid: store_uuid,  mode: mode, typeShow: typeShow , showImage:showImage})\n    );\n  }, [mode,typeShow,showImage]);\n\n  // handle search select item add to cart\n  const handleSearchBarSelect = (selectedOption, batchBarCode) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === selectedOption.uuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item.uuid === selectedOption.uuid\n    );\n    if (!item) {\n      let newCartItem = {\n        id: cartList[selectedIndex].cartItem.length,\n        uuid: selectedOption.uuid,\n        quantity: selectedOption.has_batches ? 0 : 1,\n        product_code: selectedOption.product_code,\n        bar_code: selectedOption.bar_code,\n        unit_price: selectedOption.list_price,\n        img_urls: selectedOption.img_urls,\n        name: selectedOption.name,\n        branch_quantity: Number(selectedOption.branch_quantity),\n        has_batches: selectedOption.has_batches,\n        batches: selectedOption.batches,\n        branch_inventories: selectedOption.branch_inventories,\n      };\n\n      let newCartList = update(cartList, {\n        [selectedIndex]: { cartItem: { $push: [newCartItem] } },\n      });\n      setCartList(newCartList);\n      setIsUpdateTotalAmount(!isUpdateTotalAmount);\n      return;\n    }\n\n    if (!item.has_batches) {\n      handleChangeItemQuantity(\n        selectedOption.uuid,\n        cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n      );\n    } else {\n      if (\n        cartList[selectedIndex].cartItem[itemIndex].selectedBatches?.length === 1\n      ) {\n        handleChangeItemQuantity(\n          selectedOption.uuid,\n          cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n        );\n        const newCartList = [...cartList];\n        newCartList[selectedIndex].cartItem[\n          itemIndex\n        ].selectedBatches[0].additional_quantity += 1;\n        setCartList(newCartList);\n\n      }\n      if(batchBarCode){\n        handleChangeItemQuantity(\n          selectedOption.uuid,\n          cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n        );\n        const newCartList = [...cartList];\n        // newCartList[selectedIndex].cartItem[\n        //   itemIndex\n        // ].selectedBatches[0].additional_quantity += 1;\n      }\n    }\n  };\n  console.log(\"cartList[selectedIndex].cartItem\",cartList[selectedIndex].cartItem)\n\n  const handleDeleteItemCart = (itemUuid) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: { cartItem: { $splice: [[itemIndex, 1]] } },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleChangeItemQuantity = (itemUuid, newQuantity) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item.uuid === itemUuid\n    );\n    if(isNaN(newQuantity)){newQuantity = ''}\n    if (newQuantity === 0 && !item.has_batches) {\n      handleDeleteItemCart(itemUuid);\n      return;\n    }\n    if (newQuantity < 0){return } \n  \n    let newCartList = [...cartList];\n    newCartList[selectedIndex].cartItem[itemIndex].quantity = newQuantity;\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleUpdateBatches = (itemUuid, selectedBatches) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n\n    if (itemIndex === -1) return;\n    const newCartList = [...cartList];\n    newCartList[selectedIndex].cartItem[itemIndex].selectedBatches =\n      selectedBatches;\n\n    setCartList(newCartList);\n  };\n\n  const handleChangeItemPrice = (itemUuid, newPrice) => {\n    if (newPrice < 0){return } \n\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: {\n        cartItem: { [itemIndex]: { unit_price: { $set: newPrice } } },\n      },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleSelectCustomer = (selectedCustomer) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { customer: { $set: selectedCustomer } },\n    });\n    setCartList(newCartList);\n  };\n\n  console.log(\"HELLOO cartList[selectedIndex].selectedPromotion\",cartList[selectedIndex].selectedPromotion)\n  const handleUpdatePaidAmount = (amount) => {\n    if (amount < 0){return } \n    let newCartList = update(cartList, {\n      [selectedIndex]: { paid_amount: { $set: amount } },\n    });\n    setCartList(newCartList);\n  };\n  //PROMOTIONFUNC\n  const handleUpdateSelectedPromotion = (selectedPromotion, checkProduct=null) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { selectedPromotion: { $set: null }, bestDetailSelectedPromotion:{ $set: null },discountPro:{ $set: null },listGiftItem:{ $set: [] } },\n    });\n    if(!selectedPromotion){\n      setCartList(newCartList);\n      return\n    }\n    // setCartList(newCartList);\n    let bestDetailSelectedCondition = selectedPromotion?.detailCondition?.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n    bestDetailSelectedCondition =bestDetailSelectedCondition.filter(item => item !== null)[0]\n\n\n     newCartList = update(newCartList, {\n      [selectedIndex]: { selectedPromotion: { $set: selectedPromotion } ,bestDetailSelectedPromotion:{$set:bestDetailSelectedCondition}},\n    });\n    let discountPro = selectedPromotion.discountKey ===\"invoice\" && bestDetailSelectedCondition.type==='%' ? (Number(bestDetailSelectedCondition.discountValue) * Number(cartList[selectedIndex].total_amount)/100) : Number(bestDetailSelectedCondition.discountValue) ;\n \n\n    newCartList = update(newCartList, {\n      [selectedIndex]: {discountPro:{ $set: discountPro}},\n    });\n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n    let totalOtherFee = percentFee * (Number(cartList[selectedIndex].total_amount) - Number(discountPro)- Number(cartList[selectedIndex].discount) )/100 +  otherFeeMoney\n\n \n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        otherFee: { $set: totalOtherFee },\n      },\n    }) \n\n    if(selectedPromotion.discountType === \"sendGift\" ){\n      const listGift = checkProduct ?checkProduct.detail:bestDetailSelectedCondition.listGiftItem\n      let listGiftItem = listGift?.map((selectedOption)=>{\n        if(selectedOption.quantity >0 && !selectedOption.has_batches)\n        return { id: cartList[selectedIndex].cartItem.length,\n          uuid: selectedOption.uuid,\n          quantity: selectedOption.has_batches ? 0 : selectedOption.quantity,\n          product_code: selectedOption.product_code,\n          bar_code: selectedOption.bar_code,\n          unit_price: selectedOption.list_price,\n          img_urls: selectedOption.img_urls,\n          name: selectedOption.name,\n          branch_quantity: Number(selectedOption.branch_quantity),\n          has_batches: selectedOption.has_batches,\n          batches: selectedOption.batches,\n          branch_inventories: selectedOption.branch_inventories,}\n      })\n      console.log(\"hello Gia Le\",listGiftItem)\n      listGiftItem= listGiftItem.filter((item)=> item)\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          listGiftItem: { $set: listGiftItem },\n        },\n      }) \n    }\n    \n    if(defaultPaymentAmount ){\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          paid_amount: { $set: Number(cartList[selectedIndex].total_amount) - Number(discountPro) -     Number(cartList[selectedIndex].discount)+ totalOtherFee },\n        },\n      }) \n    }\n    setCartList(newCartList);\n  };\n  const handleUpdateBestDetailSelectedPromotion = (bestDetailSelectedPromotion) => {\n    if(!bestDetailSelectedPromotion){return}\n    let newCartList = update(cartList, {\n      [selectedIndex]: { bestDetailSelectedPromotion: { $set: bestDetailSelectedPromotion } },\n    });\n    setCartList(newCartList);\n  };\n\n  const handleUpdatePaymentMethod = (method) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { payment_method: { $set: method } },\n    });\n    setCartList(newCartList);\n  };\n  const handleUpdateDiscountDetail = (obj) => {\n\n    let discountUpdate =  obj.type === '%'?( (Number(obj.value) * Number(cartList[selectedIndex].total_amount)/100/100).toFixed() * 100).toString() : obj.value \n\n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n    let totalOtherFee = percentFee * (Number(cartList[selectedIndex].total_amount) - Number(discountUpdate))/100 +  otherFeeMoney\n\n\n    let newCartList = update(cartList, {\n      // [selectedIndex]: { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)).toString() }},\n      [selectedIndex]: defaultPaymentAmount? { discountDetail: { $set: obj } , discount:{ $set: discountUpdate },  otherFee: { $set:totalOtherFee },paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)+ Number(totalOtherFee)).toString() }}:\n        { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, otherFee: { $set:totalOtherFee }} ,\n\n    });\n  \n    setCartList(newCartList);\n  };\n\n  const handleUpdateDiscount = (amount) => {\n    // // if (amount > cartList[selectedIndex].total_amount) {\n    // //   return;\n    // // }\n    // let newCartList = update(cartList, {\n\n    //   [selectedIndex]:defaultPaymentAmount? { discount: { $set: amount },paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) -Number(amount)).toString() }  }:\n    //   // [selectedIndex]:defaultPaymentAmount? { discount: { $set: amount }}:\n\n    //   { discount: { $set: amount } },\n\n    // });\n\n\n    // if( defaultPaymentAmount){\n    //   newCartList = update(newCartList, {\n    //     [selectedIndex]: {\n    //       // paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) - Number(amount) + Number(totalOtherFee)).toString() },\n    //     },\n    //   }) };\n\n    // //\n\n    // if (store_setting?.customerScore.status) {\n    //   newCartList = update(newCartList, {\n    //     [selectedIndex]: {\n    //       scores: {\n    //         $set: parseInt(\n    //           (cartList[selectedIndex].total_amount - amount) /\n    //             store_setting?.customerScore.value\n    //         ),\n    //       },\n    //     },\n    //   });\n    // }\n\n\n    // setCartList(newCartList);\n  };\n\n  const handleCheckDelivery = (delivery) => {\n    let newCartList = update(cartList, {\n      // [selectedIndex]: { delivery: { $set: delivery } },\n    });\n\n    setCartList(newCartList);\n  };\n\n\n\n// PROMOTION\n  useEffect(() => {\n    if(cartList[selectedIndex]?.selectedPromotion && cartList[selectedIndex]?.bestDetailSelectedPromotion){\n      let bestCondition = cartList[selectedIndex]?.selectedPromotion?.detailCondition.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n      bestCondition = bestCondition.filter(item => item !== null)[0]\n      if(bestCondition.totalCost !== cartList[selectedIndex].bestDetailSelectedPromotion.totalCost){\n        let newCartList = update(cartList, {\n          [selectedIndex]: { selectedPromotion: { $set: null }, bestDetailSelectedPromotion:{ $set: null },discountPro:{ $set: null },listGiftItem:{ $set: [] } },\n        });\n        setCartList(newCartList);\n      }\n    }\n  }, [cartList[selectedIndex].total_amount]);\n\n\n  useEffect(() => {\n    if(cartList[selectedIndex].total_amount < cartList[selectedIndex].discount ){\n      let newCartList = update(cartList, {\n        [selectedIndex]: { discount: { $set: \"0\" }, discountDetail: { $set: {value:'0', type:'VND' }}, discountPro:{$set:\"0\"} } ,\n      });\n      setCartList(newCartList);\n    }\n\n  }, [cartList[selectedIndex].total_amount]);\n\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    cartList[selectedIndex].cartItem.forEach((item) => {\n      total += item.unit_price * item.quantity;\n    });\n\n    let newCartList = update(cartList, {\n      [selectedIndex]: { total_amount: { $set: total } },\n    });\n\n    // newCartList = update(newCartList, {\n    //   [selectedIndex]: {\n    //     paid_amount: { $set: total - cartList[selectedIndex].discount },\n    //   },\n    // }) ;\n    // \n\n    //\n    let discountPro = 0\n    if(cartList[selectedIndex]?.selectedPromotion){\n      let bestDetailSelectedCondition = cartList[selectedIndex]?.selectedPromotion?.detailCondition?.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n      bestDetailSelectedCondition =bestDetailSelectedCondition?.filter(item => item !== null)[0]\n      discountPro= cartList[selectedIndex]?.selectedPromotion?.discountKey ===\"invoice\" && bestDetailSelectedCondition?.type==='%' ? (Number(bestDetailSelectedCondition?.discountValue) * Number(total)/100) : Number(bestDetailSelectedCondition?.discountValue) ;\n\n    }\n   \n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n\n    let totalOtherFee = percentFee * (Number(total) - Number(cartList[selectedIndex].discount) - Number(discountPro))/100 +  otherFeeMoney\n\n\n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        otherFee: { $set:totalOtherFee },\n      },\n    });\n\n    if(discountPro!==0){\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          discountPro: { $set: discountPro },\n        },\n      }) \n    }\n\n\n    if( defaultPaymentAmount){\n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        paid_amount: { $set: total - cartList[selectedIndex].discount -discountPro  + totalOtherFee },\n      },\n    }) };\n    // \n    if (store_setting?.customerScore.status) {\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          scores: {\n            $set: parseInt(\n              (total - cartList[selectedIndex].discount -discountPro+ totalOtherFee) /\n                store_setting?.customerScore.value\n            ),\n          },\n        },\n      });\n    }\n\n    // \n    \n    setCartList(newCartList);\n  };\n\n  const[code,setCode] =React.useState(\"\")\n  const [openPopUpWarning, setOpenPopUpWarning] = useState(false);\n  const handleCloseWarning = () =>{\n    setOpenPopUpWarning(false)\n  }\n\n  console.log(\"otherFeeeee\",cartList[selectedIndex]?.otherFee)\n  \n\n  const handleConfirm = async () => {\n    let cart = cartList[selectedIndex];\n\n    var emptyCart = cart.cartItem.length === 0;\n    const printReceiptWhenSell = store_setting?.printReceiptWhenSell;\n    const canSellWhenNegativeQuantity = store_setting?.canSellWhenNegativeQuantity;\n    const alowDebt =  store_setting?.alowDebt;\n    // var correctQuantity = cart.cartItem.every(function (element, index) {\n    //   if (element.quantity > element.branch_quantity) return false;\n    //   else return true;\n    // });\n\n    var correctQuantity = store_setting?.inventory.status && !canSellWhenNegativeQuantity.status\n      ? cart.cartItem.every(function (element, index) {\n          if (element.quantity > element.branch_quantity) return false;\n          else return true;\n        })\n      : true;\n\n    var notExistNullQuantity =  cart.cartItem.every(function (element, index) {\n      if (element.quantity === '' || Number(element.quantity)===0) return false;\n      else return true;\n    })\n    var notExistZeroPrice =  cart.cartItem.every(function (element, index) {\n      if (Number(element.unit_price)  === 0) return false;\n      else return true;\n    })\n\n    if (emptyCart || !correctQuantity || !notExistNullQuantity|| (!alowDebt.status && Number(cart.paid_amount) < Number(cart.total_amount) - Number(cart.discount) )) {\n      setOpenSnack(true);\n      if (emptyCart) {\n        setSnackStatus({\n          style: \"error\",\n          message: \"Giỏ hàng trống\",\n        });\n      } else if ( !correctQuantity ) {\n        setSnackStatus({\n          style: \"error\",\n          message: \"Giỏ hàng bị vượt tồn kho\",\n        });\n      }else if(!notExistNullQuantity){\n        setSnackStatus({\n          style: \"error\",\n          message: \"Có sản phẩm chưa nhập số lượng\",\n        });\n      }else{\n        setSnackStatus({\n          style: \"error\",\n          message: \"Không cho phép khách hàng nợ\",\n        });\n      }\n    } \n\n    else if(!notExistZeroPrice || ( cart.paid_amount < cart.total_amount - cart.discount && !cart.customer)){\n        setOpenPopUpWarning(true)\n        return \n    }\n    else {\n      handleConfirmCallApi()\n\n\n      // let d = moment.now() / 1000;\n\n      // let orderTime = moment\n      //   .unix(d)\n      //   .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n      // let details = cart.cartItem.map((item) => ({ ...item, discount: \"0\" }));\n      // console.log(cart.paid_amount, cart.total_amount, cart.discount);\n      // let body = {\n      //   customer_uuid: cart.customer ? cart.customer.uuid : \"\",\n      //   total_amount: cart.total_amount.toString(),\n      //   payment_method: cart.payment_method,\n      //   paid_amount: Math.min(cart.paid_amount, Number(cart.total_amount) - Number(cart.discount)),\n      //   discount: cart.discount,\n      //   status:\n      //     cart.paid_amount < cart.total_amount - cart.discount\n      //       ? \"debt\"\n      //       : \"closed\",\n      //   details: details,\n      //   creation_date: orderTime,\n      //   paid_date: orderTime,\n      //   tax: \"0\",\n      //   shipping: \"0\",\n      //   delivery: cart.delivery,\n      //   is_customer_order: false,\n      //   points: cart.scores,\n      // };\n\n      // try {\n      //   let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n        \n      //   setSnackStatus({\n      //     style: \"success\",\n      //     message: \"Tạo hóa đơn thành công: \" + res.data.order.order_code,\n      //   });\n      //   setOpenSnack(true);\n      //   if (printReceiptWhenSell.status && printReceiptWhenSell.cart) {\n      //     setCode(res.data.order.order_code)\n      //     handlePrint();\n      //   }\n      //   handleDelete(selectedIndex);\n      // } catch (err) {\n      //   setSnackStatus({\n      //     style: \"error\",\n      //     message: \"Tạo hóa đơn thất bại!\",\n      //   });\n      //   setOpenSnack(true);\n      //   console.log(err);\n      // }\n      // loadProducts()\n    }\n  };\n  const handleConfirmCallApi  = async () => {\n    const printReceiptWhenSell = store_setting?.printReceiptWhenSell;\n    let cart = cartList[selectedIndex];\n\n    let d = moment.now() / 1000;\n\n    let orderTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    let details = cart.cartItem.map((item) => ({ ...item, discount: \"0\" }));\n    console.log(cart.paid_amount, cart.total_amount, cart.discount);\n    let body = {\n      customer_uuid: cart.customer ? cart.customer.uuid : \"\",\n      total_amount: cart.total_amount.toString(),\n      payment_method: cart.payment_method,\n      paid_amount: Math.min(cart.paid_amount, Number(cart.total_amount) - Number(cart.discount)),\n      discount: cart.discount,\n      status:\n        cart.paid_amount < cart.total_amount - cart.discount\n          ? \"debt\"\n          : \"closed\",\n      details: details,\n      creation_date: orderTime,\n      paid_date: orderTime,\n      tax: \"0\",\n      shipping: \"0\",\n      delivery: cart.delivery,\n      is_customer_order: false,\n      points: cart.scores,\n      //\n      otherFee:cart.otherFee\n    };\n\n    try {\n      let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n      \n      setSnackStatus({\n        style: \"success\",\n        message: \"Tạo hóa đơn thành công: \" + res.data.order.order_code,\n      });\n      setOpenSnack(true);\n      if (printReceiptWhenSell.status && printReceiptWhenSell.cart) {\n        setCode(res.data.order.order_code)\n        handlePrint();\n      }\n      handleDeleteAllItem(selectedIndex);\n    } catch (err) {\n      setSnackStatus({\n        style: \"error\",\n        message: \"Tạo hóa đơn thất bại!\",\n      });\n      setOpenSnack(true);\n      console.log(err);\n    }\n    loadProducts()\n  }\n\n\n\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  //   }\n  // };\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\n\n\n  console.log(\"cartList[selectedIndex].listGiftItem\",cartList[selectedIndex].listGiftItem)\n  return (\n    <>\n    <Grid  container   direction=\"row\" justifyContent=\"space-between\"  alignItems=\"center\"  spacing={2}>\n      {addProduct &&\n       <AddInventory\n        open={addProduct}\n        handleClose={() => {\n          setAddProduct(false)\n        }}\n        setReload={() => {\n          setReloadProduct(!reloadProduct)\n        }}\n      />}{\" \"}\n    \n    <SnackBarGeneral handleClose={handleCloseSnackBar} open={openSnack} status={snackStatus}  />\n     \n     \n     {/* 1. TABLE CARD (left) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?7:8}>\n        <Card className={classes.root}>\n          <Box style={{ padding: xsScreen ? 0 : 30,  minHeight: \"79vh\", paddingBottom: 0,}}  >\n            <Box style={{ height: xsScreen ? null : \"69vh\" }}>\n              {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\n              <Grid container direction=\"row\"  justifyContent=\"space-between\" alignItems=\"center\" style={{ marginTop: -10, marginBottom: 30 }}   >\n                <Grid>\n                  <ListItem>\n                    {/* 1.1.1 Title */}\n                    <Typography variant=\"h3\"> Bán hàng </Typography>\n                    <Typography variant=\"h3\"  style={{  marginLeft: 10,  color: theme.customization.primaryColor[500], }} >\n                      {\" \"}   # {selectedIndex + 1}\n                    </Typography>\n                    {/* 1.1.2. Btn Channge Cart */}\n                    <ChangeCartBtn\n                      selectedIndex={selectedIndex}\n                      anchorEl={anchorEl}\n                      cartList={cartList}\n                      handleClick={handleClick}\n                      handleClose={handleClose}\n                      handleChoose={handleChoose}\n                      handleDelete={handleDelete}\n                      handleAdd={handleAdd}\n                      isCart={true}\n                    />\n                  </ListItem>\n                </Grid>\n                <Grid>\n                <Grid container alignItems=\"center\">\n                  {!mode? \n                  <>\n                    <Grid item>\n                      <FormControlLabel   control={ <Switch  size=\"small\"  checked={searchBarState === 'barcode'}  onChange={(e, checked) => { dispatch(infoActions.setSearchBarState(checked ? 'barcode' : 'search'))  }} color=\"primary\"  />  } label={\"Dùng mã vạch\"}  />\n                    </Grid>\n                    <Grid item>\n                      {searchBarState === 'barcode' ? (\n                        <SearchBarCode  products={products} \n                          handleSearchBarSelect={handleSearchBarSelect}\n                        />\n                      ) : (\n                        <SearchProduct\n                          products={products} \n                          handleSearchBarSelect={handleSearchBarSelect}\n                          isCart={true}\n                        />\n                      )}\n                    </Grid>\n                  </>:\n                 <SearchProduct products={products} setProducts={setProducts} isFilter={true} />\n                  }\n                    {info.role === 'owner'?\n                    <Grid item>\n                      <ButtonBase\n                        sx={{ borderRadius: \"1px\" }}\n                        onClick={() => {\n                          setAddProduct(true);\n                        }}\n                        style={{ marginLeft: 10 }}\n                      >\n                        <Avatar\n                          variant=\"rounded\"\n                          className={classes.headerAvatar}\n                        >\n                          <Tooltip title=\"Thêm sản phẩm\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                          </Tooltip>\n                        </Avatar>\n                      </ButtonBase>\n                    </Grid>:null}\n                  </Grid>\n                </Grid>\n              </Grid>\n\n              {/* 1.2 TABLE */}\n              {!mode ? (\n                  <TableWrapper isCart={true} >\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.CartHeadCells}\n                      isCart={true}\n                    />\n                    <TableBody>\n                      { stableSort( cartList[selectedIndex].cartItem, getComparator(order, orderBy) )\n                      .map((row, index) => {\n                        return (\n                          <CartRow\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            index={cartList[selectedIndex].cartItem.length - index}\n                            showImage={showImage}\n                          />\n                        );\n                      })}\n                    </TableBody>\n                  </TableWrapper>   \n \n              ) : (\n                //  Mode nha hang\n                <MenuProduct \n                  products={products} \n                  handleSearchBarSelect={handleSearchBarSelect}\n                  isCart={true}\n                  selectedItem={cartList[selectedIndex]?.cartItem}\n                  typeShow={typeShow}\n                  setTypeShow={setTypeShow}\n                  setProducts={setProducts}\n                  showImage={showImage}\n                  setShowImage={setShowImage}\n                />\n              )}\n            </Box>\n            {/* 1.3 CHANGE MODE  */}\n            \n            {/* <FormControlLabel control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",   margin: -20,  marginTop: 45, }} /> */}\n         {cartList[selectedIndex].listGiftItem?.length > 0?\n          <Box style={{ marginTop: -85, }}>\n            <Divider/>\n            <ListItem>\n              <Typography><b>Khuyến mãi hoá đơn</b></Typography>\n              <CardGiftcardIcon  style={{marginLeft:10, color:'red'}}/>\n              </ListItem>\n              <TableBody>\n                      { stableSort( cartList[selectedIndex].listGiftItem, getComparator(order, orderBy) )\n                      .map((row, index) => {\n                        return (\n                          <CartRow\n                            isPromotion={true}\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            // handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            // index={cartList[selectedIndex].cartItem.length - index}\n                            showImage={showImage}\n                            isGiftPromotion={true}\n                            index={index+1}\n                          />\n             \n                        );\n                      })}\n                      \n                    </TableBody>\n                    \n                    {/* <ListItem>\n                    <Typography style={{fontWeight:500,color:'#00b3ff'}}>Tặng 1 voucher HELLOWORLD</Typography>\n                    <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                </ListItem> */}\n            </Box>:null}\n\n          </Box>\n          <FormControlLabel control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",  }} />\n\n        </Card>\n      </Grid>\n      \n      {/* 2.SUMMARY CARD (right) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?5:4} className={classes.root}>\n        <Card className={classes.root}>\n          <Box style={{ padding: 0, minHeight: \"82vh\" }}>\n            {/* {!mode ? ( */}\n              <CartSummary\n                products={products}\n                setSelectedBranch={setSelectedBranch}\n                selectedBranch={selectedBranch}\n                cartData={cartList[selectedIndex]}\n                handleSelectCustomer={handleSelectCustomer}\n                handleSearchCustomer={handleSearchCustomer}\n                handleUpdateDiscount={handleUpdateDiscount}\n                handleUpdatePaidAmount={handleUpdatePaidAmount}\n                handleUpdatePaymentMethod={handleUpdatePaymentMethod}\n                handleCheckDelivery={handleCheckDelivery}\n                handleConfirm={handleConfirm}\n                currentCustomer={cartList[selectedIndex].customer}\n                currentBranch={branch}\n                mode={mode}\n                customers={customers}\n                reloadCustomers={() => setReloadCustomers(!reloadCustomers)}\n                //discount\n                discountData={discountData.filter(\n                  (discount) => discount.discountKey === \"invoice\"\n                )}\n                isScore={store_setting?.customerScore.status}\n                handleUpdateDiscountDetail={handleUpdateDiscountDetail}\n                handleUpdateSelectedPromotion={handleUpdateSelectedPromotion}\n                handleUpdateBestDetailSelectedPromotion={handleUpdateBestDetailSelectedPromotion}\n              >\n                {!mode ? null:\n                  <TableContainer  style={{ maxHeight: !canEnterDiscountWhenSell && mode ?\"44vh\":\"37vh\", height:!canEnterDiscountWhenSell && mode ?\"44vh\": \"37vh\",}} >\n                   <Table  size=\"small\">\n\n                    <TableBody>\n                      {stableSort( cartList[selectedIndex].cartItem, getComparator(order, orderBy) )\n                        .map((row, index) => {\n                        return (\n                          <CartRow\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            mini={true}\n                            imageType={typeShow==='image' && mode}\n                            index={cartList[selectedIndex].cartItem.length - index}\n                            typeShow={typeShow}\n                            showImage={showImage}\n\n                          />\n                        );\n                      })}\n                    </TableBody>\n                    </Table>\n                  </TableContainer>     \n              }\n              </CartSummary>\n          </Box>\n        </Card>\n      </Grid>\n      <PopUpWarningZeroPrice  open={openPopUpWarning} handleClose={handleCloseWarning} handleConfirmCallApi={handleConfirmCallApi} isDebtWarning={ cartList[selectedIndex].paid_amount < cartList[selectedIndex].total_amount - cartList[selectedIndex].discount && !cartList[selectedIndex].customer} \n      existZeroPrice={!cartList[selectedIndex].cartItem.every(function (element, index) { if (Number(element.unit_price)  === 0) return false; else return true;})} />\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={cartList[selectedIndex]} code={code} type={store_setting?.printReceiptWhenSell.cartModal}/>\n        </div>\n      </div>\n    </Grid>\n              {/* <ReceiptPrinter cart={cartList[selectedIndex]} code={code} /> */}\n</>\n  );\n};\n\nexport default Cart;\n\n\nconst PopUpWarningZeroPrice = ({open,handleClose,handleConfirmCallApi, isDebtWarning,existZeroPrice}) =>{\n  const theme = useTheme();\n\n  return (\n    <ModalWrapperWithClose title={isDebtWarning?\"Hoá đơn nợ chưa có thông tin khách hàng\":\"Có sản phẩm đang có giá bán bằng 0\"} open={open} handleClose={handleClose}>\n      <Typography style={{ marginTop: 10, marginBottom: 10 }}>\n      {isDebtWarning?\"Bạn chưa nhập thông tin khách hàng. Hệ thống không theo dõi công nợ với khách lẻ.\" :\"Giỏ hàng đang có sản phẩm có giá bán bằng 0.\"}\n      </Typography>\n    {existZeroPrice && isDebtWarning?\n    <>\n      <Typography variant=\"h3\" style={{ marginTop: 10, marginBottom: 10 }}>\n        Có sản phẩm đang có giá bán bằng 0\n      </Typography>\n      <Typography style={{ marginTop: 10, marginBottom: 30 }}>\n         Giỏ hàng đang có sản phẩm có giá bán bằng 0\n      </Typography>\n      </>:null}\n\n\n      <Typography style={{ fontWeight: 600, color:theme.customization.primaryColor[500] }}>\n        Bạn có chắc chắn muốn tiếp tục thanh toán?\n      </Typography>\n\n      <Grid item xs={12}style={{  display: \"flex\",  flexDirection: \"row\", justifyContent: \"flex-end\", paddingTop: 20, }} >\n        <Button onClick={handleClose} variant=\"contained\" size=\"small\" style={{ marginRight: 20 }}color=\"secondary\" >\n          {\" \"} Huỷ{\" \"}\n        </Button>\n        <Button onClick={() => {handleConfirmCallApi(); handleClose()}} variant=\"contained\" size=\"small\" color=\"primary\" >\n          Xác nhận{\" \"}\n        </Button>\n      </Grid>\n    </ModalWrapperWithClose>\n  )\n}\n\n\n\n\n // Dien thoai\n//  cartList[selectedIndex].cartItem.map((row, index) => {\n//   return (\n//     <CartMiniTableRow\n//       row={row}\n//       handleDeleteItemCart={handleDeleteItemCart}\n//       handleChangeItemPrice={handleChangeItemPrice}\n//       handleChangeItemQuantity={handleChangeItemQuantity}\n//       discountData={discountData.filter(\n//         (discount) => discount.discountKey === \"product\"\n//       )}\n//       isCart={true}\n//     />\n//   );\n// })\n\n// {xsScreen ? (\n//   <CartBottom\n//     numberItem={\n//       calculateTotalQuantity(cartList[selectedIndex].cartItem)\n//         ? calculateTotalQuantity(cartList[selectedIndex].cartItem)\n//         : \"0\"\n//     }\n//   />\n// ) : null}\n\n/* <TableBody>\n  {cartList[selectedIndex].cartItem.map((row, index) => {\n    return <CartRowMini row={row} />;\n  })}\n</TableBody> */","import React from 'react'\nimport {\n  Drawer, TextField, Typography, Button, Grid, MenuItem, Select, InputLabel, FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useFormik } from 'formik';\nimport orderApi from '../../../../api/orderApi';\nimport { convertDateToString } from '../../../../utils';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n      padding: 15\n    },\n    textField: { marginBottom: 10 },\n    text: { marginBottom: 10, marginTop: 15 }\n  })\n);\nconst InvoiceFilter = (props) => {\n  const { handleToggleFilter, openFilter, setOrders, query, setQuery } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n  const formik = useFormik({\n    initialValues: query,\n    onSubmit: async values => {\n      // console.log(values)\n      // const res = await orderApi.searchOrder(store_uuid, branch_uuid, values)\n      handleToggleFilter()\n      setQuery(values)\n    },\n  });\n  React.useEffect(() =>{\n    formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n    formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n\n  },[])\n\n  return (\n    <Drawer\n      anchor=\"right\"\n      onClose={handleToggleFilter}\n      open={openFilter}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      className={classes.drawer}\n    >\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n      {/* Giao hàng, dia chi giao ???*/}\n      {/* tiền giảm ???*/}\n\n\n      {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\" className={classes.text} >Ngày bán:</Typography>\n      <TextField id=\"startDate\" label=\"Từ\" \n        type=\"date\" \n        name=\"startDate\"\n        // defaultValue={formik.values.startDate} \n        \n        variant=\"outlined\" size=\"small\" fullWidth \n        className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        // value={formik.values.startDate.length === 0 ? current :formik.values.startDate} \n        value={formik.values.startDate}  \n        onChange={formik.handleChange}\n      />\n      <TextField \n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n        // defaultValue={formik.values.endDate} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.endDate}  \n        // value={formik.values.endDate.length === 0 ? current :formik.values.endDate} \n        onChange={formik.handleChange}\n      />\n     \n\n      {/* 2.Tien from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Tiền hoá đơn:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minTotalAmount\"\n        value={formik.values.minTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n        required label=\"Đến\" variant=\"outlined\" \n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.maxTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n      {/* 3.Giảm giá from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Giảm giá:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" \n        name=\"minDiscount\" id=\"minDiscount\"\n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.minDiscount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" \n        id=\"maxDiscount\" name=\"maxDiscount\"\n        className={classes.textField}\n        value={formik.values.maxDiscount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n\n\n      {/* 4.Chi nhanh */}\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Trang thai */}\n      <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"status\"\n          name=\"status\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.status}\n        >\n          <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\n        </Select>\n      </FormControl>\n\n\n\n      {/* 5.Pttt */}\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"paymentMethod\" name=\"paymentMethod\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.paymentMethod}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"card\">Thẻ</MenuItem>\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n        </Select>\n      </FormControl>\n\n      {/* BUTTON */}\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={formik.handleSubmit}\n        style={{ marginTop: 30 }}>\n        Lọc\n      </Button>\n\n\n\n    </Drawer>\n  )\n}\n\nexport default InvoiceFilter\n\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\n\nimport { TableCell, TableRow } from \"@material-ui/core\";\nimport useRowStyles from \"../../../../components/TableCommon/style/rowStyle\";\n\nimport { FormatedStatus } from \"../../../../components/TableCommon/util/format\";\nimport InvoiceDetail from \"./InvoiceDetail/InvoiceDetail\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\n\nfunction InvoiceTableRow(props) {\n  const { row, handleOpenRow, openRow, onReload,hidenCollumn ,colorText} = props;\n  const theme = useTheme();\n\n  const classes = useRowStyles();\n\n  return (\n    <>\n      {/* ROW */}\n      <TableRow\n        onClick={() => handleOpenRow(row.uuid)}\n        key={row.uuid}\n        className={clsx(\n          classes.row,\n          openRow === row.uuid ? classes.rowClicked : null\n        )}\n        style={{color:colorText}}\n      >\n        <TableCell align=\"left\"  style={{color:colorText}}>{row.order_code}</TableCell>\n        <TableCell align=\"left\" className={colorText?null:classes.fontName} style={{color:colorText}}>\n          {/* {new Date(row.creation_date).toLocaleString()} */}\n          {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n        </TableCell>\n        <TableCell\n          align=\"left\"\n          style={{ minWidth: 150 }}\n          style={{color:colorText}}\n          // className={classes.fontName}\n        >\n          {row.customer_name}\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n        {/* <TableCell align=\"right\">\n          {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\n        </TableCell> */}\n        <TableCell align=\"right\" style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n        <TableCell align=\"right\" \n        style={{fontWeight:colorText ?null:500,color:colorText}}\n        // style={{color: theme.customization.mode === \"Light\"? '#000': null}}\n        >\n          {\" \"}\n          <VNDFormat value={Number(row.total_amount) - Number(row.discount)} />\n        </TableCell>\n        {hidenCollumn?.includes(\"debt\") ?null:\n        <TableCell align=\"center\" style={{color:colorText}}>\n          <FormatedStatus debt={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0 ? 1 : 0} />\n        </TableCell> }\n      </TableRow>\n\n      {/* DETAIL */}\n      <TableRow>\n        {/* colspan  => số cột trong collapse */}\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n          <InvoiceDetail parentProps={props} />\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n\nexport default InvoiceTableRow;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {Modal} from 'antd'\nimport moment from \"moment\";\n\n//import api\n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\nimport InvoiceFilter from \"./InvoiceTool/InvoiceFilter\";\nimport InvoiceTableRow from \"./InvoiceTableRow/InvoiceTableRow\";\n//chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\n\nimport JSONdata from \"../../../assets/JsonData/invoice.json\";\nimport orderApi from \"../../../api/orderApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\n\nconst Invoice = () => {\n  // fetch data here\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const dispatch = useDispatch();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [orders, setOrders] = useState([]);\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0);\n  const [totalAmount, setTotalAmount] = useState(0);\n  // api\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n\n  /// search sort\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minDiscount: null,\n    maxDiscount:null,\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    status: '',\n    paymentMethod: '',\n    orderBy: 'orders.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  const [query, setQuery] = useState(initialQuery)\n\n  //// 2. Table\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // header sort\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"id\");\n  const handleDeleteAll = () => {\n    const deleteApi = async () => {\n      console.log(\"delete api called\")\n      try {\n        const res = await orderApi.deleteAll(store_uuid, branch_uuid);\n        dispatch(statusAction.successfulStatus(\"Xóa tất cả hóa đơn thành công\"));\n      } catch (err) {\n        dispatch(statusAction.failedStatus(\"Xóa tất cả hóa đơn thất bại\"));\n      }\n    }\n    Modal.confirm({\n      content: \"Bạn chắc chắn muốn xóa tất cả hóa đơn, hành động này không thể quay lại\",\n      onOk() {\n        deleteApi()\n        onReload()\n      },\n    });\n  }\n\n  //3. ToolBar\n  //3.2. filter\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n  const [reload, setReload] = useState(false);\n  const onReload = () => {\n    console.log(\"onReload called\")\n    setReload(!reload);\n  };\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await orderApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query,\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n        setOrders(response.data);\n        setTotalAmount(response.total_amount);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query, reload]);\n\n  const tableRef = React.createRef();\n\n\n  const getDataExport = async () => {\n    try {\n      const response = await orderApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus(\"Không thể lấy dữ liệu!\"));\n      console.log(error);\n    }\n  }\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Grid direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Hoá đơn\n        </Typography>\n        {/* <Typography variant=\"body2\" style={{paddingLeft: 25}}>\n          <b style={{color:'#000'}}>{\"Số đơn: \"}</b>\n          <ThousandFormat value={totalRows}></ThousandFormat>\n          {\" - \"}\n          <b style={{color:'#000'}}>{\"Tổng: \"}</b>\n          <VNDFormat  value={totalAmount} />\n        </Typography> */}\n       \n        </Grid>\n\n        <Grid className={classes.btngroup1}>\n          <ButtonBase\n            sx={{ borderRadius: \"16px\" }}\n            onClick={() => {\n              dispatch(customizeAction.setSidebarOpen(false));\n              dispatch(customizeAction.setItemMenuOpen(1));\n            }}\n            component={Link}\n            to=\"/home/sales/cart\"\n          >\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Thêm hoá đơn\">\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={orders}\n        handleDeleteAll={handleDeleteAll}\n        tableType={TableType.INVOICE}\n        textSearch={\"#, Khách, Người bán,...  \"} /*handlePrint={handlePrint}*/\n        handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n        getDataExport={getDataExport}\n        orderByOptions={[\n          { value: \"orders.created_at\", label: \"Ngày bán\" },\n          { value: \"total_amount\", label: \"Tổng tiền bán\" },\n        ]}\n        orderBy={query.orderBy}\n        setOrderBy={(value) => setQuery({ ...query, orderBy: value })}\n        sort={query.sort}\n        setSort={(value) => setQuery({ ...query, sort: value })}\n        searchKey={query.searchKey}\n        setSearchKey={(value) => setQuery({ ...query, searchKey: value })}\n        handleRemoveFilter={handleRemoveFilter}\n        columnsToKeep={[\n          { dbName: \"order_code\", displayName: \"Mã hoá đơn\" },\n          { dbName: \"customer_name\", displayName: \"Khách hàng\" },\n          { dbName: \"created_at\", displayName: \"Ngày bán\" },\n          { dbName: \"total_amount\", displayName: \"Tổng tiền hoá đơn\" },\n          { dbName: \"paid_amount\", displayName: \"Tiền khách đã trả\" },\n          { dbName: \"status\", displayName: \"Trạng thái\" },\n          { dbName: \"payment_method\", displayName: \"Phương thức thanh toán\" },\n          { dbName: \"created_user_type\", displayName: \"Tài khoản thực hiện\" },\n          { dbName: \"created_user_name\", displayName: \"Tên người thực hiện\" },\n        ]}\n      />\n      <InvoiceFilter\n        openFilter={openFilter}\n        setQuery={setQuery}\n        query={query}\n        handleToggleFilter={handleToggleFilter}\n        setOrders={setOrders}\n      />\n\n      {/* 3. TABLE */}\n      {!xsScreen ? (\n        <TableWrapper\n          pagingState={{ ...pagingState, total_rows: totalRows }}\n          setPagingState={setPagingState}\n          list={orders}\n          tableRef={tableRef}\n        >\n          <TableHeader\n            classes={classes}\n            order={order}\n            orderBy={orderBy}\n            onRequestSort={handleRequestSort}\n            headerData={HeadCells.InvoiceHeadCells}\n          />\n          <TableBody>\n          <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n            </TableRow>\n            {orders.map((row, index) => {\n              return (\n                <>\n                {/* <TableRow style={{backgroundColor:theme.customization.primaryColor[50]}}> */}\n                <InvoiceTableRow\n                  key={row.uuid}\n                  row={row}\n                  openRow={openRow}\n                  handleOpenRow={handleOpenRow}\n                  onReload={onReload}\n                  // hidenCollumn={[\"\"]}\n                />\n                </>\n              );\n            })}\n          </TableBody>\n        </TableWrapper>\n      ) : (\n        <>\n          <Box style={{ minHeight: \"50vh\" }}>\n            {orders.map((row, index) => {\n              return (\n                // <InvoiceTableRow\n                //   key={row.uuid}\n                //   row={row}\n                //   openRow={openRow}\n                //   handleOpenRow={handleOpenRow}\n                //   onReload={onReload}\n                // />\n                <BillMiniTableRow\n                  key={row.uuid}\n                  row={row}\n                  openRow={openRow}\n                  handleOpenRow={handleOpenRow}\n                  onReload={onReload}\n                  totalCost={row.total_amount}\n                  id={row.order_code}\n                  partnerName={row.customer_name}\n                  date={row.paid_date}\n                  typeBill={\"Hoá đơn\"}\n                />\n              );\n            })}\n          </Box>\n          <Pagination\n            pagingState={{ ...pagingState, total_rows: totalRows }}\n            setPagingState={setPagingState}\n            list={orders}\n          />\n        </>\n      )}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint orders={orders} classes={classes} query={query}  totalRows={totalRows}  totalAmount={totalAmount}/>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default Invoice;\n\nconst ComponentToPrint = ({ orders, classes,query ,totalRows,totalAmount }) => {\n  const firstDate = orders.slice(-1)[0] ?orders.slice(-1)[0].creation_date.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê hoá đơn */}\n          THỐNG KÊ HOÁ ĐƠN\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InvoiceHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {orders.map((row, index) => {\n            return  <InvoiceTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n            </TableRow>\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );\n};\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useSelector } from 'react-redux';\nimport { useFormik } from 'formik';\nimport moment from 'moment'\nimport refundApi from '../../../../api/refundApi';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst InvoiceReturnFilter = (props) => {\n  const {handleToggleFilter,openFilter, setRefunds} =props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n  const formik = useFormik({\n    initialValues: {\n      startDate: '',\n      endDate: '',\n      orderCode: '',\n      minTotalAmount: null,\n      maxTotalAmount: null,\n      status: 'debt',\n      paymentMethod: '',\n    },\n    onSubmit: async values => {\n      // const res = await refundApi.searchRefund(store_uuid, branch_uuid, values)\n      handleToggleFilter()\n      // setRefunds(res.data)\n    },\n  });\n  React.useEffect(() =>{\n    formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n    formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n\n  },[])\n\n  return (\n    <Drawer\n      anchor=\"right\"\n      onClose={handleToggleFilter}\n      open={openFilter}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      className={classes.drawer}\n    >\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n      {/* Giao hàng, dia chi giao ???*/}\n      {/* tiền giảm ???*/}\n\n\n      {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\" className={classes.text} >Mã hoá đơn:</Typography>\n      <TextField \n        id=\"orderCode\" label=\"Mã hoá đơn\" type=\"text\" name=\"orderCode\"\n        defaultValue={formik.values.orderCode} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.orderCode}  \n        onChange={formik.handleChange}\n      />\n\n      <Typography variant=\"h5\" className={classes.text} >Ngày tạo:</Typography>\n      <TextField id=\"startDate\" label=\"Từ\" \n        type=\"date\" \n        name=\"startDate\"\n        defaultValue={formik.values.startDate} \n        variant=\"outlined\" size=\"small\" fullWidth \n        className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.startDate} \n        onChange={formik.handleChange}\n      />\n      <TextField \n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n        defaultValue={formik.values.endDate} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.endDate}  \n        onChange={formik.handleChange}\n      />\n     \n\n      {/* 2.Tien from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Tiền đơn trả:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minTotalAmount\"\n        value={formik.values.minTotalAmount}\n        onChange={formik.handleChange}\n        // value={formik.values.minTotalAmount}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n        required label=\"Đến\" variant=\"outlined\" \n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.maxTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n      \n\n\n\n      {/* 4.Chi nhanh */}\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Trang thai */}\n      {/* <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"status\"\n          name=\"status\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.status}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\n        </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Pttt */}\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"paymentMethod\" name=\"paymentMethod\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.paymentMethod}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"card\">Thẻ</MenuItem>\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n        </Select>\n      </FormControl>\n\n      {/* BUTTON */}\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={formik.handleSubmit}\n        style={{ marginTop: 30 }}>\n        Lọc\n      </Button>\n\n\n\n    </Drawer>\n  )\n}\n\nexport default InvoiceReturnFilter\n\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { TableCell, TableRow } from '@material-ui/core';\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle';\n\nimport InvoiceReturnDetail from './InvoiceReturnDetail/InvoiceReturnDetail';\nimport { VNDFormat } from '../../../../components/TextField/NumberFormatCustom';\n\nfunction InvoiceReturnTableRow(props) {\n  const { row, handleOpenRow, openRow,colorText } = props;\n  const classes = useRowStyles();\n  return (\n    <>\n      {/* ROW */}\n      <TableRow\n        onClick={() => handleOpenRow(row.uuid)}\n        key={row.uuid}\n        className={clsx(classes.row, (openRow === row.uuid) ? classes.rowClicked : null)}\n        style={{color:colorText}}\n      >\n        <TableCell align=\"left\" style={{color:colorText}}>{row.refund_code}</TableCell>\n        {/* <TableCell align=\"left\" className={classes.fontName}>{row.created_at}</TableCell> */}\n        <TableCell align=\"left\" className={colorText?null:classes.fontName} style={{color:colorText}}>{row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n\n        <TableCell align=\"left\" style={{ minWidth: 100,color:colorText }} >{row.customer_name}</TableCell>\n        {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n        {/* <TableCell align=\"right\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell> */}\n        <TableCell align=\"right\" style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n        <TableCell align=\"right\" className={colorText?null:classes.fontName}style={{color:colorText}} ><VNDFormat value={row.total_amount}/></TableCell>\n        {/* <TableCell align=\"right\" ></TableCell>\n        <TableCell align=\"right\" ></TableCell> */}\n        \n      </TableRow>\n\n      {/* DETAIL */}\n      <TableRow>\n        {/* colspan  => số cột trong collapse */}\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n          <InvoiceReturnDetail parentProps={props}/>\n        </TableCell>\n\n      </TableRow>\n    </>\n  );\n}\n\nexport default InvoiceReturnTableRow;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n// import style\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n// import lib\nimport { useReactToPrint } from \"react-to-print\";\n// import api\n\n// import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n/// /import project\n// riêng\nimport InvoiceReturnFilter from \"./InvoiceReturnTool/InvoiceReturnFilter\";\nimport InvoiceReturnTableRow from \"./InvoiceReturnTableRow/InvoiceReturnTableRow\";\n// chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport refundApi from \"../../../api/refundApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\n\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nfunction InvoiceReturn() {\n  // fetch data here\n  const invoiceReturnList = [];\n  const [refunds, setRefunds] = useState([]);\n  // api\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  /// / 2. Table\n\n  // collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // // header sort\n  // const [order, setOrder] = React.useState('asc');\n  // const [orderBy, setOrderBy] = React.useState('id');\n\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minDiscount: null,\n    maxDiscount: null,\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    status: '',\n    paymentMethod: '',\n    orderBy: 'refunds.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  \n\n  const handleRequestSort = (event, property) => {\n    /// / (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  // 3. ToolBar\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  // 3.1. search\n\n  // 3.2. filter\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n\n  // 3.3. loc cot\n\n  const [reload, setReload] = useState(false);\n\n  const [query, setQuery] = useState(initialQuery)\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0)\n  const [totalAmount, setTotalAmount] = useState(0);\n\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await refundApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n        setRefunds(response.data);\n        setTotalAmount(response.total_amount);\n\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, store_uuid, branch_uuid, query]);\n  const getDataExport = async () => {\n    try {\n      const response = await refundApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n  const tableRef = React.createRef();\n\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Đơn trả\n        </Typography>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT */}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={refunds}\n        tableType={TableType.INVOICE_RETURN}\n        textSearch=\"#,#hđ, Khách, Người trả,...  \" /* handlePrint={handlePrint} */\n        handlePrint={handlePrint}\n        handleToggleFilter={handleToggleFilter}\n\n        orderByOptions={[\n          {value: 'refunds.created_at', label: 'Ngày nhập'},\n          {value: 'refunds.total_amount', label: 'Tổng tiền tra'},\n        ]}\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n        handleRemoveFilter={handleRemoveFilter}\n        getDataExport={getDataExport}\n        columnsToKeep = {[\n          {dbName:\"refund_code\",displayName:\"Mã đơn trả\"},\n          {dbName:\"creation_date\",displayName:\"Ngày nhập\"},\n          {dbName:\"customer_name\",displayName:\"Nhà cung cấp\"},\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \n          {dbName:\"paid_amount\",displayName:\"Tổng tiền đã thu\"}, \n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"},\n          {dbName:\"created_user_type\",displayName:\"Tài khoản thực hiện\"},\n          {dbName:\"created_user_name\",displayName:\"Tên người thực hiện\"},\n        ]}\n      />\n      <InvoiceReturnFilter\n        openFilter={openFilter}\n        handleToggleFilter={handleToggleFilter}\n        setRefunds={setRefunds}\n      />\n      {/* 3. TABLE */}\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState} \n        list={refunds}\n        tableRef={tableRef}\n        >\n        <TableHeader\n          classes={classes}\n          // order={order}\n          // orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          headerData={HeadCells.InvoiceReturnHeadCells}\n        />\n        <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/><TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n        <TableBody>\n          {refunds.map((row, index) => (\n            <InvoiceReturnTableRow\n              key={row.uuid}\n              row={row}\n              openRow={openRow}\n              handleOpenRow={handleOpenRow}\n            />\n          ))}\n        </TableBody>\n      </TableWrapper>:\n          <>\n           <Box style={{minHeight:'50vh'}}>\n          {refunds.map((row, index) => (\n            // <InvoiceReturnTableRow\n            //   key={row.uuid}\n            //   row={row}\n            //   openRow={openRow}\n            //   handleOpenRow={handleOpenRow}\n            // />\n            <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \n          totalCost={row.total_amount}  id={row.refund_code} partnerName={row.customer_name} date={row.created_at} \n          typeBill={\"Đơn trả\"}/>\n\n          ))}\n          </Box>\n          <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}         list={refunds}/>\n    \n          </>\n          }\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint refunds={refunds} classes={classes} query={query} totalRows={totalRows}  totalAmount={totalAmount}/>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nexport default InvoiceReturn;\n\nconst ComponentToPrint = ({ refunds, classes , query,totalRows,totalAmount}) => {\n\n  const firstDate = refunds.slice(-1)[0] ?refunds.slice(-1)[0].created_at.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê đơn trả */}\n          THỐNG KÊ ĐƠN TRẢ\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InvoiceReturnHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {refunds.map((row, index) => {\n            return  <InvoiceReturnTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/><TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );\n};\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Cart from \"./Cart/Cart\";\nimport Invoice from \"./Invoice/Invoice\";\nimport InvoiceReturn from \"./InvoiceReturn/InvoiceReturn\";\nimport OrderProductList from \"../InventoryView/OrderProductList/OrderProductList\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst SalesView = (props) => {\n  const { path } = useRouteMatch();\n  const permissions = useSelector((state) => state.info.user.permissions);\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <Redirect\n          to={\n            permissions?.find((p) => p.name === \"sales\")\n              ? `${path}/cart`\n              : \"/home\"\n          }\n        />\n      </Route>\n      <Route exact path={`${path}/cart`} component={Cart} />\n      <Route path={`${path}/invoice`} component={Invoice} />\n      <Route path={`${path}/invoice-return`} component={InvoiceReturn} />\n      {/* <Route path={`${path}/order-list/order`} component={OrderProduct} /> */}\n      <Route path={`${path}/order-list`} component={OrderProductList} />\n    </Switch>\n  );\n};\n\nexport default SalesView;\n","import {withStyles} from \"@material-ui/core/styles\";\nimport {Menu,MenuItem,} from '@material-ui/core';\n\nexport const StyledMenu = withStyles({\n    paper: {\n      border: '1px solid #d3d4d5',\n    },\n  })((props) => (\n    <Menu\n      \n      elevation={0}\n      getContentAnchorEl={null}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      {...props}\n    />\n  ));\n  \nexport  const StyledMenuItem = withStyles((theme) => ({\n    root: {\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n          color: theme.palette.common.white,\n        },\n      },\n    },\n  }))(MenuItem);","import { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default  makeStyles((theme) =>({\n    root: {\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      borderRadius:theme.customization.borderRadius,\n      color: '#000000',\n      boxShadow: \"none\",\n    },\n  \n    headerTitle:{\n      padding: '24px',\n      marginTop:-5,\n      marginBottom:-10,\n      fontSize: '1.125rem'\n    },\n\n    table:{\n      width:\"100%\",\n    },\n    button: {\n      margin: theme.spacing(1),\n      paddingRight:-10\n    },\n\n    headerAvatar: {\n      ...theme.typography.commonAvatar,\n      ...theme.typography.mediumAvatar,\n      transition: 'all .05s ease-in-out',\n      background:theme.palette.primary.main ,\n      '&:hover': {\n        background: theme.customization.primaryColor[400],\n      },\n\n    },\n    btngroup:{\n      marginRight:20,\n      marginTop:10\n    },\n    btngroup1:{\n      marginRight:20,\n      marginTop:10\n    },\n\n    visuallyHidden: {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: 1,\n      margin: -1,\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      top: 20,\n      width: 1,\n    },\n    icon: {\n      color:theme.customization.mode === 'Light' ?grey[700] :grey[50]\n  },\n    padding:{\n      marginLeft:24,\n      marginRight:24\n\n    },\n    tab: {\n      minWidth: 60,\n      width: 60, \n\n      color:theme.customization.primaryColor[200],\n      // fontSize:20,\n      // fontWeight:500\n  },\n  indicator:{\n    backgroundColor:theme.customization.primaryColor[200],\n  },\n  boldText:{\n    fontWeight:700,\n    \n  },\n  hoverCard:{\n    // backgroundColor:'#fff',\n    boxShadow:'0px 10px 20px rgba(0,0,0,0.1)',\n    \"&:hover\": {\n      // backgroundColor: theme.customization.primaryColor[50],\n      boxShadow:'0px 10px 10px rgba(0,0,0,0.2)',\n    }\n},\ncardRoot: {\n  width: 200,\n},\nmedia: {\n  height: 140,\n},\nappBar: {\n  position: 'relative',\n  backgroundColor:theme.customization.primaryColor[500],\n  height:60\n},\ntitle: {\n  marginLeft: theme.spacing(2),\n  flex: 1,\n},\n\n}));\n\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\n\n// import library\nimport {TableHead,TableRow,TableCell,TableSortLabel} from '@material-ui/core';\nimport { grey} from '@material-ui/core/colors'\n\n\n\nconst StyledTableCell = withStyles((theme) => ({\n    head: {\n      backgroundColor: theme.customization.mode === \"Light\"? null: grey[800],\n      // color: theme.customization.mode === \"Light\"? null: grey[500],\n      color: theme.customization.mode === \"Light\"? null: grey[500],\n\n    },\n    \n}))(TableCell);\n\n  \nfunction TableHeader(props) {\n    const theme = useTheme();\n    const { classes, order, orderBy, onRequestSort,headerData,isCart,isCustomer,color } = props;\n    const createSortHandler = (property) => (event) => {\n      // onRequestSort(event, property);\n    };\n    \n    return (\n      <TableHead className={classes.headColor} >\n        <TableRow >\n            {headerData.map((headCell) => (\n            // <StyledTableCell\n            //     key={headCell.id}\n            //     align={headCell.align}\n            //     // sortDirection={orderBy === headCell.id ? order : false}\n            // >\n            //     <TableSortLabel\n            //     active={orderBy === headCell.id}\n            //     // direction={orderBy === headCell.id ? order : 'asc'}\n            //     onClick={createSortHandler(headCell.id)}\n            //     style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n            //     >\n            //     {headCell.label}\n            //     {/* {orderBy === headCell.id  ? (\n            //         <span className={classes.visuallyHidden}>\n            //         {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n            //         </span>\n            //     ) : null} */}\n            //     </TableSortLabel>\n            // </StyledTableCell>\n\n            <StyledTableCell\n              key={headCell.id}\n              align={headCell.align}\n              // sortDirection={orderBy === headCell.id ? order : false}\n              // style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n              style={{color:isCustomer?\"#000\": theme.customization.mode === \"Light\"? color?color:null: grey[500], fontSize:isCustomer?16:null}}\n\n             >\n                  {headCell.label}\n            </StyledTableCell>\n              \n            ))}\n             {isCart?  <StyledTableCell/>: null}\n            \n        </TableRow>\n      </TableHead>\n        );\n    }\n\n\nexport default TableHeader","export default __webpack_public_path__ + \"static/media/no-results-1.27ba7507.png\";","import React from 'react'\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\nimport {Table,TableContainer,FormControlLabel,Switch,Paper, TablePagination,Grid,Box,Typography,Divider} from '@material-ui/core';\nimport empltyImage from \"../../../assets/img/icon/empty-cart.png\"\nimport empltyImage2 from \"../../../assets/img/icon/no-results-1.png\"\nimport { Empty } from 'antd';\n\n\nimport { Pagination } from 'antd';\n\nconst TableWrapper = (props) => {\n    const {isCart, isReport, pagingState, setPagingState,list,tableRef} = props;\n\n    // console.log(\"pagingState\",pagingState)\n    const theme = useTheme();\n    // const classes = useStyles(theme);\n    // table\n    // const [dense, setDense] = React.useState(isReport?true:false);\n    const [dense, setDense] = React.useState(isCart ?false:true);\n\n\n    const handleChangeDense = (event) => {\n      setDense(event.target.checked);\n    };\n    React.useEffect(()=>{\n        tableRef?.current && tableRef?.current?.scrollIntoView();\n    },[list])\n\n    return (\n    <>\n        <StyledPaper style={{width: '100%', marginBottom: theme.spacing(2)}}>\n            {/* Chinh size tablw */}\n\n            {/* <TableContainer style={{maxHeight: '90vh',}}> */}\n            {/* <TableContainer style={{maxHeight: '84vh', minHeight:'60vh'}}> */}\n            <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}>\n\n                <Table\n                    ref={tableRef}\n                    aria-labelledby=\"tableTitle\"\n                    size={dense ? 'small' : 'medium'}\n                    // size={dense ? 'small' : 'small'}\n\n                    aria-label=\"enhanced table\"\n                    stickyHeader \n                >\n                    {props.children}\n\n                </Table>\n                \n            </TableContainer>\n            \n        </StyledPaper>\n\n            {/* Add page navigation here...  */}\n            {isCart || isReport? null :\n               \n                <Grid container justifyContent='flex-end' >     \n                        <FormControlLabel\n                            control={<Switch checked={dense} onChange={handleChangeDense} />}\n                            label=\"Thu nhỏ\"\n                            style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n                        />\n                        <Pagination\n                        style={{marginRight:40}}\n                            showSizeChanger\n                            total={pagingState?.total_rows}\n                            current={pagingState?.page +1}\n                            onChange={(newCurrent, newPageSize) => {\n                                const pageSizeChange = pagingState?.limit !== newPageSize;\n                                if (!pageSizeChange) {\n                                    setPagingState({ ...pagingState, page: newCurrent -1 })\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n                                } else {\n                                    setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n\n                                }\n                              }}\n                            />\n                        \n                </Grid>\n                \n            \n            }\n    </>\n    )\n}\n\nconst StyledPaper = withStyles((theme) => ({\n    root: {\n      boxShadow:\"none\",\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      color: theme.customization.mode === \"Light\"? null: grey[700]\n    },\n  }))(Paper);\n\nexport default TableWrapper\n\n\n\n// const Empty = ()  =>{\n//     return(\n//         <Box style={{height:'65vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n//             <Box>\n//                 <Box component=\"img\" sx={{ height: 150,  width: 150, marginBottom: 15, borderRadius: 2, color:'#b6b6b6' }} src={empltyImage2} />\n//                 <Typography variant=\"h3\">Giỏ hàng trống</Typography>\n//             </Box>\n//         </Box>\n\n\n//     )\n// }\n\n    // if(list){\n    //     // return <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n    //     return (\n    //         <>\n    //         {/* <Divider /> */}\n    //     <Box style={{height:'67vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n    //     <Empty \n    //     // image=\"https://minimal-assets-api.vercel.app/assets/illustrations/illustration_empty_cart.svg\" \n    //     image={empltyImage2}\n    //     imageStyle={{ height: 150, }} \n    //         description={ <div style={{marginTop:20, marginLeft:-20}}>\n    //             <Typography variant='h3' >Giỏ hàng trống</Typography>\n    //             <Typography style={{color:'gray', marginTop:15}}>Chưa có sản phẩm nào trong giỏ hàng</Typography>\n    //         </div>}/>\n    //     </Box> </>)\n    // }\n\n    \n\n\n\n\n\n\n\n\n// PAGING NAVAGATION CŨ\n\n // <div style={{display: 'flex', flexDirection: 'row-reverse', gap: 10,marginTop:-20, marginRight:20, marginBottom:-10 }}>\n    //     <TablePagination\n    //         rowsPerPageOptions={[10, 25, 100]}\n    //         labelRowsPerPage={\"Số dòng\"}\n    //         component=\"div\"\n    //         count={pagingState?.total_rows}\n    //         rowsPerPage={pagingState?.limit}\n    //         page={pagingState?.page}\n    //         onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n    //         onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n\n\n    //     />\n        \n    //     <FormControlLabel\n    //         control={<Switch checked={dense} onChange={handleChangeDense} />}\n    //         label=\"Thu nhỏ\"\n    //         style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n    //     />\n    // </div>","function descendingComparator(a, b, orderBy) {\n   if ( orderBy !== null){\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    \n    } else{\n        if (b.id< a.id) {\n            return -1;\n        }\n        if (b.id > a.id) {\n            return 1;\n        }\n        return 0;\n    }\n    return 0;\n}\n// function descendingComparator(a, b, orderBy) {\n//     if (b.id< a.id) {\n//         return -1;\n//     }\n//     if (b.id > a.id) {\n//         return 1;\n//     }\n//     return 0;\n// }\nexport function getComparator(order, orderBy) {\n    return order === 'desc'\n      ? (a, b) => descendingComparator(a, b, orderBy)\n      : (a, b) => -descendingComparator(a, b, orderBy);\n  }\n  \nexport  function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}\n\n\nexport function calculateTotalQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=Number(item.quantity) )\n    return value\n  }\n  export function calculateTotalReturnQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=item.returnQuantity )\n    return value\n  }\n\n  ","import React from \"react\";\nimport {\n  Modal,\n  Box,\n  Paper,\n  Grid,\n  ListItem,\n  Typography,\n  IconButton,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { Button} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    padding: 20,\n    minWidth: \"100%\",\n  },\n  modal: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    display: \"flex\",\n  },\n}));\n\nexport default function ModalWrapperWithClose(props) {\n  const {title,open,handleClose,handleSubmit,name,size} = props\n  const classes = useStyles();\n  return ( \n    <React.Fragment>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        className={classes.modal}\n  \n\n      >\n        <React.Fragment>\n          <Paper>\n            <Box className={classes.container}>\n                <Box>   \n                  <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                      <Typography variant={size?size:\"h3\"} >{title}</Typography>\n                      <IconButton aria-label=\"close\" onClick={handleClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                      </IconButton>\n                </Grid>\n                </Box> \n              {props.children}\n      \n            </Box>\n          </Paper>\n            \n        </React.Fragment>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import axiosClient from \"./axiosClient\";\n\nconst customerApi = {\n  createCustomer: (storeUuid, body) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.post(url, body);\n  },\n  getCustomers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.delete(url);\n  },\n  updateCustomer: (storeUuid, customerUuid,body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.put(url,body);\n  },\n  payDebt: (storeUuid, customerUuid, body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n  importCustomerJson : (storeUuid, json) => {\n    const url = `stores/${storeUuid}/customers/addCustomersByJson`;\n    return axiosClient.post(url, {\n      \"json_data\": json\n    });\n  },\n  updateCustomerVouchers: (storeUuid, customerUuid,vouchers) => {\n    const url = `stores/${storeUuid}/customer/${customerUuid}`;\n    return axiosClient.post(url, {\n      \"vouchers\": JSON.stringify(vouchers)\n    });\n  },\n  getCustomerDebts: (storeUuid, query) => {\n    const url = `stores/${storeUuid}/customerDebts`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomerGroups: (storeUuid) => {\n    const url = `stores/${storeUuid}/customerGroups`;\n    return axiosClient.get(url);\n  },\n  updateCustomerGroup: (storeUuid, id, body) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.put(url, body);\n  },\n  createCustomerGroup: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/customerGroups/`;\n    return axiosClient.post(url, body);\n  },\n  deleteCustomerGroup: (storeUuid, id) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.delete(url);\n  },\n};\nexport default customerApi;\n","import React from 'react'\nimport {Box,TextField,Avatar,Slide,Divider,ListItemSecondaryAction,Dialog,AppBar,Toolbar,Button,ListItem,IconButton,TableRow,TableCell,Typography, Grid} from '@material-ui/core'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport useStyles from \"../TableCommon/style/mainViewStyle\";\nimport icon from '../../assets/img/product/tch.jpeg';\nimport * as Input from '../TextField/NumberFormatCustom'\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\nimport InvoiceReturnDetail from \"../../views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail\";\nimport InvoiceDetail from \"../../views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail\";\nimport InventoryOrderDetail from \"../../views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail\";\nimport InventoryReturnDetail from \"../../views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail\";\nimport OrderProductListDetail from \"../../views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail\";\nimport CheckHistoryDetail from \"../../views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail\"\nimport CustomerDetail from \"../../views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail\"\nimport SupplierDetail from \"../../views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail\"\nimport EmployeeDetail from \"../../views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail\"\nimport DiscountDetail from '../../views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail';\nimport VoucherDetail from '../../views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {ThousandFormat} from \"../TextField/NumberFormatCustom\"\nimport ava from '../../assets/img/product/lyimg.jpeg';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport InventoryDetail from '../../views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail';\nimport DiscountPopUp from \"../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\nimport ButtonQuantity from \"../../components/Button/ButtonQuantity\";\n\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\n\nexport const CartMiniTableRow = (props) =>{\n    const classes = useStyles(); \n    const haveDiscount = true;\n\n    const {row,discountData, handleDeleteItemCart,isManageInventory, handleChangeItemQuantity, isCart,handleChangeItemPrice} = props\n    const updateQuantity = (newQuantity) => {\n        handleChangeItemQuantity(row.uuid, newQuantity)\n      }\n\n    const [openDiscount, setOpenDiscount] = React.useState(false);\n    const handleOpenDiscount = () =>{\n      setOpenDiscount(!openDiscount)\n    }\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n    const canFixPriceSell= store_setting?.canFixPriceSell\n    const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.cart) :(canFixPriceSell.status && canFixPriceSell.import) \n    return (\n        <>\n         <ListItem  style={{ padding:10}}>   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n                        <div>\n                            <ListItem style={{margin:0,padding:0}} >    \n                                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                                {haveDiscount ? \n                                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                                :null}\n                                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n                            </ListItem  > \n                            <ListItem style={{margin:0,padding:0}} >    \n                            {activeFixPrice?\n                            <Input.ThousandSeperatedInput \n                                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                                inputProps={{style: { textAlign: \"right\" }}} \n                                defaultPrice={row.unit_price} \n                                value={row.unit_price} \n\n                                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>:\n                                <Input.ThousandFormat  value={row.unit_price} > </Input.ThousandFormat>}\n\n                                <Typography style={{marginLeft:10}}>x</Typography>\n                            </ListItem  > \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\nexport const BillMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {totalCost, id,partnerName ,date, typeBill } = props;\n    const{promotion_condition,dateAdvanceSetting, type} = props;\n    const classes = useStyles(); \n    const theme = useTheme();\n\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n        <div style={{margin:10}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(typeBill === \"Khuyến mãi\"?row.id:row.uuid)}}  >\n            <Grid item>\n                <Typography style={{ fontWeight:500,marginTop:-5,fontSize:15, marginBottom:3}}>{id}</Typography>\n                <Typography style={{ fontSize:14}}>{partnerName}</Typography>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n                \n          {typeBill ===\"Voucher\"?<Typography style={{ fontSize:11, marginTop:-15, marginBottom:7}}> Ngày hết hạn:</Typography>:null}\n\n           <Typography style={{color:\"#6b6b6b\", fontSize:10, marginTop:-8, marginBottom:5,textAlign: 'right'}}>{date?.substring(0, 16)}</Typography>\n            \n            {typeBill === \"Khuyến mãi\"  ?<Typography style={{marginTop:10}} >{totalCost}  </Typography>:null}\n            {typeBill === \"Đơn đặt hàng\"  || typeBill === \"Voucher\"?<Typography style={{fontWeight:500, fontSize:17, color:\"orange\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill === \"Đơn kiểm kho\"?<Typography style={{fontWeight:500, fontSize:17, color:totalCost >=0?\"green\":\"red\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill !== \"Đơn đặt hàng\" &&typeBill !== \"Đơn kiểm kho\" &&typeBill !== \"Voucher\" && typeBill !== \"Khuyến mãi\"? <Typography style={{fontWeight:500, fontSize:17, color:typeBill  === \"Hoá đơn\" || typeBill === \"Đơn nhập hàng\"?theme.customization.primaryColor[500]:theme.customization.secondaryColor[500],textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            \n            \n            </Grid>\n        </Grid> \n        <Divider style={{marginTop:2}} />\n\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typeBill} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typeBill === \"Hoá đơn\"? <InvoiceDetail parentProps={props}  isMini={true} />:null}\n            {typeBill === \"Đơn trả\"? <InvoiceReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn nhập hàng\"? <InventoryOrderDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn trả hàng nhập\"? <InventoryReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn đặt hàng nhập\"? <OrderProductListDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn kiểm kho\"? <CheckHistoryDetail parentProps={props}  isMini={true}/>:null}\n            {/* {typeBill === \"Khuyến mãi\"? <DiscountDetail parentProps={props}  isMini={true} promotion_condition={promotion_condition} type={type}/>:null} */}\n            {typeBill === \"Voucher\"? <VoucherDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Khuyến mãi\"?  <DiscountDetail isMini={true}parentProps={props} promotion_condition={promotion_condition}dateAdvanceSetting={dateAdvanceSetting} type={type} />       :null}\n\n        </Dialog>\n        </div>\n    )\n}\n\nexport const PartnerMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {img, id,name ,phone, score,typePartner } = props\n    const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n\n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                    {typePartner !== \"Nhà cung cấp\"?<Avatar alt=\"Remy Sharp\" src={img} style={{marginRight:20,}} className={classes.ava} />:null}\n                    <div>\n                        <Typography style={{marginBottom:2, marginTop:-5,marginBottom:3}}>{name}</Typography>\n                        <ListItem  style={{margin:0, padding:0}}>\n                            <PhoneIcon style={{width:10, height:10, marginRight:2, color:\"#8f8f8f\"}}/>\n                            <Typography style={{color:'#36afff', fontSize:12}}>{phone}</Typography>\n                        </ListItem>  \n                    </div>\n                </ListItem>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n            <Typography style={{marginTop:-5,fontSize:12,color:\"#474747\"}}>{id}</Typography>\n            {typePartner === \"Khách hàng\"?<Typography style={{fontWeight:500, fontSize:14,marginTop:8, color:\"green\",textAlign: 'right'}}>{score}</Typography> :null}\n\n            </Grid>\n        </Grid> \n\n        <Divider style={{marginTop:2}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typePartner === \"Khách hàng\"? <CustomerDetail parentProps={props}  isMini={true} />:null}\n            {typePartner === \"Nhân viên\"? <EmployeeDetail parentProps={props}  isMini={true}/>:null}\n            {typePartner === \"Nhà cung cấp\"? <SupplierDetail parentProps={props}  isMini={true}/>:null}\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const ReturnCartMiniTableRow = ({ detail, handleProductPriceChange,isCart, handleItemQuantityChange }) =>{\nconst classes = useStyles();\n  const theme = useTheme();\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n    \n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.returnCart) :(canFixPriceSell.status && canFixPriceSell.returnImport) \n\n    return (\n        <>\n        <Typography style={{fontSize:16}} >{detail.product_code} - {detail.name} </Typography>\n        <ListItem style={{margin:0,padding:0}} >  \n            <Typography style={{color:\"#6b6b6b\", marginRight:10}} >Giá bán: </Typography>\n            <Input.VNDFormat style={{ width: 70 ,color:\"#6b6b6b\"}} value={detail.unit_price}/>  \n        </ListItem  > \n        <Typography style={{ marginBottom:-10, marginTop:10, color:\"red\"}} >Giá trả: </Typography>\n\n        <ListItem style={{margin:0,padding:0}} >  \n           {activeFixPrice? <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={detail.returnPrice} \n                value={detail.returnPrice}\n                onChange={e => handleChangePrice(e.target.value)}/>\n           : <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>\n            }\n                <ButtonQuantity quantity={detail.returnQuantity} limit={detail.quantity - detail.returned_quantity} setQuantity={handleChangeQuantity}  show={show} setShow={setShow} isReturn={true} isMini={true}/> \n        </ListItem  > \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\nexport const ProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n    const haveDiscount = true;\n\n    const {row, handleOpenRow, openRow } = props\n    const {img, id,name ,list_price,standard_price,typePartner ,branch_quantity,min_reorder_quantity,isManageInventory} = props\n    // const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item xs={9}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={JSON.parse(row.img_urls)?.at(0) || defaultProduct}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{name}</Typography>\n                    <Typography style={{}}>Vốn: <ThousandFormat value={standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={3} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n               {isManageInventory?  <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(branch_quantity,min_reorder_quantity)}}>Tồn: <ThousandFormat value={branch_quantity}/></Typography>\n               : <Typography></Typography>}\n                <Typography style={{textAlign: 'right', }}>Bán: <ThousandFormat value={list_price}/></Typography>\n            </Grid>\n        </Grid> \n\n\n        <Divider style={{marginTop:3}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n            <InventoryDetail parentProps={props}  openRow={openRow} isMini={true} />\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const CheckMiniTableRow = ({ detail, handleItemRealQuantityChange, handleDeleteItem }) =>{\n    const classes = useStyles();\n    const [show, setShow] = React.useState(\"none\");\n    useEffect(() => { }, [detail]);\n  \n    const onChangeRealQuantity = (newQuantity) => {\n      handleItemRealQuantityChange(detail.id, newQuantity);\n    };\n \n    return (\n        <>\n        <ListItem  >   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={detail.img_url} />\n                        <div>\n                            <Typography style={{fontSize:15, marginBottom:10}} >detail.name</Typography>\n                           \n                            <Typography style={{marginLeft:10}}>detail.branch_quantity</Typography> \n                            {/* <ThousandFormat  value={detail.branch_quantity} /> */}\n                        \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                         <ButtonQuantity quantity={100} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/> \n                        {/* <ButtonQuantity quantity={detail.real_quantity} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/>  */}\n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n\n                {/* <ThousandFormat  value={Number(detail.real_quantity) - Number(detail.branch_quantity)} /> */}\n                {/* <VNDFormat value={(Number(detail.real_quantity) - Number(detail.branch_quantity)) *\n          detail.standard_price} /> */}\n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\n\n\nexport const VarianceProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n   \n\n    const {variance,onClick} = props\n\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          \n          >\n            <Grid item xs={8}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={variance.img_url}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{variance.name}</Typography>\n                    <Typography style={{}}>Giá vốn: <ThousandFormat value={variance.standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={4} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n                <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(variance.branch_quantity,variance.min_reorder_quantity)}}>Tồn: <ThousandFormat value={variance.branch_quantity}/></Typography>\n                <Typography style={{textAlign: 'right', }}>Giá bán: <ThousandFormat value={variance.list_price}/></Typography>\n            </Grid>\n        </Grid> \n        <Box style={{display:'flex',justifyContent:'right'}}>\n        <Button style={{marginTop:10, }} size=\"small\" color=\"primary\" variant=\"outlined\"\n        onClick={onClick}>Chi tiết</Button>\n        </Box>\n\n        <Divider style={{marginTop:3}} />\n       \n        </div>\n    )\n}\n{/* <ListItem  style={{ padding:10}}>   \n<ListItem  style={{margin:0, padding:0}}>    \n        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n        <div>\n            <ListItem style={{margin:0,padding:0}} >    \n                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                {haveDiscount ? \n                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                :null}\n                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n            </ListItem  > \n            <ListItem style={{margin:0,padding:0}} >    \n            <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={row.unit_price} \n                value={row.unit_price} \n\n                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>\n                <Typography style={{marginLeft:10}}>x</Typography>\n            </ListItem  > \n        </div>\n    </ListItem  >  \n    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n    </ListItemSecondaryAction>\n\n</ListItem  >  \n<Divider style={{marginTop:7}}/> */}","// -----------HEADER TABLE\n\n//  ID phải trùng tên ATTRIBUTE THÌ MỚI SORT ĐC\n\nexport const InventoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"center\", disablePadding: false, label: \"Sản phẩm\" },\n  // { id: \"bar_code\", align: \"center\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"category\", align: \"left\", disablePadding: false, label: \"Danh mục\" },\n  { id: \"price\", align: \"right\", disablePadding: false, label: \"Giá bán\" },\n  {\n    id: \"import_price\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Giá vốn\",\n  },\n  {\n    id: \"quantity\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Tình trạng\",\n  },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Tồn kho\" },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Điểm đặt hàng lại\" },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Số lượng đặt hàng lại\" },\n];\nexport const InventoryOrderHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày nhập\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  { id: \"debt\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InventoryReturnOrderHeadCells = [\n  // them cột tình trạng\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n\n  // { id: \"import_id\", align: \"left\", disablePadding: false, label: \"#Đơn nhập\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\n\nexport const SupplierHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên NCC\" },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  // { id: \"email\", align: \"left\", disablePadding: false, label: \"Email\" },\n  // { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  {\n    id: \"total_cost\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  {\n    id: \"debt\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Nợ NCC\",\n  },\n  { id: \"debtStatus\", align: \"center\", disablePadding: false, label: \"\" },\n];\n\nexport const InvoiceHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày bán\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng tiền\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InvoiceReturnHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n  // { id: \"invoid_id\", align: \"left\", disablePadding: false, label: \"#Hoá đơn\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const EmployeeHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"email\", align: \"left\", disablePadding: true, label: \"Email\" },\n  // { id: \"role\", align: \"left\", disablePadding: true, label: \"Chức năng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: true, label: \"Chi nhánh\" },\n  { id: \"function\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\n\nexport const CustomerHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  // { id: 'img', align: false, disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Khách hàng\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"score\", align: \"right\", disablePadding: true, label: \"Tích điểm\" },\n  { id: \"total\", align: \"right\", disablePadding: true, label: \"Tổng tiền mua\" },\n  { id: \"debt\", align: \"right\", disablePadding: true, label: \"Tổng nợ\" },\n  { id: \"debtStatus\", align: \"center\", disablePadding: true, label: \"\" },\n];\n\nexport const CartHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  // { id: \"price\", align: \"right\", disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Đơn giá\" },\n\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const ImportHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Giá nhập\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const CartReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá bán\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const ImportReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá nhập\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const OrderHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Khoảng giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const CheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"quantity\", align: \"right\", disablePadding: true, label: \"Tồn kho\" },\n  {\n    id: \"real-quantity\",\n    align: \"center\",\n    disablePadding: true,\n    label: \"SL thực tế\",\n  },\n  { id: \"balance\", align: \"right\", disablePadding: true, label: \"Lệch\" },\n];\n\nexport const OrderListHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Khách hàng\",\n  },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Khoảng tiền\" },\n  { id: \"status\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const CheckHistoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày kiểm\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"inventory\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng SL lệch\",\n  },\n  {\n    id: \"substract\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền lệch\",\n  },\n  // { id: \"status\", align: \"left\", disablePadding: false, label: \"Chức vụ\" },\n  {\n    id: \"employee\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const DeliveryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"payment\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Hình thức trả\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng hoá đơn\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n  {\n    id: \"employee\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const EmployeeScheduleHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"status\", align: \"center\", disablePadding: true, label: \"Chấm công\" },\n];\n\nexport const InventoryCheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\n  { id: \"inventory\", align: \"left\", disablePadding: false, label: \"Tồn kho\" },\n  { id: \"real\", align: \"left\", disablePadding: false, label: \"Thực tế\" },\n  {\n    id: \"diffQuantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"SL lệch\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Giá trị lệch\" },\n];\n\nexport const VoucherHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên voucher\" },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"value\", align: \"left\", disablePadding: true, label: \"Mệnh giá\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const DiscountHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  {\n    id: \"name\",\n    align: \"left\",\n    disablePadding: true,\n    label: \"Tên chương trình\",\n  },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"type\", align: \"left\", disablePadding: true, label: \"Hình thức\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const TransferInventoryHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"Số lượng\" },\n  { id: \"from\", align: \"left\", disablePadding: false, label: \"Từ\" },\n  { id: \"to\", align: \"left\", disablePadding: false, label: \"Đến\" },\n  { id: \"user\", align: \"left\", disablePadding: false, label: \"Ngừoi thực hiện\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n];\n\nexport const CashbookHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"Giá trị\" },\n  { id: \"user_type\", align: \"left\", disablePadding: false, label: \"Đối tác\" },\n  { id: \"user_name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n  { id: \"type\", align: \"left\", disablePadding: false, label: \"Loại thu chi\" },\n];","// ------------TABLE TYPE\n\n// Sales\nexport const INVOICE = \"Hoá_đơn\";\nexport const INVOICE_RETURN = \"Đơn_trả\";\nexport const CUSTOMER_ORDER = \"Đơn_đặt_hàng\";\n\n// inventory\nexport const INVENTORY = \"Sản_phẩm\";\nexport const INVENTORY_ORDER = \"Đơn_nhập_hàng\";\nexport const INVENTORY_RETURN = \"Đơn_trả_hàng_nhập\";\nexport const SUPPLIER = \"Nhà_cung_cấp\";\nexport const CHECK_LIST = \"Đơn_kiểm_kho\";\nexport const ORDER_LIST = \"Đơn_đặt_hàng\";\nexport const TRANSFER_INVENTORY = \"Đơn_chuyển_kho\";\n\n// HR\nexport const EMPLOYEE = \"Nhân_viên\";\n\n//Manager\nexport const CUSTOMER = \"Khách_hàng\";\n\n\n\n//CART\nexport const CART = \"Giỏ_hàng\";\nexport const IMPORT = \"Nhập hàng\";\nexport const CART_RETURN = \"Trả_hàng\";\nexport const IMPORT_RETURN = \"Trả_hàng_nhập\";\n\n","import { Chip, Box, Avatar } from \"@material-ui/core\";\n\nexport const FormatedStatus = (props) => {\n  if (props.debt === 0) {\n    return (\n      <Chip\n        label=\"Trả đủ\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn nợ\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\nexport const FormatedProductStatus = (props) => {\n  if (Number(props.quantity) <= 0) {\n    return (\n      <Chip\n        label=\"Hết hàng\"\n        color=\"#ff007d\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff007d\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= Number(props.lowStock)) {\n    return (\n      <Chip\n        label=\"Sắp hết\"\n        color=\"#ffc02b\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ffc02b\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else if (Number(props.quantity) >= Number(props.overStock)) {\n    return (\n      <Chip\n        label=\"Vượt tối đa\"\n        color=\"white\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"red\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n       \n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn hàng\"\n        color=\"#00ded7\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#00ded7\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n\nexport const FormatedProductStatusReport = (props) => {\n  if (Number(props.quantity) === 0) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ff007d\",\n        }}\n      ></Box>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= props.lowStock) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ffc02b\",\n        }}\n      ></Box>\n    );\n  } else {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#00ded7\",\n        }}\n      ></Box>\n    );\n  }\n};\n\nexport const FormatedStatusOrder = (props) => {\n  switch (props.status) {\n    case \"new\":\n      return (\n        <Chip\n          label=\"Chờ chấp nhận\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n    case \"confirmed\":\n      return (\n        <Chip\n          label=\"Chờ giao\"\n          color=\"#ffc02b\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ffc02b\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ giao\"}{\" \"}\n        </Chip>\n      );\n    case \"cancelled\":\n      return (\n        <Chip\n          label=\"Đã hủy\"\n          color=\"#00ded7\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#00ded7\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Đã hủy\"}{\" \"}\n        </Chip>\n      );\n    case \"paid\":\n      return (\n        <Chip\n          label=\"Hoàn thành\"\n          color=\"#76ff03\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#76ff03\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Hoàn thành\"}{\" \"}\n        </Chip>\n      );\n    default:\n      return (\n        <Chip\n          label=\"Chờ xử lý\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n  }\n};\n\nexport const FormatedStatusCheck = (props) => {\n  if (props.status === 0) {\n    return (\n      <Chip\n        label=\"Cân bằng\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Cân bằng\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Không cân bằng\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Không cân bằng\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n","import React from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport TableHeader  from '../../components/TableCommon/TableHeader/TableHeader'\nimport TableWrapper from '../../components/TableCommon/TableWrapper/TableWrapper'\nimport {ThousandFormat} from '../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\nimport setting from \"../../assets/constant/setting\"\nimport {Docso} from \"../../utils\"\nimport  clsx from \"clsx\"\n//import library\nimport {\n    Grid,\n    Card,\n    Box,\n    Tabs,\n    Tab,\n    TableContainer,\n    CardContent,\n    CardMedia,\n    CardActionArea,\n    FormControlLabel,\n    Switch,\n    Menu,\n    MenuItem,\n    ListItem,\n    IconButton,\n    TableBody,\n    Typography,\n    Table,\n    TableHead,\n    TableRow,TableCell,Divider\n  } from \"@material-ui/core\";\n  import ReactQuill, {Quill} from 'react-quill';\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        flexGrow: 1,\n        textAlign: \"center\",\n        // fontSize: \"13.5px\",\n        // fontSize: \"12em\",\n        fontWeight: 700,\n        marginTop:10,\n        color: \"#000\",\n    },\n    centerQR:{\n        flexGrow: 1,\n        textAlign: \"center\",\n       \n    },\n    center:{\n        flexGrow: 1,\n        textAlign: \"center\",\n        color: \"#000\",\n        fontSize:\"10px\",\n        // fontSize: \"10em\",\n    },\n    right:{\n        flexGrow: 1,\n        textAlign: \"right\",\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n    },\n    text:{\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n        // textAlign: \"center\",\n    },\n    Largetext:{\n      color: \"#000\",\n      fontSize: \"12px\",\n    },\n    media: {\n      // height: '10%',\n      // // width: '10%'\n      // height: 50,\n      // width:50\n    },\n    weight:{\n      fontWeight:600\n    },\n    root: {\n      maxWidth: 10,\n      \n    },\n    divider: {\n      // Theme Color, or use css color in quote\n      background: '#000',\n  },\n}));\nlet d = moment.now() / 1000;\n\nlet orderTime = moment\n.unix(d)\n.format(\"DD/MM/YYYY HH:mm\", { trim: false });\n\nlet orderDate = moment\n.unix(d)\n.format(\"DD/MM/YYYY\", { trim: false });\n\n// CON THIEU LINK WEB + LOGO + MA HOA DON\nvar QRCode = require('qrcode.react');\n\n\nexport const NomalReceiptPrinter = ({cart, date,code, type}) => {\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n    const store = info.store.store_configuration? JSON.parse(info.store.store_configuration): null\n\n//     const web_link = store_setting.status ? info.store.web_page:null\n//     var link = web_link ? web_link : store? store.custom_web : null ;\n//     var logo  = store? store.img_url :null ;\n\n    var link = info.store.web_page ? \"https://cuahangcuatoi.net/#/store/\" + info.store.web_page : \"\";\n    var logo  = store_setting?.img_url ;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const item = cart.cartItem? cart.cartItem :cart.details\n\n    return (\n        <div style={{paddingLeft: -10}} >\n            {/* Logo */}\n           {logo? \n            <div className={classes.centerQR} style={{marginBottom:5}}  >\n              <img src={logo} style={{height:50}}/>\n            </div>:null}\n              \n           {/* In đơn cũ thì ko lấy store?? */}\n           {/* {\n             cart.branch ?\n             <>\n             <Typography className={classes.center}>Địa chỉ: {cart.branch.address}, {cart.branch.ward} , {cart.branch.district}</Typography>\n            <Typography className={classes.center}>Điện thoại: {cart.branch.phone}</Typography>\n             </>:\n            //  get current branch\n            <>\n             <Typography className={classes.center}>Địa chỉ: {info.store.district}, P. {info.store.ward} ,Q. {info.store.district}, {info.store.province}</Typography>\n             <Typography className={classes.center}>Điện thoại: {info.store.phone}</Typography>\n            </>\n           } */}\n            \n\n            {/*  */}\n            <Typography className={classes.title} style={{fontSize: \"13.5px\"}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n            <Typography className={classes.center}>Mã HĐ: {code}</Typography>\n            <Typography className={classes.center} style={{marginBottom:10}}>Ngày: {date? date: orderTime}</Typography>\n           \n            <Box style={{marginBottom:5}}>\n              <Typography className={classes.text} >Thu ngân: {cart.created_by_user? cart.created_by_user.name: info.user.name}</Typography>\n              <Typography className={classes.text} >Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n            </Box>\n            {/* List */}\n              \n            {type ==='large'?\n            <>\n              <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Đơn giá</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={4}>\n                          <   Typography className={classes.text} >{row.name}</Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.unit_price}/></Typography>\n                            </Grid>\n                            <Grid item xs={2}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity}/></Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                    );\n                })} \n                </>:\n\n                <>\n                 <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={7}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={5}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={7}>\n                              <Typography className={classes.text} >{row.name}</Typography>\n                              <ListItem style={{padding:0, margin:0}}>\n                             <Typography className={classes.text} ><ThousandFormat value={row.quantity}/> x <ThousandFormat value={row.unit_price}/></Typography>\n                              </ListItem>\n                            </Grid>\n                            <Grid item xs={5}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                     );\n                  })} \n\n                </>}\n              \n\n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:10}}>\n              <Grid item xs={5}>\n                {Number(cart.discount) > 0?\n                  <>\n                  <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                  <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\n                  </>\n                :null}\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Khách đưa:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền thối:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                {Number(cart.discount) > 0?\n                  <>\n                    <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                    <Typography >\n                      <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\n                    </Typography>\n                 </>\n                :null}\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount}/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount)} /></Typography>\n\n              </Grid>\n            </Grid>\n            {store_setting.printReceiptWhenSell.contentNote?\n            <Box>\n            <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n\n            <Typography className={classes.center}> --------------------------</Typography>\n            {link? \n            <>\n                <Typography className={classes.center}> Mở camera và quét mã để truy cập trang web</Typography>\n                <div className={classes.centerQR} style={{marginBottom:10, marginTop:10 }}>\n                   {/* <QRCode value={link}  style={{height:\"50%\", width:\"50%\"}}/> */}\n                   <QRCode value={link}  size={65}/>\n                </div> \n                </>\n            : null}\n            <Typography className={classes.center}>Cảm ơn và hẹn gặp lại !</Typography> \n        </div>\n    )\n}\n\nexport const ReceiptPrinter = ({cart, date,code,type}) => {\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  var link = store_setting?.custom_web;\n  var logo  = store_setting?.img_url ;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n  // console.log(\"typetypetype\",type)\n  if(type !== 'other'){\n    return <NomalReceiptPrinter cart={cart} date={date} code={code} type={type}/>\n  }\n \n  return (\n      <div style={{padding:30, }} >\n          {/* Logo */}\n          {/* <Typography className={classes.title} style={{fontSize: \"18px\", marginBottom:-2}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n          <Typography className={classes.center} style={{ fontSize: \"12px\", marginBottom:15}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography> */}\n          <Grid container justifyContent='space-between'  alignItems='center' style={{marginBottom:15}}>\n              \n              <Grid>\n              <Typography className={classes.title} style={{fontSize: \"18px\"}}>PHIẾU XUẤT KHO</Typography>\n              <Typography className={classes.center} style={{ fontSize: \"12px\"}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography>\n              </Grid>\n              <Grid >\n              <Typography className={classes.Largetext} style={{marginTop:10}}> <b>Khách hàng:</b> {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n              <Typography className={classes.Largetext} ><strong>Điện thoại:</strong> {cart.customer?.phone} </Typography> \n              </Grid>\n          </Grid>\n\n          {/* <Box style={{marginBottom:10}}>\n            <Grid container>\n              <Grid item xs={7}><Typography className={classes.Largetext} style={{fontWeight:500}}>Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography>  </Grid>\n              <Grid item xs={5}><Typography className={classes.Largetext} style={{fontWeight:500}}>Điện thoại: {cart.customer?.phone} </Typography>  </Grid>\n            </Grid>\n            <Typography className={classes.Largetext} style={{fontWeight:500}}>Địa chỉ: {cart.customer?.address } </Typography> \n          </Box> */}\n          {/* List */}\n            <Divider classes={{root: classes.divider}}/>\n              <ListItem  style={{margin:0, padding:0,}}>\n                  <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{marginTop:3, marginBottom:3}} >STT</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Tên hàng hoá, dịch vụ</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn vị</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Số lượng</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn giá</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Thành tiền</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n              </ListItem>\n            <Divider classes={{root: classes.divider}}/>      \n                {item.map((row, index) => {\n                  return (\n                    <>\n                    <ListItem  style={{margin:0, padding:0,}}>\n                        <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                              <Typography className={clsx(classes.Largetext)}style={{marginTop:2, marginBottom:2}} >{index +1}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"left\",marginTop:2, marginBottom:2, paddingLeft:4}}>{row.name}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}>{row.quantity_per_unit ?row.quantity_per_unit :\"Cái\"}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}><ThousandFormat value={ row.quantity}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"right\", marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={ row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                  </ListItem>\n                   <Divider classes={{root: classes.divider}}/>  \n                   \n                  </>\n                  );\n              })} \n            {/* <Divider classes={{root: classes.divider}}/>   */}\n          <ListItem  style={{margin:0, padding:0,}}>    \n            <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:3120}} >\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                  <Typography className={clsx(classes.Largetext,)}style={{marginTop:3, marginBottom:3, fontWeight:600}} >TỔNG CỘNG</Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                  <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3, fontWeight:600}}><ThousandFormat value={ item?.reduce((sum,a) => sum + Number(a.quantity),0)}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 1700}}>\n                  <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:3, marginBottom:3, paddingRight:4, fontWeight:600}}><ThousandFormat value={cart.total_amount}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n        </ListItem>\n        <Divider classes={{root: classes.divider}}/>  \n        <ListItem  style={{margin:0, padding:0,justifyContent:'space-between' , }}> \n            <ListItem  style={{margin:0, padding:0,}}> \n                <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                <Typography className={clsx(classes.Largetext)} style={{fontWeight:600,marginTop:2, marginBottom:2,marginLeft:5}}>Viết bằng chữ:</Typography>\n                <Typography className={clsx(classes.Largetext)} style={{marginTop:2, marginBottom:2,marginLeft:5, fontStyle:'italic'}}> {new Docso().doc(Number(cart.total_amount))} đồng./.</Typography>\n            </ListItem> \n            <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n\n        </ListItem> \n        <Divider classes={{root: classes.divider}}/>  \n        \n      {store_setting.printReceiptWhenSell.contentNote?\n      <Box>\n      <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n      <div>\n          <Grid container justifyContent='space-around' style={{marginTop:20}}>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người mua hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người giao hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người bán hàng </Typography>  </Grid>\n          </Grid>\n        </div> \n      </div>\n  )\n\n}\n\nexport const ImportReceiptPrinter = ({cart, date}) => {\n  const info = useSelector((state) => state.info);\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n    return (\n          <div >\n\n          {/*  */}\n          <Typography className={classes.title} >PHIẾU NHẬP HÀNG</Typography>\n          <Typography className={classes.center}>Mã phiếu: {}</Typography>\n          <Typography className={classes.center} style={{marginBottom:25}}>Thời gian: {date? date: orderTime}</Typography>\n        \n          \n          <Typography className={classes.text} >Chi nhánh nhập: {cart.branch ? cart.branch.name :info.branch.name}</Typography>\n          <Typography className={classes.text} >Người tạo: {cart.created_by_user ? cart.created_by_user.name :info.user.name}</Typography>\n          <Typography className={classes.text} style={{marginBottom:10}}>Nhà cung cấp: {cart.supplier?.name} </Typography>\n        \n          {/* List */}\n      \n          <Divider classes={{root: classes.divider}}/>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >STT</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Mã hàng</Typography>\n                  </Grid>\n                  <Grid item xs={4}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Đơn giá</Typography>\n                  </Grid>\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >SL</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >T.Tiền</Typography>\n                  </Grid>\n              </Grid>\n              <Divider classes={{root: classes.divider}}/>      \n\n         \n                  {item.map((row, index) => {\n                  return (\n                      <>\n                     \n                      <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{index+1}</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.bar_code}</Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.name}</Typography>\n                        </Grid>\n                       \n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.unit_price}/></Typography>\n                        </Grid>\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity}/></Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                      </>\n                  );\n              })}\n            \n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}>\n              <Grid item xs={5}>\n                <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền trả NCC:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Còn lại:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                <Typography >\n                  <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount}/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount)} /></Typography>\n\n              </Grid>\n            </Grid>   \n\n        <Grid container direction=\"row\" justifyContent=\"space-around\">\n              <Typography className={clsx(classes.text,classes.weight)}>\n                  Nhà cung cấp\n              </Typography>\n \n            <Typography className={clsx(classes.text,classes.weight)}>\n                  Người lập phiếu\n              </Typography>\n          </Grid>\n      </div>\n    )\n}\n\n","import React, { useEffect } from 'react'\nimport {Grid,Card,Box,Tooltip,TextField,ListItem,Divider,IconButton,TableRow,TableCell,TableBody,Typography} from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport clsx from \"clsx\";\nimport WarningIcon from '@material-ui/icons/Warning';\nconst ButtonQuantity = (props) =>{\n    const classes = useStyles();\n    const {quantity,setQuantity, limit, isReturn,branch_quantity,isMini,miniCart,isCustomer,isManageInventory, mini} = props;\n    const [show, setShow] = React.useState('none');\n  \n    const handleIncrement = () => {\n      //them cai nay\n       if (limit && Number(limit) === 0){\n        setQuantity(quantity)\n        return\n      }\n\n      else if(limit) {\n        if(quantity >= Number(limit)) {\n          setQuantity(quantity)\n          return\n        } \n      } \n     \n      setQuantity(quantity+ 1);\n    };\n  \n    const handleDecrement = () => {\n      if(quantity >=1){setQuantity(quantity- 1);}\n    };\n\n    \n    const handleShow = () => {\n      setShow('block');\n    };\n    const handleClose = () => {\n      setShow('none');\n    };\n  \n    const HtmlTooltip = withStyles((theme) => ({\n      tooltip: {\n        backgroundColor: '#9f9fa1',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(12),\n        border: '1px solid #dadde9',\n      },\n    }))(Tooltip);\n\n    var error_quantity = quantity > branch_quantity;\n\n    const handleQuantity = (e) =>{\n\n      //  if (!isNaN(e.target.value) && e.target.value >0){\n      //   setQuantity(parseInt(e.target.value))\n      // } \n     setQuantity(parseInt(e.target.value))\n    }\n   \n    return(\n    <ListItem onMouseOver={handleShow} onMouseOut={handleClose} style={isMini ||miniCart? {padding:0,paddingTop:5,paddingBottom:5, margin:0} : {}} > \n\n        {error_quantity && isMini && isManageInventory?\n            <HtmlTooltip title={ <React.Fragment>\n                <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>   <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n                </React.Fragment> } >\n              <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n          </HtmlTooltip>:null}\n\n          {/* margin:isMini?0:null, padding:isMini?0:null */}\n         {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity && isManageInventory ? \"red\":null,margin:isMini?0:null, padding:isMini?0:null,}} aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleDecrement} >\n            <RemoveIcon fontSize=\"inherit\" />\n          </IconButton> :null}\n             \n           <TextField  variant={isMini || miniCart? \"outlined\" : \"standard\"} id=\"standard-basic\" style={{width:isMini||miniCart?35 + (quantity).toString().length*10-10:35,minWidth:45,padding:0, marginLeft:isCustomer || isMini?20:null,marginRight:isCustomer|| isMini?20:null}} className={clsx(classes.textfieldClass,(show === 'none'||miniCart) ? classes.padding : null)}  size=\"small\" inputProps={{style: { textAlign: isMini?\"center\": \"right\", color: error_quantity  && isManageInventory  ? \"red\":null, fontWeight:error_quantity  && isManageInventory ? 600:null,\n              backgroundColor:error_quantity  && isManageInventory ?\"#ffe8e8\":null, height:miniCart?12:null\n            }}} \n          value={quantity} onChange={handleQuantity}/>\n     \n           \n          {isReturn ? `/${limit}`: null}\n          {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity  && isManageInventory  ? \"red\":null ,margin:isMini?0:null, padding:isMini?0:null,} } aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleIncrement}>\n            <AddIcon fontSize=\"inherit\" />\n          </IconButton>:null}\n\n\n\n{/* Error  */}\n          {error_quantity && !isMini  && isManageInventory  && !miniCart?\n     \n        <HtmlTooltip\n        title={\n          <React.Fragment>\n            <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>\n            <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n           \n          </React.Fragment>\n        }\n      >\n         <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n      </HtmlTooltip>\n         \n          \n          :null}\n\n    </ListItem>  \n    )\n  }\n\nexport default ButtonQuantity\n","import axiosClient from \"./axiosClient\";\n\nconst orderApi = {\n  addOrder: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/addOrder`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/orders`;\n    return axiosClient.get(url, {});\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  getOrder: (storeUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/orders/${orderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  editOrderApi: (storeUuid, branchUuid, orderUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.put(url, body);\n  },\n  deleteOrder: (storeUuid, branchUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.delete(url);\n  },\n  deleteAll: (storeUuid, branchUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/deleteAll`;\n    return axiosClient.delete(url);\n  },\n\n  // api for customer order\n  searchCustomerOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders`;\n    return axiosClient.get(url, { params: query });\n  },\n  processCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/process`;\n    return axiosClient.get(url);\n  },\n  confirmCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/confirm`;\n    return axiosClient.post(url, body);\n  },\n  cancleCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/cancel`;\n    return axiosClient.post(url);\n  },\n  paymentCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/payment`;\n    return axiosClient.post(url, body);\n  },\n  updateCustomerOrder: (storeUuid, branchUuid, customerOrderId, newDetails) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/updateDetails`;\n    return axiosClient.post(url, {\n      details: JSON.stringify(newDetails),\n    });\n  },\n};\nexport default orderApi;\n","import { Button, notification, Space } from \"antd\";\n\nconst openNotification = (type, message, description) => {\n  notification[type]({\n    message: message,\n    description: description,\n    placement: \"bottomRight\",\n    // placement: \"topRight\",\n    // style:{marginTop:60}\n    // style:{backgroundColor:'#4BB04F',  fontWeight:500}\n\n  });\n};\nexport default openNotification;\n","import axiosClient from \"./axiosClient\";\nconst supplierApi = {\n  createSupplier: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/suppliers`;\n    return axiosClient.post(url, body, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n  },\n  getSuppliers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/suppliers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.delete(url);\n  },\n  inactiveSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"inactive\" });\n  },\n  activeSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"active\" });\n  },\n  updateSupplier: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.post(url, body);\n  },\n  payDebt: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n};\nexport default supplierApi;\n","import React, { useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport { grey } from \"@material-ui/core/colors\";\n\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nconst ImportReturnSummary = ({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  let _value = null;\n  useEffect(() => {}, [data]);\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch?.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n              Trả đơn nhập\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.purchase_order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.supplier?.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\"> Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})</Typography>\n          <Typography variant=\"body2\">{calculateTotalReturnQuantity(data.details)}</Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">NCC đã trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng nhập\n        </Button>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default ImportReturnSummary;\n","import React, { useEffect } from \"react\";\nimport {\n  Card,\n  ListItem,\n  DialogContent,\n  Box,\n  Grid,\n  TableBody,\n  Typography,\n  TableCell,\n  TableRow,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport * as _ from \"lodash\";\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport update from \"immutability-helper\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport moment from \"moment\";\nimport ImportReturnSummary from \"../../CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary\";\n\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n// import library\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\nimport SearchProduct from \"../../SearchBar/SearchProduct\";\nimport TableHeader from \"../../TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../TableCommon/TableWrapper/TableWrapper\";\nimport * as Input from \"../../TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../Button/ButtonQuantity\";\nimport purchaseReturnApi from \"../../../api/purchaseReturnApi\";\n\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport { ReturnCartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InventoryReturnPopUp(props) {\n  const { purchaseOrder, classes, handleCloseReturn, reload, reloadDetail } =\n    props;\n  const theme = useTheme();\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  // 2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [purchaseReturn, setPurchaseReturn] = React.useState({\n    purchase_order_code: purchaseOrder.purchase_order_code,\n    purchase_order_id: purchaseOrder.id,\n    branch: purchaseOrder.branch,\n    supplier: purchaseOrder.supplier,\n    supplier_id: purchaseOrder.supplier_id,\n    branch_id: purchaseOrder.branch_id,\n    total_amount: 0,\n    details: purchaseOrder.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      purchase_order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: \"cash\",\n    paid_amount: \"0\",\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = _.cloneDeep(purchaseReturn);\n\n    newPurchaseReturn.details[itemIndex].selectedBatches = newBatches;\n    newPurchaseReturn.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Trả hàng thất bại\",\n  });\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    purchaseReturn.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    const newPurchaseReturn = update(purchaseReturn, {\n      total_amount: { $set: total },\n      paid_amount: { $set: total },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    if (newQuantity === 0) {\n      handleDeleteItem(itemId);\n      return;\n    }\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      paid_amount: { $set: paidAmount },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      payment_method: { $set: paymentMethod },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const dispatch = useDispatch();\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const export_date = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    const body = {\n      purchase_order_uuid: purchaseOrder.uuid,\n      supplier_id: purchaseReturn.supplier_id,\n      total_amount: purchaseReturn.total_amount.toString(),\n      payment_method: purchaseReturn.payment_method,\n      paid_amount: purchaseReturn.paid_amount.toString(),\n      status:\n        purchaseReturn.paid_amount >= purchaseReturn.total_amount\n          ? \"closed\"\n          : \"debt\",\n      details: purchaseReturn.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        purchase_order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        purchase_order_batches: detail.purchase_order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      export_date,\n    };\n\n    try {\n      const res = await purchaseReturnApi.removeInventory(\n        store_uuid,\n        purchaseOrder.branch.uuid,\n        body\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Trả hàng thành công: ${res.data.purchase_return_code}`\n        )\n      );\n      reload();\n      reloadDetail();\n      handleCloseReturn();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Trả hàng thất bại!\"));\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  return (\n    <>\n      <Grid\n        container\n        direction=\"row\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n      >\n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n            Trả hàng nhập\n          </Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={handleCloseReturn}\n        >\n          <CloseIcon />\n        </IconButton>\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          spacing={2}\n        >\n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n                {/* JSON data attribute phải giongso table head id */}\n\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n                {!xsScreen ? (\n                  <TableWrapper isCart>\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.ImportReturnHeadCells}\n                    />\n                    <TableBody>\n                      {purchaseReturn.details.map((detail, index) => (\n                        <ImportReturnTableRow\n                          handleProductPriceChange={handleProductPriceChange}\n                          handleItemQuantityChange={handleItemQuantityChange}\n                          handleChangeBatches={handleChangeBatches}\n                          detail={detail}\n                        />\n                      ))}\n                    </TableBody>\n                  </TableWrapper>\n                ) : (\n                  purchaseReturn.details.map((detail, index) => (\n                    <ReturnCartMiniTableRow\n                      handleProductPriceChange={handleProductPriceChange}\n                      handleItemQuantityChange={handleItemQuantityChange}\n                      detail={detail}\n                      isCart={false}\n                    />\n                  ))\n                )}\n              </Box>\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <ImportReturnSummary\n                data={purchaseReturn}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n    </>\n  );\n}\n\nexport default InventoryReturnPopUp;\nfunction ImportReturnTableRow({\n  detail,\n  handleProductPriceChange,\n  handleItemQuantityChange,\n  handleChangeBatches,\n}) {\n  const classes = useStyles();\n  const [show, setShow] = React.useState(\"none\");\n  useEffect(() => {}, [detail]);\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>\n        {detail.product_code}\n      </TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      {/* <TableCell align=\"left\">{detail.bar_code}</TableCell> */}\n      <TableCell align=\"right\">\n        {\" \"}\n        <Input.ThousandFormat value={detail.unit_price} />\n      </TableCell>\n      <TableCell align=\"right\">\n      {canFixPriceSell.status && canFixPriceSell.returnCart?\n        <Input.ThousandSeperatedInput\n          id=\"standard-basic\"\n          style={{ width: 70 }}\n          size=\"small\"\n          inputProps={{ style: { textAlign: \"right\" } }}\n          defaultPrice={detail.returnPrice}\n          onChange={(e) => handleChangePrice(e.target.value)}\n        />:\n        <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n      </TableCell>\n\n      <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n      <TableCell align=\"right\" className={classes.boldText}>\n        <Input.VNDFormat\n          value={Number(detail.returnQuantity) * Number(detail.returnPrice)}\n        />\n      </TableCell>\n    </TableRow>\n  );\n}\n","import { makeStyles, useTheme,withStyles ,} from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default makeStyles((theme)=>({\n  root: {\n    '& > *': {\n      borderBottom: 'unset',\n    },\n  },\n  rowClicked:{\n    //backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n    backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    \n  },\n  row:{\n    '&:hover': {\n      // backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n      backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    },\n  },\n  large: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  fontName:{\n    fontWeight: 450,\n  }\n}));","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import project\nimport {\n  CardHeader,\n  Tooltip,\n  TextField,\n  IconButton,\n  InputAdornment,\n  Box,\n  Button,\n  Typography,\n  MenuItem,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select\n} from \"@material-ui/core\";\n\n// import - icon\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport ViewColumnTwoToneIcon from \"@material-ui/icons/ViewColumnTwoTone\";\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport SearchTwoToneIcon from \"@material-ui/icons/SearchTwoTone\";\nimport barcodeIcon from \"../../../assets/img/icon/barcode_grey.png\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport NoteAddTwoToneIcon from \"@material-ui/icons/NoteAddTwoTone\";\n// import third party\nimport xlsx from \"xlsx\";\nimport SimpleModal from \"../../Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../Modal/ModalWrapperWithClose\";\nimport { applyMiddleware } from \"@reduxjs/toolkit\";\nimport { DeleteForever } from \"@material-ui/icons\";\nimport DeleteForeverOutlined from \"@material-ui/icons/DeleteForeverOutlined\";\n// import SimpleModal from \"../../Modal/ModalWrapper\";\n\n//--thu vien nay bij loi font\n// import jsPDF from 'jspdf'\n// import 'jspdf-autotable'\nconst cell = [\"A1\", \"B1\", \"C1\", \"D1\", \"E1\", \"F1\", \"G1\", \"H1\", \"I1\", \"J1\", \"K1\",];\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    icon: {\n      color: theme.customization.mode === \"Light\" ? grey[700] : grey[50],\n    },\n    toolbar: {\n      justifyContent: \"left\",\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 10,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 0,\n      //\n      width: 260,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    actions: {\n      marginTop: 0,\n    },\n  })\n);\nconst exportExcel = (dataTable, tableType, columnsToKeep = []) => {\n  try {\n    const newData = []\n    dataTable.map((row) => {\n      let rowRs = {}\n      columnsToKeep.map((cl) => {\n        rowRs = { ...rowRs, [cl.displayName]: row[cl.dbName] }\n      })\n      newData.push(rowRs)\n    })\n    const workSheet = xlsx.utils.json_to_sheet(newData);\n    const workBook = xlsx.utils.book_new();\n\n    xlsx.utils.book_append_sheet(workBook, workSheet, tableType);\n    //Buffer\n    //let buf=XLSX.write(workBook,{bookType:\"xlsx\",type:\"buffer\"})\n    //Binary string\n    xlsx.write(workBook, { bookType: \"xlsx\", type: \"binary\" });\n    //Download\n    xlsx.writeFile(workBook, `${tableType}.xlsx`);\n  } catch (err) {\n    console.log(err)\n  }\n};\n\nconst ToolBar = (props) => {\n  const {\n    dataTable,\n    tableType,\n    handlePrint,\n    textSearch,\n    handleToggleFilter,\n    hasImport,\n    importByJSON,\n    excel_head,\n    excel_data,\n    excel_name,\n    columnsToKeep,\n    searchKey, setSearchKey,\n    orderByOptions, orderBy, setOrderBy,\n    handleRemoveFilter,\n    sort, setSort,\n    isOnlySearch,\n    getDataExport,\n    customizable,\n    handleDeleteAll,\n    extra,\n  } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [openImport, setOpenImport] = useState(false);\n  const [custom, setCustom] = useState(true)\n  const [customCl, setCustomCl] = useState({\n    name: \"Sản phẩm\",\n    bar_code: \"Mã vạch\",\n    category_id: \"Danh mục\",\n    list_price: \"Giá bán\",\n    standard_price: \"Giá vốn\",\n    quantity_per_unit: \"Đơn vị\",\n    quantity: \"Tồn kho\",\n    min_reorder_quantity: \"Tồn nhỏ nhất\",\n    max_order: \"Tồn lớn nhất\",\n    img_urls: \"Hình ảnh\",\n    has_batches: \"Lô\",\n    description: \"Miêu tả\"\n  })\n  // const [json, setJson] = useState(null);\n\n  const readUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    if (e.target.files) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        // debugger\n        const data = e.target.result;\n        const workbook = xlsx.read(data, { type: \"array\" });\n        const sheetName = workbook.SheetNames[0];\n        const worksheet = workbook.Sheets[sheetName];\n        const myJson = xlsx.utils.sheet_to_json(worksheet)\n        try {\n          const json = myJson.map((product) => ({\n            name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n            list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n            standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n            category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n            bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n            quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n            min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n            description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n            has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n            max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n            img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n            quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n          }))\n          setJsonData(json);\n        } catch (err) {\n          console.log(err)\n        }\n      };\n      reader.readAsArrayBuffer(e.target.files[0]);\n    }\n  };\n  const [excel, setExcel] = useState([])\n  const readCustomerUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          const json = excelLines.map((line) => ({\n            name: line[\"Tên khách hàng\"],\n            phone: line[\"Số điện thoại\"],\n            address: line[\"Địa chỉ\"],\n            email: line[\"Email\"],\n            payment_info: line[\"Thông tin thanh toán\"],\n            points: line[\"Tích điểm\"],\n            total_payment: line[\"Tổng tiền mua\"],\n            debt: line[\"Còn nợ\"],\n          }))\n          setJsonData(json);\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  };\n  const handleImport = () => {\n    setOpenImport(false);\n    if (custom && customizable) {\n      console.log(customCl)\n      setListCl([])\n      const json = excel.map((product) => ({\n        name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n        list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n        standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n        category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n        bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n        quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n        min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n        description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n        has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n        max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n        img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n        quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n      }))\n      importByJSON(json);\n    } else {\n      importByJSON(jsonData);\n    }\n  };\n  const [jsonData, setJsonData] = useState([]);\n\n  const [listCl, setListCl] = useState([]);\n\n  useEffect(() => {\n    setListCl([])\n  }, [openImport])\n\n  const readCustomizedProduct = (e) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          setExcel(excelLines)\n          setListCl(Object.keys(excelLines[0]))\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch(err) {\n      console.log(err)\n    }\n    \n  };\n  return (\n\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Grid item>\n          <Grid container direction=\"row\">\n            <Tooltip title=\"Nhấn Enter để tìm kiếm\">\n              <TextField\n                style={{ marginTop: 12, marginLeft: 10 }}\n                variant=\"outlined\"\n                onKeyUp={(e) => {\n                  if (e.key === \"Enter\" || e.target.value === \"\") {\n                    setSearchKey(e.target.value)\n                  }\n                }\n                }\n                placeholder={textSearch} /*placeholder='Tìm kiếm ...'*/\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchTwoToneIcon className={classes.icon} />\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23 }}\n                        src={barcodeIcon}\n                      />\n                    </InputAdornment>\n                  ),\n                  className: classes.search,\n                }}\n              />\n            </Tooltip>\n            {!isOnlySearch &&\n\n              <div style={{ marginLeft: 30, display: 'flex', flexDirection: 'row', gap: 10 }}>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Sắp xếp theo\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"orderBy\"\n                    value={orderBy}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setOrderBy(e.target.value)}\n                  >\n                    {orderByOptions?.map(o => <MenuItem value={o.value}>{o.label}</MenuItem>)}\n                  </Select>\n                </FormControl>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Thứ tự\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"sort\"\n                    value={sort}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setSort(e.target.value)}\n                  >\n                    <MenuItem value=\"asc\">Tăng dần</MenuItem>\n                    <MenuItem value=\"desc\">Giảm dần</MenuItem>\n                  </Select>\n                </FormControl>\n                <Button onClick={handleRemoveFilter}>\n                  Bỏ lọc\n                </Button>\n              </div>\n            }\n            {extra ? extra : null}\n          </Grid>\n        </Grid>\n        \n        <Grid item>\n          <Box className={classes.actions}>\n            <Tooltip\n              title=\"Nhập excel\"\n              style={{ display: hasImport ? null : \"none\" }}\n            >\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => setOpenImport(true)}\n              >\n                <NoteAddTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"Xuất excel\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={async () => {\n                  if (getDataExport) {\n                    const dataTableFull = await getDataExport();\n                    exportExcel(dataTableFull, tableType, columnsToKeep);\n                  } else {\n                    exportExcel(dataTable, tableType, columnsToKeep);\n                  }\n                }}\n              >\n                <GetAppTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            {/* {handleDeleteAll ? <Tooltip\n              title=\"Xóa tất cả hóa đơn\"\n            >\n              <IconButton\n                aria-label=\"deletealll \"\n                onClick={() => handleDeleteAll()}\n              >\n                <DeleteForeverOutlined className={classes.icon} />\n              </IconButton>\n            </Tooltip>: null} */}\n\n            <Tooltip title=\"In danh sách\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => {\n                  handlePrint();\n                }}\n              >\n                <PrintTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n            {/* <Tooltip title=\"Chọn cột\">\n            <IconButton aria-label=\"filter list\">\n              <ViewColumnTwoToneIcon className={classes.icon} />\n            </IconButton>\n          </Tooltip> */}\n            {!isOnlySearch &&\n              <Tooltip title=\"Lọc\">\n                <IconButton aria-label=\"filter list\" onClick={handleToggleFilter}>\n                  <FilterListTwoToneIcon className={classes.icon} />\n                </IconButton>\n              </Tooltip>\n            }\n\n            \n\n          </Box>\n        </Grid>\n      </Grid>\n\n      {openImport && <ModalWrapperWithClose\n        open={openImport}\n        handleClose={() => setOpenImport(false)}\n        title=\"Nhập dữ liệu từ file excel\"\n      >\n\n        {customizable ?\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name, columnsToKeep.filter(cl => cl.dbName != \"product_code\"));\n              }}\n            >\n              Excel mẫu\n            </a> hoặc <a style={{ color: \"blue\", cursor: \"pointer\" }}> tùy chỉnh </a>\n            )\n          </Typography> :\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name,  columnsToKeep.filter(cl => cl.dbName != \"total_payment\" && cl.dbName !=\"debt\"));\n              }}\n            >\n              Excel mẫu\n            </a>\n            )\n          </Typography>\n        }\n\n\n        {\n          custom && listCl.length > 0 && excel && customizable &&\n          <Grid container spacing={2} style={{ marginBottom: 15, width: 600, maxWidth: \"90vw\" }} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tên sản phẩm</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.name} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, name: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá bán</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.list_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, list_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá vốn</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.standard_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, standard_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Danh mục</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.category_id} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, category_id: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>            \n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mã vạch</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.bar_code} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, bar_code: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Đơn vị</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity_per_unit} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, quantity_per_unit: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn nhỏ nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.min_reorder_quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, min_reorder_quantity: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn lớn nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.max_order} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, max_order: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Hình ảnh (url1, url2,...)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.img_urls} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, img_urls: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mô tả</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.description} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, description: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn kho</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, quantity: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Lô (Có hoặc không)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.has_batches} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, has_batches: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n          </Grid>\n        }\n        {custom  && customizable?\n          <form>\n            <label htmlFor=\"upload\">Chọn file <strong>của bạn</strong>: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => { readCustomizedProduct(e) }}\n            />\n          </form>\n          :\n          <form>\n            <label htmlFor=\"upload\">Chọn file: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => {\n                if (customizable) {\n                  readUploadFile(e, setJsonData);\n                } else {\n                  readCustomerUploadFile(e, setJsonData);\n                }\n              }}\n            />\n          </form>\n        }\n\n        <Button\n          style={{ marginTop: 40 }}\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          onClick={handleImport}\n        >\n          Nhập\n        </Button>\n      </ModalWrapperWithClose>}\n    </>\n\n  );\n};\n\nexport default ToolBar;\n\nconst studentData = [\n  {\n    id: 1,\n    name: \"Quần dài\",\n    category: \"Thực phẩm\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 2,\n    name: \"Quần đùi\",\n    category: \"Bánh kẹo\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 3,\n    name: \"Áo dài\",\n    category: \"Đồ dùng\",\n    price: 250,\n    import_price: 120,\n  },\n  {\n    id: 4,\n    name: \"Bánh\",\n    category: \"Quần áo\",\n    price: 520,\n    import_price: 102,\n  },\n  {\n    id: 5,\n    name: \"Kẹo\",\n    category: \"Quần áo\",\n    price: 220,\n    import_price: 100,\n  },\n  {\n    id: 6,\n    name: \"Khăn giấy\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 7,\n    name: \"Quần dài\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 8,\n    name: \"Túi xách\",\n    category: \"Quần áo\",\n    price: 150,\n    import_price: 350,\n  },\n  {\n    id: 9,\n    name: \"Laptop\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 10,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 11,\n    name: \"Máy tính cầm ta\",\n    category: \"Quần áo\",\n    price: 223,\n    import_price: 152,\n  },\n  {\n    id: 12,\n    name: \"Tập vở\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 154,\n  },\n  {\n    id: 13,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 1223,\n    import_price: 354,\n  },\n];\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseOrderApi = {\n  addInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/addInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseOrder: (storeUuid, purchaseOrderUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/${purchaseOrderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/`;\n    return axiosClient.get(url, { params: query });\n  },\n  editPurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.put(url, body)\n  },\n  deletePurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.delete(url)\n  },\n  updateDetail: (storeUuid, branchUuid, detail) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-order-details/${detail.id}`;\n    return axiosClient.put(url, detail);\n  }\n};\nexport default purchaseOrderApi;\n","export default __webpack_public_path__ + \"static/media/tch.cc1a031b.jpeg\";","import axiosClient from './axiosClient';\n\nconst refundApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/refunds/`;\n    return axiosClient.get(url, {});\n  },\n  getRefund: (storeUuid, refundUuid) => {\n    const url = `stores/${storeUuid}/refunds/${refundUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchRefund: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default refundApi;\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseReturnApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseReturn: (storeUuid, purchaseReturnUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns/${purchaseReturnUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseReturn: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default purchaseReturnApi;\n","import React from 'react'\n\nconst CategorySelect = (props) => {\n    const {categoryList} =  props \n    return (\n        categoryList.map((category) => <MyOption category={category} currentLevel={0} />)\n\n    )\n}\n\nexport default CategorySelect\n\nconst MyOption = (props) => {\n    const { category, currentLevel } = props\n    let padding = \"\"\n    for (let i = 0; i < currentLevel; i++) {\n        padding += \"\\u00a0\\u00a0\\u00a0\\u00a0\"\n    }\n    try {\n        return (\n            [\n                <option key={category.key} value={category.uuid} >\n                    {padding + category.name}\n                </option>,\n                ...category.children?.map((subCategory) => <MyOption category={subCategory} currentLevel={currentLevel + 1} />)\n            ]\n        )\n    } catch (error) {\n        console.log(category)\n        return []\n    }\n}","import React from 'react'\nimport {Table,TableContainer,Box,Grid,FormControlLabel,Switch,Paper, TablePagination,Typography} from '@material-ui/core';\nimport { Pagination } from 'antd';\n\nconst Paginations = ({ pagingState, setPagingState, list}) => {\n\n  React.useEffect(()=>{\n    window.scrollTo(0, 0);\n  },[list])\n\n\n\n  return (\n    <TablePagination\n        // style={{marginTop:-25,marginBottom:60, marginLeft:-5}}\n        rowsPerPageOptions={[10, 25, 100]}\n        rowsPerPage={10}\n        labelRowsPerPage={\"Dòng\"}\n        component=\"div\"\n        count={pagingState?.total_rows}\n        rowsPerPage={pagingState?.limit}\n        page={pagingState?.page}\n        onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n        onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n    />\n    // <Box style={{width:500}}>\n    // <Pagination\n\n    //       style={{minWidth:500}}\n    //         size=\"small\"\n    //         total={pagingState?.total_rows}\n    //         current={pagingState?.page +1}\n    //         onChange={(newCurrent, newPageSize) => {\n    //             const pageSizeChange = pagingState?.limit !== newPageSize;\n    //             if (!pageSizeChange) {\n    //                 setPagingState({ ...pagingState, page: newCurrent -1 })\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n    //             } else {\n    //                 setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n\n    //             }\n    //           }}\n    //           showSizeChanger={true}\n    //         />\n  // </Box>\n  )\n}\n\nexport default Paginations","import React from 'react'\nimport MuiAlert from '@material-ui/lab/Alert';\nimport {Snackbar} from '@material-ui/core';\n\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\nconst SnackBarGeneral = (props) => {\n    const {open,status, handleClose} =props;\n    return (\n        <Snackbar\n        anchorOrigin={{ vertical: 'top',horizontal:  'right' }}\n        open={open}\n        onClose={handleClose}\n        autoHideDuration={2000} \n      >\n        <Alert severity={status.style} onClose={handleClose}>\n            {status.message}\n        </Alert> \n      </Snackbar>\n    )\n}\n\nexport default SnackBarGeneral\n","import { Box, Button, Grid, Typography } from \"@material-ui/core\";\nimport { useFormik } from \"formik\";\nimport React, { useState } from \"react\";\nimport VNDInput, { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport ModalWrapper from \"./ModalWrapper\";\nimport * as Yup from \"yup\";\nimport purchaseOrderApi from \"../../api/purchaseOrderApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\nconst PayRemaining = (props) => {\n  const { open, editApiCall, reloadDetail } = props;\n  const handleClose = () => {\n    props.handleClose();\n    formik.resetForm();\n  };\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: { pay: props.debt },\n    validationSchema: Yup.object({\n      pay: Yup.number()\n        .required(\"Vui lòng nhập số tiền\")\n        .lessThan(props.debt + 1, \"Tiền trả phải ít hơn nợ\")\n        .moreThan(0, \"Tiền trả phải lớn hơn 0\"),\n    }),\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  const handleSubmit = async () => {\n    handleClose();\n    try {\n      const response = await editApiCall(store_uuid, branch_uuid, props.uuid, {\n        paid_amount: Number(formik.values.pay) + props.paid,\n        status: formik.values.pay === props.debt ? \"closed\" : \"debt\",\n      });\n      dispatch(statusAction.successfulStatus(\"Trả thêm tiền thành công\"));\n      props.onReload();\n\n      reloadDetail();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Trả thêm tiền thất bại\"));\n    }\n  };\n  return (\n    <ModalWrapper open={open} handleClose={handleClose} title=\"Trả thêm\">\n      {props.title}\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 400, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Đã trả</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.paid} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn nợ</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.debt} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Trả lần này</Typography>\n        </Grid>\n        <Grid item xs={9}>\n          <VNDInput\n            name=\"pay\"\n            size=\"small\"\n            label=\"Số tiền muốn trả\"\n            value={formik.values.pay}\n            error={formik.errors.pay && formik.touched.pay}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            helperText={formik.touched.pay ? formik.errors.pay : null}\n          />\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn lại</Typography>\n        </Grid>\n        <Grid item xs={4}>\n          <Typography variant=\"h5\">\n            {\" \"}\n            <VNDFormat value={props.debt - formik.values.pay} />\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleClose}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n              onClick={handleSubmit}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default PayRemaining;\n","export default __webpack_public_path__ + \"static/media/empty-cart.f70a0162.png\";","import React from 'react'\nimport {\n\n    DialogContent,\n    DialogTitle,\n    Typography,\n\n    Dialog,\n  } from \"@material-ui/core\";\nconst DialogWrapper = (props) => {\n\n    const {handleClose, title,open} = props\n  return (\n    <Dialog  open={open} onClose={handleClose} maxWidth={'md'} >\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography style={{paddingTop: '24px', marginTop:-15, marginBottom:-10, }}  variant=\"h2\">\n         {title}\n        </Typography>\n\n      </DialogTitle>\n\n      <DialogContent>\n          {props.children}\n      </DialogContent>\n    \n    </Dialog>\n  )\n}\n\nexport default DialogWrapper","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n  ListItem\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport setting from \"../../../../assets/constant/setting\"\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nfunction InvoiceReturnSummary({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  console.log(\"dataaaaa\",data)\n\n  useEffect(() => {}, [data]);\n\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 10 }}>\n              Trả hoá đơn\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.customer.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\">\n            {/* Số lượng sản phẩm trả */}\n            Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})\n          </Typography>\n          <Typography variant=\"body2\">\n          <Input.ThousandFormat value={calculateTotalReturnQuantity(data.details)} />\n          </Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"> <Input.VNDFormat value={data.order_total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        {store_setting?.customerScore.status && data.customer.name !== \"Khách lẻ\"? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tích điểm</Typography>\n              <Typography variant=\"body2\">\n                <ListItem style={{padding:0, margin:0}}>\n                <Input.ThousandFormat\n                  // style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={-data.scores}\n                />\n               {data.customer?.points? <Typography>/{data.customer.points}</Typography> : null} \n               </ListItem>\n              </Typography>\n            </Grid>:null}\n\n\n        {/*\n                <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Phí trả hàng\n                    </Typography>\n                    <Input.ThousandSeperatedInput id=\"standard-basic\" style={{width:90 }} size=\"small\" inputProps={{style: { textAlign: \"right\" }}}  />\n                </Grid> */}\n\n        {/* <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Tổng đơn trả\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        400.000\n                    </Typography>\n                </Grid> */}\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Đã trả khách</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        \n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng\n        </Button>\n      </Grid>\n    </Box>\n  );\n}\n\nexport default InvoiceReturnSummary;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3aAAAN2gFLGPbrAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAEJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhihLswAAABV0Uk5TAAUGCxEWGxwgISg8SF5weZCbtrjYjtqLCgAAA55JREFUeNrt1FFPglAYgGFBHAL9/9/ZWrOMhG7CtnP26WFqF/U8V+3jg8Ps1c0GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4rKrPRoflUpdOfix3zW/Xj6j333+cjvFrdOlkHMPlbZvulExyu106+fgMl9ttOjme7rzTVeml92nF++R39fHkrBnCANohDmBYEcB+WZ7iANrsNcbncLnr0p2SSW7IAmhewuWnOgv79c47QxX+L0reJ79ruDA5n/5PfukICEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAB4qCa+NM3xteXSVHDEXLCcnzUXPHBeM7nwnJJDp+r68o07U33T++R3zQXPqfpsdPC1+LN6HwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPy6L03NV0bW8W9jAAAAAElFTkSuQmCC\"","import {\n  Button,\n  FormControl,\n  Grid,\n  InputLabel,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\"\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport { TreeSelect } from 'antd';\n\n\nconst AddCategory = (props) => {\n  const [categoryList, setCategoryList] = useState([]);\n  const [categoryInfo, setCategoryInfo] = useState({\n    name: \"\",\n    parent_category_uuid: \"\",\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  useEffect(() => {\n    const fetchAllCategory = async () => {\n      try {\n        const response = await productApi.getAllCategory(store_uuid);\n        const response_1 = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response_1.data);\n      } catch (error) { }\n    };\n    fetchAllCategory();\n  }, [props.reset]);\n\n\n\n  const dispatch = useDispatch();\n  const handleAddCategory = async () => {\n    handleCloseAndReset()\n    try {\n      const response = await productApi.addCategory(store_uuid, categoryInfo);\n      props.onReset()\n      dispatch(statusAction.successfulStatus(\"Tạo danh mục thành công\"));\n\n\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo danh mục thất bại\"));\n    }\n  };\n  const handleCloseAndReset = () => {\n    props.handleClose()\n    setCategoryInfo({\n      name: \"\",\n      parent_category_uuid: \"\",\n    })\n  }\n  console.log(\"categoryInfo\",categoryInfo)\n  return (\n    <ModalWrapper {...props}>\n      <Typography variant=\"h4\" gutterBottom>\n        Thêm danh mục mới\n      </Typography>\n      <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Tên danh mục\"\n            variant=\"outlined\"\n            size=\"small\"\n            required\n            fullWidth\n            onChange={(e) =>\n              setCategoryInfo({ ...categoryInfo, name: e.target.value })\n            }\n          />\n        </Grid>\n        <Grid item xs={12}>\n          {/* <FormControl size=\"small\" variant=\"outlined\" fullWidth>\n            <InputLabel htmlFor=\"category\">Danh mục cha</InputLabel>\n            <Select\n              native\n              label=\"Danh mục cha\"\n              id=\"category\"\n              value={categoryInfo.uuid}\n              onChange={(e) =>\n                setCategoryInfo({\n                  ...categoryInfo,\n                  parent_category_uuid: e.target.value,\n                })\n              }\n            >\n              <option aria-label=\"None\" value=\"\" />\n              <CategorySelect categoryList={categoryList}/>\n              \n            </Select>\n          </FormControl> */}\n            <TreeSelect\n            placeholder=\"Danh mục cha\"\n                  id=\"category\"\n                  name=\"category\"  \n                  style={{ width: '100%'}}   \n                  dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                  treeData={categoryList}\n                  value={categoryInfo.uuid}\n                  onChange={(val)=>\n                    setCategoryInfo({\n                    ...categoryInfo,\n                    parent_category_uuid: val,\n                  })}\n                  treeDefaultExpandAll\n                  \n                />\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          {\" \"}\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            style={{ marginRight: 20 }}\n            onClick={props.handleClose}\n            size=\"small\"\n          >\n            Hủy\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"small\"\n            onClick={handleAddCategory}\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default AddCategory;\n\n","import React, {useState,useEffect} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\"\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {getAllProductInCategoryParent} from \"../../../../utils\"\nimport { ThousandSeperatedInput } from '../../../../components/TextField/NumberFormatCustom';\nimport productApi from \"../../../../api/productApi\";\nimport {useSelector,useDispatch} from 'react-redux'\n\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst DiscountPopup = ({open,onClose,title,filteredPromotion,handleUpdateSelectedPromotion,selectedPromotion,listGiftItem,totalCartAmount,handleUpdateBestDetailSelectedPromotion,products}) => {\n    console.log(\"selectedPromotion\",filteredPromotion)\n    const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [value, setValue] = React.useState(selectedPromotion?selectedPromotion.id.toString():null);\n  console.log(\"value\",value)\n  console.log(\"selectedPromotionselectedPromotion\",selectedPromotion)\n  const [promotion, setPromotion] =  React.useState(selectedPromotion? selectedPromotion:null);\n//   const [check, setCheck] =  React.useState(selectedPromotion?selectedPromotion.listGiftItem:[]);\n\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:selectedPromotion.listGiftItem}:{idPro:null, detail:[]});\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:listGiftItem?listGiftItem:[]}:{idPro:null, detail:[]});\nconst [check, setCheck] =  React.useState({idPro:null, detail:[]});\n\n// selectedPromotion.listGiftItem\n  function getColorSelected (selectedData,itemUuid  ){\n    if(!selectedData){return}\n    return selectedData.some(function(e) {return e.uuid.includes(itemUuid); }) ?  theme.customization.primaryColor[50]:null \n  }\n  const handleChange = (promotion) => {\n\n    if(Number(promotion.id) === Number(value)){\n        setValue(null);\n        setPromotion(null)\n    }else{\n        setValue(promotion.id.toString());\n        setPromotion(promotion)\n    }\n  };\n\n  console.log(\"check\",check)\n  const getBestDetailSelectedCondition = (promotion) =>{\n    if(promotion){\n        let bestDetailSelectedCondition = promotion?.detailCondition?.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n        bestDetailSelectedCondition =bestDetailSelectedCondition? bestDetailSelectedCondition.filter(item => item !== null)[0]:null\n        return bestDetailSelectedCondition\n    }\n  }\n  const [categoryList,setCategoryList] = useState(null)\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        console.log(\"response.data\",response.data)\n\n        // productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, []);\n\n  const getListItem = (bestDetailSelectedCondition) => {\n    if(!bestDetailSelectedCondition.isGiftCategory){\n        return bestDetailSelectedCondition.listGiftItem\n    }else{\n        // products,categories,categoryId\n        console.log(\"bestDetailSelectedCondition.listGiftCategory\",bestDetailSelectedCondition.listGiftCategory)\n        return getAllProductInCategoryParent(products,categoryList,bestDetailSelectedCondition.listGiftCategory[0])\n    }\n  \n  }\n  const handleCheck = (value, idPro) =>{\n    return setCheck({idPro:idPro, detail:value.map((item)=> {return {...item, quantity:1}})})\n  }\n\n  const handleChangeGiftQuantity = (idPro,product, newQuantity) => {\n    const itemIndex = check.detail.findIndex(\n        (item) => item.uuid === product.uuid\n      );\n      const newCheck = {...check};\n      newCheck.detail[itemIndex].quantity = newQuantity;\n      console.log(\"newCheck\",newCheck)\n      setCheck(newCheck)\n  }\n    return (\n        // <Dialog open={open} handleClose={onClose} title={title}>\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"md\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            {title}\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n                <Grid  container direction=\"row\" justifyContent=\"\" style={{marginBottom:8}}>\n                    <Grid item style={{width:10,marginRight:30}} >                      \n                    </Grid>\n                    <Grid item style={{width:250,marginRight:30}} >\n                        <Typography className={clsx(classes.text,classes.weight)} >Chương trình khuyến mãi</Typography>\n                    </Grid>\n                    <Grid item style={{width:250, marginRight:30}}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Hình thức khuyến mãi</Typography>\n                    </Grid>\n                </Grid>\n                <Divider style={{marginBottom:8}} />\n                {/* // */}\n                <FormControl component=\"fieldset\">\n                    <RadioGroup value={value} >\n                        {filteredPromotion?.map((pro) => {\n                            let bestCondition = pro.detailCondition.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n                            bestCondition =bestCondition.filter(item => item !== null)[0]\n                            let bestDetailSelectedCondition = getBestDetailSelectedCondition(pro)\n                            return (\n                                <Grid  key={pro.id} container direction=\"row\" justifyContent=\"\">\n                                        <Grid item style={{width:10,marginRight:30}} >\n                                            <FormControlLabel value={pro.id.toString()} control={<Radio  size=\"small\" onClick={()=>handleChange(pro)}/>}  />\n                                            {/* <FormControlLabel value={promotion} control={<Radio  size=\"small\" onClick={()=>handleChange(promotion)}/>}  /> */}\n\n                                        </Grid>\n                                        <Grid item style={{width:250,marginRight:30,marginTop:10, color:\"#383737\"}} >\n                                            <Typography >{pro.name}</Typography>\n                                        </Grid>\n                                        <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                            <Typography  >{pro.discountKey ===\"invoice\" ? \"Hoá đơn\" : \"Sản phẩm\"} - {getDiscountType(pro.discountKey,pro.discountType)}</Typography>\n                                            <Typography  style={{fontSize:12}}>{pro.discountType ===\"sendGift\" ? `(${bestDetailSelectedCondition.numberGiftItem} sản phẩm)`:null }</Typography>\n                                        </Grid>\n                                        {pro.discountType ===\"discountInvoice\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                <Typography  >Giảm giá <b style={{color:'#00b3ff', fontWeight:600}}>{bestDetailSelectedCondition.discountValue.toLocaleString()} {bestDetailSelectedCondition.type}</b> {\"\\u00a0\\u00a0\"}(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ) </Typography>\n                                            </Grid>\n                                        :null }\n                                         {pro.discountType ===\"sendGift\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                {Number(bestDetailSelectedCondition.numberGiftItem) === 1 &&  !bestDetailSelectedCondition.isGiftCategory && bestDetailSelectedCondition.listGiftItem.length === 1 ? \n                                                    <Typography><b > Tặng sản phẩm </b> <b style={{color:'#00b3ff', fontWeight:500}}>{bestDetailSelectedCondition.listGiftItem[0].product_code}-{bestDetailSelectedCondition.listGiftItem[0].name}</b></Typography>\n                                                    :\n                                                    <>\n                                                    <Typography style={{marginBottom:5}}><b > Tặng sản phẩm </b> </Typography>\n                                                    <Select multiple  variant=\"outlined\" fullWidth   id=\"branches\"  name=\"branches\" size=\"small\"\n                                                        onChange={(e)=>handleCheck(e.target.value,pro.id)}\n                                                        value={check.detail}\n                                                                renderValue={(selected) => \n                                                                    selected?.map((item) => {\n                                                                        return getListItem(bestDetailSelectedCondition).find( (product) => product.uuid === item.uuid)?.name;\n                                                                    }).join(\", \")\n                                                                }\n                                                                placeholder=\"Sản phẩm\"\n                                                                style={{width:200, marginLeft:20, height:50}}\n                                                            >\n                                                            {getListItem(bestDetailSelectedCondition)?.map((item) => (\n                                                                <MenuItem key={item.uuid} value={item} \n                                                                style={{backgroundColor:getColorSelected(check.detail, item.uuid) }} \n                                                                > \n                                                                <Grid container justifyContent='space-between'>\n                                                                    {item.name}\n                                                                    {getColorSelected(check.detail, item.uuid)? <CheckIcon color='primary'/> :null}\n                                                                </Grid >\n                                                                </MenuItem>\n                                                            ))}\n                                                    </Select>\n                                                    { check.idPro === pro.id ?\n                                                     check.detail.map((item)=>{\n                                                        return (\n                                                            <ListItem>\n                                                                <Typography>{item.product_code} - {item.name}</Typography>\n                                                                <ThousandSeperatedInput value={item.quantity} onChange={(e)=>handleChangeGiftQuantity(pro.id,item,e.target.value)}/>\n                                                            </ListItem>\n                                                        )\n                                                    }) :null }\n                                      \n                                                    \n                                                    </>\n                                                }\n\n                                                <Typography  >(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ )</Typography>\n\n                                               \n                                            </Grid>\n                                        :null }\n                                    </Grid>      \n                            )})}\n                    <Divider />\n                </RadioGroup>\n            </FormControl> \n                \n            </DialogContent>\n            <DialogActions>\n        <Button\n          onClick={onClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          onClick={()=>{handleUpdateBestDetailSelectedPromotion(getBestDetailSelectedCondition(promotion));handleUpdateSelectedPromotion(promotion, check);onClose()}}\n        >\n          Áp dụng\n        </Button>\n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default DiscountPopup\n\nfunction getDiscountType (discountKey, discountType){\n\n    if(discountKey === \"invoice\"){\n        if(discountType ===\"sendGift\"){return \"Tặng hàng\"}\n        else if (discountType ===\"sendVoucher\"){ return \"Tặng voucher\"}\n        else{ return \"Giảm giá hoá đơn\"}\n    }else{\n        if(discountType ===\"sendGift\"){return \"Mua hàng tặng hàng\"}\n        else{return \"Giá bán theo số lượng mua\"}\n    }\n}","export default __webpack_public_path__ + \"static/media/giftbox.a742d657.png\";","import {\n  Box,\n  Button,\n  Grid,\n  TextField,\n  Typography,\n  Select,\n  MenuItem,\n  Chip,\n  InputLabel,\n  FormControl,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport VNDInput, {\n  VNDFormat,\n} from \"../../../../../components/TextField/NumberFormatCustom\";\nimport ModalWrapper from \"../../../../../components/Modal/ModalWrapper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport orderApi from \"../../../../../api/orderApi\";\nimport openNotification from \"../../../../../components/StatusPopup/StatusPopup\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst OrderModal = ({ handleClose, customerOrder, isOpen }) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branch = info.branch;\n  const dispatch = useDispatch();\n\n  const [inventoryInfo, setInventoryInfo] = useState([]);\n\n  const [order, setOrder] = useState({});\n\n  useEffect(async () => {\n    try {\n      if (store_uuid && branch_uuid) {\n        const res = await orderApi.processCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          customerOrder.id\n        );\n\n        const inventoryInfo = res.data;\n        const details = JSON.parse(\n          customerOrder.details ? customerOrder.details : \"[]\"\n        )?.map((detail) => ({\n          orderredQuantity: detail.quantity,\n          branchInventory: getBranchInventory(detail.id, inventoryInfo),\n          batches: getBatches(detail.id, inventoryInfo),\n          selectedBatches: [],\n          name: detail.name,\n          product_code: detail.product_code,\n          unit_price: detail.list_price,\n          id: detail.id,\n          uuid: detail.uuid,\n          discount: 0,\n          has_batches: detail.has_batches,\n          quantity: detail.has_batches\n            ? 0\n            : Math.min(\n                detail.quantity,\n                getBranchInventory(detail.id, inventoryInfo)\n              ),\n        }));\n\n        const newOrder = {\n          new_customer: {\n            name: customerOrder.name,\n            phone: customerOrder.phone,\n            address: customerOrder.address,\n            ward: customerOrder.ward,\n            province: customerOrder.province,\n            district: customerOrder.district,\n          },\n          details: details,\n          discount: 0,\n          description: \"\",\n          total_amount: _.sumBy(\n            details,\n            (detail) => detail.quantity * detail.unit_price\n          ),\n          status: \"debt\",\n        };\n\n        setOrder(newOrder);\n      }\n    } catch (err) {\n      console.log(err);\n      openNotification(\"error\", \"Không thể lấy dữ liệu tồn kho\");\n    }\n  }, []);\n\n  const handleConfirm = async () => {\n    let d = moment.now() / 1000;\n    let orderTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n    let body = {\n      ...order,\n      discount: order.discount.toString(),\n      paid_amount: 0,\n      payment_method: \"cash\",\n      creation_date: orderTime,\n      paid_date: \"\",\n      tax: \"0\",\n      shipping: \"0\",\n      is_customer_order: true,\n      new_customer: JSON.stringify(order.new_customer),\n    };\n\n    try {\n      \n      handleClose();\n      let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n      let updateCustomerOrderRes = await orderApi.confirmCustomerOrder(\n        store_uuid,\n        branch.uuid,\n        customerOrder.id,\n        {\n          order_code: res.data.order.order_code,\n          order_id: res.data.order.id,\n        }\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Tạo hóa đơn thành công ${res.data.order.order_code}`\n        )\n      );\n    } catch (err) {\n      dispatch(statusAction.failedStatus(`Tạo hóa đơn thất bại`));\n      console.log(err);\n    }\n  };\n  const getBranchInventory = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    const branchInventory = product?.branch_inventories.find(\n      (branchInventory) => branchInventory.branch_id === branch.id\n    );\n    return branchInventory?.quantity_available;\n  };\n\n  const getBatches = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    return product?.batches;\n  };\n\n  const handleSelectBatch = (e, detailIndex) => {\n    const batch = e.target.value;\n    if (\n      order.details[detailIndex].selectedBatches.find(\n        (selectedBatch) => selectedBatch.batch_code === batch.batch_code\n      )\n    ) {\n      return;\n    }\n    const newSelectedBatches = [...order.details[detailIndex].selectedBatches];\n    newSelectedBatches.push({ ...batch, additional_quantity: 0 });\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches = newSelectedBatches;\n    setOrder(newOrder);\n  };\n\n  const handleChangeBatchQuantity = (e, detailIndex, selectedBatchIndex) => {\n    const value = Number(e.target.value);\n    if (\n      value >\n        order.details[detailIndex].selectedBatches[selectedBatchIndex]\n          .quantity ||\n      value < 0\n    ) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches[\n      selectedBatchIndex\n    ].additional_quantity = value;\n    newOrder.details[detailIndex].quantity = _.sumBy(\n      newOrder.details[detailIndex].selectedBatches,\n      \"additional_quantity\"\n    );\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const handleChangeDetailQuantity = (e, detailIndex) => {\n    const value = Number(e.target.value);\n    if (value > order.details[detailIndex].branchInventory || value < 0) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].quantity = value;\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const renderQuantityInput = (detail, detailIndex) => {\n    if (detail?.has_batches) {\n      return (\n        <>\n          <Typography>Tổng: {detail.quantity}</Typography>\n          <FormControl variant=\"standard\">\n            <InputLabel id=\"batch-label\">Lô</InputLabel>\n            <Select\n              labelId=\"batch-label\"\n              autoWidth\n              labelWidth={100}\n              fullWidth\n              onChange={(e) => handleSelectBatch(e, detailIndex)}\n            >\n              {detail.batches.map((batch) => (\n                <MenuItem value={batch} key={batch.code}>{`${\n                  batch.batch_code\n                }(${batch.expiry_date ? batch.expiry_date : \"\"})-${\n                  batch.quantity\n                }`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {detail.selectedBatches.map((batch, selectedBatchIndex) => (\n            <div\n              style={{\n                marginTop: 5,\n                marginBottom: 5,\n                display: \"flex\",\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                gap: 5,\n                backgroundColor: \"#eee\",\n              }}\n            >\n              <Typography>{`${batch.batch_code}${\n                batch.expiry_date ? \"(\" + batch.expiry_date + \")\" : \"\"\n              }`}</Typography>\n              <TextField\n                type=\"number\"\n                size=\"small\"\n                style={{ width: 30 }}\n                value={batch.additional_quantity}\n                onChange={(e) =>\n                  handleChangeBatchQuantity(e, detailIndex, selectedBatchIndex)\n                }\n              />\n              <Typography>{`/${batch.quantity}`}</Typography>\n            </div>\n          ))}\n        </>\n      );\n    } else {\n      return (\n        <TextField\n          type=\"number\"\n          size=\"small\"\n          style={{ width: 30 }}\n          value={Math.min(detail.quantity, detail.branchInventory)}\n          onChange={(e) => handleChangeDetailQuantity(e, detailIndex)}\n        />\n      );\n    }\n  };\n\n  const isOrderEmpty = () => {\n    return order.details?.every((detail) => detail.quantity === 0);\n  };\n\n  const handleCancelOrder = async () => {\n    handleClose();\n    try {\n      const res = await orderApi.cancleCustomerOrder(store_uuid, branch_uuid, customerOrder.id);\n      dispatch(statusAction.successfulStatus(\"Hủy đơn đặt thành công\"));\n    } catch (err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Hủy đơn đặt thất bại\"))\n    }\n  }\n\n  return (\n    <ModalWrapperWithClose open={isOpen} handleClose={handleClose} title=\"Đơn đặt\">\n      <Typography variant=\"h3\">{customerOrder.customer_order_code}</Typography>\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 800, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={12} container spacing={2}>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Typography>Tên khách: {customerOrder.name}</Typography>\n              <Typography>Số điện thoại: {customerOrder.phone}</Typography>\n              <Typography>Địa chỉ: {customerOrder.address}</Typography>\n            </Box>\n          </Grid>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tạm tính</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Giảm giá</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                  onChange={(e) =>\n                    setOrder({ ...order, discount: Number(e.target.value) })\n                  }\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tổng hóa đơn</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount - order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n        <TableContainer component={Paper}>\n          <Table aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell align=\"right\">Sản phẩm</TableCell>\n                <TableCell align=\"right\">SL đặt</TableCell>\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">SL bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                <TableCell align=\"right\">Trạng thái</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {order.details?.map((detail, detailIndex) => (\n                <TableRow key={detail.product_code}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell align=\"right\">{detail.name}</TableCell>\n                  <TableCell align=\"right\">{detail.orderredQuantity}</TableCell>\n                  <TableCell align=\"right\">{detail.branchInventory}</TableCell>\n                  <TableCell align=\"right\">{detail.unit_price}</TableCell>\n                  <TableCell align=\"right\">\n                    {renderQuantityInput(detail, detailIndex)}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <VNDFormat value={detail.quantity * detail.unit_price} />{\" \"}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {detail.quantity < detail.orderredQuantity ? (\n                      <Typography style={{ color: \"red\" }}>Không đủ</Typography>\n                    ) : (\n                      <Typography style={{ color: \"green\" }}>Đủ</Typography>\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleCancelOrder}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              onClick={handleConfirm}\n              disabled={isOrderEmpty()}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapperWithClose>\n  );\n};\n\nexport default OrderModal;\n","import React, {useState, useEffect} from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport { VNDFormat,ThousandFormat } from '../../../../../components/TextField/NumberFormatCustom';\n\nimport { grey} from '@material-ui/core/colors'\nimport OrderModal from './OrderModal';\nimport orderApi from '../../../../../api/orderApi';\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport moment from 'moment';\nimport { useDispatch, useSelector } from 'react-redux';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nconst getOrderStatus = (status) =>{\n  if(status === \"new\") {return \"Chờ chấp nhận\"}\n  if(status===\"cancelled\") {return \"Đã hủy\"}\n  if(status===\"confirmed\") {return \"Chờ giao\"}\n  if(status===\"paid\") {return \"Hoàn thành\"}\n}\nconst OrderProductListDetail = (props) => {\n    const {row,openRow, reload }= props.parentProps;\n    const {isMini}= props.parentProps;\n\n    const [isOrderModalOpen, setIsOrderModalOpen] = useState(false);\n\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branch = info.branch;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n\n    const handleCloseReturn = () => {\n      setOpen(false);\n    };\n\n    const dispatch = useDispatch();\n\n    const handlePayment = async () => {\n      let d = moment.now() / 1000;\n      let paid_date = moment\n        .unix(d)\n        .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n      try {\n        const res = await orderApi.paymentCustomerOrder(store_uuid, branch_uuid, row.id , {paid_date: paid_date})\n        reload();\n        dispatch(statusAction.successfulStatus('Thanh toán thành công'))\n      }catch(err) {\n        console.log(err);\n        dispatch(statusAction.failedStatus('Thanh toán thất bại'))\n      }\n    }\n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse in={openRow === row.id} timeout=\"auto\" unmountOnExit>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn đặt\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.customer_order_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày đặt{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tên khách\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.name}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Số điện thoại\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.phone}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                 { getOrderStatus(row.status)}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Địa chỉ{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.address}{`, `}{row.ward} {`, `}{row.district}{`, `}{row.city}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={6} sm={6} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>    \n                        </Grid>\n                        <Grid item  sm={4} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.branch} </Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                <TableCell align=\"right\">Số lượng</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                {/* <TableCell align=\"right\">Đã nhập</TableCell>\n                     <TableCell align=\"right\">Trạng thái</TableCell> */}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {JSON.parse(row.details ? row.details : \"[]\").map(\n                (historyRow) => (\n                  <TableRow key={historyRow.product_id}>\n                    <TableCell component=\"th\" scope=\"row\">\n                      {historyRow.product_code}\n                    </TableCell>\n                    <TableCell>{historyRow.name}</TableCell>\n                    <TableCell align=\"right\">\n                      <ThousandFormat value={historyRow.quantity} />\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <VNDFormat value={historyRow.list_price} />\n                    </TableCell>\n                    <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                      <VNDFormat\n                        value={historyRow.quantity * historyRow.list_price}\n                      />\n                    </TableCell>\n                    {/* <TableCell align=\"right\"><ThousandFormat value={0} /></TableCell>\n                       <TableCell align=\"right\">Đã nhập đủ</TableCell> */}\n                  </TableRow>\n                )\n              )}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={JSON.parse(row.details).} /> </Typography>\n                        </Grid>\n                    </Grid> */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng số mặt hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={\n                        JSON.parse(row.details ? row.details : \"[]\").length\n                      }\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Giảm giá\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Cần thu\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount - row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số mặt hàng đã nhập đủ</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">2/4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n              {/* \n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả NCC</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Box>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n            {currentUser === row.employee ? (\n              <>\n                {\" \"}\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Xoá\n                </Button>{\" \"}\n              </>\n            ) : null}\n\n            <Button disabled={row.status !== 'new'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => setIsOrderModalOpen(true)}>\n              Xử lý đơn đặt\n            </Button>\n            \n            <Button disabled={row.status !== 'confirmed'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={handlePayment}>\n              Thanh toán\n            </Button>\n\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn đặt\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid>\n\n          {isOrderModalOpen && <OrderModal customerOrder={row} handleClose={() => {setIsOrderModalOpen(false); reload()}} isOpen={isOrderModalOpen}/>}\n\n          <Dialog\n            fullWidth={true}\n            maxWidth=\"lg\"\n            open={open}\n            onClose={handleCloseReturn}\n            aria-labelledby=\"form-dialog-title\"\n          >\n            <InventoryReturnPopUp\n              handleCloseReturn={handleCloseReturn}\n              row={row}\n              classes={classes}\n            />\n          </Dialog>\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default OrderProductListDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\n\n//import library\nimport {Box,Grid,Collapse,Divider,ListItem,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\nimport clsx from \"clsx\"\nimport { ThousandFormat, VNDFormat } from '../../../../../../components/TextField/NumberFormatCustom';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  weight: {\n    fontWeight: 500,\n    color: \"#000\",\n    fontSize: 14,\n  },\n  tag:{\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 24,\n    margin: 2,\n    lineHeight: 22,\n    backgroundColor: \"#fafafa\",\n    border: \"1px solid #e8e8e8\",\n    borderRadius: 2,\n    boxSizing: \"contentBox\",\n    padding: \"0 4px 0 10px\",\n    outline: 0,\n    \n  },\n  span:{\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst DiscountDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n    const {promotion_condition,dateAdvanceSetting,type,isMini} = props;\n\n    const rowsInvoice  = props.promotion_condition;\n    console.log(\"rowsInvoice\",props.promotion_condition)\n    // const rowsInvoice = props.promotion_condition;\n\n    \n    // const discountKey= promotion_condition?.discountKey;// invoice, product\n    // const discountType = promotion_condition?.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n    const discountKey= row.discountKey;// invoice, product\n    const discountType = row.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n\n    // CALL APII (đổi thanhd api)\n\n\n\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const isActive =  (startDay, endDay) =>{\n      const current   = new Date() \n      // return (startDay !== \"0000-00-00\" ?new Date(startDay) <= current : true) && ( endDay !== \"0000-00-00\" ?current <= new Date(endDay) :true)\n      return (startDay   ?new Date(startDay) <= current : true) && ( endDay  ?current <= new Date(endDay) :true)\n\n    }\n    return (\n        <Collapse in={ isMini ? true :openRow === row.id } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={12} sm={6}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.promotion_code} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={4} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Hình thức</Typography>    \n                          </Grid>\n                          <Grid item  >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{type}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n\n\n                <Grid item xs={12} sm={6}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status ==='active' && isActive(row.start_date,row.end_date)? \"Hoạt động\" : 'Chưa hoạt động' }</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                      \n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.start_date ? `Từ ${row.start_date?.split('-').reverse().join('/')}` : null}  {row.end_date ? `-  Đến ${row.end_date?.split('-').reverse().join('/')}` :\"(Không giới hạn)\"}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    {/* Thay TRUE thành nếu list theo thứ ngày tháng,.. ko empty thì show */}\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo tháng</Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byMonth?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo ngày</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDay?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4}>\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo thứ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDate?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo giờ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byTime?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {row.customer_birth?\n                      <Typography style={{fontWeight:500, color:\"red\"}}> * Áp dụng vào ngày sinh nhật của khách hàng *</Typography> : null\n                    }\n                    \n                  </Grid>\n               \n              </Grid>\n          \n          \n          \n          {/* Header */}\n         <div style={{backgroundColor:theme.customization.primaryColor[50], height:35, marginTop:20,paddingTop:10, paddingLeft:15, marginLeft:10, marginRight:10}}>\n          <Grid  container direction=\"row\" justifyContent=\"\">\n              {/* col 1 */}\n              {discountKey ===\"invoice\"?\n              <Grid item style={{width:150, marginRight:30}}>\n                <Typography className={clsx(classes.text,classes.weight)} >Tổng tiền hàng</Typography>\n              </Grid>:null\n              }\n              {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType==\"priceByQuantity\" ?\n              <>\n              <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL mua</Typography>\n              </Grid>\n              <Grid item style={{ marginRight:190}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng mua</Typography>\n              </Grid>\n               </>:null\n              }\n               { discountType ===\"discountInvoice\"?\n                  <Grid item >\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Giá trị khuyến mãi</Typography>\n                </Grid>:null\n                }\n                {['sendGift','sendVoucher'].includes(discountType) ?\n                  <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL tặng</Typography>\n              </Grid>:null\n                }\n                {discountType ===\"sendGift\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng tặng</Typography>\n                    </Grid> :null\n               }\n               {discountType ===\"sendVoucher\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Voucher</Typography>\n                    </Grid> :null\n               }\n            </Grid>\n          </div>\n\n          {rowsInvoice?.map((discountRow, index) => {\n              return (\n                  <>\n                  <div style={{paddingLeft:15, marginLeft:10, marginRight:10}}>\n                  <Grid container direction=\"row\" justifyContent=\"\">\n                      {/* col 1 */}\n                      {discountKey ===\"invoice\"?\n                      <Grid item  container direction=\"row\" alignItems=\"center\" style={{width:130,marginRight:52, height:40}} >\n                          <Grid item> <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> Từ </Typography> </Grid> \n                          <Grid item> <VNDFormat style={{marginRight:10, color:\"#000\", fontSize:13}} value= {discountRow.totalCost}> </VNDFormat> </Grid> \n                      </Grid>:null\n                      }\n                      {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType ==='priceByQuantity'?\n                      <>\n                      <Grid item style={{width:80,height:40, marginTop:10}} >\n                          <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> {discountRow.numberBuyItem} </Typography> \n                      </Grid>\n                      <Grid item style={{ marginTop:6, width:360,}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listBuyItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name} </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                            \n                        </Grid> \n                      </>\n                      :null }\n                      {\n                        discountType ==='priceByQuantity'? \n                        <>\n                          <Grid item style={{width:70,marginRight:50, height:40, marginTop:10}} >\n                            <Typography style={{color:\"#000\", fontWeight:500,fontSize:14}}> {discountRow.typeDiscountItem === \"price\" ? \"Giá bán:\" : \"Giảm giá\"}   </Typography>\n                          </Grid>\n                        </>\n                        :null\n                      }\n                      {/* col 2 */}\n                      {discountType ===\"discountInvoice\"  || discountType ==='priceByQuantity'?\n                      <Grid item >\n                        <Grid item  container direction=\"row\" alignItems=\"center\" style={{height:40}}>\n                          <Grid item> <ThousandFormat style={{color:\"#000\", fontSize:13, marginRight:5}} value={discountRow.discountValue}>  </ThousandFormat> </Grid> \n                          <Grid item> <Typography style={{color:\"#000\", fontSize:13}}>   {discountRow.type}  </Typography> </Grid> \n                        </Grid>\n                      </Grid>\n                      :null\n                      }\n                    {/* col 3 */}\n                    {['sendGift','sendVoucher'].includes(discountType) ?\n                    <Grid item style={{width:50,marginRight:30, height:4, marginTop:10}} >\n                        <Typography style={{color:\"#000\", fontSize:13}}>{discountRow.numberGiftItem}  </Typography>\n                    </Grid>:null\n                    }\n                    {discountType ===\"sendGift\"?\n                          <Grid item style={{ marginTop:6}} >\n                              <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name}  </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid>  :null\n                    }\n                    {discountType ===\"sendVoucher\"?\n    \n                          <Grid item style={{ marginTop:10}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.name}</span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid> :null\n                    }\n                  \n                      \n                </Grid>\n                </div>\n                \n                <Divider classes={{root: classes.divider}} style={{marginLeft:10, marginRight:10}}/>\n                  </>\n\n\n            );\n          })}\n          \n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default DiscountDetail\n","import React , { useRef}from 'react';\nimport { useTheme, makeStyles, createStyles } from '@material-ui/core/styles';\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {VNDFormat,ThousandFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n// import library\nimport {\n  Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,Chip\n} from '@material-ui/core';\n\n// import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n// import project\nimport { grey } from '@material-ui/core/colors';\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton';\nimport { useSelector } from 'react-redux';\nimport refundApi from '../../../../../api/refundApi';\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) => createStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle: {\n    fontSize: '1.125rem',\n  },\n  typo: {\n    marginBottom: 20,\n  },\n  background: {\n    background: theme.customization.mode === 'Light' ? theme.customization.primaryColor[50] : grey[700],\n  },\n\n}));\n\nfunction InvoiceReturnDetail(props) {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  //  tam thoi\n  const currentUser = 'Minh Tri';\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  const [refund, setRefund] = React.useState({\n    branch: null,\n    details: []\n  })\n\n  React.useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await refundApi.getRefund(store_uuid, row.uuid);\n        setRefund(res.data);\n      } catch (error) {\n        setRefund({\n          branch: null,\n          details: []\n        });\n      }\n    }\n    if (openRow === row.uuid) {\n      loadData();\n\n    }\n  }\n  , [props.parentProps.openRow]);\n\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  console.log(\"refund\",refund)\n\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã đơn trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.refund_code}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã hoá đơn</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{refund.order?.order_code}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Ngày trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.created_at}\n                  {' '} */}\n                  {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Khách hàng</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.customer?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Người thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.created_by_user?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tình trạng</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{`Cần trả ${(row.total_amount - row.paid_amount).toString()}`}</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat value={row.total_amount} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.branch?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phương thức thanh toán</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n\n        </Grid>\n\n        <Typography variant=\"h4\" gutterBottom component=\"div\" style={{ marginTop: 30 }}>\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Ma SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n\n            </TableRow>\n          </TableHead>\n          <TableBody>\n\n            {refund.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                \n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>\n                  {detail.bar_code}\n                </TableCell> */}\n                <TableCell align=\"right\">\n                  <ThousandFormat value={detail.quantity} />\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                <VNDFormat value={detail.unit_price} />\n                </TableCell>\n               \n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box className={classes.background} style={{ padding: 10, borderRadius: theme.customization.borderRadius, marginTop: 10 }}>\n          <Grid container direction=\"column\">\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng SL sản phẩm ({refund.details?.length})</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat \n                  value={calculateTotalQuantity(refund.details)}\n                /></Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                <VNDFormat value={row.total_amount} />\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả hàng</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng đơn trả</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả khách</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.paid_amount}</Typography>\n              </Grid>\n            </Grid> */}\n\n          </Grid>\n        </Box>\n\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"}style={{ marginTop: 20 }}>\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee\n            ? (\n              <>\n                {' '}\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Sửa</Button>\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Xoá</Button>\n                {' '}\n\n              </>\n            )\n            : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n\n        </Grid>\n\n      </Box>\n\n         {/* 3. Receipt */}\n         <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={refund} date={row.created_at} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n}\n\nexport default InvoiceReturnDetail;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ImportReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\nimport {currentDate} from \"../../../../../utils\"\n//import library \nimport {\n  Dialog,\n  Tooltip,\n  Chip,\n  Card,\n  DialogContent,\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InventoryReturnPopUp from \"../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp\";\n\nimport { grey } from \"@material-ui/core/colors\";\n\n// api\nimport purchaseOrderApi from \"../../../../../api/purchaseOrderApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nconst InventoryOrderDetail = (props) => {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n  //  tam thoi\n\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = purchaseOrderApi.deletePurchaseOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa đơn nhập thành công\"));\n      props.parentProps.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa đơn nhập thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [purchaseOrder, setPurchaseOrder] = useState({\n    branch: null,\n    details: [],\n  });\n\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseOrderApi.getPurchaseOrder(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseOrder(res.data);\n      } catch (error) {\n        setPurchaseOrder({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n\n  const updateDetail = async (detail) => {\n    if(store_uuid && branch_uuid) {\n      try {\n        const response = await purchaseOrderApi.updateDetail(store_uuid, branch_uuid, {...detail, posted_to_inventory: 1, date_received: currentDate()});\n        props.parentProps.onReload();\n        setReload(!reload)\n        statusAction.successfulStatus(\"Nhập thành công\");\n      } catch(err) {\n        statusAction.failedStatus(\"Nhập thất bại\")\n      }\n    } \n  }\n\n  useEffect(() => {}, [purchaseOrder]);\n  const debtAmount =\n    Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount);\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return purchaseOrderApi.editPurchaseOrder(\n      store_uuid,\n      branch_uuid,\n      uuid,\n      body\n    );\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        reloadDetail={() => setReload(!reload)}\n        onReload={props.parentProps.onReload}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Trả nợ đơn nhập hàng <i>{row.purchase_order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={ true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date\n                    ?.split(\" \")[0]\n                    .split(\"-\")\n                    .reverse()\n                    .join(\"/\")\n                    .concat(\n                      \"\\u00a0\\u00a0\" +\n                        row.creation_date?.split(\" \")[1].substr(0, 5)\n                    )}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.created_by_user\n                    ? purchaseOrder.created_by_user.name\n                    : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={3}>\n                <Box>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {debtAmount > 0 ? \"Còn nợ \" : \"Trả đủ\"}\n                    {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat\n                    value={row.total_amount - row.discount}\n                  ></VNDFormat>{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.branch ? purchaseOrder.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Đổi trả</TableCell>\n              <TableCell align=\"right\">Giá nhập</TableCell>\n              <TableCell align=\"left\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseOrder.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat\n                    value={Number(detail.quantity) * Number(detail.unit_price)}\n                  />\n                  {!row.is_imported && !detail.posted_to_inventory ? <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{ marginLeft: 15, height: 30 }} onClick={() => updateDetail(detail)}>\n            Nhập\n          </Button>: null}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n\n\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseOrder.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseOrder.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography\n                  variant=\"body1\"\n                  gutterBottom\n                  component=\"div\"\n                  style={{\n                    fontWeight: 500,\n                    color: theme.customization.primaryColor[500],\n                  }}\n                >\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Đã trả NCC\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n          {/* {info.user?.uuid?.includes(purchaseOrder?.created_by_user?.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 15}}\n              // onClick={handleDelete}\n            >\n              Xóa đơn nhập\n          </Button> :null} */}\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n            style={{ marginLeft: 15 }}\n            onClick={handleDelete}\n          >\n            Xóa đơn nhập\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={handleClickOpen}\n            disabled={\n              Number(row.total_amount) -\n                Number(row.discount) -\n                Number(row.paid_amount) >\n              0\n            }\n          >\n            Trả hàng\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In đơn nhập\n          </Button>\n\n          {!row.is_imported ? <Button variant=\"contained\" color=\"secondary\"size=\"small\" style={{ marginLeft: 15 }} onClick={() => handlePrint()}>\n            Nhập hàng\n          </Button> : null}\n{/* \n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n\n        {/* 3. Receipt */}\n        <div style={{ display: \"none\" }}>\n          <div ref={componentRef}>\n            <ImportReceiptPrinter\n              cart={purchaseOrder}\n              date={row.creation_date}\n            />\n          </div>\n        </div>\n\n        {/* Tra hang */}\n\n        <Dialog\n          fullWidth={true}\n          maxWidth=\"lg\"\n          open={open}\n          onClose={handleCloseReturn}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <InventoryReturnPopUp\n            handleCloseReturn={handleCloseReturn}\n            purchaseOrder={purchaseOrder}\n            classes={classes}\n            reload={props.parentProps.onReload}\n            reloadDetail={() => setReload(!reload)}\n          />\n        </Dialog>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryOrderDetail;\n\nconst headCells = [\n  { id: \"stt\", numeric: false, disablePadding: true, label: \"Stt\" },\n  { id: \"id\", numeric: false, disablePadding: true, label: \"#\" },\n  { id: \"name\", numeric: false, disablePadding: true, label: \"Tên\" },\n  { id: \"price\", numeric: true, disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", numeric: true, disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", numeric: true, disablePadding: true, label: \"Thành tiền\" },\n];\n","import React, { useRef,useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n\n//import library\nimport {\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  Chip,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\n\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\nimport purchaseReturnApi from \"../../../../../api/purchaseReturnApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n  })\n);\n\nconst InventoryReturnDetail = (props) => {\n  const { row, openRow ,} = props.parentProps;\n  //  tam thoi\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [purchaseReturn, setPurchaseReturn] = useState({\n    branch: null,\n    details: [],\n  });\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseReturnApi.getPurchaseReturn(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseReturn(res.data);\n      } catch (error) {\n        setPurchaseReturn({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow]);\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  \n\n\n  return (\n    <Collapse in={props.isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã trả hàng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_return_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.purchase_order\n                    ? purchaseReturn.purchase_order.purchase_order_code\n                    : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày trả{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.supplier ? purchaseReturn.supplier.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.created_by_user\n                    ? purchaseReturn.created_by_user.name\n                    : \"\" }\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  Cần thu{\" \"}\n                  <VNDFormat value={row.total_amount - row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả </Typography>\n\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.branch ? purchaseReturn.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item   sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              {/* thêm cột giá trả */}\n              <TableCell>#</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseReturn.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                <TableCell align=\"right\">\n                  {detail.quantity}\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).filter(batch => batch.returned_quantity !== 0).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n              </Grid>\n            </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseReturn.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseReturn.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.total_amount} </Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n\n              <Grid item xs={7} sm={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n\n              </Grid>\n              <Grid item  xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}> \n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  NCC đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={3}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả hàng nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n\n       {/* 3. Receipt */}\n       <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={purchaseReturn} date={row.creation_date} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n};\n\nexport default InventoryReturnDetail;\n","import React, { useEffect } from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Tooltip, Chip, Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport {ThousandFormat, VNDFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\n\n\nimport { grey} from '@material-ui/core/colors'\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\n\nconst CheckHistoryDetail = (props) => {\n    const {row, openRow }= props.parentProps;\n    const {isMini}= props;\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    //calculate\n    const moneyDif = row.details\n    ?.map((detail) => detail.quantity * detail.unit_price)\n    .reduce((total, ele) => total + ele, 0)\n\n \n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse\n        in={isMini ? true : openRow === row.uuid}\n        timeout=\"auto\"\n        unmountOnExit\n      >\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.product_name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn kiểm\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.inventory_check_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày kiểm{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tồn kho\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    SL thực tế\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.details.sum}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    Không cân bằng\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongSLthucte - row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Chi nhánh thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.branch_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Người thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.user_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                {/* <TableCell>Mã vạch</TableCell> */}\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">SL thực tế</TableCell>\n                <TableCell align=\"right\">Lệch</TableCell>\n                <TableCell align=\"right\">Giá trị</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {row.details?.map((detail) => (\n                <TableRow key={detail.product_id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell>{detail.product_name}</TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat value={detail.branch_inventory} />\n\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              label={`${checked_batch.batch_code}-${checked_batch.quantity}`}\n                              size=\"small\"\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat\n                      value={\n                        Number(detail.branch_inventory) +\n                        Number(detail.quantity)\n                      }\n                    />\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              size=\"small\"\n                              label={`${checked_batch.batch_code}-${checked_batch.checked_quantity}`}\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <ThousandFormat value={detail.quantity} />\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <VNDFormat value={detail.quantity * detail.unit_price} />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng SL lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={row.details\n                        ?.map((detail) => detail.quantity)\n                        .reduce((total, ele) => total + ele, 0)}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tiền lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat\n                      style={{\n                        fontWeight: 700,\n                        color: moneyDif > 0 ? \"green\" : \"red\",\n                      }}\n                      value={moneyDif}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                <Grid item xs={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.total}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n          </Box>\n\n          {/* <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn nhập\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid> */}\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default CheckHistoryDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","export default \"data:image/jpeg;base64,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\"","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Box,Grid,Collapse,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst VoucherDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    return (\n        <Collapse in={ openRow === row.uuid } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  \n                <Grid item xs={12} sm={4}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.uuid} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Mệnh giá</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n                          </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số lượng</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n                <Grid item xs={12} sm={4}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">3.000.000</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">500.000</Typography>\n                        </Grid>\n                    </Grid>\n                    \n                  </Grid>\n               \n              </Grid>\n\n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\" } style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                            \n                           \n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default VoucherDetail\n","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n}));\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput , { ThousandSeperatedInput }from \"../../../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"../../../Category/Category\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../../../api/productApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport CategorySelect from \"../../../../../../components/Category/CategorySelect\";\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst UpdateInventory = (props) => {\n  const dispatch = useDispatch();\n  const { handleClose, open,isManageInventory } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  useEffect(()=>{\n    const displayList = JSON.parse(props.productInfo.img_urls ? props.productInfo.img_urls : \"[]\").map((img) => ({link:img,isUrl: true}))\n    setDisplay(displayList)\n  },[props.productInfo.images])\n  const addImageHandler = (e) => {\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n  };\n  const productFormik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      name: props.productInfo.name,\n      barcode: props.productInfo.bar_code ? props.productInfo.bar_code : '',\n      importedPrice: props.productInfo.standard_price || 0,\n      salesPrice: props.productInfo.list_price || 0,\n      category: props.productInfo.category.uuid || \"Mặc định\",\n      unit: props.productInfo.quantity_per_unit || '',\n      re_order_point: props.productInfo.min_reorder_quantity || 0,\n      product_code: props.productInfo.product_code || '',\n      max_order:props.productInfo.max_order || '',\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number().required(\"Nhập giá vốn\").moreThan(-1, \"Giá vốn không được âm\"),\n      salesPrice: Yup.number().required(\"Nhập giá bán\").moreThan(-1, \"Giá bán không được âm\"),\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(-1, \"Số lượng đặt hàng lại không được âm\"),\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n    }),\n  })\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const updateProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\"list_price\", productFormik.values.salesPrice.toString());\n      bodyFormData.append(\"standard_price\",productFormik.values.importedPrice.toString());\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\"product_code\", productFormik.values.product_code.toString());\n      bodyFormData.append(\"quantity_per_unit\", productFormik.values.unit.toString());\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      const img_url = display.reduce((prev,cur) =>{\n        if(cur.isUrl){\n          return prev.concat(cur.link,\",\")\n        }\n        return prev\n      },\"\")\n      bodyFormData.append(\"img_urls\", img_url);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n      const response = await productApi.updateProduct(\n        store_uuid,\n        props.productInfo.uuid,\n        bodyFormData\n      );\n      dispatch(statusAction.successfulStatus(\"Sửa sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error)\n      dispatch(statusAction.failedStatus(\"Sửa thất bại\"));\n    }\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, props.productInfo]);\n  \n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm()\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (!displayImage.isUrl) {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <AddCategory open={openAddCategory} handleClose={handleCloseCategory} />\n      <Box className={classes.root}>\n        <Typography\n          className={classes.headerTitle}\n          variant=\"h5\"\n          gutterBottom\n          style={{ marginBottom: 20 }}\n        >\n          Chỉnh sửa sản phẩm\n        </Typography>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            />\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n\n            <Box className={`${classes.box} ${classes.margin}`}>\n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                <InputLabel htmlFor=\"category\">Danh mục</InputLabel>\n                <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select>\n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              value={productFormik.values.salesPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) > Number(productFormik.values.salesPrice) ?<Typography variant='h6' style={{color:'red'}}> Giá vốn đang lớn hơn giá bán !!</Typography>:null} */}\n\n           {isManageInventory?\n           <>\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n             <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 3 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <Button\n              onClick={handleCloseAndReset}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              style={{ marginRight: 20 }}\n            >\n              Huỷ\n            </Button>\n            <Button\n              onClick={() => {\n                updateProductHandler();\n              }}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"primary\"\n              disabled = {!(productFormik.isValid ) }\n            >\n              Sửa\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default UpdateInventory;\n","import React, {useState} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst BranchInventoryPopUp = ({open,onClose, branchs,branch_inventories,setReload,batches,has_batches,row }) => {\n    const theme = useTheme();\n  const classes = useStyles(theme);\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  console.log(\"branch_inventories\",branch_inventories)\n  const findBranchQuantity = (id) => {\n    // if(!branch_inventories){return -1}\n    const rs = branch_inventories?.find(x => x.uuid === id)?.quantity_available\n    if(rs){return rs.toLocaleString() }\n    else{ return 0}\n  }\n  const [openModal, setOpenModal] = useState(null)\n  const dispatch = useDispatch();\n    const generateInitial = () =>{\n        let arr = []\n         batches.map(item => arr.push({batch_code: item.batch_code , quantity: 0, expiry_date: item.expiry_date, position: item.position} ))\n        return arr\n    }\n    const [valueQuantity,setValueQuantity] = useState(!has_batches?0:generateInitial())\n  const confirmTransferQuantity = async () => {  \n    //CALL API HERE\n    //   openModal : branch chuyển tới\n\n    //   valueQuantity: SL chuyển \n    //( + nếu là lô thì là array object [{batch_code:\"L0001\", quantity:\"2\"}])\n     //( + nếu ko là lô thì là số \n\n    const body = {\n        to_id: openModal.id,\n        value_quantity: has_batches ? _.sumBy(valueQuantity, 'quantity') : valueQuantity,\n        batches: JSON.stringify(Array.isArray(valueQuantity) ? valueQuantity.filter(batch => batch.quantity) : []),\n        has_batches: has_batches,\n        product_id: row.id,\n        to_name: openModal.name,\n        created_user_id: info.user.id,\n        created_user_name: info.user.name,\n        created_user_type: info.role,\n    }\n    try {\n        const res = await productApi.transferInventory(store_uuid, branch_uuid, body);\n        dispatch(statusAction.successfulStatus('Chuyển tồn kho thành công!'))\n    } catch (err) {\n        console.log(err)\n        dispatch(statusAction.failedStatus('Chuyển tồn kho thất bại'))\n    }\n\n    setOpenModal(null)\n    onClose()\n    setReload()\n  }\n  const currenBranchInventory = findBranchQuantity(branch_uuid)\n var totalQuantity = 0;\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"xs\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            Chi tiết tồn kho\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n               \n                  {batches?.length !== 0 ? \n                  <>\n                  <Grid container  style={{ marginBottom:10}}>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Mã lô </Grid>\n                        <Grid item xs={4} style={{color:'#000', fontWeight:500}}> Ngày hết hạn </Grid>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Vị trí </Grid>\n                        <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn kho </Grid>\n                    </Grid>\n\n                    {batches?.map((batch) => (\n                        <Grid container  spacing={2}>\n                                <Grid item xs={3}> {batch?.batch_code} </Grid>\n                                <Grid item xs={4}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                                <Grid item xs={3}> {batch?.position} </Grid>\n                                <Grid item xs={2}> {batch?.quantity} </Grid>\n                        </Grid>\n                     )) } \n                      <Divider style={{margin:20}} />\n                    </>\n                     :null}\n              \n               \n                <Grid container style={{marginBottom:10}}>\n                    <Grid item xs={7}> </Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn </Grid>\n                    <Grid item xs={3}> </Grid>\n                </Grid>\n                {branchs.map((item=>{ \n                const quantity  = findBranchQuantity(item.uuid)\n                totalQuantity = totalQuantity +Number(quantity) \n                    return (\n                    <Grid container>\n                        <Grid item xs={7} style={{color:'#000', fontWeight:500, marginBottom:25}}>\n                            {item.name}\n                        {item.uuid === branch_uuid ? <CheckCircleIcon style={{marginLeft:10}}fontSize=\"small\" color='primary'/> :null} </Grid>\n\n                        {/* <Grid item xs={2}>{findBranchQuantity(item.uuid)}</Grid> */}\n                        <Grid item xs={2}>{quantity}</Grid>\n\n                       <Grid item xs={3}> {item.uuid !== branch_uuid ? <Button color='primary' variant='contained'size='small'style={{textTransform:'none'}} onClick={()=>setOpenModal(item)}>Chuyển</Button>:null}</Grid>\n                    </Grid>\n                )}))}\n                <Divider />\n                <Grid container>\n                    <Grid item xs={7} ></Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}>Tổng: {totalQuantity}</Grid>\n                    <Grid item xs={3}> </Grid>\n                </Grid>\n\n\n\n                {openModal?<ModalWrapperWithClose size='h4' title={<ListItem><Typography variant='h4'>Chuyển tồn kho đến </Typography><Typography variant='h4' style={{marginLeft:5,color:theme.customization.primaryColor[500]}}>{openModal.name} </Typography>  </ListItem>}open={openModal !== null}handleClose={()=>setOpenModal(null)}>\n                        \n                {!has_batches?\n                        <>\n                        <Typography variant='h5'>Số lượng </Typography>\n                        <ListItem>\n                            <ThousandSeperatedInput value={valueQuantity} onChange={(e)=>{setValueQuantity(e.target.value)}}/>\n                            <Typography style={{fontWeight:500}}> / {currenBranchInventory}</Typography>\n                        </ListItem>\n                        {valueQuantity > Number(currenBranchInventory)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                    </>:\n                    batches.map((batch) => {\n                        let newValueQuantity = [...valueQuantity]\n                        let index = newValueQuantity.findIndex(item=>item.batch_code ===  batch?.batch_code)\n                      \n                     return(\n                        <Grid container  spacing={3} alignItems='center' style={{margin:2}}>\n                            <Grid item xs={3}> {batch?.batch_code} </Grid>\n                            <Grid item xs={3}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                            <Grid container item xs={4}  alignItems='center'>  \n                                    <Grid item xs={6}>\n                                        <ThousandSeperatedInput \n                                        value={newValueQuantity[index]?.quantity} \n                                            onChange={(e)=>{\n                                              \n                                                newValueQuantity[index].quantity= Number(e.target.value)\n                                                setValueQuantity(newValueQuantity)                                          \n                                            }}\n                                            />\n                                    </Grid>\n                                    <Grid item xs={6}> <Typography style={{fontWeight:500}}> / {batch?.quantity}</Typography></Grid>\n                                    {newValueQuantity[index]?.quantity > Number(batch?.quantity)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                            </Grid>\n                        </Grid>\n                     )})  \n                    \n                    }\n                        <Button disabled={valueQuantity > Number(currenBranchInventory) || valueQuantity === 0} onClick={()=>{confirmTransferQuantity()}}  variant=\"contained\" size=\"small\"  color=\"secondary\" style={{marginTop:20}}>\n                            Xác nhận \n                        </Button>\n\n                    </ModalWrapperWithClose>:null}\n\n            </DialogContent>\n            <DialogActions>\n        <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n            Huỷ \n        </Button>\n       \n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default BranchInventoryPopUp\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nimport DialogWrapper from \"../../../../../components/Modal/DialogWrapper\";\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst VarianceModal = (props) => {\n  const { row ,branchs,setReload,batches,has_batches,isManageInventory} = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const dispatch = useDispatch();\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleCloseUpdate = (status) => {\n    if (status) {\n      props.parentProps.setReload(true);\n    }\n    setIsOpenUpdate(false);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  console.log(\"rowwww\",row)\n  console.log(\"productDetail\",productDetail)\n  \n  // useEffect(() => {\n  //   const fetchProduct = async () => {\n  //     try {\n  //       const response = await productApi.getProduct(store_uuid, row.uuid, {\n  //         branch_uuid: branch_uuid,\n  //       });\n  //       setProductDetail(response.data);\n  //     } catch (err) {\n  //       console.log(err);\n  //     }\n  //   };\n\n  //   fetchProduct();\n  // }, [store_uuid]);\n    \n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchProduct();\n  }, []);\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\n\n  console.log(\"row.branch_inventories\",productDetail.branch_inventories)\n\n  return (\n    // <ModalWrapperWithClose\n    // handleClose={() => props.handleClose(false)}\n    // title={\"Chi tiết biến thể\"}\n    // open={props.open}\n    // >\n    <DialogWrapper\n      handleClose={() => props.handleClose(false)}\n      title={\"Chi tiết biến thể\"}\n      open={props.open}\n    >\n      <div style={{ width: 800 }}>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={4}>\n              <Box\n                sx={{\n                  height: 170,\n                  width: 170,\n                  borderRadius: 2,\n                  marginLeft: 15,\n                }}\n              >\n                <Carousel showThumbs={false}>\n                  {JSON.parse(\n                    productDetail.img_urls ? productDetail.img_urls : \"[]\"\n                  )?.map((url) => (\n                    <img\n                      key={url}\n                      src={url}\n                      height={xsScreen ? \"100\" : \"170\"}\n                      width={xsScreen ? \"100\" : \"170\"}\n                      // height= \"170\"\n                      // width= \"170\"\n                    />\n                  ))}\n                </Carousel>\n              </Box>\n            </Grid>\n\n            <Grid container direction=\"column\" item xs={8}>\n              <Grid container direction=\"row\">\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tên sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.product_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã vạch\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.bar_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Danh mục\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.category.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Đơn vị\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.quantity_per_unit}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá bán\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat value={productDetail.list_price}></VNDFormat>\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá vốn\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat\n                          value={productDetail.standard_price}\n                        ></VNDFormat>{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    {isManageInventory? \n                    <>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tồn kho\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={2}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.branch_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                    {branchs.length >1?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={productDetail.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={setReload}\n                    batches={batches}\n                    has_batches={productDetail.has_batches}\n                   />\n                   \n                   :null}\n                 \n                  </Grid>\n                  {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {productDetail.notification_period} ngày</Typography>:null}\n\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL đặt hàng lại\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.min_reorder_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL nhập hàng tối đa\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.max_order}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    </>:null}\n                </Grid>\n              </Grid>\n\n              {JSON.parse(row.attribute_value ? row.attribute_value : \"[]\").map(\n                (attVal) => (\n                  <Grid container direction=\"row\">\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          marginRight: 10,\n                          borderRadius: 5,\n                        }}\n                      >\n                        {attVal.name}\n                      </div>\n                    </Grid>\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          borderRadius: 5,\n                        }}\n                      >\n                        <strong>{attVal.value}</strong>\n                      </div>\n                    </Grid>\n                  </Grid>\n                )\n              )}\n\n              <Grid\n                container\n                direction=\"row\"\n                justifyContent={xsScreen ? null : \"flex-end\"}\n                style={{ marginTop: 20 }}\n              >\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setIsOpenUpdate(true);\n                  }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setDeleteConfirm(true);\n                  }}\n                >\n                  Xoá\n                </Button>\n\n                <IconButton\n                  aria-label=\"more\"\n                  aria-controls=\"long-menu\"\n                  aria-haspopup=\"true\"\n                  onClick={handleClick}\n                  size=\"small\"\n                  style={{ marginLeft: 10 }}\n                >\n                  <MoreVertIcon />\n                </IconButton>\n\n                <StyledMenu\n                  id=\"customized-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <InboxIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"In mã tem\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <HighlightOffTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Ngừng kinh doanh\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <LocalOfferTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử giá\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử kiểm kê\" />\n                  </StyledMenuItem>\n                </StyledMenu>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n      </div>\n      {isOpenUpdate && <UpdateInventory\n        open={isOpenUpdate}\n        handleClose={handleCloseUpdate}\n        productInfo={productDetail}\n        setReload={() => {\n          props.setReload();\n          props.handleClose()\n        }}\n      />}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={handleCloseDelete}\n        handleConfirm={handleConfirmDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n    </DialogWrapper>\n    /* </ModalWrapperWithClose> */\n  );\n};\n\nexport default VarianceModal;\n","import React, {useState,useEffect,useRef} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport barcocde1 from \"../../../../../assets/img/barcode/1.jpeg\"\nimport barcocde2 from \"../../../../../assets/img/barcode/2.jpeg\"\nimport barcocde3 from \"../../../../../assets/img/barcode/3.jpeg\"\nimport { useReactToPrint } from \"react-to-print\";\nimport Barcode from 'react-barcode';\nimport { returnStatement } from '@babel/types';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst PrintBarcodePopUp = ({open,onClose, row }) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n   \n\n    const [quantity , setQuantity] = useState(0)\n    const [codeType , setCodeType] = useState(\"code\")\n    const [printStoreName , setPrintStoreName] = useState(\"yes\")\n    const [printBatch , setPrintBatch] = useState(row.has_batch === 0?\"no\" :\"yes\")\n    const [col , setCol] = useState(null)\n    const [batchCode , setBatchCode] = useState(row.batches[0].batch_code)\n\n    const [openPrintBarcode,setOpenPrintBarcode] =  useState(row.batches[0].batch_code)\n\n      // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  const handleChooseBarCode = (col) => {\n    setCol(col)\n\n  }\n  useEffect (()=>{\n    if(col){handlePrint()}\n  },[col])\n\n\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"sm\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            In mã tem\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n                <Grid container  >\n                    <Grid item  xs={4}>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Số lượng in:</Typography>\n                        {/* <TextField value={quantity} onChange={(e)=>setQuantity(e.target.value)}/> */}\n                        <ThousandSeperatedInput style={{width:100}}value={quantity} onChange={(e)=>setQuantity(e.target.value)}/>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã in:</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={codeType} onChange={(e)=>setCodeType(e.target.value)} >\n                            <MenuItem value={\"code\"}>Mã hàng</MenuItem>\n                            {row.product_code ?<MenuItem value={\"barcode\"}>Mã vạch</MenuItem>:null}\n                            </Select>\n                        </FormControl>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Tên cửa hàng</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={printStoreName} onChange={(e)=>setPrintStoreName(e.target.value)} >\n                            <MenuItem value={\"yes\"}>In tên cửa hàng</MenuItem>\n                            <MenuItem value={\"no\"}>Không in tên cửa hàng</MenuItem>\n                            </Select>\n                        </FormControl>\n                        {!row.has_batch? \n                            <>\n                         <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>In lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={printBatch} onChange={(e)=>setPrintBatch(e.target.value)} >\n                                <MenuItem value={\"yes\"}>In mã lô</MenuItem>\n                                <MenuItem value={\"nno\"}>Không in mã lô</MenuItem>\n                                </Select>\n                            </FormControl>\n                            {printBatch.includes(\"yes\") ? \n                            <>\n                            <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={batchCode} onChange={(e)=>setBatchCode(e.target.value)} >\n                                { row.batches.map((batch)=>{\n                                    return(\n                                         <MenuItem value={batch.batch_code}>{batch.batch_code}</MenuItem>\n                                    )\n                                }) }\n                                </Select>\n                            </FormControl>\n                            </>\n                            :null}\n                            </>:null    \n                    }\n                    </Grid>\n                    <Grid item container xs={8} spacing={3}>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde3} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 3 nhãn (Khổ giấy in nhãn 104x22mm / 4.2x0.9 inch)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(4)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde2} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 2 nhãn (Khổ giấy in nhãn 72x22mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(6)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}}  >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n            \n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde1} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 1 nhãn  (Khổ giấy in nhãn 50x30mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(12)}  variant=\"contained\" size=\"small\"  color=\"primary\"  style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n                <div style={{ display: \"none\" }}>\n                    <div ref={componentRef}>\n                        <ComponentToPrint row={row} quantity={quantity} codeType={codeType} printStoreName={printStoreName} printBatch={printBatch} col={col} batchCode={batchCode}/>\n                    </div>\n                </div>\n\n            </DialogContent>\n            <DialogActions>\n            <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n                Huỷ \n            </Button>\n          \n            </DialogActions>    \n        </Dialog>\n    )\n}\n\nexport default PrintBarcodePopUp\nconst ComponentToPrint = ({ row ,quantity,codeType,printStoreName,printBatch,col,batchCode}) => {\n    const info = useSelector((state) => state.info);\n    const BarCodeModel = () =>{\n        return (\n        <Box style={{ textAlign:'center'}}>\n            {printStoreName.includes(\"yes\") ? <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>{info.store.name}</Typography>:\"\"}\n            {printBatch.includes(\"no\")? <Barcode value={codeType ===\"code\" ?row.product_code:row.bar_code } />\n            : <Barcode value={codeType ===\"code\" ?row.product_code.concat(\"_\"+ batchCode):row.bar_code.concat(\"_\"+ batchCode) } />}\n        </Box>\n        )\n    }\n    return (\n        <Grid container>\n            {[1,2,3].map(()=> {\n                return(\n                    <Grid container item xs={col} justifyContent=\"center\">\n                        <BarCodeModel />\n                    </Grid>    \n                )\n            })}\n\n        </Grid>\n       \n     \n    );\n  };\n  ","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { ThousandFormat, VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport VarianceModal from \"./VarianceModal\";\nimport { VarianceProductMiniTableRow } from \"../../../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../../../api/branchApi\";\n\nimport defaultProduct from \"../../../../../assets/img/product/default-product.png\"\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nimport PrintBarcodePopUp from \"./PrintBarcodePopUp\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst InventoryDetail = (props) => {\n  const { row, openRow, setReload ,isManageInventory} = props.parentProps;\n  const { isMini } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [thisReload, setThisReload] = useState(false);\n  const dispatch = useDispatch();\n\n\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      setReload();\n      // console.log(response);\n    } catch (error) {\n      // console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branchs = info.store.branches\n \n  // const [branchs, setBranchs] = useState(info.branchsOfStore);\n\n  const [isOpenVarianceDetailModal, setIsOpenVariaceDetailModal] =\n    useState(false);\n  const [selectedVariance, setSelectedVariance] = useState({});\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    if (openRow === row.uuid) {\n      fetchProduct();\n    }\n  }, [store_uuid, openRow, thisReload]);\n  const handleCloseUpdate = (status) => {\n    setIsOpenUpdate(false);\n  };\n\n\nconst [openPrintBarcode,setOpenPrintBarcode] =  useState(false)\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\nconsole.log(\"productDetail.img_urls\",productDetail)\n\nlet  imageList =row.img_urls ? JSON.parse(row.img_urls):null\nimageList = Array.isArray(imageList)? imageList :[imageList]\n// || defaultProduct\n  return row.has_variance ? (\n    <>\n      {openRow === row.uuid &&\n        productDetail.variations?.map((variance) => {\n          return !xsScreen ? (\n            <>\n              <TableRow>\n                <TableCell align=\"left\">{\"               \"}</TableCell>\n                <TableCell align=\"left\">{variance.product_code}</TableCell>\n                <TableCell align=\"left\" style={{ minWidth: 200 }}>\n                  <ListItem\n                    style={{\n                      marginLeft: -30,\n                      marginTop: -10,\n                      marginBottom: -10,\n                    }}\n                  >\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 50,\n                        width: 50,\n                        borderRadius: 10,\n                        marginRight: 15,\n                      }}\n                      src={JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) || defaultProduct}\n                    />\n                    <Typography className={classes.fontName}>\n                      {variance.name}\n                    </Typography>\n                  </ListItem>\n                </TableCell>\n\n\n                <TableCell align=\"left\">{variance.category?.name}</TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.list_price} />\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.standard_price} />\n                </TableCell>\n                <TableCell align=\"center\">\n                  <FormatedProductStatus\n                    quantity={variance.branch_quantity}\n                    lowStock={variance.min_reorder_quantity}\n                  />\n                </TableCell>\n                <TableCell align=\"right\" className={classes.fontName}>\n                  {variance.branch_quantity}\n                </TableCell>\n                <TableCell\n                  onClick={() => {\n                    setIsOpenVariaceDetailModal(true);\n                    setSelectedVariance(variance);\n                  }}\n                >\n                  <Button size=\"small\" color=\"primary\" variant=\"outlined\" >\n                    Chi tiết\n                  </Button>\n                </TableCell>\n              </TableRow>\n            </>\n          ) : (\n            <VarianceProductMiniTableRow\n              key={row.uuid}\n              variance={variance}\n              onClick={() => {\n                setIsOpenVariaceDetailModal(true);\n                setSelectedVariance(variance);\n              }}\n            />\n          );\n        })}\n      {isOpenVarianceDetailModal && (\n        <VarianceModal\n          open={isOpenVarianceDetailModal}\n          parentProps={props.parentProps}\n          row={selectedVariance}\n          handleClose={() => setIsOpenVariaceDetailModal(false)}\n          branchs={branchs}\n          // handleBranchQuantity={()=>{setOpenDetailInventory(true); console.log(\"helllllooo\")}}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n         batches={row.batches}\n         has_batches={row.has_batches}\n         isManageInventory={isManageInventory}\n        />\n      )}\n    </>\n  ) : (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      {isOpenUpdate && (\n        <UpdateInventory\n          handleClose={handleCloseUpdate}\n          open={isOpenUpdate}\n          productInfo={productDetail}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n          isManageInventory={isManageInventory}\n        />\n      )}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleConfirm={handleConfirmDelete}\n        handleClose={handleCloseDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={4}>\n      \n           {imageList.at(0) ?\n            <Box\n              sx={{\n                // height: 170,\n                // width: 170,\n                height: xsScreen ? 100 : 170,\n                width: xsScreen ? 100 : 170,\n                borderRadius: 2,\n                marginLeft: 15,\n                marginBottom: xsScreen ? 10 : 0,\n              }}\n            >\n              <Carousel showThumbs={false}>\n                { \n                imageList?.map((url) => (\n                  <img\n                    key={url}\n                    src={url}\n                    height={xsScreen ? \"100\" : \"170\"}\n                    width={xsScreen ? \"100\" : \"170\"}\n                    // height= \"170\"\n                    // width= \"170\"\n                  />\n                ))}\n              </Carousel>\n            </Box>:\n              <Box\n                    component=\"img\"\n                    sx={{\n                    height: xsScreen ? 100 : 170,\n                    width: xsScreen ? 100 : 170,\n                    marginLeft: 7,\n                    marginRight: 7,\n                    borderRadius: 20,\n                    }}\n                    src={defaultProduct}\n                    style={{marginBottom:20}}\n                />}\n          </Grid>\n\n          <Grid container direction=\"column\" item xs={12} sm={8}>\n            <Grid container direction=\"row\">\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tên sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.product_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã vạch\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.bar_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Danh mục\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.category.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Đơn vị\n                    </Typography>\n                  </Grid>\n                  <Grid ListItemText sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.quantity_per_unit}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá bán\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat value={productDetail.list_price}></VNDFormat>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá vốn\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat\n                        value={productDetail.standard_price}\n                      ></VNDFormat>{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                {isManageInventory?\n                <>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\" alignItems='center'>\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tồn kho\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={2}>\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.branch_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.branch_quantity} />\n                  </Grid>\n                  {branchs.length >1 || row.has_batches?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={row.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={() => {\n                      setReload();\n                      setThisReload(!thisReload);\n                     }}\n                     batches={row.batches}\n                     has_batches={row.has_batches}\n                     row={row}\n                   />\n                   \n                   :null}\n                </Grid>\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {row.notification_period} ngày</Typography>:null}\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL đặt hàng lại\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.min_reorder_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.min_reorder_quantity} />\n\n                  </Grid>\n                </Grid>\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={7}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL nhập hàng tối đa\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={5}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.max_order}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.max_order} />\n\n                  </Grid>\n                </Grid>\n                </>:null\n                }\n              </Grid>\n            </Grid>\n\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent={\"flex-end\"}\n              style={{ marginTop: 20 }}\n            >\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setIsOpenUpdate(true);\n                }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setDeleteConfirm(true);\n                }}\n              >\n                Xoá\n              </Button>\n\n              {openPrintBarcode?\n                  <PrintBarcodePopUp\n                    open={openPrintBarcode}\n                    onClose={()=>setOpenPrintBarcode(false)}\n                    row={row}\n                   />\n                   \n                   :null}\n\n              <IconButton\n                aria-label=\"more\"\n                aria-controls=\"long-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n                size=\"small\"\n                style={{ marginLeft: 10 }}\n              >\n                <MoreVertIcon />\n              </IconButton>\n\n              <StyledMenu\n                id=\"customized-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                <StyledMenuItem onClick={() => { setOpenPrintBarcode(true) }}>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <InboxIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"In mã tem\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <HighlightOffTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Ngừng kinh doanh\" />\n                </StyledMenuItem>\n\n                {/* <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <LocalOfferTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử giá\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử kiểm kê\" />\n                </StyledMenuItem> */}\n              </StyledMenu>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryDetail;\n","import {\n    Button,\n    FormControl,\n    Grid,\n    InputLabel,\n    Select,\n    TextField,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport ConfirmPopUp from \"../../ConfirmPopUp/ConfirmPopUp\";\n\nconst UpdateCategory = (props) => {\n    const [categoryInfo, setCategoryInfo] = useState({\n        name: \"\",\n        parent_category_uuid: \"\",\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch = useDispatch();\n    useEffect(() => {\n        setCategoryInfo(props.category);\n    }, [props.category]);\n    const [isDelete, setIsDelete] = useState(false);\n    const handleUpdateCategory = async () => {\n        handleCloseAndReset();\n        try {\n            await productApi.editCategory(\n                store_uuid,\n                props.category.uuid,\n                categoryInfo\n            );\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Cập nhật danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Cập nhật danh mục thất bại\"));\n        }\n    };\n    const handleDeleteCategory = async () => {\n        handleCloseAndReset();\n        if (props.category.children.length > 0) {\n            dispatch(\n                statusAction.failedStatus(\n                    \"Không thể xóa danh mục do có danh mục con, hãy xóa danh mục con trước\"\n                )\n            );\n            return;\n        }\n        try {\n            await productApi.deleteCategory(store_uuid,props.category.uuid);\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Xóa danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Xóa danh mục thất bại\"));\n        }\n    };\n    const handleCloseAndReset = () => {\n        props.handleClose();\n        setCategoryInfo(props.category);\n    };\n    return (\n        <ModalWrapper {...props}>\n            <Typography variant=\"h4\" gutterBottom>\n                Cập nhật danh mục\n            </Typography>\n            <ConfirmPopUp\n                open={isDelete}\n                handleConfirm={handleDeleteCategory}\n                handleClose={() => setIsDelete(false)}\n                message={\n                    <Typography>\n                        Xóa vĩnh viễn danh mục <b>{props.category.name} ?</b>\n                    </Typography>\n                }\n            />\n            <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        label=\"Tên danh mục\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        required\n                        fullWidth\n                        value={categoryInfo?.name}\n                        onChange={(e) =>\n                            setCategoryInfo({ ...categoryInfo, name: e.target.value })\n                        }\n                    />\n                </Grid>\n                <Grid\n                    item\n                    xs={12}\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        justifyContent: \"flex-end\",\n                    }}\n                >\n                    {\" \"}\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        size=\"small\"\n                        style={{ marginRight: 20 }}\n                        onClick={() => {\n                            setIsDelete(true);\n                        }}\n                    >\n                        Xóa danh mục\n                    </Button>\n                    <Button\n                    color=\"primary\"\n                        variant=\"contained\"\n                        onClick={handleUpdateCategory}\n                        size=\"small\"\n                    >\n                        Lưu thay đổi\n                    </Button>\n                </Grid>\n            </Grid>\n        </ModalWrapper>\n    );\n};\n\nexport default UpdateCategory;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from \"react-redux\";\nimport productApi from \"../../../api/productApi\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport zIndex from \"@material-ui/core/styles/zIndex\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport UpdateCategory from \"./UpdateCategory\";\n\nconst useStyles = makeStyles((theme) => ({\n  nested: {\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nexport default function RootCategory(props) {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [subCategories, setSubCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getSubCategory(\n          store_uuid,\n          props.category.uuid\n        );\n        setSubCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if(!props.useNestedApi){\n      fetchCategoryList();\n    }else{\n      setSubCategories()\n    }\n  }, [store_uuid, props.category.uuid, props.reset]);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n    handleClose()\n  };\n  const [update, setUpdate] = useState(false)\n  const handleOpenEdit = () => setUpdate(true)\n  const handleClose = () => setUpdate(false)\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={props.fromRoot ? classes.root : classes.nested}\n    >\n      <UpdateCategory onReset={props.onReset} open={update} handleClose={handleClose} category={props.category}/>\n      <ListItem >\n        <ListItemText\n          primary={\n            <Tooltip  title=\"Cập nhật\">\n              <Button style={{display:\"flex\",flexDirection:\"row\",justifyContent:\"flex-start\", textDecoration:\"none\",textTransform:\"none\"}} fullWidth onClick={handleOpenEdit}>\n                <ListItemIcon>\n                  <CategoryIcon/>\n                </ListItemIcon>\n                {props.category.name}\n              </Button>\n            </Tooltip>\n          }\n        />\n        {props.category.children.length === 0 ? null : open ? (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandLess />{\" \"}\n          </IconButton>\n        ) : (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandMore button />{\" \"}\n          </IconButton>\n        )}\n      </ListItem>\n      <Collapse in={open} unmountOnExit>\n        {subCategories.map((category) => (\n          <RootCategory key={category.uuid} category={category} onReset={props.onReset} reset={props.reset}/>\n        ))}\n      </Collapse>\n    </List>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport RootCategory from \"./List/RootCategory\";\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from \"react-redux\";\nimport { Box } from \"@material-ui/core\";\n\nconst CategoryTree = (props) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [parentCategories, setParentCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getParentCategory(store_uuid);\n        setParentCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid,props.reset]);\n  return (\n    <Box {...props}>\n      {parentCategories.map((category) => (\n        <RootCategory key={category.uuid} category={category} reset={props.reset} onReset={props.onReset} fromRoot={true}/>\n      ))}\n    </Box>\n  );\n};\n\nexport default CategoryTree;\n","import React, { useState } from \"react\";\n\n//import library\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\n\n// import icon\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddCategory from \"../AddInventory/AddCategory\";\n// import project\nimport CategoryTree from \"../../../../components/Category/CategoryTree\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Modal from \"../../../../components/Modal/ModalWrapper\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    categoryPopup: {\n      maxHeight: \"80vh\", \n      overflowY: \"scroll\",\n      margin: -20,\n    }\n  })\n);\n\nconst Category = (props) => {\n  const { handleClose, open } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  // loại lương\n  const [openAddCategory, setOpenAddCategory] = React.useState(false);\n  const handleCloseCategory = () => {\n    setOpenAddCategory(false);\n  };\n  const [reset, setReset] = useState(true)\n  const onReset = () => {\n    setReset(reset => !reset)\n  }\n\n\n\n\n  return (\n    <Modal open={open} handleClose={handleClose}>\n      <AddCategory onReset={onReset} open={openAddCategory} handleClose={handleCloseCategory} reset={reset} />\n      <Box className={classes.categoryPopup}>\n        <Box\n          flexDirection=\"row\"\n          display=\"flex\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{padding:20}}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Danh mục\n          </Typography>\n\n          <IconButton\n            aria-label=\"add\"\n            color=\"primary\"\n            onClick={() => {\n              setOpenAddCategory(true);\n            }}\n          >\n            <AddIcon />\n          </IconButton>\n        </Box>\n        <CategoryTree style={{ width: 500, maxWith: \"80%\" }} reset={reset} onReset={onReset} />\n      </Box>\n    </Modal>\n  );\n};\n\nexport default Category;\n","import React, { useEffect } from 'react';\nimport {\n  Dialog, TextField, Card, ListItem, DialogContent, Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSelector, useDispatch } from 'react-redux';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport useStyles from '../../TableCommon/style/mainViewStyle';\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// import library\n\nimport InvoiceReturnSummary from '../../CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary';\n\nimport * as HeadCells from '../../../assets/constant/tableHead';\nimport * as TableType from '../../../assets/constant/tableType';\nimport SearchProduct from '../../SearchBar/SearchProduct';\nimport TableHeader from '../../TableCommon/TableHeader/TableHeader';\nimport TableWrapper from '../../TableCommon/TableWrapper/TableWrapper';\nimport { getComparator, stableSort } from '../../TableCommon/util/sortUtil';\nimport * as Input from '../../TextField/NumberFormatCustom';\nimport ButtonQuantity from '../../Button/ButtonQuantity';\nimport refundApi from '../../../api/refundApi';\nimport SnackBarGeneral from '../../SnackBar/SnackBarGeneral';\nimport {statusAction} from '../../../store/slice/statusSlice';\nimport {ReturnCartMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport _ from 'lodash';\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InvoiceReturnPopUp(props) {\n  const { order, classes, handleCloseReturn , reload, reloadDetail } = props;\n  const theme = useTheme();\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const dispatch = useDispatch();\n  // 2. Table sort\n  // const [order, setOrder] = React.useState('desc');\n  // const [orderBy, setOrderBy] = React.useState('stt');\n  // const handleRequestSort = (event, property) => {\n  //     const isAsc = orderBy === property && order === 'asc';\n  //     setOrder(isAsc ? 'desc' : 'asc');\n  //     setOrderBy(property);\n  // };\n\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [refund, setRefund] = React.useState({\n    order_code: order.order_code,\n    order_id: order.id,\n    branch: order.branch,\n    customer: order.customer,\n    customer_id: order.customer_id,\n    branch_id: order.branch_id,\n    order_total_amount: order.total_amount,\n    total_amount: 0,\n    details: order.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: 'cash',\n    paid_amount: '0',\n    scores:'0'\n  });\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: 'error',\n    message: 'Trả hàng thất bại',\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newRefund = _.cloneDeep(refund);\n\n    // console.log(newBatches);\n    newRefund.details[itemIndex].selectedBatches = newBatches;\n    newRefund.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    // console.log(newRefund);\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    refund.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    let newRefund = update(refund, {\n      total_amount: { $set: total },\n      // paid_amount:{ $set: total.toString() },\n      paid_amount: { $set: total },\n      scores: { $set:  store_setting?.customerScore.status  ? parseInt((total)/store_setting?.customerScore.value)  :'0'},\n      \n    });\n    // newRefund = update(refund, {\n    //   paid_amount:{ $set: total },\n      \n    // });\n    \n\n    setRefund(newRefund);\n    \n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newRefund = update(refund, { paid_amount: { $set: paidAmount } });\n    setRefund(newRefund);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newRefund = update(refund, { payment_method: { $set: paymentMethod } });\n    setRefund(newRefund);\n  };\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const import_date = moment.unix(d).format('YYYY-MM-DD HH:mm:ss', { trim: false });\n\n    const body = {\n      order_uuid: order.uuid,\n      customer_id: refund.customer_id,\n      total_amount: refund.total_amount.toString(),\n      payment_method: refund.payment_method,\n      paid_amount: refund.paid_amount,\n      points:refund.scores,\n      status:\n      refund.paid_amount >= refund.total_amount\n        ? 'closed'\n        : 'debt',\n      details: refund.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        order_batches: detail.order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      import_date,\n     \n    };\n\n    try {\n      const res = await refundApi.removeInventory(\n        store_uuid,\n        refund.branch.uuid,\n        body,\n      );\n      dispatch(statusAction.successfulStatus(`Trả hàng thành công: ${res.data.refund_code}`))\n      reload();\n      reloadDetail();\n      handleCloseReturn()\n    } catch (err) {\n      dispatch(statusAction.failedStatus('Trả hàng thất bại!'))\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  return (\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n       \n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 30 }}>Trả hàng</Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleCloseReturn}>\n          <CloseIcon />\n        </IconButton>\n\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" spacing={2}>\n         \n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: '75vh' }}>\n                {/* JSON data attribute phải giongso table head id */}\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n               {!xsScreen ? ( <TableWrapper isCart>\n                  <TableHeader\n                    classes={classes}\n                                    // order={order}\n                                    // orderBy={orderBy}\n                                    // onRequestSort={handleRequestSort}\n                    headerData={HeadCells.CartReturnHeadCells}\n                  />\n                  <TableBody>\n                    {/* {\n                                    stableSort(row.list, getComparator(order, orderBy))\n                                        .map((row, index) => {\n                                        return (\n                                            <CartReturnTableRow row={row}/>\n                                        );})\n                                } */}\n\n                    {refund.details.map((detail, index) => (\n                      <CartReturnTableRow\n                        handleProductPriceChange={handleProductPriceChange}\n                        handleItemQuantityChange={handleItemQuantityChange}\n                        detail={detail}\n                        handleChangeBatches={handleChangeBatches}\n                      />\n                    \n                    ))}\n                  </TableBody>\n                </TableWrapper>):\n                refund.details.map((detail, index) => (\n                  // <CartReturnTableRow\n                  //   handleProductPriceChange={handleProductPriceChange}\n                  //   handleItemQuantityChange={handleItemQuantityChange}\n                  //   detail={detail}\n                  // />\n                  <ReturnCartMiniTableRow\n                    detail={detail}\n                    handleProductPriceChange={handleProductPriceChange}\n                    handleItemQuantityChange={handleItemQuantityChange}\n                    isCart={true}\n                  />\n\n                ))\n              }\n              </Box>\n            </Card>\n          </Grid>\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <InvoiceReturnSummary\n                data={refund}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n\n    </>\n  );\n}\n\nexport default InvoiceReturnPopUp;\n\nfunction CartReturnTableRow({ detail, handleProductPriceChange, handleItemQuantityChange, handleChangeBatches }) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n\n\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>{detail.product_code}</TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      <TableCell align=\"right\"><Input.ThousandFormat style={{ width: 70 }} value={detail.unit_price}/></TableCell>\n      <TableCell align=\"right\">\n      { canFixPriceSell.status && canFixPriceSell.returnImport?\n        <Input.ThousandSeperatedInput id=\"standard-basic\" style={{ width: 70 }} size=\"small\" inputProps={{ style: { textAlign: 'right' } }} defaultPrice={detail.returnPrice} onChange={(e) => handleChangePrice(e.target.value)} />\n     :<Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n     \n        </TableCell>\n\n      {/* <TableCell align=\"left\" padding=\"none\">\n        <ButtonQuantity\n          quantity={detail.returnQuantity}\n          limit={detail.quantity - detail.returned_quantity}\n          setQuantity={handleChangeQuantity}\n          show={show}\n          setShow={setShow}\n          isReturn={true}\n        />\n      </TableCell> */}\n            <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n\n      <TableCell align=\"right\" className={classes.boldText}>\n     < Input.VNDFormat value={Number(detail.returnQuantity) * Number(detail.returnPrice)} />\n      </TableCell>\n\n    </TableRow>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\n// import library\nimport {\n  Dialog,\n  Card,\n  DialogContent,\n  Box,\n  Tooltip,\n  Chip,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n// import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InvoiceReturnPopUp from \"../../../../../components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp\";\n\nimport orderApi from \"../../../../../api/orderApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport invoiceApi from \"../../../../../api/invoiceApi\";\nimport setting from \"../../../../../assets/constant/setting\"\nimport {statusAction} from '../../../../../store/slice/statusSlice'\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nfunction InvoiceDetail(props) {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n \n  //  tam thoi\n\n\n  const theme = useTheme();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles(theme);\n  const [reload, setReload] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = orderApi.deleteOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa hóa đơn thành công\"));\n      onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa hóa đơn thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [order, setOrder] = useState({\n    customer: { name: \"\" },\n    created_by_user: { name: \"\" },\n    branch: null,\n    details: [],\n  });\n\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await orderApi.getOrder(store_uuid, row.uuid);\n        // console.log(res.data)\n        console.log(\"res\",res.data)\n        setOrder(res.data);\n      } catch (error) {\n        setOrder({\n          customer: { name: \"\" },\n          created_by_user: { name: \"\" },\n          branch: null,\n          details: [],\n        });\n      }\n\n      // },\n      //   [props.parentProps.openRow],\n      // );\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n  const debtAmount = order.total_amount - order.discount - order.paid_amount;\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return orderApi.editOrderApi(store_uuid, branch_uuid, uuid, body);\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n\n  function getDifferenceInDays(date1, date2) {\n    const diffInMs = Math.abs(date2 - date1);\n    return diffInMs / (1000 * 60 * 60 * 24);\n  }\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const type = store_setting?.printReceiptWhenSell.cartModal;\n\n  const returnLimit = store_setting?.returnLimit\n\n\n  // const haveReturnQuantity = order.details.ex(()=>returned_quantity)\n  var haveReturnQuantity =   order.details.every(function (element, index) {\n    if ( Number(element.returned_quantity) === 0) return false;\n    else return true;\n  })\n\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        onReload={props.parentProps.onReload}\n        reloadDetail={() => setReload(!reload)}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Thu thêm hóa đơn <i>{row.order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày bán{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách hàng\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.customer ? order.customer.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người bán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.created_by_user ? order.created_by_user.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* Cần thu <VNDFormat value={debtAmount} /> */}\n                  {debtAmount > 0 ? \"Cần thu thêm \" : \"Trả đủ\"}\n                  {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={order.total_amount - order.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.branch ? order.branch.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              {haveReturnQuantity ?<TableCell align=\"right\">Đổi trả</TableCell>:null}\n              <TableCell align=\"right\">Giá bán</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {order.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                {/* <TableCell align=\"right\">{detail.returned_quantity}</TableCell> */}\n                {haveReturnQuantity?\n                 <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>:null}\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                {/* <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography> */}\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({order.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(order.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\" style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          // justifyContent=\"flex-end\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n        \n          {info.user.uuid?.includes(order?.created_by_user.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n              style={{ marginLeft: 15}}\n              onClick={handleDelete}\n            >\n              Xóa hóa đơn\n          </Button> :null}\n\n          {returnLimit.status === false || returnLimit.status === true && (getDifferenceInDays(new Date(),new Date(row.creation_date)) < returnLimit.day) ?\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n                style={{ marginLeft: 15 }}\n                onClick={handleClickOpen}\n              >\n                Trả hàng\n            </Button>\n          :null}\n           <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In hoá đơn\n          </Button>\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton> */}\n         \n\n          {/* <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In hoá đơn\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n      {/* \n      <Dialog fullWidth maxWidth=\"lg\" open={open} onClose={handleCloseReturn} aria-labelledby=\"form-dialog-title\">\n        <InvoiceReturnPopUp handleCloseReturn={handleCloseReturn} order={order} classes={classes} /> */}\n\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={order} date={row.creation_date?.split(\" \")[0].split('-').reverse().join('/')} code={row.order_code} type={type}/>\n        </div>\n      </div>\n\n      {/* Tra hang */}\n\n      <Dialog\n        fullWidth\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleCloseReturn}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <InvoiceReturnPopUp\n          handleCloseReturn={handleCloseReturn}\n          order={order}\n          classes={classes}\n          reloadDetail={() => setReload(!reload)}\n          reload={onReload}\n        />\n      </Dialog>\n    </Collapse>\n  );\n}\n\nexport default InvoiceDetail;\n","import React, {useEffect,useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import library\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Avatar,\n  Dialog,\n  FormHelperText\n} from \"@material-ui/core\";\n\n//import project\nimport customerApi from \"../../../../../../api/customerApi\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    ava: {\n      width: theme.spacing(7),\n      height: theme.spacing(7),\n    },\n    textField: {\n      width: \"100%\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateCustomer = (props) => {\n  const { handleClose, open, onReload } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [phoneExist, setPhoneExist] = React.useState(false);\n  const [clicked, setClicked] =useState(false)\n\n\n  const customerFormik = useFormik({\n    initialValues: {\n      name: props.customerDetail?.name || \"\",\n      email: props.customerDetail?.email || \"\",\n      phone: props.customerDetail?.phone || \"\",\n      address: props.customerDetail?.address || \"\",\n      paymentInfo: props.customerDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n  })\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  // const handleCloseAndReset =() =>{\n  //   // handleClose()\n  //   onReload()\n  //   customerFormik.resetForm()\n  // } \n  useEffect(() =>{\n    if(phoneExist) {setPhoneExist(false)}\n  },[customerFormik.values.phone])\n\n  const dispatch = useDispatch()\n  return (\n \n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Chỉnh sửa khách hàng\n        </Typography>\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-around\"\n            spacing={3}\n          >\n            <Grid item xs={7}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Tên khách hàng\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                required\n                name = \"name\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.name}\n                error={customerFormik.touched.name && customerFormik.errors.name}\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                required\n                id=\"outlined-basic\"\n                label=\"Số điện thoại\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"phone\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.phone}\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\n                onBlur={customerFormik.handleBlur}\n              />\n               { phoneExist && (\n                <FormHelperText error>Số điện thoại đã được sử dụng</FormHelperText>\n              )}\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Địa chỉ\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name= \"address\"\n                // required\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.address}\n                error={customerFormik.touched.address && customerFormik.errors.address}\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n            <Grid item xs={5}>\n              <TextField\n                id=\"date\"\n                label=\"Thông tin thanh toán\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.textField}\n                name = \"paymentInfo\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.paymentInfo}\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Email\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name = \"email\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.email}\n                error={customerFormik.touched.email && customerFormik.errors.email}\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={handleClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          onClick={async () => {\n            setClicked(true)\n            let body = {\n              name: customerFormik.values.name,\n              email: customerFormik.values.email,\n              phone: customerFormik.values.phone,\n              address: customerFormik.values.address,\n              payment_info: customerFormik.values.paymentInfo,\n            };\n\n            try {\n              const response = await customerApi.updateCustomer(store_uuid, props.customerDetail.uuid, body)\n              handleClose()\n              // handleCloseAndReset()\n              dispatch(statusAction.successfulStatus(\"Sửa thông tin khách hàng thành công\"));\n              onReload()\n              \n            } catch (err) {\n              // dispatch(statusAction.failedStatus(\"Sửa thông tin khách hàng thất bại\"));\n              setPhoneExist(true)\n              setClicked(false)\n            }\n\n          }}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled = {!(customerFormik.isValid  )|| clicked}\n        >\n          Lưu thay đổi\n        </Button>\n      </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default UpdateCustomer;\n","import { Box, Button, Collapse, Grid, IconButton, InputAdornment, ListItem, ListItemIcon, ListItemText, TextField, Typography } from '@material-ui/core';\nimport React, {useState} from 'react'\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton'\nimport VNDInput, { ThousandFormat, ThousandSeperatedInput, VNDFormat } from '../../../../../components/TextField/NumberFormatCustom';\nimport { createStyles, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\nimport { Tag } from 'antd';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport UpdateCustomer from \"../CustomerDetail/UpdateCustomer/UpdateCustomer\"\nimport avaUpload from '../../../../../assets/img/ava/avaa.jpeg';\nimport customerApi from \"../../../../../api/customerApi\";\nimport moment from 'moment'\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\n\n\n\n//import icon\n\n\n\n\n//import image\n// import avaUpload from '../../../../../assets/img/product/lyimg.jpeg';\n\n\n//import project \n\n\n\n\n\n\n// import CustomerDebtDetail from \"./CustomerDebtDetail\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      '& .MuiTextField-root': {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: '1.125rem'\n    },\n    typo: {\n      marginBottom: 20\n    }\n\n  }));\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n\n      }}\n      src={avaUpload}\n    />\n\n  )\n}\nconst CustomerDetail = (props) => {\n\n  const { row, openRow } = props.parentProps;\n\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editItem, setEditItem] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const dispatch = useDispatch();\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n\n  const handleDeleteCustomer = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await customerApi.deleteCustomer(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.onReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await customerApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n          date: moment(new Date()).format(\"YYYY-MM-DD\")\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.onReload();\n      }\n    } catch(err) {\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n\n// const [openDetaiDebt,setOpenDetaiDebt] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteCustomer}\n        message={\n          <Typography>\n            Xóa vĩnh viễn khách hàng <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Thu nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n          {/* <VNDInput\n          size=\"small\"\n          value={paidAmount}\n          onChange={(e) => {\n            const amount = Number(e.target.value);\n            if (amount < 0 || amount > row.debt) return;\n            setPaidAmount(e.target.value);\n          }}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              {\" \"}\n              / <VNDFormat value={row.debt} />\n            </InputAdornment>\n          }\n        /> */}\n        <ListItem>\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editItem &&<UpdateCustomer customerDetail={row} open={editItem} onReload={props.parentProps.onReload} handleClose={() => { setEditItem(false) }} />}\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={3}>\n            <UploadImage />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\" >\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.customer_code} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Số điện thoại</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Thông tin thanh toán</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Địa chỉ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.address} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Email</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.email} </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n\n          <Grid item xs={12} sm={4}>\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tích điểm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={row.points} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền mua</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.total_payment} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Còn nợ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.debt} /> </Typography>\n              </Grid>\n              {/* {row.debt > 0?\n              <Grid item sm={3} >\n                  <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetaiDebt(true)}> Chi tiết</Button>            \n                </Grid>:null}\n                {openDetaiDebt?\n                <CustomerDebtDetail  \n                open={openDetaiDebt} \n                 onClose={()=>setOpenDetaiDebt(false)}\n                 setReload={() => {\n                  // setReload();\n                  // setThisReload(!thisReload);\n                  \n                 }}\n                 />:null} */}\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Nhóm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                {row.groups?.map(g => <Tag color=\"magenta\" >{g}</Tag>)}\n              </Grid>\n\n            </Grid>\n            </Grid>\n              \n            \n\n        </Grid>\n\n        {/* Button */}\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"} style={{ marginTop: 20 }}>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setEditItem(true) }}>Sửa</Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setDeleteConfirm(true) }}>Xoá</Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {   \n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              \n              props.parentProps.onReload();\n  \n            }}\n            \n            >\n              <ListItemIcon style={{ marginRight: -15 }} >\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n\n          </StyledMenu>\n\n\n        </Grid>\n\n      </Box>\n    </Collapse>\n  )\n\n}\n\nexport default CustomerDetail\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport supplierApi from \"../../../../../../api/supplierApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Dialog,\n  Box,\n  Paper,\n  IconButton,\n  Tooltip,\n} from \"@material-ui/core\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {},\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateSupplier = (props) => {\n  const { handleClose, open, supplierDetail } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const supplierFormik = useFormik({\n    initialValues: {\n      name: supplierDetail?.name || \"\",\n      email: supplierDetail?.email || \"\",\n      phone: supplierDetail?.phone || \"\",\n      address: supplierDetail?.address || \"\",\n      company: supplierDetail?.company || \"\",\n      paymentInfo: supplierDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên nhà cung cấp\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\"),\n        // .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n    enableReinitialize: true\n  })\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const dispatch = useDispatch();\n  const handleUpdateSupplier = async () => {\n    handleClose()\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", supplierFormik.values.name.toString());\n      bodyFormData.append(\"email\", supplierFormik.values.email.toString());\n      bodyFormData.append(\"phone\", supplierFormik.values.phone.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.paymentInfo.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.company.toString());\n      bodyFormData.append(\"address\", supplierFormik.values.address.toString());\n      await supplierApi.updateSupplier(store_uuid, supplierDetail.uuid, bodyFormData)\n      dispatch(statusAction.successfulStatus(\"Sửa nhà cung cấp thành công\"));\n      props.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Sửa nhà cung cấp thất bại\"));\n      console.log(err);\n    }\n  };\n  const handleCloseAndReset =() =>{\n\n    supplierFormik.resetForm()\n  }\n  return (\n    <SimpleModal\n      open={open}\n      handleClose={()=>{handleClose();handleCloseAndReset();}}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <Box style={{ width: 550, maxWidth: \"100%\" }}>\n        <Typography className={classes.headerTitle} variant=\"h5\" gutterBottom>\n          Chỉnh sửa nhà cung cấp\n        </Typography>\n        <Grid container spacing={2} style={{ marginTop: 10 }}>\n          <Grid item xs={12}>\n            <TextField\n              required\n              id=\"outlined-basic\"\n              label=\"Tên nhà cung cấp\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.name}\n              error={supplierFormik.touched.name && supplierFormik.errors.name}\n              helperText={supplierFormik.touched.name ? supplierFormik.errors.name : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              // required\n              id=\"outlined-basic\"\n              label=\"Địa chỉ\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"address\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.address}\n              error={supplierFormik.touched.address && supplierFormik.errors.address}\n              helperText={supplierFormik.touched.address ? supplierFormik.errors.address : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Số điện thoại\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              // required\n              name=\"phone\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.phone}\n              error={supplierFormik.touched.phone && supplierFormik.errors.phone}\n              helperText={supplierFormik.touched.phone ? supplierFormik.errors.phone : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Email\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              name=\"email\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.email}\n              error={supplierFormik.touched.email && supplierFormik.errors.email}\n              helperText={supplierFormik.touched.email ? supplierFormik.errors.email : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Tên công ty\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"company\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.company}\n              error={supplierFormik.touched.company && supplierFormik.errors.company}\n              helperText={supplierFormik.touched.company ? supplierFormik.errors.company : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Thông tin thanh toán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"paymentInfo\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.paymentInfo}\n              error={supplierFormik.touched.paymentInfo && supplierFormik.errors.paymentInfo}\n              helperText={supplierFormik.touched.paymentInfo ? supplierFormik.errors.paymentInfo : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n            marginTop: 20,\n          }}\n        >\n          <Button\n           onClick={()=>{handleClose();handleCloseAndReset();}}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n          >\n            Huỷ\n          </Button>\n          <Button\n            style={{ marginLeft: 10 }}\n            onClick={handleUpdateSupplier}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={!supplierFormik.isValid}\n          >\n            Lưu thay đổi\n          </Button>\n        </Grid>\n      </Box>\n    </SimpleModal>\n  );\n};\n\nexport default UpdateSupplier;\n","import React, {useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  ListItem,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport supplierApi from \"../../../../../api/supplierApi\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport UpdateSupplier from \"./UpdateSupplier/UpdateSupplier\";\nimport { VNDFormat, ThousandFormat, ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst SupplierDetail = (props) => {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editSupplier,setEditSupplier] = React.useState(false);\n  const dispatch = useDispatch();\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleDeleteSupplier = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await supplierApi.deleteSupplier(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await supplierApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.setReload();\n      }\n    } catch(err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteSupplier}\n        message={\n          <Typography>\n            Xóa vĩnh viễn nhà cung cấp <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Trả nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n        <ListItem >\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editSupplier &&<UpdateSupplier supplierDetail={row} open={editSupplier} handleClose = {() => setEditSupplier(false)} onReload= {props.parentProps.setReload}/>}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={6}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item  xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.phone}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.address}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n              \n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền đã nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat  value={row.total_payment} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Còn nợ\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                <VNDFormat  value={row.debt} /> \n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Thông tin thanh toán\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_info}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Công ty\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.company}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick = {() => setEditSupplier(true)}>\n            Sửa\n          </Button>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setDeleteConfirm(true);\n            }}\n          >\n            Xoá\n          </Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {     \n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              props.parentProps.setReload();\n            }}\n            >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default SupplierDetail;\n","import { Typography, Grid, TextField,Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useSelector,useDispatch } from \"react-redux\";\nimport {statusAction} from \"../../../../../../store/slice/statusSlice\"\nimport userApi from \"../../../../../../api/userApi\"\n\nconst ChangeEmployeePwd = (props) => {\n    const { open, handleClose, employeeDetail } = { ...props };\n    const formik = useFormik({\n        enableReinitialize: true,\n        initialValues: {\n            owner_password:\"\",\n            password: \"\",\n            confirm_password: \"\",\n        },\n        validationSchema: Yup.object({\n            owner_password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            confirm_password: Yup.string()\n                .required(\"Nhập lại mật khẩu\")\n                .oneOf([Yup.ref(\"password\"), null], \"Mật khẩu không khớp\"),\n        }),\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch= useDispatch()\n    const handleChangePassword = async () => {  \n        closeModalAndResetData()\n        try{\n            const response = userApi.owenerChangePassword(store_uuid,employeeDetail.uuid,{\n                owner_password:formik.values.owner_password,\n                employee_password: formik.values.password\n            })\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thành công\"))\n        }catch(error){\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thất bại\"))\n        }\n    }\n    const closeModalAndResetData = () => {\n        formik.resetForm()\n        handleClose()\n    }\n    return (\n        <SimpleModal open={open} handleClose={closeModalAndResetData}>\n            <Typography variant=\"h4\" gutterBottom>\n                Đổi mật khẩu\n            </Typography>\n\n            <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        variant=\"filled\"\n                        fullWidth\n                        label=\"Tên nhân viên\"\n                        value={employeeDetail.name}\n                        disabled\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"owner_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu chủ cửa hàng\"\n                        onChange={formik.handleChange}\n                        value={formik.values.owner_password}\n                        error={formik.touched.owner_password && formik.errors.owner_password}\n                        helperText={formik.touched.owner_password ? formik.errors.owner_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu mới\"\n                        onChange={formik.handleChange}\n                        value={formik.values.password}\n                        error={formik.touched.password && formik.errors.password}\n                        helperText={formik.touched.password ? formik.errors.password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"confirm_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Nhập lại mật khẩu\"\n                        onChange={formik.handleChange}\n                        value={formik.values.confirm_password}\n                        error={formik.touched.confirm_password && formik.errors.confirm_password}\n                        helperText={formik.touched.confirm_password ? formik.errors.confirm_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n            </Grid>\n            <Grid\n                item\n                xs={12}\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\",\n                    paddingTop: 20,\n                }}\n            >\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    style={{ marginRight: 20 }}\n                    onClick={closeModalAndResetData}\n                >\n                    Hủy\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={handleChangePassword}\n                    style={{ marginRight: 20 }}\n                    disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n                >\n                    Sửa\n                </Button>\n            </Grid>\n        </SimpleModal>\n    );\n};\n\nexport default ChangeEmployeePwd;\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport LockIcon from '@material-ui/icons/Lock';\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\nimport Chip from \"@mui/material/Chip\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import image\nimport avaUpload from \"../../../../../assets/img/product/lyimg.jpeg\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\"\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport employeeApi from \"../../../../../api/employeeApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport EditEmployee from \"../../AddEmployee/EditEmployee\";\nimport ChangeEmployeePwd from \"./ChangeEmployeePwd/ChangeEmployeePwd\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = ({ src }) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n      }}\n      src={src}\n    />\n  );\n};\n\nconst permissionsMapping = {\n  \"manage-employees\": \"Nhân sự\",\n  \"manage-orders\": \"Bán hàng\",\n  \"manage-purchase-orders\": \"Đặt hàng\",\n  \"manage-purchase-returns\": \"Nhập hàng\",\n};\n\nconst salaryTypeMapping = {\n  fix: \"Lương cứng\",\n  \"per-shift\": \"Lương theo ca\",\n};\n\nconst EmployeeDetail = (props) => {\n  const { row, openRow, handleReload } = props.parentProps;\n  const { isMini } = props;\n\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [openEdit, setOpenEdit] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [employeeDetail, setEmployeeDetail] = React.useState({\n    uuid: \"\",\n    name: \"\",\n    user_name: \"\",\n    date_of_birth: \"\",\n    id_card_num: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    permissions: [],\n    salary_type: \"\",\n    salary: \"\",\n    branches: []\n  });\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [reload, setReload] = useState(false)\n  useEffect(() => {\n    const fetchEmp = async () => {\n      try {\n        const response = await employeeApi.getEmployee(store_uuid, row.uuid);\n        setEmployeeDetail(response.data);\n      } catch (err) {\n        setEmployeeDetail({\n          uuid: \"\",\n          name: \"\",\n          user_name: \"\",\n          date_of_birth: \"\",\n          id_card_num: \"\",\n          phone: \"\",\n          email: \"\",\n          address: \"\",\n          permissions: [],\n          salary_type: \"\",\n          salary: \"\",\n          branches: []\n        });\n      }\n    };\n    if (openRow === row.uuid && store_uuid) {\n      fetchEmp();\n    }\n  }, [openRow,reload]);\n  const [changePwd, setChangePwd] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      {openEdit && (<EditEmployee\n        handleClose={(status) => {\n          if (status === \"Success\") {\n            dispatch(statusAction.successfulStatus(\"Chỉnh sửa thành công\"))\n            setReload(!reload)\n          } else if (status === \"Failed\") {\n            dispatch(statusAction.failedStatus(\"Chỉnh sửa thất bại\"))\n          }\n          setOpenEdit(false);\n          handleReload();\n        }}\n        open={openEdit}\n        employee={employeeDetail}\n      />)}\n      <ChangeEmployeePwd open={changePwd} handleClose={() => setChangePwd(false)} employeeDetail={employeeDetail} />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={3} >\n            <UploadImage src={employeeDetail.img_url} />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.employee_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên đăng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.user_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày sinh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.date_of_birth}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  CMND\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.id_card_num}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.phone}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.address}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={4}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chức năng\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.permissions.map((permission) => (\n                    <Chip label={permission.description} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.branches?.map((branch) => (\n                    <Chip label={branch.name} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Loại lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {salaryTypeMapping[employeeDetail.salary_type]}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mức lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={employeeDetail.salary}/>\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === 'active' ? \"Kích hoạt\" :\"Ngưng hoạt động\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n        </Grid>\n\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setOpenEdit(true);\n            }}\n          >\n            Sửa\n          </Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={async () => {\n            if (row.status === \"inactive\") {\n              try {\n                const response = await employeeApi.activeEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                handleReload()\n              } catch (err) {\n                console.log(err)\n                dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n              }\n            } else if (row.status === \"active\") {\n              try {\n                const response = await employeeApi.inactiveEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n              }\n            }\n\n          }}>\n            {row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n          </Button>\n\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={async () => {\n              try {\n                const response = await employeeApi.deleteEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Xoá nhân viên thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Xoá nhân viên thất bại\"))\n              }\n            }} >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xoá\" />\n            </StyledMenuItem>\n\n            {info.role === \"owner\" &&\n              <StyledMenuItem onClick={() => setChangePwd(true)} >\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <LockIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Mật khẩu\" />\n              </StyledMenuItem>}\n\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default EmployeeDetail;\n","import React from 'react'\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\n\nimport InfoTwoToneIcon from '@material-ui/icons/InfoTwoTone';\nimport {Typography,Tooltip} from '@material-ui/core';\n\nconst HtmlTooltip = withStyles((theme) => ({\n    tooltip: {\n      backgroundColor: '#6b6b6b',\n      // color: 'rgba(0, 0, 0, 0.87)',\n      color: '#fff',\n      // maxWidth: 220,\n      fontSize: theme.typography.pxToRem(12),\n      border: '1px solid #000',\n    },\n  }))(Tooltip);\n\nconst MoreInfo = (props) => {\n  const {title, content} = props\n    return (\n        <div> \n            <HtmlTooltip\n                arrow\n                title={\n                <React.Fragment>\n                    {/* <Typography color=\"inherit\">Tooltip with HTML</Typography>\n                    <em>{\"And here's\"}</em> <b>{'some'}</b> <u>{'amazing content'}</u>.{' '}\n                    {\"It's very engaging. Right?\"} */}\n                    {props.children}\n                </React.Fragment>\n                }\n            >\n              <InfoTwoToneIcon fontSize=\"small\" />\n            </HtmlTooltip>\n        </div>\n    )\n}\n\nexport default MoreInfo\n","import React ,{useEffect,useState}from 'react'\nimport {Typography,Divider,Card,Grid,Paper,InputAdornment,Box,TextField,Button,InputLabel,MenuItem,FormControl,Select,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\n\nimport { TreeSelect,Tree } from 'antd';\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from 'react-redux'\n\nconst CategorySelect = ({data,saveData,setData, isNotSelect,setOpenFilter}) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branches = info.store.branches \n    const [categoryId, setCategoryId] = useState('all');\n\n    const [categoryList, setCategoryList] = useState([]);\n    const [allProduct, setAllProduct] =  useState([]);\n    // useEffect(()=>{\n    //   if ( window.localStorage.getItem(\"products\")) {\n    //     const products = JSON.parse(window.localStorage.getItem(\"products\"));\n    //     if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n    //       setAllProduct(products.data);\n    //     }\n    //   }\n    // },[])\n\n\n    const recursiveSearchTree = (category) => {\n        const findedCategory=category.find(e => e.uuid === categoryId);\n        if(findedCategory){return findedCategory}\n        for(let i = 0; i< category.length ; i++){\n          if(category[i].children.length > 0){return recursiveSearchTree(category[i].children)}\n        } \n      };\n      const getAllChild  =(cat) => {\n        if(!cat){return}\n        if(cat.children.length === 0){return cat.uuid}\n        return cat.children.map((child)=>{\n          return getAllChild(child)\n        })\n      }\n      const filterCategory = () =>{\n        if(categoryId === 'all') {\n          setData(saveData)\n            // setData(allProduct)\n        }else{\n          let cat =  recursiveSearchTree(categoryList)\n          let allChild = cat?.children?.length !== 0? getAllChild(cat) : []\n          allChild =  [].concat.apply([], allChild)\n          let allCat =  allChild ?[... allChild, cat?.uuid]: allChild\n         //   setData(saveData.filter(data =>  allCat?.includes(data.category_uuid ) ))\n        //  let newAllProduct = [...allProduct]\n        //  newAllProduct = newAllProduct.filter(data =>  allCat?.includes(isNotSelect?data.category.uuid:data.category_uuid ))\n        // setData(newAllProduct)\n        // var newProductData = [...allProduct]\n        // newProductData = setData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid ))\n        setData(saveData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid )))\n\n        }\n      }\n    \n    const fetchAllCategory = async () => {\n        try {\n            const response = await productApi.getNestedCategory(store_uuid);\n            setCategoryList(response.data);\n        } catch (error) { }\n    };\n\n    useEffect(()=>{\n        if (store_uuid && branch_uuid &&saveData) {fetchAllCategory()}\n        },[])\n\n    useEffect(()=>{\n        if(categoryList&& data &&saveData.length !==0) {\n            filterCategory()\n            // if(isNotSelect && categoryId) {setOpenFilter(false)}\n        }\n        \n        },[categoryId])\n\n    const [selectedNodeUuid,setSelectedNodeUuid] = useState(null)\n    const onSelect = (selectedKeys, info) => {\n        if(info.node.uuid){\n            setCategoryId(info.node.uuid)\n        }else{\n            setCategoryId('all')\n        }\n        // setCategoryId(info.node.uuid)\n        setOpenFilter(false)\n    };\n    console.log(\"selectedNodeUuid\",selectedNodeUuid)\n\n if(isNotSelect){\n     return (\n         <>\n        <Tree\n        // showLine={true}\n        // showIcon={true}\n        // defaultExpandedKeys={['0-0-0']}\n        // onSelect={(selectedKeys, info)=>console.log(info.node.uuid)}\n        onSelect={onSelect}\n        // onChange={(val)=>setCategoryId(val )}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n      /> \n      {/* <Button variant=\"contained\"  onClick={()=>{setCategoryId(selectedNodeUuid);}}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n\n      </>\n     )\n }       \n  return (\n    <TreeSelect\n        style={{ width: 220}}   \n        dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n        value={categoryId}\n        onChange={(val)=>setCategoryId(val )}\n        treeDefaultExpandAll\n        placeholder=\"Danh mục\"\n        \n    />\n  )\n}\n\nexport default CategorySelect","import React, {useState,useEffect} from 'react'\nimport icon from '../../assets/img/product/tch.jpeg';\nimport InventoryList from '../../assets/JsonData/inventory.json';\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport { useSelector } from 'react-redux';\n//import library \nimport {Grid,Card,Box,Table,TableCell,Modal,Tooltip,Dialog,Tabs,Tab,TableRow,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography, Button} from '@material-ui/core'\nimport { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\nimport TableHeader from \"../TableCommon/TableHeader/TableHeader\" \nimport TableWrapper from \"../TableCommon/TableWrapper/TableWrapper\" \nimport ListIcon from '@material-ui/icons/List';\nimport ImageTwoToneIcon from '@material-ui/icons/ImageTwoTone';\nimport ListAltTwoToneIcon from '@material-ui/icons/ListAltTwoTone';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport clsx from \"clsx\"\nimport { TreeSelect } from 'antd';\nimport CategorySelect from \"../Select/CategorySelect\"\nimport { grey } from \"@material-ui/core/colors\";\nimport BrokenImageTwoToneIcon from '@material-ui/icons/BrokenImageTwoTone';\nimport WallpaperTwoToneIcon from '@material-ui/icons/WallpaperTwoTone';\nconst MenuProduct = ({products, setProducts, handleSearchBarSelect, isCart, selectedItem,typeShow,setTypeShow,isCheck,showImage,setShowImage}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const InventoryHeadCells = [\n      { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n      { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n      { id: \"price\", align: \"right\", disablePadding: false, label: isCart? \"Giá bán\":'Giá vốn' },\n      { id: \"inventory\", align: \"right\", disablePadding: false, label: \"Tồn kho\" },\n      { id: \"\", align: \"right\", disablePadding: false, label: \"\" },\n    ];\n    const [categoryList, setCategoryList] = useState([]);\n    const [categoryId, setCategoryId] = useState('all');\n    // redux\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting;\n\n    // const [typeShow, setTypeShow] = useState('list')\n    const [allProduct, setAllProduct] =  useState([]);\n    useEffect(()=>{\n      if ( window.localStorage.getItem(\"products\")) {\n        const products = JSON.parse(window.localStorage.getItem(\"products\"));\n        if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n          setAllProduct(products.data);\n        }\n      }\n    },[])\n\n    const selectedItemUuid =selectedItem.length ===0?[]: selectedItem.map((item)=>item.uuid)\n    const findItem = (item)=>{\n     const findedItem =  selectedItem.find(row => item.uuid === row.uuid)\n     if(isCheck){return findedItem?.real_quantity}\n     return findedItem?.quantity\n    // return findedItem?.real_quantity\n    // console.log(\"findedItem\",findedItem)\n    }\n\n    const [openFilter, setOpenFilter] = useState(false)\n    const [filter, setFilter] = useState(null)\n    const renderListOption = () => {\n      const color = theme.customization.mode === \"Light\"  ? '#000' : '#fff'\n      return (\n        <>\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}} >\n        <Table size={'small'} stickyHeader >\n            <TableHeader\n                classes={classes}\n                headerData={store_setting?.inventory.status ?InventoryHeadCells: InventoryHeadCells.filter(item => item.id !== \"inventory\")}\n                color={color}\n              />\n              <TableBody>\n                {products.map((row, index) => {\n                  let findedItem= findItem(row)\n                  return (\n                  <TableRow key={row.uuid}  onClick={() => handleSearchBarSelect(row)} style={{color:color,backgroundColor:selectedItemUuid.includes(row.uuid) &&( theme.customization.mode === \"Light\"  ? theme.customization.primaryColor[50] : grey[700])}}>\n                    <TableCell align=\"left\" style={{color:color}}> {row.product_code} </TableCell>\n                      <TableCell align=\"left\"  >\n                        <ListItem style={{ marginLeft: -30, marginTop: -10, marginBottom: -10, }}  >\n                         {showImage? <Box component=\"img\" sx={{ height: 35, width: 35, borderRadius: 10, marginRight: 15 }} src={JSON.parse(row.img_urls)?.at(0) || defaultProduct} />:null}\n                          <Typography className={classes.fontName} style={{color:color}}>{row.name}</Typography>\n                        </ListItem>\n                    </TableCell>\n                    <TableCell align=\"right\" > <VNDFormat value={isCart? row.list_price : row.standard_price } style={{color:color}} /> </TableCell>\n                      {store_setting?.inventory.status ? <TableCell align=\"right\" className={classes.fontName} style={{fontWeight:500,color:color}}> {row.branch_quantity}  </TableCell> : null}\n                      <TableCell align=\"right\" style={{color:theme.customization.secondaryColor[500], fontWeight:600}}>{findedItem? `x ${findItem(row)}`:''}</TableCell>\n                  </TableRow>\n                ); })}\n              </TableBody>\n          </Table>\n          </TableContainer>\n        </>\n      );\n    };\n\n    const renderImageOption = () => {\n      return (\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}>\n        <Grid container spacing={2} >\n        {products.map((item, index) => {\n            let findedItem= findItem(item)\n            return(\n              <Grid item>\n              <Card  className={clsx(classes.hoverCard,classes.item,classes.colorCard)} style={{ width:120, borderRadius:7,backgroundColor: theme.customization.mode === \"Light\"  ? null: grey[700]}} >\n                <CardActionArea  onClick={() => handleSearchBarSelect(item)}>\n                {showImage?<CardMedia\n                        style={{height:120, margin:5, marginBottom:-5, borderRadius:7}}\n                        image={JSON.parse(item.img_urls ? item.img_urls : \"[]\").length  ? JSON.parse(item.img_urls ? item.img_urls : \"[]\").at(0) : defaultProduct}\n                     />:null}\n                    <CardContent style={{margin:-5}}>\n                        <Typography gutterBottom  style={{color:'#000', fontWeight:500, fontSize:Number(12)}}> {item.name} </Typography>\n                        <Grid container alignItem='center'justifyContent='space-between'>\n                        <Typography   className={classes.alignCenter} style={{color:'#000', fontWeight:'#000', fontSize:Number(12)}} >\n                            {item.list_price.toLocaleString()} đ\n                        </Typography>\n                        <Typography style={{color:theme.customization.secondaryColor[500], fontWeight:600, marginTop:-2}} >{findedItem? `x ${findItem(item)}`:''} </Typography>\n                        </Grid>\n                    </CardContent>   \n              </CardActionArea>\n          </Card>\n          </Grid> \n          )})}\n          \n          \n        </Grid>\n        </TableContainer>\n      );\n    };\n    \n\n    return (\n          <div style={{marginTop:-25}}>\n           {/* <Tooltip title=\"Dạng danh sách\"> <ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')} style={{marginRight:5}}/> </Tooltip> */}\n           <Tooltip title=\"Dạng danh sách\" aria-label=\"add\"><ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')}  style={{marginRight:5}} /></Tooltip>\n           <Tooltip title=\"Dạng hình ảnh\" aria-label=\"add\"><ImageTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('image')}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Lọc\" aria-label=\"add\"><FilterListTwoToneIcon  fontSize=\"small\"onClick={()=>setOpenFilter(true)}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Hiển thị hình\" aria-label=\"add\"><WallpaperTwoToneIcon fontSize=\"small\"  onClick={()=>setShowImage(!showImage)} /></Tooltip>\n            \n             {typeShow === 'list'&& renderListOption()}\n             {typeShow === 'image'&& renderImageOption()}\n             <Dialog open={openFilter} onClose={()=>setOpenFilter(false)} >\n                  <Box style={{ marginTop: 10,  marginBottom: 10,padding:10 }}>\n          \n                    <Typography variant=\"h5\" style={{fontSize:18, marginBottom:20, paddingRight:100}}>\n                      Chọn danh mục\n                    </Typography>\n        \n                    <CategorySelect data={products} saveData={allProduct} setData={setProducts} isNotSelect={true} setOpenFilter={setOpenFilter}/>\n                    {/* <Button variant=\"contained\"  onClick={()=>setOpenFilter(false)}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n                  </Box>\n            \n             </Dialog>\n          </div>\n \n    )\n}\n\nexport default MenuProduct\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// const categoryBig = ['Quần áo', 'Bánh kẹo', 'Đồ dùng', 'Điện thoại', 'Máy tính']\n\n\n   // //tab menu\n    // const [value, setValue] = React.useState(0);\n    // const handleChange = (event, newValue) => {\n    //     setValue(newValue);\n    // }; \n/* <Tabs style={{marginBottom:10, marginLeft:-20}}  variant=\"scrollable\" scrollButtons=\"auto\" indicatorColor=\"secondary\" textColor=\"secondary\"value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n  {categoryBig.map((item)=>{\n  return(\n      <Tab label={item} style={{ minWidth: 100,textTransform: 'none'}} />          \n      )\n  })}\n</Tabs> */","import React from \"react\";\nimport { Fab, IconButton, Tooltip, ButtonBase, Badge } from \"@material-ui/core\";\nimport { makeStyles, createStyles, styled } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { IconSettings } from \"@tabler/icons\";\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    btn: {\n      position: \"fixed\",\n      top: 200,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n\n    btnBottom: {\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n  })\n);\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n  \"& .MuiBadge-badge\": {\n    border: `3px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\",\n  },\n}));\nconst CartButton = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const {number} = props\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      aria-label=\"add\"\n      className={classes.btn}\n      component={Link}\n      to={`/store/${props.storeInfo?.web_page}/cart`}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }}>\n        <StyledBadge color=\"error\" badgeContent={number}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport const CartBottom = ({numberItem}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      className={classes.btnBottom} \n      onClick={()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:\"smooth\"})}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }} >\n        <StyledBadge color=\"error\" badgeContent={numberItem}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport default CartButton;\n","import axiosClient from \"./axiosClient\";\nimport moment from \"moment\";\nconst promotionCouponApi = {\n  createPromotion: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/createPromotion`;\n    return axiosClient.post(url, body);\n  },\n\n  createVoucher: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/createVoucher`;\n    return axiosClient.post(url, body);\n  },\n  updatePromotion: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/updatePromotion`;\n    return axiosClient.put(url, body);\n  },\n  updateVoucher: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/updatePromotion`;\n    return axiosClient.put(url, body);\n  },\n  getActivePromotionVoucher: (storeUuid) => {\n    let d = moment.now() / 1000;\n\n    let currentDate = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD\", { trim: false });\n    const url = `stores/${storeUuid}/getActivePromotionVoucher`;\n    return axiosClient.get(url, {\n      params: {\n        date: currentDate,\n      },\n    });\n  },\n  getAllPromotions: (storeUuid,query) => {\n    const url = `stores/${storeUuid}/getAllPromotions`;\n    return axiosClient.get(url, {\n      params: query,\n    });\n  },\n  getAllVouchers: (storeUuid,query) => {\n    const url = `stores/${storeUuid}/getAllVouchers`;\n    return axiosClient.get(url, {\n      params: query,\n    });\n  },\n};\nexport default promotionCouponApi;\n","import React from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n//import library \nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\n\nimport AddIcon from '@material-ui/icons/Add';\nimport SwapVertTwoToneIcon from '@material-ui/icons/SwapVertTwoTone';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\nconst ChangeCartBtn = (props) => {\n    const {selectedIndex,anchorEl,cartList,handleClick,handleClose,handleChoose,handleDelete,handleAdd, isCart} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    let hardText = isCart ? \"Khách lẻ\" :\"Nhà cung cấp lẻ\";\n\n    const getTitle = (cart) => {\n        if (isCart) {\n            return cart.customer === null ? hardText : cart.customer.name\n        } else {\n            return cart.supplier === null  ? hardText: cart.supplier.name\n        }\n    }\n\n    return (\n        <>\n\n        {cartList.length === 1 ?\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <AddIcon fontSize=\"inherit\" onClick={handleAdd} />\n            </IconButton>:\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <SwapVertTwoToneIcon fontSize=\"inherit\"  onClick={handleClick}/>\n            </IconButton>\n        }\n            <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            \n        >\n            {cartList.map((cart, index) => (\n                <MenuItem\n                    key={index}\n                    selected={index === selectedIndex}\n                >\n                    <Grid container direction=\"row\" justifyContent=\"space-between\"spacing={1}>\n                        <Grid container item onMouseDown={()=>handleChoose(index)} item xs={10}  >\n                            <Box style={{marginRight:10}}>#{index + 1}</Box>\n                            {getTitle(cart)}         \n                        </Grid>\n                \n                        <Grid container xs={2} item>\n                            <IconButton  size=\"small\" style={{color:'#000000'}}>\n                                <HighlightOffTwoToneIcon fontSize=\"inherit\" onClick={()=>handleDelete(index )} />\n                            </IconButton>\n                        </Grid>\n                    </Grid>\n                    \n                </MenuItem>\n                ))}\n\n            <MenuItem onClick={handleAdd}><Box style={{marginRight:10, fontSize:20}}>+</Box>Tạo giỏ mới</MenuItem>\n        </Menu> \n        </>\n    )\n}\n\nexport default ChangeCartBtn\n","import { renderToString } from 'react-dom/server'\n\nconst CustomerRegisterEmail = (header, footer, customer, store) => {\n    \n    return renderToString(\n        <>\n        {header}\n        <div>\n            Xin chào <strong>{customer.name}</strong>, \n        </div>\n        <div>\n            Email này được gửi từ {store.name},<br/>\n            Chúc mừng bạn đã trở thành khách hàng thân thiết của cửa hàng chúng tôi.<br/>\n            Đây là mã khách hàng của bạn <strong>{customer.customer_code}</strong>, sử dụng mã này để tích điểm nhé!\n            \n            <br/>\n            Thông tin của bạn:\n            <ul>\n                <li>Tên: {customer.name}</li>\n                <li>Số điện thoại: {customer.phone}</li>\n                <li>Thông tin thanh toán: {customer.payment_info}</li>\n            </ul>\n        </div>\n        {footer}\n        </>\n    )\n}\n\nexport default CustomerRegisterEmail;","import {\n    InputAdornment,\n    Box\n} from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport barcodeIcon from \"../../assets/img/icon/barcode_grey.png\";\nimport productApi from \"../../api/productApi\";\nimport { CustomTextField } from \"./SearchProduct\"\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\n\nconst SearchBarCode = (props) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const products = info.products;\n\n\n    const [barcode,setBarcode] = useState(\"\")\n\n    const dispatch = useDispatch();\n    const onEnter = async (e) =>{\n        // if(e.key === \"Enter\" && barcode != \"\"){\n        //     try {\n        //         const response = await productApi.searchBranchProduct(\n        //             store_uuid,\n        //             branch_uuid,\n        //             barcode\n        //           );\n        //           if (response.data.length > 0){\n        //             props.handleSearchBarSelect(response.data[0]);\n        //             setBarcode(\"\")\n        //             dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n        //           }\n        //     } catch (error) {\n        //         console.log(error)\n        //         dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n        //     }\n        // }\n        if (e.key === \"Enter\" && barcode != \"\") {\n          const product = props.products.find(\n            (product) => product.bar_code === barcode\n          );\n          if (product) {\n            props.handleSearchBarSelect(product);\n            setBarcode(\"\");\n            dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n          } else {\n            dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n          }\n          if (barcode.includes(\"_\")){\n              let list = barcode.split(\"_\")\n              let product = props.products.find(\n                (product) => product.product_code.includes(list[0])\n              )\n              if (product) {\n                props.handleSearchBarSelect(product,list[1]);\n                setBarcode(\"\");\n                dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n              }\n            }\n        }\n    }\n    return <CustomTextField\n        fullWidth\n        placeholder=\"Quét mã vạch\"\n        variant=\"outlined\"\n        size=\"small\"\n        autoFocus\n        onKeyPress={onEnter}\n        onChange = {(e) => setBarcode(e.target.value)}\n        value = {barcode}\n        InputProps={{\n            startAdornment: (\n                <InputAdornment position=\"start\">\n                    <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n            ),\n            endAdornment: (\n                <InputAdornment position=\"end\">\n                    <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23, marginRight: 10 }}\n                        src={barcodeIcon}\n                    />\n                </InputAdornment>\n            ),\n            style: {\n                width: 300,\n                padding: \"3px\",\n                margin: \"0px\"\n            },\n        }}\n    />\n}\nexport default SearchBarCode;","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  attrCard:{\n    margin:\"5px 0px 25px 0px\", \n    boxShadow: \"none\",border: '1px solid' , borderColor:\"#c9c9c9\"\n  },\n  attrHead:{\n    backgroundColor:\"#E4E4E4\", height:40, color:\"#000\"\n  },\n  rooot: {\n    '& .MuiFormLabel-root.Mui-disabled': {\n      color: 'red',\n    },\n  },\n}));\n","/* eslint-disable no-use-before-define */\nimport React, { useRef, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Box, Button, Grid, InputAdornment, Typography } from \"@material-ui/core\";\nimport productApi from \"../../api/productApi\";\nimport { useEffect } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nexport default function SearchWithAutoComplete(props) {\n  const {\n    searchApiCall,\n    onSelect,\n    renderInput,\n    renderOption,\n    getOptionLabel,\n    value,\n    nextRef,\n    handleDefaultSelect\n  } = props;\n  const [options, setOptions] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const loadingData = async (e, searchKey) => {\n    setSearchValue(searchKey);\n  };\n\n\n  useEffect(() => {\n    const fetchData = async (searchKey = searchValue) => {\n      if (searchKey !== \"\") {\n        try {\n          const key = searchKey.slice(0, searchKey.indexOf(\"(\"))\n          const response = await searchApiCall(key);\n          setOptions(response.data);\n          onSelect(response.data[0])\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    };\n    const timer = setTimeout(() => fetchData(), 500);\n    return () => clearTimeout(timer);\n  }, [searchValue]);\n  return (\n    <Autocomplete\n      options={options}\n      freeSolo\n      getOptionLabel={getOptionLabel}\n      renderOption={renderOption}\n      onInputChange={loadingData}\n      autoSelect\n      getOptionSelected={(option, value) => option.bar_code === value.bar_code}\n      onChange={(e, value) => onSelect(value)}\n      size=\"small\"\n      renderInput={renderInput}\n\n    />\n  );\n}\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Downshift from \"downshift\";\n\nconst useStyles = makeStyles(theme => ({\n  chip: {\n    margin: theme.spacing(0.5, 0.25)\n  }\n}));\n\nexport default function TagsInput({ ...props }) {\n  const classes = useStyles();\n\n  const { selectedItem, setSelectedItem, selectedTags, placeholder, tags, ...other } = props;\n  const [inputValue, setInputValue] = React.useState(\"\");\n  // const [selectedItem, setSelectedItem] = React.useState([]);\n\n  useEffect(() => {\n    setSelectedItem(tags);\n  }, [tags]);\n\n  useEffect(() => {\n    selectedTags(selectedItem);\n  }, [selectedItem, selectedTags]);\n  \n\n\n  function handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      const newSelectedItem = [...selectedItem];\n      const duplicatedValues = newSelectedItem.indexOf(\n        event.target.value.trim()\n      );\n\n      if (duplicatedValues !== -1) {\n        setInputValue(\"\");\n        return;\n      }\n      if (!event.target.value.replace(/\\s/g, \"\").length) return;\n\n      newSelectedItem.push(event.target.value.trim());\n      setSelectedItem(newSelectedItem);\n      setInputValue(\"\");\n    }\n    if (\n      selectedItem.length &&\n      !inputValue.length &&\n      event.key === \"Backspace\"\n    ) {\n      setSelectedItem(selectedItem.slice(0, selectedItem.length - 1));\n    }\n  }\n  function handleChange(item) {\n    let newSelectedItem = [...selectedItem];\n    if (newSelectedItem.indexOf(item) === -1) {\n      newSelectedItem = [...newSelectedItem, item];\n    }\n    setInputValue(\"\");\n    setSelectedItem(newSelectedItem);\n  }\n\n  const handleDelete = item => () => {\n    const newSelectedItem = [...selectedItem];\n    newSelectedItem.splice(newSelectedItem.indexOf(item), 1);\n    setSelectedItem(newSelectedItem);\n  };\n\n  function handleInputChange(event) {\n    setInputValue(event.target.value);\n  }\n  return (\n    <React.Fragment>\n      <Downshift\n        id=\"downshift-multiple\"\n        inputValue={inputValue}\n        onChange={handleChange}\n        selectedItem={selectedItem}\n      >\n        {({ getInputProps }) => {\n          const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\n            onKeyDown: handleKeyDown,\n            placeholder\n          });\n          return (\n            <div>\n              <TextField\n                InputProps={{\n                  startAdornment: selectedItem.map(item => (\n                    <Chip\n                      key={item}\n                      tabIndex={-1}\n                      label={item}\n                      className={classes.chip}\n                      onDelete={handleDelete(item)}\n                    />\n                  )),\n                  onBlur,\n                  onChange: event => {\n                    handleInputChange(event);\n                    onChange(event);\n                  },\n                  onFocus\n                }}\n                {...other}\n                {...inputProps}\n              />\n            </div>\n          );\n        }}\n      </Downshift>\n    </React.Fragment>\n  );\n}\nTagsInput.defaultProps = {\n  tags: []\n};\nTagsInput.propTypes = {\n  selectedTags: PropTypes.func.isRequired,\n  tags: PropTypes.arrayOf(PropTypes.string)\n};\n","import React, { useEffect, useState } from 'react'\nimport TagsInput from \"../../../../components/TextField/TagsInput\"\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport EditTwoToneIcon from '@material-ui/icons/EditTwoTone';\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\";\n\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\nimport AddIcon from '@material-ui/icons/Add';\nimport {Button,TextField, Grid, FormControl, Select,MenuItem,Typography, ListItem} from \"@material-ui/core\";\nimport RemoveIcon from '@material-ui/icons/Remove';\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\n\n\nconst AddAttribute = ({ attributeList, datas, setDatas, setRelatedList, list_price, standard_price }) => {\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n\n    function generateList   ()  {\n        let newArr = [...datas];\n\n        var mySet  = [];\n        for (let i = 0; i < newArr.length ; i++){\n            if(mySet.length === 0 ){\n                mySet= newArr[i].items\n              \n            }\n            else{\n                var _set = [];\n                for (let j = 0; j < mySet.length ; j++ ){\n                    for (let k = 0; k < newArr[i].items.length ; k++ ){\n                        _set.push(mySet[j].concat( ` -  `,newArr[i].items[k]))\n                        // _set.push({name:mySet[j].concat( ' - ',newArr[i].items[k]), attList:[]})\n\n                    }\n                }\n                if(_set.length !== 0) {mySet = _set}\n\n            }\n         }\n        return mySet\n      }\n\n      useEffect (() =>{\n        var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n        generateList().map(e =>list.push({name:e,product_code:\"\",quantity:0, bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n\n        setRelatedList(list)\n    \n\n      },[datas])\n\n    const updateFieldChanged = (index, attr) => {\n        let newArr = [...datas];\n        newArr[index].key = attr;\n        setDatas(newArr);\n\n    }\n    const updateValueChanged = (index,value)=>{\n        let newArr = [...datas];\n        newArr[index].items = value;\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const deleteAttr = (key) => {\n        let newArr = [...datas];\n        // newArr = newArr.filter(row => row.key !== key)\n        newArr = newArr.filter(row => row.id !== key)\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const addAttrRow = () => {\n        let newArr = [...datas];\n        newArr.push({ id:new Date(), key: \"unset\", items: []})\n        setDatas(newArr);\n    //     var list = []\n    //     generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n    //     setRelatedList(list)\n    }\n\n    return (\n        <div style={{ marginBottom: 10 }}>\n            {datas.map((data, index) => {\n                return (\n                    <AttributeRow attributeList={attributeList} index={index} data={data} datas={datas} updateFieldChanged={updateFieldChanged} deleteAttr={deleteAttr}  updateValueChanged={updateValueChanged}/>\n                )\n            })}\n            <Button variant=\"outlined\" size=\"small\" color=\"primary\" style={{ marginLeft: 20, marginTop: 10, textTransform: \"none\" }}\n                startIcon={<AddIcon />}\n                onClick={() => addAttrRow()}>\n                Thêm thuộc tính\n            </Button>\n\n            \n        </div>\n    )\n}\n\nexport default AddAttribute\n\n\nconst AttributeRow = ({ attributeList, data, datas, updateFieldChanged, index, deleteAttr, setDatas ,updateValueChanged}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [inputAttr, setInputAttr] =  useState(false)\n\n\n    //  popup\n  const [openPopupAddAttr, setOpenPopupAddAttr] = useState(false);\n  const [isEditPopUp, setIsEditPopUp] = useState(false);\n\n\n    const [value, setValue] = React.useState([]);\n\n\n    const handleChangeAttr = (event) => {\n        var valid = true;\n        datas.map((row)=>{if(row.key === event.target.value){valid = false}    })\n\n        if (valid){\n            updateFieldChanged(index, event.target.value)   \n        } else{}\n    };\n\n    const [selectedItem, setSelectedItem] = React.useState([]);\n\n    function handleSelecetedTags(items) {\n        setValue(items);\n    }\n\n    useEffect(() => {\n        updateValueChanged(index, value)  \n    }, [value]);\n\n    return (\n        <Grid container className={classes.row} alignItems=\"center\">\n            <Grid container item xs={11} alignItems=\"center\" >\n               {!inputAttr? <FormControl className={classes.formControl}>\n                    <Select value={data.key} onChange={handleChangeAttr}  >\n                        <MenuItem value=\"unset\" selected disabled hidden>Chọn thuộc tính...</MenuItem>\n                        {attributeList.map((attr) => {\n                            return (<MenuItem value={attr.name}>{attr.name}</MenuItem>)\n                        })}\n                        {/* <MenuItem   hidden>\n                            <AddIcon fontSize=\"small\"style={{marginRight:5, marginLeft:-5}}/>\n                            <Typography style={{color:\"#000\", fontSize:12}} onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(false)}}>Tạo thuộc tính mới</Typography>\n                        </MenuItem> */}\n                    </Select>\n\n                </FormControl>:\n                <TextField\n                style={{width:230}}\n                        value={data.key}\n                        onChange={handleChangeAttr}\n                />\n                                /* <EditTwoToneIcon style={{ marginRight: 60 }}  onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(true)}}/> */\n                    }\n                {inputAttr === false ?\n                <AddIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(true); updateFieldChanged(index, '')    }} />:    \n                <RemoveIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(false);updateFieldChanged(index, '')  }} />\n                }\n                <TagsInput style={{ minWidth: 270 }} selectedTags={handleSelecetedTags} selectedItem={selectedItem} setSelectedItem={setSelectedItem} placeholder=\"Nhấn giá trị và enter\"\n                />\n            </Grid>\n\n            <Grid container item xs={1} >\n                {/* <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.key) }} /> */}\n                <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.id) }} />\n            </Grid>\n\n            <ModalWrapperWithClose     \n                open={openPopupAddAttr}\n                handleClose={() => setOpenPopupAddAttr(false)}\n                title={isEditPopUp? \"Sửa thuộc tính\" :\"Thêm thuộc tính\"}\n            >\n                 <Grid container alignItems=\"center\" style={{margin:\"20px 10px 30px 10px\"}}>\n                    <Typography style={{marginRight:40, color:\"#000\", fontWeight:500}}>Tên thuộc tính:  </Typography> \n                    <TextField />\n                 </Grid>\n                 {isEditPopUp?\n                    //  Edit, Delete\n                    // null\n                    <div style={{flexGrow: 1,textAlign: \"right\"}}>\n                        <Button size=\"small\" variant=\"contained\" color=\"secondary\">Xoá</Button>\n                        <Button size=\"small\" variant=\"contained\" color=\"primary\" style={{marginLeft:10}}>Sửa</Button>\n                    </div>\n                    :\n                    // add\n                    <Button style={{flexGrow: 1,textAlign: \"center\"}} variant=\"contained\" color=\"primary\">Thêm</Button>               \n                }       \n            </ModalWrapperWithClose>\n\n        </Grid>\n    )\n}\n","import React, {useEffect} from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport {Button, Grid, TextField,FormControl,TableRow,TableCell,Divider,TableBody, Select,MenuItem, Typography} from \"@material-ui/core\";\nimport clsx from \"clsx\"\nimport {ThousandFormat, ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\nimport TableWrapper from '../../../../components/TableCommon/TableWrapper/TableWrapper'\nimport TableHeader  from '../../../../components/TableCommon/TableHeader/TableHeader'\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\nconst RelaltedItemList = ({relatedList, setRelatedList , list_price,standard_price,isManageInventory}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0, attribute_values}\n\n\n\n\n\n    const handleDelete = (index)=> {\n        var newArr = [...relatedList];\n        newArr = newArr.filter(row => row.name !== index)\n        setRelatedList(newArr)\n    }\n\n    const handleChangeProperties = (index, property, newValue) => {\n        const newArr = relatedList.map(row => {\n            if (row.name === index) {\n                const newRow = {...row}\n                newRow[property] = newValue;\n                return newRow;\n            } else {\n                return row\n            }\n        })\n        setRelatedList(newArr);\n    }\n\n    return (\n        <div>\n           <TableWrapper isCart={true}>\n                <TableHeader\n                    classes={classes}\n                    headerData={isManageInventory? CustomerHeadCells :CustomerHeadCells.filter(i => i.id !== \"quantity\")\n                    }\n                />\n                <TableBody>\n                {relatedList.map((row, index) => {\n                    return (\n\n                      <TableRow>\n                        <TableCell align=\"center\" style={{color:'#000', fontWeight:500}}>{row.name}</TableCell>\n                        {/* <TableCell align=\"center\">\n                          <TextField\n                            value={row.product_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"product_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                        </TableCell> */}\n                        <TableCell align=\"center\">\n                          <TextField\n                            value={row.bar_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"bar_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                          \n                        </TableCell>\n                       {isManageInventory?\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.quantity}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"quantity\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>:null}\n\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.standard_price}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"standard_price\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.list_price}\n                            onChange={(e) => {\n                                handleChangeProperties(\n                                  row.name,\n                                  \"list_price\",\n                                  Math.abs( e.target.value)\n                                )\n                            }\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <DeleteForeverTwoToneIcon\n                            onClick={() => handleDelete(row.name)}\n                          />\n                        </TableCell>\n                      </TableRow>\n\n                    );\n                })}\n                </TableBody>\n            </TableWrapper>\n            \n          \n        </div>\n        \n    )\n}\n\nexport default RelaltedItemList\n\n\nconst CustomerHeadCells = [\n    { id: 'name', align: 'center', disablePadding: true, label: 'Tên' },\n    // { id: 'product_code', align: 'center', disablePadding: true, label: 'Mã hàng' }, \n    { id: 'bar_code', align: 'center', disablePadding: true, label: 'Mã vạch' }, \n    { id: 'quantity', align: 'center', disablePadding: true, label: 'Tồn kho ban đầu' },  \n    { id: 'standard_price', align: 'center', disablePadding: true, label: 'Giá vốn' },\n    { id: 'unit_price', align: 'center', disablePadding: true, label: 'Giá bán' },\n    { id: 'action', align: 'center', disablePadding: true, label: '' },\n];\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n  FormControlLabel,\n  Switch,\n  Collapse,\n  Paper,\n  Card,\n  CardHeader,\n  Checkbox,\n  ListItem\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput, {\n  ThousandSeperatedInput,\n} from \"../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"./AddCategory\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../api/productApi\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SearchWithAutoComplete from \"../../../../components/SearchBar/SearchWithAutoComplete\";\nimport { urltoFile } from \"../../../../api/helper\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport { infoActions } from \"../../../../store/slice/infoSlice\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { FormatedImage } from \"../../../../components/SearchBar/SearchProduct\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport clsx from \"clsx\";\nimport TagsInput from \"../../../../components/TextField/TagsInput\";\nimport AddAttribute from \"./AddAttribute\";\nimport RelaltedItemList from \"./RelaltedItemList\";\nimport SnackBarGeneral from \"../../../../components/SnackBar/SnackBarGeneral\";\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport setting from \"../../../../assets/constant/setting\"\nimport ReactQuill, {Quill} from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport ImageResize from 'quill-image-resize-module-react';\n// import Tree from \"../../../../components/Select/Tree\"\nimport { TreeSelect } from 'antd';\nimport { StepBackwardOutlined } from \"@ant-design/icons\";\nimport { DownCircleTwoTone } from '@ant-design/icons'\n\n\nimport 'antd/dist/antd.css';\n// import \"../../../../index.css\"\nconst { SHOW_PARENT } = TreeSelect;\n\nQuill.register('modules/imageResize', ImageResize);\n\n\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\n\nconst AddInventory = (props) => {\n  const { handleClose, open } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  const [imageURL, setImageURL] = useState(\"\");\n  const addImageHandler = (e) => {\n   try{\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n   }catch(err) {\n     console.log(err)\n   }\n  };\n\n  const [description, setDescription] = useState('');\n\n  const productFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      barcode: \"\",\n      importedPrice: 0,\n      salesPrice: 0,\n      category: \"\",\n      unit: \"\",\n      re_order_point: 0,\n      product_code: \"\",\n      has_batches: false,\n      quantity:0,\n      max_order:999999999,\n      description:\"\",\n      notification_period:7,\n\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number()\n        // .moreThan(0, \"Giá vốn phải lớn hơn không\"),\n        .moreThan(-1, \"Giá vốn không được âm\"),\n\n      salesPrice: Yup.number()\n        .moreThan(-1, \"Giá bán phải lớn hơn không\"),\n\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(\n        -1,\n        \"Số lượng đặt hàng lại không được âm\"\n      ),\n\n      quantity: Yup.number().moreThan(-1, \"Tồn kho ban đầu không được âm\"),\n\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n      notification_period: Yup.number().moreThan(-1, \"Số ngày không được âm\"),\n    }),\n  });\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Tên thuộc tính trống\",\n  });\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  // dispatch(infoActions.setStore({...info.store, general_configuration: \"{\\\"inventory\\\":{\\\"status\\\":true},\\\"recommendedProduct\\\":{\\\"status\\\":true},\\\"variation\\\":{\\\"status\\\":true},\\\"expiryDate\\\":{\\\"status\\\":true},\\\"customerScore\\\":{\\\"status\\\":false,\\\"value\\\":10000,\\\"exceptDiscountProduct\\\":false,\\\"exceptDiscountInvoice\\\":false,\\\"exceptVoucher\\\":false},\\\"email\\\":{\\\"status\\\":false,\\\"emailAddress\\\":\\\"\\\",\\\"password\\\":\\\"\\\"},\\\"notifyDebt\\\":{\\\"status\\\":true,\\\"checkDebtAmount\\\":true,\\\"debtAmount\\\":\\\"500000\\\",\\\"checkNumberOfDay\\\":false,\\\"numberOfDay\\\":\\\"15\\\",\\\"typeDebtDay\\\":\\\"firstDebt\\\",\\\"canNotContinueBuy\\\":false,\\\"canNotContinueDebt\\\":false},\\\"returnLimit\\\":{\\\"status\\\":false,\\\"day\\\":7},\\\"canFixPriceSell\\\":{\\\"status\\\":false,\\\"cart\\\":false,\\\"import\\\":true,\\\"returnCart\\\":true,\\\"returnImport\\\":true},\\\"printReceiptWhenSell\\\":{\\\"status\\\":true,\\\"cart\\\":true,\\\"import\\\":false,\\\"returnCart\\\":false,\\\"returnImport\\\":false,\\\"order\\\":false,\\\"checkInventroy\\\":false},\\\"discount\\\":{\\\"status\\\":true,\\\"applyMultiple\\\":false,\\\"applyOnline\\\":true},\\\"voucher\\\":{\\\"status\\\":true},\\\"delivery\\\":{\\\"status\\\":true},\\\"vat\\\":{\\\"status\\\":false,\\\"listCost\\\":[{\\\"key\\\":\\\"1\\\",\\\"costName\\\":\\\"\\\",\\\"value\\\":0,\\\"type\\\":\\\"%\\\"}]},\\\"orderLowStock\\\":{\\\"status\\\":true,\\\"choiceQuantity\\\":\\\"select\\\",\\\"selectQuantity\\\":\\\"latest\\\",\\\"inputQuantity\\\":10,\\\"selectSuplier\\\":\\\"latest\\\"},\\\"autoApplyDiscount\\\":{\\\"status\\\":true}}\"}));\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const addProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit ? productFormik.values.unit.toString() :\"Cái\"\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"quantity\",\n        productFormik.values.quantity\n          ? productFormik.values.quantity.toString()\n          : 0\n      );\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(datas)\n      );\n      bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.createProduct(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [reset, setReset] = useState(true);\n  const onReset = () => {\n    setReset((reset) => !reset);\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, reset]);\n\n  const selectSampleProductHandler = (product) => {\n    if (product && product.name) {\n      try {\n        productFormik.setFieldValue(\"name\", product.name, true);\n        productFormik.setFieldValue(\"barcode\", product.bar_code, true);\n        clearAllImages();\n        setDisplay([{ link: product.img_url, isUrl: true }]);\n        setImages([]);\n        setImageURL(product.img_url);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const searchSampleProductHandler = async (searchKey) => {\n    return productApi.searchDefaultProducts(searchKey, 1);\n  };\n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm();\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n    setImageURL(\"\");\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (displayImage.isUrl) {\n      setImageURL(\"\");\n    } else {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  const renderNameInput = (params) => {\n    return (\n      <TextField\n        {...params}\n        required\n        label=\"Tìm kiếm sp mẫu bằng tên hoặc mã vạch\"\n        variant=\"outlined\"\n        fullWidth\n        autoFocus\n        size=\"small\"\n        InputProps={{\n          ...params.InputProps,\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon />\n            </InputAdornment>\n          ),\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Box\n                component=\"img\"\n                sx={{ height: 23, width: 23, marginRight: -30 }}\n                src={barcodeIcon}\n              />\n            </InputAdornment>\n          ),\n          onKeyDown: (e) => {\n            if (e.key.toLowerCase() === \"arrowdown\") {\n              onFocus(salesPriceRef);\n            }\n          },\n        }}\n      />\n    );\n  };\n  const renderOptionTest = (option) => {\n    return (\n      <Grid fullWidth container direction=\"row\">\n        <Grid item xs={3}>\n          <FormatedImage url={option.img_url} />\n        </Grid>\n        <Grid item xs={9} container direction=\"column\">\n          <Typography variant=\"h5\">{option.name}</Typography>\n          <Typography variant=\"body2\">{option.bar_code}</Typography>\n        </Grid>\n      </Grid>\n    );\n  };\n  const getOptionLabel = (option) => {\n    if (option.name) {\n      return option.name + \" \" + \"(\" + option.bar_code + \")\";\n    }\n    return option;\n  };\n  const salesPriceRef = useRef();\n  const onFocus = (ref) => {\n    ref.current.focus();\n  };\n\n  //ATTRIBUTE\n  // api get all attribute\n  const attributeList = [\n    { id: \"1\", name: \"MÀU\" },\n    { id: \"2\", name: \"KÍCH THƯỚC\" },\n    { id: \"3\", name: \"CHẤT LIỆU\" },\n    { id: \"4\", name: \"VỊ\" },\n    { id: \"5\", name: \"BỘ NHỚ\" },\n  ];\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n  const [expandedDescription, setExpandedDescription] = React.useState(false);\n  const handleExpandedDescription = () => {\n    setExpandedDescription(!expandedDescription);\n  };\n  //Lô, HSD\n  const [outOfDate, setOutOfDate] = React.useState(\"false\");\n\n  // Attr\n  const [datas, setDatas] = useState([{ key: \"unset\", items: [] }]);\n\n  // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0}\n  const [relatedList, setRelatedList] = useState([]);\n  // const [attrOfProduct, setAttrOfProduct] = useState([]);\n\n  // console.log(\"relatedList\",relatedList)\n\n  const handleAddProductWithVariation = async () => {\n    if (relatedList.length !== 0) {\n      // var isValid = datas.map(item => item.key === 'unset'?  false  )\n      for (let i = 0; i < datas.length; i++) {\n        if (datas[i].key === \"unset\") {\n          setOpenSnack(true);\n          setSnackStatus({ style: \"error\", message: \"Tên thuộc tính trống\" });\n          return;\n        }\n      }\n    }\n    // handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit.toString()\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n       bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n\n      \n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"quantity\", 0);\n      for (var i = 0; i < relatedList.length; i++) {\n        const values = relatedList[i].name.split(\"-\");\n        const attributeValues = [];\n        const attrOfProduct = datas.map((item) => item.key);\n        attrOfProduct.forEach((att, index) => {\n          if (values[index])\n            attributeValues.push({\n              // name: att.name,\n              name: att,\n              value: values[index],\n            });\n        });\n        bodyFormData.append(\n          \"variations[]\",\n          JSON.stringify({\n            ...relatedList[i],\n            attribute_value: JSON.stringify(attributeValues),\n          })\n        );\n      }\n      bodyFormData.append(\n        \"attribute_value\",\n        JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.addProductWithVaration(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      // handleClose();\n      props.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [value, setValue] = useState(null)\n\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\nreturn (\n    <Dialog\n      open={open}\n      onClose={handleCloseAndReset}\n      aria-labelledby=\"form-dialog-title\"\n      maxWidth=\"md\"\n    >\n     \n      \n      <Box className={classes.root}>\n        <AddCategory\n          open={openAddCategory}\n          handleClose={handleCloseCategory}\n          onReset={onReset}\n        />\n        <SnackBarGeneral\n          handleClose={() => setOpenSnack(false)}\n          open={openSnack}\n          status={snackStatus}\n        />\n        <Box\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{ marginBottom: 20 }}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Thêm sản phẩm\n          </Typography>\n          <Box style={{ width: \"70%\" }}>\n            {store_setting?.recommendedProduct\n              .status ? (\n              <SearchWithAutoComplete\n                handleDefaultSelect={selectSampleProductHandler}\n                onSelect={selectSampleProductHandler}\n                searchApiCall={searchSampleProductHandler}\n                renderInput={renderNameInput}\n                getOptionLabel={getOptionLabel}\n                renderOption={renderOptionTest}\n                filterOptions={(options, state) => options}\n              />\n            ) : null}\n          </Box>\n        </Box>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            \n            />\n            {/* <TextField\n              label=\"Mã sản phẩm (tự động)\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"product_code\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.product_code}\n            /> */}\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n            <Box className={`${classes.box} ${classes.margin}`}>\n             \n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                {/* <InputLabel htmlFor=\"category\">Danh mục</InputLabel> */}\n                {/* <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select> */}\n                <TreeSelect\n                      id=\"category\"\n                      name=\"category\"  \n                      style={{ width: '100%'}}   \n                      dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                      treeData={categoryList}\n                      value={productFormik.values.category}\n                      onChange={(val)=>productFormik.setFieldValue(\"category\",val )}\n                      treeDefaultExpandAll\n                      onBlur={productFormik.handleBlur}\n                      \n                    />\n                    \n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              inputRef={salesPriceRef}\n              value={productFormik.values.salesPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"salesPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.list_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"importedPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.standard_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) >\n            Number(productFormik.values.salesPrice) ? (\n              <Typography variant=\"h6\" style={{ color: \"red\" }}>\n                {\" \"}\n                Giá vốn đang lớn hơn giá bán !!\n              </Typography>\n            ) : null} */}\n            {store_setting?.inventory.status ?\n            <>\n            <ThousandSeperatedInput\n              label=\"Tồn kho ban đầu\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"quantity\"\n              value={productFormik.values.quantity}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"quantity\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.quantity = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.quantity && productFormik.errors.quantity\n              }\n              helperText={\n                productFormik.touched.quantity\n                  ? productFormik.errors.quantity\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>\n          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10, marginBottom:20 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 5 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n        </Grid>\n        {/* {store_setting?.expiryDate.status  ? ( */}\n\n        {store_setting?.expiryDate.status  &&store_setting?.inventory.status ? (\n          // <div style={{ flexGrow: 1, textAlign: \"right\" , alignItems:'center'}}>\n             <Grid container alignItems=\"center\" justifyContent='flex-end'>\n            {productFormik.values.has_batches?\n            < >\n             <Typography>Thông báo trước khi hết HSD </Typography>\n             <ThousandSeperatedInput\n            //  label=\"Thông báo trước khi hết HSD\"\n              // variant=\"outlined\"\n              // fullWidth\n              size=\"small\"\n             style={{marginRight:10}}\n              name=\"notification_period\"\n              value={productFormik.values.notification_period}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.notification_period &&\n                productFormik.errors.notification_period\n              }\n              helperText={\n                productFormik.touched.notification_period\n                  ? productFormik.errors.notification_period\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n             />\n            <Typography style={{marginRight:10}}>ngày </Typography>\n          </>\n        \n             :null\n\n        }\n        \n            <FormControlLabel\n              control={\n                <Checkbox\n                  //checked={outOfDate}\n                  name=\"has_batches\"\n                  checked={productFormik.values.has_batches}\n                  onChange={productFormik.handleChange}\n                  //onChange={(event) => setOutOfDate(event.target.checked)}\n                />\n              }\n              label=\"Lô, hạn sử dụng\"\n            />\n   </Grid>\n          /* </div> */\n        ) : null}\n\n        {store_setting?.variation.status ? (\n          <>\n            <Card className={classes.attrCard} >\n              <CardHeader\n                onClick={handleExpandClick}\n                action={\n                  <IconButton\n                    size=\"small\"\n                    className={clsx(classes.expand, {\n                      [classes.expandOpen]: expanded,\n                    })}\n                    onClick={handleExpandClick}\n                    aria-expanded={expanded}\n                  >\n                    <ExpandMoreIcon />\n                  </IconButton>\n                }\n                title=\"Thuộc tính\"\n                className={classes.attrHead}\n              />\n              <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                <AddAttribute\n                  attributeList={attributeList}\n                  datas={datas}\n                  setDatas={setDatas}\n                  setRelatedList={setRelatedList}\n                  list_price={productFormik.values.salesPrice}\n                  standard_price={productFormik.values.importedPrice}\n                  // attrOfProduct={attrOfProduct}\n                  // setAttrOfProduct={setAttrOfProduct}\n                />\n              </Collapse>\n            </Card>\n            {/* GENERATE LIST */}\n            {relatedList.length > 0 ? (\n              <Card className={classes.attrCard}>\n                <CardHeader\n                  title=\"Danh sách hàng cùng loại\"\n                  className={classes.attrHead}\n                />\n                {/*  !!!! Handle value phần này */}\n                <RelaltedItemList\n                  relatedList={relatedList}\n                  setRelatedList={setRelatedList}\n                  isManageInventory = {store_setting?.inventory.status}\n                />\n              </Card>\n            ) : null}\n          </>\n\n        ) : null}\n\n\n      {/* MÔ TẢ */}\n      <Card className={classes.attrCard}>\n          <CardHeader\n            onClick={handleExpandedDescription}\n            action={ <IconButton size=\"small\" className={clsx(classes.expand, {  [classes.expandOpen]: expandedDescription, })}  onClick={handleExpandedDescription} aria-expanded={expanded} >  <ExpandMoreIcon /> </IconButton> }\n            title=\"Mô tả\"\n            className={classes.attrHead}\n          />\n          <Collapse in={expandedDescription} timeout=\"auto\" unmountOnExit style={{padding:0}}>\n              <ReactQuill theme=\"snow\" name=\"description\"value={productFormik.values.description} onChange={(val) => productFormik.setFieldValue(\"description\",val)}  modules={modules} formats={formats}  placeholder={'Write something...'} />\n          </Collapse>\n\n\n        </Card>\n        {/* <div>\n        <Tree />\n        </div> */}\n\n        {/* Button */}\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <Button\n            onClick={handleCloseAndReset}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n            style={{ marginRight: 20 }}\n          >\n            Huỷ\n          </Button>\n          <Button\n            onClick={() => {\n              if (relatedList.length) {\n                handleAddProductWithVariation();\n              } else {\n                addProductHandler();\n              }\n            }}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={\n              !(\n                productFormik.isValid \n                // &&\n                // Object.keys(productFormik.touched).length > 0\n              ) ||\n              Number(productFormik.values.importedPrice) >\n                Number(productFormik.values.salesPrice)\n            }\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Box>\n     \n    </Dialog>\n  \n  );\n};\n\nexport default AddInventory;\n\n\nconst modules = {\n  toolbar: [\n    [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n    [{size: []}],\n    [{ align: '' }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [{'color':[]}],\n    [{'background':[]}],\n    [{'list': 'ordered'}, {'list': 'bullet'}, \n     {'indent': '-1'}, {'indent': '+1'}],\n    ['link', 'image', 'video'],\n    ['clean'],\n    \n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  },\n  imageResize: {\n    parchment: Quill.import('parchment'),\n    modules: ['Resize', 'DisplaySize','Toolbar']\n }\n}\n\n\nconst formats = [\n  'header', 'font', 'size',\n  'bold', 'italic', 'underline', 'strike', 'blockquote',\n  'list', 'bullet', 'indent',\n  'link', 'image', 'video','color','background'\n]\n\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z\"\n}), 'CardGiftcard');\n\nexports.default = _default;","import React, {useEffect,useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import library\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Avatar,\n  Dialog,\n  FormHelperText\n} from \"@material-ui/core\";\n\n//import project\nimport customerApi from \"../../../../api/customerApi\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport storeApi from \"../../../../api/storeApi\";\nimport CustomerRegisterEmail from \"../../../../components/Email/CustomerRegisterEmail\";\nimport Fuse from 'fuse.js'\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    ava: {\n      width: theme.spacing(7),\n      height: theme.spacing(7),\n    },\n    textField: {\n      width: \"100%\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst AddCustomer = (props) => {\n  const { handleClose, open, onReload } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [phoneExist, setPhoneExist] = React.useState(false);\n  const [clicked, setClicked] =useState(false)\n\n  const customerFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\",\n      paymentInfo:\"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\")\n        .matches(/^\\d+$/),\n      email: Yup.string().email(\"Email không chính xác\")\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n    }),\n  })\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  // const handleCloseAndReset =() =>{\n  //   onReload()\n  //   // handleClose()\n  //   customerFormik.resetForm()\n  // } \n \n  useEffect(() =>{\n    if(phoneExist) {setPhoneExist(false)}\n  },[customerFormik.values.phone])\n\n  const dispatch = useDispatch()\n  return (\n \n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Thêm khách hàng\n        </Typography>\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-around\"\n            spacing={3}\n          >\n            <Grid item sm={7}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Tên khách hàng\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                required\n                name = \"name\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.name}\n                error={customerFormik.touched.name && customerFormik.errors.name}\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Số điện thoại\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"phone\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.phone}\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\n                onBlur={customerFormik.handleBlur}\n              />\n               { phoneExist && (\n                <FormHelperText error>Số điện thoại đã được sử dụng</FormHelperText>\n              )}\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Địa chỉ\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name= \"address\"\n                // required\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.address}\n                error={customerFormik.touched.address && customerFormik.errors.address}\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n            <Grid item sm={5}>\n              \n              <TextField\n                id=\"outlined-basic\"\n                label=\"Email\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name = \"email\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.email}\n                error={customerFormik.touched.email && customerFormik.errors.email}\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"date\"\n                label=\"Thông tin thanh toán\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.textField}\n                name = \"paymentInfo\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.paymentInfo}\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={ handleClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          onClick={async () => {   \n            // handleClose()  \n            setClicked(true)\n            let body = {\n              name: customerFormik.values.name,\n              email: customerFormik.values.email,\n              phone: customerFormik.values.phone,\n              address: customerFormik.values.address,\n              payment_info: customerFormik.values.paymentInfo,\n            };\n\n            try {\n              const response = await customerApi.createCustomer(store_uuid, body);\n              if (customerFormik.values.email) {\n                const customer = response.data;\n                if (customer) {\n                  const emailRes = await storeApi.sendEmail(\n                    store_uuid, customer.email, customer.name, \"Chúc mừng khách hàng mới\", CustomerRegisterEmail(\"\", \"\", customer, info.store) )\n                }\n              }\n              handleClose()  \n              dispatch(statusAction.successfulStatus(\"Tạo khách hàng thành công\"));\n              // handleCloseAndReset()\n             \n              props.onReload()\n              \n              // props.handleSelectCustomer(response.data)\n              if(props.isCart){\n                props.setAddCustomer(response.data)\n              }\n              \n            } catch (err) {\n              // dispatch(statusAction.failedStatus(\"Số điện thoại đã được sử dụng\"));\n              setPhoneExist(true)\n              setClicked(false)\n              console.log(err)\n            }\n\n          }}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled = {!(customerFormik.isValid\n            //  && Object.keys(customerFormik.touched).length > 0\n             ) \n             || clicked}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default AddCustomer;\n","import React from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  DialogActions,\n  DialogContent,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  RadioGroup,\n  Radio,\n  ListItem,\n  Paper,\n  ButtonBase,\n  Avatar,\n  Popover\n} from \"@material-ui/core\";\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport * as Input from \"./NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../TextField/NumberFormatCustom\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    popup: { borderColor: theme.customization.primaryColor[500], padding: 5, paddingLeft:12, boxShadow: \"0px 5px 10px 0px rgba(0, 0, 0, 0.5)\" }\n  })\n);\n\nconst DiscountInputDetail = ({handleUpdateDiscountDetail,cartData,setAnchorEl}) =>{\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    \n    const handleChangeValue = (e) =>{\n      // if(e.target.value < 0){e.target.value = 0}\n      console.log(\"e.target.value.includes('-') \",!e.target.value )\n\n      // if(!e.target.value){e.target.value = 0; return; }\n      if(e.target.value < 0 || e.target.value.includes('-') ){return}\n\n      else if(cartData.discountDetail?.type === \"%\"){\n        if(Number(e.target.value) > 100){ \n          handleUpdateDiscountDetail({value:'100', type:'%'})\n        }\n        else{  \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value, type:'%'})\n        }\n      }\n      else{\n        if(Number(e.target.value) > Number(cartData.total_amount)){ \n          handleUpdateDiscountDetail({value: cartData.total_amount, type:'VND'})\n        }\n        else{ \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value.toString(), type:'VND'})\n  \n        }\n      }\n    }\n    const handleChangeType = (type) =>{\n      if(type === \"%\") {\n        handleUpdateDiscountDetail({type:'%',value:(Number(cartData.discountDetail?.value) / Number(cartData.total_amount)*100).toFixed(2).toString()})\n      }else{\n        handleUpdateDiscountDetail({type:'VND',value:((Number(cartData.discountDetail?.value) *Number(cartData.total_amount)/100 / 100).toFixed() * 100).toString()})\n      }\n    }\n  \n    return(\n      <ClickAwayListener onClickAway={()=>setAnchorEl(null)}>\n        <Paper  variant=\"outlined\" className={classes.popup}  >\n           <Grid  container alignItems='center' spacing={2} >\n                  <Grid item><Typography variant=\"h5\" >Giảm giá </Typography></Grid>\n                  <Grid item>\n                  <ListItem>\n                    <Input.ThousandSeperatedInput style={{color:\"#000\", marginRight:10, width:90}} \n                     value={cartData.discountDetail?.value}\n                     onChange={handleChangeValue}\n                    /> \n                    <Grid item style={{ marginRight:5}}> \n                        <ButtonBase sx={{ borderRadius: '16px', }} \n                            onClick={()=>handleChangeType(\"VND\")}\n                            // onClick={handleChangeMoneyTypeToVND}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"VND\"?  theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >VND</Typography>\n                          </Avatar>     \n                      </ButtonBase>\n                      </Grid> \n                      <Grid item> \n                        <ButtonBase sx={{ borderRadius: '16px' }} \n                            onClick={()=>handleChangeType(\"%\")}\n                            // onClick={handleChangeMoneyTypeToPercent}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"%\"?theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >%</Typography>\n                          </Avatar>    \n                      </ButtonBase>\n                    </Grid> \n                    </ListItem> \n                  </Grid>\n               </Grid>\n\n               <Grid  container alignItems='center' justifyContent=\"space-between\"spacing={3} >\n                    <Grid item><Typography variant=\"h5\" >Khuyến mãi</Typography></Grid>\n                    <Grid item>{<VNDFormat value={cartData.discountPro} style={{marginRight:20, }}/>}</Grid>\n               </Grid>\n  \n      </Paper>\n      </ClickAwayListener>\n    )\n  }\n\nexport default DiscountInputDetail","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useState } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Typography } from \"@material-ui/core\";\nimport * as _ from \"lodash\";\n\nexport default function SelectBatch({ handleSubmit, handleClose, row, isInventoryCheck }) {\n  const [selectedBatches, setSelectedBatches] = useState([]);\n  return (\n    <Dialog open={true}>\n      {/* <DialogTitle\n        style={{ fontSize: 16, paddingRight:30 }}\n      >{`Chọn lô của ${row.product_code} - ${row.name}`}</DialogTitle> */}\n      <Typography style={{ fontSize: 16,fontWeight:600, marginTop:15, marginLeft:15, paddingRight:30 }}>{`Chọn lô của ${row.product_code} - ${row.name}`}</Typography>\n\n      <DialogContent>\n        <Autocomplete\n          options={row.batches}\n          getOptionLabel={(batch) =>\n            `${batch?.batch_code} - ${\n              batch?.expiry_date ? batch?.expiry_date : \"\"\n            } - Tồn kho: ${batch?.quantity}`\n          }\n          renderInput={(params) => (\n            <TextField {...params} label=\"Tìm mã lô\" variant=\"standard\" />\n          )}\n          onChange={(e, value) => {\n            if (value) {\n              setSelectedBatches(\n                _.uniqBy(\n                  [\n                    ...selectedBatches,\n                    ...[{ ...value, additional_quantity: 0, is_new: false }],\n                  ],\n                  \"batch_code\"\n                )\n              );\n            }\n          }}\n        />\n        <div style={{ marginTop: 20 }}>\n          {selectedBatches.map((batch) => {\n            return (\n              <div\n                key={batch?.batch_code}\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  gap: 10,\n                  border: \"2px solid #eee\",\n                  borderRadius: 5,\n                  marginBottom: 10,\n                  alignItems: \"center\",\n                  width: 500,\n                  justifyContent: \"space-between\",\n                  padding: 10,\n                }}\n              >\n                <Typography variant=\"h5\">{`${batch?.batch_code} - ${\n                  batch?.expiry_date ? batch?.expiry_date : \"\"\n                } - Tồn kho: ${batch?.quantity}`}</Typography>\n                <TextField\n                  type=\"number\"\n                  style={{ width: 100 }}\n                  value={batch.additional_quantity}\n                  onChange={(e) => {\n                    if (Number(e.target.value) < 0) return;\n                    const newSelectedList = selectedBatches.map(\n                      (selectedBatch) => {\n                        if (selectedBatch.batch_code === batch.batch_code) {\n                          return {\n                            ...selectedBatch,\n                            additional_quantity: Number(e.target.value),\n                          };\n                        } else {\n                          return selectedBatch;\n                        }\n                      }\n                    );\n                    setSelectedBatches(newSelectedList);\n                  }}\n                ></TextField>\n              </div>\n            );\n          })}\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" size=\"small\"variant=\"contained\" onClick={handleClose}>\n          Hủy\n        </Button>\n        <Button\n          color=\"primary\"\n          size=\"small\"variant=\"contained\"\n          onClick={() => {\n            if (!isInventoryCheck) {\n              const nonZeroBatch = selectedBatches.filter(\n                (batch) => batch.additional_quantity\n              );\n              handleSubmit(nonZeroBatch);\n            } else {\n              handleSubmit(selectedBatches);\n            }\n            handleClose();\n          }}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst OrderProductListFilter = (props) => {\n    const {handleToggleFilter,openFilter} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    return (\n    <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n         {/* Nhan vien, NCC?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n         {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\"className={classes.text} >Ngày đặt:</Typography>\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n      {/* 2,Khoảng tiền from-to*/}\n      <Typography variant=\"h5\"className={classes.text} >Tiền đơn nhập:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n      <VNDInput required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n      //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n       {/* 3.Chi nhanh */}\n       <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl>\n\n      {/* 4. Trang thai */}\n      <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\n      </Select>\n      </FormControl>\n\n        {/* BUTTON */}\n        <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\n           Lọc\n      </Button>\n\n\n          \n    </Drawer>\n    )\n}\n\nexport default OrderProductListFilter\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\nimport { VNDFormat,ThounsandFormat } from '../../../../components/TextField/NumberFormatCustom';\nimport {TableCell,TableRow} from '@material-ui/core';\n\nimport {FormatedStatusOrder} from '../../../../components/TableCommon/util/format'\nimport OrderProductListDetail from './OrderProductListDetail/OrderProductListDetail'\nimport { Typography } from '@mui/material';\n\nconst OrderProductListTableRow = (props) => {\n    const { row, handleOpenRow,openRow, reload,colorText,isReport} = props;\n    const classes = useRowStyles();\n\n    console.log(\"rowrowrowrow\",row)\n    return (\n        <>\n        {/* ROW */}\n            <TableRow\n            onClick={() => handleOpenRow(row.id)}   \n            key={row.id}\n            className={ clsx(classes.row,(openRow === row.id) ? classes.rowClicked : null)}\n            >\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.customer_order_code}</TableCell>\n                {/* <TableCell align=\"left\"className={classes.fontName}>{row.created_at}</TableCell> */}\n                <TableCell align=\"left\"className={colorText?null:classes.fontName}  style={{color:colorText}}> {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n                <TableCell align=\"left\"className={colorText?null:classes.fontName} style={{color:colorText}}>{row.name}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.phone}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.address}{`, `}{row.ward}{`, `}{row.district}{`, `}{row.city}</TableCell>\n                <TableCell align=\"right\" className={colorText?null:classes.fontName}  style={{color:colorText}}><VNDFormat value={row.total_amount} /></TableCell>\n                {isReport?null:<TableCell align=\"center\">\n                        <FormatedStatusOrder status={row.status}/>:\n                </TableCell>}\n                {/* <TableCell align=\"left\">{row.address}</TableCell> */}\n            </TableRow>\n\n        {/* DETAIL */}\n            <TableRow>\n              {/* colspan  => số cột trong collapse */}\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \n                    <OrderProductListDetail parentProps={props} openRow={openRow} reload={reload}/>       \n              </TableCell>\n       \n            </TableRow>\n        </>\n    )\n}\n\nexport default OrderProductListTableRow\n","import React, {useState, useEffect,useRef} from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {Typography,Card,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody,Box} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useReactToPrint } from \"react-to-print\";\n\n//import api \n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n\n//import constant\nimport * as HeadCells from '../../../assets/constant/tableHead'\nimport *  as TableType from '../../../assets/constant/tableType'\n\n////import project\nimport OrderProductListFilter from './OrderProductListTool/OrderProductListFilter'\n\nimport OrderProductListTableRow from './OrderProductListTableRow/OrderProductListTableRow'\n//chung\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\nimport ToolBar from '../../../components/TableCommon/ToolBar/ToolBar'\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\n\nimport JSONdata from '../../../assets/JsonData/inventoryOrder.json'\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\n\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\n\nimport orderApi from '../../../api/orderApi';\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport moment from \"moment\";\n\n\nconst OrderProductList = () => {\n   // fetch data here\n   const orderProductList = JSONdata;\n  \n\n   const theme = useTheme();\n   const classes = useStyles(theme);\n   const dispatch = useDispatch();\n   const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n  \n\n\n   //// 2. Table\n   //collapse\n   const [openRow, setRowOpen] = React.useState(null);\n   const handleOpenRow = (row) => {\n       if (row !==  openRow){setRowOpen(row);}\n       else{setRowOpen(null)}  \n   };\n\n   // header sort \n   const [order, setOrder] = React.useState('asc');\n   const [orderBy, setOrderBy] = React.useState('id');\n   \n   const handleRequestSort = (event, property) => {\n     //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n     // const isAsc = orderBy === property && order === 'asc';\n     // setOrder(isAsc ? 'desc' : 'asc');\n     // setOrderBy(property);\n   };\n\n\n    //3. ToolBar\n     // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n    //3.1. search\n\n    //3.2. filter\n    const [openFilter, setOpenFilter] = React.useState(false);\n    const handleToggleFilter = () => {\n      setOpenFilter(!openFilter);\n    };\n\n    //3.3. loc cot\n\n\n\n\n    // fileter\n    const [customerOrders, setCustomerOrders] = useState([])\n    const initialQuery = {\n      startDate: '',\n      endDate: '',\n      minTotalAmount: 0,\n      maxTotalAmount: 0,\n      status: '',\n      orderBy: 'customer_orders.created_at',\n      sort: 'desc',\n      searchKey: '',\n    };\n    const handleRemoveFilter = () => {\n      setQuery(initialQuery)\n    }\n    const [query, setQuery] = useState(initialQuery)\n    const [reload, setReload] = React.useState(false);\n    const [pagingState, setPagingState] = useState({\n      page: 0,\n      limit: 10,\n    });\n    const [totalRows, setTotalRows] = useState(0)\n    const onReload = () => {\n      setReload(!reload);\n    };\n    const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await orderApi.searchCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows);\n        setCustomerOrders(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid ) {\n      \n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query, reload]);\n\n  const tableRef = React.createRef();\n\n  const getDataExport = async () => {\n    try {\n      const response = await orderApi.searchCustomerOrder(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus(\"Không thể lấy dữ liệu!\"));\n      console.log(error);\n    }\n  }\n\n  return (\n    <Card className={classes.root} >\n          <Grid \n            container\n            direction=\"row\"\n            justifyContent=\"space-between\"  \n          > \n              {/* 1. ADD POP UP */}\n                <Typography className={classes.headerTitle} variant=\"h5\">\n                    Đơn đặt hàng\n                </Typography>\n\n                <Grid className={classes.btngroup1} >\n                    <ButtonBase \n                        sx={{ borderRadius: '16px' }} \n                        onClick={()=>{dispatch(customizeAction.setSidebarOpen(false));}}\n                        component={Link}\n                        to='/home/inventory/order-list/order' \n                        >\n                        <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\n                            <Tooltip title=\"Đặt hàng\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                            </Tooltip>\n                        </Avatar>\n                    </ButtonBase>\n            </Grid>\n          </Grid>\n    \n          <Divider />\n\n          {/* 2. SEARCH - FILTER - EXPORT*/}\n          {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n          {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/ }\n          <ToolBar  dataTable={orderProductList} tableType={TableType.ORDER_LIST}  textSearch={'#, NCC, Nguoi đặt,...'}\n           handleToggleFilter={handleToggleFilter}  handlePrint={handlePrint}\n\n           orderByOptions={[\n            {value: 'customer_orders.created_at', label: 'Ngày tạo'},\n            {value: 'total_amount', label: 'Tổng tiền'},\n          ]}\n          orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n          sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n          searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n          handleRemoveFilter={handleRemoveFilter}\n          getDataExport={getDataExport}\n          columnsToKeep = {[\n            {dbName:\"customer_order_code\",displayName:\"Mã đơn đặt\"},\n            {dbName:\"name\",displayName:\"Tên khách\"},\n            {dbName:\"phone\",displayName:\"Số điện thoại\"},\n            {dbName:\"total_amount\",displayName:\"Tổng tiền\"}, \n            {dbName:\"status\",displayName:\"Trạng thái\"}, \n            {dbName:\"description\",displayName:\"Ghi chú\"},\n          ]}\n           \n           /> \n\n          {/* <OrderProductListFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/> */}\n\n\n\n          {/* 3. TABLE */}\n          {!xsScreen?<TableWrapper\n           pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           tableRef={tableRef}\n\n          >\n              <TableHeader\n                classes={classes}\n                order={order}\n                orderBy={orderBy}\n                onRequestSort={handleRequestSort}\n                headerData={HeadCells.OrderListHeadCells}\n              />\n              <TableBody>\n                {customerOrders.map((row, index) => {\n                  console.log(\"row\",row)\n                    return (\n                      <OrderProductListTableRow key={row.id} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} reload={onReload}/>\n         \n                    );\n                })}\n              </TableBody>\n          </TableWrapper>:\n         <>\n          <Box style={{minHeight:'50vh'}}>\n         { orderProductList.map((row, index) => {\n            return (\n              <BillMiniTableRow key={row.id} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  \n              //onReload={onReload} \n              totalCost={10000}  id={\"OR00001\"} partnerName={\"THAY THẾ\"} date={\"22/12/2008\"} \n              typeBill={\"Đơn đặt hàng nhập\"} />\n            );\n          })}\n          </Box>\n          <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           />\n    \n          </>}\n          <div  style={{display:'none'}} >\n            <div ref={componentRef}  >\n            <ComponentToPrint  customerOrders={customerOrders} classes={classes}/>\n            </div>\n        \n          </div>\n     \n      </Card>\n  )\n}\n\nexport default OrderProductList\n\nconst ComponentToPrint = ({customerOrders,classes}) =>{\n  return (\n  <div style={{padding:10}}>\n  <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n  <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n    <Typography style={{  fontSize: 18, fontWeight: 600}} >\n      {/* Thống kê đơn đặt hàng */}\n      THỐNG KÊ ĐƠN ĐẬT HÀNG\n    </Typography>\n    {/* <Typography  >\n      {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n    </Typography> */}\n    {/* {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền lệch từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n    {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}  */}\n\n  </Box>\n  <div>\n  <TableWrapper  isReport={true} >\n    <TableHeader\n    color=\"#000\"\n      classes={classes}\n      headerData={HeadCells.OrderListHeadCells.filter(item => item.id !== \"status\")}\n    />\n    <TableBody>\n      {customerOrders.map((row, index) => {\n        return  <OrderProductListTableRow colorText={\"#000\"} key={row.uuid} row={row} isReport={true}/>\n        })}\n    </TableBody>\n    </TableWrapper>\n  </div>\n</div>\n  )\n}"],"sourceRoot":""}