{"version":3,"sources":["components/SearchBar/SearchCustomer.js","components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary.js","views/SalesView/Cart/CartTableRow/CartTableRow.js","views/SalesView/Cart/Cart.js","views/SalesView/Invoice/InvoiceTool/InvoiceFilter.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceTableRow.js","views/SalesView/Invoice/Invoice.js","views/SalesView/InvoiceReturn/InvoiceReturnTool/InvoiceReturnFilter.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnTableRow.js","views/SalesView/InvoiceReturn/InvoiceReturn.js","views/SalesView/SalesView.js","components/Button/MenuButton.js","components/TableCommon/style/mainViewStyle.js","components/TableCommon/TableHeader/TableHeader.js","assets/img/icon/no-results-1.png","components/TableCommon/TableWrapper/TableWrapper.js","components/TableCommon/util/sortUtil.js","components/Modal/ModalWrapperWithClose.js","api/customerApi.js","components/MiniTableRow/MiniTableRow.js","assets/constant/tableHead.js","assets/constant/tableType.js","components/TableCommon/util/format.js","components/ReceiptPrinter/ReceiptPrinter.js","components/Button/ButtonQuantity.js","api/orderApi.js","components/StatusPopup/StatusPopup.js","api/supplierApi.js","components/CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary.js","components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp.js","components/TableCommon/style/rowStyle.js","components/TableCommon/ToolBar/ToolBar.js","api/purchaseOrderApi.js","assets/img/product/tch.jpeg","api/refundApi.js","api/purchaseReturnApi.js","components/Category/CategorySelect.js","components/TableCommon/TableWrapper/Pagination.js","components/SnackBar/SnackBarGeneral.js","components/Modal/PayRemaining.js","assets/img/icon/empty-cart.png","components/Modal/DialogWrapper.js","components/CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary.js","assets/img/icon/barcode1.png","views/InventoryView/Inventory/AddInventory/AddCategory.js","views/SalesView/Cart/DiscountPopup/DiscountPopup.js","assets/img/icon/giftbox.png","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderModal.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail.js","views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail.js","views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail.js","views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail.js","views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail.js","views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail.js","assets/img/ava/avaa.jpeg","views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/styles.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/UpdateInventory/UpdateInventory.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/BranchInventoryPopUp.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/VarianceModal.js","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/PrintBarcodePopUp.js","assets/img/barcode/3.jpeg","assets/img/barcode/2.jpeg","assets/img/barcode/1.jpeg","views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail.js","components/Category/List/UpdateCategory.js","components/Category/List/RootCategory.js","components/Category/CategoryTree.js","views/InventoryView/Inventory/Category/Category.js","components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp.js","views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/UpdateCustomer/UpdateCustomer.js","views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/UpdateSupplier/UpdateSupplier.js","views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/ChangeEmployeePwd/ChangeEmployeePwd.js","views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail.js","components/MoreInfo/MoreInfo.js","components/Select/CategorySelect.js","components/MenuProduct/MenuProduct.js","components/Button/CartButton.js","api/promotionCouponApi.js","components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn.js","components/Email/CustomerRegisterEmail.js","components/SearchBar/SearchBarCode.js","views/InventoryView/Inventory/AddInventory/styles.js","components/SearchBar/SearchWithAutoComplete.js","components/TextField/TagsInput.js","views/InventoryView/Inventory/AddInventory/AddAttribute.js","views/InventoryView/Inventory/AddInventory/RelaltedItemList.js","views/InventoryView/Inventory/AddInventory/AddInventory.js","../node_modules/@material-ui/icons/CardGiftcard.js","views/ManagerView/Customer/AddCustomer/AddCustomer.js","components/TextField/DiscountInputDetail.js","components/SelectBatch/SelectBatch.js","views/InventoryView/OrderProductList/OrderProductListTool/OrderProductListFilter.js","views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListTableRow.js","views/InventoryView/OrderProductList/OrderProductList.js"],"names":["useStyles","makeStyles","theme","createStyles","input","borderRadius","multilineColor","color","customization","primaryColor","marginRight","SearchCustomer","withStyles","root","TextField","props","useTheme","classes","useEffect","selectedCustomer","filter","createFilterOptions","stringify","option","removeAccents","name","phone","style","width","Autocomplete","filterOptions","autoComplete","freeSolo","onKeyUp","event","key","handleSearchBarSelect","value","options","customers","item","status","getOptionLabel","concat","onChange","renderInput","params","fullWidth","placeholder","margin","InputProps","startAdornment","InputAdornment","position","endAdornment","IconButton","size","onClick","setAddCustomer","fontSize","grey","handleClickOpen","renderOption","Grid","container","direction","justifyContent","Typography","variant","marginBox","marginTop","marginRow","hidden","display","headerTitle","popup","borderColor","padding","paddingLeft","boxShadow","CartSummary","cartData","handleSelectCustomer","currentCustomer","handleUpdatePaidAmount","handleUpdateDiscount","handleUpdatePaymentMethod","handleSearchCustomer","handleCheckDelivery","handleConfirm","selectedBranch","setSelectedBranch","currentBranch","mode","discountData","reloadCustomers","isScore","handleUpdateDiscountDetail","handleUpdateSelectedPromotion","handleUpdateBestDetailSelectedPromotion","products","React","useState","open","setOpen","useDispatch","filteredPromotion","console","log","length","arr","map","pro","sortedRow","JSON","parse","promotion_condition","sort","a","b","totalCost","Number","total_amount","push","detailCondition","discountKey","discountType","id","handlePromotion","selectedPromotion","openDiscount","setOpenDiscount","addCustomer","anchorEl","setAnchorEl","openDiscountDetail","Boolean","info","useSelector","state","store_setting","store","general_configuration","setting","canEnterDiscountWhenSell","returnMoney","paid_amount","discount","discountPro","otherfee","calculateTotalQuantity","cartItem","vat","otherFeeMoney","listCost","reduce","sum","fee","type","Box","minHeight","alignItems","spacing","xs","Date","toLocaleDateString","toLocaleTimeString","AddCustomer","handleClose","onReload","isCart","children","className","ListItem","src","require","default","height","marginLeft","listGiftItem","title","onClose","totalCartAmount","fontWeight","bestDetailSelectedPromotion","discountValue","backgroundColor","paddingRight","Popper","placement","zIndex","DiscountInputDetail","role","currentTarget","openNotification","textAlign","Divider","background","otherFee","scores","points","inputProps","e","target","FormControl","component","RadioGroup","payment_method","FormControlLabel","labelPlacement","control","Radio","label","Button","disabled","disable","CartRow","branch","branchs","branches","row","handleDeleteItemCart","handleChangeItemQuantity","handleUpdateBatches","handleChangeItemPrice","mini","imageType","index","typeShow","showImage","isGiftPromotion","updateQuantity","newQuantity","uuid","selectBatchOpen","setSelectBatchOpen","selectedBatches","setSelectedBatches","batches","additional_quantity","total","forEach","batch","canFixPriceSell","show","setShow","findBranchQuantity","rs","branch_inventories","find","x","quantity_available","TableRow","hover","onMouseOver","onMouseLeave","TableCell","align","product_code","minWidth","marginBottom","sx","img_urls","at","defaultProduct","paddingTop","paddingBottom","cart","defaultPrice","unit_price","inventory","MoreInfo","has_batches","quantity","ButtonQuantity","miniCart","setQuantity","branch_quantity","isManageInventory","boldText","colSpan","flexDirection","gap","Tooltip","Chip","batch_code","expiry_date","onDelete","newBatches","selectedBatch","is_new","deleteIcon","DeleteOutline","SelectBatch","handleSubmit","newBatch","Cart","setDisable","searchBarState","store_uuid","branch_uuid","defaultPaymentAmount","setDiscountData","user_uuid","user","dispatch","reloadProduct","setReloadProduct","window","localStorage","getItem","data","cartList","customer","delivery","discountDetail","loadCartLocalStorage","setCartList","setProducts","setCustomers","setItem","cartMode","setTypeShow","setMode","setShowImage","selectedIndex","setSelectedIndex","addProduct","setAddProduct","isUpdateTotalAmount","setIsUpdateTotalAmount","openSnack","setOpenSnack","message","snackStatus","setSnackStatus","xsScreen","useMediaQuery","breakpoints","down","updateTotalAmount","searchKey","customerApi","getCustomers","search_key","response","loadProducts","productApi","searchBranchProduct","loadCustomers","cust","vouchers","loadPromotionCoupons","promotionCouponApi","getActivePromotionVoucher","promotions","intervalID","setInterval","clearInterval","setReloadCustomers","loadingCustomer","handleDeleteAllItem","newCartList","order","setOrder","orderBy","setOrderBy","selectedOption","batchBarCode","itemIndex","findIndex","newCartItem","bar_code","list_price","update","$push","itemUuid","$splice","isNaN","newPrice","$set","bestCondition","bestDetailSelectedCondition","totalOtherFee","customerScore","parseInt","code","setCode","openPopUpWarning","setOpenPopUpWarning","emptyCart","printReceiptWhenSell","canSellWhenNegativeQuantity","alowDebt","correctQuantity","every","element","notExistNullQuantity","notExistZeroPrice","handleConfirmCallApi","d","moment","now","orderTime","unix","format","trim","details","body","customer_uuid","toString","Math","min","creation_date","paid_date","tax","shipping","is_customer_order","orderApi","addOrder","res","order_code","handlePrint","componentRef","useRef","useReactToPrint","content","current","AddInventory","setReload","SnackBarGeneral","reason","sm","Card","ChangeCartBtn","handleClick","handleChoose","handleDelete","splice","handleAdd","SearchProduct","isFilter","Switch","checked","infoActions","setSearchBarState","SearchBarCode","ButtonBase","Avatar","headerAvatar","stroke","MenuProduct","selectedItem","TableWrapper","TableHeader","onRequestSort","property","headerData","HeadCells","TableBody","stableSort","getComparator","isPromotion","amount","method","obj","discountUpdate","toFixed","checkProduct","percentFee","listGift","detail","TableContainer","maxHeight","Table","isDebtWarning","existZeroPrice","ref","ReceiptPrinter","cartModal","PopUpWarningZeroPrice","ModalWrapperWithClose","drawer","flexShrink","drawerPaper","textField","text","InvoiceFilter","handleToggleFilter","openFilter","query","setOrders","setQuery","formik","useFormik","initialValues","onSubmit","values","startDate","setFieldValue","endDate","Drawer","anchor","paper","InputLabelProps","shrink","handleChange","required","minTotalAmount","maxTotalAmount","minDiscount","maxDiscount","formControl","Select","labelId","MenuItem","paymentMethod","InvoiceTableRow","handleOpenRow","openRow","hidenCollumn","colorText","useRowStyles","clsx","rowClicked","fontName","split","reverse","join","substr","customer_name","total_quantity","includes","debt","InvoiceDetail","parentProps","Invoice","orders","page","limit","pagingState","setPagingState","totalRows","setTotalRows","totalAmount","setTotalAmount","initialQuery","setRowOpen","setOpenFilter","reload","loadData","getAllOfBranch","total_rows","tableRef","createRef","getDataExport","statusAction","failedStatus","btngroup1","customizeAction","setSidebarOpen","setItemMenuOpen","Link","to","ToolBar","dataTable","handleDeleteAll","deleteApi","deleteAll","successfulStatus","Modal","confirm","onOk","tableType","TableType","textSearch","orderByOptions","setSort","setSearchKey","handleRemoveFilter","columnsToKeep","dbName","displayName","partnerName","date","typeBill","Pagination","list","ComponentToPrint","firstDate","slice","flexGrow","isReport","InvoiceReturnFilter","setRefunds","orderCode","defaultValue","InvoiceReturnTableRow","refund_code","created_at","InvoiceReturnDetail","InvoiceReturn","refunds","refundApi","SalesView","path","useRouteMatch","permissions","exact","p","OrderProductList","StyledMenu","border","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","palette","primary","main","common","white","table","button","typography","commonAvatar","mediumAvatar","transition","btngroup","visuallyHidden","clip","overflow","top","icon","tab","indicator","hoverCard","cardRoot","media","appBar","flex","StyledTableCell","head","isCustomer","headColor","headCell","StyledPaper","Paper","dense","setDense","scrollIntoView","stickyHeader","showSizeChanger","newCurrent","newPageSize","pageSizeChange","descendingComparator","array","comparator","stabilizedThis","el","calculateTotalReturnQuantity","returnQuantity","modal","Fragment","createCustomer","storeUuid","url","axiosClient","post","get","getCustomer","customerUuid","deleteCustomer","delete","updateCustomer","put","payDebt","importCustomerJson","json","updateCustomerVouchers","getCustomerDebts","getCustomerGroups","updateCustomerGroup","createCustomerGroup","deleteCustomerGroup","Transition","forwardRef","BillMiniTableRow","dateAdvanceSetting","substring","secondaryColor","fullScreen","TransitionComponent","edge","isMini","PartnerMiniTableRow","img","score","typePartner","alt","ava","ReturnCartMiniTableRow","handleProductPriceChange","handleItemQuantityChange","activeFixPrice","returnCart","returnImport","maxWidth","returnPrice","returned_quantity","isReturn","ProductMiniTableRow","standard_price","min_reorder_quantity","VarianceProductMiniTableRow","variance","img_url","InventoryHeadCells","disablePadding","InventoryOrderHeadCells","InventoryReturnOrderHeadCells","SupplierHeadCells","InvoiceHeadCells","InvoiceReturnHeadCells","EmployeeHeadCells","CustomerHeadCells","CartHeadCells","ImportHeadCells","CartReturnHeadCells","ImportReturnHeadCells","OrderHeadCells","CheckHeadCells","OrderListHeadCells","CheckHistoryHeadCells","EmployeeScheduleHeadCells","InventoryCheckHeadCells","VoucherHeadCells","DiscountHeadCells","TransferInventoryHeadCells","CashbookHeadCells","INVOICE","INVOICE_RETURN","INVENTORY","INVENTORY_ORDER","INVENTORY_RETURN","SUPPLIER","CHECK_LIST","ORDER_LIST","TRANSFER_INVENTORY","EMPLOYEE","CUSTOMER","FormatedStatus","FormatedProductStatus","lowStock","overStock","FormatedProductStatusReport","FormatedStatusOrder","centerQR","center","right","Largetext","weight","divider","orderDate","QRCode","NomalReceiptPrinter","link","store_configuration","web_page","logo","created_by_user","contentNote","readOnly","custom_web","orientation","flexItem","quantity_per_unit","fontStyle","Docso","doc","ImportReceiptPrinter","supplier","HtmlTooltip","tooltip","pxToRem","error_quantity","onMouseOut","fill","textfieldClass","branchUuid","getAllOfStore","getOrder","orderUuid","searchOrder","editOrderApi","deleteOrder","searchCustomerOrder","processCustomerOrder","customerOrderId","confirmCustomerOrder","cancleCustomerOrder","paymentCustomerOrder","updateCustomerOrder","newDetails","description","notification","supplierApi","createSupplier","headers","getSuppliers","getSupplier","supplierUuid","deleteSupplier","inactiveSupplier","activeSupplier","updateSupplier","ImportReturnSummary","handlePaymentMethodChange","handlePaidAmountChange","purchase_order_code","InventoryReturnPopUp","purchaseOrder","handleCloseReturn","reloadDetail","purchase_order_id","supplier_id","branch_id","max_return_quantity","purchase_order_batches","purchaseReturn","setPurchaseReturn","handleChangeBatches","itemId","newPurchaseReturn","_","handleDeleteItem","export_date","purchase_order_uuid","product_id","purchase_order_detail_id","purchaseReturnApi","removeInventory","purchase_return_code","closeButton","DialogContent","card","ImportReturnTableRow","paidAmount","newSelectedBatches","borderBottom","large","toolbar","search","exportExcel","newData","rowRs","cl","workSheet","xlsx","utils","json_to_sheet","workBook","book_new","book_append_sheet","write","bookType","writeFile","err","hasImport","importByJSON","excel_data","excel_head","excel_name","isOnlySearch","customizable","extra","openImport","setOpenImport","custom","category_id","max_order","customCl","setCustomCl","excel","setExcel","jsonData","setJsonData","listCl","setListCl","barcodeIcon","htmlFor","autoWidth","o","actions","dataTableFull","cursor","select","SelectProps","native","preventDefault","files","reader","FileReader","onload","result","workbook","read","sheetName","SheetNames","worksheet","Sheets","excelLines","sheet_to_json","Object","keys","readAsArrayBuffer","readCustomizedProduct","myJson","product","category_name","readUploadFile","line","address","email","payment_info","total_payment","error","readCustomerUploadFile","purchaseOrderApi","addInventory","getPurchaseOrder","purchaseOrderUuid","searchPurchaseOrder","editPurchaseOrder","purchaseOrdersUuid","deletePurchaseOrder","updateDetail","getRefund","refundUuid","searchRefund","getPurchaseReturn","purchaseReturnUuid","searchPurchaseReturn","CategorySelect","categoryList","category","MyOption","currentLevel","i","subCategory","Paginations","scrollTo","rowsPerPageOptions","rowsPerPage","labelRowsPerPage","count","Alert","autoHideDuration","severity","PayRemaining","editApiCall","resetForm","enableReinitialize","pay","validationSchema","Yup","lessThan","moreThan","paid","errors","touched","onBlur","handleBlur","helperText","isValid","DialogWrapper","InvoiceReturnSummary","order_total_amount","AddCategory","setCategoryList","parent_category_uuid","categoryInfo","setCategoryInfo","fetchAllCategory","getAllCategory","getNestedCategory","response_1","reset","handleAddCategory","handleCloseAndReset","addCategory","onReset","gutterBottom","dropdownStyle","treeData","val","treeDefaultExpandAll","getDiscountType","DiscountPopup","setValue","promotion","setPromotion","idPro","check","setCheck","getColorSelected","selectedData","some","getBestDetailSelectedCondition","fetchCategoryList","getListItem","isGiftCategory","listGiftCategory","getAllProductInCategoryParent","numberGiftItem","toLocaleString","multiple","handleCheck","renderValue","selected","newCheck","handleChangeGiftQuantity","OrderModal","customerOrder","isOpen","inventoryInfo","orderredQuantity","branchInventory","getBranchInventory","getBatches","newOrder","new_customer","ward","province","district","sumBy","order_id","productId","renderQuantityInput","detailIndex","InputLabel","labelWidth","handleSelectBatch","selectedBatchIndex","handleChangeBatchQuantity","handleChangeDetailQuantity","handleCancelOrder","customer_order_code","TableHead","scope","isOrderEmpty","typo","borderWidth","OrderProductListDetail","isOrderModalOpen","setIsOrderModalOpen","handlePayment","Collapse","in","timeout","unmountOnExit","city","historyRow","employee","keepMounted","ListItemIcon","ListItemText","Dialog","tag","lineHeight","boxSizing","outline","span","textOverflow","whiteSpace","DiscountDetail","rowsInvoice","promotion_code","startDay","endDay","isActive","start_date","end_date","byMonth","byDay","byDate","byTime","customer_birth","discountRow","numberBuyItem","flexWrap","listBuyItem","typeDiscountItem","refund","setRefund","InventoryOrderDetail","setPurchaseOrder","posted_to_inventory","date_received","currentDate","debtAmount","openPayRemaining","setOpenPayRemaining","editInventoryOrderApiCall","supplier_name","is_imported","startIcon","InventoryReturnDetail","purchase_order","CheckHistoryDetail","moneyDif","ele","product_name","inventory_check_code","branch_name","user_name","branch_inventory","is_checked","checked_batch","checked_quantity","VoucherDetail","box","UploadImages","avaUpload","UpdateInventory","openAddCategory","setOpenAddCategory","images","setImages","setDisplay","displayList","productInfo","isUrl","productFormik","barcode","importedPrice","salesPrice","unit","re_order_point","updateProductHandler","bodyFormData","FormData","append","prev","cur","image","updateProduct","clearAllImages","onKeyDown","displayImage","URL","createObjectURL","BranchInventoryPopUp","openModal","setOpenModal","generateInitial","valueQuantity","setValueQuantity","confirmTransferQuantity","to_id","value_quantity","Array","isArray","to_name","created_user_id","created_user_name","created_user_type","transferInventory","currenBranchInventory","totalQuantity","DialogTitle","textTransform","newValueQuantity","DialogActions","VarianceModal","suppliers","productDetail","setProductDetail","isOpenUpdate","setIsOpenUpdate","deleteConfirm","setDeleteConfirm","handleCloseDelete","handleConfirmDelete","deleteProduct","fetchProduct","getProduct","openDetailInventory","setOpenDetailInventory","showThumbs","notification_period","attribute_value","attVal","ConfirmPopUp","PrintBarcodePopUp","codeType","setCodeType","printStoreName","setPrintStoreName","has_batch","printBatch","setPrintBatch","col","setCol","batchCode","setBatchCode","handleChooseBarCode","BarCodeModel","InventoryDetail","thisReload","setThisReload","isOpenVarianceDetailModal","setIsOpenVariaceDetailModal","selectedVariance","setSelectedVariance","openPrintBarcode","setOpenPrintBarcode","imageList","has_variance","variations","UpdateCategory","isDelete","setIsDelete","handleUpdateCategory","editCategory","handleDeleteCategory","deleteCategory","ModalWrapper","nested","RootCategory","subCategories","setSubCategories","getSubCategory","categories","useNestedApi","setUpdate","List","fromRoot","textDecoration","CategoryTree","parentCategories","setParentCategories","getParentCategory","categoryPopup","overflowY","Category","setReset","maxWith","InvoiceReturnPopUp","customer_id","order_batches","newRefund","cloneDeep","import_date","order_uuid","order_detail_id","omit","CartReturnTableRow","date1","date2","returnLimit","haveReturnQuantity","abs","day","UpdateCustomer","phoneExist","setPhoneExist","clicked","setClicked","customerFormik","customerDetail","paymentInfo","matches","FormHelperText","UploadImage","CustomerDetail","openPayDebt","setOpenPayDebt","editItem","setEditItem","handleDeleteCustomer","setPaidAmount","customer_code","groups","g","UpdateSupplier","supplierDetail","supplierFormik","company","handleUpdateSupplier","SupplierDetail","editSupplier","setEditSupplier","handleDeleteSupplier","supplier_code","ChangeEmployeePwd","employeeDetail","owner_password","password","confirm_password","oneOf","handleChangePassword","closeModalAndResetData","userApi","owenerChangePassword","employee_password","salaryTypeMapping","fix","EmployeeDetail","handleReload","openEdit","setOpenEdit","date_of_birth","id_card_num","salary_type","salary","setEmployeeDetail","fetchEmp","employeeApi","getEmployee","changePwd","setChangePwd","EditEmployee","employee_code","permission","activeEmployee","inactiveEmployee","deleteEmployee","arrow","saveData","setData","isNotSelect","categoryId","setCategoryId","recursiveSearchTree","findedCategory","getAllChild","cat","child","filterCategory","allChild","allCat","apply","category_uuid","selectedNodeUuid","onSelect","selectedKeys","node","isCheck","allProduct","setAllProduct","selectedItemUuid","findItem","findedItem","real_quantity","renderListOption","colorCard","alignItem","alignCenter","btn","btnBottom","StyledBadge","styled","Badge","CartButton","number","storeInfo","badgeContent","createPromotion","createVoucher","updatePromotion","updateVoucher","getAllPromotions","getAllVouchers","hardText","getTitle","onMouseDown","CustomerRegisterEmail","header","footer","renderToString","setBarcode","onEnter","autoFocus","onKeyPress","expand","transform","transitions","create","duration","shortest","expandOpen","attrCard","attrHead","rooot","SearchWithAutoComplete","searchApiCall","nextRef","handleDefaultSelect","setOptions","searchValue","setSearchValue","loadingData","fetchData","indexOf","timer","setTimeout","clearTimeout","onInputChange","autoSelect","getOptionSelected","chip","TagsInput","setSelectedItem","selectedTags","tags","other","inputValue","setInputValue","handleKeyDown","newSelectedItem","replace","getInputProps","onFocus","tabIndex","handleInputChange","defaultProps","AddAttribute","attributeList","datas","setDatas","setRelatedList","newArr","mySet","items","_set","j","k","generateList","updateFieldChanged","attr","updateValueChanged","deleteAttr","addAttrRow","AttributeRow","inputAttr","setInputAttr","openPopupAddAttr","setOpenPopupAddAttr","isEditPopUp","handleChangeAttr","valid","RelaltedItemList","relatedList","handleChangeProperties","newValue","newRow","TreeSelect","SHOW_PARENT","Quill","register","ImageResize","modules","imageURL","setImageURL","addProductHandler","createProduct","selectSampleProductHandler","searchSampleProductHandler","searchDefaultProducts","salesPriceRef","focus","expanded","setExpanded","handleExpandClick","expandedDescription","setExpandedDescription","handleExpandedDescription","handleAddProductWithVariation","attributeValues","att","addProductWithVaration","recommendedProduct","toLowerCase","inputRef","expiryDate","Checkbox","variation","CardHeader","action","formats","clipboard","matchVisual","imageResize","parchment","import","_interopRequireDefault","_interopRequireWildcard","defineProperty","exports","_default","createElement","storeApi","sendEmail","handleChangeType","onClickAway","isInventoryCheck","newSelectedList","nonZeroBatch","OrderProductListTableRow","orderProductList","JSONdata","customerOrders","setCustomerOrders"],"mappings":"0tBAwBMA,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,MAAO,CACLC,aAAc,QAEhBC,eAAe,CACbC,MAAML,EAAMM,cAAcC,aAAa,KACvCC,aAAa,SAoIJC,IA/HSC,aAAW,CACjCC,KAAM,CACJ,2BAA4B,CAC1B,aAAc,CACZR,aAAc,OAJEO,CAQrBE,KAEoB,SAACC,GACtB,IAAMb,EAAQc,cACRC,EAAUjB,GAAUE,GAI1BgB,qBAAU,cAEP,CAACH,EAAMI,mBAEV,IAmEMC,EAASC,aAAoB,CACjCC,UAAW,SAAAC,GAAM,gBAAOC,aAAcD,EAAOE,MAA5B,eAAwCF,EAAOG,UAElE,OACE,sBAAKC,MAAO,CAAEC,MAAO,QAArB,SACE,eAACC,GAAA,EAAD,CACEC,cAAeV,EACfW,cAAc,EACdC,UAAQ,EACRC,QAAS,SAACC,IAILnB,EAAMI,kBAAmC,WAAde,EAAMC,KAAkC,cAAdD,EAAMC,KAC5DpB,EAAMqB,sBAAsB,OAGhCC,MAAOtB,EAAMI,iBACbmB,QAASvB,EAAMwB,UAAUnB,QAAO,SAAAoB,GAAI,MAAmB,WAAfA,EAAKC,UAC7CC,eApBiB,SAACnB,GAAD,OAAaA,EAAOE,KAAOF,EAAOE,KAAKkB,OAAOpB,EAAOG,MAAP,aAAoBH,EAAOG,OAAS,IAAM,IAqBzGkB,SAAU,SAACV,EAAOG,GACZA,GAEFtB,EAAMqB,sBAAsBC,IAUhCQ,YA1Fc,SAACC,GAAD,OAClB,eAAChC,EAAA,EAAD,2BACMgC,GADN,IAEEC,WAAS,EACTC,YAAY,0BACZC,OAAO,SAEPC,WAEGnC,EAAMI,iBAAP,2BAoBS2B,EAAOI,YApBhB,IAqBMjC,QAAS,CAAEb,MAAOa,EAAQX,gBAC1B6C,eACE,eAACC,EAAA,EAAD,CAAgBC,SAAS,QAAzB,SAEE,eAAC,KAAD,CAAY1B,MAAO,CAAEpB,MAAOL,EAAMM,cAAcC,aAAa,UAIjE6C,aACE,eAACC,EAAA,EAAD,CACE,aAAW,SACXC,KAAK,QACLC,QAAS,WACP1C,EAAMqB,sBAAsB,MAC5BrB,EAAM2C,eAAe,CAAEjC,KAAM,GAAIC,MAAO,MAE1CC,MAAO,CAAEjB,aAAc,IAPzB,SASE,eAAC,KAAD,CAAmBiD,SAAS,QAAQhC,MAAO,CAAEpB,MAAOL,EAAMM,cAAcC,aAAa,YAvC/F,2BAESqC,EAAOI,YAFhB,IAGMC,eACE,eAACC,EAAA,EAAD,CAAgBC,SAAS,QAAzB,SACE,eAAC,KAAD,CAAY1B,MAAO,CAAEpB,MAAOqD,KAAK,UAGrCN,aACE,eAACC,EAAA,EAAD,CACE,aAAW,SACXC,KAAK,QACLC,QAAS1C,EAAM8C,gBACflC,MAAO,CAAEjB,aAAc,IAJzB,SAME,eAAC,IAAD,YAmEVoD,aArGe,SAACvC,GAEpB,OACE,gBAACwC,EAAA,EAAD,CAAMhB,WAAS,EAACiB,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAzD,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0B7C,EAAOE,OACjC,eAAC0C,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B7C,EAAOG,kB,2DCTtC1B,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXkE,UAAW,CACTC,UAAW,IAEbC,UAAW,CACTD,UAAW,GAEbE,OAAQ,CACNC,QAAS,QAEXC,YAAa,CACXf,SAAU,YAEZgB,MAAO,CAAEC,YAAa1E,EAAMM,cAAcC,aAAa,KAAMoE,QAAS,EAAGC,YAAY,GAAIC,UAAW,4CAmgBzFC,GAhgBK,SAACjE,GAAW,IAAD,YAE3BkE,EAqBElE,EArBFkE,SACAC,EAoBEnE,EApBFmE,qBACAC,EAmBEpE,EAnBFoE,gBAEAC,GAiBErE,EAlBFsE,qBAkBEtE,EAjBFqE,wBACAE,EAgBEvE,EAhBFuE,0BAEAC,GAcExE,EAfFyE,oBAeEzE,EAdFwE,sBACAE,EAaE1E,EAbF0E,cAGAlD,GAUExB,EAZF2E,eAYE3E,EAXF4E,kBAWE5E,EAVFwB,WACAqD,EASE7E,EATF6E,cACAC,EAQE9E,EARF8E,KAEAC,GAME/E,EAPFgF,gBAOEhF,EANF+E,cACAE,EAKEjF,EALFiF,QACAC,EAIElF,EAJFkF,2BACAC,EAGEnF,EAHFmF,8BACAC,EAEEpF,EAFFoF,wCACAC,EACErF,EADFqF,SAGIlG,EAAQc,cACRC,EAAUjB,GAAUE,GAC1B,EAAwBmG,IAAMC,UAAS,GAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAQA,GAJiBC,cAIiBJ,IAAMC,UAAS,IAAjD,mBAUA,GAVA,UAU8BD,IAAMC,UAAS,IAA7C,mBAQA,GARA,UAQ0CD,IAAMC,SAAS,MAAzD,mBAoCII,GApCJ,UAsBwB,WAEtB,GADAC,QAAQC,IAAI,uBAAuBd,EAAae,QACtB,IAAvBf,EAAae,OAAc,MAAO,GAErC,IAAIC,EAAM,GAQV,OAPY,OAAZhB,QAAY,IAAZA,KAAciB,KAAI,SAAEC,GAIlB,IAAMC,EAAYC,KAAKC,MAAMH,EAAII,qBAAqBC,MAAK,SAACC,EAAGC,GAAO,OAAOA,EAAEC,UAAYF,EAAEE,aACzFC,OAAOxC,EAASyC,eAAiBD,OAAOR,EAAUA,EAAUJ,OAAS,GAAGW,YAAaV,EAAIa,KAAK,CAACC,gBAAgBX,EAAWxF,KAAKuF,EAAIvF,KAAOoG,YAAYb,EAAIa,YAAYC,aAAad,EAAIc,aAAcC,GAAGf,EAAIe,QAE3MjB,EAEekB,IAInBC,GAAoBhD,EAASgD,kBAClC,GAAwC5B,IAAMC,UAAS,GAAvD,qBAAO4B,GAAP,MAAqBC,GAArB,MAEA,GAAuC9B,IAAMC,SAAS,CAAE7E,KAAM,GAAIC,MAAO,KAAzE,qBAAO0G,GAAP,MAAoB1E,GAApB,MACA2C,IAAMnF,WAAU,WAAK,IAAD,EACgB,KAApB,OAAXkH,SAAW,IAAXA,IAAA,UAAAA,GAAa3G,YAAb,eAAmBoF,UAAe9F,EAAMmE,qBAAqBkD,IAAa1E,GAAe,CAAEjC,KAAM,GAAIC,MAAO,SAEjHiF,QAAQC,IAAI,kBAAkBzB,GAI9B,OAAgCkB,IAAMC,SAAS,MAA/C,qBAAO+B,GAAP,MAAiBC,GAAjB,MACMC,GAAqBC,QAAQH,IAE7BI,GAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAC1C9B,QAAQC,IAAI,OAAO6B,IAClB,IAAMG,GAAgBH,GAAKI,MAAMC,sBAChC5B,KAAKC,MAAMsB,GAAKI,MAAMC,uBACtBC,KACIC,GAAwB,OAAGJ,SAAH,IAAGA,IAAH,UAAGA,GAAeI,gCAAlB,aAAG,EAAyCvG,OAStEwG,GAAehE,EAASiE,aAAejE,EAASyC,aAAezC,EAASkE,SAAWlE,EAASmE,aAM1FC,IAJgBC,YAAuBrE,EAASsE,UAIxC,OAAGX,SAAH,IAAGA,QAAH,EAAGA,GAAeY,KAC5BC,IAAwB,OAARJ,SAAQ,IAARA,QAAA,EAAAA,GAAUK,UAAV,OAAqBL,SAArB,IAAqBA,IAArB,UAAqBA,GAAUK,gBAA/B,aAAqB,EAAoBC,QAAO,SAACC,EAAIC,GAAL,MAAsB,MAAXA,EAAIC,KAAYF,EAAMnC,OAAOoC,EAAIxH,OAAOuH,IAAM,GAAI,EAYjI,OAPAjD,QAAQC,IAAI,WAAW3B,GAQrB,eAAC8E,EAAA,EAAD,CAAKpI,MAAO,CAAEkD,QAAS,GAAImF,UAAW,QAAtC,SACE,gBAACjG,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAASgG,WAAW,aAAaC,QAAS,EAApE,UACE,gBAACnG,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UAEE,gBAACH,EAAA,EAAD,CACEvB,MAAI,EACJ2H,GAAI,EACJnG,WAAS,EACTC,UAAU,SACVgG,WAAW,aALb,UAOE,eAAC9F,EAAA,EAAD,CAAYC,QAAQ,KAApB,0BACA,eAACD,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BwB,EAAcnE,UAO7C,gBAACsC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGnG,WAAS,EAACC,UAAU,SAASgG,WAAW,WAA1D,UACE,eAAC9F,EAAA,EAAD,CAAYC,QAAQ,QAApB,UACG,IAAIgG,MAAOC,mBAAmB,WAEjC,eAAClG,EAAA,EAAD,CAAYC,QAAQ,QAApB,UACG,IAAIgG,MAAOE,6BAKlB,sBAAK3I,MAAO,CAAEC,MAAO,QAArB,SACE,eAAC,GAAD,CACEiC,gBAhJc,WACtB2C,GAAQ,IAgJAjB,qBAAsBA,EACtBhD,UAAWA,EACXpB,iBACEgE,EAGF/C,sBAAuB8C,EACvBxB,eAAgBA,OAKnB6C,GAAO,eAACgE,EAAA,EAAD,CACRhE,KAAMA,EACNiE,YAAa,WAAKhE,GAAQ,IAC1BiE,SAAU1J,EAAMgF,gBAChBrC,eAAgBA,GAChBgH,QAAQ,IAGP3J,EAAM4J,SAOF9E,EAYO,KAZD,gBAAC9B,EAAA,EAAD,CACLC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQoD,UAJd,UAML,gBAACF,EAAA,EAAD,CAAYC,QAAQ,KAApB,8CAA4Ca,EAASsE,SAAS1C,OAA9D,QACA,eAAC1C,EAAA,EAAD,CAAYC,QAAQ,QAApB,SACE,eAAC,KAAD,CACE/B,MAAOiH,YAAuBrE,EAASsE,iBAK/C,gBAACxF,EAAA,EAAD,CACIC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UACnB0F,WAAW,SALf,UAOI,+BACE,gBAACY,EAAA,EAAD,CAAUlJ,MAAO,CAACkD,QAAS,EAAE5B,OAAO,GAApC,UACA,eAACkB,EAAA,EAAD,CAAYC,QAAQ,KAApB,UAA2B4E,IAA4BnD,EAA7B,+BAAiDyD,YAAuBrE,EAASsE,UAAjF,qCAMxB7C,EAAkBG,OAAU,EAC9B,sBAAKpD,QAAS,WAAK0E,IAAiBD,KAApC,SACI,sBAAKH,GAAG,OAAO+C,IAAKC,EAAQ,KAA2CC,QAASrJ,MAAO,CAACsJ,OAAO,GAAGrJ,MAAM,GAAIsJ,WAAW,GAAI5G,WAAW,OAEzI,UAKF4D,IAAgB,eAAC,KAAD,CAAe9B,SAAUA,EAASF,8BAA+BA,EAA+B+B,kBAAmBhD,EAASgD,kBAAmBkD,aAAclG,EAASkG,aAAazE,kBAAmBA,EAAmBH,KAAM2B,GAAckD,MAAM,kDAA0BC,QAAS,WAAKlD,IAAiBD,KAAgBoD,gBAAiBrG,EAASyC,aAAcvB,wCAAyCA,IAIha,eAAChC,EAAA,EAAD,CAAYC,QAAQ,QAASzC,OAAQqH,IAA4BnD,EAAK,CAACtF,MAAO,UAAWgL,WAAY,IAAI5H,SAAS,IAAK,GAAvH,SACI,eAAC,KAAD,CAAWtB,MAAO4C,EAASyC,oBAK/BsB,IAA6BnD,IAASA,EACxC,uCACE,gBAAC9B,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJrB,UAMG,+BACC,gBAACsG,EAAA,EAAD,CAAUlJ,MAAO,CAACkD,QAAS,EAAE5B,OAAO,GAApC,UAUF,gBAACkB,EAAA,EAAD,CAAYC,QAAQ,KAApB,8BAAiF,OAA9C,UAAAa,EAASuG,mCAAT,eAAsC1B,MAAc,qBAAGnI,MAAO,CAACpB,MAAM,OAAjB,wBAA4B0E,EAASuG,mCAArC,aAA4B,EAAsCC,cAAlE,QAAuF,MACvI,aAAlB,OAAjBxD,SAAiB,IAAjBA,QAAA,EAAAA,GAAmBJ,aACrB,+BACM,eAACkC,EAAA,EAAD,CAAKpI,MAAO,CAAC+J,gBAAgB,MAAMnL,MAAM,OAAOoD,SAAS,GAAG4H,WAAW,IAAIlL,aAAa,EAAGyE,YAAY,EAAE6G,aAAa,EAAGT,WAAW,IAApI,kBAEL,KACD,eAACU,EAAA,EAAD,CAASC,UAAU,aAAatF,KAAMgC,GAAoBF,SAAUA,GAAUgD,QAAS,kBAAI/C,GAAY,OAAS3G,MAAO,CAACmK,OAAO,KAA/H,SACI,eAACC,GAAA,EAAD,CAAqB9F,2BAA4BA,EAA4BhB,SAAUA,EAAUqD,YAAaA,YAKpH,gBAACyB,EAAA,EAAD,CAAMtG,QAtKE,SAACvB,GACd8G,IAA0C,UAAdP,GAAKuD,KAClC1D,GAAYD,GAAW,KAAOnG,EAAM+J,eAEpCC,aAAiB,QAAS,gEAAoC,KAkK5BvK,MAAO,CAAEC,MAAO,GAAIrB,MAAM,UAAU4L,UAAW,SAA3E,UACE,eAAC,KAAD,CAAW9J,MAAOoF,OAAOxC,EAASkE,UAAY1B,OAAOxC,EAASmE,eAC9D,eAACgD,EAAA,EAAD,CAASzK,MAAO,CAAE0K,WAAYhE,GAASnI,EAAMM,cAAcC,aAAa,KAAK,oBAevE,OAAR4I,SAAQ,IAARA,QAAA,EAAAA,GAAU5G,UACJ,OAAR4G,SAAQ,IAARA,IAAA,UAAAA,GAAUK,gBAAV,eAAoB7C,QAApB,OACAwC,SADA,IACAA,IADA,UACAA,GAAUK,gBADV,aACA,EAAoB3C,KAAI,SAAC8C,GAEvB,GADAlD,QAAQC,IAAI,MAAMiD,GACfA,EAAIpI,KAAKoF,OAAQ,EACpB,OACE,gBAAC9C,EAAA,EAAD,CACAC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJnB,UAMA,eAACJ,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA2ByF,EAAIpI,OAC/B,eAAC0C,EAAA,EAAD,CAAYC,QAAQ,QAApB,SACE,eAAC,KAAD,CAGE/B,MAAoB,MAAbwH,EAAIC,KAAerC,OAAOoC,EAAIxH,QAAQoF,OAAOxC,EAASyC,cAAgBD,OAAOxC,EAASkE,UAAY1B,OAAOxC,EAASmE,cAAgB,IAAKS,EAAIxH,gBAOzJ,KACD,gBAAC0B,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJrB,UAME,eAACJ,EAAA,EAAD,CAAYC,QAAQ,KAApB,iCACA,eAACD,EAAA,EAAD,CAAYC,QAAQ,QAApB,SACE,eAAC,KAAD,CACEzC,MAAO,CAAEpB,MAAO,UAAUgL,WAAY,KACtClJ,MAAyC,IAAlCoF,OAAOxC,EAASyC,cAAqBzC,EAASyC,aAAezC,EAASkE,UAAjC,OAA6ClE,QAA7C,IAA6CA,OAA7C,EAA6CA,EAAUmE,aAAenE,EAASqH,SAAWrH,EAASyC,aAAezC,EAASkE,UAAjC,OAA6ClE,QAA7C,IAA6CA,OAA7C,EAA6CA,EAAUmE,aAAeK,aAI9M,KACJzD,GAAWb,EAAiB,gBAACpB,EAAA,EAAD,CAC1BC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJO,UAM1B,eAACJ,EAAA,EAAD,CAAYC,QAAQ,KAApB,oCACA,eAACD,EAAA,EAAD,CAAYC,QAAQ,QAApB,SACE,gBAACyG,EAAA,EAAD,CAAUlJ,MAAO,CAACkD,QAAQ,EAAG5B,OAAO,GAApC,UACA,eAAC,KAAD,CAEEZ,MAAO4C,EAASsH,UAEH,OAAfpH,QAAe,IAAfA,OAAA,EAAAA,EAAiBqH,QAAQ,gBAACrI,EAAA,EAAD,eAAcgB,EAAgBqH,OAASvH,EAASsH,UAAuB,aAG5F,KAGPtH,EAASyC,aAAezC,EAASkE,WAAc,EAAG,gBAACpF,EAAA,EAAD,CACjDC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf+F,WAAW,SACXW,UAAW3J,EAAQsD,UAL8B,UAOjD,eAACJ,EAAA,EAAD,CAAYC,QAAQ,KAApB,oCACA,eAAC,KAAD,CACE2D,GAAG,iBACHpG,MAAO,CAAEC,MAAO,IAGhBS,MAAO4C,EAASiE,YAChB1F,KAAK,QACLiJ,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,UAClCvJ,SAAU,SAAC8J,GAAD,OAAOtH,EAAuBsH,EAAEC,OAAOtK,aAE7C,KAGP4C,EAASyC,aAAezC,EAASkE,UAAjC,OAA8ClE,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAUmE,eAAkB,EAC3E,gBAACrF,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf+F,WAAW,SACXW,UAAW3J,EAAQsD,UALrB,UAOE,eAACJ,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAOsH,GAAa,EAAG,CAAC1I,MAAM,MAAOgL,WAAW,KAAK,GAA9E,SAAmFtC,GAAa,EAAI,UAAM,wBAM1G,eAAC9E,EAAA,EAAD,CAAYC,QAAQ,QAAQzC,MAAOsH,GAAa,EAAG,CAAC1I,MAAM,MAAOgL,WAAW,KAAK,GAAjF,SAEE,eAAC,KAAD,CACElJ,MACE4C,EAASiE,aACRjE,EAASyC,aAAezC,EAASkE,UAAjC,OAA8ClE,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAUmE,aAAcnE,EAASqH,iBAIhF,KAET,eAACvI,EAAA,EAAD,CACGC,WAAS,EACTC,UAAU,MACVC,eAAe,WACf+F,WAAW,SAEXtI,MAAO,CAAC2C,UAAUuB,GAAM,GAAG,MAN9B,SAQG,eAAC+G,EAAA,EAAD,CAAaC,UAAU,WAAvB,SACE,eAACC,EAAA,EAAD,CACE,aAAW,SACXrL,KAAK,UACLY,MAAO4C,EAAS8H,eAChBnK,SAAU,SAAC8J,GAAD,OAAKpH,EAA0BoH,EAAEC,OAAOtK,QAJpD,SAME,gBAAC0B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAA1B,UACE,eAAC+I,EAAA,EAAD,CACEC,eAAe,QACf5K,MAAM,OACN6K,QAAS,eAACC,EAAA,EAAD,CAAQ3J,KAAK,UACtB4J,MAAM,aAER,eAACJ,EAAA,EAAD,CACEC,eAAe,QACf5K,MAAM,OACN6K,QAAS,eAACC,EAAA,EAAD,CAAS3J,KAAK,UACvB4J,MAAM,gCAqBhB,eAACC,EAAA,EAAD,CACEjJ,QAAQ,YACRrB,WAAS,EACTxC,MAAM,UACNoB,MAAO,CAAE2C,UAAWuB,EAAS,EAAH,IAC1BpC,QAASgC,EACT6H,SAAUvM,EAAMwM,QANlB,iC,uICheCC,GAAU,SAACzM,GACtB,IAAMb,EAAQc,cACRC,EAAUjB,cAEVyI,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCgF,EAAShF,EAAKgF,OACdC,EAAUjF,EAAKI,MAAM8E,SAEzBC,EAaE7M,EAbF6M,IAGAC,GAUE9M,EAXF+E,aAWE/E,EAVF8M,sBACAC,EASE/M,EATF+M,yBACAC,EAQEhN,EARFgN,oBACAC,EAOEjN,EAPFiN,sBACAC,EAMElN,EANFkN,KACAC,EAKEnN,EALFmN,UACAC,EAIEpN,EAJFoN,MACAC,EAGErN,EAHFqN,SACAC,EAEEtN,EAFFsN,UACAC,EACEvN,EADFuN,gBAEF3H,QAAQC,IAAI,iBAAkBgH,GAC9B,IAAMW,EAAiB,SAACC,GACtBV,EAAyBF,EAAIa,KAAMD,IAErC,EAAwCnI,IAAMC,UAAS,GAAvD,mBAAO4B,EAAP,KAAqBC,EAArB,KAKA,EAA8C7B,oBAAS,GAAvD,mBAAOoI,EAAP,KAAwBC,EAAxB,KACA,EAA8CrI,mBAAS,IAAvD,mBAAOsI,EAAP,KAAwBC,EAAxB,KAEA3N,qBAAU,WAAO,IAAD,GACV,UAAA0M,EAAIkB,eAAJ,eAAajI,SAAU,GACzBgI,EAAmB,CAAC,2BAAKjB,EAAIkB,QAAQ,IAAlB,IAAsBC,oBAAqB,QAE/D,IAEH7N,qBAAU,WACR,IAAIoN,EAAgB,CAClB,IAAIU,EAAQ,EACZJ,EAAgBK,SAAQ,SAACC,GACvBF,GAASvH,OAAOyH,EAAMH,wBAExBR,EAAeS,GACfjB,EAAoBH,EAAIa,KAAMG,MAE/B,CAACA,IAEJ,IA4BMhG,EAAgBH,EAAKI,MAAMC,sBAC7B5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBACtBC,KAEEoG,EAAe,OAAGvG,QAAH,IAAGA,OAAH,EAAGA,EAAeuG,gBAEvC,EAAwB9I,IAAMC,UAAS,GAAvC,mBAAO8I,EAAP,KAAaC,EAAb,KAEMC,EAAqB,SAACvH,GAAQ,IAAD,EAC3BwH,EAAE,UAAG3B,EAAI4B,mBAAmBC,MAChC,SAACC,GAAD,OAAOA,EAAEjB,OAAS1G,YADZ,aAAG,EAER4H,mBACH,OAAIJ,GAGK,GAWX,IAyBIhP,EAAqC,UAA7BL,EAAMM,cAAcqF,MAA6B,SAAXuI,EAAkB,OAAa,KACjF,OACE,uCACE,gBAACwB,GAAA,EAAD,CACEC,OAAK,EAELC,YAAa,kBAAMT,GAAQ,IAC3BU,aAAc,kBAAMV,GAAQ,IAJ9B,UASE,eAACW,GAAA,EAAD,CAAWC,MAAM,OAAOtO,MAAQsM,EAAQ,CAACnJ,YAAY,EAAG6G,aAAcuC,EAAa,GAAH,IAA3C,GAArC,SAAyFA,EAAU,GAAD,UAAOC,EAAP,OAGjGF,EAAO,KAAO,eAAC+B,GAAA,EAAD,CAAWC,MAAM,OAAQtO,MAAO,CAAEgK,aAAc,IAAhD,SACZiC,EAAIsC,eAGP,gBAACF,GAAA,EAAD,CAAWC,MAAM,OAAOtO,MAAO,CAAEwO,SAAU,KAAQtL,QAAS,OAA5D,UACE,gBAACgG,EAAA,EAAD,CACElJ,MAAQ,CAACuJ,YAAY,GAAI5G,WAAY,GAAI8L,cAAe,GAAIvL,QAAQ,GACpEoF,WAAW,SAFb,UAIEoE,EAAY,eAACtE,EAAA,EAAD,CACV8C,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,GAAIvB,aAAc,GAAIK,YAAa,GAAG4D,UAAU,GAAI8L,aAAa,IAC1FtF,IACE5D,KAAKC,MAAMyG,EAAI0C,SAAW1C,EAAI0C,SAAW,MAAMC,GAAG,IAClDC,OAED,KACH,gBAACzM,EAAA,EAAD,CAAMpC,MAAO,CAAC8O,WAAW,GAAIC,cAAc,GAAGN,aAAalC,EAAU,EAAE,GAAvE,UACI,eAAC/J,EAAA,EAAD,CAAYxC,MAAQsM,EAAQ,CAAC1C,WAAW2C,EAAU,IAAI,KAAK3N,MAAMA,GAAxC,GAAzB,SAA0EqN,EAAInM,OAC7EyM,EACAiB,EAAgB1M,QAAU0M,EAAgBwB,MAAuB,WAAX,OAAJlI,QAAI,IAAJA,OAAA,EAAAA,EAAMuD,MACvD,eAAC,KAAD,CACEjE,GAAG,iBAEHpG,MAAO,CAAEC,MAAO,IAEhB4B,KAAK,QACLiJ,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,UAClCyE,aAAchD,EAAIiD,WAClBxO,MAAOuL,EAAIiD,WACXjO,SAAU,SAAC8J,GAAD,OACRsB,EAAsBjN,EAAM6M,IAAIa,KAAM/B,EAAEC,OAAOtK,UAInD,eAAC,KAAD,CAAsBA,MAAOuL,EAAIiD,WAAjC,SACG,MAEH,QAELzB,IAAI,OAAIxG,QAAJ,IAAIA,OAAJ,EAAIA,EAAekI,UAAUrO,UAAWwL,EAC3C,eAAC8C,GAAA,EAAD,UACIrD,EAAQ7G,OAAS,EAClB,uCACG,gBAACgE,EAAA,EAAD,WACE,eAAC1G,EAAA,EAAD,CAAYxC,MAAO,CAAEC,MAAO,OAC5B,eAACuC,EAAA,EAAD,CAAYxC,MAAO,CAAE4J,WAAY,KAAjC,yBAEDmC,EAAQ3G,KAAI,SAACvE,GACZ,OACE,gBAACqI,EAAA,EAAD,WACE,gBAACA,EAAA,EAAD,CAAUlJ,MAAO,CAAEC,MAAO,IAAKqB,OAAQ,EAAG4B,QAAS,GAAnD,UACE,eAACV,EAAA,EAAD,CACExC,MAAO,CAAE4J,WAAY,IAAK7K,YAAa,IADzC,SAGG8B,EAAKf,OAEPe,EAAKiM,OAAShB,EAAOgB,KACpB,eAAC,KAAD,CAAiB9K,SAAS,QAAQpD,MAAM,YACtC,QAEN,eAACwD,EAAA,EAAD,CAAMG,eAAe,WAArB,SACE,eAACC,EAAA,EAAD,UAAamL,EAAmB9M,EAAKiM,mBAM9C,gBAACtK,EAAA,EAAD,CAAaxC,MAAO,CAAC4J,WAAW,IAAKhL,MAAM,QAA3C,4CAAsF+O,EAAmB5B,EAAQ,GAAGe,WAavH,KAgBA,QAELvG,GACC,eAAC,KAAD,CACE3B,KAAM2B,EACNkD,MAAK,qCAAqBwC,EAAIsC,aAAzB,cAA2CtC,EAAInM,MACpD4J,QAAS,WACPlD,GAAgB,SAOvByF,EAAIoD,aAAgB1C,EACnB,eAAC0B,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACGrC,EAAIqD,WAGP,eAACjB,GAAA,EAAD,CAAWC,MAAM,SAAQpL,QAAQ,OAAjC,SACE,eAACqM,GAAA,EAAD,CAEEC,SAAUlD,EACVgD,SAAUrD,EAAIqD,SACdG,YAAa7C,EACb8C,gBAAiBzD,EAAIyD,gBACrBC,kBAAiB,OAAE1I,QAAF,IAAEA,OAAF,EAAEA,EAAekI,UAAUrO,WAMnDyL,EAAU,KACX,eAAC8B,GAAA,EAAD,CAAWC,MAAM,QAAQpL,QAASoJ,EAAO,OAAS,SAAlD,SACOK,EAoBH,gBAACvE,EAAA,EAAD,CAAKpI,MAAO,CAAC2C,UAAU,IAAvB,UACE,eAAC,KAAD,CAAsBjC,MAAO,EAAGV,MAAO,CAACuJ,YAAY,KAAO,wBAC3D,eAAC,KAAD,CAAuB7I,MAAK,WAAMuL,EAAIiD,YAAclP,MAAO,CAACuJ,YAAY,EAAE3K,MAAM,YArBlF4O,EAAgB1M,QAAU0M,EAAgBwB,KACxC,eAAC,KAAD,CACE5I,GAAG,iBAEHpG,MAAO,CAAEC,MAAO,GAAIsJ,YAAY,GAEhC1H,KAAK,QACLiJ,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,UAClCyE,aAAchD,EAAIiD,WAClBxO,MAAOuL,EAAIiD,WACXjO,SAAU,SAAC8J,GAAD,OACRsB,EAAsBjN,EAAM6M,IAAIa,KAAM/B,EAAEC,OAAOtK,UAInD,eAAC,KAAD,CAAsBA,MAAOuL,EAAIiD,WAAYlP,MAAO,CAACuJ,YAAY,GAAjE,SACG,QAWP,eAAC8E,GAAA,EAAD,CAAWC,MAAM,QAAQrF,UAAW3J,EAAQsQ,SAAU1M,QAASoJ,EAAO,OAAS,SAA/E,SACIA,EAAiG,eAAC,KAAD,CAAsB5L,MAAOuL,EAAIiD,WAAajD,EAAIqD,SAAUtP,MAAO,CAACmD,YAAYoJ,EAAW,EAAE,GAAI3N,MAAMA,KAAnM,eAAC,KAAD,CAAW8B,MAAQiM,EAA8C,EAA9BV,EAAIiD,WAAajD,EAAIqD,SAAYtP,MAAO,CAACpB,MAAMA,OAGzF+N,EAOW,KANb,eAAC0B,GAAA,EAAD,CAAWC,MAAM,QAAQpL,QAASoJ,EAAO,OAAS,SAAlD,SACE,eAAC1K,EAAA,EAAD,CAAY,aAAW,aAAaC,KAAK,QAAQ7B,MAAO,CAACuJ,WAAW,IAApE,SACE,eAAC,KAAD,CACEzH,QAAS,kBAAMoK,EAAqBD,EAAIa,eAjLzC1N,EAAM6M,IAAIa,MAsLhBb,EAAIoD,YACH,gBAACpB,GAAA,EAAD,WACE,eAACI,GAAA,EAAD,CAAWwB,QAAS,IACpB,eAACxB,GAAA,EAAD,CAAWwB,QAAS,GAApB,SACE,uBAAK7P,MAAO,CAAE8C,QAAS,OAAQgN,cAAe,MAAOC,IAAK,IAA1D,UACE,eAACrE,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACLC,QAAS,kBAAMkL,GAAmB,IAHpC,6BAQCC,EAAgB7H,KAAI,SAACmI,GAAD,OACnB,eAACyC,EAAA,EAAD,CAASvG,MAAK,yBAAe8D,EAAM+B,UAAnC,SACE,eAACW,GAAA,EAAD,CACExE,MAAK,WACE,OAAL8B,QAAK,IAALA,OAAA,EAAAA,EAAO2C,YAAP,OAAoB3C,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAAa,WADrC,eAEM,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OAAqB5C,QAArB,IAAqBA,OAArB,EAAqBA,EAAO4C,YAAc,GAF3C,cAGH5C,EAAMH,qBAGRgD,SAAU,WACR,IAAMC,EAAapD,EAAgBxN,QACjC,SAAC6Q,GAAD,OAAmBA,EAAclK,KAAOmH,EAAMnH,MAEhD8G,EAAmBmD,IAErBzR,MAAO2O,EAAMgD,OAAS,UAAY,YAClCC,WAAY,eAACC,GAAA,EAAD,IACZhO,QAAQ,YATH8K,EAAMnH,SAahB2G,GACC,eAAC2D,GAAA,EAAD,CACEC,aA9SY,SAACxD,GAC3B,IAAMkD,EAAa,GACnBpD,EAAgBK,SAAQ,SAACgD,GACvB,IAAMM,EAAWzD,EAAQW,MACvB,SAACP,GAAD,OAAWA,EAAM2C,aAAeI,EAAcJ,cAE5CU,EACFP,EAAWrK,KAAX,2BACKsK,GADL,IAEElD,oBACEtH,OAAOwK,EAAclD,qBACrBtH,OAAO8K,EAASxD,wBAGpBiD,EAAWrK,KAAKsK,MAGpBnD,EAAQG,SAAQ,SAACsD,GAEZP,EAAWvC,MAAK,SAACP,GAAD,OAAWqD,EAASV,aAAe3C,EAAM2C,eAE1DG,EAAWrK,KAAK4K,MAIpB1D,EAAmBmD,IAsRLpE,IAAKA,EACLpD,YAAa,kBAAMmE,GAAmB,cAM9C,S,uKC45BK6D,GAvtCF,WAAO,IAAD,UACXtS,EAAQc,cACRC,EAAUjB,YAAUE,GAC1B,EAA4CoG,mBAAS,IAArD,mBAAOZ,EAAP,KAAuBC,EAAvB,KACA,EAA8BW,oBAAS,GAAvC,mBAAOiH,EAAP,KAAgBkF,EAAhB,KAIMhK,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCiK,EAAiBjK,EAAKiK,eACtBC,EAAalK,EAAKI,MAAM4F,KACxBhB,EAAShF,EAAKgF,OACdmF,GAAcnK,EAAKgF,OAAOgB,KAC1B7F,GAAgBH,EAAKI,MAAMC,sBAC7B5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBACtBC,KAEE8J,IAAoC,OAAbjK,SAAa,IAAbA,QAAA,EAAAA,GAAeiK,qBAAqBpQ,UAApC,OAA8CmG,SAA9C,IAA8CA,QAA9C,EAA8CA,GAAeiK,qBAAqBlC,MAC/GhK,QAAQC,IAAI,gBAAgBgC,IAC5BjC,QAAQC,IAAI,uBAAuBiM,IAEjC,IAAM7J,GAAwB,OAAGJ,SAAH,IAAGA,IAAH,UAAGA,GAAeI,gCAAlB,aAAG,EAAyCvG,OAE5E,GAAwC6D,mBAAS,IAAjD,qBAAOR,GAAP,MAAqBgN,GAArB,MAEMC,GAAYrK,aAAY,SAACC,GAAD,OAAWA,EAAMF,KAAKuK,KAAKvE,QACnDwE,GAAWxM,cACjB,GAA0CH,oBAAS,GAAnD,qBAAO4M,GAAP,MAAsBC,GAAtB,MA8BA,GAAgC9M,IAAMC,SA5BT,WAC3B,GAAI8M,OAAOC,aAAaC,QAAQ,gBAAiB,CAC/C,IAAMC,EAAOrM,KAAKC,MAAMiM,OAAOC,aAAaC,QAAQ,iBACpD,GAAIC,EAAKR,YAAcA,GACrB,OAAOQ,EAAKC,SAGhB,MAAO,CACL,CACEC,SAAU,KACVlK,SAAU,GACV7B,aAAc,IACdwB,YAAa,IACbC,SAAU,IACV4D,eAAgB,OAChB2G,UAAU,EACVnH,OAAQ,IACRoH,eAAe,CAACtR,MAAM,IAAKyH,KAAK,OAChC7B,kBAAkB,KAClBuD,4BAA4B,KAC5BpC,YAAY,EACZkD,SAAS,EACTnB,aAAa,KAM4ByI,IAA/C,qBAAOJ,GAAP,MAAiBK,GAAjB,MACA,GAAgCvN,mBAAS,IAAzC,qBAAOF,GAAP,MAAiB0N,GAAjB,MACA,GAAkCxN,mBAAS,IAA3C,qBAAO/D,GAAP,MAAkBwR,GAAlB,MAEA7S,qBAAU,WACRkS,OAAOC,aAAaW,QAClB,eACA9M,KAAK5F,UAAU,CAAEyR,UAAWA,GAAWS,SAAUA,QAElD,CAACA,KAKJtS,qBAAU,YACR,OAAIkF,SAAJ,IAAIA,QAAJ,EAAIA,GAAUS,SACZuM,OAAOC,aAAaW,QAClB,WACA9M,KAAK5F,UAAU,CACbqR,WAAYA,EACZC,YAAaA,GACbW,KAAMnN,QAGX,CAACA,KAEJlF,qBAAU,YACR,OAAIqB,SAAJ,IAAIA,QAAJ,EAAIA,GAAWsE,SACbuM,OAAOC,aAAaW,QAClB,YACA9M,KAAK5F,UAAU,CACbqR,WAAYA,EACZY,KAAMhR,QAGX,CAACA,KAEJrB,qBAAU,WACR,GAAIkS,OAAOC,aAAaC,QAAQ,YAAa,CAC3C,IAAMlN,EAAWc,KAAKC,MAAMiM,OAAOC,aAAaC,QAAQ,aACpDlN,EAASuM,aAAeA,GAAcvM,EAASwM,cAAgBA,KACjEjM,QAAQC,IAAIR,EAASmN,MACrBO,GAAY1N,EAASmN,OAGzB,GAAIH,OAAOC,aAAaC,QAAQ,QAAS,CACvC,IAAMW,EAAW/M,KAAKC,MAAMiM,OAAOC,aAAaC,QAAQ,SACpDW,EAAStB,aAAeA,IAC1BuB,GAAYD,EAAS7F,UACrB+F,GAAQF,EAASpO,MACjBuO,GAAaH,EAAS5F,YAI1B,GAAI+E,OAAOC,aAAaC,QAAQ,aAAc,CAC5C,IAAM/Q,EAAY2E,KAAKC,MAAMiM,OAAOC,aAAaC,QAAQ,cACrD/Q,EAAUoQ,aAAeA,GAC3BoB,GAAaxR,EAAUgR,SAG1B,CAACZ,EAAYC,KAIhB,IAAMvJ,GAAQ,OAAGT,SAAH,IAAGA,QAAH,EAAGA,GAAeY,IAE5BC,IAAyB,OAARJ,SAAQ,IAARA,QAAA,EAAAA,GAAUK,UAAV,OAAoBL,SAApB,IAAoBA,IAApB,UAAoBA,GAAUK,gBAA9B,aAAoB,EAAoBC,QAAO,SAACC,EAAIC,GAAL,MAAsB,MAAXA,EAAIC,KAAYF,EAAMnC,OAAOoC,EAAIxH,OAAOuH,IAAM,GAAI,EAIjI,GAAgCvD,IAAMC,SAAS,MAA/C,qBAAO+B,GAAP,MAAiBC,GAAjB,MACA,GAA0CjC,IAAMC,SAAS,GAAzD,qBAAO+N,GAAP,MAAsBC,GAAtB,MACA,GAAoChO,oBAAS,GAA7C,qBAAOiO,GAAP,MAAmBC,GAAnB,MAEA,GAAsDnO,IAAMC,UAAS,GAArE,qBAAOmO,GAAP,MAA4BC,GAA5B,MAEA,GAAkCrO,IAAMC,UAAS,GAAjD,qBAAOqO,GAAP,MAAkBC,GAAlB,MACA,GAAsCvO,IAAMC,SAAS,CACnD3E,MAAO,QACPkT,QAAS,qDAFX,qBAAOC,GAAP,MAAoBC,GAApB,MAKApO,QAAQC,IAAI,qBAAqB4M,GAASa,IAAepM,mBACzDtB,QAAQC,IAAI,qBAAqB4M,GAASa,IAAe7I,6BAGzD,IAAMwJ,GAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtDjU,qBAAU,WACRkU,OACC,CAACX,KAIJ,IAAMlP,GAAoB,uCAAG,WAAO8P,GAAP,eAAA/N,EAAA,+EAEFgO,KAAYC,aAAa5C,EAAY,CAC1D6C,WAAYH,IAHW,OAEnBI,EAFmB,OAKzB1B,GAAa0B,EAASlC,MALG,gDAOzB5M,QAAQC,IAAR,MAPyB,yDAAH,sDA0BpB8O,GAAY,uCAAG,4BAAApO,EAAA,+EAEMqO,KAAWC,oBAChCjD,EACAC,GACA,IALe,OAEX6C,EAFW,OAOjB3B,GAAY2B,EAASlC,MAPJ,gDAUjB5M,QAAQC,IAAR,MAViB,yDAAH,qDAelB1F,qBAAU,WACRyF,QAAQC,IAAI,eACZ8O,OACC,CAACxC,KAEJhS,qBAAU,WACR,IAAM2U,EAAa,uCAAG,8BAAAvO,EAAA,+EAEKgO,KAAYC,aAAa5C,GAF9B,OAEZ8C,EAFY,OAGZlT,EAAYkT,EAASlC,KAAKxM,KAAI,SAAC+O,GAAD,mBAAC,eAChCA,GAD+B,IAElCC,SAAU7O,KAAKC,MAAM2O,EAAKC,SAAWD,EAAKC,SAAW,WAEvDhC,GAAaxR,GAPK,gDASlBoE,QAAQC,IAAR,MATkB,yDAAH,qDAYboP,EAAoB,uCAAG,4BAAA1O,EAAA,sEACJ2O,KAAmBC,0BAA0BvD,GADzC,OACrB8C,EADqB,OAE3B9O,QAAQC,IAAI,sBAAsB6O,EAASU,YAC3CrD,GAAgB2C,EAASU,YAHE,2CAAH,qDAKtBxD,IACFkD,IACAG,KAEErD,GAAcC,IAChB8C,KAKF,IAAMU,EAAaC,aAAY,WACzB1D,GAAcC,IAChB8C,OAED,KAEH,OAAO,WACLY,cAAcF,MAEf,CAACzD,EAAYC,KAChB,OAA8CtM,oBAAS,GAAvD,qBAAOP,GAAP,MAAwBwQ,GAAxB,MACArV,qBAAU,WACR,IAAMsV,EAAe,uCAAG,4BAAAlP,EAAA,+EAEGgO,KAAYC,aAAa5C,GAF5B,OAEd8C,EAFc,OAGpB1B,GAAa0B,EAASlC,MAHF,gDAKpB5M,QAAQC,IAAR,MALoB,yDAAH,qDAQjB+L,GACF6D,MAED,CAACzQ,KAIJ,IAQMyE,GAAc,WAClBlC,GAAY,OAgCRmO,GAAsB,SAACtI,GAC3B,IAAMuI,EAAW,YAAOlD,IAGvBkD,EAAYvI,GAAQ,CACnBsF,SAAU,KACVlK,SAAU,GACV7B,aAAc,IACdwB,YAAa,IACb6D,eAAgB,OAChB5D,SAAU,IACVuK,UAAU,EACVnH,OAAQ,IACRoH,eAAe,CAACtR,MAAM,IAAKyH,KAAK,OAChC7B,kBAAkB,KAClBuD,4BAA4B,KAC5BpC,YAAY,EACZkD,SAAS,EACTnB,aAAa,IAIf0I,GAAY6C,GAEZlM,MA4CF,GAA0BnE,IAAMC,SAAS,QAAzC,qBAAOqQ,GAAP,MAAcC,GAAd,MACA,GAA8BvQ,IAAMC,SAAS,MAA7C,qBAAOuQ,GAAP,MAAgBC,GAAhB,MAQA,GAAwBzQ,IAAMC,UAAS,GAAvC,qBAAOT,GAAP,MAAasO,GAAb,MACA,GAAkC9N,IAAMC,UAAS,GAAjD,qBAAO+H,GAAP,MAAkB+F,GAAlB,MACA,GAAgC9N,mBAAS,QAAzC,qBAAO8H,GAAP,MAAiB8F,GAAjB,MAIAhT,qBAAU,WACRkS,OAAOC,aAAaW,QAClB,OACA9M,KAAK5F,UAAU,CAACqR,WAAYA,EAAa9M,KAAMA,GAAMuI,SAAUA,GAAWC,UAAUA,QAErF,CAACxI,GAAKuI,GAASC,KAGlB,IAAMjM,GAAwB,SAAC2U,EAAgBC,GAC7C,IAAIC,EAAYzD,GAASa,IAAe9K,SAAS2N,WAC/C,SAAC1U,GAAD,OAAUA,EAAKiM,OAASsI,EAAetI,QAErCjM,EAAOgR,GAASa,IAAe9K,SAASkG,MAC1C,SAACjN,GAAD,OAAUA,EAAKiM,OAASsI,EAAetI,QAEzC,IAAKjM,EAAM,CAAC,IAAD,EACL2U,EAAc,CAChBpP,GAAE,UAAEyL,GAASa,IAAe9K,gBAA1B,aAAE,EAAkC1C,OACtC4H,KAAMsI,EAAetI,KACrBwC,SAAU8F,EAAe/F,YAAc,EAAI,EAC3Cd,aAAc6G,EAAe7G,aAC7BkH,SAAUL,EAAeK,SACzBvG,WAAYkG,EAAeM,WAC3B/G,SAAUyG,EAAezG,SACzB7O,KAAMsV,EAAetV,KACrB4P,gBAAiB5J,OAAOsP,EAAe1F,iBACvCL,YAAa+F,EAAe/F,YAC5BlC,QAASiI,EAAejI,QACxBU,mBAAoBuH,EAAevH,oBAGjCkH,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAE9K,SAAU,CAAEgO,MAAO,CAACJ,OAIzC,OAFAtD,GAAY6C,QACZhC,IAAwBD,IAI1B,GAAKjS,EAAKwO,YAKH,CAAC,IAAD,EACL,GAEE,KADA,UAAAwC,GAASa,IAAe9K,SAAS0N,GAAWrI,uBAA5C,eAA6D/H,QAE7D,CACAiH,GACEiJ,EAAetI,KACf+E,GAASa,IAAe9K,SAAS0N,GAAWhG,SAAW,GAEzD,IAAMyF,EAAW,YAAOlD,IACxBkD,EAAYrC,IAAe9K,SACzB0N,GACArI,gBAAgB,GAAGG,qBAAuB,EAC5C8E,GAAY6C,GAGd,GAAGM,EAAa,CACdlJ,GACEiJ,EAAetI,KACf+E,GAASa,IAAe9K,SAAS0N,GAAWhG,SAAW,GAExC,YAAOuC,UAzB1B1F,GACEiJ,EAAetI,KACf+E,GAASa,IAAe9K,SAAS0N,GAAWhG,SAAW,IA8B7DtK,QAAQC,IAAI,mCAAmC4M,GAASa,IAAe9K,UAEvE,IAAMsE,GAAuB,SAAC2J,GAC5B,IAAIP,EAAYzD,GAASa,IAAe9K,SAAS2N,WAC/C,SAAC1U,GAAD,OAAUA,EAAKiM,OAAS+I,KAEtBd,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAE9K,SAAU,CAAEkO,QAAS,CAAC,CAACR,EAAW,QAEvDpD,GAAY6C,GACZhC,IAAwBD,KAGpB3G,GAA2B,SAAC0J,EAAUhJ,GAC1C,IAAIyI,EAAYzD,GAASa,IAAe9K,SAAS2N,WAC/C,SAAC1U,GAAD,OAAUA,EAAKiM,OAAS+I,KAEtBhV,EAAOgR,GAASa,IAAe9K,SAASkG,MAC1C,SAACjN,GAAD,OAAUA,EAAKiM,OAAS+I,KAG1B,GADGE,MAAMlJ,KAAcA,EAAc,IACjB,IAAhBA,GAAsBhM,EAAKwO,aAI/B,KAAIxC,EAAc,GAAlB,CAEA,IAAIkI,EAAW,YAAOlD,IACtBkD,EAAYrC,IAAe9K,SAAS0N,GAAWhG,SAAWzC,EAC1DqF,GAAY6C,GACZhC,IAAwBD,UARtB5G,GAAqB2J,IAWnBzJ,GAAsB,SAACyJ,EAAU5I,GACrC,IAAIqI,EAAYzD,GAASa,IAAe9K,SAAS2N,WAC/C,SAAC1U,GAAD,OAAUA,EAAKiM,OAAS+I,KAG1B,IAAmB,IAAfP,EAAJ,CACA,IAAMP,EAAW,YAAOlD,IACxBkD,EAAYrC,IAAe9K,SAAS0N,GAAWrI,gBAC7CA,EAEFiF,GAAY6C,KAGR1I,GAAwB,SAACwJ,EAAUG,GACvC,KAAIA,EAAW,GAAf,CAEA,IAAIV,EAAYzD,GAASa,IAAe9K,SAAS2N,WAC/C,SAAC1U,GAAD,OAAUA,EAAKiM,OAAS+I,KAEtBd,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CACf9K,SAAS,eAAI0N,EAAY,CAAEpG,WAAY,CAAE+G,KAAMD,QAGnD9D,GAAY6C,GACZhC,IAAwBD,MAU1B9N,QAAQC,IAAI,mDAAmD4M,GAASa,IAAepM,mBA+JvF/G,qBAAU,WAAO,IAAD,IACd,IAAG,UAAAsS,GAASa,WAAT,eAAyBpM,qBAAzB,UAA8CuL,GAASa,WAAvD,aAA8C,EAAyB7I,6BAA4B,CAAC,IAAD,UAChGqM,EAAa,UAAGrE,GAASa,WAAZ,iBAAG,EAAyBpM,yBAA5B,aAAG,EAA4CL,gBAAgBb,KAAI,SAACC,GAAQ,OAAIS,OAAO+L,GAASa,IAAe3M,eAAiBD,OAAOT,EAAIQ,WAAoBR,EAAgB,QAEhM,IAAgB,QAAb,EADH6Q,EAAgBA,EAAczW,QAAO,SAAAoB,GAAI,OAAa,OAATA,KAAe,UACzD,eAAegF,cAAf,UAA6BgM,GAASa,WAAtC,iBAA6B,EAAyB7I,mCAAtD,aAA6B,EAAsDhE,WAAU,CAC9F,IAAIkP,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAEpM,kBAAmB,CAAE2P,KAAM,MAAQpM,4BAA4B,CAAEoM,KAAM,MAAOxO,YAAY,CAAEwO,KAAM,MAAOzM,aAAa,CAAEyM,KAAM,OAEnJ/D,GAAY6C,OAGf,CAAClD,GAASa,IAAe3M,eAG5BxG,qBAAU,WACR,GAAGsS,GAASa,IAAe3M,aAAe8L,GAASa,IAAelL,SAAU,CAC1E,IAAIuN,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAElL,SAAU,CAAEyO,KAAM,KAAOjE,eAAgB,CAAEiE,KAAM,CAACvV,MAAM,IAAKyH,KAAK,QAAUV,YAAY,CAACwO,KAAK,QAEnH/D,GAAY6C,MAGb,CAAClD,GAASa,IAAe3M,eAG5B,IAAM0N,GAAoB,WAAO,IAAD,IAC1BpG,EAAQ,EACZwE,GAASa,IAAe9K,SAAS0F,SAAQ,SAACzM,GACxCwM,GAASxM,EAAKqO,WAAarO,EAAKyO,YAGlC,IAAIyF,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAE3M,aAAc,CAAEkQ,KAAM5I,MAWvC5F,EAAc,EAClB,aAAGoK,GAASa,WAAZ,aAAG,EAAyBpM,kBAAkB,CAAC,IAAD,kBACxC6P,EAA2B,UAAGtE,GAASa,WAAZ,iBAAG,EAAyBpM,yBAA5B,iBAAG,EAA4CL,uBAA/C,aAAG,EAA6Db,KAAI,SAACC,GAAQ,OAAIS,OAAO+L,GAASa,IAAe3M,eAAiBD,OAAOT,EAAIQ,WAAoBR,EAAgB,QAC/M8Q,EAA2B,UAAEA,SAAF,aAAE,EAA6B1W,QAAO,SAAAoB,GAAI,OAAa,OAATA,KAAe,GACxF4G,EAAwE,aAA3D,UAAAoK,GAASa,WAAT,mBAAyBpM,yBAAzB,eAA4CJ,cAAgE,OAAT,QAA3B,EAAAiQ,SAAA,eAA6BhO,MAAcrC,OAAM,UAACqQ,SAAD,aAAC,EAA6BrM,eAAiBhE,OAAOuH,GAAO,IAAOvH,OAAM,UAACqQ,SAAD,aAAC,EAA6BrM,eAIhP,IAEIsM,GAFU,OAAG1O,SAAH,IAAGA,IAAH,UAAGA,GAAUK,gBAAb,aAAG,EAAoBC,QAAO,SAACC,EAAIC,GAAL,MAAsB,MAAXA,EAAIC,KAAYF,EAAMnC,OAAOoC,EAAIxH,OAAOuH,IAAM,KAEnEnC,OAAOuH,GAASvH,OAAO+L,GAASa,IAAelL,UAAY1B,OAAO2B,IAAc,IAAOK,GAGzHiN,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CACf/H,SAAU,CAAEsL,KAAKG,MAIJ,IAAd3O,IACDsN,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CACfjL,YAAa,CAAEwO,KAAMxO,OAMvByJ,KACJ6D,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CACfnL,YAAa,CAAE0O,KAAM5I,EAAQwE,GAASa,IAAelL,SAAUC,EAAe2O,QAIlF,OAAInP,SAAJ,IAAIA,QAAJ,EAAIA,GAAeoP,cAAcvV,UAC/BiU,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CACf9H,OAAQ,CACNqL,KAAMK,UACHjJ,EAAQwE,GAASa,IAAelL,SAAUC,EAAa2O,IAAxD,OACEnP,SADF,IACEA,QADF,EACEA,GAAeoP,cAAc3V,aASzCwR,GAAY6C,IAGd,GAAqBrQ,IAAMC,SAAS,IAApC,qBAAM4R,GAAN,MAAWC,GAAX,MACA,GAAgD7R,oBAAS,GAAzD,qBAAO8R,GAAP,MAAyBC,GAAzB,MAKA1R,QAAQC,IAAI,cAAZ,UAA0B4M,GAASa,WAAnC,aAA0B,EAAyB/H,UAGnD,IAAM7G,GAAa,uCAAG,0CAAA6B,EAAA,yDAChBqJ,EAAO6C,GAASa,IAEhBiE,EAAsC,KAA1B,UAAA3H,EAAKpH,gBAAL,eAAe1C,QAHX,OAIS+B,SAJT,IAISA,QAJT,EAISA,GAAe2P,qBACtCC,EALc,OAKgB5P,SALhB,IAKgBA,QALhB,EAKgBA,GAAe4P,4BAC7CC,EANc,OAMF7P,SANE,IAMFA,QANE,EAMFA,GAAe6P,SAM7BC,KAA+B,OAAb9P,SAAa,IAAbA,QAAA,EAAAA,GAAekI,UAAUrO,UAAW+V,EAA4B/V,SAClFkO,EAAKpH,SAASoP,OAAM,SAAUC,EAASzK,GACrC,QAAIyK,EAAQ3H,SAAW2H,EAAQvH,oBAKjCwH,EAAwBlI,EAAKpH,SAASoP,OAAM,SAAUC,EAASzK,GACjE,MAAyB,KAArByK,EAAQ3H,UAA8C,IAA3BxJ,OAAOmR,EAAQ3H,aAG5C6H,EAAqBnI,EAAKpH,SAASoP,OAAM,SAAUC,EAASzK,GAC9D,OAAoC,IAAhC1G,OAAOmR,EAAQ/H,iBAIjByH,IAAcI,IAAoBG,IAAyBJ,EAAShW,QAAUgF,OAAOkJ,EAAKzH,aAAezB,OAAOkJ,EAAKjJ,cAAgBD,OAAOkJ,EAAKxH,WA5BjI,iBA6BlByL,IAAa,GAEXG,GADEuD,EACa,CACb3W,MAAO,QACPkT,QAAS,+BAEA6D,EAKHG,EAMO,CACblX,MAAO,QACPkT,QAAS,iDAPI,CACblT,MAAO,QACPkT,QAAS,wEAPI,CACblT,MAAO,QACPkT,QAAS,yDAtCK,8BAqDXiE,GAAuBnI,EAAKzH,YAAcyH,EAAKjJ,aAAeiJ,EAAKxH,WAAawH,EAAK8C,UArD1E,wBAsDhB4E,IAAoB,GAtDJ,2BA0DlBU,KA1DkB,4CAAH,qDAiHbA,GAAoB,uCAAI,wCAAAzR,EAAA,6DACtBiR,EADsB,OACC3P,SADD,IACCA,QADD,EACCA,GAAe2P,qBACxC5H,EAAO6C,GAASa,IAEhB2E,EAAIC,IAAOC,MAAQ,IAEnBC,EAAYF,IACbG,KAAKJ,GACLK,OAAO,sBAAuB,CAAEC,MAAM,IAErCC,EAAU5I,EAAKpH,SAASxC,KAAI,SAACvE,GAAD,mBAAC,eAAeA,GAAhB,IAAsB2G,SAAU,SAChExC,QAAQC,IAAI+J,EAAKzH,YAAayH,EAAKjJ,aAAciJ,EAAKxH,UAClDqQ,EAAO,CACTC,cAAe9I,EAAK8C,SAAW9C,EAAK8C,SAAShF,KAAO,GACpD/G,aAAciJ,EAAKjJ,aAAagS,WAChC3M,eAAgB4D,EAAK5D,eACrB7D,YAAayQ,KAAKC,IAAIjJ,EAAKzH,YAAazB,OAAOkJ,EAAKjJ,cAAgBD,OAAOkJ,EAAKxH,WAChFA,SAAUwH,EAAKxH,SACf1G,OACEkO,EAAKzH,YAAcyH,EAAKjJ,aAAeiJ,EAAKxH,SACxC,OACA,SACNoQ,QAASA,EACTM,cAAeV,EACfW,UAAWX,EACXY,IAAK,IACLC,SAAU,IACVtG,SAAU/C,EAAK+C,SACfuG,mBAAmB,EACnBzN,OAAQmE,EAAKpE,OAEbD,SAASqE,EAAKrE,UA/BY,SAmC1BmG,GAAW,GAnCe,UAoCVyH,KAASC,SAASxH,EAAYlF,EAAOgB,KAAM+K,GApCjC,QAoCtBY,EApCsB,OAsC1BrF,GAAe,CACbpT,MAAO,UACPkT,QAAS,mDAA6BuF,EAAI7G,KAAKoD,MAAM0D,aAEvDzF,IAAa,GACT2D,EAAqB9V,QAAU8V,EAAqB5H,OACtDwH,GAAQiC,EAAI7G,KAAKoD,MAAM0D,YACvBC,MAEF7D,GAAoBpC,IA/CM,kDAiD1BU,GAAe,CACbpT,MAAO,QACPkT,QAAS,sDAEXD,IAAa,GACbjO,QAAQC,IAAR,MAtD0B,QAwD5B6L,GAAW,GACXiD,KAzD4B,0DAAJ,qDAiEpB6E,GAAeC,mBACfF,GAAcG,0BAAgB,CAClCC,QAAS,kBAAMH,GAAaI,WAK9B,GAA4CrU,oBAAS,GAArD,iCAIA,OADAK,QAAQC,IAAI,uCAAuC4M,GAASa,IAAelJ,cAEzE,qCACA,gBAACpH,EAAA,EAAD,CAAOC,WAAS,EAAGC,UAAU,MAAMC,eAAe,gBAAiB+F,WAAW,SAAUC,QAAS,EAAjG,UACGqK,IACA,eAACqG,EAAA,EAAD,CACCrU,KAAMgO,GACN/J,YAAa,WACXgK,IAAc,IAEhBqG,UAAW,WACT1H,IAAkBD,OAElB,IAEN,eAAC4H,GAAA,EAAD,CAAiBtQ,YAvtBS,SAACtI,EAAO6Y,GAClCnG,IAAa,IAstBsCrO,KAAMoO,GAAWlS,OAAQqS,KAI1E,eAAC/Q,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAe,SAAX5M,IAAqBvI,GAAK,EAAE,EAAnD,SACE,gBAACoV,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQJ,KAAzB,UACE,gBAACkJ,EAAA,EAAD,CAAKpI,MAAO,CAAEkD,QAASmQ,GAAW,EAAI,GAAKhL,UAAW,OAAQ0G,cAAe,GAA7E,UACE,gBAAC3G,EAAA,EAAD,CAAKpI,MAAO,CAAEsJ,OAAQ+J,GAAW,KAAO,QAAxC,UAEE,gBAACjR,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAOC,eAAe,gBAAgB+F,WAAW,SAAStI,MAAO,CAAE2C,WAAY,GAAI8L,aAAc,IAA3H,UACE,eAACrM,EAAA,EAAD,UACE,gBAAC8G,EAAA,EAAD,WAEE,eAAC1G,EAAA,EAAD,CAAYC,QAAQ,KAApB,8BACA,gBAACD,EAAA,EAAD,CAAYC,QAAQ,KAAMzC,MAAO,CAAGuJ,WAAY,GAAK3K,MAAOL,EAAMM,cAAcC,aAAa,MAA7F,UACG,IADH,QACa4T,GAAgB,KAG7B,eAAC6G,GAAA,EAAD,CACE7G,cAAeA,GACfhM,SAAUA,GACVmL,SAAUA,GACV2H,YAjvBA,SAACjZ,GACnBoG,GAAYpG,EAAM+J,gBAivBAzB,YAAaA,GACb4Q,aAxuBC,SAACjN,GACpBmG,GAAiBnG,GACjB3D,MAuuBkB6Q,aAhrBC,SAAClN,GAEpBqF,GAAS8H,OAAOnN,EAAO,GACE,KAAb,OAARqF,SAAQ,IAARA,QAAA,EAAAA,GAAU3M,QACZgN,GAAY,CACV,CACEJ,SAAU,KACVlK,SAAU,GACV7B,aAAc,IACdwB,YAAa,IACbC,SAAU,IACV4D,eAAgB,OAChB2G,UAAU,EACVnH,OAAQ,IACRoH,eAAe,CAACtR,MAAM,IAAKyH,KAAK,OAChC7B,kBAAkB,KAClBuD,4BAA4B,KAC5BpC,YAAY,EACZkD,SAAS,EACTnB,aAAa,MAKjB0I,GAAYL,IAEVa,KAAkBlG,EACpBmG,GAAiB,GACRD,GAAgBlG,GACzBmG,GAAiBD,GAAgB,GAGnC7J,MAipBkB+Q,UAtuBF,WAEhB1H,GAAY,GAAD,mBACNL,IADM,CAET,CACEC,SAAU,KACVlK,SAAU,GACV7B,aAAc,IACdwB,YAAa,IACb6D,eAAgB,OAChB5D,SAAU,IACVuK,UAAU,EACVnH,OAAQ,IACRoH,eAAe,CAACtR,MAAM,IAAKyH,KAAK,OAChC7B,kBAAkB,KAClBuD,4BAA4B,KAC5BpC,YAAY,EACZkD,SAAS,EACTnB,aAAa,OAIjBmJ,GAAgB,OAACd,SAAD,IAACA,QAAD,EAACA,GAAU3M,QAC3B2D,MAgtBkBE,QAAQ,SAId,eAAC3G,EAAA,EAAD,UACA,gBAACA,EAAA,EAAD,CAAMC,WAAS,EAACiG,WAAW,SAA3B,UACIpE,GAmBH,eAAC2V,GAAA,EAAD,CAAepV,SAAUA,GAAU0N,YAAaA,GAAa2H,UAAU,IAlBtE,uCACE,eAAC1X,EAAA,EAAD,CAAMvB,MAAI,EAAV,SACE,eAACwK,EAAA,EAAD,CAAoBE,QAAU,eAACwO,EAAA,EAAD,CAASlY,KAAK,QAASmY,QAA4B,YAAnBjJ,EAA+B9P,SAAU,SAAC8J,EAAGiP,GAAc1I,GAAS2I,KAAYC,kBAAkBF,EAAU,UAAY,YAAepb,MAAM,YAAiB6M,MAAO,8BAErO,eAACrJ,EAAA,EAAD,CAAMvB,MAAI,EAAV,SACsB,YAAnBkQ,EACC,eAACoJ,EAAA,EAAD,CAAgB1V,SAAUA,GACxBhE,sBAAuBA,KAGzB,eAACoZ,GAAA,EAAD,CACEpV,SAAUA,GACVhE,sBAAuBA,GACvBsI,QAAQ,SAOC,UAAdjC,EAAKuD,KACN,eAACjI,EAAA,EAAD,CAAMvB,MAAI,EAAV,SACE,eAACuZ,EAAA,EAAD,CACE1L,GAAI,CAAEhQ,aAAc,OACpBoD,QAAS,WACP+Q,IAAc,IAEhB7S,MAAO,CAAEuJ,WAAY,IALvB,SAOE,eAAC8Q,EAAA,EAAD,CACE5X,QAAQ,UACRwG,UAAW3J,EAAQgb,aAFrB,SAIE,eAACtK,EAAA,EAAD,CAASvG,MAAM,6BAAf,SACE,eAAC,IAAD,CAAS8Q,OAAQ,IAAK1Y,KAAK,mBAI3B,aAMZqC,GAkCA,eAACsW,GAAA,EAAD,CACE/V,SAAUA,GACVhE,sBAAuBA,GACvBsI,QAAQ,EACR0R,aAAY,UAAE5I,GAASa,WAAX,aAAE,EAAyB9K,SACvC6E,SAAUA,GACV8F,YAAaA,GACbJ,YAAaA,GACbzF,UAAWA,GACX+F,aAAcA,KA1Cd,gBAACiI,GAAA,EAAD,CAAc3R,QAAQ,EAAtB,UACE,eAAC4R,GAAA,EAAD,CACErb,QAASA,EACT0V,MAAOA,GACPE,QAASA,GACT0F,cAhsBM,SAACra,EAAOsa,GAEhC5F,GADcC,KAAY2F,GAAsB,QAAV7F,GACrB,OAAS,OAC1BG,GAAW0F,IA8rBOC,WAAYC,IACZhS,QAAQ,IAEV,eAACiS,EAAA,EAAD,UACIC,YAAYpJ,GAASa,IAAe9K,SAAUsT,YAAclG,GAAOE,KACpE9P,KAAI,SAAC6G,EAAKO,GAAW,IAAD,EACnB,OACE,eAAC,GAAD,CAEEP,IAAKA,EACLG,oBAAqBA,GACrBF,qBAAsBA,GACtBG,sBAAuBA,GACvBF,yBAA0BA,GAC1BhI,aAAcA,GAAa1E,QACzB,SAAC+H,GAAD,MAAuC,YAAzBA,EAAStB,eAEzBsG,OAAO,UAAAqF,GAASa,IAAe9K,gBAAxB,eAAkC1C,QAASsH,EAClDE,UAAWA,IAXb,UACUT,EAAIa,KADd,uBAoChB,UAAA+E,GAASa,IAAelJ,oBAAxB,eAAsCtE,QAAS,EAC/C,gBAACkD,EAAA,EAAD,CAAKpI,MAAO,CAAE2C,WAAY,IAA1B,UACE,eAAC8H,EAAA,EAAD,IACA,gBAACvB,EAAA,EAAD,WACE,eAAC1G,EAAA,EAAD,UAAY,2EACZ,eAAC,IAAD,CAAmBxC,MAAO,CAACuJ,WAAW,GAAI3K,MAAM,YAEhD,eAACoc,EAAA,EAAD,UACUC,YAAYpJ,GAASa,IAAelJ,aAAc0R,YAAclG,GAAOE,KACxE9P,KAAI,SAAC6G,EAAKO,GAAW,IAAD,EACnB,OACE,eAAC,GAAD,aACE2O,aAAa,EAEblP,IAAKA,EACLG,oBAAqBA,GACrBF,qBAAsBA,GACtBG,sBAAuBA,GAEvBlI,aAAcA,GAAa1E,QACzB,SAAC+H,GAAD,MAAuC,YAAzBA,EAAStB,eAEzBsG,OAAO,UAAAqF,GAASa,IAAe9K,gBAAxB,eAAkC1C,QAASsH,EAClDE,UAAWA,GACXC,iBAAiB,GAbnB,QAcSH,EAAM,GAdf,UAEUP,EAAIa,KAFd,mBA4BP,QAGT,eAACzB,EAAA,EAAD,CAAkBE,QAAS,eAACwO,EAAA,EAAD,CAASlY,KAAK,QAASmY,QAAS9V,GAAMjD,SA5wBhD,SAACV,GACxBiS,GAAQjS,EAAMyK,OAAOgP,YA2wBiFha,MAAO,CAAE8C,QAAS,OAASP,eAAgB,mBAM/I,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAe,SAAX5M,IAAqBvI,GAAK,EAAE,EAAG+E,UAAW3J,EAAQJ,KAAzE,SACE,eAACoa,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQJ,KAAzB,SACE,eAACkJ,EAAA,EAAD,CAAKpI,MAAO,CAAEkD,QAAS,EAAGmF,UAAW,QAArC,SAEI,eAAC,GAAD,CACE5D,SAAUA,GACVmH,QAASA,EACT5H,kBAAmBA,EACnBD,eAAgBA,EAChBT,SAAUuO,GAASa,IACnBnP,qBAppBe,SAAC/D,GAC5B,IAAIuV,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAEZ,SAAU,CAAEmE,KAAMzW,MAEvC0S,GAAY6C,IAipBAnR,qBAAsBA,GACtBF,qBAniBe,SAAC0X,KAoiBhB3X,uBA/oBiB,SAAC2X,GAC9B,KAAIA,EAAS,GAAb,CACA,IAAIrG,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAEnL,YAAa,CAAE0O,KAAMmF,MAE1ClJ,GAAY6C,KA2oBApR,0BA7jBoB,SAAC0X,GACjC,IAAItG,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAEtH,eAAgB,CAAE6K,KAAMoF,MAE7CnJ,GAAY6C,IA0jBAlR,oBA9fc,SAACkO,GAC3B,IAAIgD,EAAcY,KAAO9D,GAAU,IAInCK,GAAY6C,IA0fAjR,cAAeA,GACfN,gBAAiBqO,GAASa,IAAeZ,SACzC7N,cAAe6H,EACf5H,KAAMA,GACNtD,UAAWA,GACXwD,gBAAiB,kBAAMwQ,IAAoBxQ,KAE3CD,aAAcA,GAAa1E,QACzB,SAAC+H,GAAD,MAAuC,YAAzBA,EAAStB,eAEzB7B,QAAO,OAAE4C,SAAF,IAAEA,QAAF,EAAEA,GAAeoP,cAAcvV,OACtCwD,2BApkBqB,SAACgX,GAAS,IAAD,EAEtCC,EAA+B,MAAbD,EAAInT,MAAsG,KAAtFrC,OAAOwV,EAAI5a,OAASoF,OAAO+L,GAASa,IAAe3M,cAAc,IAAI,KAAKyV,WAAiBzD,WAAauD,EAAI5a,MAGlJ0V,GADU,OAAG1O,SAAH,IAAGA,IAAH,UAAGA,GAAUK,gBAAb,aAAG,EAAoBC,QAAO,SAACC,EAAIC,GAAL,MAAsB,MAAXA,EAAIC,KAAYF,EAAMnC,OAAOoC,EAAIxH,OAAOuH,IAAM,KACnEnC,OAAO+L,GAASa,IAAe3M,cAAgBD,OAAOyV,IAAiB,IAAOzT,GAG5GiN,EAAcY,KAAO9D,GAAD,eAErBa,GAAgBxB,GAAsB,CAAEc,eAAgB,CAAEiE,KAAMqF,GAAQ9T,SAAS,CAAEyO,KAAMsF,GAAmB5Q,SAAU,CAAEsL,KAAKG,GAAgB7O,YAAY,CAAE0O,MAAOnQ,OAAO+L,GAASa,IAAe3M,cAAeD,OAAOyV,GAAiBzV,OAAOsQ,IAAgB2B,aAC9P,CAAE/F,eAAgB,CAAEiE,KAAMqF,GAAQ9T,SAAS,CAAEyO,KAAMsF,GAAkB5Q,SAAU,CAAEsL,KAAKG,MAI1FlE,GAAY6C,IAsjBAxQ,8BAtpBwB,SAAC+B,GAA0C,IAAD,IAAtBmV,EAAsB,uDAAT,KACjE1G,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAEpM,kBAAmB,CAAE2P,KAAM,MAAQpM,4BAA4B,CAAEoM,KAAM,MAAOxO,YAAY,CAAEwO,KAAM,MAAOzM,aAAa,CAAEyM,KAAM,OAEnJ,GAAI3P,EAAJ,CAKA,IAAI6P,EAA2B,OAAG7P,QAAH,IAAGA,GAAH,UAAGA,EAAmBL,uBAAtB,aAAG,EAAoCb,KAAI,SAACC,GAAQ,OAAIS,OAAO+L,GAASa,IAAe3M,eAAiBD,OAAOT,EAAIQ,WAAoBR,EAAgB,QACtL8Q,EAA6BA,EAA4B1W,QAAO,SAAAoB,GAAI,OAAa,OAATA,KAAe,GAGtFkU,EAAcY,KAAOZ,EAAD,eAClBrC,GAAgB,CAAEpM,kBAAmB,CAAE2P,KAAM3P,GAAqBuD,4BAA4B,CAACoM,KAAKE,MAEvG,IAAI1O,EAA+C,YAAjCnB,EAAkBJ,aAA+D,MAAnCiQ,EAA4BhO,KAAcrC,OAAOqQ,EAA4BrM,eAAiBhE,OAAO+L,GAASa,IAAe3M,cAAc,IAAOD,OAAOqQ,EAA4BrM,eAGrPiL,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CAACjL,YAAY,CAAEwO,KAAMxO,MAExC,IAAIiU,EAAU,OAAGhU,SAAH,IAAGA,IAAH,UAAGA,GAAUK,gBAAb,aAAG,EAAoBC,QAAO,SAACC,EAAIC,GAAL,MAAsB,MAAXA,EAAIC,KAAYF,EAAMnC,OAAOoC,EAAIxH,OAAOuH,IAAM,GACjGmO,EAAgBsF,GAAc5V,OAAO+L,GAASa,IAAe3M,cAAgBD,OAAO2B,GAAc3B,OAAO+L,GAASa,IAAelL,WAAY,IAAOM,GASxJ,GANAiN,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CACf/H,SAAU,CAAEsL,KAAMG,MAIgB,aAAnC9P,EAAkBH,aAA6B,CAChD,IAAMwV,EAAWF,EAAcA,EAAaG,OAAQzF,EAA4B3M,aAC5EA,EAAY,OAAGmS,QAAH,IAAGA,OAAH,EAAGA,EAAUvW,KAAI,SAACgQ,GAAkB,IAAD,EACjD,GAAGA,EAAe9F,SAAU,IAAM8F,EAAe/F,YACjD,MAAO,CAAEjJ,GAAE,UAAEyL,GAASa,IAAe9K,gBAA1B,aAAE,EAAkC1C,OAC7C4H,KAAMsI,EAAetI,KACrBwC,SAAU8F,EAAe/F,YAAc,EAAI+F,EAAe9F,SAC1Df,aAAc6G,EAAe7G,aAC7BkH,SAAUL,EAAeK,SACzBvG,WAAYkG,EAAeM,WAC3B/G,SAAUyG,EAAezG,SACzB7O,KAAMsV,EAAetV,KACrB4P,gBAAiB5J,OAAOsP,EAAe1F,iBACvCL,YAAa+F,EAAe/F,YAC5BlC,QAASiI,EAAejI,QACxBU,mBAAoBuH,EAAevH,uBAEvC7I,QAAQC,IAAI,eAAeuE,GAC3BA,EAAcA,EAAa/J,QAAO,SAACoB,GAAD,OAASA,KAC3CkU,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CACflJ,aAAc,CAAEyM,KAAMzM,MAKzB0H,KACD6D,EAAcY,KAAOZ,EAAD,eACjBrC,GAAgB,CACfnL,YAAa,CAAE0O,KAAMnQ,OAAO+L,GAASa,IAAe3M,cAAgBD,OAAO2B,GAAmB3B,OAAO+L,GAASa,IAAelL,UAAW4O,OAI9IlE,GAAY6C,QA5DV7C,GAAY6C,IAkpBFvQ,wCAplBkC,SAACqF,GAC/C,GAAIA,EAAJ,CACA,IAAIkL,EAAcY,KAAO9D,GAAD,eACrBa,GAAgB,CAAE7I,4BAA6B,CAAEoM,KAAMpM,MAE1DqI,GAAY6C,KAsjBF,SA2BI7Q,GACA,eAAC2X,EAAA,EAAD,CAAiB7b,MAAO,CAAE8b,WAAYzU,IAA4BnD,GAAM,OAAO,OAAQoF,QAAQjC,IAA4BnD,GAAM,OAAQ,QAAzI,SACC,eAAC6X,EAAA,EAAD,CAAQla,KAAK,QAAb,SAEC,eAACmZ,EAAA,EAAD,UACGC,YAAYpJ,GAASa,IAAe9K,SAAUsT,YAAclG,GAAOE,KACjE9P,KAAI,SAAC6G,EAAKO,GAAW,IAAD,EACrB,OACE,eAAC,GAAD,CAEEP,IAAKA,EACLG,oBAAqBA,GACrBF,qBAAsBA,GACtBG,sBAAuBA,GACvBF,yBAA0BA,GAC1BhI,aAAcA,GAAa1E,QACzB,SAAC+H,GAAD,MAAuC,YAAzBA,EAAStB,eAEzBoG,MAAM,EACNC,UAAsB,UAAXE,IAAsBvI,GACjCsI,OAAO,UAAAqF,GAASa,IAAe9K,gBAAxB,eAAkC1C,QAASsH,EAClDC,SAAUA,GACVC,UAAWA,IAdb,UACUT,EAAIa,KADd,oBARD,aAmCnB,eAAC,GAAD,CAAwBlI,KAAM6R,GAAkB5N,YApczB,WACzB6N,IAAoB,IAmc+DU,qBAAsBA,GAAsB4E,cAAgBnK,GAASa,IAAenL,YAAcsK,GAASa,IAAe3M,aAAe8L,GAASa,IAAelL,WAAaqK,GAASa,IAAeZ,SACvRmK,gBAAiBpK,GAASa,IAAe9K,SAASoP,OAAM,SAAUC,EAASzK,GAAS,OAAoC,IAAhC1G,OAAOmR,EAAQ/H,iBAEvG,sBAAKlP,MAAO,CAAE8C,QAAS,QAAvB,SACE,sBAAKoZ,IAAKtD,GAAV,SACE,eAACuD,EAAA,EAAD,CAAgBnN,KAAM6C,GAASa,IAAgB6D,KAAMA,GAAMpO,KAAI,OAAElB,SAAF,IAAEA,QAAF,EAAEA,GAAe2P,qBAAqBwF,sBAYzGC,GAAwB,SAAC,GAA0E,IAAzEzX,EAAwE,EAAxEA,KAAKiE,EAAmE,EAAnEA,YAAYuO,EAAuD,EAAvDA,qBAAsB4E,EAAiC,EAAjCA,cAAcC,EAAmB,EAAnBA,eAC7E1d,EAAQc,cAEd,OACE,gBAACid,GAAA,EAAD,CAAuB7S,MAAOuS,EAAc,6EAA0C,qEAAsCpX,KAAMA,EAAMiE,YAAaA,EAArJ,UACE,eAACrG,EAAA,EAAD,CAAYxC,MAAO,CAAE2C,UAAW,GAAI8L,aAAc,IAAlD,SACCuN,EAAc,iJAAqF,yFAErGC,GAAkBD,EACnB,uCACE,eAACxZ,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAAE2C,UAAW,GAAI8L,aAAc,IAA/D,gFAGA,eAACjM,EAAA,EAAD,CAAYxC,MAAO,CAAE2C,UAAW,GAAI8L,aAAc,IAAlD,oGAGI,KAGJ,eAACjM,EAAA,EAAD,CAAYxC,MAAO,CAAE4J,WAAY,IAAKhL,MAAML,EAAMM,cAAcC,aAAa,MAA7E,4FAIA,gBAACsD,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAGxI,MAAO,CAAG8C,QAAS,OAASgN,cAAe,MAAOvN,eAAgB,WAAYuM,WAAY,IAA5G,UACE,gBAACpD,EAAA,EAAD,CAAQ5J,QAAS+G,EAAapG,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAAEjB,YAAa,IAAKH,MAAM,YAAhG,UACG,IADH,YACY,OAEZ,gBAAC8M,EAAA,EAAD,CAAQ5J,QAAS,WAAOsV,IAAwBvO,KAAgBpG,QAAQ,YAAYZ,KAAK,QAAQjD,MAAM,UAAvG,6BACW,c,2FC3zCbP,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACX+d,OAAQ,CACNtc,MAJc,IAKduc,WAAY,GAEdC,YAAa,CACXxc,MARc,IASdiD,QAAS,IAEXwZ,UAAW,CAAEjO,aAAc,IAC3BkO,KAAM,CAAElO,aAAc,GAAI9L,UAAW,SAmN1Bia,GAhNO,SAACxd,GACrB,IAAQyd,EAA+Dzd,EAA/Dyd,mBAAoBC,EAA2C1d,EAA3C0d,WAAuBC,GAAoB3d,EAA/B4d,UAA+B5d,EAApB2d,OAAOE,EAAa7d,EAAb6d,SAEpD1e,EAAQc,eACRC,EAAUjB,GAAUE,GACpBuI,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAGpCkS,GAFalS,EAAKI,MAAM4F,KACVhG,EAAKgF,OAAOgB,KACjBwK,IAAO,IAAI7O,MAAQiP,OAAO,eAEnCwF,EAASC,aAAU,CACvBC,cAAeL,EACfM,SAAS,WAAD,4BAAE,WAAMC,GAAN,SAAA3X,EAAA,sDAGRkX,IACAI,EAASK,GAJD,2CAAF,mDAAC,KAaX,OANA5Y,IAAMnF,WAAU,WACqB,IAAnC2d,EAAOI,OAAOC,UAAUrY,OAAegY,EAAOM,cAAc,YAAYxE,GAAWkE,EAAOM,cAAc,YAAYN,EAAOI,OAAOC,WACjG,IAAjCL,EAAOI,OAAOG,QAAQvY,OAAegY,EAAOM,cAAc,UAAUxE,GAAWkE,EAAOM,cAAc,UAAUN,EAAOI,OAAOC,aAE5H,IAGA,gBAACG,GAAA,EAAD,CACEC,OAAO,QACPjU,QAASmT,EACTjY,KAAMkY,EACNxd,QAAS,CACPse,MAAOte,EAAQmd,aAEjBxT,UAAW3J,EAAQid,OAPrB,UAeE,eAAC/Z,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,6BACA,eAACxd,EAAA,EAAD,CAAWiH,GAAG,YAAYqF,MAAM,UAC9BtD,KAAK,OACLrI,KAAK,YAGL2C,QAAQ,WAAWZ,KAAK,QAAQT,WAAS,EACzC6H,UAAW3J,EAAQod,UACnBmB,gBAAiB,CAAEC,QAAQ,GAE3Bpd,MAAOwc,EAAOI,OAAOC,UACrBtc,SAAUic,EAAOa,eAEnB,eAAC5e,EAAA,EAAD,CACEiH,GAAG,UAAUqF,MAAM,gBAAMtD,KAAK,OAAOrI,KAAK,UAE1C2C,QAAQ,WAAWZ,KAAK,QACxBT,WAAS,EAAC6H,UAAW3J,EAAQod,UAC7BmB,gBAAiB,CAAEC,QAAQ,GAC3Bpd,MAAOwc,EAAOI,OAAOG,QAErBxc,SAAUic,EAAOa,eAKnB,eAACvb,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,6CACA,eAAC,KAAD,CAAUqB,UAAQ,EAACvS,MAAM,UAAKhJ,QAAQ,WAAWrB,WAAS,EAACS,KAAK,QAAQoH,UAAW3J,EAAQod,UACzF5c,KAAK,iBACLY,MAAOwc,EAAOI,OAAOW,eACrBhd,SAAUic,EAAOa,eAQnB,eAAC,KAAD,CACE3X,GAAG,iBAAiBtG,KAAK,iBACzBke,UAAQ,EAACvS,MAAM,gBAAMhJ,QAAQ,WAC7BrB,WAAS,EAACS,KAAK,QAAQoH,UAAW3J,EAAQod,UAC1Chc,MAAOwc,EAAOI,OAAOY,eACrBjd,SAAUic,EAAOa,eAUnB,eAACvb,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,+BACA,eAAC,KAAD,CAAUqB,UAAQ,EAACvS,MAAM,UAAKhJ,QAAQ,WACpC3C,KAAK,cAAcsG,GAAG,cACtBhF,WAAS,EAACS,KAAK,QAAQoH,UAAW3J,EAAQod,UAC1Chc,MAAOwc,EAAOI,OAAOa,YACrBld,SAAUic,EAAOa,eAQnB,eAAC,KAAD,CACEC,UAAQ,EAACvS,MAAM,gBAAMhJ,QAAQ,WAAWrB,WAAS,EAACS,KAAK,QACvDuE,GAAG,cAActG,KAAK,cACtBmJ,UAAW3J,EAAQod,UACnBhc,MAAOwc,EAAOI,OAAOc,YACrBnd,SAAUic,EAAOa,eAmCnB,eAACvb,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,iCACA,eAAC1R,EAAA,EAAD,CACEhC,UAAW3J,EAAQ+e,YACnBjd,WAAS,EACTS,KAAK,QACLY,QAAQ,WAJV,SAME,gBAAC6b,GAAA,EAAD,CACEC,QAAQ,oCACRnY,GAAG,SACHtG,KAAK,SACL+B,KAAK,QACLZ,SAAUic,EAAOa,aAEjBrd,MAAOwc,EAAOI,OAAOxc,OAPvB,UASE,eAAC0d,GAAA,EAAD,CAAU9d,MAAM,GAAhB,SAAoB,qDACpB,eAAC8d,GAAA,EAAD,CAAU9d,MAAM,OAAhB,4BACA,eAAC8d,GAAA,EAAD,CAAU9d,MAAM,SAAhB,wCAOJ,eAAC8B,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,yCACA,eAAC1R,EAAA,EAAD,CACEhC,UAAW3J,EAAQ+e,YACnBjd,WAAS,EACTS,KAAK,QACLY,QAAQ,WAJV,SAME,gBAAC6b,GAAA,EAAD,CACEC,QAAQ,oCACRnY,GAAG,gBAAgBtG,KAAK,gBACxB+B,KAAK,QACLZ,SAAUic,EAAOa,aAEjBrd,MAAOwc,EAAOI,OAAOmB,cANvB,UAQG,eAACD,GAAA,EAAD,CAAU9d,MAAM,GAAhB,SAAoB,qDACrB,eAAC8d,GAAA,EAAD,CAAU9d,MAAM,OAAhB,sBACA,eAAC8d,GAAA,EAAD,CAAU9d,MAAM,OAAhB,qCAKJ,eAACgL,EAAA,EAAD,CACEjJ,QAAQ,YACR7D,MAAM,UACNkD,QAASob,EAAOvM,aAChB3Q,MAAO,CAAE2C,UAAW,IAJtB,0B,sCCrJS+b,OA9Df,SAAyBtf,GAAQ,IAAD,MACtB6M,EAAiE7M,EAAjE6M,IAAK0S,EAA4Dvf,EAA5Duf,cAAeC,EAA6Cxf,EAA7Cwf,QAAkBC,GAA2Bzf,EAApC0J,SAAoC1J,EAA3Byf,cAAcC,EAAa1f,EAAb0f,UAGtDxf,GAFQD,cAEE0f,gBAEhB,OACE,uCAEE,gBAAC9Q,GAAA,EAAD,CACEnM,QAAS,kBAAM6c,EAAc1S,EAAIa,OAEjC7D,UAAW+V,aACT1f,EAAQ2M,IACR2S,IAAY3S,EAAIa,KAAOxN,EAAQ2f,WAAa,MAE9Cjf,MAAO,CAACpB,MAAMkgB,GAPhB,UASE,eAACzQ,GAAA,EAAD,CAAWC,MAAM,OAAQtO,MAAO,CAACpB,MAAMkgB,GAAvC,SAAoD7S,EAAIyM,aACxD,eAACrK,GAAA,EAAD,CAAWC,MAAM,OAAOrF,UAAW6V,EAAU,KAAKxf,EAAQ4f,SAAUlf,MAAO,CAACpB,MAAMkgB,GAAlF,mBAEG7S,EAAIiM,qBAFP,aAEG,EAAmBiH,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAIiM,qBAApB,aAAgB,EAAmBiH,MAAM,KAAK,GAAGG,OAAO,EAAG,OAGrI,eAACjR,GAAA,GAAD,GACEC,MAAM,OACNtO,MAAO,CAAEwO,SAAU,MAFrB,sBAGS,CAAC5P,MAAMkgB,IAHhB,yBAMG7S,EAAIsT,eANP,IAYA,eAAClR,GAAA,EAAD,CAAWC,MAAM,QAAQtO,MAAO,CAACpB,MAAMkgB,GAAvC,SAAoD7S,EAAIuT,iBAExD,gBAACnR,GAAA,EAAD,CAAWC,MAAM,QACjBtO,MAAO,CAAC4J,WAAWkV,EAAW,KAAK,IAAIlgB,MAAMkgB,GAD7C,UAIG,IACD,eAAC,KAAD,CAAWpe,MAAOoF,OAAOmG,EAAIlG,cAAgBD,OAAOmG,EAAIzE,gBAE7C,OAAZqX,QAAY,IAAZA,OAAA,EAAAA,EAAcY,SAAS,SAAS,KACjC,eAACpR,GAAA,EAAD,CAAWC,MAAM,SAAStO,MAAO,CAACpB,MAAMkgB,GAAxC,SACE,eAAC,KAAD,CAAgBY,KAAM5Z,OAAOmG,EAAIlG,cAAgBD,OAAOmG,EAAIzE,UAAY1B,OAAOmG,EAAI1E,aAAe,EAAI,EAAI,QApCvG0E,EAAIa,MAyCX,eAACmB,GAAA,EAAD,UAEE,eAACI,GAAA,EAAD,CAAWrO,MAAO,CAAE+O,cAAe,EAAGD,WAAY,GAAKe,QAAS,EAAhE,SACE,eAAC8P,GAAA,EAAD,CAAeC,YAAaxgB,Y,6BCkSvBygB,GAhTC,WAEd,IAAMthB,EAAQc,cACRC,EAAUjB,YAAUE,GACpB+S,EAAWxM,cACXuO,EAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAGtD,EAA4B7O,mBAAS,IAArC,mBAAOmb,EAAP,KAAe9C,EAAf,KACA,EAAsCrY,mBAAS,CAC7Cob,KAAM,EACNC,MAAO,KAFT,mBAAOC,EAAP,KAAoBC,EAApB,KAIA,EAAkCvb,mBAAS,GAA3C,mBAAOwb,EAAP,KAAkBC,EAAlB,KACA,EAAsCzb,mBAAS,GAA/C,mBAAO0b,EAAP,KAAoBC,EAApB,KAEMxZ,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAI1ByT,EAAe,CACnBhD,UAAW,GACXE,QAAS,GACTU,YAAa,KACbC,YAAY,KACZH,eAAgB,KAChBC,eAAgB,KAChBpd,OAAQ,GACR2d,cAAe,GACfvJ,QAAS,oBACTxP,KAAM,OACNgO,UAAW,IAMb,EAA0B/O,mBAAS4b,GAAnC,mBAAOxD,EAAP,KAAcE,EAAd,KAIA,EAA8BvY,IAAMC,SAAS,MAA7C,mBAAOia,EAAP,KAAgB4B,EAAhB,KACM7B,GAAgB,SAAC1S,GAEnBuU,EADEvU,IAAQ2S,EACC3S,EAEA,OAKf,GAA0BvH,IAAMC,SAAS,OAAzC,qBAAOqQ,GAAP,MACA,IADA,MAC8BtQ,IAAMC,SAAS,OAA7C,qBAAOuQ,GAAP,MAuBM0D,IAvBN,MAuBqBC,oBACfF,GAAcG,0BAAgB,CAClCC,QAAS,kBAAMH,GAAaI,WAE9B,GAAoCtU,IAAMC,UAAS,GAAnD,qBAAOmY,GAAP,MAAmB2D,GAAnB,MACM5D,GAAqB,WACzB4D,IAAe3D,KAEjB,GAA4BnY,oBAAS,GAArC,qBAAO+b,GAAP,MAAexH,GAAf,MACMpQ,GAAW,WACf9D,QAAQC,IAAI,mBACZiU,IAAWwH,KASbnhB,qBAAU,WACR2gB,EAAe,2BAAKD,GAAN,IAAmBF,KAAM,OACtC,CAACW,GAAQ1P,EAAYC,EAAa8L,IACrCxd,qBAAU,WACR,IAAMohB,EAAQ,uCAAG,4BAAAhb,EAAA,+EAEU4S,KAASqI,eAC9B5P,EACAC,EAFqB,aAInB8O,KAAME,EAAYF,KAClBC,MAAOC,EAAYD,OAChBjD,IARM,OAEPjJ,EAFO,OAYbsM,EAAatM,EAAS+M,YACtB7D,EAAUlJ,EAASlC,MACnB0O,EAAexM,EAAS/N,cAdX,gDAgBbf,QAAQC,IAAR,MAhBa,yDAAH,qDAmBV+L,GAAcC,GAChB0P,MAED,CAACV,EAAYF,KAAME,EAAYD,MAAO/O,EAAa8L,EAAO2D,KAE7D,IAAMI,GAAWpc,IAAMqc,YAGjBC,GAAa,uCAAG,4BAAArb,EAAA,+EAEK4S,KAASqI,eAC9B5P,EACAC,EACA8L,GALgB,cAEZjJ,EAFY,yBAOXA,EAASlC,MAPE,gCASlBN,EAAS2P,KAAaC,aAAa,kDACnClc,QAAQC,IAAR,MAVkB,yDAAH,qDAcnB,OACE,gBAACqU,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQJ,KAAzB,UACE,gBAACkD,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UAEE,eAACH,EAAA,EAAD,CAAME,UAAU,SAASC,eAAe,SAAS+F,WAAW,SAA5D,SACA,eAAC9F,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,oCAaA,eAACL,EAAA,EAAD,CAAM6G,UAAW3J,EAAQ6hB,UAAzB,SACE,eAAC/G,EAAA,EAAD,CACE1L,GAAI,CAAEhQ,aAAc,QACpBoD,QAAS,WACPwP,EAAS8P,KAAgBC,gBAAe,IACxC/P,EAAS8P,KAAgBE,gBAAgB,KAE3CpW,UAAWqW,KACXC,GAAG,mBAPL,SASE,eAACnH,EAAA,EAAD,CAAQ5X,QAAQ,UAAUwG,UAAW3J,EAAQgb,aAA7C,SACE,eAACtK,EAAA,EAAD,CAASvG,MAAM,+BAAf,SACE,eAAC,IAAD,CAAS8Q,OAAQ,IAAK1Y,KAAK,sBAOrC,eAAC4I,EAAA,EAAD,IAIA,eAACgX,GAAA,EAAD,CACEC,UAAW5B,EACX6B,gBAlIkB,WACtB,IAAMC,EAAS,uCAAG,sBAAAjc,EAAA,6DAChBX,QAAQC,IAAI,qBADI,kBAGIsT,KAASsJ,UAAU7Q,EAAYC,GAHnC,cAIdK,EAAS2P,KAAaa,iBAAiB,kEAJzB,gDAMdxQ,EAAS2P,KAAaC,aAAa,oEANrB,yDAAH,qDASfa,KAAMC,QAAQ,CACZjJ,QAAS,qJACTkJ,KAFY,WAGVL,IACA9Y,SAqHAoZ,UAAWC,KACXC,WAAY,4CACZvF,mBAAoBA,GACpBlE,YAAaA,GACbqI,cAAeA,GACfqB,eAAgB,CACd,CAAE3hB,MAAO,oBAAqB+K,MAAO,kBACrC,CAAE/K,MAAO,eAAgB+K,MAAO,+BAElCyJ,QAAS6H,EAAM7H,QACfC,WAAY,SAACzU,GAAD,OAAWuc,EAAS,2BAAKF,GAAN,IAAa7H,QAASxU,MACrDgF,KAAMqX,EAAMrX,KACZ4c,QAAS,SAAC5hB,GAAD,OAAWuc,EAAS,2BAAKF,GAAN,IAAarX,KAAMhF,MAC/CgT,UAAWqJ,EAAMrJ,UACjB6O,aAAc,SAAC7hB,GAAD,OAAWuc,EAAS,2BAAKF,GAAN,IAAarJ,UAAWhT,MACzD8hB,mBArKqB,WACzBvF,EAASsD,IAqKLkC,cAAe,CACb,CAAEC,OAAQ,aAAcC,YAAa,8BACrC,CAAED,OAAQ,gBAAiBC,YAAa,oBACxC,CAAED,OAAQ,aAAcC,YAAa,kBACrC,CAAED,OAAQ,eAAgBC,YAAa,4CACvC,CAAED,OAAQ,cAAeC,YAAa,0CACtC,CAAED,OAAQ,SAAUC,YAAa,sBACjC,CAAED,OAAQ,iBAAkBC,YAAa,4CACzC,CAAED,OAAQ,oBAAqBC,YAAa,yCAC5C,CAAED,OAAQ,oBAAqBC,YAAa,iDAGhD,eAAC,GAAD,CACE7F,WAAYA,GACZG,SAAUA,EACVF,MAAOA,EACPF,mBAAoBA,GACpBG,UAAWA,IAIX3J,EAuCA,uCACE,eAACjL,EAAA,EAAD,CAAKpI,MAAO,CAAEqI,UAAW,QAAzB,SACGyX,EAAO1a,KAAI,SAAC6G,EAAKO,GAChB,OAQE,cAPA,CAOC,KAAD,CAEEP,IAAKA,EACL2S,QAASA,EACTD,cAAeA,GACf7V,SAAUA,GACVjD,UAAWoG,EAAIlG,aACfK,GAAI6F,EAAIyM,WACRkK,YAAa3W,EAAIsT,cACjBsD,KAAM5W,EAAIkM,UACV2K,SAAU,wBATL7W,EAAIa,WAcjB,eAACiW,GAAA,EAAD,CACE9C,YAAW,2BAAOA,GAAP,IAAoBY,WAAYV,IAC3CD,eAAgBA,EAChB8C,KAAMlD,OAnEV,gBAACpF,GAAA,EAAD,CACEuF,YAAW,2BAAOA,GAAP,IAAoBY,WAAYV,IAC3CD,eAAgBA,EAChB8C,KAAMlD,EACNgB,SAAUA,GAJZ,UAME,eAACnG,GAAA,EAAD,CACErb,QAASA,EACT0V,MAAOA,GACPE,QAASA,GACT0F,cAhJgB,SAACra,EAAOsa,KAiJxBC,WAAYC,MAEd,gBAACC,EAAA,EAAD,WACA,gBAAC/M,GAAA,EAAD,CAAUjO,MAAO,CAAC+J,gBAAgB,WAAlC,UACI,gBAACsE,GAAA,EAAD,CAAWrO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAA5C,oCAA0D,eAAC,KAAD,CAAgBlJ,MAAOyf,OACjF,eAAC9R,GAAA,EAAD,IAFJ,IAEiB,eAACA,GAAA,EAAD,IAFjB,IAE8B,eAACA,GAAA,EAAD,IAC1B,gBAACA,GAAA,EAAD,CAAWC,MAAM,QAAOtO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAzD,wBAAqE,eAAC,KAAD,CAAWlJ,MAAO2f,OACvF,eAAChS,GAAA,EAAD,OAEDyR,EAAO1a,KAAI,SAAC6G,EAAKO,GAChB,OACE,qCAEA,eAAC,GAAD,CAEEP,IAAKA,EACL2S,QAASA,EACTD,cAAeA,GACf7V,SAAUA,IAJLmD,EAAIa,iBA8CrB,sBAAK9M,MAAO,CAAE8C,QAAS,QAAvB,SACE,sBAAKoZ,IAAKtD,GAAV,SACE,eAAC,GAAD,CAAkBkH,OAAQA,EAAQxgB,QAASA,EAASyd,MAAOA,EAAQoD,UAAWA,EAAYE,YAAaA,YAS3G4C,GAAmB,SAAC,GAAsD,IAApDnD,EAAmD,EAAnDA,OAAQxgB,EAA2C,EAA3CA,QAAQyd,EAAmC,EAAnCA,MAAOoD,EAA4B,EAA5BA,UAAUE,EAAkB,EAAlBA,YACrD6C,EAAYpD,EAAOqD,OAAO,GAAG,GAAIrD,EAAOqD,OAAO,GAAG,GAAGjL,cAAciH,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAK,GACpI,OACE,uBAAKrf,MAAO,CAACkD,QAAQ,IAArB,UACE,gBAACV,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,QAA1B,gCAA+C0Y,IAAO,IAAI7O,MAAQiP,OAAO,uBACzE,gBAACtP,EAAA,EAAD,CAAKpI,MAAO,CAAEsB,OAAQ,GAAG8hB,SAAU,EAAI5Y,UAAW,SAAU5L,MAAO,QAAnE,UACE,eAAC4D,EAAA,EAAD,CAAYxC,MAAO,CAAGgC,SAAU,GAAI4H,WAAY,KAAhD,mDAIA,eAACpH,EAAA,EAAD,qCAEeua,EAAMQ,UAAN,WAAsBR,EAAMQ,UAAU4B,MAAM,KAAKC,UAAUC,KAAK,MAAQ6D,EAFvF,qCAEgHnG,EAAMU,QAASV,EAAMU,QAAQ0B,MAAM,KAAKC,UAAUC,KAAK,KAAO/H,IAAO,IAAI7O,MAAQiP,OAAO,iBAEvMqF,EAAMrJ,UAAY,gBAAClR,EAAA,EAAD,gDAAkCua,EAAMrJ,WAAxC,OAAmE,KACrFqJ,EAAMjc,OAAQ,gBAAC0B,EAAA,EAAD,2DAAoD,SAAjBua,EAAMjc,OAAkB,UAAK,yBAAhE,OAA0F,KACxGic,EAAM0B,cAAe,gBAACjc,EAAA,EAAD,mEAAmE,SAAxBua,EAAM0B,cAAyB,mBAAW,YAArF,OAA4G,KACjI1B,EAAMkB,gBAAkBlB,EAAMmB,eAAiB,gBAAC1b,EAAA,EAAD,oEAAqCua,EAAMkB,eAAelB,EAAMkB,eAAe,EAA/E,gCAAyFlB,EAAMmB,eAAenB,EAAMmB,eAAe,EAAnI,iBAAuJ,KACtMnB,EAAMoB,aAAepB,EAAMqB,YAAc,gBAAC5b,EAAA,EAAD,iEAAoCua,EAAMoB,YAAYpB,EAAMoB,YAAY,EAAxE,gCAAkFpB,EAAMqB,YAAYrB,EAAMqB,YAAY,EAAtH,iBAA0I,QAGtL,+BACA,gBAAC1D,GAAA,EAAD,CAAe2I,UAAU,EAAzB,UACE,eAAC1I,GAAA,EAAD,CACA/b,MAAM,OACJU,QAASA,EACTwb,WAAYC,IAA2Btb,QAAO,SAAAoB,GAAI,MAAgB,SAAZA,EAAKuF,QAE7D,gBAAC4U,EAAA,EAAD,WACG8E,EAAO1a,KAAI,SAAC6G,EAAKO,GAChB,OAAQ,eAAC,GAAD,CAAiBsS,UAAW,OAAuB7S,IAAKA,EAAK4S,aAAc,CAAC,SAAnC5S,EAAIa,SAErD,gBAACmB,GAAA,EAAD,CAAUjO,MAAO,CAAC+J,gBAAgB,WAAlC,UACE,gBAACsE,GAAA,EAAD,CAAWrO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAA5C,oCAA0D,eAAC,KAAD,CAAgBlJ,MAAOyf,OACjF,eAAC9R,GAAA,EAAD,IAFF,IAEe,eAACA,GAAA,EAAD,IAFf,IAE4B,eAACA,GAAA,EAAD,IAC1B,gBAACA,GAAA,EAAD,CAAWC,MAAM,QAAOtO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAzD,wBAAqE,eAAC,KAAD,CAAWlJ,MAAO2f,OACvF,eAAChS,GAAA,EAAD,mB,UC7XRhQ,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACX+d,OAAQ,CACNtc,MAJc,IAKduc,WAAY,GAGdC,YAAa,CACXxc,MATc,IAUdiD,QAAQ,IAEVwZ,UAAU,CAACjO,aAAa,IACxBkO,KAAK,CAAClO,aAAa,GAAG9L,UAAU,SA0MrB2gB,GAvMa,SAAClkB,GAC3B,IAAOyd,EAA4Czd,EAA5Cyd,mBAAmBC,EAAyB1d,EAAzB0d,WAEpBve,GAF6Ca,EAAbmkB,WAExBlkB,gBACRC,EAAUjB,GAAUE,GAEpBuI,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAGpCkS,GAFalS,EAAKI,MAAM4F,KACVhG,EAAKgF,OAAOgB,KACjBwK,IAAO,IAAI7O,MAAQiP,OAAO,eAEnCwF,EAASC,aAAU,CACvBC,cAAe,CACbG,UAAW,GACXE,QAAS,GACT+F,UAAW,GACXvF,eAAgB,KAChBC,eAAgB,KAChBpd,OAAQ,OACR2d,cAAe,IAEjBpB,SAAS,WAAD,4BAAE,WAAMC,GAAN,SAAA3X,EAAA,sDAERkX,IAFQ,2CAAF,mDAAC,KAYX,OANAnY,IAAMnF,WAAU,WACqB,IAAnC2d,EAAOI,OAAOC,UAAUrY,OAAegY,EAAOM,cAAc,YAAYxE,GAAWkE,EAAOM,cAAc,YAAYN,EAAOI,OAAOC,WACjG,IAAjCL,EAAOI,OAAOG,QAAQvY,OAAegY,EAAOM,cAAc,UAAUxE,GAAWkE,EAAOM,cAAc,UAAUN,EAAOI,OAAOC,aAE5H,IAGA,gBAACG,GAAA,EAAD,CACEC,OAAO,QACPjU,QAASmT,EACTjY,KAAMkY,EACNxd,QAAS,CACPse,MAAOte,EAAQmd,aAEjBxT,UAAW3J,EAAQid,OAPrB,UAeE,eAAC/Z,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,yCACA,eAACxd,EAAA,EAAD,CACEiH,GAAG,YAAYqF,MAAM,6BAAatD,KAAK,OAAOrI,KAAK,YACnD2jB,aAAcvG,EAAOI,OAAOkG,UAC5B/gB,QAAQ,WAAWZ,KAAK,QACxBT,WAAS,EAAC6H,UAAW3J,EAAQod,UAC7BmB,gBAAiB,CAAEC,QAAQ,GAC3Bpd,MAAOwc,EAAOI,OAAOkG,UACrBviB,SAAUic,EAAOa,eAGnB,eAACvb,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,+BACA,eAACxd,EAAA,EAAD,CAAWiH,GAAG,YAAYqF,MAAM,UAC9BtD,KAAK,OACLrI,KAAK,YACL2jB,aAAcvG,EAAOI,OAAOC,UAC5B9a,QAAQ,WAAWZ,KAAK,QAAQT,WAAS,EACzC6H,UAAW3J,EAAQod,UACnBmB,gBAAiB,CAAEC,QAAQ,GAC3Bpd,MAAOwc,EAAOI,OAAOC,UACrBtc,SAAUic,EAAOa,eAEnB,eAAC5e,EAAA,EAAD,CACEiH,GAAG,UAAUqF,MAAM,gBAAMtD,KAAK,OAAOrI,KAAK,UAC1C2jB,aAAcvG,EAAOI,OAAOG,QAC5Bhb,QAAQ,WAAWZ,KAAK,QACxBT,WAAS,EAAC6H,UAAW3J,EAAQod,UAC7BmB,gBAAiB,CAAEC,QAAQ,GAC3Bpd,MAAOwc,EAAOI,OAAOG,QACrBxc,SAAUic,EAAOa,eAKnB,eAACvb,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,+CACA,eAAC,KAAD,CAAUqB,UAAQ,EAACvS,MAAM,UAAKhJ,QAAQ,WAAWrB,WAAS,EAACS,KAAK,QAAQoH,UAAW3J,EAAQod,UACzF5c,KAAK,iBACLY,MAAOwc,EAAOI,OAAOW,eACrBhd,SAAUic,EAAOa,eASnB,eAAC,KAAD,CACE3X,GAAG,iBAAiBtG,KAAK,iBACzBke,UAAQ,EAACvS,MAAM,gBAAMhJ,QAAQ,WAC7BrB,WAAS,EAACS,KAAK,QAAQoH,UAAW3J,EAAQod,UAC1Chc,MAAOwc,EAAOI,OAAOY,eACrBjd,SAAUic,EAAOa,eA8DnB,eAACvb,EAAA,EAAD,CAAYC,QAAQ,KAAKwG,UAAW3J,EAAQqd,KAA5C,yCACA,eAAC1R,EAAA,EAAD,CACEhC,UAAW3J,EAAQ+e,YACnBjd,WAAS,EACTS,KAAK,QACLY,QAAQ,WAJV,SAME,gBAAC6b,GAAA,EAAD,CACEC,QAAQ,oCACRnY,GAAG,gBAAgBtG,KAAK,gBACxB+B,KAAK,QACLZ,SAAUic,EAAOa,aAEjBrd,MAAOwc,EAAOI,OAAOmB,cANvB,UAQG,eAACD,GAAA,EAAD,CAAU9d,MAAM,GAAhB,SAAoB,qDACrB,eAAC8d,GAAA,EAAD,CAAU9d,MAAM,OAAhB,sBACA,eAAC8d,GAAA,EAAD,CAAU9d,MAAM,OAAhB,qCAKJ,eAACgL,EAAA,EAAD,CACEjJ,QAAQ,YACR7D,MAAM,UACNkD,QAASob,EAAOvM,aAChB3Q,MAAO,CAAE2C,UAAW,IAJtB,0B,UCrKS+gB,OAvCf,SAA+BtkB,GAAQ,IAAD,IAC5B6M,EAA0C7M,EAA1C6M,IAAK0S,EAAqCvf,EAArCuf,cAAeC,EAAsBxf,EAAtBwf,QAAQE,EAAc1f,EAAd0f,UAC9Bxf,EAAUyf,eAChB,OACE,uCAEE,gBAAC9Q,GAAA,EAAD,CACEnM,QAAS,kBAAM6c,EAAc1S,EAAIa,OAEjC7D,UAAW+V,aAAK1f,EAAQ2M,IAAM2S,IAAY3S,EAAIa,KAAQxN,EAAQ2f,WAAa,MAC3Ejf,MAAO,CAACpB,MAAMkgB,GAJhB,UAME,eAACzQ,GAAA,EAAD,CAAWC,MAAM,OAAOtO,MAAO,CAACpB,MAAMkgB,GAAtC,SAAmD7S,EAAI0X,cAEvD,eAACtV,GAAA,EAAD,CAAWC,MAAM,OAAOrF,UAAW6V,EAAU,KAAKxf,EAAQ4f,SAAUlf,MAAO,CAACpB,MAAMkgB,GAAlF,mBAA+F7S,EAAI2X,kBAAnG,aAA+F,EAAgBzE,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAI2X,kBAApB,aAAgB,EAAgBzE,MAAM,KAAK,GAAGG,OAAO,EAAG,OAE3N,eAACjR,GAAA,EAAD,CAAWC,MAAM,OAAOtO,MAAO,CAAEwO,SAAU,IAAI5P,MAAMkgB,GAArD,SAAoE7S,EAAIsT,gBAGxE,eAAClR,GAAA,EAAD,CAAWC,MAAM,QAAQtO,MAAO,CAACpB,MAAMkgB,GAAvC,SAAoD7S,EAAIuT,iBAExD,eAACnR,GAAA,EAAD,CAAWC,MAAM,QAAQrF,UAAW6V,EAAU,KAAKxf,EAAQ4f,SAASlf,MAAO,CAACpB,MAAMkgB,GAAlF,SAA+F,eAAC,KAAD,CAAWpe,MAAOuL,EAAIlG,mBAbhHkG,EAAIa,MAoBX,eAACmB,GAAA,EAAD,UAEE,eAACI,GAAA,EAAD,CAAWrO,MAAO,CAAE+O,cAAe,EAAGD,WAAY,GAAKe,QAAS,EAAhE,SACE,eAACgU,GAAA,EAAD,CAAqBjE,YAAaxgB,YC2O7B0kB,OAtOf,WAEE,IACA,EAA8Bnf,mBAAS,IAAvC,mBAAOof,EAAP,KAAgBR,EAAhB,KAEMzc,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAC1BwE,EAAWxM,cAEXvG,EAAQc,cACRC,EAAUjB,YAAUE,GACpB8U,EAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAMtD,EAA8B9O,IAAMC,SAAS,MAA7C,mBAAOia,EAAP,KAAgB4B,EAAhB,KACM7B,EAAgB,SAAC1S,GAEnBuU,EADEvU,IAAQ2S,EACC3S,EAEA,OAQTsU,EAAe,CACnBhD,UAAW,GACXE,QAAS,GACTU,YAAa,KACbC,YAAa,KACbH,eAAgB,KAChBC,eAAgB,KAChBpd,OAAQ,GACR2d,cAAe,GACfvJ,QAAS,qBACTxP,KAAM,OACNgO,UAAW,IAiBPkF,EAAeC,mBACfF,EAAcG,0BAAgB,CAClCC,QAAS,kBAAMH,EAAaI,WAK9B,EAAoCtU,IAAMC,UAAS,GAAnD,mBAAOmY,EAAP,KAAmB2D,EAAnB,KACM5D,EAAqB,WACzB4D,GAAe3D,IAKjB,EAA4BnY,oBAAS,GAArC,mBAAO+b,EAAP,KAEA,GAFA,KAE0B/b,mBAAS4b,IAAnC,mBAAOxD,EAAP,KAAcE,EAAd,KACA,EAAsCtY,mBAAS,CAC7Cob,KAAM,EACNC,MAAO,KAFT,mBAAOC,EAAP,KAAoBC,EAApB,KAIA,EAAkCvb,mBAAS,GAA3C,oBAAOwb,GAAP,MAAkBC,GAAlB,MACA,GAAsCzb,mBAAS,GAA/C,qBAAO0b,GAAP,MAAoBC,GAApB,MAGA/gB,qBAAU,WACR2gB,EAAe,2BAAKD,GAAN,IAAmBF,KAAM,OACtC,CAACW,EAAQ1P,EAAYC,EAAa8L,IACrCxd,qBAAU,WACR,IAAMohB,EAAQ,uCAAG,4BAAAhb,EAAA,+EAEUqe,KAAUpD,eAC/B5P,EACAC,EAFqB,aAInB8O,KAAME,EAAYF,KAClBC,MAAOC,EAAYD,OAChBjD,IARM,OAEPjJ,EAFO,OAYbsM,GAAatM,EAAS+M,YACtB0C,EAAWzP,EAASlC,MACpB0O,GAAexM,EAAS/N,cAdX,gDAiBbf,QAAQC,IAAR,MAjBa,yDAAH,qDAoBV+L,GAAcC,GAChB0P,MAED,CAACV,EAAYF,KAAME,EAAYD,MAAOhP,EAAYC,EAAa8L,IAClE,IAAMiE,GAAa,uCAAG,4BAAArb,EAAA,+EAEKqe,KAAUpD,eAC/B5P,EACAC,EACA8L,GALgB,cAEZjJ,EAFY,yBAOXA,EAASlC,MAPE,gCASlBN,EAAS2P,KAAaC,aAAa,iDACnClc,QAAQC,IAAR,MAVkB,yDAAH,qDAab6b,GAAWpc,IAAMqc,YAGvB,OACE,gBAACzH,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQJ,KAAzB,UACE,eAACkD,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,SACE,eAACC,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,sCAKF,eAACgI,EAAA,EAAD,IAIA,eAACgX,GAAA,EAAD,CACEC,UAAWqC,EACX7B,UAAWC,KACXC,WAAW,uDACXzJ,YAAaA,EACbkE,mBAAoBA,EAEpBwF,eAAgB,CACd,CAAC3hB,MAAO,qBAAsB+K,MAAO,qBACrC,CAAC/K,MAAO,uBAAwB+K,MAAO,4BAEzCyJ,QAAS6H,EAAM7H,QAASC,WAAY,SAACzU,GAAD,OAAWuc,EAAS,2BAAIF,GAAL,IAAY7H,QAASxU,MAC5EgF,KAAMqX,EAAMrX,KAAM4c,QAAS,SAAC5hB,GAAD,OAAWuc,EAAS,2BAAIF,GAAL,IAAYrX,KAAKhF,MAC/DgT,UAAWqJ,EAAMrJ,UAAW6O,aAAc,SAAC7hB,GAAD,OAAWuc,EAAS,2BAAIF,GAAL,IAAYrJ,UAAWhT,MACpF8hB,mBA7GqB,WACzBvF,EAASsD,IA6GLS,cAAeA,GACfyB,cAAiB,CACf,CAACC,OAAO,cAAcC,YAAY,gCAClC,CAACD,OAAO,gBAAgBC,YAAY,qBACpC,CAACD,OAAO,gBAAgBC,YAAY,wBACpC,CAACD,OAAO,eAAeC,YAAY,iCACnC,CAACD,OAAO,cAAcC,YAAY,sCAClC,CAACD,OAAO,cAAcC,YAAY,oCAClC,CAACD,OAAO,iBAAiBC,YAAY,4CACrC,CAACD,OAAO,oBAAoBC,YAAY,yCACxC,CAACD,OAAO,oBAAoBC,YAAY,iDAG5C,eAAC,GAAD,CACE7F,WAAYA,EACZD,mBAAoBA,EACpB0G,WAAYA,IAGZlQ,EA4BE,uCACC,eAACjL,EAAA,EAAD,CAAKpI,MAAO,CAACqI,UAAU,QAAvB,SACA0b,EAAQ3e,KAAI,SAAC6G,EAAKO,GAAN,OAOX,cANA,CAMC,KAAD,CAAiCP,IAAKA,EAAK2S,QAASA,EAASD,cAAeA,EAC9E9Y,UAAWoG,EAAIlG,aAAeK,GAAI6F,EAAI0X,YAAaf,YAAa3W,EAAIsT,cAAesD,KAAM5W,EAAI2X,WAC7Fd,SAAU,0BAFe7W,EAAIa,WAM7B,eAACiW,GAAA,EAAD,CAAY9C,YAAW,2BAAMA,GAAN,IAAmBY,WAAYV,KAAYD,eAAgBA,EAAwB8C,KAAMe,OA3CzG,gBAACrJ,GAAA,EAAD,CAAcuF,YAAW,2BAAMA,GAAN,IAAmBY,WAAYV,KAAYD,eAAgBA,EAC7F8C,KAAMe,EACNjD,SAAUA,GAFD,UAIT,eAACnG,GAAA,EAAD,CACErb,QAASA,EAGTsb,cApIkB,SAACra,EAAOsa,KAqI1BC,WAAYC,MAEd,gBAAC9M,GAAA,EAAD,CAAUjO,MAAO,CAAC+J,gBAAgB,WAAlC,UACM,gBAACsE,GAAA,EAAD,CAAWrO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAA5C,oCAA0D,eAAC,KAAD,CAAgBlJ,MAAOyf,QACjF,eAAC9R,GAAA,EAAD,IAFN,IAEmB,eAACA,GAAA,EAAD,IAAY,eAACA,GAAA,EAAD,IACzB,gBAACA,GAAA,EAAD,CAAWC,MAAM,QAAOtO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAzD,wBAAqE,eAAC,KAAD,CAAWlJ,MAAO2f,WAG7F,eAACrF,EAAA,EAAD,UACG+I,EAAQ3e,KAAI,SAAC6G,EAAKO,GAAN,OACX,eAAC,GAAD,CAEEP,IAAKA,EACL2S,QAASA,EACTD,cAAeA,GAHV1S,EAAIa,cA2BjB,sBAAK9M,MAAO,CAAE8C,QAAS,QAAvB,SACE,sBAAKoZ,IAAKtD,EAAV,SACE,eAAC,GAAD,CAAkBmL,QAASA,EAASzkB,QAASA,EAASyd,MAAOA,EAAOoD,UAAWA,GAAYE,YAAaA,aAS5G4C,GAAmB,SAAC,GAAuD,IAArDc,EAAoD,EAApDA,QAASzkB,EAA2C,EAA3CA,QAAUyd,EAAiC,EAAjCA,MAAMoD,EAA2B,EAA3BA,UAAUE,EAAiB,EAAjBA,YAEvD6C,EAAYa,EAAQZ,OAAO,GAAG,GAAIY,EAAQZ,OAAO,GAAG,GAAGS,WAAWzE,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAK,GACnI,OACE,uBAAKrf,MAAO,CAACkD,QAAQ,IAArB,UACE,gBAACV,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,QAA1B,gCAA+C0Y,IAAO,IAAI7O,MAAQiP,OAAO,uBACzE,gBAACtP,EAAA,EAAD,CAAKpI,MAAO,CAAEsB,OAAQ,GAAG8hB,SAAU,EAAI5Y,UAAW,SAAU5L,MAAO,QAAnE,UACE,eAAC4D,EAAA,EAAD,CAAYxC,MAAO,CAAGgC,SAAU,GAAI4H,WAAY,KAAhD,qDAIA,eAACpH,EAAA,EAAD,qCAEeua,EAAMQ,UAAN,WAAsBR,EAAMQ,UAAU4B,MAAM,KAAKC,UAAUC,KAAK,MAAQ6D,EAFvF,qCAEgHnG,EAAMU,QAASV,EAAMU,QAAQ0B,MAAM,KAAKC,UAAUC,KAAK,KAAO/H,IAAO,IAAI7O,MAAQiP,OAAO,iBAEvMqF,EAAMrJ,UAAY,gBAAClR,EAAA,EAAD,gDAAkCua,EAAMrJ,WAAxC,OAAmE,KACrFqJ,EAAMjc,OAAQ,gBAAC0B,EAAA,EAAD,2DAAoD,SAAjBua,EAAMjc,OAAkB,UAAK,yBAAhE,OAA0F,KACxGic,EAAM0B,cAAe,gBAACjc,EAAA,EAAD,mEAAmE,SAAxBua,EAAM0B,cAAyB,mBAAW,YAArF,OAA4G,KACjI1B,EAAMkB,gBAAkBlB,EAAMmB,eAAiB,gBAAC1b,EAAA,EAAD,oEAAqCua,EAAMkB,eAAelB,EAAMkB,eAAe,EAA/E,gCAAyFlB,EAAMmB,eAAenB,EAAMmB,eAAe,EAAnI,iBAAuJ,KACtMnB,EAAMoB,aAAepB,EAAMqB,YAAc,gBAAC5b,EAAA,EAAD,iEAAoCua,EAAMoB,YAAYpB,EAAMoB,YAAY,EAAxE,gCAAkFpB,EAAMqB,YAAYrB,EAAMqB,YAAY,EAAtH,iBAA0I,QAGtL,+BACA,gBAAC1D,GAAA,EAAD,CAAe2I,UAAU,EAAzB,UACE,eAAC1I,GAAA,EAAD,CACA/b,MAAM,OACJU,QAASA,EACTwb,WAAYC,IAAiCtb,QAAO,SAAAoB,GAAI,MAAgB,SAAZA,EAAKuF,QAEnE,gBAAC4U,EAAA,EAAD,WACG+I,EAAQ3e,KAAI,SAAC6G,EAAKO,GACjB,OAAQ,eAAC,GAAD,CAAuBsS,UAAW,OAAuB7S,IAAKA,EAAK4S,aAAc,CAAC,SAAnC5S,EAAIa,SAE3D,gBAACmB,GAAA,EAAD,CAAUjO,MAAO,CAAC+J,gBAAgB,WAAlC,UACE,gBAACsE,GAAA,EAAD,CAAWrO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAA5C,oCAA0D,eAAC,KAAD,CAAgBlJ,MAAOyf,OACjF,eAAC9R,GAAA,EAAD,IAFF,IAEe,eAACA,GAAA,EAAD,IAAY,eAACA,GAAA,EAAD,IACzB,gBAACA,GAAA,EAAD,CAAWC,MAAM,QAAOtO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAzD,wBAAqE,eAAC,KAAD,CAAWlJ,MAAO2f,sB,UC1RtF4D,UAvBG,SAAC7kB,GACjB,IAAQ8kB,EAASC,cAATD,KACFE,EAAcrd,aAAY,SAACC,GAAD,OAAWA,EAAMF,KAAKuK,KAAK+S,eAC3D,OACE,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOC,OAAK,EAACH,KAAMA,EAAnB,SACE,eAAC,IAAD,CACE1C,IACa,OAAX4C,QAAW,IAAXA,OAAA,EAAAA,EAAatW,MAAK,SAACwW,GAAD,MAAkB,UAAXA,EAAExkB,SAA3B,UACOokB,EADP,SAEI,YAIV,eAAC,IAAD,CAAOG,OAAK,EAACH,KAAI,UAAKA,EAAL,SAAkBhZ,UAAW2F,KAC9C,eAAC,IAAD,CAAOqT,KAAI,UAAKA,EAAL,YAAqBhZ,UAAW2U,KAC3C,eAAC,IAAD,CAAOqE,KAAI,UAAKA,EAAL,mBAA4BhZ,UAAW4Y,KAElD,eAAC,IAAD,CAAOI,KAAI,UAAKA,EAAL,eAAwBhZ,UAAWqZ,Y,oJCvBvCC,EAAavlB,YAAW,CACjC2e,MAAO,CACL6G,OAAQ,sBAFYxlB,EAIrB,SAACG,GAAD,OACD,cAAC,IAAD,aAEEslB,UAAW,EACXC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,MACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,SACVC,WAAY,WAEV1lB,OAII4lB,EAAiB/lB,aAAW,SAACV,GAAD,MAAY,CAClDW,KAAM,CACJ,UAAW,CACT6K,gBAAiBxL,EAAM0mB,QAAQC,QAAQC,KACvC,sDAAuD,CACrDvmB,MAAOL,EAAM0mB,QAAQG,OAAOC,YALPpmB,CASzBuf,M,+DC9BUlgB,iBAAW,SAACC,GAAD,MAAW,CAClCW,KAAM,CACJwL,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAkB,KAAMjC,IAAK,KAC7DvD,aAAaH,EAAMM,cAAcH,aACjCE,MAAO,UACPwE,UAAW,QAGbL,YAAY,CACVG,QAAS,OACTP,WAAW,EACX8L,cAAc,GACdzM,SAAU,YAGZsjB,MAAM,CACJrlB,MAAM,QAERslB,OAAQ,CACNjkB,OAAQ/C,EAAMgK,QAAQ,GACtByB,cAAc,IAGhBsQ,aAAa,uCACR/b,EAAMinB,WAAWC,cACjBlnB,EAAMinB,WAAWE,cAFV,IAGVC,WAAY,uBACZjb,WAAWnM,EAAM0mB,QAAQC,QAAQC,KACjC,UAAW,CACTza,WAAYnM,EAAMM,cAAcC,aAAa,QAIjD8mB,SAAS,CACP7mB,YAAY,GACZ4D,UAAU,IAEZwe,UAAU,CACRpiB,YAAY,GACZ4D,UAAU,IAGZkjB,eAAgB,CACdpB,OAAQ,EACRqB,KAAM,gBACNxc,OAAQ,EACRhI,QAAS,EACTykB,SAAU,SACV7iB,QAAS,EACTxB,SAAU,WACVskB,IAAK,GACL/lB,MAAO,GAETgmB,KAAM,CACJrnB,MAAmC,UAA7BL,EAAMM,cAAcqF,KAAkBjC,IAAK,KAAMA,IAAK,KAE9DiB,QAAQ,CACNqG,WAAW,GACXxK,YAAY,IAGdmnB,IAAK,CACH1X,SAAU,GACVvO,MAAO,GAEPrB,MAAML,EAAMM,cAAcC,aAAa,MAI3CqnB,UAAU,CACRpc,gBAAgBxL,EAAMM,cAAcC,aAAa,MAEnD8Q,SAAS,CACPhG,WAAW,KAGbwc,UAAU,CAERhjB,UAAU,gCACV,UAAW,CAETA,UAAU,kCAGhBijB,SAAU,CACRpmB,MAAO,KAETqmB,MAAO,CACLhd,OAAQ,KAEVid,OAAQ,CACN7kB,SAAU,WACVqI,gBAAgBxL,EAAMM,cAAcC,aAAa,KACjDwK,OAAO,IAETG,MAAO,CACLF,WAAYhL,EAAMgK,QAAQ,GAC1Bie,KAAM,Q,iCCpGR,sEAUMC,EAAkBxnB,aAAW,SAACV,GAAD,MAAY,CAC3CmoB,KAAM,CACJ3c,gBAA8C,UAA7BxL,EAAMM,cAAcqF,KAAkB,KAAMjC,IAAK,KAElErD,MAAoC,UAA7BL,EAAMM,cAAcqF,KAAkB,KAAMjC,IAAK,SAJtChD,CAQpBoP,KAsDWsM,IAnDf,SAAqBvb,GACjB,IAAMb,EAAQc,cACNC,EAA8EF,EAA9EE,QAAuCwb,GAAuC1b,EAArE4V,MAAqE5V,EAA9D8V,QAA8D9V,EAArDwb,cAAqDxb,EAAvC0b,YAAW/R,EAA4B3J,EAA5B2J,OAAO4d,EAAqBvnB,EAArBunB,WAAW/nB,EAAUQ,EAAVR,MAK5E,OACE,cAAC,IAAD,CAAWqK,UAAW3J,EAAQsnB,UAA9B,SACE,eAAC,IAAD,WACK9L,EAAW1V,KAAI,SAACyhB,GAAD,OAqBhB,aApBA,CAoBCJ,EAAD,CAEEnY,MAAOuY,EAASvY,MAGhBtO,MAAO,CAACpB,MAAM+nB,EAAW,OAAqC,UAA7BpoB,EAAMM,cAAcqF,KAAkBtF,GAAY,KAAMqD,IAAK,KAAMD,SAAS2kB,EAAW,GAAG,MAL7H,SAQOE,EAASpb,OAPTob,EAASzgB,OAWd2C,EAAS,cAAC0d,EAAD,IAAoB,Y,kKChE5B,I,gBC0FTK,EAAc7nB,aAAW,SAACV,GAAD,MAAY,CACvCW,KAAM,CACJkE,UAAU,OACVsH,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAkB,KAAMjC,IAAK,KAC7DrD,MAAoC,UAA7BL,EAAMM,cAAcqF,KAAkB,KAAMjC,IAAK,SAJ1ChD,CAMd8nB,KAESrM,IAvFM,SAACtb,GAClB,IAAO2J,EAA+D3J,EAA/D2J,OAAQsa,EAAuDjkB,EAAvDikB,SAAUpD,EAA6C7gB,EAA7C6gB,YAAaC,EAAgC9gB,EAAhC8gB,eAAe8C,EAAiB5jB,EAAjB4jB,KAAKlC,EAAY1hB,EAAZ0hB,SAGpDviB,EAAQc,cAId,EAA0BqF,IAAMC,UAASoE,GAAzC,mBAAOie,EAAP,KAAcC,EAAd,KAUA,OAJAviB,IAAMnF,WAAU,WAAK,IAAD,GACR,OAARuhB,QAAQ,IAARA,OAAA,EAAAA,EAAU9H,WAAV,OAAqB8H,QAArB,IAAqBA,GAArB,UAAqBA,EAAU9H,eAA/B,OAAqB,EAAmBkO,oBAC1C,CAAClE,IAGH,qCACI,cAAC8D,EAAD,CAAa9mB,MAAO,CAACC,MAAO,OAAQwO,aAAclQ,EAAMgK,QAAQ,IAAhE,SAKI,cAACsT,EAAA,EAAD,CAAgB7b,MAAO,CAAC8b,UAAW,OAAQzT,UAAU,QAArD,SAEI,cAAC0T,EAAA,EAAD,CACIG,IAAK4E,EACL,kBAAgB,aAChBjf,KAAMmlB,EAAQ,QAAU,SAGxB,aAAW,iBACXG,cAAY,EAPhB,SASK/nB,EAAM4J,eASdD,GAAUsa,EAAU,KAEjB,eAACjhB,EAAA,EAAD,CAAMC,WAAS,EAACE,eAAe,WAA/B,UACQ,cAAC8I,EAAA,EAAD,CACIE,QAAS,cAACwO,EAAA,EAAD,CAAQC,QAASgN,EAAO/lB,SAtC/B,SAACV,GACzB0mB,EAAS1mB,EAAMyK,OAAOgP,YAsCAvO,MAAM,eACNzL,MAAO,CAAE8C,QAAS,OAAQP,eAAgB,cAE9C,cAAC,IAAD,CACAvC,MAAO,CAACjB,YAAY,IAChBqoB,iBAAe,EACf/Z,MAAK,OAAE4S,QAAF,IAAEA,OAAF,EAAEA,EAAaY,WACpB7H,SAAoB,OAAXiH,QAAW,IAAXA,OAAA,EAAAA,EAAaF,MAAM,EAC5B9e,SAAU,SAAComB,EAAYC,GACnB,IAAMC,GAA4B,OAAXtH,QAAW,IAAXA,OAAA,EAAAA,EAAaD,SAAUsH,EAK1CpH,EAJCqH,EAIc,2BAAKtH,GAAN,IAAmBF,KAAM,EAAGC,MAAOsH,IAHlC,2BAAKrH,GAAN,IAAmBF,KAAMsH,EAAY,gB,iCCxEvF,SAASG,EAAqB7hB,EAAGC,EAAGsP,GACjC,OAAiB,OAAZA,EASItP,EAAEQ,GAAIT,EAAES,IACA,EAERR,EAAEQ,GAAKT,EAAES,GACF,EAEJ,EAdPR,EAAEsP,GAAWvP,EAAEuP,IACP,EAERtP,EAAEsP,GAAWvP,EAAEuP,GACR,EAYJ,EAWJ,SAASgG,EAAclG,EAAOE,GACjC,MAAiB,SAAVF,EACH,SAACrP,EAAGC,GAAJ,OAAU4hB,EAAqB7hB,EAAGC,EAAGsP,IACrC,SAACvP,EAAGC,GAAJ,OAAW4hB,EAAqB7hB,EAAGC,EAAGsP,IAGtC,SAAS+F,EAAWwM,EAAOC,GAC/B,IAAMC,EAAiBF,EAAMriB,KAAI,SAACwiB,EAAIpb,GAAL,MAAe,CAACob,EAAIpb,MAMrD,OALAmb,EAAejiB,MAAK,SAACC,EAAGC,GACpB,IAAMoP,EAAQ0S,EAAW/hB,EAAE,GAAIC,EAAE,IACjC,OAAc,IAAVoP,EAAoBA,EACjBrP,EAAE,GAAKC,EAAE,MAEb+hB,EAAeviB,KAAI,SAACwiB,GAAD,OAAQA,EAAG,MAIlC,SAASjgB,EAAyBkK,GACrC,IAAInR,EAAO,EAEX,OADAmR,EAASzM,KAAI,SAAAvE,GAAI,OAAIH,GAAQoF,OAAOjF,EAAKyO,aAClC5O,EAEF,SAASmnB,EAA+BhW,GAC7C,IAAInR,EAAO,EAEX,OADAmR,EAASzM,KAAI,SAAAvE,GAAI,OAAIH,GAAQG,EAAKinB,kBAC3BpnB,EAtDX,yI,iCCAA,gJAeMrC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8D,UAAW,CACTS,QAAS,OACTgN,cAAe,SACfvN,eAAgB,SAChBW,QAAS,GACTsL,SAAU,QAEZuZ,MAAO,CACLzf,WAAY,SACZ/F,eAAgB,SAChBO,QAAS,YAIE,SAASwZ,EAAsBld,GAC5C,IAAOqK,EAAiDrK,EAAjDqK,MAAM7E,EAA2CxF,EAA3CwF,KAAKiE,EAAsCzJ,EAAtCyJ,YAA8BhH,GAAQzC,EAA1BuR,aAA0BvR,EAAbU,KAAaV,EAARyC,MAC1CvC,EAAUjB,IAChB,OACE,cAAC,IAAM2pB,SAAP,UACE,cAAC,IAAD,CACEpjB,KAAMA,EACN8E,QAASb,EACTI,UAAW3J,EAAQyoB,MAHrB,SAOE,cAAC,IAAMC,SAAP,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAK/e,UAAW3J,EAAQ+C,UAAxB,UACI,cAAC,IAAD,UACE,eAAC,IAAD,CAAMA,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAgB+F,WAAW,SAA1E,UACI,cAAC,IAAD,CAAY7F,QAASZ,GAAU,KAA/B,SAAuC4H,IACvC,cAAC,IAAD,CAAY,aAAW,QAAQ3H,QAAS+G,EAAxC,SACE,cAAC,IAAD,CAAY7G,SAAS,iBAI9B5C,EAAM4J,sB,iCCrDrB,WAEM2K,EAAc,CAClBsU,eAAgB,SAACC,EAAWrQ,GAC1B,IAAMsQ,EAAG,kBAAcD,EAAd,cACT,OAAOE,IAAYC,KAAKF,EAAKtQ,IAE/BjE,aAAc,SAACsU,EAAWnL,GACxB,IAAMoL,EAAG,kBAAcD,EAAd,cACT,OAAOE,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,KAEvCwL,YAAa,SAACL,EAAWM,GACvB,IAAML,EAAG,kBAAcD,EAAd,sBAAqCM,GAC9C,OAAOJ,IAAYE,IAAIH,IAEzBM,eAAgB,SAACP,EAAWM,GAC1B,IAAML,EAAG,kBAAcD,EAAd,sBAAqCM,GAC9C,OAAOJ,IAAYM,OAAOP,IAE5BQ,eAAgB,SAACT,EAAWM,EAAa3Q,GACvC,IAAMsQ,EAAG,kBAAcD,EAAd,sBAAqCM,GAC9C,OAAOJ,IAAYQ,IAAIT,EAAItQ,IAE7BgR,QAAS,SAACX,EAAWM,EAAc3Q,GACjC,IAAMsQ,EAAG,kBAAcD,EAAd,sBAAqCM,EAArC,YACT,OAAOJ,IAAYQ,IAAIT,EAAItQ,IAE7BiR,mBAAqB,SAACZ,EAAWa,GAC/B,IAAMZ,EAAG,iBAAaD,EAAb,iCACT,OAAOE,IAAYC,KAAKF,EAAK,CAC3B,UAAaY,KAGjBC,uBAAwB,SAACd,EAAWM,EAAapU,GAC/C,IAAM+T,EAAG,iBAAaD,EAAb,qBAAmCM,GAC5C,OAAOJ,IAAYC,KAAKF,EAAK,CAC3B,SAAY5iB,KAAK5F,UAAUyU,MAG/B6U,iBAAkB,SAACf,EAAWnL,GAC5B,IAAMoL,EAAG,iBAAaD,EAAb,kBACT,OAAOE,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,KAEvCmM,kBAAmB,SAAChB,GAClB,IAAMC,EAAG,iBAAaD,EAAb,mBACT,OAAOE,IAAYE,IAAIH,IAEzBgB,oBAAqB,SAACjB,EAAW9hB,EAAIyR,GACnC,IAAMsQ,EAAG,iBAAaD,EAAb,2BAAyC9hB,GAClD,OAAOgiB,IAAYQ,IAAIT,EAAKtQ,IAE9BuR,oBAAqB,SAAClB,EAAWrQ,GAC/B,IAAMsQ,EAAG,iBAAaD,EAAb,oBACT,OAAOE,IAAYC,KAAKF,EAAKtQ,IAE/BwR,oBAAqB,SAACnB,EAAW9hB,GAC/B,IAAM+hB,EAAG,iBAAaD,EAAb,2BAAyC9hB,GAClD,OAAOgiB,IAAYM,OAAOP,KAGfxU,O,qmBC3BT2V,EAAa5kB,IAAM6kB,YAAW,SAAoBnqB,EAAO8c,GAC3D,OAAO,cAAC,IAAD,aAAO5Z,UAAU,KAAK4Z,IAAKA,GAAS9c,OA4DlCoqB,EAAmB,SAACpqB,GAC7B,IAAQ6M,EAA0C7M,EAA1C6M,IAAK0S,EAAqCvf,EAArCuf,cAEN9Y,GAF2CzG,EAAtBwf,QAAsBxf,EAAb0J,SAEgB1J,EAA9CyG,WAAWO,EAAmChH,EAAnCgH,GAAGwc,EAAgCxjB,EAAhCwjB,YAAaC,EAAmBzjB,EAAnByjB,KAAMC,EAAa1jB,EAAb0jB,SAClCrd,EAAgDrG,EAAhDqG,oBAAoBgkB,EAA4BrqB,EAA5BqqB,mBAAoBthB,EAAQ/I,EAAR+I,KACxC7I,EAAUjB,cACVE,EAAQc,cAEd,EAAwBqF,IAAMC,UAAS,GAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAIMgE,EAAc,WAChBhE,GAAQ,IAEZ,OACI,sBAAK7E,MAAO,CAACsB,OAAO,IAApB,UACA,eAAC,IAAD,CAAOe,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAC9CT,QAAS,WARX+C,GAAQ,GAQ0B8Z,EAA2B,uBAAbmE,EAA0B7W,EAAI7F,GAAG6F,EAAIa,OADrF,UAEI,eAAC,IAAD,CAAMjM,MAAI,EAAV,UACI,cAAC,IAAD,CAAYb,MAAO,CAAE4J,WAAW,IAAIjH,WAAW,EAAEX,SAAS,GAAIyM,aAAa,GAA3E,SAAgFrI,IAChF,cAAC,IAAD,CAAYpG,MAAO,CAAEgC,SAAS,IAA9B,SAAoC4gB,OAExC,eAAC,IAAD,CAAM/hB,MAAI,EAAC0B,eAAe,WAA1B,UAEW,YAAZugB,EAAsB,cAAC,IAAD,CAAY9iB,MAAO,CAAEgC,SAAS,GAAIW,WAAW,GAAI8L,aAAa,GAA9D,yCAA8F,KAEpH,cAAC,IAAD,CAAYzO,MAAO,CAACpB,MAAM,UAAWoD,SAAS,GAAIW,WAAW,EAAG8L,aAAa,EAAEjE,UAAW,SAA1F,gBAAqGqY,QAArG,IAAqGA,OAArG,EAAqGA,EAAM6G,UAAU,EAAG,MAEzG,uBAAb5G,EAA4B,eAAC,IAAD,CAAY9iB,MAAO,CAAC2C,UAAU,IAA9B,UAAqCkD,EAArC,QAA+D,KAC9E,wCAAbid,GAA6C,YAAbA,EAAuB,cAAC,IAAD,CAAY9iB,MAAO,CAAC4J,WAAW,IAAK5H,SAAS,GAAIpD,MAAM,SAAS4L,UAAW,SAA3E,SAAqF,cAAC,IAAD,CAAgB9J,MAAOmF,MAA2B,KACjL,gCAAbid,EAA4B,cAAC,IAAD,CAAY9iB,MAAO,CAAC4J,WAAW,IAAK5H,SAAS,GAAIpD,MAAMiH,GAAY,EAAE,QAAQ,MAAM2E,UAAW,SAA9F,SAAwG,cAAC,IAAD,CAAgB9J,MAAOmF,MAA2B,KACzK,wCAAbid,GAA2C,gCAAbA,GAA2C,YAAbA,GAAuC,uBAAbA,EAA2B,cAAC,IAAD,CAAY9iB,MAAO,CAAC4J,WAAW,IAAK5H,SAAS,GAAIpD,MAAoB,yBAAdkkB,GAAwC,oCAAbA,EAA6BvkB,EAAMM,cAAcC,aAAa,KAAKP,EAAMM,cAAc8qB,eAAe,KAAKnf,UAAW,SAAxM,SAAkN,cAAC,IAAD,CAAgB9J,MAAOmF,MAA2B,WAK1X,cAAC,IAAD,CAAS7F,MAAO,CAAC2C,UAAU,KAE3B,eAAC,IAAD,CAAQinB,YAAU,EAAChlB,KAAMA,EAAM8E,QAASb,EAAaghB,oBAAqBP,EAA1E,UACI,cAAC,IAAD,CAAQrgB,UAAW3J,EAAQinB,OAA3B,SACA,eAAC,IAAD,WACI,eAAC,IAAD,CAAY9jB,QAAQ,KAAKwG,UAAW3J,EAAQmK,MAAOzJ,MAAO,CAACpB,MAAM,SAAjE,UACKkkB,EADL,IACgB,IADhB,IACsB1c,KAEtB,cAAC,IAAD,CAAY0jB,KAAK,QAAQlrB,MAAM,UAAUkD,QAAS+G,EAAa,aAAW,QAA1E,SACA,cAAC,IAAD,WAKU,yBAAbia,EAAwB,cAAC,IAAD,CAAelD,YAAaxgB,EAAQ2qB,QAAQ,IAAS,KAChE,2BAAbjH,EAAwB,cAAC,IAAD,CAAqBlD,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,KACrE,oCAAbjH,EAA8B,cAAC,IAAD,CAAsBlD,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,KAC5E,6CAAbjH,EAAkC,cAAC,IAAD,CAAuBlD,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,KACjF,kDAAbjH,EAAkC,cAAC,IAAD,CAAwBlD,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,KAClF,gCAAbjH,EAA6B,cAAC,IAAD,CAAoBlD,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,KAEzE,YAAbjH,EAAwB,cAAC,IAAD,CAAelD,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,KAC/D,uBAAbjH,EAA4B,cAAC,IAAD,CAAgBiH,QAAQ,EAAKnK,YAAaxgB,EAAOqG,oBAAqBA,EAAoBgkB,mBAAoBA,EAAoBthB,KAAMA,IAAgB,YAOpL6hB,EAAsB,SAAC5qB,GAChC,IAAQ6M,EAA0C7M,EAA1C6M,IAAK0S,EAAqCvf,EAArCuf,cAENsL,GAF2C7qB,EAAtBwf,QAAsBxf,EAAb0J,SAEa1J,EAA3C6qB,KAAK7jB,EAAsChH,EAAtCgH,GAAGtG,EAAmCV,EAAnCU,KAAMC,EAA6BX,EAA7BW,MAAOmqB,EAAsB9qB,EAAtB8qB,MAAMC,EAAgB/qB,EAAhB+qB,YAC5B7qB,EAAUjB,cAChB,EAAwBqG,IAAMC,UAAS,GAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAIMgE,EAAc,WAChBhE,GAAQ,IAEZ,OAEI,sBAAK7E,MAAO,CAACsB,OAAO,IAApB,UACA,eAAC,IAAD,CAAOe,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAC9CT,QAAS,WATX+C,GAAQ,GAS0B8Z,EAAc1S,EAAIa,OADpD,UAGI,cAAC,IAAD,CAAMjM,MAAI,EAAV,SACI,eAAC,IAAD,CAAWb,MAAO,CAACuJ,WAAW,EAAGrG,QAAQ,GAAzC,UACqB,yBAAhBinB,EAA+B,cAAC,IAAD,CAAQC,IAAI,aAAajhB,IAAK8gB,EAAKjqB,MAAO,CAACjB,YAAY,IAAMkK,UAAW3J,EAAQ+qB,MAAQ,KACxH,gCACI,cAAC,IAAD,CAAYrqB,MAAK,aAAGyO,aAAa,EAAG9L,WAAW,GAA9B,eAA6C,GAA9D,SAAmE7C,IACnE,eAAC,IAAD,CAAWE,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,GAArC,UACI,cAAC,IAAD,CAAWlD,MAAO,CAACC,MAAM,GAAIqJ,OAAO,GAAIvK,YAAY,EAAGH,MAAM,aAC7D,cAAC,IAAD,CAAYoB,MAAO,CAACpB,MAAM,UAAWoD,SAAS,IAA9C,SAAoDjC,eAKpE,eAAC,IAAD,CAAMc,MAAI,EAAC0B,eAAe,WAA1B,UACA,cAAC,IAAD,CAAYvC,MAAO,CAAC2C,WAAW,EAAEX,SAAS,GAAGpD,MAAM,WAAnD,SAAgEwH,IAC/C,qBAAhB+jB,EAA6B,cAAC,IAAD,CAAYnqB,MAAO,CAAC4J,WAAW,IAAK5H,SAAS,GAAGW,UAAU,EAAG/D,MAAM,QAAQ4L,UAAW,SAAtF,SAAiG0f,IAAqB,WAKxJ,cAAC,IAAD,CAASlqB,MAAO,CAAC2C,UAAU,KAC3B,eAAC,IAAD,CAAQinB,YAAU,EAAChlB,KAAMA,EAAM8E,QAASb,EAAaghB,oBAAqBP,EAA1E,UACI,cAAC,IAAD,CAAQrgB,UAAW3J,EAAQinB,OAA3B,SACA,eAAC,IAAD,WACI,eAAC,IAAD,CAAY9jB,QAAQ,KAAKwG,UAAW3J,EAAQmK,MAAOzJ,MAAO,CAACpB,MAAM,SAAjE,UACKurB,EADL,IACmB,IADnB,IACyB/jB,KAEzB,cAAC,IAAD,CAAY0jB,KAAK,QAAQlrB,MAAM,UAAUkD,QAAS+G,EAAa,aAAW,QAA1E,SACA,cAAC,IAAD,WAKa,qBAAhBshB,EAA8B,cAAC,IAAD,CAAgBvK,YAAaxgB,EAAQ2qB,QAAQ,IAAS,KACpE,oBAAhBI,EAA6B,cAAC,IAAD,CAAgBvK,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,KAClE,yBAAhBI,EAAgC,cAAC,IAAD,CAAgBvK,YAAaxgB,EAAQ2qB,QAAQ,IAAQ,YAOrFO,EAAyB,SAAC,GAA0E,IAAxE1O,EAAuE,EAAvEA,OAAQ2O,EAA+D,EAA/DA,yBAAyBxhB,EAAsC,EAAtCA,OAAQyhB,EAA8B,EAA9BA,yBAGhF,GAFcnsB,cACAgB,cACUqF,IAAMC,SAAS,SAAvC,mBAAO8I,EAAP,KAAaC,EAAb,KACAnO,qBAAU,cAAU,CAACqc,IAGrB,IAQM9U,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCG,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,IAChGoG,EAAe,OAAEvG,QAAF,IAAEA,OAAF,EAAEA,EAAeuG,gBAChCid,EAAkB1hB,EAAUyE,EAAgB1M,QAAU0M,EAAgBkd,WAAcld,EAAgB1M,QAAU0M,EAAgBmd,aAElI,OACI,qCACA,eAAC,IAAD,CAAY3qB,MAAO,CAACgC,SAAS,IAA7B,UAAoC4Z,EAAOrN,aAA3C,MAA4DqN,EAAO9b,KAAnE,OACA,eAAC,IAAD,CAAUE,MAAO,CAACsB,OAAO,EAAE4B,QAAQ,GAAnC,UACI,cAAC,IAAD,CAAYlD,MAAO,CAACpB,MAAM,UAAWG,YAAY,IAAjD,6BACA,cAAC,IAAD,CAAiBiB,MAAO,CAAEC,MAAO,GAAIrB,MAAM,WAAY8B,MAAOkb,EAAO1M,gBAEzE,cAAC,IAAD,CAAYlP,MAAO,CAAEyO,cAAc,GAAI9L,UAAU,GAAI/D,MAAM,OAA3D,+BAEA,eAAC,IAAD,CAAUoB,MAAO,CAACsB,OAAO,EAAE4B,QAAQ,GAAnC,UACIunB,EAAgB,cAAC,IAAD,CACZrkB,GAAG,iBAAiBpG,MAAO,CAAC4qB,SAAS,IAAM/oB,KAAK,QAChDiJ,WAAY,CAAC9K,MAAO,CAAEwK,UAAW,UACjCyE,aAAc2M,EAAOiP,YACrBnqB,MAAOkb,EAAOiP,YACd5pB,SAAU,SAAA8J,GAAC,OAxBEiL,EAwBoBjL,EAAEC,OAAOtK,WAvBtD6pB,EAAyB3O,EAAOxV,GAAI4P,GADZ,IAACA,KAyBhB,cAAC,IAAD,CAAuBtV,MAAOkb,EAAOiP,YAArC,eAEG,cAAC,IAAD,CAAgBvb,SAAUsM,EAAOkM,eAAgB9H,MAAOpE,EAAOtM,SAAWsM,EAAOkP,kBAAmBrb,YA/BrF,SAAC5C,GAC5B2d,EAAyB5O,EAAOxV,GAAIyG,IA8BgHY,KAAMA,EAAMC,QAASA,EAASqd,UAAU,EAAMhB,QAAQ,OAErM,cAAC,IAAD,CAAS/pB,MAAO,CAAC2C,UAAU,SAUvBqoB,EAAsB,SAAC5rB,GAAU,IAAD,EAgBpB4Z,EAAQf,EAfvB3Y,EAAUjB,cAIT4N,GAHO5M,cAGyBD,EAAhC6M,KAAK0S,EAA2Bvf,EAA3Buf,cAAeC,EAAYxf,EAAZwf,QACfxY,GAA0GhH,EAA/G6qB,IAA+G7qB,EAA1GgH,IAAGtG,EAAuGV,EAAvGU,KAAM4V,EAAiGtW,EAAjGsW,WAAWuV,EAAsF7rB,EAAtF6rB,eAAed,EAAuE/qB,EAAvE+qB,YAAaza,EAA0DtQ,EAA1DsQ,gBAAgBwb,EAA0C9rB,EAA1C8rB,qBAAqBvb,EAAqBvQ,EAArBuQ,kBAEjG,EAAwBjL,IAAMC,UAAS,GAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAIMgE,EAAc,WAChBhE,GAAQ,IAUZ,OAEI,sBAAK7E,MAAO,CAACsB,OAAO,IAApB,UACA,eAAC,IAAD,CAAOe,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAC9CT,QAAS,WAjBX+C,GAAQ,GAiB0B8Z,EAAc1S,EAAIa,OADpD,UAGI,cAAC,IAAD,CAAMjM,MAAI,EAAC2H,GAAI,EAAf,SACI,eAAC,IAAD,CAAWxI,MAAO,CAACuJ,WAAW,EAAGrG,QAAQ,GAAzC,UACC,cAAC,IAAD,CACGgI,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,GAAIvB,aAAc,GAAIK,YAAa,IAC5DoK,KAAK,UAAA5D,KAAKC,MAAMyG,EAAI0C,iBAAf,eAA0BC,GAAG,KAAMC,MAEvC,eAAC,IAAD,CAAOxM,WAAS,EAACC,UAAU,SAAQC,eAAe,gBAAlD,UACD,cAAC,IAAD,CAAYvC,MAAO,CAAC2C,WAAW,EAAG8L,aAAa,IAA/C,SAAqD3O,IACrD,eAAC,IAAD,CAAYE,MAAO,GAAnB,uBAA4B,cAAC,IAAD,CAAgBU,MAAOuqB,eAI3D,eAAC,IAAD,CAAMpqB,MAAI,EAAC2H,GAAI,EAAGnG,WAAS,EAACC,UAAU,SAAQC,eAAe,gBAAgB+F,WAAW,WAAxF,UACIqH,EAAoB,eAAC,IAAD,CAAY3P,MAAO,CAAC2C,WAAW,EAAG6H,UAAW,QAAQ5L,OA3BhEoa,EA2BkFtJ,EA3B1EuI,EA2B0FiT,EA1BhHlS,GAAWf,EAAa,QAClBe,GAAW,EAAW,MACnB,WAwBgB,uBAAoH,cAAC,IAAD,CAAgBtY,MAAOgP,OAC9J,cAAC,IAAD,IACD,eAAC,IAAD,CAAY1P,MAAO,CAACwK,UAAW,SAA/B,qBAAgD,cAAC,IAAD,CAAgB9J,MAAOgV,aAK/E,cAAC,IAAD,CAAS1V,MAAO,CAAC2C,UAAU,KAC3B,eAAC,IAAD,CAAQinB,YAAU,EAAChlB,KAAMA,EAAM8E,QAASb,EAAaghB,oBAAqBP,EAA1E,UACI,cAAC,IAAD,CAAQrgB,UAAW3J,EAAQinB,OAA3B,SACA,eAAC,IAAD,WACI,eAAC,IAAD,CAAY9jB,QAAQ,KAAKwG,UAAW3J,EAAQmK,MAAOzJ,MAAO,CAACpB,MAAM,SAAjE,UACKurB,EADL,IACmB,IADnB,IACyB/jB,KAEzB,cAAC,IAAD,CAAY0jB,KAAK,QAAQlrB,MAAM,UAAUkD,QAAS+G,EAAa,aAAW,QAA1E,SACA,cAAC,IAAD,WAIJ,cAAC,IAAD,CAAiB+W,YAAaxgB,EAAQwf,QAASA,EAASmL,QAAQ,WAmD/DoB,EAA8B,SAAC/rB,GACxBf,cACFgB,cADd,IAOqB2Z,EAAQf,EAHtBmT,EAAoBhsB,EAApBgsB,SAAStpB,EAAW1C,EAAX0C,QAShB,OAEI,sBAAK9B,MAAO,CAACsB,OAAO,IAApB,UACA,eAAC,IAAD,CAAOe,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAhD,UAGI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAf,SACI,eAAC,IAAD,CAAWxI,MAAO,CAACuJ,WAAW,EAAGrG,QAAQ,GAAzC,UACC,cAAC,IAAD,CACGgI,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,GAAIvB,aAAc,GAAIK,YAAa,IAC5DoK,IAAKiiB,EAASC,UAEb,eAAC,IAAD,CAAOhpB,WAAS,EAACC,UAAU,SAAQC,eAAe,gBAAlD,UACD,cAAC,IAAD,CAAYvC,MAAO,CAAC2C,WAAW,EAAG8L,aAAa,IAA/C,SAAqD2c,EAAStrB,OAC9D,eAAC,IAAD,CAAYE,MAAO,GAAnB,8BAAgC,cAAC,IAAD,CAAgBU,MAAO0qB,EAASH,4BAIxE,eAAC,IAAD,CAAMpqB,MAAI,EAAC2H,GAAI,EAAGnG,WAAS,EAACC,UAAU,SAAQC,eAAe,gBAAgB+F,WAAW,WAAxF,UACI,eAAC,IAAD,CAAYtI,MAAO,CAAC2C,WAAW,EAAG6H,UAAW,QAAQ5L,OA1B5Coa,EA0B8DoS,EAAS1b,gBA1B/DuI,EA0B+EmT,EAASF,qBAzB9GlS,GAAWf,EAAa,QAClBe,GAAW,EAAW,MACnB,WAuBJ,uBAAsI,cAAC,IAAD,CAAgBtY,MAAO0qB,EAAS1b,qBACtK,eAAC,IAAD,CAAY1P,MAAO,CAACwK,UAAW,SAA/B,4BAAoD,cAAC,IAAD,CAAgB9J,MAAO0qB,EAAS1V,sBAG5F,cAAC,IAAD,CAAK1V,MAAO,CAAC8C,QAAQ,OAAOP,eAAe,SAA3C,SACA,cAAC,IAAD,CAAQvC,MAAO,CAAC2C,UAAU,IAAOd,KAAK,QAAQjD,MAAM,UAAU6D,QAAQ,WACtEX,QAASA,EADT,6BAIA,cAAC,IAAD,CAAS9B,MAAO,CAAC2C,UAAU,U,iCCzanC,4uBAIO,IAAM2oB,EAAqB,CAChC,CAAEllB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,YACxD,CAAErF,GAAI,OAAQkI,MAAO,SAAUid,gBAAgB,EAAO9f,MAAO,sBAE7D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,iBAC/D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAO9f,MAAO,iBAC7D,CACErF,GAAI,eACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,mBAET,CACErF,GAAI,WACJkI,MAAO,SACPid,gBAAgB,EAChB9f,MAAO,sBAET,CAAErF,GAAI,YAAakI,MAAO,SAAUid,gBAAgB,EAAO9f,MAAO,gBAClE,CAAErF,GAAI,YAAakI,MAAO,SAAUid,gBAAgB,EAAO9f,MAAO,kDAGvD+f,EAA0B,CAErC,CAAEplB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,qBAC3D,CACErF,GAAI,WACJkI,MAAO,OACPid,gBAAgB,EAChB9f,MAAO,wBAST,CACErF,GAAI,iBACJkI,MAAO,OACPid,gBAAgB,EAChB9f,MAAO,2BAET,CACErF,GAAI,QACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,iCAET,CAAErF,GAAI,OAAQkI,MAAO,SAAUid,gBAAgB,EAAO9f,MAAO,uBAElDggB,EAAgC,CAE3C,CAAErlB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,oBAC3D,CACErF,GAAI,WACJkI,MAAO,OACPid,gBAAgB,EAChB9f,MAAO,wBAST,CACErF,GAAI,iBACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,2BAGT,CACErF,GAAI,QACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,iCAYEigB,EAAoB,CAC/B,CAAEtlB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,cAC3D,CAAErF,GAAI,QAASkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,qCAG5D,CACErF,GAAI,aACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,iCAET,CACErF,GAAI,OACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,eAET,CAAErF,GAAI,aAAckI,MAAO,SAAUid,gBAAgB,EAAO9f,MAAO,KAGxDkgB,EAAmB,CAE9B,CAAEvlB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,kBAC3D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,oBAQ/D,CACErF,GAAI,iBACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,2BAET,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAO9f,MAAO,uBAC7D,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,uBAEhDmgB,EAAyB,CACpC,CAAExlB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,oBAC3D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,oBAQ/D,CACErF,GAAI,iBACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,2BAET,CACErF,GAAI,QACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,iCAUEogB,EAAoB,CAC/B,CAAEzlB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,mBAC1D,CAAErF,GAAI,QAASkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,qCAC3D,CAAErF,GAAI,QAASkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,SAG3D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,uBAGpDqgB,EAAoB,CAC/B,CAAE1lB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KAExD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,oBAC1D,CAAErF,GAAI,QAASkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,qCAC3D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,0BAC5D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,2BAC5D,CAAErF,GAAI,OAAQkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,qBAC3D,CAAErF,GAAI,aAAckI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,KAGvDsgB,EAAgB,CAC3B,CAAE3lB,GAAI,MAAOkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,OACzD,CAAErF,GAAI,eAAgBkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,YAClE,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,UAG1D,CAAErF,GAAI,WAAYkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,2BAChE,CAAErF,GAAI,QAASkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,wBAE7D,CAAErF,GAAI,WAAYkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,uBAGpDugB,EAAkB,CAC7B,CAAE5lB,GAAI,MAAOkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,OACzD,CAAErF,GAAI,eAAgBkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,YAClE,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,UAE1D,CAAErF,GAAI,WAAYkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,2BAChE,CAAErF,GAAI,QAASkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,oBAC7D,CAAErF,GAAI,WAAYkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,uBAGpDwgB,EAAsB,CACjC,CAAE7lB,GAAI,MAAOkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,OAEzD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,UAC1D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,iBAC5D,CACErF,GAAI,eACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,mBAET,CAAErF,GAAI,WAAYkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,2BAChE,CAAErF,GAAI,WAAYkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,uBAEpDygB,EAAwB,CACnC,CAAE9lB,GAAI,MAAOkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,OAEzD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,UAC1D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,oBAC5D,CACErF,GAAI,eACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,mBAET,CAAErF,GAAI,WAAYkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,2BAChE,CAAErF,GAAI,WAAYkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,uBAGpD0gB,EAAiB,CAC5B,CAAE/lB,GAAI,MAAOkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,OAEzD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,sBAC1D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,sBAC5D,CAAErF,GAAI,WAAYkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,2BAChE,CAAErF,GAAI,WAAYkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,uBAEpD2gB,EAAiB,CAC5B,CAAEhmB,GAAI,MAAOkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,OAEzD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,sBAC1D,CAAErF,GAAI,WAAYkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,gBAC/D,CACErF,GAAI,gBACJkI,MAAO,SACPid,gBAAgB,EAChB9f,MAAO,wBAET,CAAErF,GAAI,UAAWkI,MAAO,QAASid,gBAAgB,EAAM9f,MAAO,cAGnD4gB,EAAqB,CAChC,CAAEjmB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,yBAC3D,CACErF,GAAI,WACJkI,MAAO,OACPid,gBAAgB,EAChB9f,MAAO,oBAET,CAAErF,GAAI,QAASkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,qCAC5D,CAAErF,GAAI,UAAWkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,0BAC9D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAO9f,MAAO,yBAC7D,CAAErF,GAAI,SAAUkI,MAAO,SAAUid,gBAAgB,EAAO9f,MAAO,uBAQpD6gB,EAAwB,CACnC,CAAElmB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,qBAE3D,CACErF,GAAI,YACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,0BAET,CACErF,GAAI,YACJkI,MAAO,QACPid,gBAAgB,EAChB9f,MAAO,iCAGT,CACErF,GAAI,WACJkI,MAAO,SACPid,gBAAgB,EAChB9f,MAAO,wCAyBE8gB,EAA4B,CACvC,CAAEnmB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,mBAC1D,CAAErF,GAAI,QAASkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,qCAC3D,CAAErF,GAAI,SAAUkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,sBAGnD+gB,EAA0B,CACrC,CAAEpmB,GAAI,MAAOkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,OACzD,CAAErF,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,SACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,6BAC3D,CAAErF,GAAI,YAAakI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,gBAChE,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,qBAC3D,CACErF,GAAI,eACJkI,MAAO,OACPid,gBAAgB,EAChB9f,MAAO,gBAET,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAO9f,MAAO,8BAGlDghB,EAAmB,CAC9B,CAAErmB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,kBAC1D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,mBAC9D,CAAErF,GAAI,SAAUkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,yBAC5D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,2BAC9D,CAAErF,GAAI,QAASkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,oBAC3D,CAAErF,GAAI,SAAUkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,uBAGjDihB,EAAoB,CAC/B,CAAEtmB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,KACxD,CACErF,GAAI,OACJkI,MAAO,OACPid,gBAAgB,EAChB9f,MAAO,oCAET,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,mBAC9D,CAAErF,GAAI,SAAUkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,yBAC5D,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,qBAC1D,CAAErF,GAAI,SAAUkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,uBAGjDkhB,EAA6B,CAExC,CAAEvmB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,SACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,6BAC3D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,2BAC/D,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,WAC3D,CAAErF,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,iBACzD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,kCAC3D,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,YAGhDmhB,EAAoB,CAE/B,CAAExmB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,SACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,WAC3D,CAAErF,GAAI,WAAYkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,mBAC/D,CAAErF,GAAI,YAAakI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,wBAChE,CAAErF,GAAI,YAAakI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,UAChE,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,uB,iCC1Y7D,sXAGO,IAAMohB,EAAU,uBACVC,EAAiB,yBAIjBC,EAAY,qBACZC,EAAkB,kCAClBC,EAAmB,2CACnBC,EAAW,uBACXC,EAAa,8BACbC,EAAa,sCACbC,EAAqB,gCAGrBC,EAAW,kBAGXC,EAAW,oB,iCCpBxB,sKAEaC,EAAiB,SAACpuB,GAC7B,OAAmB,IAAfA,EAAMsgB,KAEN,eAAC,IAAD,CACEjU,MAAM,wBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,wBAAU,OAKb,eAAC,IAAD,CACEmC,MAAM,iBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,wBAAU,QAKNmkB,EAAwB,SAACruB,GACpC,OAAI0G,OAAO1G,EAAMkQ,WAAa,EAE1B,eAAC,IAAD,CACE7D,MAAM,mBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,wBAAU,OAINxD,OAAO1G,EAAMkQ,WAAaxJ,OAAO1G,EAAMsuB,UAE9C,eAAC,IAAD,CACEjiB,MAAM,oBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,wBAAU,OAGNxD,OAAO1G,EAAMkQ,WAAaxJ,OAAO1G,EAAMuuB,WAE9C,cAAC,IAAD,CACEliB,MAAM,kCACN7M,MAAM,QACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,MACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,MAQZ,eAAC,IAAD,CACEmC,MAAM,iBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,wBAAU,QAMNskB,EAA8B,SAACxuB,GAC1C,OAA+B,IAA3B0G,OAAO1G,EAAMkQ,UAEb,cAAC,IAAD,CACEtP,MAAO,CACLC,MAAO,GACPqJ,OAAQ,GACR5K,aAAc,GACdqL,gBAAiB,aAKdjE,OAAO1G,EAAMkQ,WAAalQ,EAAMsuB,SAEvC,cAAC,IAAD,CACE1tB,MAAO,CACLC,MAAO,GACPqJ,OAAQ,GACR5K,aAAc,GACdqL,gBAAiB,aAMrB,cAAC,IAAD,CACE/J,MAAO,CACLC,MAAO,GACPqJ,OAAQ,GACR5K,aAAc,GACdqL,gBAAiB,cAOd8jB,EAAsB,SAACzuB,GAClC,OAAQA,EAAM0B,QACZ,IAAK,MACH,OACE,eAAC,IAAD,CACE2K,MAAM,+BACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,+BAAiB,OAGxB,IAAK,YACH,OACE,eAAC,IAAD,CACEmC,MAAM,gBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,gBAAY,OAGnB,IAAK,YACH,OACE,eAAC,IAAD,CACEmC,MAAM,sBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,sBAAU,OAGjB,IAAK,OACH,OACE,eAAC,IAAD,CACEmC,MAAM,mBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,mBAAc,OAGrB,QACE,OACE,eAAC,IAAD,CACEmC,MAAM,yBACN7M,MAAM,UACN6D,QAAQ,WACRzC,MAAO,CACL+J,gBAAiB,UACjBH,WAAY,IACZL,YAAa,GACbD,OAAQ,IARZ,UAWG,+BAAiB,U,iCC/N5B,qPAmCMjL,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCkL,MAAO,CACH2Z,SAAU,EACV5Y,UAAW,SAGXZ,WAAY,IACZjH,UAAU,GACV/D,MAAO,QAEXkvB,SAAS,CACL1K,SAAU,EACV5Y,UAAW,UAGfujB,OAAO,CACH3K,SAAU,EACV5Y,UAAW,SACX5L,MAAO,OACPoD,SAAS,QAGbgsB,MAAM,CACF5K,SAAU,EACV5Y,UAAW,QACX5L,MAAO,OACPoD,SAAU,QAGd2a,KAAK,CACD/d,MAAO,OACPoD,SAAU,QAIdisB,UAAU,CACRrvB,MAAO,OACPoD,SAAU,QAEZskB,MAAO,GAMP4H,OAAO,CACLtkB,WAAW,KAEb1K,KAAM,CACJ0rB,SAAU,IAGZuD,QAAS,CAEPzjB,WAAY,YAGd2M,EAAIC,IAAOC,MAAQ,IAEnBC,EAAYF,IACfG,KAAKJ,GACLK,OAAO,mBAAoB,CAAEC,MAAM,IAEhCyW,EAAY9W,IACfG,KAAKJ,GACLK,OAAO,aAAc,CAAEC,MAAM,IAG1B0W,EAASjlB,EAAQ,KAGRklB,EAAsB,SAAC,GAA6B,IAAD,EAA3Btf,EAA2B,EAA3BA,KAAM6T,EAAqB,EAArBA,KAAKtM,EAAgB,EAAhBA,KAAMpO,EAAU,EAAVA,KAC5CrB,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCG,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,IASlGmnB,GANUznB,EAAKI,MAAMsnB,qBAAqBjpB,KAAKC,MAAMsB,EAAKI,MAAMsnB,qBAMzD1nB,EAAKI,MAAMunB,SAAW,qCAAuC3nB,EAAKI,MAAMunB,SAAW,IAC1FC,EAAI,OAAIznB,QAAJ,IAAIA,OAAJ,EAAIA,EAAeokB,QAErB9sB,EAAQc,cACRC,EAAUjB,EAAUE,GACpBsC,EAAOmO,EAAKpH,SAAUoH,EAAKpH,SAAUoH,EAAK4I,QAEhD,OACI,sBAAK5X,MAAO,CAACmD,aAAc,IAA3B,UAEIurB,EACA,qBAAKzlB,UAAW3J,EAAQwuB,SAAU9tB,MAAO,CAACyO,aAAa,GAAvD,SACE,qBAAKtF,IAAKulB,EAAM1uB,MAAO,CAACsJ,OAAO,QAC1B,KAkBP,cAAC,IAAD,CAAYL,UAAW3J,EAAQmK,MAAOzJ,MAAO,CAACgC,SAAU,UAAxD,iDACA,eAAC,IAAD,CAAYiH,UAAW3J,EAAQyuB,OAA/B,4BAA+CxX,KAC/C,eAAC,IAAD,CAAYtN,UAAW3J,EAAQyuB,OAAQ/tB,MAAO,CAACyO,aAAa,IAA5D,sBAAwEoU,GAAYrL,KAEpF,eAAC,IAAD,CAAKxX,MAAO,CAACyO,aAAa,GAA1B,UACE,eAAC,IAAD,CAAYxF,UAAW3J,EAAQqd,KAA/B,0BAAiD3N,EAAK2f,gBAAiB3f,EAAK2f,gBAAgB7uB,KAAMgH,EAAKuK,KAAKvR,QAC5G,eAAC,IAAD,CAAYmJ,UAAW3J,EAAQqd,KAA/B,+BAAmD3N,EAAK8C,SAAL,UAAe9C,EAAK8C,gBAApB,aAAe,EAAehS,KAAM,mBAAvF,UAIO,UAARqI,EACD,qCACE,cAAC,IAAD,CAAS7I,QAAS,CAACJ,KAAMI,EAAQ6uB,WAC3B,eAAC,IAAD,CAAM9rB,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,kCAEA,cAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,oCAEA,cAAC,IAAD,CAAM3J,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,kBAEA,cAAC,IAAD,CAAM3J,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,8BAGJ,cAAC,IAAD,CAASlL,QAAS,CAACJ,KAAMI,EAAQ6uB,WAEhCttB,EAAKuE,KAAI,SAAC6G,EAAKO,GAChB,OACI,qCACE,eAAC,IAAD,CAAMnK,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAf,SACF,cAAI,IAAJ,CAAeS,UAAW3J,EAAQqd,KAAlC,SAA0C1Q,EAAInM,SAE5C,cAAC,IAAD,CAAMe,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW3J,EAAQqd,KAAM3c,MAAO,CAACwK,UAAW,UAAxD,SAAmE,cAAC,IAAD,CAAgB9J,MAAOuL,EAAIiD,iBAE9F,cAAC,IAAD,CAAMrO,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW3J,EAAQqd,KAAM3c,MAAO,CAACwK,UAAW,UAAxD,SAAmE,cAAC,IAAD,CAAgB9J,MAAOuL,EAAIqD,eAE9F,cAAC,IAAD,CAAMzO,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW3J,EAAQqd,KAAM3c,MAAO,CAACwK,UAAW,UAAxD,SAAmE,cAAC,IAAD,CAAgB9J,MAAOuL,EAAIqD,SAAWrD,EAAIiD,oBAGjH,cAAC,IAAD,CAAS5P,QAAS,CAACJ,KAAMI,EAAQ6uB,oBAMzC,qCACC,cAAC,IAAD,CAAS7uB,QAAS,CAACJ,KAAMI,EAAQ6uB,WAC9B,eAAC,IAAD,CAAM9rB,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,kCAEA,cAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,8BAGJ,cAAC,IAAD,CAASlL,QAAS,CAACJ,KAAMI,EAAQ6uB,WAEhCttB,EAAKuE,KAAI,SAAC6G,EAAKO,GAChB,OACI,qCACE,eAAC,IAAD,CAAMnK,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,eAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAf,UACE,cAAC,IAAD,CAAYS,UAAW3J,EAAQqd,KAA/B,SAAuC1Q,EAAInM,OAC3C,cAAC,IAAD,CAAUE,MAAO,CAACkD,QAAQ,EAAG5B,OAAO,GAApC,SACD,eAAC,IAAD,CAAY2H,UAAW3J,EAAQqd,KAA/B,UAAsC,cAAC,IAAD,CAAgBjc,MAAOuL,EAAIqD,WAAjE,MAA+E,cAAC,IAAD,CAAgB5O,MAAOuL,EAAIiD,qBAG3G,cAAC,IAAD,CAAMrO,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW3J,EAAQqd,KAAM3c,MAAO,CAACwK,UAAW,UAAxD,SAAmE,cAAC,IAAD,CAAgB9J,MAAOuL,EAAIqD,SAAWrD,EAAIiD,oBAGjH,cAAC,IAAD,CAAS5P,QAAS,CAACJ,KAAMI,EAAQ6uB,oBAQ7C,eAAC,IAAD,CAAM9rB,WAAS,EAACC,UAAU,MAAMC,eAAe,WAAWvC,MAAO,CAAC2C,UAAU,IAA5E,UACE,eAAC,IAAD,CAAM9B,MAAI,EAAC2H,GAAI,EAAf,UACG1C,OAAOkJ,EAAKxH,UAAY,GAAK1B,OAAOkJ,EAAKrE,UAAW,EACnD,qCACA,eAAC,IAAD,CAAY1B,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,0CAA2E,OAC3E,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,+BAAqE,UAEtE,KACD,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,iCACW,OAEX,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,oCACW,OAEX,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,iCACW,UAGb,eAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,UACG1C,OAAOkJ,EAAKxH,UAAY,GAAK1B,OAAOkJ,EAAKrE,UAAW,EACnD,qCACE,eAAC,IAAD,CAAY1B,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,gBAA6D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKjJ,kBACzF,cAAC,IAAD,UACE,cAAC,IAAD,CAAgBkD,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASxtB,MAAOsO,EAAKxH,gBAG/E,KACD,eAAC,IAAD,CAAYyB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,eAA4D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKjJ,aAAeiJ,EAAKxH,SAAUwH,EAAKrE,cAC3H,eAAC,IAAD,CAAY1B,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,cAA2D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKzH,iBACvF,cAAC,IAAD,CAAY0B,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA0D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKzH,aAAeyH,EAAKjJ,aAAciJ,EAAKxH,SAAWwH,EAAKrE,oBAIhJ1D,EAAc2P,qBAAqBgY,YACpC,cAAC,IAAD,UACA,cAAC,IAAD,CAAYrwB,MAAM,SAAUmC,MAAOuG,EAAc2P,qBAAqBgY,YAAY5uB,MAAO,CAACpB,MAAM,OAAQoD,SAAS,MAAMsH,OAAO,IAAKulB,UAAU,MAAe,KAG5J,cAAC,IAAD,CAAY5lB,UAAW3J,EAAQyuB,OAA/B,yCACCQ,EACD,qCACI,cAAC,IAAD,CAAYtlB,UAAW3J,EAAQyuB,OAA/B,sFACA,qBAAK9kB,UAAW3J,EAAQwuB,SAAU9tB,MAAO,CAACyO,aAAa,GAAI9L,UAAU,IAArE,SAEG,cAAC0rB,EAAD,CAAQ3tB,MAAO6tB,EAAO1sB,KAAM,UAGjC,KACF,cAAC,IAAD,CAAYoH,UAAW3J,EAAQyuB,OAA/B,qEAKC5R,EAAiB,SAAC,GAA4B,IAAD,IAA1BnN,EAA0B,EAA1BA,KAAM6T,EAAoB,EAApBA,KAAKtM,EAAe,EAAfA,KAAKpO,EAAU,EAAVA,KACxCrB,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCG,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,IAIhG7I,GAFE,OAAG0I,QAAH,IAAGA,KAAe6nB,WAClB,OAAI7nB,QAAJ,IAAIA,KAAeokB,QACbhsB,eACRC,EAAUjB,EAAUE,GAEpBsC,EAAOmO,EAAKpH,SAAUoH,EAAKpH,SAAUoH,EAAK4I,QAEhD,MAAY,UAATzP,EACM,cAACmmB,EAAD,CAAqBtf,KAAMA,EAAM6T,KAAMA,EAAMtM,KAAMA,EAAMpO,KAAMA,IAIpE,sBAAKnI,MAAO,CAACkD,QAAQ,IAArB,UAII,eAAC,IAAD,CAAMb,WAAS,EAACE,eAAe,gBAAiB+F,WAAW,SAAStI,MAAO,CAACyO,aAAa,IAAzF,UAEI,eAAC,IAAD,WACA,cAAC,IAAD,CAAYxF,UAAW3J,EAAQmK,MAAOzJ,MAAO,CAACgC,SAAU,QAAxD,sCACA,eAAC,IAAD,CAAYiH,UAAW3J,EAAQyuB,OAAQ/tB,MAAO,CAAEgC,SAAU,QAA1D,sBAA0E6gB,GAAYuL,EAAtF,qBAA2G7X,QAE3G,eAAC,IAAD,WACA,eAAC,IAAD,CAAYtN,UAAW3J,EAAQ2uB,UAAWjuB,MAAO,CAAC2C,UAAU,IAA5D,cAAkE,kDAAlE,IAAsFqM,EAAK8C,SAAL,UAAe9C,EAAK8C,gBAApB,aAAe,EAAehS,KAAM,mBAA1H,OACA,eAAC,IAAD,CAAYmJ,UAAW3J,EAAQ2uB,UAA/B,UAA2C,gEAA3C,cAAyEjf,EAAK8C,gBAA9E,aAAyE,EAAe/R,MAAxF,aAYF,cAAC,IAAD,CAAST,QAAS,CAACJ,KAAMI,EAAQ6uB,WAC/B,eAAC,IAAD,CAAWnuB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,GAArC,UACI,eAAC,IAAD,CAAUlD,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAGX,eAAe,gBAAkBtC,MAAM,KAA9E,UACM,cAAC,IAAD,CAAS8uB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,IAC1E,cAAC,IAAD,CAAY/lB,UAAW+V,YAAK1f,EAAQ2uB,UAAU3uB,EAAQ4uB,QAAQluB,MAAO,CAAC2C,UAAU,EAAG8L,aAAa,GAAhG,iBACA,cAAC,IAAD,CAASsgB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAM,MAA5E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,UAAU3uB,EAAQ4uB,QAAQluB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,GAA/H,sDACA,cAAC,IAAD,CAASsgB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAgBtC,MAAO,KAA5E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,UAAU3uB,EAAQ4uB,QAASluB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,GAAhI,mCACA,cAAC,IAAD,CAASsgB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,KAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,UAAU3uB,EAAQ4uB,QAAQluB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,GAA/H,qCACA,cAAC,IAAD,CAASsgB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,KAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,UAAU3uB,EAAQ4uB,QAAQluB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,GAA/H,kCACA,cAAC,IAAD,CAASsgB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,KAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,UAAU3uB,EAAQ4uB,QAASluB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,GAAhI,gCACA,cAAC,IAAD,CAASsgB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,UAGtF,cAAC,IAAD,CAAS1vB,QAAS,CAACJ,KAAMI,EAAQ6uB,WAC5BttB,EAAKuE,KAAI,SAAC6G,EAAKO,GACd,OACE,qCACA,eAAC,IAAD,CAAWxM,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,GAArC,UACI,eAAC,IAAD,CAAUlD,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAGX,eAAe,gBAAkBtC,MAAM,KAA9E,UACM,cAAC,IAAD,CAAS8uB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,IAC1E,cAAC,IAAD,CAAY/lB,UAAW+V,YAAK1f,EAAQ2uB,WAAWjuB,MAAO,CAAC2C,UAAU,EAAG8L,aAAa,GAAjF,SAAuFjC,EAAO,IAC9F,cAAC,IAAD,CAASuiB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAM,MAA5E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,WAAWjuB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,OAAO7H,UAAU,EAAG8L,aAAa,EAAGtL,YAAY,GAA7H,SAAkI8I,EAAInM,OACtI,cAAC,IAAD,CAASivB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAgBtC,MAAO,KAA5E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,WAAYjuB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,GAAjH,SAAsHxC,EAAIgjB,kBAAmBhjB,EAAIgjB,kBAAmB,WACpK,cAAC,IAAD,CAASF,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,KAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,WAAWjuB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,GAAhH,SAAoH,cAAC,IAAD,CAAgB/N,MAAQuL,EAAIqD,aAChJ,cAAC,IAAD,CAASyf,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,KAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,WAAWjuB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,QAAS7H,UAAU,EAAG8L,aAAa,EAAGzE,aAAa,GAAhI,SAAoI,cAAC,IAAD,CAAgBtJ,MAAQuL,EAAIiD,eAChK,cAAC,IAAD,CAAS6f,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,KAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,WAAYjuB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,QAAQ7H,UAAU,EAAG8L,aAAa,EAAGzE,aAAa,GAAhI,SAAoI,cAAC,IAAD,CAAgBtJ,MAAOuL,EAAIqD,SAAWrD,EAAIiD,eAC9K,cAAC,IAAD,CAAS6f,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,UAGrF,cAAC,IAAD,CAAS1vB,QAAS,CAACJ,KAAMI,EAAQ6uB,iBAM1C,eAAC,IAAD,CAAWnuB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,GAArC,UACE,eAAC,IAAD,CAAUlD,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAGX,eAAe,gBAAkBtC,MAAM,MAA9E,UACM,cAAC,IAAD,CAAS8uB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAWa,UAAQ,IAC3E,cAAC,IAAD,CAAY/lB,UAAW+V,YAAK1f,EAAQ2uB,WAAYjuB,MAAO,CAAC2C,UAAU,EAAG8L,aAAa,EAAG7E,WAAW,KAAhG,iCACA,cAAC,IAAD,CAASmlB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,KAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,WAAWjuB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,SAAS7H,UAAU,EAAG8L,aAAa,EAAG7E,WAAW,KAA9H,SAAoI,cAAC,IAAD,CAAgBlJ,MAAK,OAAGG,QAAH,IAAGA,OAAH,EAAGA,EAAMmH,QAAO,SAACC,EAAItC,GAAL,OAAWsC,EAAMnC,OAAOH,EAAE2J,YAAU,OAC7M,cAAC,IAAD,CAASyf,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,OAEhF,eAAC,IAAD,CAAUhvB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,gBAAiBtC,MAAO,MAA7E,UACM,cAAC,IAAD,CAAYgJ,UAAW+V,YAAK1f,EAAQ2uB,WAAYjuB,MAAO,CAACojB,SAAS,EAAE5Y,UAAW,QAAQ7H,UAAU,EAAG8L,aAAa,EAAGzE,aAAa,EAAGJ,WAAW,KAA9I,SAAoJ,cAAC,IAAD,CAAgBlJ,MAAOsO,EAAKjJ,iBAChL,cAAC,IAAD,CAASgpB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUa,UAAQ,UAGpF,cAAC,IAAD,CAAS1vB,QAAS,CAACJ,KAAMI,EAAQ6uB,WACjC,eAAC,IAAD,CAAWnuB,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,EAAEX,eAAe,iBAAtD,UACI,eAAC,IAAD,CAAWvC,MAAO,CAACsB,OAAO,EAAG4B,QAAQ,GAArC,UACI,cAAC,IAAD,CAAS6rB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAWa,UAAQ,IAC3E,cAAC,IAAD,CAAY/lB,UAAW+V,YAAK1f,EAAQ2uB,WAAYjuB,MAAO,CAAC4J,WAAW,IAAIjH,UAAU,EAAG8L,aAAa,EAAElF,WAAW,GAA9G,2CACA,eAAC,IAAD,CAAYN,UAAW+V,YAAK1f,EAAQ2uB,WAAYjuB,MAAO,CAAC2C,UAAU,EAAG8L,aAAa,EAAElF,WAAW,EAAG2lB,UAAU,UAA5G,eAAyH,IAAIC,KAAQC,IAAItpB,OAAOkJ,EAAKjJ,eAArJ,2BAEJ,cAAC,IAAD,CAASgpB,YAAY,WAAWzvB,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAWa,UAAQ,OAG/E,cAAC,IAAD,CAAS1vB,QAAS,CAACJ,KAAMI,EAAQ6uB,WAElClnB,EAAc2P,qBAAqBgY,YACpC,cAAC,IAAD,UACA,cAAC,IAAD,CAAYrwB,MAAM,SAAUmC,MAAOuG,EAAc2P,qBAAqBgY,YAAY5uB,MAAO,CAACpB,MAAM,OAAQoD,SAAS,MAAMsH,OAAO,IAAKulB,UAAU,MAAe,KAE5J,8BACI,eAAC,IAAD,CAAMxsB,WAAS,EAACE,eAAe,eAAevC,MAAO,CAAC2C,UAAU,IAAhE,UACE,eAAC,IAAD,CAAM9B,MAAI,EAAC2H,GAAI,EAAf,UAAkB,cAAC,IAAD,CAAYS,UAAW3J,EAAQ2uB,UAAWjuB,MAAO,CAAC4J,WAAW,IAAIY,UAAW,UAA5E,0CAAlB,QACA,eAAC,IAAD,CAAM3J,MAAI,EAAC2H,GAAI,EAAf,UAAkB,cAAC,IAAD,CAAYS,UAAW3J,EAAQ2uB,UAAWjuB,MAAO,CAAC4J,WAAW,IAAIY,UAAW,UAA5E,2CAAlB,QACA,eAAC,IAAD,CAAM3J,MAAI,EAAC2H,GAAI,EAAf,UAAkB,cAAC,IAAD,CAAYS,UAAW3J,EAAQ2uB,UAAWjuB,MAAO,CAAC4J,WAAW,IAAIY,UAAW,UAA5E,6CAAlB,iBAQC6kB,EAAuB,SAAC,GAAkB,IAAD,EAAhBrgB,EAAgB,EAAhBA,KAAM6T,EAAU,EAAVA,KACpC/b,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAEpCvI,EAAQc,cACRC,EAAUjB,EAAUE,GAEpBsC,EAAOmO,EAAKpH,SAAUoH,EAAKpH,SAAUoH,EAAK4I,QAC9C,OACM,gCAGA,cAAC,IAAD,CAAY3O,UAAW3J,EAAQmK,MAA/B,0CACA,cAAC,IAAD,CAAYR,UAAW3J,EAAQyuB,OAA/B,gCACA,eAAC,IAAD,CAAY9kB,UAAW3J,EAAQyuB,OAAQ/tB,MAAO,CAACyO,aAAa,IAA5D,6BAA6EoU,GAAYrL,KAGzF,eAAC,IAAD,CAAYvO,UAAW3J,EAAQqd,KAA/B,qCAAuD3N,EAAKlD,OAASkD,EAAKlD,OAAOhM,KAAMgH,EAAKgF,OAAOhM,QACnG,eAAC,IAAD,CAAYmJ,UAAW3J,EAAQqd,KAA/B,uCAAkD3N,EAAK2f,gBAAkB3f,EAAK2f,gBAAgB7uB,KAAMgH,EAAKuK,KAAKvR,QAC9G,eAAC,IAAD,CAAYmJ,UAAW3J,EAAQqd,KAAM3c,MAAO,CAACyO,aAAa,IAA1D,6CAA8EO,EAAKsgB,gBAAnF,aAA8E,EAAexvB,KAA7F,OAIA,cAAC,IAAD,CAASR,QAAS,CAACJ,KAAMI,EAAQ6uB,WAC7B,eAAC,IAAD,CAAM9rB,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,mBAEA,cAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,6BAEA,cAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,kCAEA,cAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,oCAEA,cAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,kBAEA,cAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,8BAGJ,cAAC,IAAD,CAAS5uB,QAAS,CAACJ,KAAMI,EAAQ6uB,WAG5BttB,EAAKuE,KAAI,SAAC6G,EAAKO,GAChB,OACI,qCAEA,eAAC,IAAD,CAAMnK,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA4D1hB,EAAM,MAElE,cAAC,IAAD,CAAM3L,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA4DjiB,EAAIwJ,aAEhE,cAAC,IAAD,CAAM5U,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA4DjiB,EAAInM,SAGhE,cAAC,IAAD,CAAMe,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA2D,cAAC,IAAD,CAAgBxtB,MAAOuL,EAAIiD,iBAEtF,cAAC,IAAD,CAAMrO,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA2D,cAAC,IAAD,CAAgBxtB,MAAOuL,EAAIqD,eAEtF,cAAC,IAAD,CAAMzO,MAAI,EAAC2H,GAAI,EAAf,SACA,cAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA2D,cAAC,IAAD,CAAgBxtB,MAAOuL,EAAIqD,SAAWrD,EAAIiD,oBAGzG,cAAC,IAAD,CAAS5P,QAAS,CAACJ,KAAMI,EAAQ6uB,iBAKzC,eAAC,IAAD,CAAM9rB,WAAS,EAACC,UAAU,MAAMC,eAAe,WAAWvC,MAAO,CAAC2C,UAAU,IAA5E,UACE,eAAC,IAAD,CAAM9B,MAAI,EAAC2H,GAAI,EAAf,UACE,eAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,0CAA2E,OAC3E,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,+BAAqE,OACrE,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,iCACW,OAEX,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,oCACc,OAEd,eAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,6BACS,UAGX,eAAC,IAAD,CAAMrtB,MAAI,EAAC2H,GAAI,EAAf,UACE,eAAC,IAAD,CAAYS,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,gBAA6D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKjJ,kBACzF,cAAC,IAAD,UACE,cAAC,IAAD,CAAgBkD,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASxtB,MAAOsO,EAAKxH,aAE5E,eAAC,IAAD,CAAYyB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,eAA4D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKjJ,aAAeiJ,EAAKxH,cAC5G,eAAC,IAAD,CAAYyB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,cAA2D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKzH,iBACvF,cAAC,IAAD,CAAY0B,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,SAA0D,cAAC,IAAD,CAAgBxtB,MAAOsO,EAAKzH,aAAeyH,EAAKjJ,aAAciJ,EAAKxH,oBAKrI,eAAC,IAAD,CAAMnF,WAAS,EAACC,UAAU,MAAMC,eAAe,eAA/C,UACM,cAAC,IAAD,CAAY0G,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,kCAIF,cAAC,IAAD,CAAYjlB,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,yD,kMC7aG3e,IAxGQ,SAACnQ,GACpB,IAAME,EAAUjB,cACTiR,EAA4GlQ,EAA5GkQ,SAASG,EAAmGrQ,EAAnGqQ,YAAauQ,EAAsF5gB,EAAtF4gB,MAAO+K,EAA+E3rB,EAA/E2rB,SAASrb,EAAsEtQ,EAAtEsQ,gBAAgBqa,EAAsD3qB,EAAtD2qB,OAAOva,EAA+CpQ,EAA/CoQ,SAASmX,EAAsCvnB,EAAtCunB,WAAWhX,EAA2BvQ,EAA3BuQ,kBACxF,GADmHvQ,EAARkN,KACnF5H,IAAMC,SAAS,SAAvC,mBAAO8I,EAAP,KAAaC,EAAb,KA+BM6hB,EAActwB,aAAW,SAACV,GAAD,MAAY,CACzCixB,QAAS,CACPzlB,gBAAiB,UACjBnL,MAAO,sBACPgsB,SAAU,IACV5oB,SAAUzD,EAAMinB,WAAWiK,QAAQ,IACnChL,OAAQ,wBANQxlB,CAQhB+Q,KAEA0f,EAAiBpgB,EAAWI,EAUhC,OACA,eAAC,IAAD,CAAUvB,YA5BS,WACjBT,EAAQ,UA2ByBiiB,WAzBf,WAClBjiB,EAAQ,SAwBkD1N,MAAO+pB,GAASva,EAAU,CAACtM,QAAQ,EAAE4L,WAAW,EAAEC,cAAc,EAAGzN,OAAO,GAAK,GAA3I,UAEKouB,GAAkB3F,GAAUpa,EACzB,cAAC4f,EAAD,CAAa9lB,MAAQ,eAAC,IAAMue,SAAP,WACjB,eAAC,IAAD,CAAYppB,MAAM,UAAlB,UAA4B,4DAA5B,OADiB,MAC+C,4BAAI,kBADnD,IACmE,4BAAI8Q,OAD5F,SAGE,cAAC,IAAD,CAAa1N,SAAS,QAAShC,MAAO,CAAC4vB,KAAM,WAClC,KAGdpgB,EAEc,KAFJ,cAAC,IAAD,CAAYxP,MAAO,CAAE8C,UAASinB,GAAYtc,EAAM7O,MAAO8wB,GAAkB/f,EAAoB,MAAM,KAAKrO,OAAOyoB,EAAO,EAAE,KAAM7mB,QAAQ6mB,EAAO,EAAE,MAAQ,aAAW,SAAS9gB,UAAW3J,EAAQgC,OAAQO,KAAK,QAAQC,QA3C5M,WACnBwN,GAAW,GAAGG,EAAYH,EAAU,IA0CxB,SACT,cAAC,IAAD,CAAYtN,SAAS,cAGtB,cAAC,IAAD,CAAYS,QAASsnB,GAAUva,EAAU,WAAa,WAAYpJ,GAAG,iBAAiBpG,MAAO,CAACC,MAAM8pB,GAAQva,EAAS,GAAkC,GAA5BF,EAAUyI,WAAW7S,OAAU,GAAG,GAAGsJ,SAAS,GAAGtL,QAAQ,EAAGqG,WAAWod,GAAcoD,EAAO,GAAG,KAAKhrB,YAAY4nB,GAAaoD,EAAO,GAAG,MAAO9gB,UAAW+V,YAAK1f,EAAQuwB,eAAyB,SAATpiB,GAAiB+B,EAAYlQ,EAAQ4D,QAAU,MAAQrB,KAAK,QAAQiJ,WAAY,CAAC9K,MAAO,CAAEwK,UAAWuf,EAAO,SAAU,QAASnrB,MAAO8wB,GAAmB/f,EAAqB,MAAM,KAAM/F,WAAW8lB,GAAmB/f,EAAoB,IAAI,KAC9hB5F,gBAAgB2lB,GAAmB/f,EAAmB,UAAU,KAAMrG,OAAOkG,EAAS,GAAG,OAE7F9O,MAAO4O,EAAUrO,SA1BA,SAAC8J,GAKvB0E,EAAY6G,SAASvL,EAAEC,OAAOtK,WAwBxBqqB,EAAQ,WAAO/K,GAAS,KACvBxQ,EAEY,KAFF,cAAC,IAAD,CAAYxP,MAAO,CAAE8C,UAASinB,GAAYtc,EAAM7O,MAAO8wB,GAAmB/f,EAAqB,MAAM,KAAMrO,OAAOyoB,EAAO,EAAE,KAAM7mB,QAAQ6mB,EAAO,EAAE,MAAS,aAAW,SAAS9gB,UAAW3J,EAAQgC,OAAQO,KAAK,QAAQC,QAvEjN,WAEjBke,GAA2B,IAAlBla,OAAOka,IAKbA,GACH1Q,GAAYxJ,OAAOka,GALtBvQ,EAAYH,GAWdG,EAAYH,EAAU,IAyDN,SACV,cAAC,IAAD,CAAStN,SAAS,cAMnB0tB,IAAmB3F,GAAWpa,IAAuBH,EAExD,cAAC+f,EAAD,CACA9lB,MACE,eAAC,IAAMue,SAAP,WACE,eAAC,IAAD,CAAYppB,MAAM,UAAlB,UAA4B,4DAA5B,OACA,4BAAI,kBAFN,IAEsB,4BAAI8Q,OAJ5B,SASC,cAAC,IAAD,CAAa1N,SAAS,QAAShC,MAAO,CAAC4vB,KAAM,WAI3C,U,iCC3GX,WAEMrX,EAAW,CACfC,SAAU,SAAC0P,EAAW4H,EAAYjY,GAChC,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,oBACT,OAAO1H,IAAYC,KAAKF,EAAKtQ,IAE/BkY,cAAe,SAAC7H,GACd,IAAMC,EAAG,iBAAaD,EAAb,WACT,OAAOE,IAAYE,IAAIH,EAAK,KAE9BvH,eAAgB,SAACsH,EAAW4H,EAAY/S,GACtC,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,WACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAEhnB,OAAQ4b,KAExCiT,SAAU,SAAC9H,EAAW+H,GACpB,IAAM9H,EAAG,iBAAaD,EAAb,mBAAiC+H,GAC1C,OAAO7H,IAAYE,IAAIH,EAAK,KAE9B+H,YAAa,SAAChI,EAAW4H,EAAY/S,GACnC,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,WACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAEhnB,OAAQ4b,KAExCoT,aAAc,SAACjI,EAAW4H,EAAYG,EAAWpY,GAC/C,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,mBAAwDG,GACjE,OAAO7H,IAAYQ,IAAIT,EAAKtQ,IAE9BuY,YAAa,SAAClI,EAAW4H,EAAYG,GACnC,IAAM9H,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,mBAAwDG,GACjE,OAAO7H,IAAYM,OAAOP,IAE5BtG,UAAW,SAACqG,EAAW4H,GACrB,IAAM3H,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,qBACT,OAAO1H,IAAYM,OAAOP,IAI5BkI,oBAAqB,SAACnI,EAAW4H,EAAY/S,GAC3C,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,mBACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAEhnB,OAAQ4b,KAExCuT,qBAAsB,SAACpI,EAAW4H,EAAYS,GAC5C,IAAMpI,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,2BAAgES,EAAhE,YACT,OAAOnI,IAAYE,IAAIH,IAEzBqI,qBAAsB,SAACtI,EAAW4H,EAAYS,EAAiB1Y,GAC7D,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,2BAAgES,EAAhE,YACT,OAAOnI,IAAYC,KAAKF,EAAKtQ,IAE/B4Y,oBAAqB,SAACvI,EAAW4H,EAAYS,GAC3C,IAAMpI,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,2BAAgES,EAAhE,WACT,OAAOnI,IAAYC,KAAKF,IAE1BuI,qBAAsB,SAACxI,EAAW4H,EAAYS,EAAiB1Y,GAC7D,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,2BAAgES,EAAhE,YACT,OAAOnI,IAAYC,KAAKF,EAAKtQ,IAE/B8Y,oBAAqB,SAACzI,EAAW4H,EAAYS,EAAiBK,GAC5D,IAAMzI,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,2BAAgES,EAAhE,kBACT,OAAOnI,IAAYC,KAAKF,EAAK,CAC3BvQ,QAASrS,KAAK5F,UAAUixB,OAIfrY,O,iCChEf,cAaehO,IAXU,SAACpC,EAAM+K,EAAS2d,GACvCC,IAAa3oB,GAAM,CACjB+K,QAASA,EACT2d,YAAaA,EACb3mB,UAAW,kB,iCCNf,WACM6mB,EAAc,CAClBC,eAAgB,SAAC9I,EAAWrQ,GAC1B,IAAMsQ,EAAG,iBAAaD,EAAb,cACT,OAAOE,IAAYC,KAAKF,EAAKtQ,EAAM,CACjCoZ,QAAS,CACP,eAAgB,0BAItBC,aAAc,SAAChJ,EAAWnL,GACxB,IAAMoL,EAAG,kBAAcD,EAAd,cACT,OAAOE,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,KAEvCoU,YAAa,SAACjJ,EAAWkJ,GACvB,IAAMjJ,EAAG,kBAAcD,EAAd,sBAAqCkJ,GAC9C,OAAOhJ,IAAYE,IAAIH,IAEzBkJ,eAAgB,SAACnJ,EAAWkJ,GAC1B,IAAMjJ,EAAG,kBAAcD,EAAd,sBAAqCkJ,GAC9C,OAAOhJ,IAAYM,OAAOP,IAE5BmJ,iBAAkB,SAACpJ,EAAWkJ,GAC5B,IAAMjJ,EAAG,kBAAcD,EAAd,sBAAqCkJ,GAC9C,OAAOhJ,IAAYQ,IAAIT,EAAK,CAAErnB,OAAQ,cAExCywB,eAAgB,SAACrJ,EAAWkJ,GAC1B,IAAMjJ,EAAG,kBAAcD,EAAd,sBAAqCkJ,GAC9C,OAAOhJ,IAAYQ,IAAIT,EAAK,CAAErnB,OAAQ,YAExC0wB,eAAgB,SAACtJ,EAAWkJ,EAAcvZ,GACxC,IAAMsQ,EAAG,kBAAcD,EAAd,sBAAqCkJ,GAC9C,OAAOhJ,IAAYC,KAAKF,EAAKtQ,IAE/BgR,QAAS,SAACX,EAAWkJ,EAAcvZ,GACjC,IAAMsQ,EAAG,kBAAcD,EAAd,sBAAqCkJ,EAArC,YACT,OAAOhJ,IAAYQ,IAAIT,EAAItQ,KAGhBkZ,O,iZCPT1yB,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXkE,UAAW,CACTC,UAAW,IAEbC,UAAW,CACTD,UAAW,GAEbE,OAAQ,CACNC,QAAS,QAEXunB,IAAK,CACHpqB,MAAO,GACPqJ,OAAQ,SAoLCmoB,EAhLa,SAAC,GAKtB,IAAD,IAJJ7f,EAII,EAJJA,KAEA8f,GAEI,EAHJC,uBAGI,EAFJD,2BACA5tB,EACI,EADJA,cAEMvF,EAAQc,cACRC,EAAUjB,EAAUE,GAK1B,OAFAgB,qBAAU,cAAU,CAACqS,IAGnB,cAACxJ,EAAA,EAAD,CAAKpI,MAAO,CAAEkD,QAAS,GAAImF,UAAW,QAAtC,SACE,eAACjG,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAASgG,WAAW,aAAaC,QAAS,EAApE,UACE,eAACnG,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,eAACH,EAAA,EAAD,CACEvB,MAAI,EACJ2H,GAAI,EACJnG,WAAS,EACTC,UAAU,SACVgG,WAAW,aALb,UAOE,cAAC9F,EAAA,EAAD,CAAYC,QAAQ,KAApB,0BACA,cAACD,EAAA,EAAD,CAAYC,QAAQ,QAApB,mBAEGmP,EAAK9F,cAFR,aAEG,EAAahM,UAIlB,eAACsC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGnG,WAAS,EAACC,UAAU,SAASgG,WAAW,WAA1D,UACE,cAAC9F,EAAA,EAAD,CAAYC,QAAQ,QAApB,UAEG,IAAIgG,MAAOC,mBAAmB,WAEjC,cAAClG,EAAA,EAAD,CAAYC,QAAQ,QAApB,UAEG,IAAIgG,MAAOE,6BAKlB,eAACvG,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACV2G,UAAW3J,EAAQoD,UACnB1C,MAAO,CAAEyO,aAAc,IACvBlM,eAAe,gBACf+F,WAAW,SANb,UAQE,eAAClG,EAAA,EAAD,CACEvB,MAAI,EACJ2H,GAAI,EACJnG,WAAS,EACTC,UAAU,MACV2G,UAAW3J,EAAQoD,UACnB4F,WAAW,SANb,UAQE,cAAC9F,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAAEjB,YAAa,IAA/C,8CAGA,eAACyD,EAAA,EAAD,CACEC,QAAQ,KACRzC,MAAO,CAAEpB,MAAOL,EAAMM,cAAcC,aAAa,MAFnD,cAII8S,EAAKggB,0BAGX,cAACxvB,EAAA,EAAD,CACEvB,MAAI,EACJ2H,GAAI,EACJnG,WAAS,EACTC,UAAU,MACVC,eAAe,WACf0G,UAAW3J,EAAQoD,UACnB4F,WAAW,SAPb,SASE,cAAC9F,EAAA,EAAD,CAAYC,QAAQ,KAApB,mBAA0BmP,EAAK0d,gBAA/B,aAA0B,EAAexvB,YAI7C,eAACsC,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQoD,UAJrB,UAME,eAACF,EAAA,EAAD,CAAYC,QAAQ,KAApB,wDAAiDmP,EAAKgG,QAAQnY,QAAO,SAACoB,GAAD,OAAkC,IAAxBA,EAAKinB,kBAAsB5iB,OAA1G,OACA,cAAC1C,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BolB,YAA6BjW,EAAKgG,cAGjE,eAACxV,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJrB,UAME,cAACJ,EAAA,EAAD,CAAYC,QAAQ,KAApB,0CACA,cAACD,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA4B,cAAC,IAAD,CAAiB/B,MAAOkR,EAAK7L,oBAG3D,eAAC3D,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJrB,UAME,cAACJ,EAAA,EAAD,CAAYC,QAAQ,KAApB,0CACA,cAACD,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA4B,cAAC,IAAD,CAAiB/B,MAAOkR,EAAK7L,oBAG3D,eAAC3D,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf+F,WAAW,SACXW,UAAW3J,EAAQsD,UALrB,UAOE,cAACJ,EAAA,EAAD,CAAYC,QAAQ,KAApB,qCACA,cAACD,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA4B,cAAC,IAAD,CAAiB/B,MAAOkR,EAAKrK,mBAU3D,cAACnF,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,WACf+F,WAAW,SACXW,UAAW3J,EAAQsD,UALrB,SAOE,cAACqI,EAAA,EAAD,CAAaC,UAAU,WAAvB,SACE,cAACC,EAAA,EAAD,CACE,aAAW,SACXrL,KAAK,UACLY,MAAOkR,EAAKxG,eACZnK,SAAU,SAAC8J,GAAD,OAAO2mB,EAA0B3mB,EAAEC,OAAOtK,QAJtD,SAME,eAAC0B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAA1B,UACE,cAAC+I,EAAA,EAAD,CACEC,eAAe,QACf5K,MAAM,OACN6K,QAAS,cAACC,EAAA,EAAD,IACTC,MAAM,aAER,cAACJ,EAAA,EAAD,CACEC,eAAe,QACf5K,MAAM,OACN6K,QAAS,cAACC,EAAA,EAAD,IACTC,MAAM,gCAOhB,cAACC,EAAA,EAAD,CACEjJ,QAAQ,YACRrB,WAAS,EACTxC,MAAM,UACNoB,MAAO,CAAE2C,UAAW,IACpBb,QAASgC,EACT6H,SAAgC,IAAtBiG,EAAK7L,aANjB,8C,0GC8HO8rB,IAxSf,SAA8BzyB,GAC5B,IAAQ0yB,EACN1yB,EADM0yB,cAAexyB,EACrBF,EADqBE,QAASyyB,EAC9B3yB,EAD8B2yB,kBAAmBrR,EACjDthB,EADiDshB,OAAQsR,EACzD5yB,EADyD4yB,aAErDzzB,EAAQc,cAERgU,EAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAGtD,EAA0B9O,IAAMC,SAAS,QAAzC,mBAAOqQ,EAAP,KAAcC,EAAd,KACA,EAA8BvQ,IAAMC,SAAS,OAA7C,mBAAOuQ,EAAP,KAAgBC,EAAhB,KAQMnE,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KAC9B,EAAsDpI,IAAMC,UAAS,GAArE,mBAAOmO,EAAP,KAA4BC,EAA5B,KACA,EAA4CrO,IAAMC,SAAS,CACzDitB,oBAAqBE,EAAcF,oBACnCK,kBAAmBH,EAAc1rB,GACjC0F,OAAQgmB,EAAchmB,OACtBwjB,SAAUwC,EAAcxC,SACxB4C,YAAaJ,EAAcI,YAC3BC,UAAWL,EAAcK,UACzBpsB,aAAc,EACd6R,QAASka,EAAcla,QAAQxS,KAAI,SAACwW,GAAD,yBAAC,eAC/BA,GAD8B,IAGjCkM,eAAgB,EAChB+C,YAAajP,EAAO1M,WACpBjC,gBAAe,UAAE1H,KAAKC,MAAMoW,EAAOzO,gBAApB,aAAE,EAA4B/H,KAAI,SAACmI,GAAD,mBAAC,eAC7CA,GAD4C,IAE/C6kB,oBACE7kB,EAAMH,oBAAsBG,EAAMud,kBACpCA,kBAAmB,OAErBuH,uBAAwB9sB,KAAKC,MAAMoW,EAAOzO,cAE5C/B,eAAgB,OAChB7D,YAAa,MAtBf,mBAAO+qB,EAAP,KAAuBC,GAAvB,KAyBMC,GAAsB,SAACC,EAAQpiB,GACnC,IAAMiF,EAAYgd,EAAe1a,QAAQrC,WACvC,SAAC1U,GAAD,OAAUA,EAAKuF,KAAOqsB,KAElBC,EAAoBC,YAAYL,GAEtCI,EAAkB9a,QAAQtC,GAAWrI,gBAAkBoD,EACvDqiB,EAAkB9a,QAAQtC,GAAWwS,eAAiB6K,QACpDtiB,EACA,qBAEFkiB,GAAkBG,GAClB3f,GAAwBD,IAE1B,GAAkCpO,IAAMC,UAAS,GAAjD,qBAAkBsO,IAAlB,aACA,GAAsCvO,IAAMC,SAAS,CACnD3E,MAAO,QACPkT,QAAS,wCAFX,iCAKA3T,qBAAU,WACRkU,OACC,CAACX,IAEJ,IAAMW,GAAoB,WACxB,IAAIpG,EAAQ,EACZilB,EAAe1a,QAAQtK,SAAQ,SAACzM,GAC9BwM,GAASxM,EAAKgqB,YAAchqB,EAAKinB,kBAGnC,IAAM4K,EAAoB/c,IAAO2c,EAAgB,CAC/CvsB,aAAc,CAAEkQ,KAAM5I,GACtB9F,YAAa,CAAE0O,KAAM5I,KAEvBklB,GAAkBG,IAcdlI,GAA2B,SAACiI,EAAQ5lB,GACxC,GAAoB,IAAhBA,EAAJ,CAIA,IAAMyI,EAAYgd,EAAe1a,QAAQrC,WACvC,SAAC1U,GAAD,OAAUA,EAAKuF,KAAOqsB,KAElBC,EAAoB/c,IAAO2c,EAAgB,CAC/C1a,QAAQ,eACLtC,EAAY,CACXwS,eAAgB,CAAE7R,KAAMpJ,OAI9B0lB,GAAkBG,GAClB3f,GAAwBD,QA3BD,SAAC2f,GACxB,IAAMnd,EAAYgd,EAAe1a,QAAQrC,WACvC,SAAC1U,GAAD,OAAUA,EAAKuF,KAAOqsB,KAElBC,EAAoB/c,IAAO2c,EAAgB,CAC/C1a,QAAS,CAAE9B,QAAS,CAAC,CAACR,EAAW,OAEnCid,GAAkBG,GAClB3f,GAAwBD,GAKtB8f,CAAiBH,IAiBflI,GAA2B,SAACkI,EAAQzc,GACxC,IAAMV,EAAYgd,EAAe1a,QAAQrC,WACvC,SAAC1U,GAAD,OAAUA,EAAKuF,KAAOqsB,KAElBC,EAAoB/c,IAAO2c,EAAgB,CAC/C1a,QAAQ,eACLtC,EAAY,CACXuV,YAAa,CAAE5U,KAAMD,OAI3Buc,GAAkBG,GAClB3f,GAAwBD,IAiBpBxB,GAAWxM,cAEXhB,GAAa,uCAAG,kCAAA6B,EAAA,6DACd0R,EAAIC,IAAOC,MAAQ,IAEnBsb,EAAcvb,IACjBG,KAAKJ,GACLK,OAAO,sBAAuB,CAAEC,MAAM,IAEnCE,EAAO,CACXib,oBAAqBhB,EAAchlB,KACnColB,YAAaI,EAAeJ,YAC5BnsB,aAAcusB,EAAevsB,aAAagS,WAC1C3M,eAAgBknB,EAAelnB,eAC/B7D,YAAa+qB,EAAe/qB,YAAYwQ,WACxCjX,OACEwxB,EAAe/qB,aAAe+qB,EAAevsB,aACzC,SACA,OACN6R,QAAS0a,EAAe1a,QAAQxS,KAAI,SAACwW,GAAD,MAAa,CAC/CmX,WAAYnX,EAAOmX,WACnBzjB,SAAUsM,EAAOkM,eACjB5Y,WAAY0M,EAAOiP,YACnBmI,yBAA0BpX,EAAOxV,GACjC6G,gBAAiB2O,EAAO3O,gBAAgB7H,KAAI,SAACmI,GAAD,OAC1ColB,OAAOplB,EAAO,CAAC,sBAAuB,2BAExC8kB,uBAAwBzW,EAAOyW,uBAAuBjtB,KAAI,SAACmI,GASzD,OARc,2BACTA,GADS,IAEZud,kBACEvd,EAAMud,kBACNlP,EAAO3O,gBAAgBa,MACrB,SAACwC,GAAD,OAAmBA,EAAclK,KAAOmH,EAAMnH,MAC9C0kB,2BAKV+H,eArCkB,kBAyCAI,IAAkBC,gBAClCliB,EACA8gB,EAAchmB,OAAOgB,KACrB+K,GA5CgB,OAyCZY,EAzCY,OA8ClBnH,GACE2P,IAAaa,iBAAb,6CAC0BrJ,EAAI7G,KAAKuhB,wBAGrCzS,IACAsR,IACAD,IArDkB,kDAuDlBzgB,GAAS2P,IAAaC,aAAa,yCACnCjO,IAAa,GACbjO,QAAQC,IAAR,MAzDkB,0DAAH,qDAgEnB,OACE,qCACE,eAAC7C,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf+F,WAAW,SAJb,UAME,cAACY,EAAA,EAAD,CAAUlJ,MAAO,CAAE8O,WAAY,GAAIL,cAAe,GAAIlF,WAAY,IAAlE,SACE,cAAC/G,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAAEjB,YAAa,IAA/C,0CAQF,cAAC6C,EAAA,EAAD,CACE,aAAW,QACXqH,UAAW3J,EAAQ8zB,YACnBtxB,QAASiwB,EAHX,SAKE,cAAC,IAAD,SAIJ,cAACsB,EAAA,EAAD,CAAerzB,MAAO,CAAE2C,UAAW,IAAnC,SACE,eAACP,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf+F,WAAW,SACXC,QAAS,EALX,UAOE,cAACnG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,SACE,cAACC,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQg0B,KAAzB,SACE,cAAClrB,EAAA,EAAD,CAAKpI,MAAO,CAAEkD,QAAS,GAAImF,UAAW,QAAtC,SAIIgL,EAqBAif,EAAe1a,QAAQxS,KAAI,SAACwW,EAAQpP,GAAT,OACzB,cAAC,IAAD,CACE+d,yBAA0BA,GAC1BC,yBAA0BA,GAC1B5O,OAAQA,EACR7S,QAAQ,OAzBZ,eAAC2R,EAAA,EAAD,CAAc3R,QAAM,EAApB,UACE,cAAC4R,EAAA,EAAD,CACErb,QAASA,EACT0V,MAAOA,EACPE,QAASA,EACT0F,cAlPM,SAACra,EAAOsa,GAEhC5F,EADcC,IAAY2F,GAAsB,QAAV7F,EACrB,OAAS,OAC1BG,EAAW0F,IAgPOC,WAAYC,MAEd,cAACC,EAAA,EAAD,UACGsX,EAAe1a,QAAQxS,KAAI,SAACwW,EAAQpP,GAAT,OAC1B,cAAC+mB,GAAD,CACEhJ,yBAA0BA,GAC1BC,yBAA0BA,GAC1BgI,oBAAqBA,GACrB5W,OAAQA,kBAmBxB,cAACxZ,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAGpQ,UAAW3J,EAAQg0B,KAA7C,SACE,cAACha,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQg0B,KAAzB,SACE,cAAC,EAAD,CACE1hB,KAAM0gB,EACNX,uBA9JiB,SAAC6B,GAC9B,IAAMd,EAAoB/c,IAAO2c,EAAgB,CAC/C/qB,YAAa,CAAE0O,KAAMud,KAEvBjB,GAAkBG,IA2JNhB,0BAxJoB,SAACjT,GACjC,IAAMiU,EAAoB/c,IAAO2c,EAAgB,CAC/ClnB,eAAgB,CAAE6K,KAAMwI,KAE1B8T,GAAkBG,IAqJN5uB,cAAeA,kBAW/B,SAASyvB,GAAT,GAKI,IAJF3X,EAIC,EAJDA,OACA2O,EAGC,EAHDA,yBACAC,EAEC,EAFDA,yBACAgI,EACC,EADDA,oBAEMlzB,EAAUjB,cAChB,EAAwBqG,IAAMC,SAAS,QAAvC,mBAAO8I,EAAP,KAAaC,EAAb,KACAnO,qBAAU,cAAU,CAACqc,IACrB,IAMM9U,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCG,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,IAEhGoG,EAAe,OAAEvG,QAAF,IAAEA,OAAF,EAAEA,EAAeuG,gBACtC,OACE,eAACS,EAAA,EAAD,CAAUC,OAAK,EAAf,UACE,cAACG,EAAA,EAAD,CAAWC,MAAM,OAAOtO,MAAO,CAAEC,MAAO,GAAxC,SACG2b,EAAOrN,eAGV,cAACF,EAAA,EAAD,CAAWC,MAAM,OAAjB,SAAyBsN,EAAO9b,OAEhC,eAACuO,EAAA,EAAD,CAAWC,MAAM,QAAjB,UACG,IACD,cAAC,IAAD,CAAsB5N,MAAOkb,EAAO1M,gBAEtC,cAACb,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACCd,EAAgB1M,QAAU0M,EAAgBkd,WACzC,cAAC,IAAD,CACEtkB,GAAG,iBACHpG,MAAO,CAAEC,MAAO,IAChB4B,KAAK,QACLiJ,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,UAClCyE,aAAc2M,EAAOiP,YACrB5pB,SAAU,SAAC8J,GAAD,OA3BSiL,EA2BgBjL,EAAEC,OAAOtK,WA1BlD6pB,EAAyB3O,EAAOxV,GAAI4P,GADZ,IAACA,KA6BrB,cAAC,IAAD,CAAuBtV,MAAOkb,EAAOiP,YAArC,iBAGF,cAACxc,EAAA,EAAD,CAAWC,MAAM,OAAOpL,QAAQ,OAAhC,SACG0Y,EAAO3O,gBAAgB/H,OACtB0W,EAAO3O,gBAAgB7H,KAAI,SAACmI,EAAOf,GAAR,OACzB,sBACExM,MAAO,CACL8C,QAAS,OACTgN,cAAe,MACfC,IAAK,EACLtB,aAAc,EACdnG,WAAY,SACZmc,OAAQ,iBACRliB,eAAgB,gBARpB,UAWE,wCACMgL,EAAM2C,WADZ,aAES,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aACH,YAAM5C,QAAN,IAAMA,OAAN,EAAMA,EAAO4C,YAAYuZ,UAAU,EAAG,KACtC,GAJR,QAOA,sBAAK1pB,MAAO,CAAE8C,QAAS,OAAQgN,cAAe,OAA9C,UACE,cAAC3Q,EAAA,EAAD,CACEgJ,KAAK,SACLtG,KAAK,QACL7B,MAAO,CAAEC,MAAO,IAChBS,MAAO6M,EAAMud,kBACb7pB,SAAU,SAAC8J,GACT,IAAMrK,EAAQoF,OAAOiF,EAAEC,OAAOtK,OAE9B,KAAIA,EAAQ6M,EAAM6kB,qBAAuB1xB,EAAQ,GAAjD,CAGE,IAAM+yB,EAAkB,YAAO7X,EAAO3O,iBACtCwmB,EAAmBjnB,GAAOse,kBAAoBpqB,EAC9C8xB,EAAoB5W,EAAOxV,GAAIqtB,OAIrC,yCAAUlmB,EAAM6kB,gCAKtB,cAAC7iB,EAAA,EAAD,CACED,SAAUsM,EAAOkM,eACjBrY,YAjFmB,SAAC5C,GAC5B2d,EAAyB5O,EAAOxV,GAAIyG,IAiF5BY,KAAMA,EACNC,QAASA,EACTsS,MAAOpE,EAAOtM,SAAWsM,EAAOkP,kBAChCC,UAAU,MAKhB,cAAC1c,EAAA,EAAD,CAAWC,MAAM,QAAQrF,UAAW3J,EAAQsQ,SAA5C,SACE,cAAC,IAAD,CACElP,MAAOoF,OAAO8V,EAAOkM,gBAAkBhiB,OAAO8V,EAAOiP,mBAjFtCjP,EAAOxV,M,iCCrWhC,sBAGe9H,iBAAW,SAACC,GAAD,MAAU,CAClCW,KAAM,CACJ,QAAS,CACPw0B,aAAc,UAGlBzU,WAAW,CAETlV,gBAA8C,UAA7BxL,EAAMM,cAAcqF,KAAkBjC,IAAK,KAAOA,IAAK,MAG1EgK,IAAI,CACF,UAAW,CAETlC,gBAA8C,UAA7BxL,EAAMM,cAAcqF,KAAkBjC,IAAK,KAAOA,IAAK,OAG5E0xB,MAAO,CACL1zB,MAAO1B,EAAMgK,QAAQ,GACrBe,OAAQ/K,EAAMgK,QAAQ,IAExB2W,SAAS,CACPtV,WAAY,U,6YCkBVvL,EAAYC,aAAW,SAACC,GAAD,aAC3BC,aAAY,GACVynB,KAAM,CACJrnB,MAAoC,UAA7BL,EAAMM,cAAcqF,KAAmBjC,IAAK,KAAOA,IAAK,KAEjE2xB,QAAS,CACPrxB,eAAgB,QAElBsxB,OAAQ,CACNn1B,aAAcH,EAAMM,cAAcH,aAClC4K,OAAQ,GACRC,WAAY,GACZ5G,UAAW,GACXoH,gBAC+B,UAA7BxL,EAAMM,cAAcqF,KAAmBjC,IAAK,IAAMA,IAAK,OAbjD,uBAeF,CACNvD,aAAcH,EAAMM,cAAcH,aAClC4K,OAAQ,GACRC,WAAY,GACZ5G,UAAW,EAEX1C,MAAO,IACP8J,gBAC+B,UAA7BxL,EAAMM,cAAcqF,KAAmBjC,IAAK,IAAMA,IAAK,OAvBjD,wBAyBD,CACPU,UAAW,IA1BH,OA8BRmxB,EAAc,SAACpS,EAAWQ,GAAmC,IAAxBO,EAAuB,uDAAP,GACzD,IACE,IAAMsR,EAAU,GAChBrS,EAAUtc,KAAI,SAAC6G,GACb,IAAI+nB,EAAQ,GACZvR,EAAcrd,KAAI,SAAC6uB,GACjBD,EAAK,2BAAQA,GAAR,kBAAgBC,EAAGtR,YAAc1W,EAAIgoB,EAAGvR,aAE/CqR,EAAQ/tB,KAAKguB,MAEf,IAAME,EAAYC,IAAKC,MAAMC,cAAcN,GACrCO,EAAWH,IAAKC,MAAMG,WAE5BJ,IAAKC,MAAMI,kBAAkBF,EAAUJ,EAAWhS,GAIlDiS,IAAKM,MAAMH,EAAU,CAAEI,SAAU,OAAQvsB,KAAM,WAE/CgsB,IAAKQ,UAAUL,EAAf,UAA4BpS,EAA5B,UACA,MAAO0S,GACP5vB,QAAQC,IAAI2vB,KA8iBDnT,IA1iBC,SAACriB,GACf,IACEsiB,EAoBEtiB,EApBFsiB,UACAQ,EAmBE9iB,EAnBF8iB,UACAvJ,EAkBEvZ,EAlBFuZ,YACAyJ,EAiBEhjB,EAjBFgjB,WACAvF,EAgBEzd,EAhBFyd,mBACAgY,EAeEz1B,EAfFy1B,UACAC,EAcE11B,EAdF01B,aAEAC,GAYE31B,EAbF41B,WAaE51B,EAZF21B,YACAE,EAWE71B,EAXF61B,WACAxS,EAUErjB,EAVFqjB,cACWF,GASTnjB,EATFsU,UASEtU,EATSmjB,cACXF,EAQEjjB,EARFijB,eAAgBnN,EAQd9V,EARc8V,QAASC,EAQvB/V,EARuB+V,WACzBqN,EAOEpjB,EAPFojB,mBACA9c,EAMEtG,EANFsG,KAAM4c,EAMJljB,EANIkjB,QACN4S,EAKE91B,EALF81B,aACAlU,EAIE5hB,EAJF4hB,cACAmU,EAGE/1B,EAHF+1B,aAEAC,GACEh2B,EAFFuiB,gBAEEviB,EADFg2B,OAEI72B,EAAQc,cACRC,EAAUjB,EAAUE,GAE1B,EAAoCoG,oBAAS,GAA7C,oBAAO0wB,GAAP,MAAmBC,GAAnB,MACA,GAA4B3wB,oBAAS,GAArC,qBAAO4wB,GAAP,MACA,IADA,MACgC5wB,mBAAS,CACvC7E,KAAM,qBACN2V,SAAU,kBACV+f,YAAa,gBACb9f,WAAY,gBACZuV,eAAgB,kBAChBgE,kBAAmB,wBACnB3f,SAAU,eACV4b,qBAAsB,8BACtBuK,UAAW,8BACX9mB,SAAU,mBACVU,YAAa,QACbwhB,YAAa,qBAZf,qBAAO6E,GAAP,MAAiBC,GAAjB,MAkDA,GAA0BhxB,mBAAS,IAAnC,qBAAOixB,GAAP,MAAcC,GAAd,MA6DA,GAAgClxB,mBAAS,IAAzC,qBAAOmxB,GAAP,MAAiBC,GAAjB,MAEA,GAA4BpxB,mBAAS,IAArC,qBAAOqxB,GAAP,MAAeC,GAAf,MAEA12B,qBAAU,WACR02B,GAAU,MACT,CAACZ,KAuBJ,OAEE,qCACE,eAAC,IAAD,CAAMhzB,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAV,SACE,eAAC,IAAD,CAAMwB,WAAS,EAACC,UAAU,MAA1B,UACE,cAAC,IAAD,CAASmH,MAAM,gDAAf,SACE,cAAC,IAAD,CACEzJ,MAAO,CAAE2C,UAAW,GAAI4G,WAAY,IACpC9G,QAAQ,WACRnC,QAAS,SAACyK,GACM,UAAVA,EAAEvK,KAAsC,KAAnBuK,EAAEC,OAAOtK,OAChC6hB,EAAaxX,EAAEC,OAAOtK,QAI1BW,YAAa+gB,EACb7gB,WAAY,CACVC,eACE,cAAC,IAAD,CAAgBE,SAAS,QAAzB,SACE,cAAC,IAAD,CAAmBuH,UAAW3J,EAAQ2mB,SAG1CtkB,aACE,cAAC,IAAD,CAAgBD,SAAS,MAAzB,SACE,cAAC,IAAD,CACEwJ,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,IACzBkJ,IAAK+sB,QAIXjtB,UAAW3J,EAAQu0B,aAIvBqB,GAEA,sBAAKl1B,MAAO,CAAEuJ,WAAY,GAAIzG,QAAS,OAAQgN,cAAe,MAAOC,IAAK,IAA1E,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAYtN,QAAQ,WAAW0zB,QAAQ,sBAAvC,oCAGA,cAAC,IAAD,CACEC,WAAW,EACX7X,QAAQ,UACR7d,MAAOwU,EACPzJ,MAAM,eACNxK,SAAU,SAAC8J,GAAD,OAAOoK,EAAWpK,EAAEC,OAAOtK,QALvC,gBAOG2hB,QAPH,IAOGA,OAPH,EAOGA,EAAgBjd,KAAI,SAAAixB,GAAC,OAAI,cAAC,IAAD,CAAU31B,MAAO21B,EAAE31B,MAAnB,SAA2B21B,EAAE5qB,gBAG3D,eAAC,IAAD,WACE,cAAC,IAAD,CAAYhJ,QAAQ,WAAW0zB,QAAQ,sBAAvC,8BAGA,eAAC,IAAD,CACEC,WAAW,EACX7X,QAAQ,OACR7d,MAAOgF,EACP+F,MAAM,eACNxK,SAAU,SAAC8J,GAAD,OAAOuX,EAAQvX,EAAEC,OAAOtK,QALpC,UAOE,cAAC,IAAD,CAAUA,MAAM,MAAhB,gCACA,cAAC,IAAD,CAAUA,MAAM,OAAhB,sCAGJ,cAAC,IAAD,CAAQoB,QAAS0gB,EAAjB,iCAKH4S,GAAgB,UAIrB,cAAC,IAAD,CAAMv0B,MAAI,EAAV,SACE,eAAC,IAAD,CAAKoI,UAAW3J,EAAQg3B,QAAxB,UACE,cAAC,IAAD,CACE7sB,MAAM,kBACNzJ,MAAO,CAAE8C,QAAS+xB,EAAY,KAAO,QAFvC,SAIE,cAAC,IAAD,CACE,aAAW,cACX/yB,QAAS,kBAAMwzB,IAAc,IAF/B,SAIE,cAAC,IAAD,CAAoBrsB,UAAW3J,EAAQ2mB,WAI3C,cAAC,IAAD,CAASxc,MAAM,kBAAf,SACE,cAAC,IAAD,CACE,aAAW,cACX3H,QAAO,sBAAE,4BAAA6D,EAAA,0DACHqb,EADG,gCAEuBA,IAFvB,OAECuV,EAFD,OAGLzC,EAAYyC,EAAerU,EAAWO,GAHjC,sBAKLqR,EAAYpS,EAAWQ,EAAWO,GAL7B,2CAFX,SAWE,cAAC,IAAD,CAAmBxZ,UAAW3J,EAAQ2mB,WAe1C,cAAC,IAAD,CAASxc,MAAM,kBAAf,SACE,cAAC,IAAD,CACE,aAAW,cACX3H,QAAS,WACP6W,KAHJ,SAME,cAAC,IAAD,CAAkB1P,UAAW3J,EAAQ2mB,YAQvCiP,GACA,cAAC,IAAD,CAASzrB,MAAM,WAAf,SACE,cAAC,IAAD,CAAY,aAAW,cAAc3H,QAAS+a,EAA9C,SACE,cAAC,IAAD,CAAuB5T,UAAW3J,EAAQ2mB,mBAWrDoP,IAAc,eAAC,IAAD,CACbzwB,KAAMywB,GACNxsB,YAAa,kBAAMysB,IAAc,IACjC7rB,MAAM,iDAHO,UAMZ0rB,EACC,eAAC,IAAD,CAAYn1B,MAAO,CAAEyO,aAAc,IAAnC,6CAEE,mBACEzO,MAAO,CAAEpB,MAAO,OAAQ43B,OAAQ,WAChC10B,QAAS,WACPgyB,EAAYiB,EAAYE,EAAYxS,EAAchjB,QAAO,SAAAw0B,GAAE,MAAiB,gBAAbA,EAAGvR,YAHtE,4BAFF,cASY,mBAAG1iB,MAAO,CAAEpB,MAAO,OAAQ43B,OAAQ,WAAnC,iCATZ,OAYA,eAAC,IAAD,CAAYx2B,MAAO,CAAEyO,aAAc,IAAnC,6CAEE,mBACEzO,MAAO,CAAEpB,MAAO,OAAQ43B,OAAQ,WAChC10B,QAAS,WACPgyB,EAAYiB,EAAYE,EAAaxS,EAAchjB,QAAO,SAAAw0B,GAAE,MAAiB,iBAAbA,EAAGvR,QAAyC,QAAZuR,EAAGvR,YAHvG,4BAFF,OAgBA6S,IAAUS,GAAO9wB,OAAS,GAAK0wB,IAAST,GACxC,eAAC,IAAD,CAAM9yB,WAAS,EAACkG,QAAS,EAAGvI,MAAO,CAAEyO,aAAc,GAAIxO,MAAO,IAAK2qB,SAAU,QAAUtoB,UAAU,MAAMC,eAAe,SAAS+F,WAAW,SAA1I,UAEE,cAAC,IAAD,CAAMzH,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,4DACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgBuS,UAAQ,EAACtd,MAAOg1B,GAAS51B,KAAME,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgB51B,KAAMiL,EAAEC,OAAOtK,UAA5O,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,gDACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgBuS,UAAQ,EAACtd,MAAOg1B,GAAShgB,WAAY1V,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgBhgB,WAAY3K,EAAEC,OAAOtK,UAAxP,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,kDACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgBuS,UAAQ,EAACtd,MAAOg1B,GAASzK,eAAgBjrB,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgBzK,eAAgBlgB,EAAEC,OAAOtK,UAAhQ,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,gDACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAASF,YAAax1B,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgBF,YAAazqB,EAAEC,OAAOtK,UAAjP,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,kDACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAASjgB,SAAUzV,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgBjgB,SAAU1K,EAAEC,OAAOtK,UAA3O,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,wDACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAASzG,kBAAmBjvB,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgBzG,kBAAmBlkB,EAAEC,OAAOtK,UAA7P,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,8DACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAASxK,qBAAsBlrB,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgBxK,qBAAsBngB,EAAEC,OAAOtK,UAAnQ,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,8DACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAASD,UAAWz1B,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgBD,UAAW1qB,EAAEC,OAAOtK,UAA7O,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,oEACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAAS/mB,SAAU3O,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAD,OAAO4qB,GAAY,2BAAKD,IAAN,IAAgB/mB,SAAU5D,EAAEC,OAAOtK,UAA3O,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,gDACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAAS7E,YAAa7wB,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAQ4qB,GAAY,2BAAKD,IAAN,IAAgB7E,YAAa9lB,EAAEC,OAAOtK,UAAnP,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,+CACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAASpmB,SAAUtP,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAQ4qB,GAAY,2BAAKD,IAAN,IAAgBpmB,SAAUvE,EAAEC,OAAOtK,UAA7O,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,cAOrB,cAAC,IAAD,CAAMpzB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,SACE,eAAC,IAAD,CAAKsH,cAAc,MAAMhN,QAAQ,OAAOP,eAAe,gBAAgB+F,WAAW,SAAlF,UACE,cAAC,IAAD,UAAY,mEACZ,eAAC,IAAD,CAAWmD,MAAM,2BAAgB/K,MAAOg1B,GAASrmB,YAAarP,MAAO,CAAEwO,SAAU,IAAKoc,SAAU,OAAS/oB,KAAK,QAAQ40B,QAAM,EAACh0B,QAAQ,WAAWi0B,YAAa,CAAEC,QAAQ,GAAQ11B,SAAU,SAAC8J,GAAQ4qB,GAAY,2BAAKD,IAAN,IAAgBrmB,YAAatE,EAAEC,OAAOtK,UAAnP,UACE,wBAAQA,MAAM,KACbs1B,GAAO5wB,KAAI,SAAC6uB,GAAD,OACV,wBAAiBvzB,MAAOuzB,EAAxB,SACGA,GADUA,iBASxBsB,IAAWJ,EACV,iCACE,wBAAOgB,QAAQ,SAAf,4BAAkC,uDAAlC,QACA,uBACEhuB,KAAK,OACLrI,KAAK,SACLsG,GAAG,SACHnF,SAAU,SAAC8J,IAnXO,SAACA,GAC7BA,EAAE6rB,iBACF,IACE,GAAI7rB,EAAEC,OAAO6rB,MAAO,CAClB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACjsB,GACf,IAAM6G,EAAO7G,EAAEC,OAAOisB,OAChBC,EAAW/C,IAAKgD,KAAKvlB,EAAM,CAAEzJ,KAAM,UACnCivB,EAAYF,EAASG,WAAW,GAChCC,EAAYJ,EAASK,OAAOH,GAC5BI,EAAarD,IAAKC,MAAMqD,cAAcH,GAC5CzB,GAAS2B,GACTvB,GAAUyB,OAAOC,KAAKH,EAAW,MAEnCV,EAAOc,kBAAkB7sB,EAAEC,OAAO6rB,MAAM,KAE1C,MAAMjC,GACN5vB,QAAQC,IAAI2vB,IAkWeiD,CAAsB9sB,SAI7C,iCACE,uBAAOorB,QAAQ,SAAf,8BACA,uBACEhuB,KAAK,OACLrI,KAAK,SACLsG,GAAG,SACHnF,SAAU,SAAC8J,GACLoqB,EAreK,SAACpqB,EAAGgrB,GAEzB,GADAhrB,EAAE6rB,iBACE7rB,EAAEC,OAAO6rB,MAAO,CAClB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACjsB,GAEf,IAAM6G,EAAO7G,EAAEC,OAAOisB,OAChBC,EAAW/C,IAAKgD,KAAKvlB,EAAM,CAAEzJ,KAAM,UACnCivB,EAAYF,EAASG,WAAW,GAChCC,EAAYJ,EAASK,OAAOH,GAC5BU,EAAS3D,IAAKC,MAAMqD,cAAcH,GACxC,IACE,IAAMvO,EAAO+O,EAAO1yB,KAAI,SAAC2yB,GAAD,0DAAc,CACpCj4B,MAAM,UAAAi4B,EAAQrC,GAAS51B,aAAjB,eAAwBiY,YAAxB,UAAoCggB,EAAQrC,GAAS51B,aAArD,aAAoC,EAAwBiY,WAAY,GAC9ErC,YAAY,UAAAqiB,EAAQrC,GAAShgB,mBAAjB,eAA8BqC,YAA9B,UAA0CggB,EAAQrC,GAAShgB,mBAA3D,aAA0C,EAA8BqC,WAAY,GAChGkT,gBAAgB,UAAA8M,EAAQrC,GAASzK,uBAAjB,eAAkClT,YAAlC,UAA6CggB,EAAQrC,GAASzK,uBAA9D,aAA6C,EAAkClT,WAAa,GAC5GigB,eAAe,UAAAD,EAAQrC,GAASF,oBAAjB,eAA+Bzd,YAA/B,UAA2CggB,EAAQrC,GAASF,oBAA5D,aAA2C,EAA+Bzd,WAAY,GACrGtC,UAAU,UAAAsiB,EAAQrC,GAASjgB,iBAAjB,eAA4BsC,YAA5B,UAAuCggB,EAAQrC,GAASjgB,iBAAxD,aAAuC,EAA4BsC,WAAa,GAC1FkX,mBAAmB,UAAA8I,EAAQrC,GAASzG,0BAAjB,eAAqClX,YAArC,UAAgDggB,EAAQrC,GAASzG,0BAAjE,aAAgD,EAAqClX,WAAa,GACrHmT,sBAAsB,UAAA6M,EAAQrC,GAASxK,6BAAjB,eAAwCnT,YAAxC,UAAsDggB,EAAQrC,GAASxK,6BAAvE,aAAsD,EAAwCnT,WAAa,GACjI8Y,aAAa,UAAAkH,EAAQrC,GAAS7E,oBAAjB,eAA+B9Y,YAA/B,UAA4CggB,EAAQrC,GAAS7E,oBAA7D,aAA4C,EAA+B9Y,WAAY,GACpG1I,aAAa,UAAA0oB,EAAQrC,GAASrmB,oBAAjB,eAA+B0I,YAA/B,UAA4CggB,EAAQrC,GAASrmB,oBAA7D,aAA4C,EAA+B0I,WAAa,EACrG0d,WAAW,UAAAsC,EAAQrC,GAASD,kBAAjB,eAA6B1d,YAA7B,UAA0CggB,EAAQrC,GAASD,kBAA3D,aAA0C,EAA6B1d,WAAa,GAC/FpJ,UAAU,UAAAopB,EAAQrC,GAAS/mB,iBAAjB,eAA4BoJ,WAAWoH,MAAM,MAA7C,UAAoD4Y,EAAQrC,GAAS/mB,iBAArE,aAAoD,EAA4BoJ,WAAWoH,MAAM,KAAO,GAClH7P,UAAU,UAAAyoB,EAAQrC,GAASpmB,iBAAjB,eAA4ByI,YAA5B,UAAyCggB,EAAQrC,GAASpmB,iBAA1D,aAAyC,EAA4ByI,WAAc,QAE/Fge,EAAYhN,GACZ,MAAO6L,GACP5vB,QAAQC,IAAI2vB,KAGhBkC,EAAOc,kBAAkB7sB,EAAEC,OAAO6rB,MAAM,KAuc5BoB,CAAeltB,EAAGgrB,IAncH,SAAChrB,EAAGgrB,GACjChrB,EAAE6rB,iBACF,IACE,GAAI7rB,EAAEC,OAAO6rB,MAAO,CAClB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAACjsB,GACf,IAAM6G,EAAO7G,EAAEC,OAAOisB,OAChBC,EAAW/C,IAAKgD,KAAKvlB,EAAM,CAAEzJ,KAAM,UACnCivB,EAAYF,EAASG,WAAW,GAChCC,EAAYJ,EAASK,OAAOH,GAE5BrO,EADaoL,IAAKC,MAAMqD,cAAcH,GACpBlyB,KAAI,SAAC8yB,GAAD,MAAW,CACrCp4B,KAAMo4B,EAAK,2BACXn4B,MAAOm4B,EAAK,qCACZC,QAASD,EAAK,0BACdE,MAAOF,EAAI,MACXG,aAAcH,EAAK,8BACnBrtB,OAAQqtB,EAAK,0BACbI,cAAeJ,EAAK,2BACpBxY,KAAMwY,EAAK,sBAEbnC,EAAYhN,IAEd+N,EAAOc,kBAAkB7sB,EAAEC,OAAO6rB,MAAM,KAE1C,MAAO0B,GACPvzB,QAAQC,IAAIszB,IA2aAC,CAAuBztB,EAAGgrB,UAOpC,cAAC,IAAD,CACE/1B,MAAO,CAAE2C,UAAW,IACpBF,QAAQ,YACRrB,WAAS,EACTxC,MAAM,UACNkD,QApba,WAEnB,GADAwzB,IAAc,GACVC,IAAUJ,EAAc,CAC1BnwB,QAAQC,IAAI,WAAWywB,IACvBO,GAAU,IACV,IAAMlN,EAAO6M,GAAMxwB,KAAI,SAAC2yB,GAEtB,IAAD,4CAGE,OAFD/yB,QAAQC,IAAI,oBAAoB8yB,EAAQrC,GAAS/mB,WAExC,CACT7O,MAAM,UAAAi4B,EAAQrC,GAAS51B,aAAjB,eAAwBiY,YAAxB,UAAoCggB,EAAQrC,GAAS51B,aAArD,aAAoC,EAAwBiY,WAAY,GAC9ErC,YAAY,UAAAqiB,EAAQrC,GAAShgB,mBAAjB,eAA8BqC,YAA9B,UAA0CggB,EAAQrC,GAAShgB,mBAA3D,aAA0C,EAA8BqC,WAAY,GAChGkT,gBAAgB,UAAA8M,EAAQrC,GAASzK,uBAAjB,eAAkClT,YAAlC,UAA6CggB,EAAQrC,GAASzK,uBAA9D,aAA6C,EAAkClT,WAAa,GAC5GigB,eAAe,UAAAD,EAAQrC,GAASF,oBAAjB,eAA+Bzd,YAA/B,UAA2CggB,EAAQrC,GAASF,oBAA5D,aAA2C,EAA+Bzd,WAAY,GACrGtC,UAAU,UAAAsiB,EAAQrC,GAASjgB,iBAAjB,eAA4BsC,YAA5B,UAAuCggB,EAAQrC,GAASjgB,iBAAxD,aAAuC,EAA4BsC,WAAa,GAC1FkX,mBAAmB,UAAA8I,EAAQrC,GAASzG,0BAAjB,eAAqClX,YAArC,UAAgDggB,EAAQrC,GAASzG,0BAAjE,aAAgD,EAAqClX,WAAa,GACrHmT,sBAAsB,UAAA6M,EAAQrC,GAASxK,6BAAjB,eAAwCnT,YAAxC,UAAsDggB,EAAQrC,GAASxK,6BAAvE,aAAsD,EAAwCnT,WAAa,GACjI8Y,aAAa,UAAAkH,EAAQrC,GAAS7E,oBAAjB,eAA+B9Y,YAA/B,UAA4CggB,EAAQrC,GAAS7E,oBAA7D,aAA4C,EAA+B9Y,WAAY,GACpG1I,aAAa,UAAA0oB,EAAQrC,GAASrmB,oBAAjB,eAA+B0I,YAA/B,UAA4CggB,EAAQrC,GAASrmB,oBAA7D,aAA4C,EAA+B0I,WAAa,EACrG0d,WAAW,UAAAsC,EAAQrC,GAASD,kBAAjB,eAA6B1d,YAA7B,UAA0CggB,EAAQrC,GAASD,kBAA3D,aAA0C,EAA6B1d,WAAa,GAE/FpJ,SAAUopB,EAAQrC,GAAS/mB,UAAYopB,EAAQrC,GAAS/mB,UAAY,GAEpEW,UAAU,UAAAyoB,EAAQrC,GAASpmB,iBAAjB,eAA4ByI,YAA5B,UAAyCggB,EAAQrC,GAASpmB,iBAA1D,aAAyC,EAA4ByI,WAAc,QAE/F+c,EAAa/L,QAEb+L,EAAagB,KAmZX,+B,iCC9nBR,WAEM2C,EAAmB,CACvBC,aAAc,SAACxQ,EAAW4H,EAAYjY,GACpC,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,iCACT,OAAO1H,IAAYC,KAAKF,EAAKtQ,IAE/B+I,eAAgB,SAACsH,EAAW4H,EAAY/S,GACtC,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,oBACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,KAEvCgT,cAAe,SAAC7H,GACd,IAAMC,EAAG,iBAAaD,EAAb,qBACT,OAAOE,IAAYE,IAAIH,EAAK,KAE9BwQ,iBAAkB,SAACzQ,EAAW0Q,GAC5B,IAAMzQ,EAAG,iBAAaD,EAAb,4BAA0C0Q,GACnD,OAAOxQ,IAAYE,IAAIH,EAAK,KAE9B0Q,oBAAqB,SAAC3Q,EAAW4H,EAAY/S,GAC3C,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,qBACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAEhnB,OAAQ4b,KAExC+b,kBAAmB,SAAC5Q,EAAW4H,EAAYiJ,EAAoBlhB,GAC7D,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,4BAAiEiJ,GAC1E,OAAO3Q,IAAYQ,IAAIT,EAAKtQ,IAE9BmhB,oBAAqB,SAAC9Q,EAAW4H,EAAYiJ,GAC3C,IAAM5Q,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,4BAAiEiJ,GAC1E,OAAO3Q,IAAYM,OAAOP,IAE5B8Q,aAAc,SAAC/Q,EAAW4H,EAAYlU,GACpC,IAAMuM,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,mCAAwElU,EAAOxV,IACxF,OAAOgiB,IAAYQ,IAAIT,EAAKvM,KAGjB6c,O,iCCpCA,QAA0B,kC,iCCAzC,WAEMzU,EAAY,CAChBkP,gBAAiB,SAAChL,EAAW4H,EAAYjY,GACvC,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,4BACT,OAAO1H,IAAYC,KAAKF,EAAKtQ,IAE/B+I,eAAgB,SAACsH,EAAW4H,EAAY/S,GACtC,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,aACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,KAEvCgT,cAAe,SAAC7H,GACd,IAAMC,EAAG,iBAAaD,EAAb,aACT,OAAOE,IAAYE,IAAIH,EAAK,KAE9B+Q,UAAW,SAAChR,EAAWiR,GACrB,IAAMhR,EAAG,iBAAaD,EAAb,oBAAkCiR,GAC3C,OAAO/Q,IAAYE,IAAIH,EAAK,KAE9BiR,aAAc,SAAClR,EAAW4H,EAAY/S,GACpC,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,aACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,MAG1BiH,O,iCCxBf,WAEMiP,EAAoB,CACxBC,gBAAiB,SAAChL,EAAW4H,EAAYjY,GACvC,IAAMsQ,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,qCACT,OAAO1H,IAAYC,KAAKF,EAAKtQ,IAE/B+I,eAAgB,SAACsH,EAAW4H,EAAY/S,GACtC,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,qBACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,KAEvCgT,cAAe,SAAC7H,GACd,IAAMC,EAAG,iBAAaD,EAAb,qBACT,OAAOE,IAAYE,IAAIH,EAAK,KAE9BkR,kBAAmB,SAACnR,EAAWoR,GAC7B,IAAMnR,EAAG,iBAAaD,EAAb,6BAA2CoR,GACpD,OAAOlR,IAAYE,IAAIH,EAAK,KAE9BoR,qBAAsB,SAACrR,EAAW4H,EAAY/S,GAC5C,IAAMoL,EAAG,iBAAaD,EAAb,qBAAmC4H,EAAnC,qBACT,OAAO1H,IAAYE,IAAIH,EAAK,CAAChnB,OAAQ4b,MAG1BkW,O,4DCdAuG,IARQ,SAACp6B,GAEpB,OADwBA,EAAjBq6B,aAEUr0B,KAAI,SAACs0B,GAAD,OAAc,cAACC,EAAD,CAAUD,SAAUA,EAAUE,aAAc,QAOnF,IAAMD,EAAW,SAAXA,EAAYv6B,GAGd,IAFA,IAAQs6B,EAA2Bt6B,EAA3Bs6B,SAAUE,EAAiBx6B,EAAjBw6B,aACd12B,EAAU,GACL22B,EAAI,EAAGA,EAAID,EAAcC,IAC9B32B,GAAW,mBAEf,IAAK,IAAD,EACA,MAAM,CAEE,wBAA2BxC,MAAOg5B,EAAS5sB,KAA3C,SACK5J,EAAUw2B,EAAS55B,MADX45B,EAASl5B,MAF9B,6BAKWk5B,EAAS1wB,gBALpB,aAKW,EAAmB5D,KAAI,SAAC00B,GAAD,OAAiB,cAACH,EAAD,CAAUD,SAAUI,EAAaF,aAAcA,EAAe,SAGnH,MAAOrB,GAEL,OADAvzB,QAAQC,IAAIy0B,GACL,M,sFCoBAK,IA7CK,SAAC,GAA0C,IAAD,EAAvC9Z,EAAuC,EAAvCA,YAAaC,EAA0B,EAA1BA,eAAgB8C,EAAU,EAAVA,KAQlD,OANAte,IAAMnF,WAAU,WACdkS,OAAOuoB,SAAS,EAAG,KACnB,CAAChX,IAKD,cAAC,KAAD,GAEIiX,mBAAoB,CAAC,GAAI,GAAI,KAC7BC,YAAa,GACbC,iBAAkB,UAClBjvB,UAAU,MACVkvB,MAAK,OAAEna,QAAF,IAAEA,OAAF,EAAEA,EAAaY,YANxB,mCAOiBZ,QAPjB,IAOiBA,OAPjB,EAOiBA,EAAaD,OAP9B,4BAQUC,QARV,IAQUA,OARV,EAQUA,EAAaF,MARvB,8BASkB,SAAChV,EAAGgV,GAAJ,OAAaG,EAAe,2BAAKD,GAAN,IAAmBF,KAAMA,QATtE,qCAUyB,SAAChV,GAAD,OAAOmV,EAAe,2BAAKD,GAAN,IAAmBF,KAAM,EAAGC,OAAQjV,EAAEC,OAAOtK,YAV3F,M,6ECRJ,SAAS25B,EAAMj7B,GACX,OAAO,cAAC,IAAD,aAAUslB,UAAW,EAAGjiB,QAAQ,UAAarD,IAmBzC+Z,IAhBS,SAAC/Z,GACrB,IAAOwF,EAA2BxF,EAA3BwF,KAAK9D,EAAsB1B,EAAtB0B,OAAQ+H,EAAczJ,EAAdyJ,YACpB,OACI,cAAC,IAAD,CACA+b,aAAc,CAAEC,SAAU,MAAMC,WAAa,SAC7ClgB,KAAMA,EACN8E,QAASb,EACTyxB,iBAAkB,IAJlB,SAMA,cAACD,EAAD,CAAOE,SAAUz5B,EAAOd,MAAO0J,QAASb,EAAxC,SACK/H,EAAOoS,c,+KCuGLsnB,IAjHM,SAACp7B,GACpB,IAAQwF,EAAoCxF,EAApCwF,KAAM61B,EAA8Br7B,EAA9Bq7B,YAAazI,EAAiB5yB,EAAjB4yB,aACrBnpB,EAAc,WAClBzJ,EAAMyJ,cACNqU,EAAOwd,aAEHxd,EAASC,YAAU,CACvBwd,oBAAoB,EACpBvd,cAAe,CAAEwd,IAAKx7B,EAAMsgB,MAC5Bmb,iBAAkBC,IAAW,CAC3BF,IAAKE,MACF9c,SAAS,2CACT+c,SAAS37B,EAAMsgB,KAAO,EAAG,uDACzBsb,SAAS,EAAG,wDAGbl0B,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAC1BwE,EAAWxM,cACX6L,EAAY,uCAAG,sBAAAhL,EAAA,6DACnBkD,IADmB,kBAGM4xB,EAAYzpB,EAAYC,EAAa7R,EAAM0N,KAAM,CACtEvF,YAAazB,OAAOoX,EAAOI,OAAOsd,KAAOx7B,EAAM67B,KAC/Cn6B,OAAQoc,EAAOI,OAAOsd,MAAQx7B,EAAMsgB,KAAO,SAAW,SALvC,cAOjBpO,EAAS2P,IAAaa,iBAAiB,gDACvC1iB,EAAM0J,WAENkpB,IAViB,kDAYjBhtB,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,kDAblB,0DAAH,qDAgBlB,OACE,eAAC,IAAD,CAActc,KAAMA,EAAMiE,YAAaA,EAAaY,MAAM,mBAA1D,UACGrK,EAAMqK,MACP,eAAC,IAAD,CACEpH,WAAS,EACTkG,QAAS,EACTvI,MAAO,CAAE4qB,SAAU,OAAQ3qB,MAAO,IAAK0C,UAAW,IAClDmN,cAAc,MACdxH,WAAW,SALb,UAOE,cAAC,IAAD,CAAMzH,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,KAApB,mCAEF,cAAC,IAAD,CAAM5B,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,KAApB,SACE,cAAC,IAAD,CAAW/B,MAAOtB,EAAM67B,WAG5B,cAAC,IAAD,CAAMp6B,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,KAApB,8BAEF,cAAC,IAAD,CAAM5B,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,KAApB,SACE,cAAC,IAAD,CAAW/B,MAAOtB,EAAMsgB,WAG5B,cAAC,IAAD,CAAM7e,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,KAApB,wCAEF,cAAC,IAAD,CAAM5B,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CACE1I,KAAK,MACL+B,KAAK,QACL4J,MAAM,uCACN/K,MAAOwc,EAAOI,OAAOsd,IACrBrC,MAAOrb,EAAOge,OAAON,KAAO1d,EAAOie,QAAQP,IAC3C35B,SAAUic,EAAOa,aACjBqd,OAAQle,EAAOme,WACfC,WAAYpe,EAAOie,QAAQP,IAAM1d,EAAOge,OAAON,IAAM,SAGzD,cAAC,IAAD,CAAM/5B,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,KAApB,+BAEF,cAAC,IAAD,CAAM5B,MAAI,EAAC2H,GAAI,EAAf,SACE,eAAC,IAAD,CAAY/F,QAAQ,KAApB,UACG,IACD,cAAC,IAAD,CAAW/B,MAAOtB,EAAMsgB,KAAOxC,EAAOI,OAAOsd,WAGjD,cAAC,IAAD,CAAM/5B,MAAI,EAAC2H,GAAI,GAAf,SACE,eAAC,IAAD,CAAK1F,QAAQ,OAAOgN,cAAc,MAAMvN,eAAe,WAAvD,UACE,cAAC,IAAD,CACEE,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YACNkD,QAAS+G,EAJX,sBAQA,cAAC,IAAD,CACEpG,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrB3K,MAAM,UACN+M,WAAYuR,EAAOqe,SAAW7D,OAAOC,KAAKza,EAAOie,SAASj2B,OAAS,GACnEpD,QAAS6O,EANX,2C,iCCzGG,K,iCCAf,wDA6Be6qB,IApBO,SAACp8B,GAEnB,IAAOyJ,EAA2BzJ,EAA3ByJ,YAAaY,EAAcrK,EAAdqK,MAAM7E,EAAQxF,EAARwF,KAC5B,OACE,eAAC,IAAD,CAASA,KAAMA,EAAM8E,QAASb,EAAa+hB,SAAU,KAArD,UACE,cAAC,IAAD,CAAaxkB,GAAG,oBAAhB,SACE,cAAC,IAAD,CAAYpG,MAAO,CAAC8O,WAAY,OAAQnM,WAAW,GAAI8L,cAAc,IAAQhM,QAAQ,KAArF,SACEgH,MAKJ,cAAC,IAAD,UACKrK,EAAM4J,gB,iCCtBjB,kLAkCM3K,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXkE,UAAW,CACTC,UAAW,IAEbC,UAAW,CACTD,UAAW,GAEbE,OAAQ,CACNC,QAAS,QAEXunB,IAAK,CACHpqB,MAAO,GACPqJ,OAAQ,SAmOCmyB,IA/Nf,YAKI,IAAD,EAJD7pB,EAIC,EAJDA,KAEA8f,GAEC,EAHDC,uBAGC,EAFDD,2BACA5tB,EACC,EADDA,cAEMvF,EAAQc,cACRC,EAAUjB,EAAUE,GAC1ByG,QAAQC,IAAI,WAAW2M,GAEvBrS,qBAAU,cAAU,CAACqS,IAErB,IAAM9K,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCG,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,IAGtG,OACE,cAAC,IAAD,CAAKpH,MAAO,CAAEkD,QAAS,GAAImF,UAAW,QAAtC,SACE,eAAC,IAAD,CAAMhG,WAAS,EAACC,UAAU,SAASgG,WAAW,aAAaC,QAAS,EAApE,UACE,eAAC,IAAD,CAAMlG,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,eAAC,IAAD,CACE1B,MAAI,EACJ2H,GAAI,EACJnG,WAAS,EACTC,UAAU,SACVgG,WAAW,aALb,UAOE,cAAC,IAAD,CAAY7F,QAAQ,KAApB,0BACA,cAAC,IAAD,CAAYA,QAAQ,QAApB,SAEGmP,EAAK9F,OAAOhM,UAIjB,eAAC,IAAD,CAAMe,MAAI,EAAC2H,GAAI,EAAGnG,WAAS,EAACC,UAAU,SAASgG,WAAW,WAA1D,UACE,cAAC,IAAD,CAAY7F,QAAQ,QAApB,UAEG,IAAIgG,MAAOC,mBAAmB,WAEjC,cAAC,IAAD,CAAYjG,QAAQ,QAApB,UAEG,IAAIgG,MAAOE,6BAKlB,eAAC,IAAD,CACEtG,WAAS,EACTC,UAAU,MACV2G,UAAW3J,EAAQoD,UACnB1C,MAAO,CAAEyO,aAAc,IACvBlM,eAAe,gBACf+F,WAAW,SANb,UAQE,eAAC,IAAD,CACEzH,MAAI,EACJ2H,GAAI,EACJnG,WAAS,EACTC,UAAU,MACV2G,UAAW3J,EAAQoD,UACnB4F,WAAW,SANb,UAQE,cAAC,IAAD,CAAY7F,QAAQ,KAAKzC,MAAO,CAAEjB,YAAa,IAA/C,2CAGA,eAAC,IAAD,CACE0D,QAAQ,KACRzC,MAAO,CAAEpB,MAAOL,EAAMM,cAAcC,aAAa,MAFnD,cAII8S,EAAK8G,iBAGX,cAAC,IAAD,CACE7X,MAAI,EACJ2H,GAAI,EACJnG,WAAS,EACTC,UAAU,MACVC,eAAe,WACf0G,UAAW3J,EAAQoD,UACnB4F,WAAW,SAPb,SASE,cAAC,IAAD,CAAY7F,QAAQ,KAApB,SAA0BmP,EAAKE,SAAShS,YAI5C,eAAC,IAAD,CACEuC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQoD,UAJrB,UAME,eAAC,IAAD,CAAYD,QAAQ,KAApB,uDAEyBmP,EAAKgG,QAAQnY,QAAO,SAACoB,GAAD,OAAkC,IAAxBA,EAAKinB,kBAAsB5iB,OAFlF,OAIA,cAAC,IAAD,CAAYzC,QAAQ,QAApB,SACA,cAAC,IAAD,CAAsB/B,MAAOmnB,YAA6BjW,EAAKgG,gBAIjE,eAAC,IAAD,CACEvV,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJrB,UAME,cAAC,IAAD,CAAYH,QAAQ,KAApB,0CACA,eAAC,IAAD,CAAYA,QAAQ,QAApB,cAA6B,cAAC,IAAD,CAAiB/B,MAAOkR,EAAK8pB,2BAG5D,eAAC,IAAD,CACEr5B,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJrB,UAME,cAAC,IAAD,CAAYH,QAAQ,KAApB,0CACA,cAAC,IAAD,CAAYA,QAAQ,QAApB,SAA4B,cAAC,IAAD,CAAiB/B,MAAOkR,EAAK7L,qBAG7C,OAAbkB,QAAa,IAAbA,OAAA,EAAAA,EAAeoP,cAAcvV,SAAiC,qBAAvB8Q,EAAKE,SAAShS,KAAqB,eAAC,IAAD,CACrEuC,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf0G,UAAW3J,EAAQsD,UAJkD,UAMrE,cAAC,IAAD,CAAYH,QAAQ,KAApB,oCACA,cAAC,IAAD,CAAYA,QAAQ,QAApB,SACE,eAAC,IAAD,CAAUzC,MAAO,CAACkD,QAAQ,EAAG5B,OAAO,GAApC,UACA,cAAC,IAAD,CAEEZ,OAAQkR,EAAKhH,UAEf,UAAAgH,EAAKE,gBAAL,eAAejH,QAAQ,eAAC,IAAD,eAAc+G,EAAKE,SAASjH,UAAuB,aAGtE,KAoBZ,eAAC,IAAD,CACExI,WAAS,EACTC,UAAU,MACVC,eAAe,gBACf+F,WAAW,SACXW,UAAW3J,EAAQsD,UALrB,UAOE,cAAC,IAAD,CAAYH,QAAQ,KAApB,0CACA,cAAC,IAAD,CAAYA,QAAQ,QAApB,SAA4B,cAAC,IAAD,CAAiB/B,MAAOkR,EAAKrK,mBAU3D,cAAC,IAAD,CACElF,WAAS,EACTC,UAAU,MACVC,eAAe,WACf+F,WAAW,SACXW,UAAW3J,EAAQsD,UALrB,SAOE,cAAC,IAAD,CAAasI,UAAU,WAAvB,SACE,cAAC,IAAD,CACE,aAAW,SACXpL,KAAK,UACLY,MAAOkR,EAAKxG,eACZnK,SAAU,SAAC8J,GAAD,OAAO2mB,EAA0B3mB,EAAEC,OAAOtK,QAJtD,SAME,eAAC,IAAD,CAAM2B,WAAS,EAACC,UAAU,MAA1B,UACE,cAAC,IAAD,CACEgJ,eAAe,QACf5K,MAAM,OACN6K,QAAS,cAAC,IAAD,IACTE,MAAM,aAER,cAAC,IAAD,CACEH,eAAe,QACf5K,MAAM,OACN6K,QAAS,cAAC,IAAD,IACTE,MAAM,gCAShB,cAAC,IAAD,CACEhJ,QAAQ,YACRrB,WAAS,EACTxC,MAAM,UACNoB,MAAO,CAAE2C,UAAW,IACpBb,QAASgC,EACT6H,SAAgC,IAAtBiG,EAAK7L,aANjB,qC,iCCnQO,kjD,wLCsJA41B,IApIK,SAACv8B,GACnB,MAAwCuF,mBAAS,IAAjD,mBAAO80B,EAAP,KAAqBmC,EAArB,KACA,EAAwCj3B,mBAAS,CAC/C7E,KAAM,GACN+7B,qBAAsB,KAFxB,mBAAOC,EAAP,KAAqBC,EAArB,KAKM/qB,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KAE9BvN,qBAAU,WACR,IAAMy8B,EAAgB,uCAAG,4BAAAr2B,EAAA,+EAEEqO,IAAWioB,eAAejrB,GAF5B,8BAGIgD,IAAWkoB,kBAAkBlrB,GAHjC,OAGfmrB,EAHe,OAIrBP,EAAgBO,EAAWvqB,MAJN,4GAAH,qDAOtBoqB,MACC,CAAC58B,EAAMg9B,QAIV,IAAM9qB,EAAWxM,cACXu3B,EAAiB,uCAAG,sBAAA12B,EAAA,6DACxB22B,IADwB,kBAGCtoB,IAAWuoB,YAAYvrB,EAAY8qB,GAHpC,cAItB18B,EAAMo9B,UACNlrB,EAAS2P,IAAaa,iBAAiB,4CALjB,gDAStB9c,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,8CAVb,yDAAH,qDAajBob,EAAsB,WAC1Bl9B,EAAMyJ,cACNkzB,EAAgB,CACdj8B,KAAM,GACN+7B,qBAAsB,MAI1B,OADA72B,QAAQC,IAAI,eAAe62B,GAEzB,eAAC,IAAD,2BAAkB18B,GAAlB,cACE,cAAC,IAAD,CAAYqD,QAAQ,KAAKg6B,cAAY,EAArC,4CAGA,eAAC,IAAD,CAAMp6B,WAAS,EAACkG,QAAS,EAAGvI,MAAO,CAAE2C,UAAW,GAAIioB,SAAU,KAA9D,UACE,cAAC,IAAD,CAAM/pB,MAAI,EAAC2H,GAAI,GAAf,SACE,cAAC,IAAD,CACEiD,MAAM,uBACNhJ,QAAQ,WACRZ,KAAK,QACLmc,UAAQ,EACR5c,WAAS,EACTH,SAAU,SAAC8J,GAAD,OACRgxB,EAAgB,2BAAKD,GAAN,IAAoBh8B,KAAMiL,EAAEC,OAAOtK,cAIxD,cAAC,IAAD,CAAMG,MAAI,EAAC2H,GAAI,GAAf,SAoBI,cAAC,IAAD,CACAnH,YAAY,oBACN+E,GAAG,WACHtG,KAAK,WACLE,MAAO,CAAEC,MAAO,QAChBy8B,cAAe,CAAE5gB,UAAW,IAAKiK,SAAU,OAAO5b,OAAO,KACzDwyB,SAAUlD,EACV/4B,MAAOo7B,EAAahvB,KACpB7L,SAAU,SAAC27B,GAAD,OACRb,EAAgB,2BACbD,GADY,IAEfD,qBAAsBe,MAExBC,sBAAoB,MAI9B,eAAC,IAAD,CACEh8B,MAAI,EACJ2H,GAAI,GACJxI,MAAO,CACL8C,QAAS,OACTgN,cAAe,MACfvN,eAAgB,YANpB,UASG,IACD,cAAC,IAAD,CACE3D,MAAM,YACN6D,QAAQ,YACRzC,MAAO,CAAEjB,YAAa,IACtB+C,QAAS1C,EAAMyJ,YACfhH,KAAK,QALP,sBASA,cAAC,IAAD,CACEjD,MAAM,UACN6D,QAAQ,YACRZ,KAAK,QACLC,QAASu6B,EAJX,iC,qXC/FJh+B,EAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CAEb0vB,OAAO,CACHtkB,WAAW,IACXhL,MAAO,OACPoD,SAAU,IAEde,YAAa,CACTf,SAAU,iBA+NlB,SAAS86B,EAAiB52B,EAAaC,GAEnC,MAAmB,YAAhBD,EACoB,aAAhBC,EAAmC,oBACb,gBAAhBA,EAAuC,oBACnC,wCAEM,aAAhBA,EAAmC,gCAC1B,iDAVL42B,IAxNO,SAAC,GAA0K,IAAzKn4B,EAAwK,EAAxKA,KAAK8E,EAAmK,EAAnKA,QAAQD,EAA2J,EAA3JA,MAAM1E,EAAqJ,EAArJA,kBAAkBR,EAAmI,EAAnIA,8BAA8B+B,EAAqG,EAArGA,kBAA+BqD,GAAsE,EAAnFH,aAAmF,EAAtEG,iBAAgBnF,EAAsD,EAAtDA,wCAAwCC,EAAc,EAAdA,SAC9KO,QAAQC,IAAI,oBAAoBF,GAChC,IAAMxG,EAAQc,cACVC,EAAUjB,EAAUE,GAE1B,EAA0BmG,IAAMC,SAAS2B,EAAkBA,EAAkBF,GAAG2R,WAAW,MAA3F,mBAAOrX,EAAP,KAAcs8B,EAAd,KACAh4B,QAAQC,IAAI,QAAQvE,GACpBsE,QAAQC,IAAI,qCAAqCqB,GACjD,MAAmC5B,IAAMC,SAAS2B,GAAqC,MAAvF,mBAAO22B,EAAP,KAAkBC,EAAlB,KAKF,EAA2Bx4B,IAAMC,SAAS,CAACw4B,MAAM,KAAMvhB,OAAO,KAA9D,oBAAOwhB,GAAP,MAAcC,GAAd,MAGE,SAASC,GAAkBC,EAAa1nB,GACtC,GAAI0nB,EACJ,OAAOA,EAAaC,MAAK,SAASzyB,GAAI,OAAOA,EAAE+B,KAAK2S,SAAS5J,MAAiBtX,EAAMM,cAAcC,aAAa,IAAI,KAarHkG,QAAQC,IAAI,QAAQm4B,IACpB,IAAMK,GAAiC,SAACR,GACtC,GAAGA,EAAU,CAAC,IAAD,EACL9mB,EAA2B,OAAG8mB,QAAH,IAAGA,GAAH,UAAGA,EAAWh3B,uBAAd,aAAG,EAA4Bb,KAAI,SAACC,GAAQ,OAAIS,OAAO6D,IAAoB7D,OAAOT,EAAIQ,WAAoBR,EAAgB,QAEzJ,OADA8Q,EAA6BA,EAA6BA,EAA4B1W,QAAO,SAAAoB,GAAI,OAAa,OAATA,KAAe,GAAG,OAI7H,GAAuC8D,mBAAS,MAAhD,qBAAO80B,GAAP,MAAoBmC,GAApB,MAEM90B,GAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAClCkK,GAAalK,GAAKI,MAAM4F,KACVhG,GAAKgF,OAAOgB,KAEhCvN,qBAAU,WACR,IAAMm+B,EAAiB,uCAAG,4BAAA/3B,EAAA,+EAECqO,IAAWkoB,kBAAkBlrB,IAF9B,OAEhB8C,EAFgB,OAGtB8nB,GAAgB9nB,EAASlC,MACzB5M,QAAQC,IAAI,gBAAgB6O,EAASlC,MAJf,uDAQtB5M,QAAQC,IAAR,MARsB,kBASf,IATe,yDAAH,qDAYvBy4B,MACC,IAEH,IAAMC,GAAc,SAACxnB,GACnB,OAAIA,EAA4BynB,gBAI5B54B,QAAQC,IAAI,+CAA+CkR,EAA4B0nB,kBAChFC,YAA8Br5B,EAASg1B,GAAatjB,EAA4B0nB,iBAAiB,KAJjG1nB,EAA4B3M,cAqBvC,OAEI,cADA,CACC,IAAD,CAAQ5E,KAAMA,EAAM8E,QAASA,EAAS,kBAAgB,oBAAoBkhB,SAAS,KAAKxpB,WAAW,EAAnG,UACI,eAAC,IAAD,CAAMiB,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAgB+F,WAAW,SAA1E,UACQ,cAAC,IAAD,CAAalC,GAAG,oBAAhB,SACI,cAAC,IAAD,CAAY6C,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,SACKgH,MAIT,cAAC,IAAD,CAAY,aAAW,QAAU3H,QAAS4H,EAA1C,SACI,cAAC,IAAD,CAAY1H,SAAS,eAIjC,eAAC,IAAD,WACI,eAAC,IAAD,CAAOK,WAAS,EAACC,UAAU,MAAMC,eAAe,GAAGvC,MAAO,CAACyO,aAAa,GAAxE,UACI,cAAC,IAAD,CAAM5N,MAAI,EAACb,MAAO,CAACC,MAAM,GAAGlB,YAAY,MAExC,cAAC,IAAD,CAAM8B,MAAI,EAACb,MAAO,CAACC,MAAM,IAAIlB,YAAY,IAAzC,SACI,cAAC,IAAD,CAAYkK,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,4DAEJ,cAAC,IAAD,CAAMrtB,MAAI,EAACb,MAAO,CAACC,MAAM,IAAKlB,YAAY,IAA1C,SACI,cAAC,IAAD,CAAYkK,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,uDAGR,cAAC,IAAD,CAASluB,MAAO,CAACyO,aAAa,KAE9B,cAAC,IAAD,CAAavD,UAAU,WAAvB,SACI,eAAC,IAAD,CAAYxK,MAAOA,EAAnB,iBACKqE,QADL,IACKA,OADL,EACKA,EAAmBK,KAAI,SAACC,GAAS,IAAD,EACzB6Q,EAAgB7Q,EAAIY,gBAAgBb,KAAI,SAACC,GAAQ,OAAIS,OAAO6D,IAAoB7D,OAAOT,EAAIQ,WAAoBR,EAAgB,QACnI6Q,EAAeA,EAAczW,QAAO,SAAAoB,GAAI,OAAa,OAATA,KAAe,GAC3D,IAAIsV,EAA8BsnB,GAA+Bp4B,GACjE,OACI,eAAC,IAAD,CAAoBhD,WAAS,EAACC,UAAU,MAAMC,eAAe,GAA7D,UACQ,cAAC,IAAD,CAAM1B,MAAI,EAACb,MAAO,CAACC,MAAM,GAAGlB,YAAY,IAAxC,SACI,cAAC,IAAD,CAAkB2B,MAAO2E,EAAIe,GAAG2R,WAAYxM,QAAS,cAAC,IAAD,CAAQ1J,KAAK,QAAQC,QAAS,kBArGxG,SAACm7B,GAEjBn3B,OAAOm3B,EAAU72B,MAAQN,OAAOpF,IAC/Bs8B,EAAS,MACTE,EAAa,QAEbF,EAASC,EAAU72B,GAAG2R,YACtBmlB,EAAaD,IA8F8Glf,CAAa1Y,UAIxG,cAAC,IAAD,CAAMxE,MAAI,EAACb,MAAO,CAACC,MAAM,IAAIlB,YAAY,GAAG4D,UAAU,GAAI/D,MAAM,WAAhE,SACI,cAAC,IAAD,UAAcyG,EAAIvF,SAEtB,eAAC,IAAD,CAAMe,MAAI,EAACb,MAAO,CAACC,MAAM,IAAKlB,YAAY,GAAG4D,UAAU,GAAG/D,MAAM,WAAhE,UACI,eAAC,IAAD,WAAkC,YAAnByG,EAAIa,YAA2B,uBAAY,qBAA1D,MAAyE42B,EAAgBz3B,EAAIa,YAAYb,EAAIc,iBAC7G,cAAC,IAAD,CAAanG,MAAO,CAACgC,SAAS,IAA9B,SAAwD,aAApBqD,EAAIc,aAAJ,WAAqCgQ,EAA4B4nB,eAAjE,wBAA4F,UAE/G,oBAApB14B,EAAIc,aACD,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAACC,MAAM,IAAKlB,YAAY,GAAG4D,UAAU,GAAG/D,MAAM,WAAhE,SACI,eAAC,IAAD,+BAAuB,oBAAGoB,MAAO,CAACpB,MAAM,UAAWgL,WAAW,KAAvC,UAA8CuM,EAA4BrM,cAAck0B,iBAAxF,IAA2G7nB,EAA4BhO,QAA9J,IAAyK,WAAzK,iCAAqMgO,EAA4BtQ,UAAUm4B,iBAA3O,iBAEP,KACqB,aAApB34B,EAAIc,aACF,eAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAACC,MAAM,IAAKlB,YAAY,GAAG4D,UAAU,GAAG/D,MAAM,WAAhE,UAC4D,IAAvDkH,OAAOqQ,EAA4B4nB,iBAA2B5nB,EAA4BynB,gBAAsE,IAApDznB,EAA4B3M,aAAatE,OAGlJ,qCACA,eAAC,IAAD,CAAYlF,MAAO,CAACyO,aAAa,GAAjC,UAAqC,+DAArC,OACA,cAAC,IAAD,CAAQwvB,UAAQ,EAAEx7B,QAAQ,WAAWrB,WAAS,EAAGgF,GAAG,WAAYtG,KAAK,WAAW+B,KAAK,QACjFZ,SAAU,SAAC8J,GAAD,OA1E5C,SAACrK,EAAOy8B,GAC1B,OAAOE,GAAS,CAACF,MAAMA,EAAOvhB,OAAOlb,EAAM0E,KAAI,SAACvE,GAAS,OAAO,2BAAIA,GAAX,IAAiByO,SAAS,SAyEhB4uB,CAAYnzB,EAAEC,OAAOtK,MAAM2E,EAAIe,KAC9C1F,MAAO08B,GAAMxhB,OACLuiB,YAAa,SAACC,GAAD,cACTA,QADS,IACTA,OADS,EACTA,EAAUh5B,KAAI,SAACvE,GAAU,IAAD,EACpB,iBAAO88B,GAAYxnB,GAA6BrI,MAAM,SAACiqB,GAAD,OAAaA,EAAQjrB,OAASjM,EAAKiM,eAAzF,aAAO,EAAyFhN,QACjGuf,KAAK,OAEZhe,YAAY,qBACZrB,MAAO,CAACC,MAAM,IAAKsJ,WAAW,GAAID,OAAO,IATrD,mBAWSq0B,GAAYxnB,UAXrB,aAWS,EAA0C/Q,KAAI,SAACvE,GAAD,OAC3C,cAAC,IAAD,CAA0BH,MAAOG,EACjCb,MAAO,CAAC+J,gBAAgBuzB,GAAiBF,GAAMxhB,OAAQ/a,EAAKiM,OAD5D,SAGA,eAAC,IAAD,CAAMzK,WAAS,EAACE,eAAe,gBAA/B,UACK1B,EAAKf,KACLw9B,GAAiBF,GAAMxhB,OAAQ/a,EAAKiM,MAAO,cAAC,IAAD,CAAWlO,MAAM,YAAa,SAL/DiC,EAAKiM,WAU9BswB,GAAMD,QAAU93B,EAAIe,GACrBg3B,GAAMxhB,OAAOxW,KAAI,SAACvE,GACf,OACI,eAAC,IAAD,WACI,eAAC,IAAD,WAAaA,EAAK0N,aAAlB,MAAmC1N,EAAKf,QACxC,cAAC,IAAD,CAAwBY,MAAOG,EAAKyO,SAAUrO,SAAU,SAAC8J,GAAD,OAhGrF,SAACoyB,EAAMpF,EAASlrB,GAC/C,IAAMyI,EAAY8nB,GAAMxhB,OAAOrG,WAC3B,SAAC1U,GAAD,OAAUA,EAAKiM,OAASirB,EAAQjrB,QAE5BuxB,EAAQ,eAAOjB,IACrBiB,EAASziB,OAAOtG,GAAWhG,SAAWzC,EACtC7H,QAAQC,IAAI,WAAWo5B,GACvBhB,GAASgB,GAyF8GC,CAAyBj5B,EAAIe,GAAGvF,EAAKkK,EAAEC,OAAOtK,gBAGnH,QAlCJ,eAAC,IAAD,WAAY,+DAAZ,IAAoC,oBAAGV,MAAO,CAACpB,MAAM,UAAWgL,WAAW,KAAvC,UAA8CuM,EAA4B3M,aAAa,GAAG+E,aAA1F,IAAyG4H,EAA4B3M,aAAa,GAAG1J,WAwC7L,eAAC,IAAD,4CAA2BqW,EAA4BtQ,UAAUm4B,iBAAjE,kBAIP,OAjEG34B,EAAIe,OAoE5B,cAAC,IAAD,YAKR,eAAC,IAAD,WACJ,cAAC,IAAD,CACEtE,QAAS4H,EACTjH,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YAJR,sBAQA,cAAC,IAAD,CACE6D,QAAQ,YACRZ,KAAK,QACLjD,MAAM,UACNkD,QAAS,WAAK0C,EAAwCi5B,GAA+BR,IAAY14B,EAA8B04B,EAAWG,IAAO1zB,KAJnJ,qC,iCChQR,OAAe,cAA0B,qC,qhBCkb1B60B,IAlZGjgC,YAAW,CAC3BgnB,MAAO,CACL9W,SAAU,OAIK,SAAC,GAA4C,IAAD,EAAzC3F,EAAyC,EAAzCA,YAAa21B,EAA4B,EAA5BA,cAAeC,EAAa,EAAbA,OAC1C33B,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAC1BhB,EAAShF,EAAKgF,OACdwF,EAAWxM,cAEjB,EAA0CH,mBAAS,IAAnD,mBAEA,GAFA,UAE0BA,mBAAS,KAAnC,mBAAOqQ,EAAP,KAAcC,EAAd,KAEA1V,oBAAS,sBAAC,oCAAAoG,EAAA,mEAEFqL,IAAcC,EAFZ,gCAGcsH,IAAS+X,qBACzBtf,EACAC,EACAutB,EAAcp4B,IANZ,OAGEqS,EAHF,OASEimB,EAAgBjmB,EAAI7G,KACpBgG,EAVF,UAUYrS,KAAKC,MACnBg5B,EAAc5mB,QAAU4mB,EAAc5mB,QAAU,aAX9C,aAUY,EAEbxS,KAAI,SAACwW,GAAD,MAAa,CAClB+iB,iBAAkB/iB,EAAOtM,SACzBsvB,gBAAiBC,EAAmBjjB,EAAOxV,GAAIs4B,GAC/CvxB,QAAS2xB,EAAWljB,EAAOxV,GAAIs4B,GAC/BzxB,gBAAiB,GACjBnN,KAAM8b,EAAO9b,KACbyO,aAAcqN,EAAOrN,aACrBW,WAAY0M,EAAOlG,WACnBtP,GAAIwV,EAAOxV,GACX0G,KAAM8O,EAAO9O,KACbtF,SAAU,EACV6H,YAAauM,EAAOvM,YACpBC,SAAUsM,EAAOvM,YACb,EACA2I,KAAKC,IACH2D,EAAOtM,SACPuvB,EAAmBjjB,EAAOxV,GAAIs4B,QAIhCK,EAAW,CACfC,aAAc,CACZl/B,KAAM0+B,EAAc1+B,KACpBC,MAAOy+B,EAAcz+B,MACrBo4B,QAASqG,EAAcrG,QACvB8G,KAAMT,EAAcS,KACpBC,SAAUV,EAAcU,SACxBC,SAAUX,EAAcW,UAE1BvnB,QAASA,EACTpQ,SAAU,EACVqpB,YAAa,GACb9qB,aAAc4sB,IAAEyM,MACdxnB,GACA,SAACgE,GAAD,OAAYA,EAAOtM,SAAWsM,EAAO1M,cAEvCpO,OAAQ,QAGVmU,EAAS8pB,GAnDL,yDAsDN/5B,QAAQC,IAAR,MACAsF,YAAiB,QAAS,6DAvDpB,0DAyDP,IAEH,IAAMzG,EAAa,uCAAG,kCAAA6B,EAAA,6DAChB0R,EAAIC,IAAOC,MAAQ,IACnBC,EAAYF,IACbG,KAAKJ,GACLK,OAAO,sBAAuB,CAAEC,MAAM,IACrCE,EALgB,2BAMf7C,GANe,IAOlBxN,SAAUwN,EAAMxN,SAASuQ,WACzBxQ,YAAa,EACb6D,eAAgB,OAChB8M,cAAeV,EACfW,UAAW,GACXC,IAAK,IACLC,SAAU,IACVC,mBAAmB,EACnB0mB,aAAcz5B,KAAK5F,UAAUqV,EAAMgqB,gBAfjB,SAoBlBn2B,IApBkB,SAqBF0P,IAASC,SAASxH,EAAYlF,EAAOgB,KAAM+K,GArBzC,cAqBdY,EArBc,iBAsBiBF,IAASiY,qBAC1Cxf,EACAlF,EAAOgB,KACP0xB,EAAcp4B,GACd,CACEsS,WAAYD,EAAI7G,KAAKoD,MAAM0D,WAC3B2mB,SAAU5mB,EAAI7G,KAAKoD,MAAM5O,KA5BX,eA+BlBkL,EACE2P,IAAaa,iBAAb,yDAC4BrJ,EAAI7G,KAAKoD,MAAM0D,cAjC3B,kDAqClBpH,EAAS2P,IAAaC,aAAb,qDACTlc,QAAQC,IAAR,MAtCkB,0DAAH,qDAyCb45B,EAAqB,SAACS,EAAWZ,GACrC,IAAM3G,EAAU2G,EAAc5wB,MAC5B,SAACqB,GAAD,OAAeA,EAAU/I,KAAOk5B,KAE5BV,EAAe,OAAG7G,QAAH,IAAGA,OAAH,EAAGA,EAASlqB,mBAAmBC,MAClD,SAAC8wB,GAAD,OAAqBA,EAAgBzM,YAAcrmB,EAAO1F,MAE5D,cAAOw4B,QAAP,IAAOA,OAAP,EAAOA,EAAiB5wB,oBAGpB8wB,EAAa,SAACQ,EAAWZ,GAC7B,IAAM3G,EAAU2G,EAAc5wB,MAC5B,SAACqB,GAAD,OAAeA,EAAU/I,KAAOk5B,KAElC,cAAOvH,QAAP,IAAOA,OAAP,EAAOA,EAAS5qB,SA0DZoyB,EAAsB,SAAC3jB,EAAQ4jB,GACnC,cAAI5jB,QAAJ,IAAIA,OAAJ,EAAIA,EAAQvM,aAER,uCACE,gBAAC7M,EAAA,EAAD,yBAAmBoZ,EAAOtM,YAC1B,gBAACrE,EAAA,EAAD,CAAaxI,QAAQ,WAArB,UACE,eAACg9B,EAAA,EAAD,CAAYr5B,GAAG,cAAf,mBACA,eAACkY,EAAA,EAAD,CACEC,QAAQ,cACR6X,WAAS,EACTsJ,WAAY,IACZt+B,WAAS,EACTH,SAAU,SAAC8J,GAAD,OAnEI,SAACA,EAAGy0B,GAC5B,IAAMjyB,EAAQxC,EAAEC,OAAOtK,MACvB,IACEsU,EAAM4C,QAAQ4nB,GAAavyB,gBAAgBa,MACzC,SAACwC,GAAD,OAAmBA,EAAcJ,aAAe3C,EAAM2C,cAF1D,CAOA,IAAMujB,EAAkB,YAAOze,EAAM4C,QAAQ4nB,GAAavyB,iBAC1DwmB,EAAmBztB,KAAnB,2BAA6BuH,GAA7B,IAAoCH,oBAAqB,KACzD,IAAM2xB,EAAQ,eAAQ/pB,GACtB+pB,EAASnnB,QAAQ4nB,GAAavyB,gBAAkBwmB,EAChDxe,EAAS8pB,IAsDkBY,CAAkB50B,EAAGy0B,IALxC,SAOG5jB,EAAOzO,QAAQ/H,KAAI,SAACmI,GAAD,OAClB,eAACiR,EAAA,EAAD,CAAU9d,MAAO6M,EAAjB,mBACEA,EAAM2C,WADR,YAEI3C,EAAM4C,YAAc5C,EAAM4C,YAAc,GAF5C,aAGE5C,EAAM+B,WAHqB/B,EAAMgJ,cAQxCqF,EAAO3O,gBAAgB7H,KAAI,SAACmI,EAAOqyB,GAAR,OAC1B,uBACE5/B,MAAO,CACL2C,UAAW,EACX8L,aAAc,EACd3L,QAAS,OACTgN,cAAe,MACfxH,WAAY,SACZyH,IAAK,EACLhG,gBAAiB,QARrB,UAWE,eAACvH,EAAA,EAAD,oBAAgB+K,EAAM2C,YAAtB,OACE3C,EAAM4C,YAAc,IAAM5C,EAAM4C,YAAc,IAAM,MAEtD,eAAChR,EAAA,EAAD,CACEgJ,KAAK,SACLtG,KAAK,QACL7B,MAAO,CAAEC,MAAO,IAChBS,MAAO6M,EAAMH,oBACbnM,SAAU,SAAC8J,GAAD,OAlFU,SAACA,EAAGy0B,EAAaI,GACjD,IAAMl/B,EAAQoF,OAAOiF,EAAEC,OAAOtK,OAC9B,KACEA,EACEsU,EAAM4C,QAAQ4nB,GAAavyB,gBAAgB2yB,GACxCtwB,UACL5O,EAAQ,GAJV,CAQA,IAAMq+B,EAAQ,eAAQ/pB,GACtB+pB,EAASnnB,QAAQ4nB,GAAavyB,gBAC5B2yB,GACAxyB,oBAAsB1M,EACxBq+B,EAASnnB,QAAQ4nB,GAAalwB,SAAWqjB,IAAEyM,MACzCL,EAASnnB,QAAQ4nB,GAAavyB,gBAC9B,uBAEF8xB,EAASh5B,aAAe4sB,IAAEyM,MACxBL,EAASnnB,SACT,SAACgE,GAAD,OAAYA,EAAOtM,SAAWsM,EAAO1M,cAEvC+F,EAAS8pB,IA6DKc,CAA0B90B,EAAGy0B,EAAaI,MAG9C,eAACp9B,EAAA,EAAD,qBAAiB+K,EAAM+B,qBAO7B,eAACnQ,EAAA,EAAD,CACEgJ,KAAK,SACLtG,KAAK,QACL7B,MAAO,CAAEC,MAAO,IAChBS,MAAOsX,KAAKC,IAAI2D,EAAOtM,SAAUsM,EAAOgjB,iBACxC39B,SAAU,SAAC8J,GAAD,OAzEiB,SAACA,EAAGy0B,GACrC,IAAM9+B,EAAQoF,OAAOiF,EAAEC,OAAOtK,OAC9B,KAAIA,EAAQsU,EAAM4C,QAAQ4nB,GAAaZ,iBAAmBl+B,EAAQ,GAAlE,CAGA,IAAMq+B,EAAQ,eAAQ/pB,GACtB+pB,EAASnnB,QAAQ4nB,GAAalwB,SAAW5O,EACzCq+B,EAASh5B,aAAe4sB,IAAEyM,MACxBL,EAASnnB,SACT,SAACgE,GAAD,OAAYA,EAAOtM,SAAWsM,EAAO1M,cAEvC+F,EAAS8pB,IA8Dce,CAA2B/0B,EAAGy0B,OAUjDO,EAAiB,uCAAG,sBAAAp6B,EAAA,6DACxBkD,IADwB,kBAGJ0P,IAASkY,oBAAoBzf,EAAYC,EAAautB,EAAcp4B,IAHhE,cAItBkL,EAAS2P,IAAaa,iBAAiB,0DAJjB,gDAMtB9c,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,4DAPb,yDAAH,qDAWvB,OACE,gBAAC5E,GAAA,EAAD,CAAuB1X,KAAM65B,EAAQ51B,YAAaA,EAAaY,MAAM,8BAArE,UACE,eAACjH,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0B+7B,EAAcwB,sBACxC,gBAAC59B,EAAA,EAAD,CACEC,WAAS,EACTkG,QAAS,EACTvI,MAAO,CAAE4qB,SAAU,OAAQ3qB,MAAO,IAAK0C,UAAW,IAClDmN,cAAc,MACdxH,WAAW,SALb,UAOE,gBAAClG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAInG,WAAS,EAACkG,QAAS,EAAtC,UACE,eAACnG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,gBAACJ,EAAA,EAAD,CACEtF,QAAQ,OACRgN,cAAc,SACdvN,eAAe,WAHjB,UAKE,gBAACC,EAAA,EAAD,+BAAwBg8B,EAAc1+B,QACtC,gBAAC0C,EAAA,EAAD,iDAA4Bg8B,EAAcz+B,SAC1C,gBAACyC,EAAA,EAAD,sCAAsBg8B,EAAcrG,gBAGxC,eAAC/1B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,gBAACJ,EAAA,EAAD,CACEtF,QAAQ,OACRgN,cAAc,SACdvN,eAAe,WAHjB,UAKE,gBAACH,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,8BACA,eAAC,IAAD,CACE2D,GAAG,iBACHpG,MAAO,CAAEC,MAAO,IAChB4B,KAAK,QACLnB,MAAOsU,EAAMjP,aACb+E,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,eAGtC,gBAACpI,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,8BACA,eAAC,IAAD,CACE2D,GAAG,iBACHpG,MAAO,CAAEC,MAAO,IAChB4B,KAAK,QACLnB,MAAOsU,EAAMxN,SACbsD,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,UAClCvJ,SAAU,SAAC8J,GAAD,OACRkK,EAAS,2BAAKD,GAAN,IAAaxN,SAAU1B,OAAOiF,EAAEC,OAAOtK,gBAIrD,gBAAC0B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAA/C,UACE,eAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,4CACA,eAAC,IAAD,CACE2D,GAAG,iBACHpG,MAAO,CAAEC,MAAO,IAChB4B,KAAK,QACLnB,MAAOsU,EAAMjP,aAAeiP,EAAMxN,SAClCsD,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,uBAM5C,eAACqR,EAAA,EAAD,CAAgB3Q,UAAW6b,IAA3B,SACE,gBAAChL,EAAA,EAAD,CAAO,aAAW,eAAlB,UACE,eAACkkB,EAAA,EAAD,UACE,gBAAChyB,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,gBACA,eAACA,EAAA,EAAD,CAAWC,MAAM,QAAjB,gCACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,8BACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,0BACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,2BACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,uBACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,gCACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,qCAGJ,eAAC0M,EAAA,EAAD,oBACGhG,EAAM4C,eADT,aACG,EAAexS,KAAI,SAACwW,EAAQ4jB,GAAT,OAClB,gBAACvxB,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,CAAWnD,UAAU,KAAKg1B,MAAM,MAAhC,SACGtkB,EAAOrN,eAEV,eAACF,EAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BsN,EAAO9b,OACjC,eAACuO,EAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BsN,EAAO+iB,mBACjC,eAACtwB,EAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BsN,EAAOgjB,kBACjC,eAACvwB,EAAA,EAAD,CAAWC,MAAM,QAAjB,SAA0BsN,EAAO1M,aACjC,eAACb,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACGixB,EAAoB3jB,EAAQ4jB,KAE/B,gBAACnxB,EAAA,EAAD,CAAWC,MAAM,QAAjB,UACE,eAAC,IAAD,CAAW5N,MAAOkb,EAAOtM,SAAWsM,EAAO1M,aAAe,OAE5D,eAACb,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACGsN,EAAOtM,SAAWsM,EAAO+iB,iBACxB,eAACn8B,EAAA,EAAD,CAAYxC,MAAO,CAAEpB,MAAO,OAA5B,mCAEA,eAAC4D,EAAA,EAAD,CAAYxC,MAAO,CAAEpB,MAAO,SAA5B,8BAlBSgd,EAAOrN,wBA0B9B,eAACnM,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACE,gBAACJ,EAAA,EAAD,CAAKtF,QAAQ,OAAOgN,cAAc,MAAMvN,eAAe,WAAvD,UACE,eAACmJ,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YACNkD,QAASi+B,EAJX,sBAQA,eAACr0B,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrB3K,MAAM,UACNkD,QAASgC,EACT6H,SAzIS,WAAO,IAAD,EACzB,iBAAOqJ,EAAM4C,eAAb,aAAO,EAAeZ,OAAM,SAAC4E,GAAD,OAAgC,IAApBA,EAAOtM,YAwI3B6wB,GANZ,2CCzYN9hC,GAAYC,aAAW,SAACC,GAAD,OAC7BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAY,CACVf,SAAU,YAEZo+B,KAAK,CACH3xB,aAAa,IAEf6kB,KAAM,CACJ5oB,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAkB,KAAMjC,IAAK,KAC7DvD,aAAaH,EAAMM,cAAcH,aACjCE,MAAO,UACPyhC,YAAY,GAEd31B,WAAW,CACTA,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAkB3F,EAAMM,cAAcC,aAAa,IAAKmD,IAAK,MAE/FmxB,YAAa,CACX1xB,SAAU,WACVssB,MAAOzvB,EAAMgK,QAAQ,GACrByd,IAAKznB,EAAMgK,QAAQ,GACnB3J,MAAOL,EAAM0mB,QAAQhjB,KAAK,MAE5B4jB,eAAgB,CACdpB,OAAQ,EACRqB,KAAM,gBACNxc,OAAQ,EACRhI,QAAS,EACTykB,SAAU,SACV7iB,QAAS,EACTxB,SAAU,WACVskB,IAAK,GACL/lB,MAAO,QAuZIqgC,IA5YgB,SAAClhC,GAAW,IAAD,IANlB0B,EAOpB,EAA8B1B,EAAMwgB,YAA7B3T,EAAP,EAAOA,IAAI2S,EAAX,EAAWA,QAAS8B,EAApB,EAAoBA,OAGpB,GAFgBthB,EAAMwgB,YAAfmK,OAEyCplB,oBAAS,IAAzD,mBAAO47B,EAAP,KAAyBC,EAAzB,KAMMjiC,EAAQc,cACRC,EAAUjB,GAAUE,GAEpBuI,GADWwM,YAAc/U,EAAMgV,YAAYC,KAAK,OACzCzM,aAAY,SAACC,GAAD,OAAWA,EAAMF,SACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAGhC,GAFehG,EAAKgF,OAEYpH,IAAMC,SAAS,OAA/C,mBAAO+B,EAAP,KAAiBC,EAAjB,KAUA,EAAwBjC,IAAMC,UAAS,GAAvC,mBAAOC,GAAP,KAAaC,GAAb,KAMMktB,GAAoB,WACxBltB,IAAQ,IAGJyM,GAAWxM,cAEX27B,GAAa,uCAAG,8BAAA96B,EAAA,6DAChB0R,EAAIC,IAAOC,MAAQ,IACnBY,EAAYb,IACbG,KAAKJ,GACLK,OAAO,sBAAuB,CAAEC,MAAM,IAJrB,kBAOAY,IAASmY,qBAAqB1f,EAAYC,EAAahF,EAAI7F,GAAK,CAAC+R,UAAWA,IAP5E,cAQlBuI,IACApP,GAAS2P,IAAaa,iBAAiB,mCATrB,kDAWlB9c,QAAQC,IAAR,MACAqM,GAAS2P,IAAaC,aAAa,qCAZjB,0DAAH,qDAenB,OAEE,cADA,CACCwf,EAAA,EAAD,CAAUC,GAAI/hB,IAAY3S,EAAI7F,GAAIw6B,QAAQ,OAAOC,eAAa,EAA9D,SACE,gBAACz4B,EAAA,EAAD,CAAK9G,OAAQ,EAAb,UACE,eAACkB,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,gBAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,gBAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,gBAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iDAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAI+zB,oBAAqB,YAIhC,gBAAC59B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCACW,SAGb,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAEGe,EAAI2X,kBAFP,aAEG,EAAgBzE,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAI2X,kBAApB,aAAgB,EAAgBzE,MAAM,KAAK,GAAGG,OAAO,EAAG,YAInI,gBAACld,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,+BAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAInM,KAAM,YAIjB,gBAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iDAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIlM,MAAO,eAKpB,gBAACqC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,gBAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAtIMpK,EAuIUmL,EAAInL,OAtItB,QAAXA,EAA0B,+BACjB,cAATA,EAA8B,sBACrB,cAATA,EAA8B,gBACrB,SAATA,EAAyB,wBAA5B,UAuIY,gBAACsB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCACc,SAGhB,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,eAAC,IAAD,CAAWxK,MAAOuL,EAAIlG,sBAI5B,gBAAC3D,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,mCACU,SAGZ,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIksB,QADP,KACsBlsB,EAAIgzB,KAD1B,SACuChzB,EAAIkzB,SAD3C,KAC2DlzB,EAAI60B,mBAevE,eAACt+B,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVlL,MAAO,CAAE2C,UAAW,IAJtB,6CAQA,gBAACoZ,EAAA,EAAD,CAAOla,KAAK,QAAQ,aAAW,YAA/B,UACE,eAACo+B,EAAA,EAAD,UACE,gBAAChyB,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,gBACA,eAACA,EAAA,EAAD,iCACA,eAACA,EAAA,EAAD,CAAWC,MAAM,QAAjB,qCACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,2BACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,qCAKJ,eAAC0M,EAAA,EAAD,UACGzV,KAAKC,MAAMyG,EAAI2L,QAAU3L,EAAI2L,QAAU,MAAMxS,KAC5C,SAAC27B,GAAD,OACE,gBAAC9yB,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,CAAWnD,UAAU,KAAKg1B,MAAM,MAAhC,SACGa,EAAWxyB,eAEd,eAACF,EAAA,EAAD,UAAY0yB,EAAWjhC,OACvB,eAACuO,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACE,eAAC,IAAD,CAAgB5N,MAAOqgC,EAAWzxB,aAEpC,eAACjB,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACE,eAAC,IAAD,CAAW5N,MAAOqgC,EAAWrrB,eAE/B,eAACrH,EAAA,EAAD,CAAWC,MAAM,QAAQtO,MAAO,CAAE4J,WAAY,KAA9C,SACE,eAAC,IAAD,CACElJ,MAAOqgC,EAAWzxB,SAAWyxB,EAAWrrB,iBAb/BqrB,EAAWhO,oBAuBlC,eAAC3qB,EAAA,EAAD,CACEa,UAAW3J,EAAQoL,WACnB1K,MAAO,CACLkD,QAAS,GACTxE,aAAcH,EAAMM,cAAcH,aAClCiE,UAAW,IALf,SAQE,gBAACP,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAA1B,UASE,gBAACF,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kDAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,eAAChG,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,eAAC,IAAD,CACExK,MACE6E,KAAKC,MAAMyG,EAAI2L,QAAU3L,EAAI2L,QAAU,MAAM1S,gBAOvD,gBAAC9C,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,gBAAChG,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACE,eAAC,IAAD,CAAWxK,MAAOuL,EAAIlG,eAAiB,YAK7C,gBAAC3D,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gCAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,gBAAChG,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACE,eAAC,IAAD,CAAWxK,MAAOuL,EAAIzE,WAAa,YAKzC,gBAACpF,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4BAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,gBAAChG,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACE,eAAC,IAAD,CAAWxK,MAAOuL,EAAIlG,aAAekG,EAAIzE,WAAa,iBAyBhE,gBAACpF,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAgB,WAChBvC,MAAO,CAAE2C,UAAW,IAJtB,UA3Sc,aAkTKsJ,EAAI+0B,SACnB,uCACG,IACD,eAACt1B,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IAHvB,sBAOA,eAACmC,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IAHvB,oBAMU,OAEV,KAEJ,eAACmC,EAAA,EAAD,CAAQC,SAAyB,QAAfM,EAAInL,OAAkB2B,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMzH,QAAS,kBAAM0+B,GAAoB,IAAvI,uDAIA,eAAC90B,EAAA,EAAD,CAAQC,SAAyB,cAAfM,EAAInL,OAAwB2B,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMzH,QAAS2+B,GAAnH,2BAIA,eAAC7+B,EAAA,EAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdE,QAtUU,SAACvB,GACnBoG,EAAYpG,EAAM+J,gBAsUVzI,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IANvB,SAQE,eAAC,IAAD,MAGF,gBAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QA9UU,WAClB/C,EAAY,OAwUN,UAOE,gBAAC,IAAD,WACE,eAACu6B,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,eAAC,IAAD,CAAkBiD,SAAS,YAE7B,eAACm/B,EAAA,EAAD,CAAcjc,QAAQ,sCAGxB,gBAAC,IAAD,WACE,eAACgc,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,eAAC,IAAD,CAAmBiD,SAAS,YAE9B,eAACm/B,EAAA,EAAD,CAAcjc,QAAQ,6BAK3Bqb,GAAoB,eAAC,GAAD,CAAY/B,cAAevyB,EAAKpD,YAAa,WAAO23B,GAAoB,GAAQ9f,KAAW+d,OAAQ8B,IAExH,eAACa,EAAA,EAAD,CACEhgC,WAAW,EACXwpB,SAAS,KACThmB,KAAMA,GACN8E,QAASqoB,GACT,kBAAgB,oBALlB,SAOE,eAACF,EAAA,EAAD,CACEE,kBAAmBA,GACnB9lB,IAAKA,EACL3M,QAASA,a,8QCxbjBjB,EAAYC,aAAW,SAACC,GAAD,OAC7BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAY,CACVf,SAAU,YAEZo+B,KAAK,CACH3xB,aAAa,IAEfyf,OAAQ,CACNtkB,WAAY,IACZhL,MAAO,OACPoD,SAAU,IAEZq/B,IAAI,CACFv+B,QAAS,OACTwF,WAAY,SACZgB,OAAQ,GACRhI,OAAQ,EACRggC,WAAY,GACZv3B,gBAAiB,UACjB0a,OAAQ,oBACR/lB,aAAc,EACd6iC,UAAW,aACXr+B,QAAS,eACTs+B,QAAS,GAGXC,KAAK,CACH1b,SAAU,SACV2b,aAAc,WACdC,WAAY,eA6VDC,IAxUQ,SAACxiC,GAAW,IAAD,oBAC9B,EAAsBA,EAAMwgB,YAArB3T,EAAP,EAAOA,IAAI2S,EAAX,EAAWA,QACgB6K,GAAkCrqB,EAAtDqG,oBAAsDrG,EAAlCqqB,oBAAmBthB,EAAe/I,EAAf+I,KAAK4hB,EAAU3qB,EAAV2qB,OAE7C8X,EAAeziC,EAAMqG,oBAC3BT,QAAQC,IAAI,cAAc7F,EAAMqG,qBAOhC,IAAMS,EAAa+F,EAAI/F,YACjBC,EAAe8F,EAAI9F,aAQnB5H,EAAQc,cACRC,EAAUjB,EAAUE,GAE1B,EAAgCmG,IAAMC,SAAS,MAA/C,mBAAO+B,EAAP,KAAiBC,EAAjB,KAMaI,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAChBI,MAAM4F,KAY9B,OACI,cAAC,IAAD,CAAU6zB,KAAK5W,GAAenL,IAAY3S,EAAI7F,GAAKw6B,QAAQ,OAAOC,eAAa,EAA/E,SACK,eAAC,IAAD,CAAKv/B,OAAQ,EAAb,UACG,cAAC,IAAD,CAAYmB,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAMjC,UAAW3J,EAAQ8gC,KAAzE,SACEn0B,EAAInM,OAGR,eAAC,IAAD,CAAOuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAAhD,UACI,eAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACI,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,yCAEF,cAAC,IAAD,CAAMrK,MAAI,EAAV,SACE,eAAC,IAAD,CAAY4B,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAI61B,eAA9D,YAGJ,eAAC,IAAD,CAAMz/B,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,0CAEF,cAAC,IAAD,CAAMrK,MAAI,EAAV,SACE,eAAC,IAAD,CAAY4B,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAInM,KAA9D,YAGJ,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iCAEF,cAAC,IAAD,CAAMrK,MAAI,EAAV,SACE,cAAC,IAAD,CAAY4B,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAA0D/C,YAOtE,eAAC,IAAD,CAAMtH,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACI,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAEF,cAAC,IAAD,CAAMrK,MAAI,EAAV,SACE,cAAC,IAAD,CAAY4B,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAAwE,WAAde,EAAInL,QAjDlE,SAACihC,EAAUC,GAC3B,IAAMhpB,EAAY,IAAIvQ,KAEtB,QAAQs5B,GAAY,IAAIt5B,KAAKs5B,IAAa/oB,MAAqBgpB,GAAShpB,GAAW,IAAIvQ,KAAKu5B,IA8CYC,CAASh2B,EAAIi2B,WAAWj2B,EAAIk2B,UAAW,2BAAc,4CAG/I,eAAC,IAAD,CAAM9/B,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UAEI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8BAEF,cAAC,IAAD,CAAMrK,MAAI,EAAV,SACE,eAAC,IAAD,CAAY4B,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAIi2B,WAAJ,4BAAuBj2B,EAAIi2B,kBAA3B,aAAuB,EAAgB/iB,MAAM,KAAKC,UAAUC,KAAK,MAAS,KAApI,KAA4IpT,EAAIk2B,SAAJ,qCAAyBl2B,EAAIk2B,gBAA7B,aAAyB,EAAchjB,MAAM,KAAKC,UAAUC,KAAK,MAAQ,wCAKnL,KAAvC,UAAAoK,EAAmB2Y,eAAnB,eAA4Bl9B,QAC3B,eAAC,IAAD,CAAM7C,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BAEF,cAAC,IAAD,CAAMrK,MAAI,EAAV,SACE,cAAC,IAAD,CAAY4B,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAA0Due,EAAmB2Y,eAA7E,aAA0D,EAA4BrqB,kBAElF,KAE8B,KAAvC,UAAA0R,EAAmB2Y,eAAnB,eAA4Bl9B,QAC3B,eAAC,IAAD,CAAM7C,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4BAEF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAA0Due,EAAmB4Y,aAA7E,aAA0D,EAA0BtqB,kBAEhF,KAE8B,KAAvC,UAAA0R,EAAmB2Y,eAAnB,eAA4Bl9B,QAC3B,eAAC,IAAD,CAAM7C,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BAEF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAA0Due,EAAmB6Y,cAA7E,aAA0D,EAA2BvqB,kBAEjF,KAE8B,KAAvC,UAAA0R,EAAmB2Y,eAAnB,eAA4Bl9B,QAC3B,eAAC,IAAD,CAAM7C,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BAEF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAA0Due,EAAmB8Y,cAA7E,aAA0D,EAA2BxqB,kBAEjF,KAET9L,EAAIu2B,eACH,cAAC,IAAD,CAAYxiC,MAAO,CAAC4J,WAAW,IAAKhL,MAAM,OAA1C,0FAAgH,WAU7H,qBAAKoB,MAAO,CAAC+J,gBAAgBxL,EAAMM,cAAcC,aAAa,IAAKwK,OAAO,GAAI3G,UAAU,GAAGmM,WAAW,GAAI3L,YAAY,GAAIoG,WAAW,GAAIxK,YAAY,IAArJ,SACC,eAAC,IAAD,CAAOsD,WAAS,EAACC,UAAU,MAAMC,eAAe,GAAhD,UAEoB,YAAf2D,EACD,cAAC,IAAD,CAAMrF,MAAI,EAACb,MAAO,CAACC,MAAM,IAAKlB,YAAY,IAA1C,SACE,cAAC,IAAD,CAAYkK,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAAjD,2CACM,KAEQ,YAAfhoB,GAA4C,aAAhBC,GAA4C,mBAAdA,EAC3D,qCACA,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAACC,MAAM,GAAIlB,YAAY,IAAzC,SACI,cAAC,IAAD,CAAYkK,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,sBAEJ,cAAC,IAAD,CAAM3J,MAAI,EAACb,MAAO,CAAEjB,YAAY,KAAhC,SACI,cAAC,IAAD,CAAYkK,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,yCAEC,KAEc,oBAAhBrE,EACC,cAAC,IAAD,CAAMtF,MAAI,EAAV,SACA,cAAC,IAAD,CAAYoI,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,kDACM,KAEP,CAAC,WAAW,eAAeiV,SAAStZ,GACnC,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAACC,MAAM,GAAIlB,YAAY,IAAzC,SACA,cAAC,IAAD,CAAYkK,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,4BACI,KAEW,aAAhBrE,EACG,cAAC,IAAD,CAAMtF,MAAI,EAAV,SACI,cAAC,IAAD,CAAYoI,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,4CACK,KAEG,gBAAhBrE,EACI,cAAC,IAAD,CAAMtF,MAAI,EAAV,SACI,cAAC,IAAD,CAAYoI,UAAW+V,YAAK1f,EAAQqd,KAAKrd,EAAQ4uB,QAASluB,MAAO,CAACwK,UAAW,UAA7E,uBACK,UA9IhB,OAmJFq3B,QAnJE,IAmJFA,OAnJE,EAmJFA,EAAaz8B,KAAI,SAACq9B,EAAaj2B,GAC5B,OACI,qCACA,qBAAKxM,MAAO,CAACmD,YAAY,GAAIoG,WAAW,GAAIxK,YAAY,IAAxD,SACA,eAAC,IAAD,CAAMsD,WAAS,EAACC,UAAU,MAAMC,eAAe,GAA/C,UAEoB,YAAf2D,EACD,eAAC,IAAD,CAAMrF,MAAI,EAAEwB,WAAS,EAACC,UAAU,MAAMgG,WAAW,SAAStI,MAAO,CAACC,MAAM,IAAIlB,YAAY,GAAIuK,OAAO,IAAnG,UACI,eAAC,IAAD,CAAMzI,MAAI,EAAV,cAAY,cAAC,IAAD,CAAYb,MAAO,CAACjB,YAAY,GAAIH,MAAM,OAAQoD,SAAS,IAA3D,uBAAZ,OACA,eAAC,IAAD,CAAMnB,MAAI,EAAV,cAAY,cAAC,IAAD,CAAWb,MAAO,CAACjB,YAAY,GAAIH,MAAM,OAAQoD,SAAS,IAAKtB,MAAQ+hC,EAAY58B,UAAnF,eAAZ,UACI,KAEQ,YAAfK,GAA4C,aAAhBC,GAA8C,oBAAhBA,EAC3D,qCACA,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAACC,MAAM,GAAGqJ,OAAO,GAAI3G,UAAU,IAAjD,SACI,eAAC,IAAD,CAAY3C,MAAO,CAACjB,YAAY,GAAIH,MAAM,OAAQoD,SAAS,IAA3D,cAAkEygC,EAAYC,cAA9E,SAEJ,cAAC,IAAD,CAAM7hC,MAAI,EAACb,MAAO,CAAE2C,UAAU,EAAG1C,MAAM,KAAvC,SACM,qBAAKD,MAAO,CAACC,MAAM,IAAI6C,QAAS,OAAO6/B,SAAU,QAAjD,SACIF,EAAYG,YAAYx9B,KAAI,SAACi8B,GAC3B,OACI,qBAAKp4B,UAAW3J,EAAQ+hC,IAAxB,SACE,uBAAMp4B,UAAW3J,EAAQmiC,KAAzB,UAAgCJ,EAAI9yB,aAApC,MAAqD8yB,EAAIvhC,KAAzD,mBAQjB,KAEiB,oBAAhBqG,EACA,mCACE,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAACC,MAAM,GAAGlB,YAAY,GAAIuK,OAAO,GAAI3G,UAAU,IAAjE,SACE,eAAC,IAAD,CAAY3C,MAAO,CAACpB,MAAM,OAAQgL,WAAW,IAAI5H,SAAS,IAA1D,cAAkG,UAAjCygC,EAAYI,iBAA+B,iBAAa,mBAAzH,aAGH,KAGc,oBAAhB18B,GAAsD,oBAAhBA,EACvC,cAAC,IAAD,CAAMtF,MAAI,EAAV,SACE,eAAC,IAAD,CAAMA,MAAI,EAAEwB,WAAS,EAACC,UAAU,MAAMgG,WAAW,SAAStI,MAAO,CAACsJ,OAAO,IAAzE,UACE,eAAC,IAAD,CAAMzI,MAAI,EAAV,cAAY,cAAC,IAAD,CAAgBb,MAAO,CAACpB,MAAM,OAAQoD,SAAS,GAAIjD,YAAY,GAAI2B,MAAO+hC,EAAY34B,cAAtF,gBAAZ,OACA,eAAC,IAAD,CAAMjJ,MAAI,EAAV,cAAY,eAAC,IAAD,CAAYb,MAAO,CAACpB,MAAM,OAAQoD,SAAS,IAA3C,gBAAoDygC,EAAYt6B,KAAhE,QAAZ,YAGH,KAGF,CAAC,WAAW,eAAesX,SAAStZ,GACrC,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAACC,MAAM,GAAGlB,YAAY,GAAIuK,OAAO,EAAG3G,UAAU,IAAhE,SACI,eAAC,IAAD,CAAY3C,MAAO,CAACpB,MAAM,OAAQoD,SAAS,IAA3C,UAAiDygC,EAAY1E,eAA7D,UACI,KAES,aAAhB53B,EACK,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAAE2C,UAAU,GAA9B,SACI,qBAAK3C,MAAO,CAACC,MAAM,IAAI6C,QAAS,OAAO6/B,SAAU,QAAjD,SACEF,EAAYj5B,aAAapE,KAAI,SAACi8B,GAC5B,OACI,qBAAKp4B,UAAW3J,EAAQ+hC,IAAxB,SACE,uBAAMp4B,UAAW3J,EAAQmiC,KAAzB,UAAgCJ,EAAI9yB,aAApC,MAAqD8yB,EAAIvhC,KAAzD,iBAKJ,KAEC,gBAAhBqG,EAEK,cAAC,IAAD,CAAMtF,MAAI,EAACb,MAAO,CAAE2C,UAAU,IAA9B,SACE,qBAAK3C,MAAO,CAACC,MAAM,IAAI6C,QAAS,OAAO6/B,SAAU,QAAjD,SACIF,EAAYj5B,aAAapE,KAAI,SAACi8B,GAC5B,OACI,qBAAKp4B,UAAW3J,EAAQ+hC,IAAxB,SACE,sBAAMp4B,UAAW3J,EAAQmiC,KAAzB,SAAgCJ,EAAIvhC,gBAKzC,UAOnB,cAAC,IAAD,CAASR,QAAS,CAACJ,KAAMI,EAAQ6uB,SAAUnuB,MAAO,CAACuJ,WAAW,GAAIxK,YAAY,YAQhF,eAAC,IAAD,CAAMsD,WAAS,EAACC,UAAU,MAAMC,eAAe,WAAWvC,MAAO,CAAC2C,UAAU,IAA5E,UACY,cAAC,IAAD,CAAQF,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAACuJ,WAAW,IAA5D,sBACA,cAAC,IAAD,CAAQ9G,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAACuJ,WAAW,IAA5D,oBAEA,cAAC,IAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdzH,QA9QJ,SAACvB,GACnBoG,EAAYpG,EAAM+J,gBA8QIzI,KAAK,QACL7B,MAAO,CAACuJ,WAAW,IANrB,SASE,cAAC,IAAD,MAGF,cAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QApRJ,WAClB/C,EAAY,OA8QQ,SAOE,eAAC,IAAD,WACE,cAAC,IAAD,CAAc3G,MAAO,CAACjB,aAAa,IAAnC,SACE,cAAC,IAAD,CAAyBiD,SAAS,YAEpC,cAAC,IAAD,CAAckjB,QAAQ,uD,4SC9W9C7mB,EAAYC,aAAW,SAACC,GAAD,OAAWC,YAAa,CACnDU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,IAEhB/D,WAAY,CACVA,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAmB3F,EAAMM,cAAcC,aAAa,IAAMmD,IAAK,WAiWpF4hB,IA5Vf,SAA6BzkB,GAAQ,IAAD,cAClC,EAAyBA,EAAMwgB,YAAvB3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QACLmL,EAAW3qB,EAAX2qB,OAKFxrB,EAAQc,cACRC,EAAUjB,EAAUE,GAK1B,GAHiB+U,YAAc/U,EAAMgV,YAAYC,KAAK,OAGtB9O,IAAMC,SAAS,OAA/C,mBAWMqM,GAXN,UAUajK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,MAE9B,EAA4BpI,IAAMC,SAAS,CACzCmH,OAAQ,KACR8L,QAAS,KAFX,mBAAOkrB,EAAP,KAAeC,EAAf,KAKAr+B,IAAMnF,WAAU,WACd,IAAMohB,EAAQ,uCAAG,4BAAAhb,EAAA,+EAEKqe,IAAUkV,UAAUloB,EAAY/E,EAAIa,MAFzC,OAEP2L,EAFO,OAGbsqB,EAAUtqB,EAAI7G,MAHD,gDAKbmxB,EAAU,CACRj3B,OAAQ,KACR8L,QAAS,KAPE,yDAAH,qDAWVgH,IAAY3S,EAAIa,MAClB6T,MAIF,CAACvhB,EAAMwgB,YAAYhB,UAKrB,IAAMhG,EAAeC,mBAOrB,OANoBC,0BAAgB,CAChCC,QAAS,kBAAMH,EAAaI,WAGhChU,QAAQC,IAAI,SAAS69B,GAGnB,eAAC,IAAD,CAAUnC,KAAI5W,GAAYnL,IAAY3S,EAAIa,KAAM8zB,QAAQ,OAAOC,eAAa,EAA5E,UACE,eAAC,IAAD,CAAKv/B,OAAQ,EAAb,UACE,cAAC,IAAD,CAAYmB,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAMjC,UAAW3J,EAAQ8gC,KAAzE,SACGn0B,EAAInM,OAGP,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAEF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAI0X,YACJ,YAIP,eAAC,IAAD,CAAMthB,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAE6Q,GAAI,EAArB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,0CAEF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAA0D43B,EAAO9tB,aAAjE,aAA0D,EAAc0D,kBAG5E,eAAC,IAAD,CAAMrW,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iCAEF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAGGe,EAAI2X,kBAHP,aAGG,EAAgBzE,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAI2X,kBAApB,aAAgB,EAAgBzE,MAAM,KAAK,GAAGG,OAAO,EAAG,YAKnI,eAAC,IAAD,CAAMjd,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAE6Q,GAAI,EAArB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gCAEF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,oBACG43B,EAAOhxB,gBADV,aACG,EAAiBhS,KACjB,YAIP,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,mDAEF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,oBACG43B,EAAOnU,uBADV,aACG,EAAwB7uB,KACxB,eAMT,eAAC,IAAD,CAAMe,MAAI,EAAC2H,GAAI,GAAG6Q,GAAI,EAAtB,UASE,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4CAEF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAAyD,cAAC,IAAD,CAAWxK,MAAOuL,EAAIlG,sBAGnF,eAAC,IAAD,CAAM1D,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gDAEF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,oBACG43B,EAAOh3B,cADV,aACG,EAAehM,KACf,YAIP,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAEF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACwB,SAAvBe,EAAIb,eAA4B,qBAAa,WAAO,IAClD,kBASX,cAAC,IAAD,CAAY3I,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAMlL,MAAO,CAAE2C,UAAW,IAA1E,6CAGA,eAAC,IAAD,CAAOd,KAAK,QAAQ,aAAW,YAA/B,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,oBACA,cAAC,IAAD,iCAEA,cAAC,IAAD,CAAWyM,MAAM,QAAjB,qCACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,6BACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,qCAIJ,cAAC,IAAD,UAEGw0B,EAAOlrB,QAAQxS,KAAI,SAACwW,GAAD,OAClB,eAAC,IAAD,WACE,cAAC,IAAD,CAAW1Q,UAAU,KAAKg1B,MAAM,MAAhC,SACGtkB,EAAOrN,eAGV,cAAC,IAAD,UAAYqN,EAAO9b,OAInB,eAAC,IAAD,CAAWwO,MAAM,QAAjB,UACE,cAAC,IAAD,CAAgB5N,MAAOkb,EAAOtM,WAC9B,8BACKsM,EAAOzO,QACJ5H,KAAKC,MAAMoW,EAAOzO,SAAS/H,KAAI,SAACmI,GAAD,OAC7B,cAAC,IAAD,CACE1L,KAAK,QACL4J,MAAK,WACE,OAAL8B,QAAK,IAALA,OAAA,EAAAA,EAAO2C,YAAP,OAAoB3C,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAAa,WADrC,aAGE,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OACI5C,QADJ,IACIA,OADJ,EACIA,EAAO4C,YAAYuZ,UAAU,EAAG,IAChC,GALD,eAMEnc,EAAMud,mBAEblsB,MAAO2O,EAAMgD,OAAS,UAAY,YAClC9N,QAAQ,YAFH8K,EAAMnH,OAKf,UAGV,cAAC,IAAD,CAAWkI,MAAM,QAAjB,SACA,cAAC,IAAD,CAAW5N,MAAOkb,EAAO1M,eAGzB,cAAC,IAAD,CAAWZ,MAAM,QAAQtO,MAAO,CAAE4J,WAAY,KAA9C,SACA,cAAC,IAAD,CAAWlJ,MAAOkb,EAAOtM,SAAWsM,EAAO1M,iBApC9B0M,EAAOrN,sBA2C5B,cAAC,IAAD,CAAKtF,UAAW3J,EAAQoL,WAAY1K,MAAO,CAAEkD,QAAS,GAAIxE,aAAcH,EAAMM,cAAcH,aAAciE,UAAW,IAArH,SACE,eAAC,IAAD,CAAMN,WAAS,EAACC,UAAU,SAA1B,UAEE,eAAC,IAAD,CAAMD,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAAyE43B,EAAOlrB,eAAhF,aAAyE,EAAgB1S,OAAzF,SAEF,cAAC,IAAD,CAAMrE,MAAI,EAAC2H,GAAI,EAAE6Q,GAAI,EAArB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAAyD,cAAC,IAAD,CACvDxK,MAAOiH,YAAuBm7B,EAAOlrB,kBAK3C,eAAC,IAAD,CAAMvV,WAAS,EAACC,UAAU,MAAMC,eAAiB,WAAjD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4CAEF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAE6Q,GAAI,EAArB,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAOlL,MAAO,CAAC4J,WAAW,IAAKhL,MAAML,EAAMM,cAAcC,aAAa,MAAzH,UACA,cAAC,IAAD,CAAW4B,MAAOuL,EAAIlG,eACnB,iBAkCX,cAAC,IAAD,CAAM1D,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAWvC,MAAO,CAAE2C,UAAW,SAoD9E,qBAAK3C,MAAO,CAAE8C,QAAS,QAAvB,SACD,qBAAKoZ,IAAKtD,EAAV,SACE,cAAC,IAAD,CAAgB5J,KAAM8zB,EAAQjgB,KAAM5W,EAAI2X,sB,4XC7U5CvlB,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,IAEhB6kB,KAAM,CACJ5oB,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAmB,KAAOjC,IAAK,KAC/DvD,aAAcH,EAAMM,cAAcH,aAClCE,MAAO,UACPyhC,YAAa,GAEf31B,WAAY,CACVA,WAC+B,UAA7BnM,EAAMM,cAAcqF,KAChB3F,EAAMM,cAAcC,aAAa,IACjCmD,IAAK,MAEbmxB,YAAa,CACX1xB,SAAU,WACVssB,MAAOzvB,EAAMgK,QAAQ,GACrByd,IAAKznB,EAAMgK,QAAQ,GACnB3J,MAAOL,EAAM0mB,QAAQhjB,KAAK,MAE5B4jB,eAAgB,CACdpB,OAAQ,EACRqB,KAAM,gBACNxc,OAAQ,EACRhI,QAAS,EACTykB,SAAU,SACV7iB,QAAS,EACTxB,SAAU,WACVskB,IAAK,GACL/lB,MAAO,QA8lBE+iC,IAzlBc,SAAC5jC,GAAW,IAAD,IACtC,EAAmCA,EAAMwgB,YAAjC3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QACLmL,GADR,EAAsBjhB,SACH1J,EAAX2qB,QAIFjjB,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAC1BwE,EAAWxM,cAEXvG,EAAQc,cACRC,EAAUjB,EAAUE,GAG1B,GAFiB+U,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtB9O,IAAMC,SAAS,OAA/C,mBAUA,GAVA,UAUwBD,IAAMC,UAAS,IAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAMMktB,EAAoB,WACxBltB,GAAQ,IAcV,EAA0CF,mBAAS,CACjDmH,OAAQ,KACR8L,QAAS,KAFX,oBAAOka,GAAP,MAAsBmR,GAAtB,MAKA,GAA4Bt+B,oBAAS,GAArC,qBAAO+b,GAAP,MAAexH,GAAf,MAEA3Z,qBAAU,WACR,IAAMohB,EAAQ,uCAAG,4BAAAhb,EAAA,+EAEK8yB,IAAiBE,iBACjC3nB,EACA/E,EAAIa,MAJO,OAEP2L,EAFO,OAMbwqB,GAAiBxqB,EAAI7G,MANR,gDAQbqxB,GAAiB,CACfn3B,OAAQ,KACR8L,QAAS,KAVE,yDAAH,qDAcVgH,IAAY3S,EAAIa,MAClB6T,MAED,CAACvhB,EAAMwgB,YAAYhB,QAAS8B,KAE/B,IAAMuY,GAAY,uCAAG,WAAOrd,GAAP,SAAAjW,EAAA,0DAChBqL,IAAcC,EADE,0CAGQwnB,IAAiBQ,aAAajoB,EAAYC,EAA1C,2BAA2D2K,GAA3D,IAAmEsnB,oBAAqB,EAAGC,cAAeC,iBAHlH,cAIfhkC,EAAMwgB,YAAY9W,WAClBoQ,IAAWwH,IACXO,IAAaa,iBAAiB,8BANf,kDAQfb,IAAaC,aAAa,gCARX,0DAAH,sDAalB3hB,qBAAU,cAAU,CAACuyB,KACrB,IAAMuR,GACJv9B,OAAOmG,EAAIlG,cAAgBD,OAAOmG,EAAIzE,UAAY1B,OAAOmG,EAAI1E,aAC/D,GAAgD5C,oBAAS,GAAzD,qBAAO2+B,GAAP,MAAyBC,GAAzB,MACMC,GAAyB,uCAAG,WAChCxyB,EACAC,EACAnE,EACA+K,GAJgC,SAAAlS,EAAA,+EAMzB8yB,IAAiBK,kBACtB9nB,EACAC,EACAnE,EACA+K,IAV8B,2CAAH,4DAgBzBe,GAAeC,mBACfF,GAAcG,0BAAgB,CAClCC,QAAS,kBAAMH,GAAaI,WAG9B,OACE,eAAC,IAAD,CACE2nB,KAAI5W,GAAgBnL,IAAY3S,EAAIa,KACpC8zB,QAAQ,OACRC,eAAa,EAHf,UAKE,cAAC,IAAD,CACE7O,aAAc,kBAAM9Y,IAAWwH,KAC/B5X,SAAU1J,EAAMwgB,YAAY9W,SAC5BgE,KAAMb,EAAIa,KACV4S,KAAM2jB,GACNpI,KAAMn1B,OAAOmG,EAAI1E,aACjBkC,MACE,eAAC,IAAD,CAAYhH,QAAQ,KAApB,8DACuB,4BAAIwJ,EAAI2lB,yBAGjChtB,KAAM0+B,GACNz6B,YAAa,kBAAM06B,IAAoB,IACvC9I,YAAa+I,KAGf,eAAC,IAAD,CAAKliC,OAAQ,EAAb,UACE,cAAC,IAAD,CACEmB,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAI2lB,oBAAqB,YAIhC,eAAC,IAAD,CAAMvvB,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8BACY,SAGd,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAEGe,EAAIiM,qBAFP,aAEG,EACGiH,MAAM,KAAK,GACZA,MAAM,KACNC,UACAC,KAAK,KACLre,OACC,sBACEiL,EAAIiM,qBADN,aACE,EAAmBiH,MAAM,KAAK,GAAGG,OAAO,EAAG,YAKvD,eAAC,IAAD,CAAMjd,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,oCAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIw3B,cAAe,YAI1B,eAAC,IAAD,CAAMphC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,yCAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG4mB,GAAcnD,gBACXmD,GAAcnD,gBAAgB7uB,KAC9B,GAAI,eAKhB,eAAC,IAAD,CAAMe,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAAC,IAAD,CACEhX,WAAS,EACTC,UAAU,MACVC,eAAe,aACf+F,WAAW,SAJb,UAME,cAAC,IAAD,CAAMzH,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAIF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGm4B,GAAa,EAAI,kBAAY,wBAC7BA,GAAa,EAAI,cAAC,IAAD,CAAW3iC,MAAO2iC,KAAiB,YAI3D,cAAC,IAAD,CAAMxiC,MAAI,EAAC2H,GAAI,EAAf,SACG66B,GAAa,EACZ,cAAC,IAAD,CACEzkC,MAAM,UACNiD,KAAK,QACLY,QAAQ,YACRX,QAAS,kBAAMyhC,IAAoB,IAJrC,gCAQE,UAGR,eAAC,IAAD,CAAMlhC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACE,cAAC,IAAD,CACExK,MAAOuL,EAAIlG,aAAekG,EAAIzE,WAClB,YAIpB,eAAC,IAAD,CAAMnF,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gDAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACG4mB,GAAchmB,OAASgmB,GAAchmB,OAAOhM,KAAO,UAI1D,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAC0B,SAAvBe,EAAIb,eAA4B,qBAAa,WAAO,kBAO/D,cAAC,IAAD,CACE3I,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVlL,MAAO,CAAE2C,UAAW,IAJtB,6CAQA,eAAC,IAAD,CAAOd,KAAK,QAAQ,aAAW,YAA/B,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,uBACA,cAAC,IAAD,iCAEA,cAAC,IAAD,CAAWyM,MAAM,QAAjB,qCACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,oCACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,8BACA,cAAC,IAAD,CAAWA,MAAM,OAAjB,qCAGJ,cAAC,IAAD,UACGwjB,GAAcla,QAAQxS,KAAI,SAACwW,GAAD,OACzB,eAAC,IAAD,WACE,cAAC,IAAD,CAAW1Q,UAAU,KAAKg1B,MAAM,MAAhC,SACGtkB,EAAOrN,eAEV,cAAC,IAAD,UAAYqN,EAAO9b,OAEnB,cAAC,IAAD,CAAWwO,MAAM,QAAjB,SACE,gCACGsN,EAAOtM,SACR,8BACGsM,EAAOzO,QACJ5H,KAAKC,MAAMoW,EAAOzO,SAAS/H,KAAI,SAACmI,GAAD,OAC7B,cAAC,IAAD,CACE1L,KAAK,QACL4J,MAAK,WACE,OAAL8B,QAAK,IAALA,OAAA,EAAAA,EAAO2C,YAAP,OAAoB3C,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAAa,WADrC,aAGE,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OACI5C,QADJ,IACIA,OADJ,EACIA,EAAO4C,YAAYuZ,UAAU,EAAG,IAChC,GALD,aAMAnc,EAAMH,qBAEXxO,MAAO2O,EAAMgD,OAAS,UAAY,YAClC9N,QAAQ,YAFH8K,EAAMnH,OAKf,YAKV,cAAC,IAAD,CAAWkI,MAAM,QAAjB,SACE,gCACGsN,EAAOkP,kBACR,8BACGlP,EAAOzO,QACJ5H,KAAKC,MAAMoW,EAAOzO,SAAS/H,KAAI,SAACmI,GAAD,OAC7B,cAAC,IAAD,CACE1L,KAAK,QACL4J,MAAK,WACE,OAAL8B,QAAK,IAALA,OAAA,EAAAA,EAAO2C,YAAP,OAAoB3C,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAAa,WADrC,aAGE,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OACI5C,QADJ,IACIA,OADJ,EACIA,EAAO4C,YAAYuZ,UAAU,EAAG,IAChC,GALD,aAMAnc,EAAMud,mBAEXlsB,MAAO2O,EAAMgD,OAAS,UAAY,YAClC9N,QAAQ,YAFH8K,EAAMnH,OAKf,YAIV,cAAC,IAAD,CAAWkI,MAAM,QAAjB,SACE,cAAC,IAAD,CAAW5N,MAAOkb,EAAO1M,eAE3B,eAAC,IAAD,CAAWZ,MAAM,QAAQtO,MAAO,CAAE4J,WAAY,KAA9C,UACE,cAAC,IAAD,CACElJ,MAAOoF,OAAO8V,EAAOtM,UAAYxJ,OAAO8V,EAAO1M,cAE/CjD,EAAIy3B,aAAgB9nB,EAAOsnB,oBAE1B,KAFgD,cAAC,IAAD,CAAQzgC,QAAQ,YAAY7D,MAAM,UAAUiD,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,GAAID,OAAQ,IAAMxH,QAAS,kBAAMm3B,GAAard,IAA5H,4BA9DxCA,EAAOmX,oBAsE5B,cAAC,IAAD,CACE9pB,UAAW3J,EAAQoL,WACnB1K,MAAO,CACLkD,QAAS,GACTxE,aAAcH,EAAMM,cAAcH,aAClCiE,UAAW,IALf,SAQE,eAAC,IAAD,CAAMN,WAAS,EAACC,UAAU,SAA1B,UAYE,eAAC,IAAD,CAAMD,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8CACqB4mB,GAAcla,QAAQ1S,OAD3C,SAIF,cAAC,IAAD,CAAMrE,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGvD,YAAuBmqB,GAAcla,gBAK5C,eAAC,IAAD,CAAMvV,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iCAIF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAOoxB,GAAc/rB,sBAKtC,eAAC,IAAD,CAAM1D,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gCAKF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAOoxB,GAActqB,kBAKtC,eAAC,IAAD,CAAMnF,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAIF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CACE5W,QAAQ,QACRg6B,cAAY,EACZvxB,UAAU,MACVlL,MAAO,CACL4J,WAAY,IACZhL,MAAOL,EAAMM,cAAcC,aAAa,MAN5C,SASE,cAAC,IAAD,CAAW4B,MAAOuL,EAAIlG,aAAekG,EAAIzE,kBAK/C,eAAC,IAAD,CAAMnF,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,uCAIF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAOuL,EAAI1E,0BAOhC,eAAC,IAAD,CACElF,WAAS,EACTC,UAAU,MACVC,eAAgB,WAChBvC,MAAO,CAAE2C,UAAW,IAJtB,UAmCE,cAAC,IAAD,CACEF,QAAQ,YACRZ,KAAK,QAEL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAxdW,WACnB,IACc22B,IAAiBO,oBAAoBhoB,EAAYC,EAAahF,EAAIa,MAC9EwE,EAAS2P,IAAaa,iBAAiB,oDACvC1iB,EAAMwgB,YAAY9W,WAClB,MAAO8rB,GACPtjB,EAAS2P,IAAaC,aAAa,sDACnClc,QAAQC,IAAI2vB,KA4cR,4CAUA,cAAC,IAAD,CACEnyB,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAzec,WACtB+C,GAAQ,IAyeA8G,SACE7F,OAAOmG,EAAIlG,cACTD,OAAOmG,EAAIzE,UACX1B,OAAOmG,EAAI1E,aACb,EATJ,8BAeA,cAAC,IAAD,CAAQ9E,QAAQ,YAAY7D,MAAM,UAASiD,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMo6B,UAAW,cAAC,IAAD,CAAkB3hC,SAAS,UAAYF,QAAS,kBAAM6W,MAApJ,wCAIE1M,EAAIy3B,YAEM,KAFQ,cAAC,IAAD,CAAQjhC,QAAQ,YAAY7D,MAAM,YAAWiD,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMzH,QAAS,kBAAM6W,MAApG,kCAuCtB,qBAAK3Y,MAAO,CAAE8C,QAAS,QAAvB,SACE,qBAAKoZ,IAAKtD,GAAV,SACE,cAAC,IAAD,CACE5J,KAAM8iB,GACNjP,KAAM5W,EAAIiM,oBAOhB,cAAC,IAAD,CACE9W,WAAW,EACXwpB,SAAS,KACThmB,KAAMA,EACN8E,QAASqoB,EACT,kBAAgB,oBALlB,SAOE,cAAC,IAAD,CACEA,kBAAmBA,EACnBD,cAAeA,GACfxyB,QAASA,EACTohB,OAAQthB,EAAMwgB,YAAY9W,SAC1BkpB,aAAc,kBAAM9Y,IAAWwH,iB,4SCnoBrCriB,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,IAEhB/D,WAAY,CACVA,WAC+B,UAA7BnM,EAAMM,cAAcqF,KAChB3F,EAAMM,cAAcC,aAAa,IACjCmD,IAAK,WAsZF2hC,IAjZe,SAACxkC,GAAW,IAAD,IACvC,EAA0BA,EAAMwgB,YAAxB3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QAIP5N,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KAExBvO,EAAQc,cACRC,EAAUjB,EAAUE,GAI1B,GAFiB+U,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtB9O,IAAMC,SAAS,OAA/C,mBAUA,GAVA,UAU4CA,mBAAS,CACnDmH,OAAQ,KACR8L,QAAS,MAFX,mBAAO0a,EAAP,KAAuBC,EAAvB,KAKAhzB,qBAAU,WACR,IAAMohB,EAAQ,uCAAG,4BAAAhb,EAAA,+EAEKstB,IAAkBoG,kBAClCroB,EACA/E,EAAIa,MAJO,OAEP2L,EAFO,OAMb8Z,EAAkB9Z,EAAI7G,MANT,gDAQb2gB,EAAkB,CAChBzmB,OAAQ,KACR8L,QAAS,KAVE,yDAAH,qDAcVgH,IAAY3S,EAAIa,MAClB6T,MAED,CAACvhB,EAAMwgB,YAAYhB,UAItB,IAAMhG,EAAeC,mBACDC,0BAAgB,CAChCC,QAAS,kBAAMH,EAAaI,WAMhC,OACE,eAAC,IAAD,CAAU2nB,KAAIvhC,EAAM2qB,QAAYnL,IAAY3S,EAAIa,KAAM8zB,QAAQ,OAAOC,eAAa,EAAlF,UACE,eAAC,IAAD,CAAKv/B,OAAQ,EAAb,UACE,cAAC,IAAD,CACEmB,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,GAAG6Q,GAAI,EAAtB,UACE,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CACmB,SAGrB,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIknB,qBAAsB,YAIjC,eAAC,IAAD,CAAM9wB,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAIF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGonB,EAAeuR,eACZvR,EAAeuR,eAAejS,oBAC9B,UAIV,eAAC,IAAD,CAAMvvB,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAE6Q,GAAI,EAArB,SACE,eAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BACW,SAGb,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAEGe,EAAIiM,qBAFP,aAEG,EAAmBiH,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAIiM,qBAApB,aAAgB,EAAmBiH,MAAM,KAAK,GAAGG,OAAO,EAAG,YAKzI,eAAC,IAAD,CAAMjd,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,oCAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGonB,EAAehD,SAAWgD,EAAehD,SAASxvB,KAAO,UAIhE,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,mDAIF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGonB,EAAe3D,gBACZ2D,EAAe3D,gBAAgB7uB,KAC/B,aAKZ,eAAC,IAAD,CAAMe,MAAI,EAAC2H,GAAI,GAAG6Q,GAAI,EAAtB,UAcE,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UAEE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAGF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAOuL,EAAIlG,sBAI5B,eAAC,IAAD,CAAM1D,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gDAIF,cAAC,IAAD,CAAMrK,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGonB,EAAexmB,OAASwmB,EAAexmB,OAAOhM,KAAO,UAI5D,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAIF,cAAC,IAAD,CAAMrK,MAAI,EAAGwY,GAAI,EAAjB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAC0B,SAAvBe,EAAIb,eAA4B,qBAAa,wBAOxD,cAAC,IAAD,CACE3I,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVlL,MAAO,CAAE2C,UAAW,IAJtB,6CAQA,eAAC,IAAD,CAAOd,KAAK,QAAQ,aAAW,YAA/B,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WAEE,cAAC,IAAD,gBACA,cAAC,IAAD,iCACA,cAAC,IAAD,CAAWyM,MAAM,QAAjB,qCACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,6BACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,qCAGJ,cAAC,IAAD,UACGgkB,EAAe1a,QAAQxS,KAAI,SAACwW,GAAD,OAC1B,eAAC,IAAD,WACE,cAAC,IAAD,CAAW1Q,UAAU,KAAKg1B,MAAM,MAAhC,SACGtkB,EAAOrN,eAEV,cAAC,IAAD,UAAYqN,EAAO9b,OACnB,eAAC,IAAD,CAAWwO,MAAM,QAAjB,UACGsN,EAAOtM,SACR,8BACKsM,EAAOzO,QACJ5H,KAAKC,MAAMoW,EAAOzO,SAAS1N,QAAO,SAAA8N,GAAK,OAAgC,IAA5BA,EAAMud,qBAAyB1lB,KAAI,SAACmI,GAAD,OAC5E,cAAC,IAAD,CACE1L,KAAK,QACL4J,MAAK,WACE,OAAL8B,QAAK,IAALA,OAAA,EAAAA,EAAO2C,YAAP,OAAoB3C,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAAa,WADrC,aAGE,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OACI5C,QADJ,IACIA,OADJ,EACIA,EAAO4C,YAAYuZ,UAAU,EAAG,IAChC,GALD,eAMEnc,EAAMud,mBAEblsB,MAAO2O,EAAMgD,OAAS,UAAY,YAClC9N,QAAQ,YAFH8K,EAAMnH,OAKf,UAGV,cAAC,IAAD,CAAWkI,MAAM,QAAjB,SACE,cAAC,IAAD,CAAW5N,MAAOkb,EAAO1M,eAE3B,cAAC,IAAD,CAAWZ,MAAM,QAAQtO,MAAO,CAAE4J,WAAY,KAA9C,SACE,cAAC,IAAD,CAAWlJ,MAAOkb,EAAOtM,SAAWsM,EAAO1M,iBA/BhC0M,EAAOrN,sBAqC5B,cAAC,IAAD,CACEtF,UAAW3J,EAAQoL,WACnB1K,MAAO,CACLkD,QAAS,GACTxE,aAAcH,EAAMM,cAAcH,aAClCiE,UAAW,IALf,SAQE,eAAC,IAAD,CAAMN,WAAS,EAACC,UAAU,SAA1B,UAUE,eAAC,IAAD,CAAMD,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8CACqBonB,EAAe1a,QAAQ1S,OAD5C,SAIF,cAAC,IAAD,CAAMrE,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGvD,YAAuB2qB,EAAe1a,gBAwB7C,eAAC,IAAD,CAAMvV,WAAS,EAACC,UAAU,MAAMC,eAAiB,WAAjD,UAEE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4CAGF,cAAC,IAAD,CAAMrK,MAAI,EAAE2H,GAAI,EAAG6Q,GAAI,EAAvB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAOlL,MAAO,CAAC4J,WAAW,IAAKhL,MAAML,EAAMM,cAAcC,aAAa,MAAzH,SACE,cAAC,IAAD,CAAW4B,MAAOuL,EAAIlG,sBAK5B,eAAC,IAAD,CAAM1D,WAAS,EAACC,UAAU,MAAMC,eAAiB,WAAjD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,uCAIF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAE6Q,GAAI,EAArB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAOuL,EAAI1E,0BAOhC,cAAC,IAAD,CACElF,WAAS,EACTC,UAAU,MACVC,eAAgB,WAChBvC,MAAO,CAAE2C,UAAW,SA2DvB,qBAAK3C,MAAO,CAAE8C,QAAS,QAAvB,SACC,qBAAKoZ,IAAKtD,EAAV,SACE,cAAC,IAAD,CAAgB5J,KAAMsjB,EAAgBzP,KAAM5W,EAAIiM,yB,uPCrbpD7Z,EAAYC,aAAW,SAACC,GAAD,OAC7BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAY,CACVf,SAAU,YAEZo+B,KAAK,CACH3xB,aAAa,IAEf6kB,KAAM,CACJ5oB,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAkB,KAAMjC,IAAK,KAC7DvD,aAAaH,EAAMM,cAAcH,aACjCE,MAAO,UACPyhC,YAAY,GAEd31B,WAAW,CACTA,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAkB3F,EAAMM,cAAcC,aAAa,IAAKmD,IAAK,MAE/FmxB,YAAa,CACX1xB,SAAU,WACVssB,MAAOzvB,EAAMgK,QAAQ,GACrByd,IAAKznB,EAAMgK,QAAQ,GACnB3J,MAAOL,EAAM0mB,QAAQhjB,KAAK,MAE5B4jB,eAAgB,CACdpB,OAAQ,EACRqB,KAAM,gBACNxc,OAAQ,EACRhI,QAAS,EACTykB,SAAU,SACV7iB,QAAS,EACTxB,SAAU,WACVskB,IAAK,GACL/lB,MAAO,QA6VI6jC,IAvVY,SAAC1kC,GAAW,IAAD,UAClC,EAAuBA,EAAMwgB,YAAtB3T,EAAP,EAAOA,IAAK2S,EAAZ,EAAYA,QACLmL,EAAS3qB,EAAT2qB,OAKDxrB,EAAQc,cACRC,EAAUjB,EAAUE,GAG1B,GAFiB+U,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtB9O,IAAMC,SAAS,OAA/C,mBAWMo/B,GAXN,UAWc,UAAG93B,EAAI2L,eAAP,aAAG,EACfxS,KAAI,SAACwW,GAAD,OAAYA,EAAOtM,SAAWsM,EAAO1M,cAC1ClH,QAAO,SAACqF,EAAO22B,GAAR,OAAgB32B,EAAQ22B,IAAK,IAGrC,OAEE,aADA,CACC,IAAD,CACErD,KAAI5W,GAAgBnL,IAAY3S,EAAIa,KACpC8zB,QAAQ,OACRC,eAAa,EAHf,SAKE,eAAC,IAAD,CAAKv/B,OAAQ,EAAb,UACE,cAAC,IAAD,CACEmB,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAIg4B,eAGP,eAAC,IAAD,CAAM5hC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIi4B,qBAAsB,YAIjC,eAAC,IAAD,CAAM7hC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8BACY,SAGd,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAEGe,EAAI2X,kBAFP,aAEG,EAAgBzE,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAI2X,kBAApB,aAAgB,EAAgBzE,MAAM,KAAK,GAAGG,OAAO,EAAG,eA8BrI,eAAC,IAAD,CAAMze,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UAyBE,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gDAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGe,EAAIk4B,mBAIX,eAAC,IAAD,CAAM9hC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,mDAIF,cAAC,IAAD,CAAMrK,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGe,EAAIm4B,uBAOf,cAAC,IAAD,CACE3hC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVlL,MAAO,CAAE2C,UAAW,IAJtB,6CAQA,eAAC,IAAD,CAAOd,KAAK,QAAQ,aAAW,YAA/B,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,gBACA,cAAC,IAAD,iCAEA,cAAC,IAAD,CAAWyM,MAAM,QAAjB,0BACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,kCACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,uBACA,cAAC,IAAD,CAAWA,MAAM,QAAjB,kCAGJ,cAAC,IAAD,oBACGrC,EAAI2L,eADP,aACG,EAAaxS,KAAI,SAACwW,GAAD,eAChB,eAAC,IAAD,WACE,cAAC,IAAD,CAAW1Q,UAAU,KAAKg1B,MAAM,MAAhC,SACGtkB,EAAOrN,eAEV,cAAC,IAAD,UAAYqN,EAAOqoB,eACnB,eAAC,IAAD,CAAW31B,MAAM,QAAjB,UACE,cAAC,IAAD,CAAgB5N,MAAOkb,EAAOyoB,mBAE9B,wCACG9+B,KAAKC,MAAMoW,EAAOzO,gBADrB,aACG,EAA4B1N,QAAO,SAAC8N,GAAD,OAAWA,EAAM+2B,cAClDl/B,KAAI,SAACm/B,GAAD,OACH,8BACA,cAAC,IAAD,CACE96B,MAAK,UACH86B,EAAc7iC,SAAW6iC,EAAc7iC,SAAW,GAD/C,YAGH6iC,EAAcp0B,YACVo0B,EAAcp0B,YACd,IANR,SASE,cAAC,IAAD,CACE1E,MAAK,UAAK84B,EAAcr0B,WAAnB,YAAiCq0B,EAAcj1B,UACpDzN,KAAK,sBAOjB,eAAC,IAAD,CAAWyM,MAAM,QAAjB,UACE,cAAC,IAAD,CACE5N,MACEoF,OAAO8V,EAAOyoB,kBACdv+B,OAAO8V,EAAOtM,YAGlB,wCACG/J,KAAKC,MAAMoW,EAAOzO,gBADrB,aACG,EAA4B1N,QAAO,SAAC8N,GAAD,OAAWA,EAAM+2B,cAClDl/B,KAAI,SAACm/B,GAAD,OACH,8BACA,cAAC,IAAD,CACE96B,MAAK,UACH86B,EAAc7iC,SAAW6iC,EAAc7iC,SAAW,GAD/C,YAGH6iC,EAAcp0B,YACVo0B,EAAcp0B,YACd,IANR,SASE,cAAC,IAAD,CACEtO,KAAK,QACL4J,MAAK,UAAK84B,EAAcr0B,WAAnB,YAAiCq0B,EAAcC,gCAOhE,cAAC,IAAD,CAAWl2B,MAAM,QAAQtO,MAAO,CAAE4J,WAAY,KAA9C,SACE,cAAC,IAAD,CAAgBlJ,MAAOkb,EAAOtM,aAEhC,cAAC,IAAD,CAAWhB,MAAM,QAAQtO,MAAO,CAAE4J,WAAY,KAA9C,SACE,cAAC,IAAD,CAAWlJ,MAAOkb,EAAOtM,SAAWsM,EAAO1M,iBA/DhC0M,EAAOmX,oBAqE5B,cAAC,IAAD,CACE9pB,UAAW3J,EAAQoL,WACnB1K,MAAO,CACLkD,QAAS,GACTxE,aAAcH,EAAMM,cAAcH,aAClCiE,UAAW,IALf,SAQE,eAAC,IAAD,CAAMN,WAAS,EAACC,UAAU,SAA1B,UACE,eAAC,IAAD,CAAMD,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,sCAIF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CACExK,MAAK,UAAEuL,EAAI2L,eAAN,aAAE,EACHxS,KAAI,SAACwW,GAAD,OAAYA,EAAOtM,YACxBtH,QAAO,SAACqF,EAAO22B,GAAR,OAAgB32B,EAAQ22B,IAAK,YAK/C,eAAC,IAAD,CAAM3hC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6CAIF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CACElL,MAAO,CACL4J,WAAY,IACZhL,MAAOmlC,EAAW,EAAI,QAAU,OAElCrjC,MAAOqjC,uB,iCCtVd,uhT,8PCoBT1lC,EAAYC,aAAW,SAACC,GAAD,OAC7BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAY,CACVf,SAAU,YAEZo+B,KAAK,CACH3xB,aAAa,SAuJFg2B,IAlIO,SAACrlC,GACnB,MAAsBA,EAAMwgB,YAArB3T,EAAP,EAAOA,IAAI2S,EAAX,EAAWA,QAELrgB,EAAQc,cACRC,EAAUjB,EAAUE,GAI1B,GAHiB+U,YAAc/U,EAAMgV,YAAYC,KAAK,OAGtB9O,IAAMC,SAAS,OAA/C,mBAAO+B,EAAP,KAAiBC,EAAjB,KAMaI,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAChBI,MAAM4F,KAM9B,OACI,cAAC,IAAD,CAAU6zB,GAAK/hB,IAAY3S,EAAIa,KAAO8zB,QAAQ,OAAOC,eAAa,EAAlE,SACK,eAAC,IAAD,CAAKv/B,OAAQ,EAAb,UACG,cAAC,IAAD,CAAYmB,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAMjC,UAAW3J,EAAQ8gC,KAAzE,SACEn0B,EAAInM,OAGR,eAAC,IAAD,CAAOuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAAhD,UAEE,eAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACM,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8BAEF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAf,SACE,eAAC,IAAD,CAAY/F,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAIa,KAA9D,YAGJ,eAAC,IAAD,CAAMzK,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,+BAEF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAf,SACE,eAAC,IAAD,CAAY/F,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAInM,KAA9D,YAGJ,eAAC,IAAD,CAAMuC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gCAEF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAA0De,EAAIlM,aAGpE,eAAC,IAAD,CAAMsC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,uCAEF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAA0De,EAAIosB,uBAK1E,eAAC,IAAD,CAAMx3B,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACI,eAAC,IAAD,CAAMhX,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8BAEF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,4BAGN,eAAC,IAAD,CAAM7I,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAAC,IAAD,CAAM1B,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC,IAAD,CAAY5W,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAEF,cAAC,IAAD,CAAMrK,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAY/F,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,gCASZ,eAAC,IAAD,CAAM7I,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAavC,MAAO,CAAC2C,UAAU,IAA/E,UACY,cAAC,IAAD,CAAQF,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAACuJ,WAAW,IAA5D,sBACA,cAAC,IAAD,CAAQ9G,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAACuJ,WAAW,IAA5D,oBAEA,cAAC,IAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdzH,QAtFJ,SAACvB,GACnBoG,EAAYpG,EAAM+J,gBAsFIzI,KAAK,QACL7B,MAAO,CAACuJ,WAAW,IANrB,SASE,cAAC,IAAD,MAGF,cAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QA5FJ,WAClB/C,EAAY,OAsFQ,SASE,eAAC,IAAD,WACE,cAAC,IAAD,CAAc3G,MAAO,CAACjB,aAAa,IAAnC,SACE,cAAC,IAAD,CAAyBiD,SAAS,YAEpC,cAAC,IAAD,CAAckjB,QAAQ,uD,+aCxKrC5mB,eAAW,SAACC,GAAD,MAAY,CACpC+C,OAAQ,CACNqB,UAAWpE,EAAMgK,QAAQ,IAE3BxF,YAAa,CACXf,SAAU,YAEZ9C,KAAM,CACJgE,QAAS,IAEXwhC,IAAK,CACH5hC,QAAS,OACTwF,WAAY,c,0CCkBVq8B,EAAe,SAAC1a,GACpB,OACE,cAAC7hB,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CACFpF,OAAQ,GACRrJ,MAAO,GACPsJ,WAAY,EACZxK,YAAa,EACbL,aAAc,GAEhByK,IAAKy7B,OA+XIC,EA3XS,SAACzlC,GACvB,IAAMkS,EAAWxM,cACT+D,EAAwCzJ,EAAxCyJ,YAAajE,EAA2BxF,EAA3BwF,KAAK+K,EAAsBvQ,EAAtBuQ,kBAC1B,EAA8ChL,oBAAS,GAAvD,mBAAOmgC,EAAP,KAAwBC,EAAxB,KAEA,EAAwCpgC,mBAAS,IAAjD,mBAAO80B,EAAP,KAAqBmC,EAArB,KACA,EAA4Bj3B,mBAAS,IAArC,mBAAOqgC,EAAP,KAAeC,EAAf,KACA,EAA8BtgC,mBAAS,IAAvC,mBAAO7B,EAAP,KAAgBoiC,EAAhB,KACA3lC,qBAAU,WACR,IAAM4lC,EAAc5/B,KAAKC,MAAMpG,EAAMgmC,YAAYz2B,SAAWvP,EAAMgmC,YAAYz2B,SAAW,MAAMvJ,KAAI,SAAC6kB,GAAD,MAAU,CAACsE,KAAKtE,EAAIob,OAAO,MAC9HH,EAAWC,KACX,CAAC/lC,EAAMgmC,YAAYJ,SACrB,IAaMM,EAAgBnoB,YAAU,CAC9Bwd,oBAAoB,EACpBvd,cAAe,CACbtd,KAAMV,EAAMgmC,YAAYtlC,KACxBylC,QAASnmC,EAAMgmC,YAAY3vB,SAAWrW,EAAMgmC,YAAY3vB,SAAW,GACnE+vB,cAAepmC,EAAMgmC,YAAYna,gBAAkB,EACnDwa,WAAYrmC,EAAMgmC,YAAY1vB,YAAc,EAC5CgkB,SAAUt6B,EAAMgmC,YAAY1L,SAAS5sB,MAAQ,0BAC7C44B,KAAMtmC,EAAMgmC,YAAYnW,mBAAqB,GAC7C0W,eAAgBvmC,EAAMgmC,YAAYla,sBAAwB,EAC1D3c,aAAcnP,EAAMgmC,YAAY72B,cAAgB,GAChDknB,UAAUr2B,EAAMgmC,YAAY3P,WAAa,IAE3CoF,iBAAkBC,IAAW,CAC3Bh7B,KAAMg7B,MAAa9c,SAAS,wCAC5BwnB,cAAe1K,MAAa9c,SAAS,6BAAgBgd,UAAU,EAAG,sDAClEyK,WAAY3K,MAAa9c,SAAS,2BAAgBgd,UAAU,EAAG,oDAC/D2K,eAAgB7K,IAAW,oCAAkBE,UAAU,EAAG,6FAC1DvF,UAAWqF,MAAaE,UAAU,EAAG,qGAInChqB,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KAExBvO,GAAQc,cACRC,GAAUjB,EAAUE,IACpBqnC,GAAoB,uCAAG,8BAAAjgC,EAAA,6DAC3B22B,KAD2B,UAGrBuJ,EAAe,IAAIC,UACVC,OAAO,OAAQT,EAAchoB,OAAOxd,KAAKiY,YACtD8tB,EAAaE,OAAO,aAAcT,EAAchoB,OAAOmoB,WAAW1tB,YAClE8tB,EAAaE,OAAO,iBAAiBT,EAAchoB,OAAOkoB,cAAcztB,YACxE8tB,EAAaE,OAAO,WAAYT,EAAchoB,OAAOioB,QAAQxtB,YAC7D8tB,EAAaE,OAAO,eAAgBT,EAAchoB,OAAO/O,aAAawJ,YACtE8tB,EAAaE,OAAO,oBAAqBT,EAAchoB,OAAOooB,KAAK3tB,YACnE8tB,EAAaE,OACX,uBACAT,EAAchoB,OAAOqoB,eAAe5tB,YAGtC8tB,EAAaE,OACX,gBACAT,EAAchoB,OAAOoc,SAAS3hB,YAE1BsT,EAAUvoB,EAAQkF,QAAO,SAACg+B,EAAKC,GACnC,OAAGA,EAAIZ,MACEW,EAAKhlC,OAAOilC,EAAI1X,KAAK,KAEvByX,IACP,IACFH,EAAaE,OAAO,WAAY1a,GAEhC2Z,EAAO13B,SAAQ,SAAC44B,GAAD,OAAWL,EAAaE,OAAO,WAAYG,MA3BjC,UA4BFlyB,IAAWmyB,cAChCn1B,EACA5R,EAAMgmC,YAAYt4B,KAClB+4B,GA/BuB,eAiCzBv0B,EAAS2P,IAAaa,iBAAiB,iDACvC1iB,EAAM8Z,YAlCmB,kDAoCzBlU,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,gCArCV,0DAAH,qDAwC1B3hB,qBAAU,WACR,IAAMm+B,EAAiB,uCAAG,4BAAA/3B,EAAA,+EAECqO,IAAWkoB,kBAAkBlrB,GAF9B,OAEhB8C,EAFgB,OAGtB8nB,EAAgB9nB,EAASlC,MAHH,uDAKtB5M,QAAQC,IAAR,MALsB,kBAMf,IANe,yDAAH,qDASvBy4B,MACC,CAAC1sB,EAAY5R,EAAMgmC,cAEtB,IAAM9I,GAAsB,WAC1BzzB,IACAy8B,EAAc5K,YACd0L,MAEIA,GAAiB,WACrBlB,EAAW,IACXD,EAAU,KAQZ,OACE,eAAC7D,EAAA,EAAD,CACEx8B,KAAMA,EACN8E,QAASb,EACT,kBAAgB,oBAHlB,UAKE,cAAC,IAAD,CAAajE,KAAMkgC,EAAiBj8B,YAzHZ,kBAAMk8B,GAAmB,MA0HjD,eAAC38B,EAAA,EAAD,CAAKa,UAAW3J,GAAQJ,KAAxB,UACE,cAACsD,EAAA,EAAD,CACEyG,UAAW3J,GAAQyD,YACnBN,QAAQ,KACRg6B,cAAY,EACZz8B,MAAO,CAAEyO,aAAc,IAJzB,oDAQA,eAACrM,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,eACfgG,QAAS,EAJX,UAME,eAACnG,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,UACE,cAACrJ,EAAA,EAAD,CACE6e,UAAQ,EACRvS,MAAM,4BACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,OACLmB,SAAUqkC,EAAcvnB,aACxBrd,MAAO4kC,EAAchoB,OAAOxd,KAC5By4B,MAAO+M,EAAcnK,QAAQr7B,MAAQwlC,EAAcpK,OAAOp7B,KAC1Dw7B,WACEgK,EAAcnK,QAAQr7B,KAAOwlC,EAAcpK,OAAOp7B,KAAO,KAE3Ds7B,OAAQkK,EAAcjK,WACtBlzB,KAAK,SAEP,cAAChJ,EAAA,EAAD,CACEsM,MAAM,kBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,UACLumC,UAAW,SAACt7B,KACZ9J,SAAUqkC,EAAcvnB,aACxBrd,MAAO4kC,EAAchoB,OAAOioB,QAC5BhkC,WAAY,CACVI,aACE,cAACF,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAAC0G,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,IACzBkJ,IAAK+sB,SAKbjtB,UAAW3J,GAAQgC,SAErB,cAACnC,EAAA,EAAD,CACEsM,MAAM,wBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLoH,UAAW3J,GAAQgC,OACnBxB,KAAK,OACLmB,SAAUqkC,EAAcvnB,aACxBrd,MAAO4kC,EAAchoB,OAAOooB,OAG9B,eAACt9B,EAAA,EAAD,CAAKa,UAAS,UAAK3J,GAAQolC,IAAb,YAAoBplC,GAAQgC,QAA1C,UACE,eAAC2J,EAAA,EAAD,CAAa+S,UAAQ,EAACnc,KAAK,QAAQY,QAAQ,WAAWrB,WAAS,EAA/D,UACE,cAACq+B,EAAA,EAAD,CAAYtJ,QAAQ,WAApB,2BACA,cAAC7X,EAAA,EAAD,CACEqY,QAAM,EACNlrB,MAAM,gBACNrF,GAAG,WACHtG,KAAK,WACLY,MAAO4kC,EAAchoB,OAAOoc,SAC5Bz4B,SAAUqkC,EAAcvnB,aACxBqd,OAAQkK,EAAcjK,WAPxB,SASE,cAAC7B,EAAA,EAAD,CAAgBC,aAAcA,SAGlC,cAACzpB,EAAA,EAAD,CAASvG,MAAM,wBAAf,SACE,cAAC7H,EAAA,EAAD,CACEC,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,GACrBzH,QAAS,kBAAMijC,GAAmB,IAHpC,SAKE,cAAC,IAAD,CAASnmC,MAAM,sBAKvB,eAACwD,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,UACE,cAAC,IAAD,CACEwV,UAAQ,EACRvS,MAAM,gBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,aACLY,MAAO4kC,EAAchoB,OAAOmoB,WAC5BxkC,SAAUqkC,EAAcvnB,aACxBwa,MACE+M,EAAcnK,QAAQsK,YACtBH,EAAcpK,OAAOuK,WAEvBnK,WACEgK,EAAcnK,QAAQsK,WAClBH,EAAcpK,OAAOuK,WACrB,KAENrK,OAAQkK,EAAcjK,aAExB,cAAC,IAAD,CACErd,UAAQ,EACRvS,MAAM,kBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,gBACLY,MAAO4kC,EAAchoB,OAAOkoB,cAC5BvkC,SAAUqkC,EAAcvnB,aACxBwa,MACE+M,EAAcnK,QAAQqK,eACtBF,EAAcpK,OAAOsK,cAEvBlK,WACEgK,EAAcnK,QAAQqK,cAClBF,EAAcpK,OAAOsK,cACrB,KAENpK,OAAQkK,EAAcjK,WACtBpyB,UAAW3J,GAAQgC,SAIrBqO,EACD,qCACC,cAAC,IAAD,CACElE,MAAM,yDACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLoH,UAAW3J,GAAQgC,OACnBxB,KAAK,iBACLY,MAAO4kC,EAAchoB,OAAOqoB,eAC5B1kC,SAAUqkC,EAAcvnB,aACxBwa,MACE+M,EAAcnK,QAAQwK,gBACtBL,EAAcpK,OAAOyK,eAEvBrK,WACEgK,EAAcnK,QAAQwK,eAClBL,EAAcpK,OAAOyK,eACrB,KAENvK,OAAQkK,EAAcjK,aAEvB,cAAC,IAAD,CACC5vB,MAAM,6DACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLoH,UAAW3J,GAAQgC,OACnBxB,KAAK,YACLY,MAAO4kC,EAAchoB,OAAOmY,UAC5Bx0B,SAAUqkC,EAAcvnB,aACxBwa,MACE+M,EAAcnK,QAAQ1F,WACtB6P,EAAcpK,OAAOzF,UAEvB6F,WACEgK,EAAcnK,QAAQ1F,UAClB6P,EAAcpK,OAAOzF,UACrB,KAEN2F,OAAQkK,EAAcjK,gBAGpB,WAGR,eAACj5B,EAAA,EAAD,CAAMC,WAAS,EAACkG,QAAS,EAAzB,uBAAsC,cAACnG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,IAAE,EAAb,SAClC,eAACJ,EAAA,EAAD,CACEtF,QAAQ,OACRgN,cAAc,MACdxH,WAAW,SACXtI,MAAO,CAAE2C,UAAW,IAJtB,UAMGG,EAAQsC,KAAI,SAAC6kB,GAAD,OACX,cAACja,EAAA,EAAD,CAASvG,MAAM,2CAAf,SACE,cAACiC,EAAA,EAAD,CAAQ7J,KAAK,QAAQC,QAAS,kBA3M1BwkC,EA2M2Crc,EA1M7Dib,EAAWpiC,EAAQrD,QAAO,SAACwqB,GAAD,OAASA,GAAOqc,WACrCA,EAAajB,OAChBJ,EAAUD,EAAOvlC,QAAO,SAACymC,EAAO15B,GAAR,OAAkBA,IAAU85B,EAAa95B,WAHlD,IAAC85B,GA2MJ,SACE,cAACl+B,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CACFpF,OAAQ,GACRrJ,MAAO,GACPsJ,WAAY,EACZxK,YAAa,EACbL,aAAc,GAEhByK,IAAK8gB,EAAIsE,cAKG,IAAnBzrB,EAAQoC,OAAe,cAAC,EAAD,IAAmB,KAC3C,eAACtD,EAAA,EAAD,CACE+J,SAAU7I,EAAQoC,OAAS,EAC3BtG,MAAM,UACNiD,KAAK,SACLqJ,UAAU,QAJZ,UAME,uBAAO/C,KAAK,OAAOtF,QAAM,EAAC5B,SAtUhB,SAAC8J,GACvB/F,QAAQC,IAAI8F,EAAEC,OAAO6rB,MAAM,IAC3B7xB,QAAQC,IAAIshC,IAAIC,gBAAgBz7B,EAAEC,OAAO6rB,MAAM,KAC/CoO,EAAU,GAAD,mBAAKD,GAAL,CAAaj6B,EAAEC,OAAO6rB,MAAM,MACrCqO,EAAW,GAAD,mBACLpiC,GADK,CAER,CACE0J,MAAOw4B,EAAO9/B,OACdqpB,KAAMgY,IAAIC,gBAAgBz7B,EAAEC,OAAO6rB,MAAM,IACzCwO,OAAO,SA8TC,cAAC,IAAD,YAIN,eAACjjC,EAAA,EAAD,CACEvB,MAAI,EACJ2H,GAAI,GACJxI,MAAO,CACL8C,QAAS,OACTgN,cAAe,MACfvN,eAAgB,YANpB,UASE,cAACmJ,EAAA,EAAD,CACE5J,QAASw6B,GACT75B,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YACNoB,MAAO,CAAEjB,YAAa,IALxB,sBASA,cAAC2M,EAAA,EAAD,CACE5J,QAAS,WACP8jC,MAEFnjC,QAAQ,YACRZ,KAAK,QACLjD,MAAM,UACN+M,UAAc25B,EAAc/J,QAP9B,mC,kOC7WNl9B,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CAEb0vB,OAAO,CACHtkB,WAAW,IACXhL,MAAO,OACPoD,SAAU,IAEde,YAAa,CACTf,SAAU,iBAsLHykC,GAjLc,SAAC,GAAmF,IAAlF7hC,EAAiF,EAAjFA,KAAK8E,EAA4E,EAA5EA,QAASqC,EAAmE,EAAnEA,QAAQ8B,EAA2D,EAA3DA,mBAAmBqL,EAAwC,EAAxCA,UAAU/L,EAA8B,EAA9BA,QAAQkC,EAAsB,EAAtBA,YAAYpD,EAAU,EAAVA,IAC5F1N,EAAQc,cACVC,EAAUjB,GAAUE,GACpBuI,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAChC9H,QAAQC,IAAI,qBAAqB4I,GACjC,IAAMF,EAAqB,SAACvH,GAAQ,IAAD,EAE3BwH,EAAE,OAAGC,QAAH,IAAGA,GAAH,UAAGA,EAAoBC,MAAK,SAAAC,GAAC,OAAIA,EAAEjB,OAAS1G,YAA5C,aAAG,EAA8C4H,mBACzD,OAAGJ,EAAWA,EAAGowB,iBACJ,GAEf,EAAkCr5B,mBAAS,MAA3C,mBAAO+hC,EAAP,KAAkBC,EAAlB,KACMr1B,EAAWxM,cAMf,EAAyCH,mBAAU0K,EAL3B,WACpB,IAAIlK,EAAM,GAEV,OADCgI,EAAQ/H,KAAI,SAAAvE,GAAI,OAAIsE,EAAIa,KAAK,CAACkK,WAAYrP,EAAKqP,WAAaZ,SAAU,EAAGa,YAAatP,EAAKsP,YAAazO,SAAUb,EAAKa,cACjHyD,EAEsDyhC,GAAF,GAA/D,mBAAOC,EAAP,KAAqBC,EAArB,KACIC,EAAuB,uCAAG,4BAAAphC,EAAA,6DAQxBkS,EAAO,CACTmvB,MAAON,EAAUtgC,GACjB6gC,eAAgB53B,EAAcsjB,KAAEyM,MAAMyH,EAAe,YAAcA,EACnE15B,QAAS5H,KAAK5F,UAAUunC,MAAMC,QAAQN,GAAiBA,EAAcpnC,QAAO,SAAA8N,GAAK,OAAIA,EAAM+B,YAAY,IACvGD,YAAaA,EACb0jB,WAAY9mB,EAAI7F,GAChBghC,QAASV,EAAU5mC,KACnBunC,gBAAiBvgC,EAAKuK,KAAKjL,GAC3BkhC,kBAAmBxgC,EAAKuK,KAAKvR,KAC7BynC,kBAAmBzgC,EAAKuD,MAjBE,kBAoBR2J,IAAWwzB,kBAAkBx2B,EAAYC,EAAa4G,GApB9C,cAqB1BvG,EAAS2P,IAAaa,iBAAiB,+CArBb,gDAuB1B9c,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,gDAxBT,QA2B9BylB,EAAa,MACbj9B,IACAwP,IA7B8B,yDAAH,qDA+BvBuuB,EAAwB95B,EAAmBsD,GAC9Cy2B,EAAgB,EACjB,OACI,eAACtG,EAAA,EAAD,CAAQx8B,KAAMA,EAAM8E,QAASA,EAAS,kBAAgB,oBAAoBkhB,SAAS,KAAKxpB,WAAW,EAAnG,UACI,eAACgB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAgB+F,WAAW,SAA1E,UACQ,cAACq/B,GAAA,EAAD,CAAavhC,GAAG,oBAAhB,SACI,cAAC5D,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,0CAKJ,cAACb,EAAA,EAAD,CAAY,aAAW,QAAUE,QAAS4H,EAA1C,SACI,cAAC,KAAD,CAAY1H,SAAS,eAIjC,eAACqxB,GAAA,EAAD,WAE2B,KAAb,OAAPlmB,QAAO,IAAPA,OAAA,EAAAA,EAASjI,QACV,qCACA,eAAC9C,EAAA,EAAD,CAAMC,WAAS,EAAErC,MAAO,CAAEyO,aAAa,IAAvC,UACM,cAACrM,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGxI,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAnD,2BACA,cAACxH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGxI,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAnD,yCACA,cAACxH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGxI,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAnD,8BACA,cAACxH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGxI,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAnD,+BALN,OAQGuD,QARH,IAQGA,OARH,EAQGA,EAAS/H,KAAI,SAACmI,GAAD,aACV,eAACnL,EAAA,EAAD,CAAMC,WAAS,EAAEkG,QAAS,EAA1B,UACQ,eAACnG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,qBAAoB+E,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAA3B,OACA,eAAC9N,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,qBAAoB+E,QAApB,IAAoBA,GAApB,UAAoBA,EAAO4C,mBAA3B,aAAoB,EAAoBuZ,UAAU,EAAG,IAArD,OACA,eAACtnB,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,qBAAoB+E,QAApB,IAAoBA,OAApB,EAAoBA,EAAO7L,SAA3B,OACA,eAACU,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,qBAAoB+E,QAApB,IAAoBA,OAApB,EAAoBA,EAAO+B,SAA3B,aAGV,cAAC7E,GAAA,EAAD,CAASzK,MAAO,CAACsB,OAAO,SAExB,KAGN,eAACc,EAAA,EAAD,CAAMC,WAAS,EAACrC,MAAO,CAACyO,aAAa,IAArC,UACI,cAACrM,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,eACA,cAACpG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGxI,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAnD,wBACA,cAACxH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,kBAEHuD,EAAQ3G,KAAK,SAAAvE,GACd,IAAMyO,EAAY3B,EAAmB9M,EAAKiM,MAEtC,OADJ46B,GAA+B5hC,OAAOwJ,GAElC,eAAClN,EAAA,EAAD,CAAMC,WAAS,EAAf,UACI,eAACD,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGxI,MAAO,CAACpB,MAAM,OAAQgL,WAAW,IAAK6E,aAAa,IAArE,UACK5N,EAAKf,KACTe,EAAKiM,OAASmE,EAAc,cAAC,KAAD,CAAiBjR,MAAO,CAACuJ,WAAW,IAAIvH,SAAS,QAAQpD,MAAM,YAAa,KAFzG,OAKA,cAACwD,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SAAmB8G,IAEpB,eAAClN,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,cAAoB3H,EAAKiM,OAASmE,EAAc,cAACvF,EAAA,EAAD,CAAQ9M,MAAM,UAAU6D,QAAQ,YAAWZ,KAAK,QAAO7B,MAAO,CAAC4nC,cAAc,QAAS9lC,QAAS,kBAAI6kC,EAAa9lC,IAAhH,yBAAuI,cAG9L,cAAC4J,GAAA,EAAD,IACA,eAACrI,EAAA,EAAD,CAAMC,WAAS,EAAf,UACI,cAACD,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,IACf,eAACpG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGxI,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAAnD,wBAAgE89B,KAChE,cAACtlC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,kBAKHk+B,EAAU,eAACpqB,GAAA,EAAD,CAAuBza,KAAK,KAAK4H,MAAO,eAACP,GAAA,EAAD,WAAU,cAAC1G,EAAA,EAAD,CAAYC,QAAQ,KAApB,qDAAyD,eAACD,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACuJ,WAAW,EAAE3K,MAAML,EAAMM,cAAcC,aAAa,MAArF,UAA6F4nC,EAAU5mC,KAAvG,OAAnE,QAA2M8E,KAAoB,OAAd8hC,EAAmB79B,YAAa,kBAAI89B,EAAa,OAA1S,UAETt3B,EASElC,EAAQ/H,KAAI,SAACmI,GAAW,IAAD,MACfs6B,EAAgB,YAAOhB,GACvBr6B,EAAQq7B,EAAiBtyB,WAAU,SAAA1U,GAAI,OAAEA,EAAKqP,cAAL,OAAqB3C,QAArB,IAAqBA,OAArB,EAAqBA,EAAO2C,eAE5E,OACG,eAAC9N,EAAA,EAAD,CAAMC,WAAS,EAAEkG,QAAS,EAAGD,WAAW,SAAStI,MAAO,CAACsB,OAAO,GAAhE,UACI,eAACc,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,qBAAoB+E,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAA3B,OACA,eAAC9N,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,qBAAoB+E,QAApB,IAAoBA,GAApB,UAAoBA,EAAO4C,mBAA3B,aAAoB,EAAoBuZ,UAAU,EAAG,IAArD,OACA,eAACtnB,EAAA,EAAD,CAAMC,WAAS,EAACxB,MAAI,EAAC2H,GAAI,EAAIF,WAAW,SAAxC,UACQ,cAAClG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACI,cAAC,IAAD,CACA9H,MAAK,UAAEmnC,EAAiBr7B,UAAnB,aAAE,EAAyB8C,SAC5BrO,SAAU,SAAC8J,GAEP88B,EAAiBr7B,GAAO8C,SAAUxJ,OAAOiF,EAAEC,OAAOtK,OAClDomC,EAAiBe,QAI7B,eAACzlC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,cAAmB,eAAChG,EAAA,EAAD,CAAYxC,MAAO,CAAC4J,WAAW,KAA/B,uBAAyC2D,QAAzC,IAAyCA,OAAzC,EAAyCA,EAAO+B,gBAClE,UAAAu4B,EAAiBr7B,UAAjB,eAAyB8C,UAAWxJ,OAAM,OAACyH,QAAD,IAACA,OAAD,EAACA,EAAO+B,UAAW,cAAC9M,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACpB,MAAM,OAAvC,6EAAyF,cA5BnK,qCACA,cAAC4D,EAAA,EAAD,CAAYC,QAAQ,KAApB,sCACA,eAACyG,GAAA,EAAD,WACI,cAAC,IAAD,CAAwBxI,MAAOmmC,EAAe5lC,SAAU,SAAC8J,GAAK+7B,EAAiB/7B,EAAEC,OAAOtK,UACxF,eAAC8B,EAAA,EAAD,CAAYxC,MAAO,CAAC4J,WAAW,KAA/B,gBAAyC69B,QAE5CZ,EAAgB/gC,OAAO2hC,GAAwB,cAACjlC,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACpB,MAAM,OAAvC,6EAAyF,QA4BzI,cAAC8M,EAAA,EAAD,CAAQC,SAAUk7B,EAAgB/gC,OAAO2hC,IAA4C,IAAlBZ,EAAqB/kC,QAAS,WAAKilC,KAA6BtkC,QAAQ,YAAYZ,KAAK,QAASjD,MAAM,YAAYoB,MAAO,CAAC2C,UAAU,IAAzM,iCAIqB,QAGjC,cAACmlC,GAAA,EAAD,UACJ,cAACp8B,EAAA,EAAD,CAAS5J,QAAS4H,EAAUjH,QAAQ,YAAYZ,KAAK,QAASjD,MAAM,YAApE,4BCnLFP,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,SAwbLs5B,GAraO,SAAC3oC,GAAW,IAAD,EACvB6M,EAAgE7M,EAAhE6M,IAAKF,EAA2D3M,EAA3D2M,QAAQmN,EAAmD9Z,EAAnD8Z,UAAU/L,EAAyC/N,EAAzC+N,QAAoBwC,GAAqBvQ,EAAjCiQ,YAAiCjQ,EAArBuQ,mBAE7CpR,EAAQc,cACRC,EAAUjB,GAAUE,GACpB8U,EAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtD,EAAgC7O,mBAAS,MAAzC,mBAAO+B,EAAP,KAAiBC,EAAjB,KACM2K,EAAWxM,cACjB,EAA0CH,mBAAS,CACjD7E,KAAM,GACN2V,SAAU,GACVikB,SAAU,CAAE55B,KAAM,IAClBklC,OAAQ,GACRgD,UAAW,KALb,mBAAOC,EAAP,KAAsBC,EAAtB,KAOA,EAAwCvjC,oBAAS,GAAjD,mBAAOwjC,EAAP,KAAqBC,EAArB,KAaA,EAA0CzjC,oBAAS,GAAnD,mBAAO0jC,EAAP,KAAsBC,EAAtB,KACMC,EAAoB,WACxBD,GAAiB,IAEbE,EAAmB,uCAAG,sBAAA7iC,EAAA,6DAC1B4iC,IAD0B,kBAGDv0B,IAAWy0B,cAAcz3B,GAAY/E,EAAIa,MAHxC,cAIxBwE,EAAS2P,IAAaa,iBAAiB,4BACvC1iB,EAAMwgB,YAAY1G,WAAU,GALJ,gDAOxBlU,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,8BARX,yDAAH,qDAWnBpa,GAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,GAAalK,GAAKI,MAAM4F,KACxBmE,GAAcnK,GAAKgF,OAAOgB,KAEhC9H,QAAQC,IAAI,SAASgH,GACrBjH,QAAQC,IAAI,gBAAgBgjC,GAiB5B1oC,qBAAU,WACR,IAAMmpC,EAAY,uCAAG,4BAAA/iC,EAAA,+EAEMqO,IAAW20B,WAAW33B,GAAY/E,EAAIa,KAAM,CACjEmE,YAAaA,KAHE,OAEX6C,EAFW,OAKjBo0B,EAAiBp0B,EAASlC,MALT,gDAOjB5M,QAAQC,IAAR,MAPiB,yDAAH,qDAWlByjC,MACC,IAEH,OAAuD/jC,oBAAS,GAAhE,qBAAOikC,GAAP,MAA4BC,GAA5B,MAIA,OAFA7jC,QAAQC,IAAI,yBAAyBgjC,EAAcp6B,oBAQjD,cALA,CAKC2tB,GAAA,EAAD,CACE3yB,YAAa,kBAAMzJ,EAAMyJ,aAAY,IACrCY,MAAO,mCACP7E,KAAMxF,EAAMwF,KAHd,UAKE,qBAAK5E,MAAO,CAAEC,MAAO,KAArB,SACE,eAACmI,EAAA,EAAD,CAAK9G,OAAQ,EAAb,UACE,cAACkB,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,SACE,cAACjR,EAAA,EAAD,CACEsG,GAAI,CACFpF,OAAQ,IACRrJ,MAAO,IACPvB,aAAc,EACd6K,WAAY,IALhB,SAQE,cAAC,WAAD,CAAUu/B,YAAY,EAAtB,mBACGvjC,KAAKC,MACJyiC,EAAct5B,SAAWs5B,EAAct5B,SAAW,aAFtD,aACG,EAEEvJ,KAAI,SAAC+iB,GAAD,OACL,qBAEEhf,IAAKgf,EACL7e,OAAQ+J,EAAW,MAAQ,MAC3BpT,MAAOoT,EAAW,MAAQ,OAHrB8U,YAYf,eAAC/lB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAASzB,MAAI,EAAC2H,GAAI,EAA5C,UACE,eAACpG,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAA1B,UACE,eAACF,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,yCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAcnoC,KAAM,YAI3B,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAc15B,aAAc,YAInC,eAACnM,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,+BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAcxyB,SAAU,YAI/B,eAACrT,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAcvO,SAAS55B,KAAM,YAIpC,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,qCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACG+8B,EAAchZ,4BAKvB,eAAC7sB,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAOunC,EAAcvyB,oBAItC,eAACtT,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,+BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACE,cAAC,IAAD,CACExK,MAAOunC,EAAchd,iBACT,YAIjBtb,EACD,qCACF,eAACvN,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIyD,gBAAiB,SAGzB3D,EAAQ7G,OAAQ,EAClB,cAAC9C,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAGrZ,MAAO,CAAC2C,WAAW,EAAG8L,aAAa,GAArD,SACG,cAAC/C,EAAA,EAAD,CAAQ7J,KAAK,QAAQY,QAAQ,YAAW7D,MAAM,UAAUoB,MAAO,CAAC4nC,cAAc,QAAS9lC,QAAS,kBAAI+mC,IAAuB,IAA3H,8BACI,KACPD,GACD,cAAC,GAAD,CACE/6B,mBAAoBo6B,EAAcp6B,mBAAmB9B,QAASA,EAAQnH,KAAMgkC,GAC5El/B,QAAS,kBAAIm/B,IAAuB,IACpC3vB,UAAWA,EACX/L,QAASA,EACTkC,YAAa44B,EAAc54B,cAG3B,QAGD44B,EAAc54B,YAAc,cAAC7M,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACpB,MAAML,EAAMM,cAAcC,aAAa,MAAxE,+DAAyH,KACvJmpC,EAAc54B,YAAc,eAAC7M,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACpB,MAAML,EAAMM,cAAcC,aAAa,KAAM2P,aAAa,IAA3F,0DAAyHw5B,EAAcc,oBAAvI,cAA8K,KAGzM,eAAC3mC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iDAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIif,qBAAsB,YAKjC,eAAC9oB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,qDAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIwpB,UAAW,eAIhB,WAITlwB,KAAKC,MAAMyG,EAAI+8B,gBAAkB/8B,EAAI+8B,gBAAkB,MAAM5jC,KAC5D,SAAC6jC,GAAD,OACE,eAAC7mC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAA1B,UACE,cAACF,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,qBACErZ,MAAO,CACLykB,OAAQ,iBACRja,UAAW,SACXtH,QAAS,QACTnE,YAAa,GACbL,aAAc,GANlB,SASGuqC,EAAOnpC,SAGZ,cAACsC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,qBACErZ,MAAO,CACLykB,OAAQ,iBACRja,UAAW,SACXtH,QAAS,QACTxE,aAAc,GALlB,SAQE,iCAASuqC,EAAOvoC,kBAO1B,eAAC0B,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAgB8Q,EAAW,KAAO,WAClCrT,MAAO,CAAE2C,UAAW,IAJtB,UAME,cAAC+I,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAAS,WACPsmC,GAAgB,IALpB,sBAUA,cAAC18B,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAAS,WACPwmC,GAAiB,IALrB,oBAWA,cAAC1mC,EAAA,EAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdE,QA7UI,SAACvB,GACnBoG,EAAYpG,EAAM+J,gBA6UJzI,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IANvB,SAQE,cAAC,IAAD,MAGF,eAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QAtVI,WAClB/C,EAAY,OAgVA,UAOE,eAAC,IAAD,WACE,cAACu6B,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAWiD,SAAS,YAEtB,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,oBAGxB,eAAC,IAAD,WACE,cAACgc,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAyBiD,SAAS,YAEpC,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,6BAGxB,eAAC,IAAD,WACE,cAACgc,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,KAAD,CAAuBiD,SAAS,YAElC,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,gCAGxB,eAAC,IAAD,WACE,cAACgc,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,KAAD,CAAyBiD,SAAS,YAEpC,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,0DAQnCijB,GAAgB,cAAC,EAAD,CACfvjC,KAAMujC,EACNt/B,YAxXoB,SAAC/H,GACrBA,GACF1B,EAAMwgB,YAAY1G,WAAU,GAE9BkvB,GAAgB,IAqXZhD,YAAa6C,EACb/uB,UAAW,WACT9Z,EAAM8Z,YACN9Z,EAAMyJ,iBAGV,cAACqgC,EAAA,EAAD,CACEtkC,KAAMyjC,EACNx/B,YAAa0/B,EACbzkC,cAAe0kC,EACft1B,QACE,eAAC1Q,EAAA,EAAD,4DACyB,8BAAIylC,EAAcnoC,KAAlB,iB,6DCrb7BzB,I,OAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACb0vB,OAAO,CACHtkB,WAAW,IACXhL,MAAO,OACPoD,SAAU,IAEde,YAAa,CACTf,SAAU,kBA8IHmnC,GAzIW,SAAC,GAA0B,IAAzBvkC,EAAwB,EAAxBA,KAAK8E,EAAmB,EAAnBA,QAASuC,EAAU,EAAVA,IAChC1N,EAAQc,cACRC,EAAUjB,GAAUE,GAG1B,EAAiCoG,mBAAS,GAA1C,mBAAO2K,EAAP,KAAkBG,EAAlB,KACA,EAAiC9K,mBAAS,QAA1C,mBAAOykC,EAAP,KAAkBC,EAAlB,KACA,EAA6C1kC,mBAAS,OAAtD,mBAAO2kC,EAAP,KAAwBC,EAAxB,KACA,EAAqC5kC,mBAA2B,IAAlBsH,EAAIu9B,UAAgB,KAAM,OAAxE,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAuB/kC,mBAAS,MAAhC,mBAAOglC,EAAP,KAAaC,EAAb,KACA,EAAmCjlC,mBAASsH,EAAIkB,QAAQ,GAAG+C,YAA3D,mBAAO25B,EAAP,KAAmBC,EAAnB,KAEA,EAAgDnlC,mBAASsH,EAAIkB,QAAQ,GAAG+C,YAAxE,mBAGI0I,GAHJ,UAGmBC,oBACfF,EAAcG,2BAAgB,CAClCC,QAAS,kBAAMH,EAAaI,WAExB+wB,EAAsB,SAACJ,GAC3BC,EAAOD,IAQP,OALFpqC,qBAAW,WACNoqC,GAAKhxB,MACR,CAACgxB,IAIG,eAACvI,EAAA,EAAD,CAAQx8B,KAAMA,EAAM8E,QAASA,EAAS,kBAAgB,oBAAoBkhB,SAAS,KAAKxpB,WAAW,EAAnG,UACI,eAACgB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAgB+F,WAAW,SAA1E,UACQ,cAACq/B,GAAA,EAAD,CAAavhC,GAAG,oBAAhB,SACI,cAAC5D,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,4BAKJ,cAACb,EAAA,EAAD,CAAY,aAAW,QAAUE,QAAS4H,EAA1C,SACI,cAAC,KAAD,CAAY1H,SAAS,eAIjC,eAACqxB,GAAA,EAAD,WACI,eAACjxB,EAAA,EAAD,CAAMC,WAAS,EAAf,UACI,eAACD,EAAA,EAAD,CAAMvB,MAAI,EAAE2H,GAAI,EAAhB,UACI,cAAChG,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,KAAzD,yCAEA,cAAC,IAAD,CAAwB5J,MAAO,CAACC,MAAM,KAAKS,MAAO4O,EAAUrO,SAAU,SAAC8J,GAAD,OAAK0E,EAAY1E,EAAEC,OAAOtK,UAChG,cAAC8B,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,IAAKjH,UAAU,IAAxE,uBACA,cAACsI,EAAA,EAAD,CAAahC,UAAW3J,EAAQ+e,YAAhC,SACI,eAACC,EAAA,EAAD,CAAQ5d,MAAO0oC,EAAUnoC,SAAU,SAAC8J,GAAD,OAAKs+B,EAAYt+B,EAAEC,OAAOtK,QAA7D,UACA,cAAC8d,GAAA,EAAD,CAAU9d,MAAO,OAAjB,2BACCuL,EAAIsC,aAAc,cAACiQ,GAAA,EAAD,CAAU9d,MAAO,UAAjB,6BAA+C,UAGtE,cAAC8B,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,IAAKjH,UAAU,IAAxE,qCACA,cAACsI,EAAA,EAAD,CAAahC,UAAW3J,EAAQ+e,YAAhC,SACI,eAACC,EAAA,EAAD,CAAQ5d,MAAO4oC,EAAgBroC,SAAU,SAAC8J,GAAD,OAAKw+B,EAAkBx+B,EAAEC,OAAOtK,QAAzE,UACA,cAAC8d,GAAA,EAAD,CAAU9d,MAAO,MAAjB,wCACA,cAAC8d,GAAA,EAAD,CAAU9d,MAAO,KAAjB,sDAGFuL,EAAIu9B,UAuBE,KAtBJ,qCACH,cAAChnC,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,IAAKjH,UAAU,IAAxE,sBACG,cAACsI,EAAA,EAAD,CAAahC,UAAW3J,EAAQ+e,YAAhC,SACI,eAACC,EAAA,EAAD,CAAQ5d,MAAO+oC,EAAYxoC,SAAU,SAAC8J,GAAD,OAAK2+B,EAAc3+B,EAAEC,OAAOtK,QAAjE,UACA,cAAC8d,GAAA,EAAD,CAAU9d,MAAO,MAAjB,4BACA,cAAC8d,GAAA,EAAD,CAAU9d,MAAO,MAAjB,0CAGH+oC,EAAWhqB,SAAS,OACrB,qCACA,cAACjd,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,IAAKjH,UAAU,IAAxE,yBACA,cAACsI,EAAA,EAAD,CAAahC,UAAW3J,EAAQ+e,YAAhC,SACI,cAACC,EAAA,EAAD,CAAQ5d,MAAOmpC,EAAW5oC,SAAU,SAAC8J,GAAD,OAAK++B,EAAa/+B,EAAEC,OAAOtK,QAA/D,SACEuL,EAAIkB,QAAQ/H,KAAI,SAACmI,GACf,OACK,cAACiR,GAAA,EAAD,CAAU9d,MAAO6M,EAAM2C,WAAvB,SAAoC3C,EAAM2C,uBAMtD,WAIT,eAAC9N,EAAA,EAAD,CAAMvB,MAAI,EAACwB,WAAS,EAACmG,GAAI,EAAGD,QAAS,EAArC,UACI,eAACnG,EAAA,EAAD,CAAMvB,MAAI,EAACwB,WAAS,EAApB,UACI,cAACD,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SAAkB,cAACJ,EAAA,EAAD,CAAK8C,UAAU,MAAMwD,GAAI,CAAGpF,OAAQ,IAAMrJ,MAAO,IAAKsJ,WAAY,EAAIxK,YAAa,EAAGL,aAAc,GAAOyK,ICvJ1I,koODwJa,eAAC/G,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,UACI,cAAChG,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,KAAzD,8GACA,cAAC8B,EAAA,EAAD,CAAS5J,QAAS,kBAAIioC,EAAoB,IAAKtnC,QAAQ,YAAYZ,KAAK,QAASjD,MAAM,UAAUoB,MAAO,CAAC2C,UAAU,IAAnH,mCAKR,eAACP,EAAA,EAAD,CAAMvB,MAAI,EAACwB,WAAS,EAApB,UACI,cAACD,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SAAkB,cAACJ,EAAA,EAAD,CAAK8C,UAAU,MAAMwD,GAAI,CAAGpF,OAAQ,IAAMrJ,MAAO,IAAKsJ,WAAY,EAAIxK,YAAa,EAAGL,aAAc,GAAOyK,IEhK1I,07SFiKa,eAAC/G,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,UACI,cAAChG,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,KAAzD,8FACA,cAAC8B,EAAA,EAAD,CAAS5J,QAAS,kBAAIioC,EAAoB,IAAKtnC,QAAQ,YAAYZ,KAAK,QAASjD,MAAM,UAAUoB,MAAO,CAAC2C,UAAU,IAAnH,mCAMR,eAACP,EAAA,EAAD,CAAMvB,MAAI,EAACwB,WAAS,EAApB,UACI,cAACD,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SAAkB,cAACJ,EAAA,EAAD,CAAK8C,UAAU,MAAMwD,GAAI,CAAGpF,OAAQ,IAAMrJ,MAAO,IAAKsJ,WAAY,EAAIxK,YAAa,EAAGL,aAAc,GAAOyK,IG1K1I,0gTH2Ka,eAAC/G,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,UACI,cAAChG,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,KAAzD,+FACA,cAAC8B,EAAA,EAAD,CAAS5J,QAAS,kBAAIioC,EAAoB,KAAMtnC,QAAQ,YAAYZ,KAAK,QAASjD,MAAM,UAAWoB,MAAO,CAAC2C,UAAU,IAArH,yCAQhB,qBAAK3C,MAAO,CAAE8C,QAAS,QAAvB,SACI,qBAAKoZ,IAAKtD,EAAV,SACI,cAAC,GAAD,CAAkB3M,IAAKA,EAAKqD,SAAUA,EAAU85B,SAAUA,EAAUE,eAAgBA,EAAgBG,WAAYA,EAAYE,IAAKA,EAAKE,UAAWA,WAK7J,cAAC/B,GAAA,EAAD,UACA,cAACp8B,EAAA,EAAD,CAAS5J,QAAS4H,EAAUjH,QAAQ,YAAYZ,KAAK,QAASjD,MAAM,YAApE,4BAUNqkB,GAAmB,SAAC,GAAuE,IAArEhX,EAAoE,EAApEA,IAAcm9B,GAAsD,EAA/D95B,SAA+D,EAAtD85B,UAASE,EAA6C,EAA7CA,eAAeG,EAA8B,EAA9BA,WAAWE,EAAmB,EAAnBA,IAAIE,EAAe,EAAfA,UACvE/iC,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkjC,EAAe,WACjB,OACA,eAAC5hC,EAAA,EAAD,CAAKpI,MAAO,CAAEwK,UAAU,UAAxB,UACK8+B,EAAe7pB,SAAS,OAAS,cAACjd,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,OAAOoD,SAAS,GAAI4H,WAAW,KAAzD,SAAgE9C,EAAKI,MAAMpH,OAAmB,GAC/H2pC,EAAWhqB,SAAS,MAAO,cAAC,KAAD,CAAS/e,MAAmB,SAAZ0oC,EAAoBn9B,EAAIsC,aAAatC,EAAIwJ,WACnF,cAAC,KAAD,CAAS/U,MAAmB,SAAZ0oC,EAAoBn9B,EAAIsC,aAAavN,OAAO,IAAK6oC,GAAW59B,EAAIwJ,SAASzU,OAAO,IAAK6oC,SAI/G,OACI,cAACznC,EAAA,EAAD,CAAMC,WAAS,EAAf,SACK,CAAC,EAAE,EAAE,GAAG+C,KAAI,WACT,OACI,cAAChD,EAAA,EAAD,CAAMC,WAAS,EAACxB,MAAI,EAAC2H,GAAImhC,EAAKpnC,eAAe,SAA7C,SACI,cAACynC,EAAD,YItKlB3rC,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,SA6gBLw7B,IA1fS,SAAC7qC,GAAW,IAAD,IACjC,EAAsDA,EAAMwgB,YAApD3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QAAS1F,EAAtB,EAAsBA,UAAWvJ,EAAjC,EAAiCA,kBACzBoa,EAAW3qB,EAAX2qB,OACFxrB,EAAQc,cACRC,EAAUjB,GAAUE,GACpB8U,EAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtD,EAAgC7O,mBAAS,MAAzC,mBAAO+B,EAAP,KAAiBC,EAAjB,KACA,EAAoChC,oBAAS,GAA7C,mBAAOulC,EAAP,KAAmBC,EAAnB,KACM74B,EAAWxM,cAGjB,EAA0CH,mBAAS,CACjD7E,KAAM,GACN2V,SAAU,GACVikB,SAAU,CAAE55B,KAAM,IAClBklC,OAAQ,GACRgD,UAAW,KALb,mBAAOC,EAAP,KAAsBC,EAAtB,KAQA,EAAwCvjC,oBAAS,GAAjD,oBAAOwjC,GAAP,MAAqBC,GAArB,MAOA,GAA0CzjC,oBAAS,GAAnD,qBAAO0jC,GAAP,MAAsBC,GAAtB,MACMC,GAAoB,WACxBD,IAAiB,IAEbE,GAAmB,uCAAG,sBAAA7iC,EAAA,6DAC1B4iC,KAD0B,kBAGDv0B,IAAWy0B,cAAcz3B,GAAY/E,EAAIa,MAHxC,cAIxBwE,EAAS2P,IAAaa,iBAAiB,4BACvC5I,IALwB,gDASxB5H,EAAS2P,IAAaC,aAAa,8BATX,yDAAH,qDAYnBpa,GAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,GAAalK,GAAKI,MAAM4F,KACxBmE,GAAcnK,GAAKgF,OAAOgB,KAC1Bf,GAAUjF,GAAKI,MAAM8E,SAI3B,GACErH,oBAAS,GADX,qBAAOylC,GAAP,MAAkCC,GAAlC,MAEA,GAAgD1lC,mBAAS,IAAzD,qBAAO2lC,GAAP,MAAyBC,GAAzB,MACAhrC,qBAAU,WACR,IAAMmpC,EAAY,uCAAG,4BAAA/iC,EAAA,+EAEMqO,IAAW20B,WAAW33B,GAAY/E,EAAIa,KAAM,CACjEmE,YAAaA,KAHE,OAEX6C,EAFW,OAKjBo0B,EAAiBp0B,EAASlC,MALT,gDAOjB5M,QAAQC,IAAR,MAPiB,yDAAH,qDAUd2Z,IAAY3S,EAAIa,MAClB47B,MAED,CAAC13B,GAAY4N,EAASsrB,IACzB,IAKF,GAAgDvlC,oBAAS,GAAzD,qBAAO6lC,GAAP,MAAwBC,GAAxB,MAEE,GAAuD9lC,oBAAS,GAAhE,qBAAOikC,GAAP,MAA4BC,GAA5B,MACF7jC,QAAQC,IAAI,yBAAyBgjC,GAErC,IAAKyC,GAAWz+B,EAAI0C,SAAWpJ,KAAKC,MAAMyG,EAAI0C,UAAU,KAGtD,OAFF+7B,GAAYxD,MAAMC,QAAQuD,IAAYA,GAAW,CAACA,IAEzCz+B,EAAI0+B,aACT,qCACG/rB,IAAY3S,EAAIa,OAAhB,UACCm7B,EAAc2C,kBADf,aACC,EAA0BxlC,KAAI,SAACgmB,GAAc,IAAD,EAC1C,OAAQ/X,EA2DN,cAAC,KAAD,CAEE+X,SAAUA,EACVtpB,QAAS,WACPuoC,IAA4B,GAC5BE,GAAoBnf,KAJjBnf,EAAIa,MA3DX,mCACE,eAACmB,EAAA,EAAD,WACE,cAACI,GAAA,EAAD,CAAWC,MAAM,OAAjB,SAAyB,oBACzB,cAACD,GAAA,EAAD,CAAWC,MAAM,OAAjB,SAAyB8c,EAAS7c,eAClC,cAACF,GAAA,EAAD,CAAWC,MAAM,OAAOtO,MAAO,CAAEwO,SAAU,KAA3C,SACE,eAACtF,GAAA,EAAD,CACElJ,MAAO,CACLuJ,YAAa,GACb5G,WAAY,GACZ8L,cAAe,IAJnB,UAOE,cAACrG,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CACFpF,OAAQ,GACRrJ,MAAO,GACPvB,aAAc,GACdK,YAAa,IAEfoK,IAAK5D,KAAKC,MAAMyG,EAAI0C,SAAW1C,EAAI0C,SAAW,MAAMC,GAAG,IAAMC,MAE/D,cAACrM,EAAA,EAAD,CAAYyG,UAAW3J,EAAQ4f,SAA/B,SACGkM,EAAStrB,YAMhB,cAACuO,GAAA,EAAD,CAAWC,MAAM,OAAjB,mBAAyB8c,EAASsO,gBAAlC,aAAyB,EAAmB55B,OAC5C,cAACuO,GAAA,EAAD,CAAWC,MAAM,QAAjB,SACE,cAAC,IAAD,CAAW5N,MAAO0qB,EAAS1V,eAE7B,cAACrH,GAAA,EAAD,CAAWC,MAAM,QAAjB,SACE,cAAC,IAAD,CAAW5N,MAAO0qB,EAASH,mBAE7B,cAAC5c,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,cAAC,KAAD,CACEgB,SAAU8b,EAAS1b,gBACnBge,SAAUtC,EAASF,yBAGvB,cAAC7c,GAAA,EAAD,CAAWC,MAAM,QAAQrF,UAAW3J,EAAQ4f,SAA5C,SACGkM,EAAS1b,kBAEZ,cAACrB,GAAA,EAAD,CACEvM,QAAS,WACPuoC,IAA4B,GAC5BE,GAAoBnf,IAHxB,SAME,cAAC1f,EAAA,EAAD,CAAQ7J,KAAK,QAAQjD,MAAM,UAAU6D,QAAQ,WAA7C,sCAiBX2nC,IACC,cAAC,GAAD,CACExlC,KAAMwlC,GACNxqB,YAAaxgB,EAAMwgB,YACnB3T,IAAKq+B,GACLzhC,YAAa,kBAAMwhC,IAA4B,IAC/Ct+B,QAASA,GAETmN,UAAW,WACTA,IACAixB,GAAeD,IAElB/8B,QAASlB,EAAIkB,QACbkC,YAAapD,EAAIoD,YACjBM,kBAAmBA,OAKxB,eAAC+wB,EAAA,EAAD,CACEC,KAAI5W,GAAgBnL,IAAY3S,EAAIa,KACpC8zB,QAAQ,OACRC,eAAa,EAHf,UAKGsH,IACC,cAAC,EAAD,CACEt/B,YAhHkB,SAAC/H,GACzBsnC,IAAgB,IAgHVxjC,KAAMujC,GACN/C,YAAa6C,EACb/uB,UAAW,WACTA,IACAixB,GAAeD,IAEjBv6B,kBAAmBA,IAGvB,cAACu5B,EAAA,EAAD,CACEtkC,KAAMyjC,GACNvkC,cAAe0kC,GACf3/B,YAAa0/B,GACbr1B,QACE,eAAC1Q,EAAA,EAAD,4DACyB,8BAAIylC,EAAcnoC,KAAlB,aAI7B,eAACsI,EAAA,EAAD,CAAK9G,OAAQ,EAAb,UACE,cAACkB,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,SAEEqxB,GAAU97B,GAAG,GACb,cAACxG,EAAA,EAAD,CACEsG,GAAI,CAGFpF,OAAQ+J,EAAW,IAAM,IACzBpT,MAAOoT,EAAW,IAAM,IACxB3U,aAAc,EACd6K,WAAY,GACZkF,aAAc4E,EAAW,GAAK,GARlC,SAWE,cAAC,WAAD,CAAUy1B,YAAY,EAAtB,mBAEE4B,UAFF,aAEE,EAAWtlC,KAAI,SAAC+iB,GAAD,OACb,qBAEEhf,IAAKgf,EACL7e,OAAQ+J,EAAW,MAAQ,MAC3BpT,MAAOoT,EAAW,MAAQ,OAHrB8U,UAUX,cAAC/f,EAAA,EAAD,CACM8C,UAAU,MACVwD,GAAI,CACJpF,OAAQ+J,EAAW,IAAM,IACzBpT,MAAOoT,EAAW,IAAM,IACxB9J,WAAY,EACZxK,YAAa,EACbL,aAAc,IAEdyK,IAAK0F,IACL7O,MAAO,CAACyO,aAAa,QAI/B,eAACrM,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAASzB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAApD,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAA1B,UACE,eAACF,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,yCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAcnoC,KAAM,YAI3B,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAc15B,aAAc,YAInC,eAACnM,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,+BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAcxyB,SAAU,YAI/B,eAACrT,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG+8B,EAAcvO,SAAS55B,KAAM,YAIpC,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,qCAIF,cAAC9I,EAAA,EAAD,CAAM++B,cAAY,EAAC9nB,GAAI,EAAvB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACG+8B,EAAchZ,4BAKvB,eAAC7sB,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,6BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAOunC,EAAcvyB,oBAItC,eAACtT,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,+BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACE,cAAC,IAAD,CACExK,MAAOunC,EAAchd,iBACT,YAInBtb,EACD,qCACA,eAACvN,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAAa+F,WAAW,SAAvE,UACE,cAAClG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SAIE,cAAC,IAAD,CAAgB3Y,MAAOuL,EAAIyD,oBAE5B3D,GAAQ7G,OAAQ,GAAK+G,EAAIoD,YACzB,cAACjN,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAGrZ,MAAO,CAAC2C,WAAW,EAAG8L,aAAa,GAArD,SACG,cAAC/C,EAAA,EAAD,CAAQ7J,KAAK,QAAQY,QAAQ,YAAW7D,MAAM,UAAUoB,MAAO,CAAC4nC,cAAc,QAAS9lC,QAAS,kBAAI+mC,IAAuB,IAA3H,8BACI,KACPD,GACD,cAAC,GAAD,CACE/6B,mBAAoB5B,EAAI4B,mBAAmB9B,QAASA,GAAQnH,KAAMgkC,GAClEl/B,QAAS,kBAAIm/B,IAAuB,IACpC3vB,UAAW,WACTA,IACAixB,GAAeD,IAEhB/8B,QAASlB,EAAIkB,QACbkC,YAAapD,EAAIoD,YACjBpD,IAAKA,IAGN,QAEHA,EAAIoD,YAAc,cAAC7M,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACpB,MAAML,EAAMM,cAAcC,aAAa,MAAxE,+DAAyH,KAC3ImN,EAAIoD,YAAc,eAAC7M,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACpB,MAAML,EAAMM,cAAcC,aAAa,KAAM2P,aAAa,IAA3F,0DAAyHxC,EAAI88B,oBAA7H,cAAoK,KAEvL,eAAC3mC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iDAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SAKE,cAAC,IAAD,CAAgB3Y,MAAOuL,EAAIif,4BAK/B,eAAC9oB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,qDAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SAKE,cAAC,IAAD,CAAgB3Y,MAAOuL,EAAIwpB,oBAI3B,WAKR,eAACrzB,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAgB,WAChBvC,MAAO,CAAE2C,UAAW,IAJtB,UAME,cAAC+I,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAAS,WACPsmC,IAAgB,IALpB,sBAUA,cAAC18B,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAAS,WACPwmC,IAAiB,IALrB,oBAWCkC,GACG,cAAC,GAAD,CACE5lC,KAAM4lC,GACN9gC,QAAS,kBAAI+gC,IAAoB,IACjCx+B,IAAKA,IAGL,KAEN,cAACrK,EAAA,EAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdE,QAnbM,SAACvB,GACnBoG,EAAYpG,EAAM+J,gBAmbNzI,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IANvB,SAQE,cAAC,IAAD,MAGF,eAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QA5bM,WAClB/C,EAAY,OAsbF,UAOE,eAAC,IAAD,CAAgB7E,QAAS,WAAQ2oC,IAAoB,IAArD,UACE,cAACvJ,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAWiD,SAAS,YAEtB,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,oBAGxB,eAAC,IAAD,WACE,cAACgc,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAyBiD,SAAS,YAEpC,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,iD,+VC9azB2lB,EAlHQ,SAACzrC,GACpB,MAAwCuF,mBAAS,CAC7C7E,KAAM,GACN+7B,qBAAsB,KAF1B,mBAAOC,EAAP,KAAqBC,EAArB,KAKM/qB,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KACxBwE,EAAWxM,cACjBvF,qBAAU,WACNw8B,EAAgB38B,EAAMs6B,YACvB,CAACt6B,EAAMs6B,WACV,MAAgC/0B,oBAAS,GAAzC,mBAAOmmC,EAAP,KAAiBC,EAAjB,KACMC,EAAoB,uCAAG,sBAAArlC,EAAA,6DACzB22B,IADyB,kBAGftoB,IAAWi3B,aACbj6B,EACA5R,EAAMs6B,SAAS5sB,KACfgvB,GANiB,OAQrB18B,EAAMo9B,UACNlrB,EAAS2P,IAAaa,iBAAiB,sDATlB,gDAWrB9c,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,wDAZd,yDAAH,qDAepBgqB,EAAoB,uCAAG,sBAAAvlC,EAAA,yDACzB22B,MACIl9B,EAAMs6B,SAAS1wB,SAAS9D,OAAS,GAFZ,uBAGrBoM,EACI2P,IAAaC,aACT,uHALa,mDAWflN,IAAWm3B,eAAen6B,EAAW5R,EAAMs6B,SAAS5sB,MAXrC,OAYrB1N,EAAMo9B,UACNlrB,EAAS2P,IAAaa,iBAAiB,0CAblB,kDAerB9c,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,4CAhBd,0DAAH,qDAmBpBob,EAAsB,WACxBl9B,EAAMyJ,cACNkzB,EAAgB38B,EAAMs6B,WAE1B,OACI,eAAC0R,EAAA,EAAD,2BAAkBhsC,GAAlB,cACI,cAACoD,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAArC,8CAGA,cAACyM,EAAA,EAAD,CACItkC,KAAMkmC,EACNhnC,cAAeonC,EACfriC,YAAa,kBAAMkiC,GAAY,IAC/B73B,QACI,eAAC1Q,EAAA,EAAD,uDAC2B,8BAAIpD,EAAMs6B,SAAS55B,KAAnB,aAInC,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACkG,QAAS,EAAGvI,MAAO,CAAE2C,UAAW,GAAIioB,SAAU,KAA9D,UACI,cAACxoB,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACI,cAACrJ,EAAA,EAAD,CACIsM,MAAM,uBACNhJ,QAAQ,WACRZ,KAAK,QACLmc,UAAQ,EACR5c,WAAS,EACTV,MAAK,OAAEo7B,QAAF,IAAEA,OAAF,EAAEA,EAAch8B,KACrBmB,SAAU,SAAC8J,GAAD,OACNgxB,EAAgB,2BAAKD,GAAN,IAAoBh8B,KAAMiL,EAAEC,OAAOtK,cAI9D,eAAC0B,EAAA,EAAD,CACIvB,MAAI,EACJ2H,GAAI,GACJxI,MAAO,CACH8C,QAAS,OACTgN,cAAe,MACfvN,eAAgB,YANxB,UASK,IACD,cAACmJ,EAAA,EAAD,CACI9M,MAAM,YACN6D,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEjB,YAAa,IACtB+C,QAAS,WACLipC,GAAY,IANpB,kCAWA,cAACr/B,EAAA,EAAD,CACA9M,MAAM,UACF6D,QAAQ,YACRX,QAASkpC,EACTnpC,KAAK,QAJT,oDChGdxD,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8sC,OAAQ,CACNloC,YAAa5E,EAAMgK,QAAQ,QAIhB,SAAS+iC,EAAalsC,GACnC,IACM4R,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KAC9B,EAA0CnI,mBAAS,IAAnD,mBAAO4mC,EAAP,KAAsBC,EAAtB,KACAjsC,qBAAU,WACR,IAAMm+B,EAAiB,uCAAG,4BAAA/3B,EAAA,+EAEGqO,IAAWy3B,eAClCz6B,EACA5R,EAAMs6B,SAAS5sB,MAJK,OAEhB4+B,EAFgB,OAMtBF,EAAiBE,EAAW95B,MANN,gDAQtB5M,QAAQC,IAAR,MARsB,yDAAH,qDAWnB7F,EAAMusC,aAGRH,IAFA9N,MAID,CAAC1sB,EAAY5R,EAAMs6B,SAAS5sB,KAAM1N,EAAMg9B,QAC3C,IAAM98B,EAAUjB,IAChB,EAAwBqG,IAAMC,UAAS,GAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAEM2U,EAAc,WAClB3U,GAASD,GACTiE,KAEF,EAA4BlE,oBAAS,GAArC,mBAAOgR,EAAP,KAAei2B,EAAf,KAEM/iC,EAAc,kBAAM+iC,GAAU,IACpC,OACE,eAACC,EAAA,EAAD,CACE3gC,UAAU,MACV,kBAAgB,wBAChBjC,UAAW7J,EAAM0sC,SAAWxsC,EAAQJ,KAAOI,EAAQ+rC,OAHrD,UAKE,cAAC,EAAD,CAAgB7O,QAASp9B,EAAMo9B,QAAS53B,KAAM+Q,EAAQ9M,YAAaA,EAAa6wB,SAAUt6B,EAAMs6B,WAChG,eAACxwB,EAAA,EAAD,WACE,cAACi4B,EAAA,EAAD,CACEjc,QACE,cAAClV,EAAA,EAAD,CAAUvG,MAAM,qBAAhB,SACE,eAACiC,EAAA,EAAD,CAAQ1L,MAAO,CAAC8C,QAAQ,OAAOgN,cAAc,MAAMvN,eAAe,aAAcwpC,eAAe,OAAOnE,cAAc,QAASxmC,WAAS,EAACU,QAb5H,kBAAM8pC,GAAU,IAa3B,UACE,cAAC1K,EAAA,EAAD,UACE,cAAC,IAAD,MAED9hC,EAAMs6B,SAAS55B,YAKY,IAAnCV,EAAMs6B,SAAS1wB,SAAS9D,OAAe,KAAON,EAC7C,eAAChD,EAAA,EAAD,CAAYC,KAAK,QAAQC,QAAS0X,EAAlC,UACG,IACD,cAAC,IAAD,IAAe,OAGjB,eAAC5X,EAAA,EAAD,CAAYC,KAAK,QAAQC,QAAS0X,EAAlC,UACG,IACD,cAAC,IAAD,CAAY+L,QAAM,IAAI,UAI5B,cAACmb,EAAA,EAAD,CAAUC,GAAI/7B,EAAMi8B,eAAa,EAAjC,SACG0K,EAAcnmC,KAAI,SAACs0B,GAAD,OACjB,cAAC4R,EAAD,CAAkC5R,SAAUA,EAAU8C,QAASp9B,EAAMo9B,QAASJ,MAAOh9B,EAAMg9B,OAAxE1C,EAAS5sB,cCtFtC,IAwBek/B,EAxBM,SAAC5sC,GACpB,IACM4R,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KAC9B,EAAgDnI,mBAAS,IAAzD,mBAAOsnC,EAAP,KAAyBC,EAAzB,KAYA,OAXA3sC,qBAAU,WACR,IAAMm+B,EAAiB,uCAAG,4BAAA/3B,EAAA,+EAEGqO,IAAWm4B,kBAAkBn7B,GAFhC,OAEhB06B,EAFgB,OAGtBQ,EAAoBR,EAAW95B,MAHT,gDAKtB5M,QAAQC,IAAR,MALsB,yDAAH,qDAQvBy4B,MACC,CAAC1sB,EAAW5R,EAAMg9B,QAEnB,cAACh0B,EAAA,EAAD,2BAAShJ,GAAT,aACG6sC,EAAiB7mC,KAAI,SAACs0B,GAAD,OACpB,cAAC4R,EAAD,CAAkC5R,SAAUA,EAAU0C,MAAOh9B,EAAMg9B,MAAOI,QAASp9B,EAAMo9B,QAASsP,UAAU,GAAzFpS,EAAS5sB,a,kBCZ9BzO,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXuE,YAAa,CACXf,SAAU,YAEZoqC,cAAe,CACbtwB,UAAW,OACXuwB,UAAW,SACX/qC,QAAS,SAsDAgrC,IAjDE,SAACltC,GAChB,IAAQyJ,EAAsBzJ,EAAtByJ,YAAajE,EAASxF,EAATwF,KACfrG,EAAQc,cACRC,EAAUjB,EAAUE,GAG1B,EAA8CmG,IAAMC,UAAS,GAA7D,mBAAOmgC,EAAP,KAAwBC,EAAxB,KAIA,EAA0BpgC,oBAAS,GAAnC,mBAAOy3B,EAAP,KAAcmQ,EAAd,KACM/P,EAAU,WACd+P,GAAS,SAAAnQ,GAAK,OAAKA,MAMrB,OACE,eAAC,IAAD,CAAOx3B,KAAMA,EAAMiE,YAAaA,EAAhC,UACE,cAAC8yB,EAAA,EAAD,CAAaa,QAASA,EAAS53B,KAAMkgC,EAAiBj8B,YAb9B,WAC1Bk8B,GAAmB,IAYuE3I,MAAOA,IAC/F,eAACh0B,EAAA,EAAD,CAAKa,UAAW3J,EAAQ8sC,cAAxB,UACE,eAAChkC,EAAA,EAAD,CACE0H,cAAc,MACdhN,QAAQ,OACRP,eAAe,gBACf+F,WAAW,SACXtI,MAAO,CAACkD,QAAQ,IALlB,UAOE,cAACV,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,2BAIA,cAACb,EAAA,EAAD,CACE,aAAW,MACXhD,MAAM,UACNkD,QAAS,WACPijC,GAAmB,IAJvB,SAOE,cAAC,IAAD,SAGJ,cAAC,EAAD,CAAc/kC,MAAO,CAAEC,MAAO,IAAKusC,QAAS,OAASpQ,MAAOA,EAAOI,QAASA,Y,mlBCqQrEiQ,OA1Sf,SAA4BrtC,GAC1B,IAAQ4V,EAA6D5V,EAA7D4V,MAAO1V,EAAsDF,EAAtDE,QAASyyB,EAA6C3yB,EAA7C2yB,kBAAoBrR,EAAyBthB,EAAzBshB,OAAQsR,EAAiB5yB,EAAjB4yB,aAC9CzzB,EAAQc,cAGRyH,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxB7F,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,KAEhGkK,EAAWxM,cAUjB,EAAsDJ,IAAMC,UAAS,GAArE,mBAAOmO,EAAP,KAA4BC,EAA5B,KACA,EAA4BrO,IAAMC,SAAS,CACzC+T,WAAY1D,EAAM0D,WAClB2mB,SAAUrqB,EAAM5O,GAChB0F,OAAQkJ,EAAMlJ,OACdgG,SAAUkD,EAAMlD,SAChB46B,YAAa13B,EAAM03B,YACnBva,UAAWnd,EAAMmd,UACjBuJ,mBAAoB1mB,EAAMjP,aAC1BA,aAAc,EACd6R,QAAS5C,EAAM4C,QAAQxS,KAAI,SAACwW,GAAD,yBAAC,eACvBA,GADsB,IAGzBkM,eAAgB,EAChB+C,YAAajP,EAAO1M,WACpBjC,gBAAe,UAAE1H,KAAKC,MAAMoW,EAAOzO,gBAApB,aAAE,EAA4B/H,KAAI,SAACmI,GAAD,mBAAC,eAC7CA,GAD4C,IAE/C6kB,oBACE7kB,EAAMH,oBAAsBG,EAAMud,kBACpCA,kBAAmB,OAErB6hB,cAAepnC,KAAKC,MAAMoW,EAAOzO,cAEnC/B,eAAgB,OAChB7D,YAAa,IACbqD,OAAO,MAxBT,mBAAOk4B,EAAP,KAAeC,EAAf,KA0BA,EAAkCr+B,IAAMC,UAAS,GAAjD,mBAAkBsO,GAAlB,WACA,EAAsCvO,IAAMC,SAAS,CACnD3E,MAAO,QACPkT,QAAS,wCAFX,mBAKMsf,GALN,UAK4B,SAACC,EAAQpiB,GACnC,IAAMiF,EAAYwtB,EAAOlrB,QAAQrC,WAC/B,SAAC1U,GAAD,OAAUA,EAAKuF,KAAOqsB,KAElBma,EAAYja,KAAEka,UAAU/J,GAG9B8J,EAAUh1B,QAAQtC,GAAWrI,gBAAkBoD,EAC/Cu8B,EAAUh1B,QAAQtC,GAAWwS,eAAiB6K,KAAEyM,MAC9C/uB,EACA,qBAGF0yB,EAAU6J,GACV75B,GAAwBD,KAG1BvT,qBAAU,WACRkU,MACC,CAACX,IAEJ,IAAMW,EAAoB,WACxB,IAAIpG,EAAQ,EACZy1B,EAAOlrB,QAAQtK,SAAQ,SAACzM,GACtBwM,GAASxM,EAAKgqB,YAAchqB,EAAKinB,kBAGnC,IAAI8kB,EAAYj3B,IAAOmtB,EAAQ,CAC7B/8B,aAAc,CAAEkQ,KAAM5I,GAEtB9F,YAAa,CAAE0O,KAAM5I,GACrBzC,OAAQ,CAAEqL,MAAoB,OAAbhP,QAAa,IAAbA,OAAA,EAAAA,EAAeoP,cAAcvV,QAAUwV,SAAUjJ,GAAD,OAAQpG,QAAR,IAAQA,OAAR,EAAQA,EAAeoP,cAAc3V,QAAS,OASjHqiC,EAAU6J,IAeNpiB,EAA2B,SAACiI,EAAQ5lB,GACxC,IAAMyI,EAAYwtB,EAAOlrB,QAAQrC,WAC/B,SAAC1U,GAAD,OAAUA,EAAKuF,KAAOqsB,KAElBma,EAAYj3B,IAAOmtB,EAAQ,CAC/BlrB,QAAQ,eACLtC,EAAY,CACXwS,eAAgB,CAAE7R,KAAMpJ,OAI9Bk2B,EAAU6J,GACV75B,GAAwBD,IAGpByX,EAA2B,SAACkI,EAAQzc,GACxC,IAAMV,EAAYwtB,EAAOlrB,QAAQrC,WAC/B,SAAC1U,GAAD,OAAUA,EAAKuF,KAAOqsB,KAElBma,EAAYj3B,IAAOmtB,EAAQ,CAC/BlrB,QAAQ,eACLtC,EAAY,CACXuV,YAAa,CAAE5U,KAAMD,OAI3B+sB,EAAU6J,GACV75B,GAAwBD,IAapBhP,GAAa,uCAAG,kCAAA6B,EAAA,6DACd0R,EAAIC,IAAOC,MAAQ,IAEnBu1B,EAAcx1B,IAAOG,KAAKJ,GAAGK,OAAO,sBAAuB,CAAEC,MAAM,IAEnEE,EAAO,CACXk1B,WAAY/3B,EAAMlI,KAClB4/B,YAAa5J,EAAO4J,YACpB3mC,aAAc+8B,EAAO/8B,aAAagS,WAClC3M,eAAgB03B,EAAO13B,eACvB7D,YAAau7B,EAAOv7B,YACpBsD,OAAOi4B,EAAOl4B,OACd9J,OACAgiC,EAAOv7B,aAAeu7B,EAAO/8B,aACzB,SACA,OACJ6R,QAASkrB,EAAOlrB,QAAQxS,KAAI,SAACwW,GAAD,MAAa,CACvCmX,WAAYnX,EAAOmX,WACnBzjB,SAAUsM,EAAOkM,eACjB5Y,WAAY0M,EAAOiP,YACnBmiB,gBAAiBpxB,EAAOxV,GACxB6G,gBAAiB2O,EAAO3O,gBAAgB7H,KAAI,SAACmI,GAAD,OAC1ColB,KAAEsa,KAAK1/B,EAAO,CAAC,sBAAuB,2BAExCo/B,cAAe/wB,EAAO+wB,cAAcvnC,KAAI,SAACmI,GASvC,OARc,2BACTA,GADS,IAEZud,kBACEvd,EAAMud,kBACNlP,EAAO3O,gBAAgBa,MACrB,SAACwC,GAAD,OAAmBA,EAAclK,KAAOmH,EAAMnH,MAC9C0kB,2BAKVgiB,eApCkB,kBAyCA9oB,IAAUkP,gBAC1BliB,EACA8xB,EAAOh3B,OAAOgB,KACd+K,GA5CgB,OAyCZY,EAzCY,OA8ClBnH,EAAS2P,KAAaa,iBAAb,6CAAsDrJ,EAAI7G,KAAK+R,eACxEjD,IACAsR,IACAD,IAjDkB,kDAmDlBzgB,EAAS2P,KAAaC,aAAa,yCACnCjO,GAAa,GACbjO,QAAQC,IAAR,MArDkB,0DAAH,qDA4DboO,GAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAGtD,OACE,uCACE,gBAACpR,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAgB+F,WAAW,SAA1E,UAEE,eAACY,EAAA,EAAD,CAAUlJ,MAAO,CAAE8O,WAAY,GAAIL,cAAe,GAAIlF,WAAY,IAAlE,SACE,eAAC/G,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAAEjB,YAAa,IAA/C,gCAMF,eAAC6C,EAAA,EAAD,CAAY,aAAW,QAAQqH,UAAW3J,EAAQ8zB,YAAatxB,QAASiwB,EAAxE,SACE,eAAC,IAAD,SAKJ,eAACsB,EAAA,EAAD,CAAerzB,MAAO,CAAE2C,UAAW,IAAnC,SACE,gBAACP,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAgB+F,WAAW,SAASC,QAAS,EAA5F,UAEE,eAACnG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,SACE,eAACC,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQg0B,KAAzB,SACE,eAAClrB,EAAA,EAAD,CAAKpI,MAAO,CAAEkD,QAAS,GAAImF,UAAW,QAAtC,SAGGgL,GA4BDyvB,EAAOlrB,QAAQxS,KAAI,SAACwW,EAAQpP,GAAT,OAMjB,cALA,CAKC,KAAD,CACEoP,OAAQA,EACR2O,yBAA0BA,EAC1BC,yBAA0BA,EAC1BzhB,QAAQ,OAtCE,gBAAC2R,EAAA,EAAD,CAAc3R,QAAM,EAApB,UACZ,eAAC4R,EAAA,EAAD,CACErb,QAASA,EAITwb,WAAYC,MAEd,eAACC,EAAA,EAAD,UASG8nB,EAAOlrB,QAAQxS,KAAI,SAACwW,EAAQpP,GAAT,OAClB,eAAC0gC,GAAD,CACE3iB,yBAA0BA,EAC1BC,yBAA0BA,EAC1B5O,OAAQA,EACR4W,oBAAqBA,kBAwBnC,eAACpwB,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAGpQ,UAAW3J,EAAQg0B,KAA7C,SACE,eAACha,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQg0B,KAAzB,SACE,eAACmI,EAAA,EAAD,CACE7pB,KAAMkxB,EACNnR,uBApJiB,SAAC6B,GAC9B,IAAMoZ,EAAYj3B,IAAOmtB,EAAQ,CAAEv7B,YAAa,CAAE0O,KAAMud,KACxDuP,EAAU6J,IAmJElb,0BAhJoB,SAACjT,GACjC,IAAMmuB,EAAYj3B,IAAOmtB,EAAQ,CAAE13B,eAAgB,CAAE6K,KAAMwI,KAC3DskB,EAAU6J,IA+IE9oC,cAAeA,kBAa/B,SAASopC,GAAT,GAAkH,IAApFtxB,EAAmF,EAAnFA,OAAQ2O,EAA2E,EAA3EA,yBAA0BC,EAAiD,EAAjDA,yBAA0BgI,EAAuB,EAAvBA,oBAClFlzB,EAAUjB,cAKhB,GAJcgB,cAIUqF,IAAMC,SAAS,SAAvC,mBAAO8I,EAAP,KAAaC,EAAb,KACAnO,qBAAU,cAAU,CAACqc,IAErB,IAOM9U,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCG,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,KAEhGoG,EAAe,OAAEvG,QAAF,IAAEA,OAAF,EAAEA,EAAeuG,gBAEtC,OACE,gBAACS,EAAA,EAAD,CAAUC,OAAK,EAAf,UACE,eAACG,EAAA,EAAD,CAAWC,MAAM,OAAOtO,MAAO,CAAEC,MAAO,GAAxC,SAA8C2b,EAAOrN,eAErD,eAACF,EAAA,EAAD,CAAWC,MAAM,OAAjB,SAAyBsN,EAAO9b,OAChC,eAACuO,EAAA,EAAD,CAAWC,MAAM,QAAjB,SAAyB,eAAC,IAAD,CAAsBtO,MAAO,CAAEC,MAAO,IAAMS,MAAOkb,EAAO1M,eACnF,eAACb,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACEd,EAAgB1M,QAAU0M,EAAgBmd,aAC1C,eAAC,IAAD,CAA8BvkB,GAAG,iBAAiBpG,MAAO,CAAEC,MAAO,IAAM4B,KAAK,QAAQiJ,WAAY,CAAE9K,MAAO,CAAEwK,UAAW,UAAayE,aAAc2M,EAAOiP,YAAa5pB,SAAU,SAAC8J,GAAD,OAhB3JiL,EAgBoLjL,EAAEC,OAAOtK,WAftN6pB,EAAyB3O,EAAOxV,GAAI4P,GADZ,IAACA,KAiBvB,eAAC,IAAD,CAAuBtV,MAAOkb,EAAOiP,YAArC,iBAcM,eAACxc,EAAA,EAAD,CAAWC,MAAM,OAAOpL,QAAQ,OAAhC,SACH0Y,EAAO3O,gBAAgB/H,OACtB0W,EAAO3O,gBAAgB7H,KAAI,SAACmI,EAAOf,GAAR,OACzB,uBACExM,MAAO,CACL8C,QAAS,OACTgN,cAAe,MACfC,IAAK,EACLtB,aAAc,EACdnG,WAAY,SACZmc,OAAQ,iBACRliB,eAAgB,gBARpB,UAWE,yCACMgL,EAAM2C,WADZ,aAES,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aACH,YAAM5C,QAAN,IAAMA,OAAN,EAAMA,EAAO4C,YAAYuZ,UAAU,EAAG,KACtC,GAJR,QAOA,uBAAK1pB,MAAO,CAAE8C,QAAS,OAAQgN,cAAe,OAA9C,UACE,eAAC3Q,EAAA,EAAD,CACEgJ,KAAK,SACLtG,KAAK,QACL7B,MAAO,CAAEC,MAAO,IAChBS,MAAO6M,EAAMud,kBACb7pB,SAAU,SAAC8J,GACT,IAAMrK,EAAQoF,OAAOiF,EAAEC,OAAOtK,OAE9B,KAAIA,EAAQ6M,EAAM6kB,qBAAuB1xB,EAAQ,GAAjD,CAGE,IAAM+yB,EAAkB,YAAO7X,EAAO3O,iBACtCwmB,EAAmBjnB,GAAOse,kBAAoBpqB,EAC9C8xB,EAAoB5W,EAAOxV,GAAIqtB,OAIrC,0CAAUlmB,EAAM6kB,gCAKtB,eAAC7iB,EAAA,EAAD,CACED,SAAUsM,EAAOkM,eACjBrY,YAjFmB,SAAC5C,GAC5B2d,EAAyB5O,EAAOxV,GAAIyG,IAiF5BY,KAAMA,EACNC,QAASA,EACTsS,MAAOpE,EAAOtM,SAAWsM,EAAOkP,kBAChCC,UAAU,MAMhB,eAAC1c,EAAA,EAAD,CAAWC,MAAM,QAAQrF,UAAW3J,EAAQsQ,SAA5C,SACD,eAAE,IAAF,CAAkBlP,MAAOoF,OAAO8V,EAAOkM,gBAAkBhiB,OAAO8V,EAAOiP,mBA/EnDjP,EAAOxV,I,wBChT1B/H,I,KAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,IAEhB2kB,YAAa,CACX1xB,SAAU,WACVssB,MAAOzvB,EAAMgK,QAAQ,GACrByd,IAAKznB,EAAMgK,QAAQ,GACnB3J,MAAOL,EAAM0mB,QAAQhjB,KAAK,MAE5BqxB,KAAM,CACJ5oB,WAAyC,UAA7BnM,EAAMM,cAAcqF,KAAmB,KAAOjC,IAAK,KAC/DvD,aAAcH,EAAMM,cAAcH,aAClCE,MAAO,UACPyhC,YAAa,GAEf31B,WAAY,CACVA,WAC+B,UAA7BnM,EAAMM,cAAcqF,KAChB3F,EAAMM,cAAcC,aAAa,IACjCmD,IAAK,MAEb4jB,eAAgB,CACdpB,OAAQ,EACRqB,KAAM,gBACNxc,OAAQ,EACRhI,QAAS,EACTykB,SAAU,SACV7iB,QAAS,EACTxB,SAAU,WACVskB,IAAK,GACL/lB,MAAO,SAqjBE0f,IAhjBf,SAAuBvgB,GAAQ,IAAD,UAC5B,EAAmCA,EAAMwgB,YAAjC3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QAAS9V,EAAtB,EAAsBA,SACdihB,EAAW3qB,EAAX2qB,OAEFjjB,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAC1BwE,EAAWxM,cAMXvG,EAAQc,cAGRC,GAFWgU,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtCnV,GAAUE,IAC1B,EAA4BmG,IAAMC,UAAS,GAA3C,mBAAO+b,EAAP,KAAexH,EAAf,KAEA,EAAgCxU,IAAMC,SAAS,MAA/C,mBAUA,GAVA,UAUwBD,IAAMC,UAAS,IAAvC,mBAAOC,EAAP,KAAaC,EAAb,KAMMktB,EAAoB,WACxBltB,GAAQ,IAcV,EAA0BF,mBAAS,CACjCmN,SAAU,CAAEhS,KAAM,IAClB6uB,gBAAiB,CAAE7uB,KAAM,IACzBgM,OAAQ,KACR8L,QAAS,KAJX,oBAAO5C,GAAP,MAAcC,GAAd,MAQA1V,qBAAU,WACR,IAAMohB,EAAQ,uCAAG,4BAAAhb,EAAA,+EAEK4S,KAASyX,SAAShf,EAAY/E,EAAIa,MAFvC,OAEP2L,EAFO,OAIbzT,QAAQC,IAAI,MAAMwT,EAAI7G,MACtBqD,GAASwD,EAAI7G,MALA,gDAObqD,GAAS,CACPnD,SAAU,CAAEhS,KAAM,IAClB6uB,gBAAiB,CAAE7uB,KAAM,IACzBgM,OAAQ,KACR8L,QAAS,KAXE,yDAAH,qDAmBVgH,IAAY3S,EAAIa,MAClB6T,MAED,CAACvhB,EAAMwgB,YAAYhB,QAAS8B,IAC/B,IAmB6BysB,GAAOC,GAnB9B/J,GAAaruB,GAAMjP,aAAeiP,GAAMxN,SAAWwN,GAAMzN,YAC/D,GAAgD5C,oBAAS,GAAzD,qBAAO2+B,GAAP,MAAyBC,GAAzB,MACMC,GAAyB,uCAAG,WAChCxyB,EACAC,EACAnE,EACA+K,GAJgC,SAAAlS,EAAA,+EAMzB4S,KAAS4X,aAAanf,EAAYC,EAAanE,EAAM+K,IAN5B,2CAAH,4DAWzBe,GAAeC,mBACfF,GAAcG,0BAAgB,CAClCC,QAAS,kBAAMH,GAAaI,WAQxB/R,GAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,KAChGe,GAAI,OAAGlB,SAAH,IAAGA,QAAH,EAAGA,GAAe2P,qBAAqBwF,UAE3CixB,GAAW,OAAGpmC,SAAH,IAAGA,QAAH,EAAGA,GAAeomC,YAI/BC,GAAuBt4B,GAAM4C,QAAQZ,OAAM,SAAUC,EAASzK,GAChE,OAA2C,IAAtC1G,OAAOmR,EAAQ6T,sBAKtB,OACE,gBAAC4V,EAAA,EAAD,CACEC,KAAI5W,GAAgBnL,IAAY3S,EAAIa,KACpC8zB,QAAQ,OACRC,eAAa,EAHf,UAKE,eAACrG,GAAA,EAAD,CACE1xB,SAAU1J,EAAMwgB,YAAY9W,SAC5BkpB,aAAc,kBAAM9Y,GAAWwH,IAC/B5T,KAAMb,EAAIa,KACV4S,KAAM2jB,GACNpI,KAAMn1B,OAAOmG,EAAI1E,aACjBkC,MACE,gBAACjH,EAAA,EAAD,CAAYC,QAAQ,KAApB,8CACmB,6BAAIwJ,EAAIyM,gBAG7B9T,KAAM0+B,GACNz6B,YAAa,kBAAM06B,IAAoB,IACvC9I,YAAa+I,KAGf,gBAACp7B,EAAA,EAAD,CAAK9G,OAAQ,EAAb,UACE,eAACkB,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,gBAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,gBAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,gBAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,0CAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIyM,WAAY,YAIvB,gBAACtW,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,2BACW,SAGb,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBAEGe,EAAIiM,qBAFP,aAEG,EAAmBiH,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAIiM,qBAApB,aAAgB,EAAmBiH,MAAM,KAAK,GAAGG,OAAO,EAAG,YAKzI,gBAACld,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gCAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACG8J,GAAMlD,SAAWkD,GAAMlD,SAAShS,KAAO,UAI9C,gBAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,sCAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG8J,GAAM2Z,gBAAkB3Z,GAAM2Z,gBAAgB7uB,KAAO,GAAI,eAKlE,gBAACsC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,gBAACjX,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,aACf+F,WAAW,SAJb,UAME,eAAClG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAEGm4B,GAAa,EAAI,wBAAkB,wBACnCA,GAAa,EAAI,eAAC,IAAD,CAAW3iC,MAAO2iC,KAAiB,UAGzD,eAACjhC,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACG66B,GAAa,EACZ,eAAC33B,EAAA,EAAD,CACE9M,MAAM,UACNiD,KAAK,QACLY,QAAQ,YACRX,QAAS,kBAAMyhC,IAAoB,IAJrC,gCAQE,UAGR,gBAACnhC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,eAAC,IAAD,CAAWxK,MAAOsU,GAAMjP,aAAeiP,GAAMxN,kBAInD,gBAACpF,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gDAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACG8J,GAAMlJ,OAASkJ,GAAMlJ,OAAOhM,KAAO,GAAI,YAI9C,gBAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAC0B,SAAvBe,EAAIb,eAA4B,qBAAa,WAAO,kBAO/D,eAAC5I,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVlL,MAAO,CAAE2C,UAAW,IAJtB,6CAQA,gBAACoZ,EAAA,EAAD,CAAOla,KAAK,QAAQ,aAAW,YAA/B,UACE,eAACo+B,EAAA,EAAD,UACE,gBAAChyB,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,uBACA,eAACA,EAAA,EAAD,iCAEA,eAACA,EAAA,EAAD,CAAWC,MAAM,QAAjB,qCACCg/B,GAAoB,eAACj/B,EAAA,EAAD,CAAWC,MAAM,QAAjB,oCAA6C,KAClE,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,2BACA,eAACD,EAAA,EAAD,CAAWC,MAAM,QAAjB,qCAGJ,eAAC0M,EAAA,EAAD,UACGhG,GAAM4C,QAAQxS,KAAI,SAACwW,GAAD,OACjB,gBAAC3N,EAAA,EAAD,WACE,eAACI,EAAA,EAAD,CAAWnD,UAAU,KAAKg1B,MAAM,MAAhC,SACGtkB,EAAOrN,eAEV,eAACF,EAAA,EAAD,UAAYuN,EAAO9b,OAEnB,eAACuO,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACE,iCACGsN,EAAOtM,SACR,+BACGsM,EAAOzO,QACJ5H,KAAKC,MAAMoW,EAAOzO,SAAS/H,KAAI,SAACmI,GAAD,OAC7B,eAAC0C,EAAA,EAAD,CACEpO,KAAK,QACL4J,MAAK,WACE,OAAL8B,QAAK,IAALA,OAAA,EAAAA,EAAO2C,YAAP,OAAoB3C,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAAa,WADrC,aAGE,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OACI5C,QADJ,IACIA,OADJ,EACIA,EAAO4C,YAAYuZ,UAAU,EAAG,IAChC,GALD,eAMEnc,EAAMH,qBAEbxO,MAAO2O,EAAMgD,OAAS,UAAY,YAClC9N,QAAQ,YAFH8K,EAAMnH,OAKf,YAKTknC,GACA,eAACj/B,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACC,iCACGsN,EAAOkP,kBACR,+BACGlP,EAAOzO,QACJ5H,KAAKC,MAAMoW,EAAOzO,SAAS/H,KAAI,SAACmI,GAAD,OAC7B,eAAC0C,EAAA,EAAD,CACEpO,KAAK,QACL4J,MAAK,WACE,OAAL8B,QAAK,IAALA,OAAA,EAAAA,EAAO2C,YAAP,OAAoB3C,QAApB,IAAoBA,OAApB,EAAoBA,EAAO2C,WAAa,WADrC,aAGE,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OACI5C,QADJ,IACIA,OADJ,EACIA,EAAO4C,YAAYuZ,UAAU,EAAG,IAChC,GALD,aAMAnc,EAAMud,mBAEXlsB,MAAO2O,EAAMgD,OAAS,UAAY,YAClC9N,QAAQ,YAFH8K,EAAMnH,OAKf,YAGG,KACb,eAACiI,EAAA,EAAD,CAAWC,MAAM,QAAjB,SACE,eAAC,IAAD,CAAW5N,MAAOkb,EAAO1M,eAE3B,eAACb,EAAA,EAAD,CAAWC,MAAM,QAAQtO,MAAO,CAAE4J,WAAY,KAA9C,SACE,eAAC,IAAD,CAAWlJ,MAAOkb,EAAOtM,SAAWsM,EAAO1M,iBA5DhC0M,EAAOmX,oBAkE5B,eAAC3qB,EAAA,EAAD,CACEa,UAAW3J,EAAQoL,WACnB1K,MAAO,CACLkD,QAAS,GACTxE,aAAcH,EAAMM,cAAcH,aAClCiE,UAAW,IALf,SAQE,gBAACP,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAA1B,UACE,gBAACF,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SAEE,gBAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8CACqB8J,GAAM4C,QAAQ1S,OADnC,SAIF,eAAC9C,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGvD,YAAuBqN,GAAM4C,gBAKpC,gBAACxV,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iCAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,eAAC,IAAD,CAAWxK,MAAOuL,EAAIlG,sBAK5B,gBAAC3D,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,gCAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,eAAC,IAAD,CAAWxK,MAAOuL,EAAIzE,kBAK5B,gBAACpF,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAMlL,MAAO,CAAC4J,WAAW,IAAKhL,MAAML,EAAMM,cAAcC,aAAa,MAAxH,SACE,eAAC,IAAD,CAAW4B,MAAOuL,EAAIlG,aAAekG,EAAIzE,kBAK/C,gBAACpF,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAhD,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4CAIF,eAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,eAAC,IAAD,CAAWxK,MAAOuL,EAAI1E,0BAOhC,gBAACnF,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MAEVC,eAAgB,WAChBvC,MAAO,CAAE2C,UAAW,IALtB,WA4BG,UAAAmE,EAAKuK,KAAKvE,YAAV,eAAgB2S,SAAhB,OAAyBzK,SAAzB,IAAyBA,QAAzB,EAAyBA,GAAO2Z,gBAAgB7hB,SAAhD,UAA0DhG,EAAKuD,YAA/D,aAA0D,EAAWoV,SAAS,UAC7E,eAAC/T,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QAEL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAlbS,WACnB,IACcyW,KAAS6X,YAAYpf,EAAYC,EAAahF,EAAIa,MAC9DwE,EAAS2P,KAAaa,iBAAiB,iDACvChZ,IACA,MAAO8rB,GACPtjB,EAAS2P,KAAaC,aAAa,mDACnClc,QAAQC,IAAI2vB,KAsaN,yCAQS,MAEa,IAAvByY,GAAYvsC,SAA2C,IAAvBusC,GAAYvsC,SAzXxBqsC,GAyXgE,IAAI1kC,KAzX7D2kC,GAyXoE,IAAI3kC,KAAKwD,EAAIiM,eAxXlGF,KAAKu1B,IAAIH,GAAQD,IACnB,MAuXsHE,GAAYG,KACvI,eAAC9hC,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL8J,SAAU7F,OAAOmG,EAAIlG,cAAgBD,OAAOmG,EAAIzE,UAAY1B,OAAOmG,EAAI1E,aAAe,EACtFvH,MAAO,CAAEuJ,WAAY,IACrBzH,QArcU,WACtB+C,GAAQ,IA+bE,8BASH,KACA,eAAC6G,EAAA,EAAD,CAAQjJ,QAAQ,YAAY7D,MAAM,UAASiD,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMo6B,UAAW,eAAC,IAAD,CAAkB3hC,SAAS,UAAYF,QAAS,kBAAM6W,MAApJ,2CA4CL,sBAAK3Y,MAAO,CAAE8C,QAAS,QAAvB,SACE,sBAAKoZ,IAAKtD,GAAV,SACE,eAACuD,EAAA,EAAD,CAAgBnN,KAAMgG,GAAO6N,KAAI,UAAE5W,EAAIiM,qBAAN,aAAE,EAAmBiH,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAM9I,KAAMtK,EAAIyM,WAAYvQ,KAAMA,SAMpI,eAACi5B,EAAA,EAAD,CACEhgC,WAAS,EACTwpB,SAAS,KACThmB,KAAMA,EACN8E,QAASqoB,EACT,kBAAgB,oBALlB,SAOE,eAAC,GAAD,CACEA,kBAAmBA,EACnB/c,MAAOA,GACP1V,QAASA,EACT0yB,aAAc,kBAAM9Y,GAAWwH,IAC/BA,OAAQ5X,W,uYC/mBZzK,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZqoB,IAAK,CACHpqB,MAAO1B,EAAMgK,QAAQ,GACrBe,OAAQ/K,EAAMgK,QAAQ,IAExBmU,UAAW,CACTzc,MAAO,QAETxB,MAAO,CACLqE,QAAS,aA0LA2qC,EArLQ,SAACruC,GAAW,IAAD,UACxByJ,EAAgCzJ,EAAhCyJ,YAAajE,EAAmBxF,EAAnBwF,KAAMkE,EAAa1J,EAAb0J,SACrBvK,EAAQc,cACRC,EAAUjB,EAAUE,GAC1B,EAAoCmG,IAAMC,UAAS,GAAnD,mBAAO+oC,EAAP,KAAmBC,EAAnB,KACA,EAA6BhpC,oBAAS,GAAtC,mBAAOipC,EAAP,KAAgBC,EAAhB,KAGMC,EAAiB3wB,YAAU,CAC/BC,cAAe,CACbtd,MAAM,UAAAV,EAAM2uC,sBAAN,eAAsBjuC,OAAQ,GACpCs4B,OAAO,UAAAh5B,EAAM2uC,sBAAN,eAAsB3V,QAAS,GACtCr4B,OAAO,UAAAX,EAAM2uC,sBAAN,eAAsBhuC,QAAS,GACtCo4B,SAAS,UAAA/4B,EAAM2uC,sBAAN,eAAsB5V,UAAW,GAC1C6V,aAAa,UAAA5uC,EAAM2uC,sBAAN,eAAsB1V,eAAgB,IAErDwC,iBAAkBC,IAAW,CAC3Bh7B,KAAMg7B,MAAa9c,SAAS,qCAC5Bje,MAAO+6B,MACJ51B,OAAO,GAAI,8DAAiC+oC,QAAQ,SAEvD7V,MAAO0C,MAAa1C,MAAM,sCAKxBpnB,EADOjK,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAChBI,MAAM4F,KAO9BvN,qBAAU,WACLmuC,GAAaC,GAAc,KAC9B,CAACG,EAAexwB,OAAOvd,QAEzB,IAAMuR,EAAWxM,cACjB,OAEE,eAACs8B,EAAA,EAAD,CAAQx8B,KAAMA,EAAM8E,QAASb,EAAa,kBAAgB,oBAA1D,UACE,cAAC8+B,EAAA,EAAD,CAAavhC,GAAG,oBAAhB,SACE,cAAC5D,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,oDAKF,cAAC4wB,EAAA,EAAD,UACE,qBAAKpqB,UAAW3J,EAAQJ,KAAxB,SAEE,eAACkD,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,eACfgG,QAAS,EAJX,UAME,eAACnG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,UACE,cAACrJ,EAAA,EAAD,CACEiH,GAAG,iBACHqF,MAAM,0BACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLmc,UAAQ,EACRle,KAAO,OACPmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAOxd,KAC7By4B,MAAOuV,EAAe3S,QAAQr7B,MAAQguC,EAAe5S,OAAOp7B,KAC5Dw7B,WAAYwS,EAAe3S,QAAQr7B,KAAOguC,EAAe5S,OAAOp7B,KAAO,KACvEs7B,OAAQ0S,EAAezS,aAEzB,cAACl8B,EAAA,EAAD,CACE6e,UAAQ,EACR5X,GAAG,iBACHqF,MAAM,oCACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,QACLmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAOvd,MAC7Bw4B,MAAOuV,EAAe3S,QAAQp7B,OAAS+tC,EAAe5S,OAAOn7B,MAC7Du7B,WAAYwS,EAAe3S,QAAQp7B,MAAQ+tC,EAAe5S,OAAOn7B,MAAQ,KACzEq7B,OAAQ0S,EAAezS,aAEtBqS,GACD,cAACQ,EAAA,EAAD,CAAgB3V,OAAK,EAArB,gGAEF,cAACp5B,EAAA,EAAD,CACEiH,GAAG,iBACHqF,MAAM,yBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAM,UAENmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAO6a,QAC7BI,MAAOuV,EAAe3S,QAAQhD,SAAW2V,EAAe5S,OAAO/C,QAC/DmD,WAAYwS,EAAe3S,QAAQhD,QAAU2V,EAAe5S,OAAO/C,QAAU,KAC7EiD,OAAQ0S,EAAezS,gBAG3B,eAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,UACE,cAACrJ,EAAA,EAAD,CACEiH,GAAG,OACHqF,MAAM,6BACNhJ,QAAQ,WACRZ,KAAK,QACLoH,UAAW3J,EAAQod,UACnB5c,KAAO,cACPmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAO0wB,YAC7BzV,MAAOuV,EAAe3S,QAAQ6S,aAAeF,EAAe5S,OAAO8S,YACnE1S,WAAYwS,EAAe3S,QAAQ6S,YAAcF,EAAe5S,OAAO8S,YAAc,KACrF5S,OAAQ0S,EAAezS,aAEzB,cAACl8B,EAAA,EAAD,CACEiH,GAAG,iBACHqF,MAAM,QACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAO,QACPmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAO8a,MAC7BG,MAAOuV,EAAe3S,QAAQ/C,OAAS0V,EAAe5S,OAAO9C,MAC7DkD,WAAYwS,EAAe3S,QAAQ/C,MAAQ0V,EAAe5S,OAAO9C,MAAQ,KACzEgD,OAAQ0S,EAAezS,uBAOjC,eAACyM,EAAA,EAAD,WACE,cAACp8B,EAAA,EAAD,CACE5J,QAAS+G,EACTpG,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YAJR,sBAQA,cAAC8M,EAAA,EAAD,CACE5J,QAAO,sBAAE,4BAAA6D,EAAA,6DACPkoC,GAAW,GACPh2B,EAAO,CACT/X,KAAMguC,EAAexwB,OAAOxd,KAC5Bs4B,MAAO0V,EAAexwB,OAAO8a,MAC7Br4B,MAAO+tC,EAAexwB,OAAOvd,MAC7Bo4B,QAAS2V,EAAexwB,OAAO6a,QAC/BE,aAAcyV,EAAexwB,OAAO0wB,aAP/B,kBAWkBr6B,IAAYgV,eAAe3X,EAAY5R,EAAM2uC,eAAejhC,KAAM+K,GAXpF,cAYLhP,IAEAyI,EAAS2P,IAAaa,iBAAiB,4DACvChZ,IAfK,kDAmBL6kC,GAAc,GACdE,GAAW,GApBN,0DAwBTprC,QAAQ,YACRZ,KAAK,QACLjD,MAAM,UACN+M,UAAcmiC,EAAevS,SAAaqS,EA5B5C,gD,qCCxJFvvC,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,SAKd0/B,EAAc,WAClB,OACE,cAAC/lC,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CACFpF,OAAQ,IACRrJ,MAAO,IACPvB,aAAc,IACd6K,WAAY,IAGdJ,IAAKy7B,OA0TIwJ,IArTQ,SAAChvC,GAAW,IAAD,EAEhC,EAAyBA,EAAMwgB,YAAvB3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QAELmL,EAAW3qB,EAAX2qB,OAEFxrB,EAAQc,cACRC,EAAUjB,EAAUE,GAG1B,GAFiB+U,YAAc/U,EAAMgV,YAAYC,KAAK,OAEZ9O,IAAMC,UAAS,IAAzD,mBAAO0jC,EAAP,KAAsBC,EAAtB,KACA,EAAsC5jC,IAAMC,UAAS,GAArD,mBAAO0pC,EAAP,KAAoBC,EAApB,KACA,EAAgC5pC,IAAMC,UAAS,GAA/C,mBAAO4pC,EAAP,KAAiBC,EAAjB,KACA,EAAgC9pC,IAAMC,SAAS,MAA/C,mBAAO+B,EAAP,KAAiBC,GAAjB,KAMM2K,GAAWxM,cAEXgC,GAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAClCkK,GAAalK,GAAKI,MAAM4F,KAExBjE,GAAc,WAClBlC,GAAY,OAIR8nC,GAAoB,uCAAG,sBAAA9oC,EAAA,6DAC3B2iC,GAAiB,GADU,kBAGF30B,IAAY8U,eAAezX,GAAY/E,EAAIa,MAHzC,cAIzBwE,GAAS2P,IAAaa,iBAAiB,4BACvC1iB,EAAMwgB,YAAY9W,WALO,gDAOzB9D,QAAQC,IAAR,MACAqM,GAAS2P,IAAaC,aAAa,8BARV,yDAAH,qDAY1B,GAAoCvc,mBAAS,GAA7C,qBAAO6uB,GAAP,MAAmBkb,GAAnB,MAEM7lB,GAAO,uCAAG,sBAAAljB,EAAA,mEAERqL,GAFQ,uBAGVs9B,GAAe,GAHL,SAIQ36B,IAAYkV,QAAQ7X,GAAY/E,EAAIa,KAAM,CAC1DvF,YAAaisB,GACb+T,kBAAmBzgC,GAAKuD,KACxBi9B,kBAAmBxgC,GAAKuK,KAAKvR,KAC7BunC,gBAAiBvgC,GAAKuK,KAAKjL,GAC3Byc,KAAMvL,IAAO,IAAI7O,MAAQiP,OAAO,gBATxB,cAWVpG,GAAS2P,IAAaa,iBAAiB,2CACvC4sB,GAAc,GACdtvC,EAAMwgB,YAAY9W,WAbR,yDAgBZwI,GAAS2P,IAAaC,aAAa,6CAhBvB,0DAAH,qDAqBb,OACE,eAACwf,EAAA,EAAD,CAAUC,KAAI5W,GAAgBnL,IAAY3S,EAAIa,KAAM8zB,QAAQ,OAAOC,eAAa,EAAhF,UACE,cAACqI,EAAA,EAAD,CACEtkC,KAAMyjC,EACNx/B,YAAa,WACXy/B,GAAiB,IAEnBxkC,cAAe2qC,GACfv7B,QACE,eAAC1Q,EAAA,EAAD,0DAC2B,8BAAIyJ,EAAInM,KAAR,aAI9BuuC,GAAe,cAACnF,EAAA,EAAD,CACdtkC,KAAMypC,EACNxlC,YAAa,WACXylC,GAAe,IAEjBxqC,cAAe+kB,GACf3V,QACE,qCACA,eAAC1Q,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACyO,aAAa,IAA9C,yBAA0D,mBAAGzO,MAAO,CAACpB,MAAML,EAAMM,cAAcC,aAAa,MAAlD,SAA0DmN,EAAInM,UAgB1H,eAACoJ,EAAA,EAAD,WACI,cAAC,IAAD,CACAlJ,MAAO,CAACjB,YAAY,IACpB2B,MAAO8yB,GACPvyB,SAAU,SAAC8J,GACT,IAAMqQ,EAAStV,OAAOiF,EAAEC,OAAOtK,OAC3B0a,EAAS,GAAKA,EAASnP,EAAIyT,MAC/BgvB,GAAc3jC,EAAEC,OAAOtK,UAP7B,KAUQ,cAAC,IAAD,CAAWA,MAAOuL,EAAIyT,KAAM1f,MAAO,CAACpB,MAAM,OAAQgL,WAAW,eAKtE2kC,GAAW,cAAC,EAAD,CAAgBR,eAAgB9hC,EAAKrH,KAAM2pC,EAAUzlC,SAAU1J,EAAMwgB,YAAY9W,SAAUD,YAAa,WAAQ2lC,GAAY,MACxI,eAACpmC,EAAA,EAAD,CAAK9G,OAAQ,EAAb,UACE,cAACkB,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAMjC,UAAW3J,EAAQ8gC,KAAzE,SACGn0B,EAAInM,OAGP,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,SACE,cAAC,EAAD,MAEF,eAACjX,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,uCAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAI0iC,cAA9D,YAGJ,eAACvsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wCAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAInM,KAA9D,YAGJ,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iDAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAA0De,EAAIlM,aAGlE,eAACqC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,0CAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAA0De,EAAIosB,oBAGlE,eAACj2B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,sCAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAIksB,QAA9D,YAGJ,eAAC/1B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,qBAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAA0De,EAAImsB,MAA9D,eAMN,eAACh2B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACA,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAAyE,WAAfe,EAAInL,OAAsB,oBAAc,6CAGtG,eAACsB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,sCAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAAyD,cAAC,IAAD,CAAgBxK,MAAOuL,EAAIpB,gBAGxF,eAACzI,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,uCAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SAAyD,cAAC,IAAD,CAAYxK,MAAOuL,EAAIqsB,uBAGpF,eAACl2B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8BAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UAAyD,cAAC,IAAD,CAAYxK,MAAOuL,EAAIyT,OAAhF,YAkBF,eAACtd,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACA,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,uBAEF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,mBACGpN,EAAI2iC,cADP,aACG,EAAYxpC,KAAI,SAAAypC,GAAC,OAAI,cAAC,IAAD,CAAKjwC,MAAM,UAAX,SAAuBiwC,kBAWrD,eAACzsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAgB,WAAYvC,MAAO,CAAE2C,UAAW,IAAhF,UACE,cAAC+I,EAAA,EAAD,CAAQjJ,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMzH,QAAS,WAAQ0sC,GAAY,IAAjG,sBACA,cAAC9iC,EAAA,EAAD,CAAQjJ,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMzH,QAAS,WAAQwmC,GAAiB,IAAtG,oBACCr8B,EAAIyT,KAAO,EAAI,cAAChU,EAAA,EAAD,CAAQjJ,QAAQ,YAAYZ,KAAK,QAAQjD,MAAM,UAAUoB,MAAO,CAAEuJ,WAAY,IAAMzH,QAAS,WAAQwsC,GAAe,IAApH,yBAA+I,KAC/J,cAAC1sC,EAAA,EAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdE,QA3OU,SAACvB,GACnBoG,GAAYpG,EAAM+J,gBA2OVzI,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IANvB,SASE,cAAC,IAAD,MAGF,cAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QAASb,GALX,SAQE,eAAC,IAAD,CACC/G,QAAO,sBAAE,sBAAA6D,EAAA,yDACRkD,KACmB,aAAfoD,EAAInL,OAFA,0CAImB6S,IAAYgV,eAAe3X,GAAY/E,EAAIa,KAA3C,2BAAqDb,GAArD,IAA0DnL,OAAO,YAJpF,cAKJwQ,GAAS2P,IAAaa,iBAAiB,uCALnC,gDAOJ9c,QAAQC,IAAR,MACAqM,GAAS2P,IAAaC,aAAa,yCAR/B,mCAUkB,WAAfjV,EAAInL,OAVP,4CAYmB6S,IAAYgV,eAAe3X,GAAY/E,EAAIa,KAA3C,2BAAoDb,GAApD,IAAyDnL,OAAO,cAZnF,eAaJwQ,GAAS2P,IAAaa,iBAAiB,yDAbnC,mDAeJxQ,GAAS2P,IAAaC,aAAa,2DAf/B,QAmBR9hB,EAAMwgB,YAAY9W,WAnBV,iEADV,UAyBE,cAACo4B,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAyBiD,SAAS,YAEpC,cAACm/B,EAAA,EAAD,CAAcjc,QAAwB,aAAfjZ,EAAInL,OAAwB,oBAAc,wD,+VCnVzEzC,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,GACN6D,YAAa,CACXf,SAAU,YAEZvD,MAAO,CACLqE,QAAS,aAmMAgsC,EA9LQ,SAAC1vC,GACtB,IAAQyJ,EAAsCzJ,EAAtCyJ,YAAajE,EAAyBxF,EAAzBwF,KAAMmqC,EAAmB3vC,EAAnB2vC,eAErBxwC,EAAQc,cACRC,EAAUjB,EAAUE,GAEpBywC,EAAiB7xB,YAAU,CAC/BC,cAAe,CACbtd,MAAoB,OAAdivC,QAAc,IAAdA,OAAA,EAAAA,EAAgBjvC,OAAQ,GAC9Bs4B,OAAqB,OAAd2W,QAAc,IAAdA,OAAA,EAAAA,EAAgB3W,QAAS,GAChCr4B,OAAqB,OAAdgvC,QAAc,IAAdA,OAAA,EAAAA,EAAgBhvC,QAAS,GAChCo4B,SAAuB,OAAd4W,QAAc,IAAdA,OAAA,EAAAA,EAAgB5W,UAAW,GACpC8W,SAAuB,OAAdF,QAAc,IAAdA,OAAA,EAAAA,EAAgBE,UAAW,GACpCjB,aAA2B,OAAde,QAAc,IAAdA,OAAA,EAAAA,EAAgB1W,eAAgB,IAE/CwC,iBAAkBC,IAAW,CAC3Bh7B,KAAMg7B,MAAa9c,SAAS,yCAC5Bje,MAAO+6B,MACJ51B,OAAO,GAAI,8DAGdkzB,MAAO0C,MAAa1C,MAAM,oCAE5BuC,oBAAoB,IAIhB3pB,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KACxBwE,EAAWxM,cACXoqC,EAAoB,uCAAG,4BAAAvpC,EAAA,6DAC3BkD,IAD2B,UAGrBg9B,EAAe,IAAIC,UACVC,OAAO,OAAQiJ,EAAe1xB,OAAOxd,KAAKiY,YACvD8tB,EAAaE,OAAO,QAASiJ,EAAe1xB,OAAO8a,MAAMrgB,YACzD8tB,EAAaE,OAAO,QAASiJ,EAAe1xB,OAAOvd,MAAMgY,YACzD8tB,EAAaE,OAAO,eAAgBiJ,EAAe1xB,OAAO0wB,YAAYj2B,YACtE8tB,EAAaE,OAAO,eAAgBiJ,EAAe1xB,OAAO2xB,QAAQl3B,YAClE8tB,EAAaE,OAAO,UAAWiJ,EAAe1xB,OAAO6a,QAAQpgB,YATpC,UAUnBgZ,IAAYS,eAAexgB,EAAY+9B,EAAejiC,KAAM+4B,GAVzC,QAWzBv0B,EAAS2P,IAAaa,iBAAiB,mDACvC1iB,EAAM0J,WAZmB,kDAczBwI,EAAS2P,IAAaC,aAAa,qDACnClc,QAAQC,IAAR,MAfyB,0DAAH,qDAkBpBq3B,EAAqB,WAEzB0S,EAAetU,aAEjB,OACE,cAAC,IAAD,CACE91B,KAAMA,EACNiE,YAAa,WAAKA,IAAcyzB,KAChC,kBAAgB,oBAHlB,SAKE,eAACl0B,EAAA,EAAD,CAAKpI,MAAO,CAAEC,MAAO,IAAK2qB,SAAU,QAApC,UACE,cAACpoB,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAAKg6B,cAAY,EAArE,sDAGA,eAACr6B,EAAA,EAAD,CAAMC,WAAS,EAACkG,QAAS,EAAGvI,MAAO,CAAE2C,UAAW,IAAhD,UACE,cAACP,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACE,cAACrJ,EAAA,EAAD,CACE6e,UAAQ,EACR5X,GAAG,iBACHqF,MAAM,8BACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,OACLmB,SAAU+tC,EAAejxB,aACzBrd,MAAOsuC,EAAe1xB,OAAOxd,KAC7By4B,MAAOyW,EAAe7T,QAAQr7B,MAAQkvC,EAAe9T,OAAOp7B,KAC5Dw7B,WAAY0T,EAAe7T,QAAQr7B,KAAOkvC,EAAe9T,OAAOp7B,KAAO,KACvEs7B,OAAQ4T,EAAe3T,eAG3B,cAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACE,cAACrJ,EAAA,EAAD,CAEEiH,GAAG,iBACHqF,MAAM,yBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,UACLmB,SAAU+tC,EAAejxB,aACzBrd,MAAOsuC,EAAe1xB,OAAO6a,QAC7BI,MAAOyW,EAAe7T,QAAQhD,SAAW6W,EAAe9T,OAAO/C,QAC/DmD,WAAY0T,EAAe7T,QAAQhD,QAAU6W,EAAe9T,OAAO/C,QAAU,KAC7EiD,OAAQ4T,EAAe3T,eAG3B,cAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,cAACrJ,EAAA,EAAD,CACEiH,GAAG,iBACHqF,MAAM,oCACNhJ,QAAQ,WACRZ,KAAK,QACLT,WAAS,EAETtB,KAAK,QACLmB,SAAU+tC,EAAejxB,aACzBrd,MAAOsuC,EAAe1xB,OAAOvd,MAC7Bw4B,MAAOyW,EAAe7T,QAAQp7B,OAASivC,EAAe9T,OAAOn7B,MAC7Du7B,WAAY0T,EAAe7T,QAAQp7B,MAAQivC,EAAe9T,OAAOn7B,MAAQ,KACzEq7B,OAAQ4T,EAAe3T,eAG3B,cAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,cAACrJ,EAAA,EAAD,CACEiH,GAAG,iBACHqF,MAAM,QACNhJ,QAAQ,WACRZ,KAAK,QACLT,WAAS,EACTtB,KAAK,QACLmB,SAAU+tC,EAAejxB,aACzBrd,MAAOsuC,EAAe1xB,OAAO8a,MAC7BG,MAAOyW,EAAe7T,QAAQ/C,OAAS4W,EAAe9T,OAAO9C,MAC7DkD,WAAY0T,EAAe7T,QAAQ/C,MAAQ4W,EAAe9T,OAAO9C,MAAQ,KACzEgD,OAAQ4T,EAAe3T,eAG3B,cAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACE,cAACrJ,EAAA,EAAD,CACEiH,GAAG,iBACHqF,MAAM,oBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,UACLmB,SAAU+tC,EAAejxB,aACzBrd,MAAOsuC,EAAe1xB,OAAO2xB,QAC7B1W,MAAOyW,EAAe7T,QAAQ8T,SAAWD,EAAe9T,OAAO+T,QAC/D3T,WAAY0T,EAAe7T,QAAQ8T,QAAUD,EAAe9T,OAAO+T,QAAU,KAC7E7T,OAAQ4T,EAAe3T,eAG3B,cAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACE,cAACrJ,EAAA,EAAD,CACEiH,GAAG,iBACHqF,MAAM,6BACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,cACLmB,SAAU+tC,EAAejxB,aACzBrd,MAAOsuC,EAAe1xB,OAAO0wB,YAC7BzV,MAAOyW,EAAe7T,QAAQ6S,aAAegB,EAAe9T,OAAO8S,YACnE1S,WAAY0T,EAAe7T,QAAQ6S,YAAcgB,EAAe9T,OAAO8S,YAAc,KACrF5S,OAAQ4T,EAAe3T,kBAI7B,eAACj5B,EAAA,EAAD,CACEvB,MAAI,EACJ2H,GAAI,GACJxI,MAAO,CACL8C,QAAS,OACTgN,cAAe,MACfvN,eAAgB,WAChBI,UAAW,IAPf,UAUE,cAAC+I,EAAA,EAAD,CACC5J,QAAS,WAAK+G,IAAcyzB,KAC3B75B,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YAJR,sBAQA,cAAC8M,EAAA,EAAD,CACE1L,MAAO,CAAEuJ,WAAY,IACrBzH,QAASotC,EACTzsC,QAAQ,YACRZ,KAAK,QACLjD,MAAM,UACN+M,UAAWqjC,EAAezT,QAN5B,kD,SCnLJl9B,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,SAyTL0gC,IApTQ,SAAC/vC,GACtB,MAAyBA,EAAMwgB,YAAvB3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QACLmL,EAAW3qB,EAAX2qB,OAEFxrB,EAAQc,cACRC,EAAUjB,EAAUE,GAIpBuI,GAHWwM,YAAc/U,EAAMgV,YAAYC,KAAK,OAGzCzM,aAAY,SAACC,GAAD,OAAWA,EAAMF,SACpCkK,EAAalK,EAAKI,MAAM4F,KAE9B,EAAgCpI,IAAMC,SAAS,MAA/C,mBAAO+B,EAAP,KAAiBC,EAAjB,KACA,EAA0CjC,IAAMC,UAAS,GAAzD,mBAAO0jC,EAAP,KAAsBC,EAAtB,KACA,EAAsC5jC,IAAMC,UAAS,GAArD,mBAAO0pC,EAAP,KAAoBC,EAApB,KACA,EAAuC5pC,IAAMC,UAAS,GAAtD,mBAAOyqC,EAAP,KAAoBC,EAApB,KACM/9B,EAAWxM,cAIX+D,GAAc,WAClBlC,EAAY,OAER2oC,GAAoB,uCAAG,sBAAA3pC,EAAA,6DAC3B2iC,GAAiB,GADU,kBAGFvX,IAAYM,eAAergB,EAAY/E,EAAIa,MAHzC,cAIzBwE,EAAS2P,IAAaa,iBAAiB,4BACvC1iB,EAAMwgB,YAAY1G,YALO,gDAOzBlU,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,8BARV,yDAAH,qDAY1B,GAAoCvc,mBAAS,GAA7C,qBAAO6uB,GAAP,MAAmBkb,GAAnB,MACM7lB,GAAO,uCAAG,sBAAAljB,EAAA,mEAERqL,EAFQ,uBAGVs9B,GAAe,GAHL,SAIQvd,IAAYlI,QAAQ7X,EAAY/E,EAAIa,KAAM,CAC1DvF,YAAaisB,GACb+T,kBAAmBzgC,EAAKuD,KACxBi9B,kBAAmBxgC,EAAKuK,KAAKvR,KAC7BunC,gBAAiBvgC,EAAKuK,KAAKjL,KARnB,cAUVkL,EAAS2P,IAAaa,iBAAiB,2CACvC4sB,GAAc,GACdtvC,EAAMwgB,YAAY1G,YAZR,yDAeZlU,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,6CAhBvB,0DAAH,qDAmBb,OACE,eAACwf,EAAA,EAAD,CAAUC,KAAI5W,GAAYnL,IAAY3S,EAAIa,KAAM8zB,QAAQ,OAAOC,eAAa,EAA5E,UACE,cAACqI,EAAA,EAAD,CACEtkC,KAAMyjC,EACNx/B,YAAa,WACXy/B,GAAiB,IAEnBxkC,cAAewrC,GACfp8B,QACE,eAAC1Q,EAAA,EAAD,8DAC6B,8BAAIyJ,EAAInM,KAAR,aAIhCuuC,GAAe,cAACnF,EAAA,EAAD,CACdtkC,KAAMypC,EACNxlC,YAAa,WACXylC,GAAe,IAEjBxqC,cAAe+kB,GACf3V,QACE,qCACA,eAAC1Q,EAAA,EAAD,CAAYC,QAAQ,KAAKzC,MAAO,CAACyO,aAAa,IAA9C,8BAA0D,mBAAGzO,MAAO,CAACpB,MAAML,EAAMM,cAAcC,aAAa,MAAlD,SAA0DmN,EAAInM,UAC1H,eAACoJ,EAAA,EAAD,WACI,cAAC,IAAD,CACAlJ,MAAO,CAACjB,YAAY,IACpB2B,MAAO8yB,GACPvyB,SAAU,SAAC8J,GACT,IAAMqQ,EAAStV,OAAOiF,EAAEC,OAAOtK,OAC3B0a,EAAS,GAAKA,EAASnP,EAAIyT,MAC/BgvB,GAAc3jC,EAAEC,OAAOtK,UAP7B,KAUQ,cAAC,IAAD,CAAWA,MAAOuL,EAAIyT,KAAM1f,MAAO,CAACpB,MAAM,OAAQgL,WAAW,eAKtEwlC,GAAe,cAAC,EAAD,CAAgBL,eAAgB9iC,EAAKrH,KAAMwqC,EAAcvmC,YAAe,kBAAMwmC,GAAgB,IAAQvmC,SAAW1J,EAAMwgB,YAAY1G,YACnJ,eAAC9Q,EAAA,EAAD,CAAK9G,OAAQ,EAAb,UACE,cAACkB,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,eAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAE2H,GAAI,EAAG6Q,GAAI,EAAvB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,uCACkB,SAGpB,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIsjC,cAAe,YAI1B,eAACntC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wCACmB,SAGrB,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAInM,KAAM,YAIjB,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iDAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAIlM,MAAO,YAIlB,eAACqC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,sCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGe,EAAIksB,eAIX,eAAC/1B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,qBAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGe,EAAImsB,MAAO,eAMpB,eAACh2B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UAEA,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACI,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACkB,WAAfe,EAAInL,OAAsB,oBAAc,6CAK/C,eAACsB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wDAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAYxK,MAAOuL,EAAIqsB,uBAK7B,eAACl2B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,8BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACA,cAAC,IAAD,CAAYxK,MAAOuL,EAAIyT,cAK3B,eAACtd,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,0CAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAAEwY,GAAI,EAAhB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGe,EAAIosB,oBAIX,eAACj2B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,0BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGe,EAAIgjC,qBAOf,eAAC7sC,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAgB,WAChBvC,MAAO,CAAE2C,UAAW,IAJtB,UAME,cAAC+I,EAAA,EAAD,CAAQjJ,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMzH,QAAW,kBAAMutC,GAAgB,IAArG,sBAGA,cAAC3jC,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAAS,WACPwmC,GAAiB,IALrB,oBAUCr8B,EAAIyT,KAAO,EAAI,cAAChU,EAAA,EAAD,CAAQjJ,QAAQ,YAAYZ,KAAK,QAAQjD,MAAM,UAAUoB,MAAO,CAAEuJ,WAAY,IAAMzH,QAAS,WAAQwsC,GAAe,IAApH,yBAA+I,KAC/J,cAAC1sC,EAAA,EAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdE,QAnPU,SAACvB,GACnBoG,EAAYpG,EAAM+J,gBAmPVzI,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IANvB,SAQE,cAAC,IAAD,MAEF,cAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QAASb,GALX,SAQE,eAAC,IAAD,CACC/G,QAAO,sBAAE,sBAAA6D,EAAA,yDACRkD,KACmB,aAAfoD,EAAInL,OAFA,0CAImBiwB,IAAYS,eAAexgB,EAAY/E,EAAIa,KAA3C,2BAAqDb,GAArD,IAA0DnL,OAAO,YAJpF,cAKJwQ,EAAS2P,IAAaa,iBAAiB,uCALnC,gDAOJ9c,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,yCAR/B,mCAUkB,WAAfjV,EAAInL,OAVP,4CAYmBiwB,IAAYS,eAAexgB,EAAY/E,EAAIa,KAA3C,2BAAoDb,GAApD,IAAyDnL,OAAO,cAZnF,eAaJwQ,EAAS2P,IAAaa,iBAAiB,yDAbnC,mDAeJxQ,EAAS2P,IAAaC,aAAa,2DAf/B,QAkBR9hB,EAAMwgB,YAAY1G,YAlBV,iEADV,UAsBE,cAACgoB,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAyBiD,SAAS,YAEpC,cAACm/B,EAAA,EAAD,CAAcjc,QAAwB,aAAfjZ,EAAInL,OAAwB,oBAAc,wD,yXC7MhE0uC,EAvIW,SAACpwC,GACvB,qBAAmDA,GAA3CwF,EAAR,EAAQA,KAAMiE,EAAd,EAAcA,YAAa4mC,EAA3B,EAA2BA,eACrBvyB,EAASC,YAAU,CACrBwd,oBAAoB,EACpBvd,cAAe,CACXsyB,eAAe,GACfC,SAAU,GACVC,iBAAkB,IAEtB/U,iBAAkBC,IAAW,CACzB4U,eAAgB5U,MACX9c,SAAS,gCACT/F,IAAI,EAAG,sEACZ03B,SAAU7U,MACL9c,SAAS,gCACT/F,IAAI,EAAG,sEACZ23B,iBAAkB9U,MACb9c,SAAS,yCACT6xB,MAAM,CAAC/U,IAAQ,YAAa,MAAO,6CAI1C9pB,EADOjK,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAClBI,MAAM4F,KACxBwE,EAAUxM,cACVgrC,EAAoB,uCAAG,sBAAAnqC,EAAA,sDACzBoqC,IACA,IACqBC,IAAQC,qBAAqBj/B,EAAWy+B,EAAe3iC,KAAK,CACzE4iC,eAAexyB,EAAOI,OAAOoyB,eAC7BQ,kBAAmBhzB,EAAOI,OAAOqyB,WAErCr+B,EAAS2P,IAAaa,iBAAiB,sDAC1C,MAAMyW,GACHjnB,EAAS2P,IAAaa,iBAAiB,wDATlB,2CAAH,qDAYpBiuB,EAAyB,WAC3B7yB,EAAOwd,YACP7xB,KAEJ,OACI,eAAC,IAAD,CAAajE,KAAMA,EAAMiE,YAAaknC,EAAtC,UACI,cAACvtC,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAArC,8CAIA,eAACr6B,EAAA,EAAD,CAAMC,WAAS,EAACkG,QAAS,EAAGvI,MAAO,CAAE4qB,SAAU,IAAKjoB,UAAW,IAA/D,UACI,cAACP,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACI,cAACrJ,EAAA,EAAD,CACIsD,QAAQ,SACRrB,WAAS,EACTqK,MAAM,yBACN/K,MAAO+uC,EAAe3vC,KACtB6L,UAAQ,MAGhB,cAACvJ,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACI,cAACrJ,EAAA,EAAD,CACIgJ,KAAK,WACLrI,KAAK,iBACL2C,QAAQ,WACRub,UAAQ,EACR5c,WAAS,EACTqK,MAAM,+CACNxK,SAAUic,EAAOa,aACjBrd,MAAOwc,EAAOI,OAAOoyB,eACrBnX,MAAOrb,EAAOie,QAAQuU,gBAAkBxyB,EAAOge,OAAOwU,eACtDpU,WAAYpe,EAAOie,QAAQuU,eAAiBxyB,EAAOge,OAAOwU,eAAiB,KAC3EtU,OAAQle,EAAOme,eAGvB,cAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACI,cAACrJ,EAAA,EAAD,CACIgJ,KAAK,WACLrI,KAAK,WACL2C,QAAQ,WACRub,UAAQ,EACR5c,WAAS,EACTqK,MAAM,8BACNxK,SAAUic,EAAOa,aACjBrd,MAAOwc,EAAOI,OAAOqyB,SACrBpX,MAAOrb,EAAOie,QAAQwU,UAAYzyB,EAAOge,OAAOyU,SAChDrU,WAAYpe,EAAOie,QAAQwU,SAAWzyB,EAAOge,OAAOyU,SAAW,KAC/DvU,OAAQle,EAAOme,eAGvB,cAACj5B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAf,SACI,cAACrJ,EAAA,EAAD,CACIgJ,KAAK,WACLrI,KAAK,mBACL2C,QAAQ,WACRub,UAAQ,EACR5c,WAAS,EACTqK,MAAM,wCACNxK,SAAUic,EAAOa,aACjBrd,MAAOwc,EAAOI,OAAOsyB,iBACrBrX,MAAOrb,EAAOie,QAAQyU,kBAAoB1yB,EAAOge,OAAO0U,iBACxDtU,WAAYpe,EAAOie,QAAQyU,iBAAmB1yB,EAAOge,OAAO0U,iBAAmB,KAC/ExU,OAAQle,EAAOme,kBAI3B,eAACj5B,EAAA,EAAD,CACIvB,MAAI,EACJ2H,GAAI,GACJxI,MAAO,CACH8C,QAAS,OACTgN,cAAe,MACfvN,eAAgB,WAChBuM,WAAY,IAPpB,UAUI,cAACpD,EAAA,EAAD,CACIjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEjB,YAAa,IACtB+C,QAASiuC,EAJb,sBAQA,cAACrkC,EAAA,EAAD,CACIjJ,QAAQ,YACRZ,KAAK,QACLjD,MAAM,UACNkD,QAASguC,EACT9vC,MAAO,CAAEjB,YAAa,IACtB4M,WAAYuR,EAAOqe,SAAW7D,OAAOC,KAAKza,EAAOie,SAASj2B,OAAS,GANvE,6B,SC5FV7G,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZo+B,KAAM,CACJ3xB,aAAc,SAKd0/B,EAAc,SAAC,GAAa,IAAXhlC,EAAU,EAAVA,IACrB,OACE,cAACf,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CACFpF,OAAQ,IACRrJ,MAAO,IACPvB,aAAc,IACd6K,WAAY,IAEdJ,IAAKA,KAYLgnC,EAAoB,CACxBC,IAAK,4BACL,YAAa,2BAsWAC,IAnWQ,SAACjxC,GAAW,IAAD,EAChC,EAAuCA,EAAMwgB,YAArC3T,EAAR,EAAQA,IAAK2S,EAAb,EAAaA,QAAS0xB,EAAtB,EAAsBA,aACdvmB,EAAW3qB,EAAX2qB,OAEFzY,EAAWxM,cAEXvG,EAAQc,cACRC,EAAUjB,EAAUE,GAG1B,GAFiB+U,YAAc/U,EAAMgV,YAAYC,KAAK,OAEtB9O,IAAMC,UAAS,IAA/C,mBAAO4rC,EAAP,KAAiBC,EAAjB,KAEA,EAAgC9rC,IAAMC,SAAS,MAA/C,mBAAO+B,EAAP,KAAiBC,EAAjB,KACA,EAA4CjC,IAAMC,SAAS,CACzDmI,KAAM,GACNhN,KAAM,GACNskC,UAAW,GACXqM,cAAe,GACfC,YAAa,GACb3wC,MAAO,GACPq4B,MAAO,GACPD,QAAS,GACT/T,YAAa,GACbusB,YAAa,GACbC,OAAQ,GACR5kC,SAAU,KAZZ,mBAAOyjC,EAAP,KAAuBoB,EAAvB,KAuBM/pC,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KAC9B,GAA4BnI,oBAAS,GAArC,qBAAO+b,GAAP,MAAexH,GAAf,MACA3Z,qBAAU,WACR,IAAMuxC,EAAQ,uCAAG,4BAAAnrC,EAAA,+EAEUorC,IAAYC,YAAYhgC,EAAY/E,EAAIa,MAFlD,OAEPgH,EAFO,OAGb+8B,EAAkB/8B,EAASlC,MAHd,gDAKbi/B,EAAkB,CAChB/jC,KAAM,GACNhN,KAAM,GACNskC,UAAW,GACXqM,cAAe,GACfC,YAAa,GACb3wC,MAAO,GACPq4B,MAAO,GACPD,QAAS,GACT/T,YAAa,GACbusB,YAAa,GACbC,OAAQ,GACR5kC,SAAU,KAjBC,yDAAH,qDAqBV4S,IAAY3S,EAAIa,MAAQkE,GAC1B8/B,MAED,CAAClyB,EAAQ8B,KACZ,OAAkC/b,oBAAS,GAA3C,qBAAOssC,GAAP,MAAkBC,GAAlB,MACA,OACE,eAACxQ,EAAA,EAAD,CAAUC,KAAI5W,GAAgBnL,IAAY3S,EAAIa,KAAM8zB,QAAQ,OAAOC,eAAa,EAAhF,UACG0P,GAAa,cAACY,EAAA,EAAD,CACZtoC,YAAa,SAAC/H,GACG,YAAXA,GACFwQ,EAAS2P,IAAaa,iBAAiB,yCACvC5I,IAAWwH,KACS,WAAX5f,GACTwQ,EAAS2P,IAAaC,aAAa,2CAErCsvB,GAAY,GACZF,KAEF1rC,KAAM2rC,EACNvP,SAAUyO,IAEZ,cAAC,EAAD,CAAmB7qC,KAAMqsC,GAAWpoC,YAAa,kBAAMqoC,IAAa,IAAQzB,eAAgBA,IAC5F,eAACrnC,EAAA,EAAD,CAAK9G,OAAQ,EAAb,UACE,cAACkB,EAAA,EAAD,CACEC,QAAQ,KACRg6B,cAAY,EACZvxB,UAAU,MACVjC,UAAW3J,EAAQ8gC,KAJrB,SAMGn0B,EAAInM,OAGP,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAG6Q,GAAI,EAAtB,SACE,cAAC,EAAD,CAAalQ,IAAKsmC,EAAepkB,YAEnC,eAACjpB,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCACe,SAGjB,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGukC,EAAe2B,cAAe,YAIrC,eAAChvC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,mCACgB,SAGlB,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGukC,EAAe3vC,KAAM,YAI5B,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4CACgB,SAGlB,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGukC,EAAerL,UAAW,YAIjC,eAAChiC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGukC,EAAegB,qBAItB,eAACruC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,oBAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGukC,EAAeiB,mBAItB,eAACtuC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,iDAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGukC,EAAe1vC,aAItB,eAACqC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,qBAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGukC,EAAerX,MAAO,YAI7B,eAACh2B,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,sCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACGukC,EAAetX,QAAS,eAMjC,eAAC/1B,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,GAAI6Q,GAAI,EAAvB,UACE,eAACjX,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,mCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGukC,EAAerrB,YAAYhf,KAAI,SAACisC,GAAD,OAC9B,cAACphC,EAAA,EAAD,CAAMxE,MAAO4lC,EAAWxgB,wBAKhC,eAACzuB,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,4BAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,mBACGukC,EAAezjC,gBADlB,aACG,EAAyB5G,KAAI,SAAC0G,GAAD,OAC5B,cAACmE,EAAA,EAAD,CAAMxE,MAAOK,EAAOhM,iBAK5B,eAACsC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,yCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACGilC,EAAkBV,EAAekB,oBAIxC,eAACvuC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,wCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,SACE,cAAC,IAAD,CAAWxK,MAAO+uC,EAAemB,gBAKvC,eAACxuC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,eAAe,aAA/C,UACE,cAACH,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAG6Q,GAAI,EAAtB,SACE,cAAC7W,EAAA,EAAD,CAAYC,QAAQ,KAAKg6B,cAAY,EAACvxB,UAAU,MAAhD,kCAIF,cAAC9I,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAf,SACE,eAAC7W,EAAA,EAAD,CAAYC,QAAQ,QAAQg6B,cAAY,EAACvxB,UAAU,MAAnD,UACkB,WAAfe,EAAInL,OAAsB,oBAAa,sCAAmB,kBASrE,eAACsB,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAgB,WAChBvC,MAAO,CAAE2C,UAAW,IAJtB,UAME,cAAC+I,EAAA,EAAD,CACEjJ,QAAQ,YACRZ,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IACrBzH,QAAS,WACP0uC,GAAY,IALhB,sBAUA,cAAC9kC,EAAA,EAAD,CAAQjJ,QAAQ,YAAYZ,KAAK,QAAQ7B,MAAO,CAAEuJ,WAAY,IAAMzH,QAAO,sBAAE,sBAAA6D,EAAA,yDACxD,aAAfsG,EAAInL,OADmE,0CAGhDiwC,IAAYO,eAAetgC,EAAYy+B,EAAe3iC,MAHN,cAIvEwE,EAAS2P,IAAaa,iBAAiB,uCACvCwuB,IALuE,gDAOvEtrC,QAAQC,IAAR,MACAqM,EAAS2P,IAAaC,aAAa,yCARoC,mCAUjD,WAAfjV,EAAInL,OAV4D,4CAYhDiwC,IAAYQ,iBAAiBvgC,EAAYy+B,EAAe3iC,MAZR,eAavEwE,EAAS2P,IAAaa,iBAAiB,yDACvCwuB,IAduE,mDAgBvEh/B,EAAS2P,IAAaC,aAAa,2DAhBoC,iEAA7E,SAqBkB,aAAfjV,EAAInL,OAAwB,oBAAc,wCAG7C,cAACc,EAAA,EAAD,CACE,aAAW,OACX,gBAAc,YACd,gBAAc,OACdE,QA3RU,SAACvB,GACnBoG,EAAYpG,EAAM+J,gBA2RVzI,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,IANvB,SAQE,cAAC,IAAD,MAGF,eAAC,IAAD,CACEnD,GAAG,kBACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QAnSU,WAClB/C,EAAY,OA6RN,UAOE,eAAC,IAAD,CAAgB7E,QAAO,sBAAE,sBAAA6D,EAAA,+EAEEorC,IAAYS,eAAexgC,EAAYy+B,EAAe3iC,MAFxD,cAGrBwE,EAAS2P,IAAaa,iBAAiB,4CACvCwuB,IAJqB,gDAMrBh/B,EAAS2P,IAAaC,aAAa,8CANd,yDAAzB,UASE,cAACggB,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAyBiD,SAAS,YAEpC,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,cAGT,UAAdpe,EAAKuD,MACJ,eAAC,IAAD,CAAgBvI,QAAS,kBAAMovC,IAAa,IAA5C,UACE,cAAChQ,EAAA,EAAD,CAAclhC,MAAO,CAAEjB,aAAc,IAArC,SACE,cAAC,IAAD,CAAUiD,SAAS,YAErB,cAACm/B,EAAA,EAAD,CAAcjc,QAAQ,wC,iCCzatC,8DAMMqK,EAActwB,aAAW,SAACV,GAAD,MAAY,CACvCixB,QAAS,CACPzlB,gBAAiB,UAEjBnL,MAAO,OAEPoD,SAAUzD,EAAMinB,WAAWiK,QAAQ,IACnChL,OAAQ,qBAPMxlB,CASd+Q,KAuBSZ,IArBE,SAAChQ,GACSA,EAAlBqK,MAAkBrK,EAAX2Z,QACZ,OACI,8BACI,cAACwW,EAAD,CACIkiB,OAAK,EACLhoC,MACA,cAAC,IAAMue,SAAP,UAIK5oB,EAAM4J,WAPf,SAWE,cAAC,IAAD,CAAiBhH,SAAS,gB,sJC0FzBw3B,IAnHQ,SAAC,GAAwD,IAAvD5nB,EAAsD,EAAtDA,KAAK8/B,EAAiD,EAAjDA,SAASC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,YAAYnxB,EAAmB,EAAnBA,cAClD3Z,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAEhC,GADiBhG,EAAKI,MAAM8E,SACQrH,mBAAS,QAA7C,mBAAOktC,EAAP,KAAmBC,EAAnB,KAEA,EAAwCntC,mBAAS,IAAjD,mBAAO80B,EAAP,KAAqBmC,EAArB,KACA,EAAqCj3B,mBAAS,IAA9C,mBAWMotC,GAXN,UAW4B,SAAtBA,EAAuBrY,GACzB,IAAMsY,EAAetY,EAAS5rB,MAAK,SAAA/C,GAAC,OAAIA,EAAE+B,OAAS+kC,KACnD,GAAGG,EAAgB,OAAOA,EAC1B,IAAI,IAAInY,EAAI,EAAGA,EAAGH,EAASx0B,OAAS20B,IAClC,GAAGH,EAASG,GAAG7wB,SAAS9D,OAAS,EAAG,OAAO6sC,EAAoBrY,EAASG,GAAG7wB,YAGzEipC,EAAc,SAAdA,EAAeC,GACnB,GAAIA,EACJ,OAA2B,IAAxBA,EAAIlpC,SAAS9D,OAAqBgtC,EAAIplC,KAClColC,EAAIlpC,SAAS5D,KAAI,SAAC+sC,GACvB,OAAOF,EAAYE,OAGjBC,EAAiB,WACrB,GAAkB,QAAfP,EACDF,EAAQD,OAEL,CAAC,IAAD,EACCQ,EAAOH,EAAoBtY,GAC3B4Y,EAAqC,KAAvB,OAAHH,QAAG,IAAHA,GAAA,UAAAA,EAAKlpC,gBAAL,eAAe9D,QAAc+sC,EAAYC,GAAO,GAE3DI,GADJD,EAAY,GAAGrxC,OAAOuxC,MAAM,GAAIF,IACV,sBAAOA,GAAP,QAAiBH,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAKplC,OAAOulC,EAOrDV,EAAQD,EAASjyC,QAAO,SAAAmS,GAAI,oBAAM0gC,QAAN,IAAMA,OAAN,EAAMA,EAAQ7yB,SAASmyB,EAAW,UAAChgC,EAAK8nB,gBAAN,aAAC,EAAe5sB,KAAK8E,EAAK4gC,qBAKtFxW,EAAgB,uCAAG,4BAAAr2B,EAAA,+EAEMqO,IAAWkoB,kBAAkBlrB,GAFnC,OAEX8C,EAFW,OAGjB8nB,EAAgB9nB,EAASlC,MAHR,uGAAH,qDAOtBrS,qBAAU,WACFyR,GAAcC,GAAcygC,GAAW1V,MACzC,IAENz8B,qBAAU,WACHk6B,GAAe7nB,GAA0B,IAAnB8/B,EAASxsC,QAC9BktC,MAIF,CAACP,IAEP,MAA+CltC,mBAAS,MAAxD,mBAAO8tC,EAAP,UAYH,OAFGztC,QAAQC,IAAI,mBAAmBwtC,GAE/Bb,EAEK,mCACD,cAAC,IAAD,CAKAc,SAnBa,SAACC,EAAc7rC,GACzBA,EAAK8rC,KAAK9lC,KACTglC,EAAchrC,EAAK8rC,KAAK9lC,MAExBglC,EAAc,OAGlBrxB,GAAc,IAcdkc,SAAQ,CAAG,CAAElzB,MAAM,iCAAkB/I,MAAM,QAAnC,mBAA6C+4B,QAQzD,cAAC,IAAD,CACIz5B,MAAO,CAAEC,MAAO,KAChBy8B,cAAe,CAAE5gB,UAAW,IAAKiK,SAAU,OAAO5b,OAAO,KACzDwyB,SAAQ,CAAG,CAAElzB,MAAM,iCAAkB/I,MAAM,QAAnC,mBAA6C+4B,IACrD/4B,MAAOmxC,EACP5wC,SAAU,SAAC27B,GAAD,OAAOkV,EAAclV,IAC/BC,sBAAoB,EACpBx7B,YAAY,oB,qYC8CLmZ,IAzIK,SAAC,GAA8H,IAA7H/V,EAA4H,EAA5HA,SAAU0N,EAAkH,EAAlHA,YAAa1R,EAAqG,EAArGA,sBAAuBsI,EAA8E,EAA9EA,OAAQ0R,EAAsE,EAAtEA,aAAahO,EAAyD,EAAzDA,SAAS8F,EAAgD,EAAhDA,YAAYsgC,EAAoC,EAApCA,QAAQnmC,EAA4B,EAA5BA,UAAU+F,EAAkB,EAAlBA,aACtHlU,EAAQc,cACRC,EAAUjB,YAAUE,GACpB+sB,EAAqB,CACzB,CAAEllB,GAAI,KAAMkI,MAAO,OAAQid,gBAAgB,EAAM9f,MAAO,YACxD,CAAErF,GAAI,OAAQkI,MAAO,OAAQid,gBAAgB,EAAO9f,MAAO,UAC3D,CAAErF,GAAI,QAASkI,MAAO,QAASid,gBAAgB,EAAO9f,MAAO1C,EAAQ,gBAAU,mBAC/E,CAAE3C,GAAI,YAAakI,MAAO,QAASid,gBAAgB,EAAO9f,MAAO,gBACjE,CAAErF,GAAI,GAAIkI,MAAO,QAASid,gBAAgB,EAAO9f,MAAO,KAE1D,EAAwC9G,mBAAS,IAAjD,mBACA,GADA,UACoCA,mBAAS,QAA7C,mBAEMmC,GAFN,UAEaC,aAAY,SAACC,GAAD,OAAWA,EAAMF,SACpCkK,EAAalK,EAAKI,MAAM4F,KACxBmE,EAAcnK,EAAKgF,OAAOgB,KAC1B7F,EAAgBH,EAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,EAAKI,MAAMC,uBAAwBC,IAGtG,GAAqCzC,mBAAS,IAA9C,qBAAOmuC,GAAP,MAAmBC,GAAnB,MACAxzC,qBAAU,WACR,GAAKkS,OAAOC,aAAaC,QAAQ,YAAa,CAC5C,IAAMlN,EAAWc,KAAKC,MAAMiM,OAAOC,aAAaC,QAAQ,aACpDlN,EAASuM,aAAeA,GAAcvM,EAASwM,cAAgBA,GACjE8hC,GAActuC,EAASmN,SAG3B,IAEF,IAAMohC,GAAyC,IAAvBv4B,EAAavV,OAAY,GAAIuV,EAAarV,KAAI,SAACvE,GAAD,OAAQA,EAAKiM,QAC7EmmC,GAAW,SAACpyC,GACjB,IAAMqyC,EAAcz4B,EAAa3M,MAAK,SAAA7B,GAAG,OAAIpL,EAAKiM,OAASb,EAAIa,QAC/D,OAAG+lC,EAAS,OAAOK,QAAP,IAAOA,OAAP,EAAOA,EAAYC,cAC/B,OAAOD,QAAP,IAAOA,OAAP,EAAOA,EAAY5jC,UAKpB,GAAoC3K,oBAAS,GAA7C,qBAAOmY,GAAP,MAAmB2D,GAAnB,MACA,GAA4B9b,mBAAS,MAArC,iCAuEA,OACM,sBAAK3E,MAAO,CAAC2C,WAAW,IAAxB,UAEC,cAAC,IAAD,CAAS8G,MAAM,yBAAiB,aAAW,MAA3C,SAAiD,cAAC,IAAD,CAAoBzH,SAAS,QAAQF,QAAS,kBAAIyQ,EAAY,SAAUvS,MAAO,CAACjB,YAAY,OAC7I,cAAC,IAAD,CAAS0K,MAAM,6BAAgB,aAAW,MAA1C,SAAgD,cAAC,IAAD,CAAkBzH,SAAS,QAAQF,QAAS,kBAAIyQ,EAAY,UAAWvS,MAAO,CAACjB,YAAY,OAC3I,cAAC,IAAD,CAAS0K,MAAM,WAAM,aAAW,MAAhC,SAAsC,cAAC,IAAD,CAAwBzH,SAAS,QAAOF,QAAS,kBAAI2e,IAAc,IAAQzgB,MAAO,CAACjB,YAAY,OACrI,cAAC,IAAD,CAAS0K,MAAM,6BAAgB,aAAW,MAA1C,SAAgD,cAAC,IAAD,CAAsBzH,SAAS,QAASF,QAAS,kBAAI2Q,GAAc/F,QAEnG,SAAbD,GA9Ee,WACvB,IAAM7N,EAAqC,UAA7BL,EAAMM,cAAcqF,KAAoB,OAAS,OAC/D,OACE,mCACA,cAAC,IAAD,CAAgBlE,MAAO,CAAC8b,UAAW,OAAQzT,UAAU,QAArD,SACA,eAAC,IAAD,CAAOxG,KAAM,QAASslB,cAAY,EAAlC,UACI,cAAC,IAAD,CACI7nB,QAASA,EACTwb,YAAyB,OAAb7T,QAAa,IAAbA,OAAA,EAAAA,EAAekI,UAAUrO,QAAQwqB,EAAoBA,EAAmB7rB,QAAO,SAAAoB,GAAI,MAAgB,cAAZA,EAAKuF,MACxGxH,MAAOA,IAET,cAAC,IAAD,UACG6F,EAASW,KAAI,SAAC6G,EAAKO,GAAW,IAAD,EACxB0mC,EAAYD,GAAShnC,GACzB,OACA,eAAC,IAAD,CAA0BnK,QAAS,kBAAMrB,EAAsBwL,IAAMjM,MAAO,CAACpB,MAAMA,EAAMmL,gBAAgBipC,GAAiBvzB,SAASxT,EAAIa,QAAuC,UAA7BvO,EAAMM,cAAcqF,KAAoB3F,EAAMM,cAAcC,aAAa,IAAMmD,IAAK,OAArO,UACE,eAAC,IAAD,CAAWqM,MAAM,OAAOtO,MAAO,CAACpB,MAAMA,GAAtC,cAAgDqN,EAAIsC,aAApD,OACE,cAAC,IAAD,CAAWD,MAAM,OAAjB,SACE,eAAC,IAAD,CAAUtO,MAAO,CAAEuJ,YAAa,GAAI5G,WAAY,GAAI8L,cAAe,IAAnE,UACE/B,EAAW,cAAC,IAAD,CAAKxB,UAAU,MAAMwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,GAAIvB,aAAc,GAAIK,YAAa,IAAMoK,KAAK,UAAA5D,KAAKC,MAAMyG,EAAI0C,iBAAf,eAA0BC,GAAG,KAAMC,MAAmB,KAC7J,cAAC,IAAD,CAAY5F,UAAW3J,EAAQ4f,SAAUlf,MAAO,CAACpB,MAAMA,GAAvD,SAAgEqN,EAAInM,YAG1E,eAAC,IAAD,CAAWwO,MAAM,QAAjB,cAA2B,cAAC,IAAD,CAAW5N,MAAOqI,EAAQkD,EAAIyJ,WAAazJ,EAAIgf,eAAiBjrB,MAAO,CAACpB,MAAMA,KAAzG,QACgB,OAAbqI,QAAa,IAAbA,OAAA,EAAAA,EAAekI,UAAUrO,QAAS,eAAC,IAAD,CAAWwN,MAAM,QAAQrF,UAAW3J,EAAQ4f,SAAUlf,MAAO,CAAC4J,WAAW,IAAIhL,MAAMA,GAAnF,cAA6FqN,EAAIyD,gBAAjG,QAAkI,KACrK,cAAC,IAAD,CAAWpB,MAAM,QAAQtO,MAAO,CAACpB,MAAML,EAAMM,cAAc8qB,eAAe,KAAM/f,WAAW,KAA3F,SAAkGspC,EAAW,KAAD,OAAOD,GAAShnC,IAAO,OAVxHA,EAAIa,kBA+DDsmC,GACT,UAAb3mC,GA1CN,cAAC,IAAD,CAAgBzM,MAAO,CAAC8b,UAAW,OAAQzT,UAAU,QAArD,SACA,cAAC,IAAD,CAAMhG,WAAS,EAACkG,QAAS,EAAzB,SACC9D,EAASW,KAAI,SAACvE,EAAM2L,GACjB,IAAI0mC,EAAYD,GAASpyC,GACzB,OACE,cAAC,IAAD,CAAMA,MAAI,EAAV,SACA,cAAC,IAAD,CAAOoI,UAAW+V,YAAK1f,EAAQ8mB,UAAU9mB,EAAQuB,KAAKvB,EAAQ+zC,WAAYrzC,MAAO,CAAEC,MAAM,IAAKvB,aAAa,EAAEqL,gBAA8C,UAA7BxL,EAAMM,cAAcqF,KAAoB,KAAMjC,IAAK,MAAjL,SACE,eAAC,IAAD,CAAiBH,QAAS,kBAAMrB,EAAsBI,IAAtD,UACC6L,EAAU,cAAC,IAAD,CACH1M,MAAO,CAACsJ,OAAO,IAAKhI,OAAO,EAAGmN,cAAc,EAAG/P,aAAa,GAC5DwnC,MAAO3gC,KAAKC,MAAM3E,EAAK8N,SAAW9N,EAAK8N,SAAW,MAAMzJ,OAAUK,KAAKC,MAAM3E,EAAK8N,SAAW9N,EAAK8N,SAAW,MAAMC,GAAG,GAAKC,MAC3H,KACJ,eAAC,IAAD,CAAa7O,MAAO,CAACsB,QAAQ,GAA7B,UACI,eAAC,IAAD,CAAYm7B,cAAY,EAAEz8B,MAAO,CAACpB,MAAM,OAAQgL,WAAW,IAAK5H,SAAS8D,OAAO,KAAhF,cAAwFjF,EAAKf,KAA7F,OACA,eAAC,IAAD,CAAMuC,WAAS,EAACixC,UAAU,SAAQ/wC,eAAe,gBAAjD,UACA,eAAC,IAAD,CAAc0G,UAAW3J,EAAQi0C,YAAavzC,MAAO,CAACpB,MAAM,OAAQgL,WAAW,OAAQ5H,SAAS8D,OAAO,KAAvG,UACKjF,EAAK6U,WAAWsoB,iBADrB,aAGA,eAAC,IAAD,CAAYh+B,MAAO,CAACpB,MAAML,EAAMM,cAAc8qB,eAAe,KAAM/f,WAAW,IAAKjH,WAAW,GAA9F,UAAoGuwC,EAAW,KAAD,OAAOD,GAASpyC,IAAQ,GAAtI,2BAyBX,cAAC,IAAD,CAAQ+D,KAAMkY,GAAYpT,QAAS,kBAAI+W,IAAc,IAArD,SACK,eAAC,IAAD,CAAKzgB,MAAO,CAAE2C,UAAW,GAAK8L,aAAc,GAAGvL,QAAQ,IAAvD,UAEE,cAAC,IAAD,CAAYT,QAAQ,KAAKzC,MAAO,CAACgC,SAAS,GAAIyM,aAAa,GAAIzE,aAAa,KAA5E,qCAIA,cAAC,IAAD,CAAgB4H,KAAMnN,EAAUitC,SAAUoB,GAAYnB,QAASx/B,EAAay/B,aAAa,EAAMnxB,cAAeA,e,iCCxJlI,4GAQMpiB,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXg1C,IAAK,CACH9xC,SAAU,QACVskB,IAAK,IACLgI,MAAO,EACP7jB,OAAQ,KACR/G,UAAW,8BACX2G,gBAAiB,UACjBrL,aAAc,oBACd,UAAW,CACTqL,gBAAiB,WAEnBT,OAAQ,GACRrJ,MAAO,IAGTwzC,UAAW,CACT/xC,SAAU,QACVskB,IAAK,IACLgI,MAAO,EACP7jB,OAAQ,KACR/G,UAAW,8BACX2G,gBAAiB,UACjBrL,aAAc,oBACd,UAAW,CACTqL,gBAAiB,WAEnBT,OAAQ,GACRrJ,MAAO,SAIPyzC,EAAcC,YAAOC,IAAPD,EAAc,gBAAGp1C,EAAH,EAAGA,MAAH,MAAgB,CAChD,oBAAqB,CACnBkmB,OAAO,aAAD,OAAelmB,EAAM0mB,QAAQva,WAAWkT,OAC9C1a,QAAS,aA4CE2wC,IAzCI,SAACz0C,GAAW,IAAD,EACtBb,EAAQc,cACRC,EAAUjB,EAAUE,GACnBu1C,EAAU10C,EAAV00C,OACP,OAEE,aADA,CACC,IAAD,CACE,aAAW,MACX7qC,UAAW3J,EAAQk0C,IACnBtoC,UAAWqW,IACXC,GAAE,2BAAYpiB,EAAM20C,iBAAlB,aAAY,EAAiBtlB,SAA7B,SAJJ,SAME,cAAC,IAAD,CAAY5sB,KAAK,QAAQ7B,MAAO,CAAEsB,OAAQ,IAA1C,SACE,cAACoyC,EAAD,CAAa90C,MAAM,QAAQo1C,aAAcF,EAAzC,SACE,cAAC,IAAD,Y,iCC7DV,6BAEMx/B,EAAqB,CACzB2/B,gBAAiB,SAAC/rB,EAAWrQ,GAC3B,IAAMsQ,EAAG,iBAAaD,EAAb,oBACT,OAAOE,IAAYC,KAAKF,EAAKtQ,IAG/Bq8B,cAAe,SAAChsB,EAAWrQ,GACzB,IAAMsQ,EAAG,iBAAaD,EAAb,kBACT,OAAOE,IAAYC,KAAKF,EAAKtQ,IAE/Bs8B,gBAAiB,SAACjsB,EAAWrQ,GAC3B,IAAMsQ,EAAG,iBAAaD,EAAb,oBACT,OAAOE,IAAYQ,IAAIT,EAAKtQ,IAE9Bu8B,cAAe,SAAClsB,EAAWrQ,GACzB,IAAMsQ,EAAG,iBAAaD,EAAb,oBACT,OAAOE,IAAYQ,IAAIT,EAAKtQ,IAE9BtD,0BAA2B,SAAC2T,GAC1B,IAAI7Q,EAAIC,IAAOC,MAAQ,IAEnB6rB,EAAc9rB,IACfG,KAAKJ,GACLK,OAAO,aAAc,CAAEC,MAAM,IAC1BwQ,EAAG,iBAAaD,EAAb,8BACT,OAAOE,IAAYE,IAAIH,EAAK,CAC1BhnB,OAAQ,CACN0hB,KAAMugB,MAIZiR,iBAAkB,SAACnsB,EAAUnL,GAC3B,IAAMoL,EAAG,iBAAaD,EAAb,qBACT,OAAOE,IAAYE,IAAIH,EAAK,CAC1BhnB,OAAQ4b,KAGZu3B,eAAgB,SAACpsB,EAAUnL,GACzB,IAAMoL,EAAG,iBAAaD,EAAb,mBACT,OAAOE,IAAYE,IAAIH,EAAK,CAC1BhnB,OAAQ4b,MAICzI,O,0NC0BAiF,IA7DO,SAACna,GACnB,IAAOsT,EAAsGtT,EAAtGsT,cAAchM,EAAwFtH,EAAxFsH,SAASmL,EAA+EzS,EAA/EyS,SAAS2H,EAAsEpa,EAAtEoa,YAAY3Q,EAA0DzJ,EAA1DyJ,YAAY4Q,EAA8Cra,EAA9Cqa,aAAaC,EAAiCta,EAAjCsa,aAAaE,EAAoBxa,EAApBwa,UAAW7Q,EAAS3J,EAAT2J,OAE9FxK,EAAQc,cAEVk1C,GADYl2C,YAAUE,GACXwK,EAAS,mBAAY,gCAE9ByrC,EAAW,SAACxlC,GACd,OAAIjG,EACyB,OAAlBiG,EAAK8C,SAAoByiC,EAAWvlC,EAAK8C,SAAShS,KAEhC,OAAlBkP,EAAKsgB,SAAqBilB,EAAUvlC,EAAKsgB,SAASxvB,MAIjE,OACI,qCAEqB,IAApB+R,EAAS3M,OACN,cAAC,IAAD,CAAarD,KAAK,QAAQ7B,MAAO,CAACuJ,WAAW,GAAG3K,MAAM,UAAWmL,gBAAgBxL,EAAMM,cAAcC,aAAa,MAAlH,SACI,cAAC,IAAD,CAASkD,SAAS,UAAUF,QAAS8X,MAEzC,cAAC,IAAD,CAAa/X,KAAK,QAAQ7B,MAAO,CAACuJ,WAAW,GAAG3K,MAAM,UAAWmL,gBAAgBxL,EAAMM,cAAcC,aAAa,MAAlH,SACI,cAAC,IAAD,CAAqBkD,SAAS,UAAWF,QAAS0X,MAGtD,eAAC,IAAD,CACApT,GAAG,cACHM,SAAUA,EACVu6B,aAAW,EACXr8B,KAAMiC,QAAQH,GACdgD,QAASb,EALT,UAQCgJ,EAASzM,KAAI,SAAC4J,EAAMxC,GAAP,aACV,cAAC,IAAD,CAEI4xB,SAAU5xB,IAAUkG,EAFxB,SAII,eAAC,IAAD,CAAMrQ,WAAS,EAACC,UAAU,MAAMC,eAAe,gBAAegG,QAAS,EAAvE,UACI,eAAC,KAAD,GAAMlG,WAAS,EAACxB,MAAI,EAAC4zC,YAAa,kBAAIh7B,EAAajN,KAAnD,4CAAoE,IAApE,0BACI,eAAC,IAAD,CAAKxM,MAAO,CAACjB,YAAY,IAAzB,cAAgCyN,EAAQ,KACvCgoC,EAASxlC,KAFd,IAKA,cAAC,IAAD,CAAM3M,WAAS,EAACmG,GAAI,EAAG3H,MAAI,EAA3B,SACI,cAAC,IAAD,CAAagB,KAAK,QAAQ7B,MAAO,CAACpB,MAAM,WAAxC,SACI,cAAC,IAAD,CAAyBoD,SAAS,UAAUF,QAAS,kBAAI4X,EAAalN,cAX7EA,MAmBb,eAAC,IAAD,CAAU1K,QAAS8X,EAAnB,UAA8B,cAAC,IAAD,CAAK5Z,MAAO,CAACjB,YAAY,GAAIiD,SAAS,IAAtC,eAA9B,wC,iCClEZ,oBA4Be0yC,IA1Be,SAACC,EAAQC,EAAQ9iC,EAAU5K,GAErD,OAAO2tC,yBACH,qCACCF,EACD,+CACa,iCAAS7iC,EAAShS,OAD/B,OAGA,qFAC2BoH,EAAMpH,KADjC,IACuC,uBADvC,yIAE4E,uBAF5E,8DAGiC,iCAASgS,EAAS68B,gBAHnD,+EAKI,uBALJ,kCAOI,+BACI,0CAAU78B,EAAShS,QACnB,qEAAoBgS,EAAS/R,SAC7B,8DAA2B+R,EAASumB,sBAG3Cuc,Q,4KC2EMz6B,IApFO,SAAC/a,GACnB,IAAM0H,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QAM1C,GALmBA,EAAKI,MAAM4F,KACVhG,EAAKgF,OAAOgB,KACfhG,EAAKrC,SAGOE,mBAAS,KAAtC,mBAAO4gC,EAAP,KAAeuP,EAAf,KAEMxjC,EAAWxM,cACXiwC,EAAO,uCAAG,WAAOhqC,GAAP,mBAAApF,EAAA,sDAkBE,UAAVoF,EAAEvK,KAA8B,IAAX+kC,KACjBxN,EAAU34B,EAAMqF,SAASqJ,MAC7B,SAACiqB,GAAD,OAAaA,EAAQtiB,WAAa8vB,OAGlCnmC,EAAMqB,sBAAsBs3B,GAC5B+c,EAAW,IACXxjC,EAAS2P,IAAaa,iBAAiB,6CAEvCxQ,EAAS2P,IAAaC,aAAa,iDAEjCqkB,EAAQ9lB,SAAS,OACbuD,EAAOuiB,EAAQpmB,MAAM,KACrB4Y,EAAU34B,EAAMqF,SAASqJ,MAC3B,SAACiqB,GAAD,OAAaA,EAAQxpB,aAAakR,SAASuD,EAAK,OAE9C+U,IACF34B,EAAMqB,sBAAsBs3B,EAAQ/U,EAAK,IACzC8xB,EAAW,IACXxjC,EAAS2P,IAAaa,iBAAiB,+CArCnC,2CAAH,sDA0Cb,OAAO,cAAC,IAAD,CACH1gB,WAAS,EACTC,YAAY,0BACZoB,QAAQ,WACRZ,KAAK,QACLmzC,WAAS,EACTC,WAAYF,EACZ9zC,SAAY,SAAC8J,GAAD,OAAO+pC,EAAW/pC,EAAEC,OAAOtK,QACvCA,MAAS6kC,EACThkC,WAAY,CACRC,eACI,cAAC,IAAD,CAAgBE,SAAS,QAAzB,SACI,cAAC,IAAD,CAAY1B,MAAO,CAAEpB,MAAOqD,IAAK,UAGzCN,aACI,cAAC,IAAD,CAAgBD,SAAS,MAAzB,SACI,cAAC,IAAD,CACIwJ,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,GAAIlB,YAAa,IAC1CoK,IAAK+sB,QAIjBl2B,MAAO,CACHC,MAAO,IACPiD,QAAS,MACT5B,OAAQ,Y,wUC5FThD,eAAW,SAACC,GAAD,MAAY,CACpC+C,OAAQ,CACNqB,UAAWpE,EAAMgK,QAAQ,IAE3BxF,YAAa,CACXf,SAAU,YAEZ9C,KAAM,CACJgE,QAAS,IAEXwhC,IAAK,CACH5hC,QAAS,OACTwF,WAAY,UAEd4sC,OAAQ,CACNC,UAAW,eACX5rC,WAAY,OACZoc,WAAYpnB,EAAM62C,YAAYC,OAAO,YAAa,CAChDC,SAAU/2C,EAAM62C,YAAYE,SAASC,YAGzCC,WAAY,CACVL,UAAW,kBAEbM,SAAS,CACPn0C,OAAO,mBACP8B,UAAW,OAAOqhB,OAAQ,YAAcxhB,YAAY,WAEtDyyC,SAAS,CACP3rC,gBAAgB,UAAWT,OAAO,GAAI1K,MAAM,QAE9C+2C,MAAO,CACL,oCAAqC,CACnC/2C,MAAO,Y,kCC1BE,SAASg3C,EAAuBx2C,GAC7C,IACEy2C,EAQEz2C,EARFy2C,cACAnD,EAOEtzC,EAPFszC,SACAxxC,EAME9B,EANF8B,YACAiB,EAKE/C,EALF+C,aACApB,EAIE3B,EAJF2B,eAKF,GADI3B,EAHFsB,MAGEtB,EAFF02C,QAEE12C,EADF22C,oBAE4BpxC,mBAAS,KAAvC,mBAAOhE,EAAP,KAAgBq1C,EAAhB,KACA,EAAsCrxC,mBAAS,IAA/C,mBAAOsxC,EAAP,KAAoBC,EAApB,KAEMC,EAAW,uCAAG,WAAOprC,EAAG2I,GAAV,SAAA/N,EAAA,sDAClBuwC,EAAexiC,GADG,2CAAH,wDAqBjB,OAhBAnU,qBAAU,WACR,IAAM62C,EAAS,uCAAG,4CAAAzwC,EAAA,yDACE,MADK+N,EAAP,+BAAmBuiC,GAAnB,iCAGNz1C,EAAMkT,EAAUyP,MAAM,EAAGzP,EAAU2iC,QAAQ,MAHrC,SAIWR,EAAcr1C,GAJzB,OAINsT,EAJM,OAKZkiC,EAAWliC,EAASlC,MACpB8gC,EAAS5+B,EAASlC,KAAK,IANX,kDAQZ5M,QAAQC,IAAR,MARY,0DAAH,qDAYTqxC,EAAQC,YAAW,kBAAMH,MAAa,KAC5C,OAAO,kBAAMI,aAAaF,MACzB,CAACL,IAEF,cAAC/1C,EAAA,EAAD,CACES,QAASA,EACTN,UAAQ,EACRU,eAAgBA,EAChBoB,aAAcA,EACds0C,cAAeN,EACfO,YAAU,EACVC,kBAAmB,SAAC/2C,EAAQc,GAAT,OAAmBd,EAAO6V,WAAa/U,EAAM+U,UAChExU,SAAU,SAAC8J,EAAGrK,GAAJ,OAAcgyC,EAAShyC,IACjCmB,KAAK,QACLX,YAAaA,I,kOC/Cb7C,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCq4C,KAAM,CACJt1C,OAAQ/C,EAAMgK,QAAQ,GAAK,UAIhB,SAASsuC,GAAT,GAAkC,IAAVz3C,EAAS,oBACxCE,EAAUjB,KAERoc,EAA6Erb,EAA7Eqb,aAAcq8B,EAA+D13C,EAA/D03C,gBAAiBC,EAA8C33C,EAA9C23C,aAAc11C,EAAgCjC,EAAhCiC,YAAa21C,EAAmB53C,EAAnB43C,KAASC,EAA3E,YAAqF73C,EAArF,GACA,EAAoCsF,IAAMC,SAAS,IAAnD,mBAAOuyC,EAAP,KAAmBC,EAAnB,KAaA,SAASC,EAAc72C,GACrB,GAAkB,UAAdA,EAAMC,IAAiB,CACzB,IAAM62C,EAAe,YAAO58B,GAK5B,IAA0B,IAJD48B,EAAgBhB,QACvC91C,EAAMyK,OAAOtK,MAAMiX,QAKnB,YADAw/B,EAAc,IAGhB,IAAK52C,EAAMyK,OAAOtK,MAAM42C,QAAQ,MAAO,IAAIpyC,OAAQ,OAEnDmyC,EAAgBrxC,KAAKzF,EAAMyK,OAAOtK,MAAMiX,QACxCm/B,EAAgBO,GAChBF,EAAc,IAGd18B,EAAavV,SACZgyC,EAAWhyC,QACE,cAAd3E,EAAMC,KAENs2C,EAAgBr8B,EAAa0I,MAAM,EAAG1I,EAAavV,OAAS,IAhChE3F,qBAAU,WACRu3C,EAAgBE,KACf,CAACA,IAEJz3C,qBAAU,WACRw3C,EAAat8B,KACZ,CAACA,EAAcs8B,IAsClB,IAAMr9B,EAAe,SAAA7Y,GAAI,OAAI,WAC3B,IAAMw2C,EAAe,YAAO58B,GAC5B48B,EAAgB19B,OAAO09B,EAAgBhB,QAAQx1C,GAAO,GACtDi2C,EAAgBO,KAMlB,OACE,cAAC,IAAMrvB,SAAP,UACE,cAAC,IAAD,CACE5hB,GAAG,qBACH8wC,WAAYA,EACZj2C,SAvBN,SAAsBJ,GACpB,IAAIw2C,EAAe,YAAO58B,IACa,IAAnC48B,EAAgBhB,QAAQx1C,KAC1Bw2C,EAAe,sBAAOA,GAAP,CAAwBx2C,KAEzCs2C,EAAc,IACdL,EAAgBO,IAkBZ58B,aAAcA,EAJhB,SAMG,YAAwB,IACvB,GAAqD88B,EAD/B,EAApBA,eACiE,CACjElR,UAAW+Q,EACX/1C,gBAFM+5B,EAAR,EAAQA,OAAQn6B,EAAhB,EAAgBA,SAAUu2C,EAA1B,EAA0BA,QAAY1sC,EAAtC,kBAIA,OACE,8BACE,cAAC3L,EAAA,EAAD,yBACEoC,WAAY,CACVC,eAAgBiZ,EAAarV,KAAI,SAAAvE,GAAI,OACnC,cAACoP,EAAA,EAAD,CAEEwnC,UAAW,EACXhsC,MAAO5K,EACPoI,UAAW3J,EAAQs3C,KACnBxmC,SAAUsJ,EAAa7Y,IAJlBA,MAOTu6B,SACAn6B,SAAU,SAAAV,IA9B1B,SAA2BA,GACzB42C,EAAc52C,EAAMyK,OAAOtK,OA8BXg3C,CAAkBn3C,GAClBU,EAASV,IAEXi3C,YAEEP,GACAnsC,WASpB+rC,GAAUc,aAAe,CACvBX,KAAM,I,qFCxGF34C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC8f,YAAa,CACTtf,YAAa,GACbyP,SAAU,KAEdvC,IAAK,CACD3K,OAAQ,2BAqGDs2C,GA9FM,SAAC,GAAoF,IAAlFC,EAAiF,EAAjFA,cAAeC,EAAkE,EAAlEA,MAAOC,EAA2D,EAA3DA,SAAUC,EAAiD,EAAjDA,eAAgBtiC,EAAiC,EAAjCA,WAAYuV,EAAqB,EAArBA,eAE1E1sB,EAAQc,cACEhB,GAAUE,GA4BxBgB,qBAAW,WACT,IAAIyjB,EAAO,IA1Bf,WAII,IAHA,IAAIi1B,EAAM,YAAOH,GAEbI,EAAS,GACJre,EAAI,EAAGA,EAAIoe,EAAO/yC,OAAS20B,IAChC,GAAoB,IAAjBqe,EAAMhzC,OACLgzC,EAAOD,EAAOpe,GAAGse,UAGjB,CAEA,IADA,IAAIC,EAAO,GACFC,EAAI,EAAGA,EAAIH,EAAMhzC,OAASmzC,IAC/B,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAOpe,GAAGse,MAAMjzC,OAASozC,IACzCF,EAAKpyC,KAAKkyC,EAAMG,GAAGr3C,OAAT,OAAwBi3C,EAAOpe,GAAGse,MAAMG,KAKvC,IAAhBF,EAAKlzC,SAAegzC,EAAQE,GAIvC,OAAOF,GAOPK,GAAenzC,KAAI,SAAA2F,GAAC,OAAGiY,EAAKhd,KAAK,CAAClG,KAAKiL,EAAEwD,aAAa,GAAGe,SAAS,EAAGmG,SAAU,GAAGwV,eAAeA,GAA8B,EAAGvV,WAAYA,GAAsB,OAEpKsiC,EAAeh1B,KAGf,CAAC80B,IAEL,IAAMU,EAAqB,SAAChsC,EAAOisC,GAC/B,IAAIR,EAAM,YAAOH,GACjBG,EAAOzrC,GAAOhM,IAAMi4C,EACpBV,EAASE,IAGPS,EAAqB,SAAClsC,EAAM9L,GAC9B,IAAIu3C,EAAM,YAAOH,GACjBG,EAAOzrC,GAAO2rC,MAAQz3C,EACtBq3C,EAASE,IAMPU,EAAa,SAACn4C,GAChB,IAAIy3C,EAAM,YAAOH,GAEjBG,EAASA,EAAOx4C,QAAO,SAAAwM,GAAG,OAAIA,EAAI7F,KAAO5F,KACzCu3C,EAASE,IAeb,OACI,sBAAKj4C,MAAO,CAAEyO,aAAc,IAA5B,UACKqpC,EAAM1yC,KAAI,SAACwM,EAAMpF,GACd,OACI,cAAC,GAAD,CAAcqrC,cAAeA,EAAerrC,MAAOA,EAAOoF,KAAMA,EAAMkmC,MAAOA,EAAOU,mBAAoBA,EAAoBG,WAAYA,EAAaD,mBAAoBA,OAGjL,cAAChtC,EAAA,EAAD,CAAQjJ,QAAQ,WAAWZ,KAAK,QAAQjD,MAAM,UAAUoB,MAAO,CAAEuJ,WAAY,GAAI5G,UAAW,GAAIilC,cAAe,QAC3GjE,UAAW,cAAC,IAAD,IACX7hC,QAAS,kBAlBF,WACf,IAAIm2C,EAAM,YAAOH,GACjBG,EAAOjyC,KAAK,CAAEI,GAAG,IAAIqC,KAAQjI,IAAK,QAAS23C,MAAO,KAClDJ,EAASE,GAecW,IAFnB,4CAcNC,GAAe,SAAC,GAAwG,IAAtGhB,EAAqG,EAArGA,cAAejmC,EAAsF,EAAtFA,KAAMkmC,EAAgF,EAAhFA,MAAOU,EAAyE,EAAzEA,mBAAoBhsC,EAAqD,EAArDA,MAAOmsC,EAA8C,EAA9CA,WAAsBD,GAAwB,EAAlCX,SAAkC,EAAxBW,oBAC3Fn6C,EAAQc,cACRC,EAAUjB,GAAUE,GAE1B,EAAmCoG,oBAAS,GAA5C,mBAAOm0C,EAAP,KAAkBC,EAAlB,KAIF,EAAgDp0C,oBAAS,GAAzD,mBAAOq0C,EAAP,KAAyBC,EAAzB,KACA,EAAsCt0C,oBAAS,GAA/C,mBAAOu0C,EAAP,KAGE,GAHF,KAG4Bx0C,IAAMC,SAAS,KAAzC,mBAAOjE,EAAP,KAAcs8B,EAAd,KAGMmc,EAAmB,SAAC54C,GACtB,IAAI64C,GAAQ,EACZtB,EAAM1yC,KAAI,SAAC6G,GAAUA,EAAIzL,MAAQD,EAAMyK,OAAOtK,QAAO04C,GAAQ,MAEzDA,GACAZ,EAAmBhsC,EAAOjM,EAAMyK,OAAOtK,QAI/C,EAAwCgE,IAAMC,SAAS,IAAvD,mBAAO8V,EAAP,KAAqBq8B,EAArB,KAUA,OAJAv3C,qBAAU,WACNm5C,EAAmBlsC,EAAO9L,KAC3B,CAACA,IAGA,eAAC0B,EAAA,EAAD,CAAMC,WAAS,EAAC4G,UAAW3J,EAAQ2M,IAAK3D,WAAW,SAAnD,UACI,eAAClG,EAAA,EAAD,CAAMC,WAAS,EAACxB,MAAI,EAAC2H,GAAI,GAAIF,WAAW,SAAxC,UACKwwC,EAaD,cAAC35C,EAAA,EAAD,CACAa,MAAO,CAACC,MAAM,KACNS,MAAOkR,EAAKpR,IACZS,SAAUk4C,IAhBN,cAACluC,EAAA,EAAD,CAAahC,UAAW3J,EAAQ+e,YAAhC,SACR,eAACC,GAAA,EAAD,CAAQ5d,MAAOkR,EAAKpR,IAAKS,SAAUk4C,EAAnC,UACI,cAAC36B,GAAA,EAAD,CAAU9d,MAAM,QAAQ09B,UAAQ,EAACzyB,UAAQ,EAAC9I,QAAM,EAAhD,6CACCg1C,EAAczyC,KAAI,SAACqzC,GAChB,OAAQ,cAACj6B,GAAA,EAAD,CAAU9d,MAAO+3C,EAAK34C,KAAtB,SAA6B24C,EAAK34C,gBAgBvC,IAAdg5C,EACD,cAAC,IAAD,CAAS94C,MAAO,CAAEjB,YAAa,IAAO+C,QAAS,WAAKi3C,GAAa,GAAOP,EAAmBhsC,EAAO,OAClG,cAAC,KAAD,CAAYxM,MAAO,CAAEjB,YAAa,IAAO+C,QAAS,WAAKi3C,GAAa,GAAOP,EAAmBhsC,EAAO,OAErG,cAACqqC,GAAD,CAAW72C,MAAO,CAAEwO,SAAU,KAAOuoC,aAnCjD,SAA6BoB,GACzBnb,EAASmb,IAkCuE19B,aAAcA,EAAcq8B,gBAAiBA,EAAiBz1C,YAAY,6CAItJ,cAACe,EAAA,EAAD,CAAMC,WAAS,EAACxB,MAAI,EAAC2H,GAAI,EAAzB,SAEI,cAAC,KAAD,CAA0B1G,QAAS,WAAQ62C,EAAW/mC,EAAKxL,SAG/D,eAACkW,GAAA,EAAD,CACI1X,KAAMo0C,EACNnwC,YAAa,kBAAMowC,GAAoB,IACvCxvC,MAAOyvC,EAAa,8BAAkB,6BAH1C,UAKK,eAAC92C,EAAA,EAAD,CAAMC,WAAS,EAACiG,WAAW,SAAStI,MAAO,CAACsB,OAAO,uBAAnD,UACG,cAACkB,EAAA,EAAD,CAAYxC,MAAO,CAACjB,YAAY,GAAIH,MAAM,OAAQgL,WAAW,KAA7D,0CACA,cAACzK,EAAA,EAAD,OAEF+5C,EAGE,sBAAKl5C,MAAO,CAACojB,SAAU,EAAE5Y,UAAW,SAApC,UACI,cAACkB,EAAA,EAAD,CAAQ7J,KAAK,QAAQY,QAAQ,YAAY7D,MAAM,YAA/C,oBACA,cAAC8M,EAAA,EAAD,CAAQ7J,KAAK,QAAQY,QAAQ,YAAY7D,MAAM,UAAUoB,MAAO,CAACuJ,WAAW,IAA5E,yBAIJ,cAACmC,EAAA,EAAD,CAAQ1L,MAAO,CAACojB,SAAU,EAAE5Y,UAAW,UAAW/H,QAAQ,YAAY7D,MAAM,UAA5E,4B,qDCzMdP,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC8f,YAAa,CACTtf,YAAa,GACbyP,SAAU,KAEdvC,IAAK,CACD3K,OAAQ,2BAkID+3C,GA7HU,SAAC,GAAiF,IAAhFC,EAA+E,EAA/EA,YAAatB,EAAkE,EAAlEA,eAA2CroC,GAAuB,EAAjD+F,WAAiD,EAAtCuV,eAAsC,EAAvBtb,mBACzEpR,EAAQc,cACRC,EAAUjB,GAAUE,GAcpBg7C,EAAyB,SAAC/sC,EAAOqO,EAAU2+B,GAC7C,IAAMvB,EAASqB,EAAYl0C,KAAI,SAAA6G,GAC3B,GAAIA,EAAInM,OAAS0M,EAAO,CACpB,IAAMitC,EAAM,eAAOxtC,GAEnB,OADAwtC,EAAO5+B,GAAY2+B,EACZC,EAEP,OAAOxtC,KAGf+rC,EAAeC,IAGnB,OACI,8BACG,eAACv9B,GAAA,EAAD,CAAc3R,QAAQ,EAAtB,UACK,cAAC4R,GAAA,EAAD,CACIrb,QAASA,EACTwb,WAAYnL,EAAmBmc,GAAmBA,GAAkBrsB,QAAO,SAAAo6B,GAAC,MAAa,aAATA,EAAEzzB,QAGtF,cAAC4U,GAAA,EAAD,UACCs+B,EAAYl0C,KAAI,SAAC6G,EAAKO,GACnB,OAEE,eAACyB,GAAA,EAAD,WACE,cAACI,GAAA,EAAD,CAAWC,MAAM,SAAStO,MAAO,CAACpB,MAAM,OAAQgL,WAAW,KAA3D,SAAkEqC,EAAInM,OAatE,cAACuO,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,cAACnP,EAAA,EAAD,CACEuB,MAAOuL,EAAIwJ,SACXxU,SAAU,SAAC8J,GAAD,OACRwuC,EACEttC,EAAInM,KACJ,WACAiL,EAAEC,OAAOtK,YAMjBiP,EACA,cAACtB,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,cAAC,IAAD,CACE5N,MAAOuL,EAAIqD,SACXrO,SAAU,SAAC8J,GACTwuC,EACEttC,EAAInM,KACJ,WACAkY,KAAKu1B,IAAIxiC,EAAEC,OAAOtK,aAIb,KAEb,cAAC2N,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,cAAC,IAAD,CACE5N,MAAOuL,EAAIgf,eACXhqB,SAAU,SAAC8J,GACTwuC,EACEttC,EAAInM,KACJ,iBACAkY,KAAKu1B,IAAIxiC,EAAEC,OAAOtK,aAK1B,cAAC2N,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,cAAC,IAAD,CACE5N,MAAOuL,EAAIyJ,WACXzU,SAAU,SAAC8J,GACPwuC,EACEttC,EAAInM,KACJ,aACAkY,KAAKu1B,IAAKxiC,EAAEC,OAAOtK,aAM7B,cAAC2N,GAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,cAAC,KAAD,CACExM,QAAS,kBAnGZ,SAAC0K,GAClB,IAAIyrC,EAAM,YAAOqB,GACjBrB,EAASA,EAAOx4C,QAAO,SAAAwM,GAAG,OAAIA,EAAInM,OAAS0M,KAC3CwrC,EAAeC,GAgGoBv+B,CAAazN,EAAInM,yBAmBtDgsB,GAAoB,CACtB,CAAE1lB,GAAI,OAAQkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,UAE5D,CAAErF,GAAI,WAAYkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,mBAChE,CAAErF,GAAI,WAAYkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,kCAChE,CAAErF,GAAI,iBAAkBkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,mBACtE,CAAErF,GAAI,aAAckI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,iBAClE,CAAErF,GAAI,SAAUkI,MAAO,SAAUid,gBAAgB,EAAM9f,MAAO,K,kGC3F1CiuC,KAAhBC,YAERC,SAAMC,SAAS,sBAAuBC,MAGtC,IAAMnV,GAAe,SAAC1a,GACpB,OACE,cAAC7hB,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CACFpF,OAAQ,GACRrJ,MAAO,GACPsJ,WAAY,EACZxK,YAAa,EACbL,aAAc,GAEhByK,IAAKy7B,OA25BLmV,IAHS9gC,IAn5BM,SAAC7Z,GACpB,IAAQyJ,EAAsBzJ,EAAtByJ,YAAajE,EAASxF,EAATwF,KACrB,EAA8CD,oBAAS,GAAvD,mBAAOmgC,EAAP,KAAwBC,EAAxB,KAEA,EAAwCpgC,mBAAS,IAAjD,mBAAO80B,EAAP,KAAqBmC,EAArB,KAEA,EAA4Bj3B,mBAAS,IAArC,mBAAOqgC,EAAP,KAAeC,GAAf,KACA,GAA8BtgC,mBAAS,IAAvC,qBAAO7B,GAAP,MAAgBoiC,GAAhB,MACA,GAAgCvgC,mBAAS,IAAzC,qBAAOq1C,GAAP,MAAiBC,GAAjB,MAmBA,GAAsCt1C,mBAAS,IAA/C,qBAEM2gC,IAFN,YAEsBnoB,YAAU,CAC9BC,cAAe,CACbtd,KAAM,GACNylC,QAAS,GACTC,cAAe,EACfC,WAAY,EACZ/L,SAAU,GACVgM,KAAM,GACNC,eAAgB,EAChBp3B,aAAc,GACdc,aAAa,EACbC,SAAS,EACTmmB,UAAU,UACV5E,YAAY,GACZkY,oBAAoB,GAGtBlO,iBAAkBC,IAAW,CAC3Bh7B,KAAMg7B,MAAa9c,SAAS,wCAC5BwnB,cAAe1K,MAEZE,UAAU,EAAG,sDAEhByK,WAAY3K,MACTE,UAAU,EAAG,sDAEhB2K,eAAgB7K,IAAW,oCAAkBE,UAC1C,EACD,6FAGF1rB,SAAUwrB,MAAaE,UAAU,EAAG,qEAEpCvF,UAAWqF,MAAaE,UAAU,EAAG,iGACrC+N,oBAAqBjO,MAAaE,UAAU,EAAG,2DAInD,GAAkCt2B,IAAMC,UAAS,GAAjD,qBAAOqO,GAAP,MAAkBC,GAAlB,MACA,GAAsCvO,IAAMC,SAAS,CACnD3E,MAAO,QACPkT,QAAS,yCAFX,qBAAOC,GAAP,MAAoBC,GAApB,MAMMtM,GAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACpCkK,GAAalK,GAAKI,MAAM4F,KACxBmE,GAAcnK,GAAKgF,OAAOgB,KAC1BwE,GAAWxM,cAGXvG,GAAQc,cACRC,GAAUjB,EAAUE,IACpB27C,GAAiB,uCAAG,4BAAAv0C,EAAA,6DACxB22B,KADwB,UAGlBuJ,EAAe,IAAIC,UACVC,OAAO,OAAQT,GAAchoB,OAAOxd,KAAKiY,YACtD8tB,EAAaE,OACX,aACAT,GAAchoB,OAAOmoB,WAAW1tB,YAElC8tB,EAAaE,OACX,iBACAT,GAAchoB,OAAOkoB,cAAcztB,YAErC8tB,EAAaE,OAAO,WAAYT,GAAchoB,OAAOioB,QAAQxtB,YAC7D8tB,EAAaE,OACX,eACAT,GAAchoB,OAAO/O,aAAawJ,YAEpC8tB,EAAaE,OACX,oBACAT,GAAchoB,OAAOooB,KAAOJ,GAAchoB,OAAOooB,KAAK3tB,WAAY,UAEpE8tB,EAAaE,OACX,uBACAT,GAAchoB,OAAOqoB,eAAe5tB,YAGtC8tB,EAAaE,OACX,YACAT,GAAchoB,OAAOmY,UAAU1d,YAGjC8tB,EAAaE,OACX,WACAT,GAAchoB,OAAOhO,SACjBg2B,GAAchoB,OAAOhO,SAASyI,WAC9B,GAEN8tB,EAAaE,OACX,gBACAT,GAAchoB,OAAOoc,SAAS3hB,YAEhC8tB,EAAaE,OACX,cACAjgC,OAAOw/B,GAAchoB,OAAOjO,cAE9Bw2B,EAAaE,OACX,cACAT,GAAchoB,OAAOuT,YAAY9Y,YAGnC8tB,EAAaE,OACX,sBACAT,GAAchoB,OAAOyrB,oBAAoBhxB,YAI3C8tB,EAAaE,OAAO,cAAe90B,IACnC40B,EAAaE,OAAO,UAAWiU,IAE/BhV,EAAO13B,SAAQ,SAAC44B,GAAD,OAAWL,EAAaE,OAAO,WAAYG,MA5DpC,UA8DhBlyB,IAAWmmC,cAAcnpC,GAAY60B,GA9DrB,QA+DtBv0B,GAAS2P,IAAaa,iBAAiB,iDACvC1iB,EAAM8Z,YAhEgB,kDAkEtBlU,QAAQC,IAAR,MACAqM,GAAS2P,IAAaC,aAAa,mDAnEb,0DAAH,qDAuEvB,GAA0Bvc,oBAAS,GAAnC,qBAAOy3B,GAAP,MAAcmQ,GAAd,MAIAhtC,qBAAU,WACR,IAAMm+B,EAAiB,uCAAG,4BAAA/3B,EAAA,+EAECqO,IAAWkoB,kBAAkBlrB,IAF9B,OAEhB8C,EAFgB,OAGtB8nB,EAAgB9nB,EAASlC,MACzB0zB,GAAc9nB,cAAc,WAAY1J,EAASlC,KAAK,GAAG9E,MAJnC,uDAMtB9H,QAAQC,IAAR,MANsB,kBAOf,IAPe,yDAAH,qDAUvBy4B,MACC,CAAC1sB,GAAYorB,KAEhB,IAAMge,GAA6B,SAACriB,GAClC,GAAIA,GAAWA,EAAQj4B,KACrB,IACEwlC,GAAc9nB,cAAc,OAAQua,EAAQj4B,MAAM,GAClDwlC,GAAc9nB,cAAc,UAAWua,EAAQtiB,UAAU,GACzD2wB,KACAlB,GAAW,CAAC,CAAE3W,KAAMwJ,EAAQ1M,QAASga,OAAO,KAC5CJ,GAAU,IACVgV,GAAYliB,EAAQ1M,SACpB,MAAOkN,GACPvzB,QAAQC,IAAIszB,KAKZ8hB,GAA0B,uCAAG,WAAO3mC,GAAP,SAAA/N,EAAA,+EAC1BqO,IAAWsmC,sBAAsB5mC,EAAW,IADlB,2CAAH,sDAG1B4oB,GAAsB,WAC1BzzB,IACAy8B,GAAc5K,YACd0L,MAEIA,GAAiB,WACrBlB,GAAW,IACXD,GAAU,IACVgV,GAAY,KAgERM,GAAgB1hC,mBAChB2+B,GAAU,SAACt7B,GACfA,EAAIlD,QAAQwhC,SAYd,GAAgC91C,IAAMC,UAAS,GAA/C,qBAAO81C,GAAP,MAAiBC,GAAjB,MAEMC,GAAoB,WACxBD,IAAaD,KAEf,GAAsD/1C,IAAMC,UAAS,GAArE,qBAAOi2C,GAAP,MAA4BC,GAA5B,MACMC,GAA4B,WAChCD,IAAwBD,KAG1B,GAAkCl2C,IAAMC,SAAS,SAAjD,qBAGA,IAHA,YAG0BA,mBAAS,CAAC,CAAEnE,IAAK,QAAS23C,MAAO,OAA3D,qBAAOL,GAAP,MAAcC,GAAd,MAGA,GAAsCpzC,mBAAS,IAA/C,qBAAO20C,GAAP,MAAoBtB,GAApB,MAKM+C,GAA6B,uCAAG,kCAAAp1C,EAAA,yDACT,IAAvB2zC,GAAYp0C,OADoB,iBAGzB20B,EAAI,EAHqB,YAGlBA,EAAIie,GAAM5yC,QAHQ,oBAIX,UAAjB4yC,GAAMje,GAAGr5B,IAJmB,uBAK9ByS,IAAa,GACbG,GAAe,CAAEpT,MAAO,QAASkT,QAAS,yCANZ,0BAGA2mB,IAHA,uBAgElC,IAhEkC,WAa9BgM,EAAe,IAAIC,UACVC,OAAO,OAAQT,GAAchoB,OAAOxd,KAAKiY,YACtD8tB,EAAaE,OACX,aACAT,GAAchoB,OAAOmoB,WAAW1tB,YAElC8tB,EAAaE,OACX,iBACAT,GAAchoB,OAAOkoB,cAAcztB,YAErC8tB,EAAaE,OAAO,WAAYT,GAAchoB,OAAOioB,QAAQxtB,YAC7D8tB,EAAaE,OACX,eACAT,GAAchoB,OAAO/O,aAAawJ,YAEpC8tB,EAAaE,OACX,oBACAT,GAAchoB,OAAOooB,KAAK3tB,YAE5B8tB,EAAaE,OACX,uBACAT,GAAchoB,OAAOqoB,eAAe5tB,YAGtC8tB,EAAaE,OACX,YACAT,GAAchoB,OAAOmY,UAAU1d,YAGjC8tB,EAAaE,OACX,gBACAT,GAAchoB,OAAOoc,SAAS3hB,YAEhC8tB,EAAaE,OACX,cACAjgC,OAAOw/B,GAAchoB,OAAOjO,cAE9Bw2B,EAAaE,OACX,cACAT,GAAchoB,OAAOuT,YAAY9Y,YAGlC8tB,EAAaE,OACZ,sBACAT,GAAchoB,OAAOyrB,oBAAoBhxB,YAK3C8tB,EAAaE,OAAO,cAAe90B,IACnC40B,EAAaE,OAAO,WAAY,GA/DE,aAiEhC,IAAMzoB,EAASg8B,GAAYzf,GAAG/5B,KAAKqf,MAAM,KACnC67B,EAAkB,GACFlD,GAAM1yC,KAAI,SAACvE,GAAD,OAAUA,EAAKL,OACjC8M,SAAQ,SAAC2tC,EAAKzuC,GACtB8Q,EAAO9Q,IACTwuC,EAAgBh1C,KAAK,CAEnBlG,KAAMm7C,EACNv6C,MAAO4c,EAAO9Q,QAGpBq5B,EAAaE,OACX,eACAxgC,KAAK5F,UAAL,2BACK25C,GAAYzf,IADjB,IAEEmP,gBAAiBzjC,KAAK5F,UAAUq7C,QAhB7BnhB,EAAI,EAAGA,EAAIyf,GAAYp0C,OAAQ20B,IAAM,IAhEZ,OAoFlCgM,EAAaE,OACX,kBACAxgC,KAAK5F,UAAUm4C,KAGjBjS,EAAaE,OAAO,UAAWiU,IAE/BhV,EAAO13B,SAAQ,SAAC44B,GAAD,OAAWL,EAAaE,OAAO,WAAYG,MA3FxB,UA6F5BlyB,IAAWknC,uBAAuBlqC,GAAY60B,GA7FlB,QA8FlCv0B,GAAS2P,IAAaa,iBAAiB,iDAEvC1iB,EAAM8Z,WAAU,GAhGkB,mDAkGlClU,QAAQC,IAAR,MACAqM,GAAS2P,IAAaC,aAAa,mDAnGD,2DAAH,qDAuGnC,GAA0Bvc,mBAAS,MAAnC,qBAEMsC,IAFN,YAEsBH,GAAKI,MAAMC,sBAAuB5B,KAAKC,MAAMsB,GAAKI,MAAMC,uBAAwBC,MAExG,OACI,cAACg6B,EAAA,EAAD,CACEx8B,KAAMA,EACN8E,QAAS4yB,GACT,kBAAgB,oBAChB1R,SAAS,KAJX,SAQE,eAACxiB,EAAA,EAAD,CAAKa,UAAW3J,GAAQJ,KAAxB,UACE,cAACy8B,EAAA,EAAD,CACE/2B,KAAMkgC,EACNj8B,YA5ZoB,kBAAMk8B,GAAmB,IA6Z7CvI,QAtQQ,WACd+P,IAAS,SAACnQ,GAAD,OAAYA,QAuQjB,cAACjjB,GAAA,EAAD,CACEtQ,YAAa,kBAAMoK,IAAa,IAChCrO,KAAMoO,GACNlS,OAAQqS,KAEV,eAAC/K,EAAA,EAAD,CACEtF,QAAQ,OACRgN,cAAc,MACdvN,eAAe,gBACf+F,WAAW,SACXtI,MAAO,CAAEyO,aAAc,IALzB,UAOE,cAACjM,EAAA,EAAD,CAAYyG,UAAW3J,GAAQyD,YAAaN,QAAQ,KAApD,wCAGA,cAAC2F,EAAA,EAAD,CAAKpI,MAAO,CAAEC,MAAO,OAArB,UACgB,OAAbgH,SAAa,IAAbA,QAAA,EAAAA,GAAek0C,mBACbr6C,QACD,cAAC80C,EAAD,CACEG,oBAAqBqE,GACrB1H,SAAU0H,GACVvE,cAAewE,GACfn5C,YAzOU,SAACC,GACvB,OACE,cAAChC,EAAA,EAAD,2BACMgC,GADN,IAEE6c,UAAQ,EACRvS,MAAM,0EACNhJ,QAAQ,WACRrB,WAAS,EACT4zC,WAAS,EACTnzC,KAAK,QACLN,WAAU,2BACLJ,EAAOI,YADF,IAERC,eACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,QAAzB,SACE,cAAC,IAAD,MAGJC,aACE,cAACF,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAAC0G,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,GAAIlB,aAAc,IAC3CoK,IAAK+sB,QAIXmQ,UAAW,SAACt7B,GACkB,cAAxBA,EAAEvK,IAAI46C,eACR5D,GAAQ+C,WA8MNx5C,eA1LS,SAACnB,GACtB,OAAIA,EAAOE,KACFF,EAAOE,KAAPF,KAA0BA,EAAO6V,SAAW,IAE9C7V,GAuLKuC,aAxMW,SAACvC,GACxB,OACE,eAACwC,EAAA,EAAD,CAAMhB,WAAS,EAACiB,WAAS,EAACC,UAAU,MAApC,UACE,cAACF,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAf,SACE,cAAC,IAAD,CAAe2f,IAAKvoB,EAAOyrB,YAE7B,eAACjpB,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,GAAI,EAAGnG,WAAS,EAACC,UAAU,SAAtC,UACE,cAACE,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0B7C,EAAOE,OACjC,cAAC0C,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6B7C,EAAO6V,kBAiM9BtV,cAAe,SAACQ,EAASqG,GAAV,OAAoBrG,KAEnC,UAGR,eAACyB,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,eACfgG,QAAS,EAJX,UAME,eAACnG,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,UACE,cAACrJ,EAAA,EAAD,CACE6e,UAAQ,EACRvS,MAAM,4BACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,OACLmB,SAAUqkC,GAAcvnB,aACxBrd,MAAO4kC,GAAchoB,OAAOxd,KAC5By4B,MAAO+M,GAAcnK,QAAQr7B,MAAQwlC,GAAcpK,OAAOp7B,KAC1Dw7B,WACEgK,GAAcnK,QAAQr7B,KAAOwlC,GAAcpK,OAAOp7B,KAAO,KAE3Ds7B,OAAQkK,GAAcjK,WACtBlzB,KAAK,SAaP,cAAChJ,EAAA,EAAD,CACEsM,MAAM,kBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,UACLumC,UAAW,SAACt7B,KACZ9J,SAAUqkC,GAAcvnB,aACxBrd,MAAO4kC,GAAchoB,OAAOioB,QAC5BhkC,WAAY,CACVI,aACE,cAACF,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAAC0G,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CAAEpF,OAAQ,GAAIrJ,MAAO,IACzBkJ,IAAK+sB,SAKbjtB,UAAW3J,GAAQgC,SAErB,cAACnC,EAAA,EAAD,CACEsM,MAAM,wBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLoH,UAAW3J,GAAQgC,OACnBxB,KAAK,OACLmB,SAAUqkC,GAAcvnB,aACxBrd,MAAO4kC,GAAchoB,OAAOooB,OAE9B,eAACt9B,EAAA,EAAD,CAAKa,UAAS,UAAK3J,GAAQolC,IAAb,YAAoBplC,GAAQgC,QAA1C,UAEE,cAAC2J,EAAA,EAAD,CAAa+S,UAAQ,EAACnc,KAAK,QAAQY,QAAQ,WAAWrB,WAAS,EAA/D,SAaE,cAAC,KAAD,CACMgF,GAAG,WACHtG,KAAK,WACLE,MAAO,CAAEC,MAAO,QAChBy8B,cAAe,CAAE5gB,UAAW,IAAKiK,SAAU,OAAO5b,OAAO,KACzDwyB,SAAUlD,EACV/4B,MAAO4kC,GAAchoB,OAAOoc,SAC5Bz4B,SAAU,SAAC27B,GAAD,OAAO0I,GAAc9nB,cAAc,WAAWof,IACxDC,sBAAoB,EACpBzB,OAAQkK,GAAcjK,eAK9B,cAACrrB,EAAA,EAAD,CAASvG,MAAM,wBAAf,SACE,cAAC7H,EAAA,EAAD,CACEC,KAAK,QACL7B,MAAO,CAAEuJ,WAAY,GACrBzH,QAAS,kBAAMijC,GAAmB,IAHpC,SAKE,cAAC,IAAD,CAASnmC,MAAM,sBAKvB,eAACwD,EAAA,EAAD,CAAMvB,MAAI,EAACwY,GAAI,EAAG7Q,GAAI,GAAtB,UACE,cAAC,IAAD,CACEwV,UAAQ,EACRvS,MAAM,gBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,aACLu7C,SAAUd,GACV75C,MAAO4kC,GAAchoB,OAAOmoB,WAE5BxkC,SAAU,SAAC8J,GAGT,GADAu6B,GAAc9nB,cAAc,aAAczS,EAAEC,OAAOtK,OACxB,IAAvB44C,GAAYp0C,OAAc,CACpB,YAAOo0C,IACRA,GAAYl0C,KACjB,SAACy0B,GAAD,OAAQA,EAAEnkB,WAAa3K,EAAEC,OAAOtK,WAMtC63B,MACE+M,GAAcnK,QAAQsK,YACtBH,GAAcpK,OAAOuK,WAEvBnK,WACEgK,GAAcnK,QAAQsK,WAClBH,GAAcpK,OAAOuK,WACrB,KAENrK,OAAQkK,GAAcjK,aAExB,cAAC,IAAD,CACErd,UAAQ,EACRvS,MAAM,kBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,gBACLY,MAAO4kC,GAAchoB,OAAOkoB,cAE5BvkC,SAAU,SAAC8J,GAGT,GADAu6B,GAAc9nB,cAAc,gBAAiBzS,EAAEC,OAAOtK,OAC3B,IAAvB44C,GAAYp0C,OAAc,CACpB,YAAOo0C,IACRA,GAAYl0C,KACjB,SAACy0B,GAAD,OAAQA,EAAE5O,eAAiBlgB,EAAEC,OAAOtK,WAM1C63B,MACE+M,GAAcnK,QAAQqK,eACtBF,GAAcpK,OAAOsK,cAEvBlK,WACEgK,GAAcnK,QAAQqK,cAClBF,GAAcpK,OAAOsK,cACrB,KAENpK,OAAQkK,GAAcjK,WACtBpyB,UAAW3J,GAAQgC,UASP,OAAb2F,SAAa,IAAbA,QAAA,EAAAA,GAAekI,UAAUrO,QAC1B,qCACA,cAAC,IAAD,CACE2K,MAAM,iCACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLoH,UAAW3J,GAAQgC,OACnBxB,KAAK,WACLY,MAAO4kC,GAAchoB,OAAOhO,SAE5BrO,SAAU,SAAC8J,GAGT,GADAu6B,GAAc9nB,cAAc,WAAYzS,EAAEC,OAAOtK,OACtB,IAAvB44C,GAAYp0C,OAAc,CACpB,YAAOo0C,IACRA,GAAYl0C,KACjB,SAACy0B,GAAD,OAAQA,EAAEvqB,SAAWvE,EAAEC,OAAOtK,WAMpC63B,MACE+M,GAAcnK,QAAQ7rB,UAAYg2B,GAAcpK,OAAO5rB,SAEzDgsB,WACEgK,GAAcnK,QAAQ7rB,SAClBg2B,GAAcpK,OAAO5rB,SACrB,KAEN8rB,OAAQkK,GAAcjK,aAGxB,cAAC,IAAD,CACE5vB,MAAM,yDACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLoH,UAAW3J,GAAQgC,OACnBxB,KAAK,iBACLY,MAAO4kC,GAAchoB,OAAOqoB,eAC5B1kC,SAAUqkC,GAAcvnB,aACxBwa,MACE+M,GAAcnK,QAAQwK,gBACtBL,GAAcpK,OAAOyK,eAEvBrK,WACEgK,GAAcnK,QAAQwK,eAClBL,GAAcpK,OAAOyK,eACrB,KAENvK,OAAQkK,GAAcjK,aAExB,cAAC,IAAD,CACE5vB,MAAM,6DACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLoH,UAAW3J,GAAQgC,OACnBxB,KAAK,YACLY,MAAO4kC,GAAchoB,OAAOmY,UAC5Bx0B,SAAUqkC,GAAcvnB,aACxBwa,MACE+M,GAAcnK,QAAQ1F,WACtB6P,GAAcpK,OAAOzF,UAEvB6F,WACEgK,GAAcnK,QAAQ1F,UAClB6P,GAAcpK,OAAOzF,UACrB,KAEN2F,OAAQkK,GAAcjK,gBAEpB,WAGR,cAACj5B,EAAA,EAAD,CAAMC,WAAS,EAACkG,QAAS,EAAzB,SACE,cAACnG,EAAA,EAAD,CAAMvB,MAAI,EAAC2H,IAAE,EAAb,SACE,eAACJ,EAAA,EAAD,CACEtF,QAAQ,OACRgN,cAAc,MACdxH,WAAW,SACXtI,MAAO,CAAE2C,UAAW,GAAI8L,aAAa,IAJvC,UAMG3L,GAAQsC,KAAI,SAAC6kB,GAAD,OACX,cAACja,EAAA,EAAD,CAASvG,MAAM,2CAAf,SACE,cAACiC,EAAA,EAAD,CAAQ7J,KAAK,QAAQC,QAAS,kBApgB1BwkC,EAogB2Crc,EAngB7Dib,GAAWpiC,GAAQrD,QAAO,SAACwqB,GAAD,OAASA,GAAOqc,WACtCA,EAAajB,MACf4U,GAAY,IAEZhV,GAAUD,EAAOvlC,QAAO,SAACymC,EAAO15B,GAAR,OAAkBA,IAAU85B,EAAa95B,WALlD,IAAC85B,GAogBJ,SACE,cAACl+B,EAAA,EAAD,CACE8C,UAAU,MACVwD,GAAI,CACFpF,OAAQ,GACRrJ,MAAO,GACPsJ,WAAY,EACZxK,YAAa,EACbL,aAAc,GAEhByK,IAAK8gB,EAAIsE,cAKG,IAAnBzrB,GAAQoC,OAAe,cAAC,GAAD,IAAmB,KAC3C,eAACtD,EAAA,EAAD,CACE+J,SAAU7I,GAAQoC,OAAS,EAC3BtG,MAAM,UACNiD,KAAK,SACLqJ,UAAU,QAJZ,UAME,uBAAO/C,KAAK,OAAOtF,QAAM,EAAC5B,SAxtBhB,SAAC8J,GACxB,IACC/F,QAAQC,IAAI8F,EAAEC,OAAO6rB,MAAM,IAC3B7xB,QAAQC,IAAIshC,IAAIC,gBAAgBz7B,EAAEC,OAAO6rB,MAAM,KAC/CoO,GAAU,GAAD,mBAAKD,GAAL,CAAaj6B,EAAEC,OAAO6rB,MAAM,MACrCqO,GAAW,GAAD,mBACLpiC,IADK,CAER,CACE0J,MAAOw4B,EAAO9/B,OACdqpB,KAAMgY,IAAIC,gBAAgBz7B,EAAEC,OAAO6rB,MAAM,IACzCwO,OAAO,MAGX,MAAMzQ,GACL5vB,QAAQC,IAAI2vB,OA2sBD,cAAC,IAAD,eAOM,OAAb3tB,SAAa,IAAbA,QAAA,EAAAA,GAAeq0C,WAAWx6C,UAA1B,OAAoCmG,SAApC,IAAoCA,QAApC,EAAoCA,GAAekI,UAAUrO,QAEzD,eAACsB,EAAA,EAAD,CAAMC,WAAS,EAACiG,WAAW,SAAS/F,eAAe,WAAnD,UACA+iC,GAAchoB,OAAOjO,YACtB,qCACC,cAAC7M,EAAA,EAAD,gEACA,cAAC,IAAD,CAICX,KAAK,QACN7B,MAAO,CAACjB,YAAY,IACnBe,KAAK,sBACLY,MAAO4kC,GAAchoB,OAAOyrB,oBAC5B9nC,SAAUqkC,GAAcvnB,aACxBwa,MACE+M,GAAcnK,QAAQ4N,qBACtBzD,GAAcpK,OAAO6N,oBAEvBzN,WACEgK,GAAcnK,QAAQ4N,oBAClBzD,GAAcpK,OAAO6N,oBACrB,KAEN3N,OAAQkK,GAAcjK,aAExB,cAAC74B,EAAA,EAAD,CAAYxC,MAAO,CAACjB,YAAY,IAAhC,yBAGE,KAIF,cAACsM,EAAA,EAAD,CACEE,QACE,cAACgwC,EAAA,EAAD,CAEEz7C,KAAK,cACLka,QAASsrB,GAAchoB,OAAOjO,YAC9BpO,SAAUqkC,GAAcvnB,eAI5BtS,MAAM,yCAIR,MAEU,OAAbxE,SAAa,IAAbA,QAAA,EAAAA,GAAeu0C,UAAU16C,QACxB,qCACE,eAACwY,EAAA,EAAD,CAAMrQ,UAAW3J,GAAQm2C,SAAzB,UACE,cAACgG,EAAA,EAAD,CACE35C,QAAS64C,GACTe,OACE,cAAC95C,EAAA,EAAD,CACEC,KAAK,QACLoH,UAAW+V,YAAK1f,GAAQ41C,OAAT,eACZ51C,GAAQk2C,WAAaiF,KAExB34C,QAAS64C,GACT,gBAAeF,GANjB,SAQE,cAAC,IAAD,MAGJhxC,MAAM,qBACNR,UAAW3J,GAAQo2C,WAErB,cAAChV,EAAA,EAAD,CAAUC,GAAI8Z,GAAU7Z,QAAQ,OAAOC,eAAa,EAApD,SACE,cAAC,GAAD,CACEgX,cApiBM,CACpB,CAAEzxC,GAAI,IAAKtG,KAAM,UACjB,CAAEsG,GAAI,IAAKtG,KAAM,2BACjB,CAAEsG,GAAI,IAAKtG,KAAM,uBACjB,CAAEsG,GAAI,IAAKtG,KAAM,WACjB,CAAEsG,GAAI,IAAKtG,KAAM,qBAgiBHg4C,MAAOA,GACPC,SAAUA,GACVC,eAAgBA,GAChBtiC,WAAY4vB,GAAchoB,OAAOmoB,WACjCxa,eAAgBqa,GAAchoB,OAAOkoB,qBAO1C8T,GAAYp0C,OAAS,EACpB,eAACoU,EAAA,EAAD,CAAMrQ,UAAW3J,GAAQm2C,SAAzB,UACE,cAACgG,EAAA,EAAD,CACEhyC,MAAM,yCACNR,UAAW3J,GAAQo2C,WAGrB,cAAC,GAAD,CACE4D,YAAaA,GACbtB,eAAgBA,GAChBroC,kBAAiB,OAAI1I,SAAJ,IAAIA,QAAJ,EAAIA,GAAekI,UAAUrO,YAGhD,QAGJ,KAIN,eAACwY,EAAA,EAAD,CAAMrQ,UAAW3J,GAAQm2C,SAAzB,UACI,cAACgG,EAAA,EAAD,CACE35C,QAASg5C,GACTY,OAAS,eAAC95C,EAAA,EAAD,CAAYC,KAAK,QAAQoH,UAAW+V,YAAK1f,GAAQ41C,OAAT,eAAqB51C,GAAQk2C,WAAaoF,KAA0B94C,QAASg5C,GAA2B,gBAAeL,GAA/J,eAA4K,cAAC,IAAD,IAA5K,OACThxC,MAAM,gBACNR,UAAW3J,GAAQo2C,WAErB,cAAChV,EAAA,EAAD,CAAUC,GAAIia,GAAqBha,QAAQ,OAAOC,eAAa,EAAC7gC,MAAO,CAACkD,QAAQ,GAAhF,SACI,cAAC,KAAD,CAAY3E,MAAM,OAAOuB,KAAK,cAAaY,MAAO4kC,GAAchoB,OAAOuT,YAAa5vB,SAAU,SAAC27B,GAAD,OAAS0I,GAAc9nB,cAAc,cAAcof,IAAOmd,QAASA,GAAS4B,QAASA,GAAUt6C,YAAa,4BAUhN,eAACe,EAAA,EAAD,CACEvB,MAAI,EACJ2H,GAAI,GACJxI,MAAO,CACL8C,QAAS,OACTgN,cAAe,MACfvN,eAAgB,YANpB,UASE,cAACmJ,EAAA,EAAD,CACE5J,QAASw6B,GACT75B,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YACNoB,MAAO,CAAEjB,YAAa,IALxB,sBASA,cAAC2M,EAAA,EAAD,CACE5J,QAAS,WACHw3C,GAAYp0C,OACd61C,KAEAb,MAGJz3C,QAAQ,YACRZ,KAAK,QACLjD,MAAM,UACN+M,UAEI25B,GAAc/J,SAIhBz1B,OAAOw/B,GAAchoB,OAAOkoB,eAC1B1/B,OAAOw/B,GAAchoB,OAAOmoB,YAlBlC,8BAkCM,CACd7R,QAAS,CACP,CAAC,CAAE,OAAU,KAAM,CAAC,OAAU,KAAM,CAAE,KAAQ,KAC9C,CAAC,CAAC/xB,KAAM,KACR,CAAC,CAAEyM,MAAO,IAAM,CAAEA,MAAO,UAAY,CAAEA,MAAO,SAAW,CAAEA,MAAO,YAClE,CAAC,OAAQ,SAAU,YAAa,SAAU,cAC1C,CAAC,CAAC,MAAQ,KACV,CAAC,CAAC,WAAa,KACf,CAAC,CAAC,KAAQ,WAAY,CAAC,KAAQ,UAC9B,CAAC,OAAU,MAAO,CAAC,OAAU,OAC9B,CAAC,OAAQ,QAAS,SAClB,CAAC,UAGHstC,UAAW,CAETC,aAAa,GAEfC,YAAa,CACXC,UAAWnC,SAAMoC,OAAO,aACxBjC,QAAS,CAAC,SAAU,cAAc,cAKhC4B,GAAU,CACd,SAAU,OAAQ,OAClB,OAAQ,SAAU,YAAa,SAAU,aACzC,OAAQ,SAAU,SAClB,OAAQ,QAAS,QAAQ,QAAQ,e,iCCvgCnC,IAAIM,EAAyB7yC,EAAQ,KAEjC8yC,EAA0B9yC,EAAQ,KAEtCsuB,OAAOykB,eAAeC,EAAS,aAAc,CAC3C17C,OAAO,IAET07C,EAAQ/yC,aAAU,EAElB,IAAI3E,EAAQw3C,EAAwB9yC,EAAQ,IAIxCizC,GAAW,EAFMJ,EAAuB7yC,EAAQ,MAElBC,SAAuB3E,EAAM43C,cAAc,OAAQ,CACnFjlC,EAAG,ybACD,gBAEJ+kC,EAAQ/yC,QAAUgzC,G,8QCOZh+C,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXU,KAAM,CACJ,uBAAwB,CACtByD,UAAWpE,EAAMgK,QAAQ,KAG7BxF,YAAa,CACXf,SAAU,YAEZqoB,IAAK,CACHpqB,MAAO1B,EAAMgK,QAAQ,GACrBe,OAAQ/K,EAAMgK,QAAQ,IAExBmU,UAAW,CACTzc,MAAO,QAETxB,MAAO,CACLqE,QAAS,aA6MA8F,IAxMK,SAACxJ,GACnB,IAAQyJ,EAAgCzJ,EAAhCyJ,YAAajE,EAAmBxF,EAAnBwF,KACfrG,GADkCa,EAAb0J,SACbzJ,eACRC,EAAUjB,EAAUE,GAC1B,EAAoCmG,IAAMC,UAAS,GAAnD,mBAAO+oC,EAAP,KAAmBC,EAAnB,KACA,EAA6BhpC,oBAAS,GAAtC,mBAAOipC,EAAP,KAAgBC,EAAhB,KAEMC,EAAiB3wB,YAAU,CAC/BC,cAAe,CACbtd,KAAM,GACNs4B,MAAO,GACPr4B,MAAO,GACPo4B,QAAS,GACT6V,YAAY,IAEdnT,iBAAkBC,IAAW,CAC3Bh7B,KAAMg7B,MAAa9c,SAAS,qCAC5Bje,MAAO+6B,MACJ51B,OAAO,GAAI,8DACX+oC,QAAQ,SACX7V,MAAO0C,MAAa1C,MAAM,sCAKxBtxB,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAClCkK,EAAalK,EAAKI,MAAM4F,KAQ9BvN,qBAAU,WACLmuC,GAAaC,GAAc,KAC9B,CAACG,EAAexwB,OAAOvd,QAEzB,IAAMuR,EAAWxM,cACjB,OAEE,eAAC,IAAD,CAAQF,KAAMA,EAAM8E,QAASb,EAAa,kBAAgB,oBAA1D,UACE,cAAC,IAAD,CAAazC,GAAG,oBAAhB,SACE,cAAC,IAAD,CAAY6C,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,wCAKF,cAAC,IAAD,UACE,qBAAKwG,UAAW3J,EAAQJ,KAAxB,SAEE,eAAC,IAAD,CACEmD,WAAS,EACTC,UAAU,MACVC,eAAe,eACfgG,QAAS,EAJX,UAME,eAAC,IAAD,CAAM1H,MAAI,EAACwY,GAAI,EAAf,UACE,cAAC,IAAD,CACEjT,GAAG,iBACHqF,MAAM,0BACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACLmc,UAAQ,EACRle,KAAO,OACPmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAOxd,KAC7By4B,MAAOuV,EAAe3S,QAAQr7B,MAAQguC,EAAe5S,OAAOp7B,KAC5Dw7B,WAAYwS,EAAe3S,QAAQr7B,KAAOguC,EAAe5S,OAAOp7B,KAAO,KACvEs7B,OAAQ0S,EAAezS,aAEzB,cAAC,IAAD,CACEj1B,GAAG,iBACHqF,MAAM,oCACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAK,QACLmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAOvd,MAC7Bw4B,MAAOuV,EAAe3S,QAAQp7B,OAAS+tC,EAAe5S,OAAOn7B,MAC7Du7B,WAAYwS,EAAe3S,QAAQp7B,MAAQ+tC,EAAe5S,OAAOn7B,MAAQ,KACzEq7B,OAAQ0S,EAAezS,aAEtBqS,GACD,cAAC,IAAD,CAAgBnV,OAAK,EAArB,gGAEF,cAAC,IAAD,CACEnyB,GAAG,iBACHqF,MAAM,yBACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAM,UAENmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAO6a,QAC7BI,MAAOuV,EAAe3S,QAAQhD,SAAW2V,EAAe5S,OAAO/C,QAC/DmD,WAAYwS,EAAe3S,QAAQhD,QAAU2V,EAAe5S,OAAO/C,QAAU,KAC7EiD,OAAQ0S,EAAezS,gBAG3B,eAAC,IAAD,CAAMx6B,MAAI,EAACwY,GAAI,EAAf,UAEE,cAAC,IAAD,CACEjT,GAAG,iBACHqF,MAAM,QACNhJ,QAAQ,WACRrB,WAAS,EACTS,KAAK,QACL/B,KAAO,QACPmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAO8a,MAC7BG,MAAOuV,EAAe3S,QAAQ/C,OAAS0V,EAAe5S,OAAO9C,MAC7DkD,WAAYwS,EAAe3S,QAAQ/C,MAAQ0V,EAAe5S,OAAO9C,MAAQ,KACzEgD,OAAQ0S,EAAezS,aAEzB,cAAC,IAAD,CACEj1B,GAAG,OACHqF,MAAM,6BACNhJ,QAAQ,WACRZ,KAAK,QACLoH,UAAW3J,EAAQod,UACnB5c,KAAO,cACPmB,SAAU6sC,EAAe/vB,aACzBrd,MAAOotC,EAAexwB,OAAO0wB,YAC7BzV,MAAOuV,EAAe3S,QAAQ6S,aAAeF,EAAe5S,OAAO8S,YACnE1S,WAAYwS,EAAe3S,QAAQ6S,YAAcF,EAAe5S,OAAO8S,YAAc,KACrF5S,OAAQ0S,EAAezS,uBAOjC,eAAC,IAAD,WACE,cAAC,IAAD,CACEv5B,QAAU+G,EACVpG,QAAQ,YACRZ,KAAK,QACLjD,MAAM,YAJR,sBAQA,cAAC,IAAD,CACEkD,QAAO,sBAAE,gCAAA6D,EAAA,6DAEPkoC,GAAW,GACPh2B,EAAO,CACT/X,KAAMguC,EAAexwB,OAAOxd,KAC5Bs4B,MAAO0V,EAAexwB,OAAO8a,MAC7Br4B,MAAO+tC,EAAexwB,OAAOvd,MAC7Bo4B,QAAS2V,EAAexwB,OAAO6a,QAC/BE,aAAcyV,EAAexwB,OAAO0wB,aAR/B,kBAYkBr6B,IAAYsU,eAAejX,EAAY6G,GAZzD,UAYC/D,EAZD,QAaDg6B,EAAexwB,OAAO8a,MAbrB,sBAcGtmB,EAAWgC,EAASlC,MAdvB,kCAgBsB2qC,IAASC,UAC9BxrC,EAAYc,EAASsmB,MAAOtmB,EAAShS,KAAM,8CAA4B40C,YAAsB,GAAI,GAAI5iC,EAAUhL,EAAKI,QAjBrH,uBAoBL2B,IACAyI,EAAS2P,IAAaa,iBAAiB,+CAGvC1iB,EAAM0J,WAGH1J,EAAM2J,QACP3J,EAAM2C,eAAe+R,EAASlC,MA5B3B,kDAiCL+7B,GAAc,GACdE,GAAW,GACX7oC,QAAQC,IAAR,MAnCK,0DAuCTxC,QAAQ,YACRZ,KAAK,QACLjD,MAAM,UACN+M,UAAcmiC,EAAevS,SAGvBqS,EA9CR,6B,iCClMR,wHA2BMvvC,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXwE,MAAO,CAAEC,YAAa1E,EAAMM,cAAcC,aAAa,KAAMoE,QAAS,EAAGC,YAAY,GAAIC,UAAW,4CAsFzFgH,IAlFa,SAAC,GAAsD,IAAD,MAApD9F,EAAoD,EAApDA,2BAA2BhB,EAAyB,EAAzBA,SAASqD,EAAgB,EAAhBA,YACxDpI,EAAQc,cACRC,EAAUjB,EAAUE,GA2BpBk+C,EAAmB,SAACt0C,GACN,IAAD,EAEZ,EAFO,MAATA,EACD7D,EAA2B,CAAC6D,KAAK,IAAIzH,OAAOoF,OAAM,UAACxC,EAAS0O,sBAAV,aAAC,EAAyBtR,OAASoF,OAAOxC,EAASyC,cAAc,KAAKyV,QAAQ,GAAGzD,aAEnIzT,EAA2B,CAAC6D,KAAK,MAAMzH,OAAqG,KAA7FoF,OAAM,UAACxC,EAAS0O,sBAAV,aAAC,EAAyBtR,OAAQoF,OAAOxC,EAASyC,cAAc,IAAM,KAAKyV,WAAiBzD,cAIrJ,OACE,cAAC,IAAD,CAAmB2kC,YAAa,kBAAI/1C,EAAY,OAAhD,SACE,eAAC,IAAD,CAAQlE,QAAQ,WAAWwG,UAAW3J,EAAQ0D,MAA9C,UACG,eAAC,IAAD,CAAOX,WAAS,EAACiG,WAAW,SAASC,QAAS,EAA9C,UACO,cAAC,IAAD,CAAM1H,MAAI,EAAV,SAAW,cAAC,IAAD,CAAY4B,QAAQ,KAApB,iCACX,cAAC,IAAD,CAAM5B,MAAI,EAAV,SACA,eAAC,IAAD,WACE,cAAC,IAAD,CAA8Bb,MAAO,CAACpB,MAAM,OAAQG,YAAY,GAAIkB,MAAM,IACzES,MAAK,UAAE4C,EAAS0O,sBAAX,aAAE,EAAyBtR,MAChCO,SA1CS,SAAC8J,GAAM,IAAD,EAE9B/F,QAAQC,IAAI,iCAAiC8F,EAAEC,OAAOtK,OAGnDqK,EAAEC,OAAOtK,MAAQ,GAAKqK,EAAEC,OAAOtK,MAAM+e,SAAS,OAEP,OAAlC,UAAAnc,EAAS0O,sBAAT,eAAyB7J,MAC5BrC,OAAOiF,EAAEC,OAAOtK,OAAS,IAC1B4D,EAA2B,CAAC5D,MAAM,MAAOyH,KAAK,MAG9C7D,EAA2B,CAAC5D,MAAOqK,EAAEC,OAAOtK,MAAWqK,EAAEC,OAAOtK,MAAd,IAAqByH,KAAK,MAI3ErC,OAAOiF,EAAEC,OAAOtK,OAASoF,OAAOxC,EAASyC,cAC1CzB,EAA2B,CAAC5D,MAAO4C,EAASyC,aAAcoC,KAAK,QAG/D7D,EAA2B,CAAC5D,MAAOqK,EAAEC,OAAOtK,MAAWqK,EAAEC,OAAOtK,MAAMqX,WAApB,IAAgC5P,KAAK,YAwB7E,cAAC,IAAD,CAAMtH,MAAI,EAACb,MAAO,CAAEjB,YAAY,GAAhC,SACI,cAAC,IAAD,CAAY2P,GAAI,CAAEhQ,aAAc,QAC5BoD,QAAS,kBAAI26C,EAAiB,QADlC,SAIE,cAAC,IAAD,CAAQh6C,QAAQ,UAAYzC,MAAO,CAACC,MAAO1B,EAAMgK,QAAQ,GAAGe,OAAQ/K,EAAMgK,QAAQ,GAAImC,WAA4C,SAAjC,UAAApH,EAAS0O,sBAAT,eAAyB7J,MAAgB5J,EAAM0mB,QAAQC,QAAQC,KAAM,MAAtK,SACI,cAAC,IAAD,CAAanlB,MAAO,CAACgC,SAAS,GAAI4H,WAAW,KAA7C,uBAIR,cAAC,IAAD,CAAM/I,MAAI,EAAV,SACE,cAAC,IAAD,CAAY6N,GAAI,CAAEhQ,aAAc,QAC5BoD,QAAS,kBAAI26C,EAAiB,MADlC,SAIE,cAAC,IAAD,CAAQh6C,QAAQ,UAAYzC,MAAO,CAACC,MAAO1B,EAAMgK,QAAQ,GAAGe,OAAQ/K,EAAMgK,QAAQ,GAAImC,WAA4C,OAAjC,UAAApH,EAAS0O,sBAAT,eAAyB7J,MAAY5J,EAAM0mB,QAAQC,QAAQC,KAAM,MAAlK,SACI,cAAC,IAAD,CAAanlB,MAAO,CAACgC,SAAS,GAAI4H,WAAW,KAA7C,6BAQf,eAAC,IAAD,CAAOvH,WAAS,EAACiG,WAAW,SAAS/F,eAAe,gBAAegG,QAAS,EAA5E,UACK,cAAC,IAAD,CAAM1H,MAAI,EAAV,SAAW,cAAC,IAAD,CAAY4B,QAAQ,KAApB,kCACX,cAAC,IAAD,CAAM5B,MAAI,EAAV,SAAY,cAAC,IAAD,CAAWH,MAAO4C,EAASmE,YAAazH,MAAO,CAACjB,YAAY,kB,0uCC9F7E,SAAS2R,EAAT,GAA4E,IAArDC,EAAoD,EAApDA,aAAc9H,EAAsC,EAAtCA,YAAaoD,EAAyB,EAAzBA,IAAK0wC,EAAoB,EAApBA,iBACpE,EAA8Ch4C,mBAAS,IAAvD,mBAAOsI,EAAP,KAAwBC,EAAxB,KACA,OACE,eAAC,IAAD,CAAQtI,MAAM,EAAd,UAIE,cAAC,IAAD,CAAY5E,MAAO,CAAEgC,SAAU,GAAG4H,WAAW,IAAKjH,UAAU,GAAI4G,WAAW,GAAIS,aAAa,IAA5F,4CAAkHiC,EAAIsC,aAAtH,cAAwItC,EAAInM,QAE5I,eAAC,IAAD,WACE,cAAC,IAAD,CACEa,QAASsL,EAAIkB,QACbpM,eAAgB,SAACwM,GAAD,uBACXA,QADW,IACXA,OADW,EACXA,EAAO2C,WADI,eAEP,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OAAqB5C,QAArB,IAAqBA,OAArB,EAAqBA,EAAO4C,YAAc,GAF9B,mCAGC5C,QAHD,IAGCA,OAHD,EAGCA,EAAO+B,WAExBpO,YAAa,SAACC,GAAD,OACX,cAAC,IAAD,2BAAeA,GAAf,IAAuBsK,MAAM,qBAAYhJ,QAAQ,eAEnDxB,SAAU,SAAC8J,EAAGrK,GACRA,GACFwM,EACEylB,SAAA,sBAEO1lB,GACA,CAAC,2BAAKvM,GAAN,IAAa0M,oBAAqB,EAAGmD,QAAQ,MAElD,kBAMV,qBAAKvQ,MAAO,CAAE2C,UAAW,IAAzB,SACGsK,EAAgB7H,KAAI,SAACmI,GACpB,OACE,sBAEEvN,MAAO,CACL8C,QAAS,OACTgN,cAAe,MACfC,IAAK,GACL0U,OAAQ,iBACR/lB,aAAc,EACd+P,aAAc,GACdnG,WAAY,SACZrI,MAAO,IACPsC,eAAgB,gBAChBW,QAAS,IAZb,UAeE,cAAC,IAAD,CAAYT,QAAQ,KAApB,0BAA6B8K,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAO2C,WAApC,eACO,OAAL3C,QAAK,IAALA,OAAA,EAAAA,EAAO4C,aAAP,OAAqB5C,QAArB,IAAqBA,OAArB,EAAqBA,EAAO4C,YAAc,GAD5C,mCAEe5C,QAFf,IAEeA,OAFf,EAEeA,EAAO+B,YACtB,cAAC,IAAD,CACEnH,KAAK,SACLnI,MAAO,CAAEC,MAAO,KAChBS,MAAO6M,EAAMH,oBACbnM,SAAU,SAAC8J,GACT,KAAIjF,OAAOiF,EAAEC,OAAOtK,OAAS,GAA7B,CACA,IAAMk8C,EAAkB3vC,EAAgB7H,KACtC,SAACkL,GACC,OAAIA,EAAcJ,aAAe3C,EAAM2C,WAC9B,2BACFI,GADL,IAEElD,oBAAqBtH,OAAOiF,EAAEC,OAAOtK,SAGhC4P,KAIbpD,EAAmB0vC,SApCzB,OACOrvC,QADP,IACOA,OADP,EACOA,EAAO2C,oBA2CtB,eAAC,IAAD,WACE,cAAC,IAAD,CAAQtR,MAAM,YAAYiD,KAAK,QAAOY,QAAQ,YAAYX,QAAS+G,EAAnE,sBAGA,cAAC,IAAD,CACEjK,MAAM,UACNiD,KAAK,QAAOY,QAAQ,YACpBX,QAAS,WACP,GAAK66C,EAMHhsC,EAAa1D,OANQ,CACrB,IAAM4vC,EAAe5vC,EAAgBxN,QACnC,SAAC8N,GAAD,OAAWA,EAAMH,uBAEnBuD,EAAaksC,GAIfh0C,KAZJ,6B,g6CCzFUvK,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACX+d,OAAQ,CACNtc,MAJc,IAKduc,WAAY,GAGdC,YAAa,CACXxc,MATc,IAUdiD,QAAQ,IAEVwZ,UAAU,CAACjO,aAAa,IACxBkO,KAAK,CAAClO,aAAa,GAAG9L,UAAU,S,qDC2BrBm6C,EAtCkB,SAAC19C,GAAW,IAAD,IAChC6M,EAAyD7M,EAAzD6M,IAAK0S,EAAoDvf,EAApDuf,cAAcC,EAAsCxf,EAAtCwf,QAAS8B,EAA6BthB,EAA7BshB,OAAO5B,EAAsB1f,EAAtB0f,UAAUuE,EAAYjkB,EAAZikB,SAC/C/jB,EAAUyf,cAGhB,OADA/Z,QAAQC,IAAI,eAAegH,GAEvB,qCAEI,eAACgC,EAAA,EAAD,CACAnM,QAAS,kBAAM6c,EAAc1S,EAAI7F,KAEjC6C,UAAY+V,YAAK1f,EAAQ2M,IAAK2S,IAAY3S,EAAI7F,GAAM9G,EAAQ2f,WAAa,MAHzE,UAKI,cAAC5Q,EAAA,EAAD,CAAWC,MAAM,OAAQtO,MAAO,CAACpB,MAAMkgB,GAAvC,SAAoD7S,EAAI+zB,sBAExD,eAAC3xB,EAAA,EAAD,CAAWC,MAAM,OAAMrF,UAAW6V,EAAU,KAAKxf,EAAQ4f,SAAWlf,MAAO,CAACpB,MAAMkgB,GAAlF,wBAAgG7S,EAAI2X,kBAApG,aAAgG,EAAgBzE,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAKre,OAAO,sBAAgBiL,EAAI2X,kBAApB,aAAgB,EAAgBzE,MAAM,KAAK,GAAGG,OAAO,EAAG,QAC5N,cAACjR,EAAA,EAAD,CAAWC,MAAM,OAAMrF,UAAW6V,EAAU,KAAKxf,EAAQ4f,SAAUlf,MAAO,CAACpB,MAAMkgB,GAAjF,SAA8F7S,EAAInM,OAClG,cAACuO,EAAA,EAAD,CAAWC,MAAM,OAAQtO,MAAO,CAACpB,MAAMkgB,GAAvC,SAAoD7S,EAAIlM,QACxD,eAACsO,EAAA,EAAD,CAAWC,MAAM,OAAQtO,MAAO,CAACpB,MAAMkgB,GAAvC,UAAoD7S,EAAIksB,QAAxD,KAAuElsB,EAAIgzB,KAA3E,KAAuFhzB,EAAIkzB,SAA3F,KAA2GlzB,EAAI60B,QAC/G,cAACzyB,EAAA,EAAD,CAAWC,MAAM,QAAQrF,UAAW6V,EAAU,KAAKxf,EAAQ4f,SAAWlf,MAAO,CAACpB,MAAMkgB,GAApF,SAAgG,cAAC,IAAD,CAAWpe,MAAOuL,EAAIlG,iBACrHsd,EAAS,KAAK,eAAChV,EAAA,EAAD,CAAWC,MAAM,SAAjB,UACP,cAAC,IAAD,CAAqBxN,OAAQmL,EAAInL,SAD1B,SAVdmL,EAAI7F,IAiBT,cAAC6H,EAAA,EAAD,UAEE,cAACI,EAAA,EAAD,CAAWrO,MAAO,CAAE+O,cAAe,EAAGD,WAAY,GAAKe,QAAS,EAAhE,SACM,cAACywB,EAAA,EAAD,CAAwB1gB,YAAaxgB,EAAOwf,QAASA,EAAS8B,OAAQA,Y,mGC+OpFuC,GAFSsB,IA3OU,WAEtB,IAAMw4B,EAAmBC,EAGnBz+C,EAAQc,cACRC,EAAUjB,YAAUE,GACpB+S,EAAWxM,cACXuO,EAAWC,YAAc/U,EAAMgV,YAAYC,KAAK,OAMtD,EAA8B9O,IAAMC,SAAS,MAA7C,mBAAOia,EAAP,KAAgB4B,EAAhB,KACM7B,EAAgB,SAAC1S,GACGuU,EAAlBvU,IAAS2S,EAAoB3S,EACjB,OAIpB,EAA0BvH,IAAMC,SAAS,OAAzC,mBAAOqQ,EAAP,KACA,GADA,KAC8BtQ,IAAMC,SAAS,OAA7C,mBAAOuQ,EAAP,KAYK0D,GAZL,KAYoBC,oBACfF,EAAcG,0BAAgB,CAChCC,QAAS,kBAAMH,EAAaI,WAK9B,GAAoCtU,IAAMC,UAAS,GAAnD,qBAAOmY,GAAP,MAAmB2D,GAAnB,MAWA,GAA4C9b,mBAAS,IAArD,qBAAOs4C,GAAP,MAAuBC,GAAvB,MACM38B,GAAe,CACnBhD,UAAW,GACXE,QAAS,GACTQ,eAAgB,EAChBC,eAAgB,EAChBpd,OAAQ,GACRoU,QAAS,6BACTxP,KAAM,OACNgO,UAAW,IAKb,GAA0B/O,mBAAS4b,IAAnC,qBAAOxD,GAAP,MAAcE,GAAd,MACA,GAA4BvY,IAAMC,UAAS,GAA3C,qBAAO+b,GAAP,MAAexH,GAAf,MACA,GAAsCvU,mBAAS,CAC7Cob,KAAM,EACNC,MAAO,KAFT,qBAAOC,GAAP,MAAoBC,GAApB,MAIA,GAAkCvb,mBAAS,GAA3C,qBAAOwb,GAAP,MAAkBC,GAAlB,MACMtX,GAAW,WACfoQ,IAAWwH,KAEP5Z,GAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMF,QACtCkK,GAAalK,GAAKI,MAAM4F,KACxBmE,GAAcnK,GAAKgF,OAAOgB,KAEhCvN,qBAAU,WACR2gB,GAAe,2BAAKD,IAAN,IAAmBF,KAAM,OACtC,CAACW,GAAQ1P,GAAYC,GAAa8L,KACrCxd,qBAAU,WACR,IAAMohB,EAAQ,uCAAG,4BAAAhb,EAAA,+EAEU4S,IAAS8X,oBAC9Brf,GACAC,GAFqB,aAInB8O,KAAME,GAAYF,KAClBC,MAAOC,GAAYD,OAChBjD,KARM,OAEPjJ,EAFO,OAYbsM,GAAatM,EAAS+M,YACtBq8B,GAAkBppC,EAASlC,MAbd,gDAeb5M,QAAQC,IAAR,MAfa,yDAAH,qDAkBV+L,IAAcC,IAEhB0P,MAED,CAACV,GAAYF,KAAME,GAAYD,MAAO/O,GAAa8L,GAAO2D,KAE7D,IAAMI,GAAWpc,IAAMqc,YAEjBC,GAAa,uCAAG,4BAAArb,EAAA,+EAEK4S,IAAS8X,oBAC9Brf,GACAC,GACA8L,IALgB,cAEZjJ,EAFY,yBAOXA,EAASlC,MAPE,gCASlBN,EAAS2P,IAAaC,aAAa,kDACnClc,QAAQC,IAAR,MAVkB,yDAAH,qDAcnB,OACE,eAACqU,EAAA,EAAD,CAAMrQ,UAAW3J,EAAQJ,KAAzB,UACM,eAACkD,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVC,eAAe,gBAHjB,UAMM,cAACC,EAAA,EAAD,CAAYyG,UAAW3J,EAAQyD,YAAaN,QAAQ,KAApD,iDAIA,cAACL,EAAA,EAAD,CAAM6G,UAAW3J,EAAQ6hB,UAAzB,SACI,cAAC/G,EAAA,EAAD,CACI1L,GAAI,CAAEhQ,aAAc,QACpBoD,QAAS,WAAKwP,EAAS8P,IAAgBC,gBAAe,KACtDnW,UAAWqW,IACXC,GAAG,mCAJP,SAMI,cAACnH,EAAA,EAAD,CAAQ5X,QAAQ,UAAUwG,UAAW3J,EAAQgb,aAA7C,SACI,cAACtK,EAAA,EAAD,CAASvG,MAAM,wBAAf,SACA,cAAC,IAAD,CAAS8Q,OAAQ,IAAK1Y,KAAK,sBAO7C,cAAC4I,EAAA,EAAD,IAKA,cAACgX,EAAA,EAAD,CAAUC,UAAWq7B,EAAkB76B,UAAWC,IAAuBC,WAAY,kCACpFvF,mBApHoB,WACzB4D,IAAe3D,KAmH+BnE,YAAaA,EAEtD0J,eAAgB,CACf,CAAC3hB,MAAO,6BAA8B+K,MAAO,oBAC7C,CAAC/K,MAAO,eAAgB+K,MAAO,wBAEjCyJ,QAAS6H,GAAM7H,QAASC,WAAY,SAACzU,GAAD,OAAWuc,GAAS,2BAAIF,IAAL,IAAY7H,QAASxU,MAC5EgF,KAAMqX,GAAMrX,KAAM4c,QAAS,SAAC5hB,GAAD,OAAWuc,GAAS,2BAAIF,IAAL,IAAYrX,KAAKhF,MAC/DgT,UAAWqJ,GAAMrJ,UAAW6O,aAAc,SAAC7hB,GAAD,OAAWuc,GAAS,2BAAIF,IAAL,IAAYrJ,UAAWhT,MACpF8hB,mBAxGqB,WACzBvF,GAASsD,KAwGLS,cAAeA,GACfyB,cAAiB,CACf,CAACC,OAAO,sBAAsBC,YAAY,qCAC1C,CAACD,OAAO,OAAOC,YAAY,mBAC3B,CAACD,OAAO,QAAQC,YAAY,qCAC5B,CAACD,OAAO,eAAeC,YAAY,uBACnC,CAACD,OAAO,SAASC,YAAY,sBAC7B,CAACD,OAAO,cAAcC,YAAY,iBAUlCtP,EAuBH,qCACC,cAACjL,EAAA,EAAD,CAAKpI,MAAO,CAACqI,UAAU,QAAvB,SACC00C,EAAiB33C,KAAI,SAAC6G,EAAKO,GAC1B,OACE,cAAC,IAAD,CAA+BP,IAAKA,EAAK2S,QAASA,EAASD,cAAeA,EAE1E9Y,UAAW,IAAQO,GAAI,UAAWwc,YAAa,gBAAYC,KAAM,aACjEC,SAAU,iDAHa7W,EAAI7F,SAO/B,cAAC2c,EAAA,EAAD,CAAY9C,YAAW,2BAAMA,IAAN,IAAmBY,WAAYV,KAAYD,eAAgBA,GACjF8C,KAAMi6B,QAnCI,eAACviC,EAAA,EAAD,CACVuF,YAAW,2BAAMA,IAAN,IAAmBY,WAAYV,KAAYD,eAAgBA,GACtE8C,KAAMi6B,GACNn8B,SAAUA,GAHA,UAMP,cAACnG,EAAA,EAAD,CACErb,QAASA,EACT0V,MAAOA,EACPE,QAASA,EACT0F,cA3Ka,SAACra,EAAOsa,KA4KrBC,WAAYC,MAEd,cAACC,EAAA,EAAD,UACGiiC,GAAe73C,KAAI,SAAC6G,EAAKO,GAEtB,OADFxH,QAAQC,IAAI,MAAMgH,GAEd,cAAC,EAAD,CAAuCA,IAAKA,EAAM2S,QAASA,EAAUD,cAAeA,EAAe+B,OAAQ5X,IAA5EmD,EAAI7F,YAsB/C,qBAAMpG,MAAO,CAAC8C,QAAQ,QAAtB,SACE,qBAAKoZ,IAAKtD,EAAV,SACA,cAAC,EAAD,CAAmBqkC,eAAgBA,GAAgB39C,QAASA,YAW/C,SAAC,GAA6B,IAA5B29C,EAA2B,EAA3BA,eAAe39C,EAAY,EAAZA,QACxC,OACA,sBAAKU,MAAO,CAACkD,QAAQ,IAArB,UACA,eAACV,EAAA,EAAD,CAAYxC,MAAO,CAACpB,MAAM,QAA1B,gCAA+C0Y,IAAO,IAAI7O,MAAQiP,OAAO,uBACzE,cAACtP,EAAA,EAAD,CAAKpI,MAAO,CAAEsB,OAAQ,GAAG8hB,SAAU,EAAI5Y,UAAW,SAAU5L,MAAO,QAAnE,SACE,cAAC4D,EAAA,EAAD,CAAYxC,MAAO,CAAGgC,SAAU,GAAI4H,WAAY,KAAhD,oEAWF,8BACA,eAAC8Q,EAAA,EAAD,CAAe2I,UAAU,EAAzB,UACE,cAAC1I,EAAA,EAAD,CACA/b,MAAM,OACJU,QAASA,EACTwb,WAAYC,IAA6Btb,QAAO,SAAAoB,GAAI,MAAgB,WAAZA,EAAKuF,QAE/D,cAAC4U,EAAA,EAAD,UACGiiC,EAAe73C,KAAI,SAAC6G,EAAKO,GACxB,OAAQ,cAAC,EAAD,CAA0BsS,UAAW,OAAuB7S,IAAKA,EAAKoX,UAAU,GAA9BpX,EAAIa","file":"static/js/21.eb24690b.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  Grid,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  useTheme,\n  withStyles,\n  makeStyles,\n  createStyles,\n} from \"@material-ui/core/styles\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { removeAccents } from \"../../utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    input: {\n      borderRadius: \"20px\",       \n    },\n    multilineColor:{\n      color:theme.customization.primaryColor[500],\n      marginRight:-20\n  }\n  })\n);\n\nconst CustomTextField = withStyles({\n  root: {\n    \"& .MuiOutlinedInput-root\": {\n      \"& fieldset\": {\n        borderRadius: 14,\n      },\n    },\n  },\n})(TextField);\n\nconst SearchCustomer = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  // const [selectedOption, setSelectedOption] = useState(props.selected)\n  // const [options, setOptions] = React.useState([]);\n\n  useEffect(() => {\n\n  }, [props.selectedCustomer]);\n  // console.log(\"selectedCustomer\",props.selectedCustomer)\n  const renderOption = (option) => {\n    //display value in Popper elements\n    return (\n      <Grid fullWidth container direction=\"row\" justifyContent=\"space-between\">\n        <Typography variant=\"h5\">{option.name}</Typography>\n        <Typography variant=\"body1\">{option.phone}</Typography>\n      </Grid>\n    );\n  };\n\n  const renderInput = (params) => (\n    <TextField\n      {...params}\n      fullWidth\n      placeholder=\"Tìm khách hàng\"\n      margin=\"normal\"\n      // onClick={()=>props.selectedCustomer? console.log(\"hello\"):null}\n      InputProps={\n        // props.selectedCustomer?.name.length === 0 \n        !props.selectedCustomer\n          ? {\n              ...params.InputProps,\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={props.handleClickOpen}\n                  style={{ marginRight: -30 }}\n                >\n                  <AddIcon />\n                </IconButton>\n              ),\n            }\n          : {\n              ...params.InputProps,\n              classes: { input: classes.multilineColor },\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {/* <SearchIcon style={{ color: grey[500] }} /> */}\n                  <PersonIcon style={{ color: theme.customization.primaryColor[500] }} /> \n\n                </InputAdornment>\n              ),\n              endAdornment: (\n                <IconButton\n                  aria-label=\"delete\"\n                  size=\"small\"\n                  onClick={()=>{\n                    props.handleSearchBarSelect(null)\n                    props.setAddCustomer({ name: \"\", phone: \"\" })\n                  }}\n                  style={{ marginRight: -30 }}\n                >\n                  <ClearOutlinedIcon fontSize=\"small\" style={{ color: theme.customization.primaryColor[500] }} />\n                </IconButton>\n              ),\n            }\n      }\n    />\n  );\n\n  const getOptionLabel = (option) => (option.name ? option.name.concat(option.phone? ` - ${option.phone}` :'') : \"\");\n  const filter = createFilterOptions({\n    stringify: option => `${removeAccents(option.name)}  - ${option.phone}`,\n  });\n  return (\n    <div style={{ width: \"100%\" }}>\n      <Autocomplete\n        filterOptions={filter}\n        autoComplete={false}\n        freeSolo\n        onKeyUp={(event) => {\n          // if (event.key === \"Enter\") {\n          //   props.handleSearchCustomer(event.target.value) \n          // }\n          if(props.selectedCustomer && (event.key === \"Delete\" || event.key === \"Backspace\") ){\n            props.handleSearchBarSelect(null)\n          }\n        }}\n        value={props.selectedCustomer}\n        options={props.customers.filter(item => item.status ==='active')}\n        getOptionLabel={getOptionLabel}\n        onChange={(event, value) => {\n          if (value) {\n            // setSelectedOption(value);\n            props.handleSearchBarSelect(value);\n          }\n        }}\n        // onInputChange={()=>{\n        //   if(props.selectedCustomer?.name.length !== 0){\n        //     // props.handleSearchBarSelect(null)\n        //     props.setAddCustomer({ name: \"\", phone: \"\" })\n        //   }\n          \n        // }}\n        renderInput={renderInput}\n        renderOption={renderOption}\n      />\n    </div>\n  );\n};\n\nexport default SearchCustomer;\n","import React from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  DialogActions,\n  DialogContent,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  RadioGroup,\n  Radio,\n  ListItem,\n  Paper,\n  ButtonBase,\n  Avatar,\n  Popover,\n  Divider\n} from \"@material-ui/core\";\nimport {calculateTotalQuantity} from \"../../../../components/TableCommon/util/sortUtil\"\nimport Popper from '@material-ui/core/Popper';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport { useSelector } from \"react-redux\";\n\nimport AddCustomer from \"../../../../views/ManagerView/Customer/AddCustomer/AddCustomer\";\nimport giftBox from \"../../../../assets/img/icon/giftbox.png\";\n// import giftBox from \"../../../../assets/img/icon/gift.png\";\n// import giftBox from \"../../../../assets/img/icon/gift2.png\";\n\nimport SearchCustomer from \"../../../SearchBar/SearchCustomer\";\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\n\n// import VNDInput from '../../../TextField/NumberFormatCustom';\n// import { VNDFormat,ThousandFormat } from '../../../TextField/NumberFormatCustom';\nimport setting from \"../../../../assets/constant/setting\";\n\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../../../TextField/NumberFormatCustom\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport DiscountPopUp from \"../../../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\nimport DiscountInputDetail from \"../../../TextField/DiscountInputDetail\";\nimport openNotification from \"../../../../components/StatusPopup/StatusPopup\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    popup: { borderColor: theme.customization.primaryColor[500], padding: 5, paddingLeft:12, boxShadow: \"0px 5px 10px 0px rgba(0, 0, 0, 0.5)\" },\n  })\n);\nconst CartSummary = (props) => {\n  const {\n    cartData,\n    handleSelectCustomer,\n    currentCustomer,\n    handleUpdateDiscount,\n    handleUpdatePaidAmount,\n    handleUpdatePaymentMethod,\n    handleCheckDelivery,\n    handleSearchCustomer,\n    handleConfirm,\n    selectedBranch,\n    setSelectedBranch,\n    customers,\n    currentBranch,\n    mode,\n    reloadCustomers,\n    discountData,\n    isScore,\n    handleUpdateDiscountDetail,\n    handleUpdateSelectedPromotion,\n    handleUpdateBestDetailSelectedPromotion,\n    products\n  } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const dispatch = useDispatch();\n\n\n  //mode 2: popup\n  const [openPopUp, setOpenPopUp] = React.useState(false);\n  const handleClickOpenPopUp = () => {\n    setOpenPopUp(true);\n  };\n\n  const handleClosePopUp = () => {\n    setOpenPopUp(false);\n  };\n\n  // giao hang\n  const [deliver, setDeliver] = React.useState(false);\n\n  const handleChangeDeliver = (event) => {\n    setDeliver(event.target.checked);\n  };\n\n\n  // so tien khach đưa\n  const [customerMoney, setCustomerMoney] = React.useState(\"0\");\n\n\n  // const handlePromotion = () =>{ \n  //   if(discountData.length !==0 ){ \n  //     let arr = []\n  //      discountData?.map(( pro) => {\n  //       const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return b.totalCost - a.totalCost})\n  //       console.log(\"sortedRow\",sortedRow)\n  //       for ( let i = 0; i <sortedRow.length ; i++){\n  //         if(Number(cartData.total_amount) >= Number(sortedRow[i].totalCost)){\n  //            arr.push({...sortedRow[i], name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})\n  //            return \n  //         }\n  //       }\n  //     })\n  //     return arr\n  //   }\n  //   return []\n  // }\n  // let filteredPromotion = handlePromotion()\n\n  const handlePromotion = () =>{\n    console.log(\"discountData.length \",discountData.length )\n    if(discountData.length ===0 ){return [] }\n    \n    var arr = []\n    discountData?.map(( pro) => {\n      // // thap den cao\n      // const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return a.totalCost - b.totalCost})\n      // thap den cao\n      const sortedRow = JSON.parse(pro.promotion_condition).sort((a, b) => {return b.totalCost - a.totalCost})\n      if (Number(cartData.total_amount) >= Number(sortedRow[sortedRow.length - 1].totalCost) ){arr.push({detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})}\n    })\n    return arr\n  }\n  let filteredPromotion = handlePromotion()\n\n\n  // const [selectedPromotion, setSelectedPromotion] = React.useState(null);\n  let  selectedPromotion = cartData.selectedPromotion\n  const [openDiscount, setOpenDiscount] = React.useState(false);\n\n  const [addCustomer, setAddCustomer] =  React.useState({ name: \"\", phone: \"\" });\n  React.useEffect(()=>{\n    if(addCustomer?.name?.length !==  0){props.handleSelectCustomer(addCustomer);setAddCustomer({ name: \"\", phone: \"\" })}\n  })\n  console.log(\"currentCustomer\",currentCustomer)\n\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const openDiscountDetail = Boolean(anchorEl);\n\n  const info = useSelector((state) => state.info);\n  console.log(\"info\",info)\n   const store_setting = info.store.general_configuration\n  ? JSON.parse(info.store.general_configuration)\n  : setting;\n  const canEnterDiscountWhenSell = store_setting?.canEnterDiscountWhenSell?.status\n  const handleClick = (event) => {\n      if(canEnterDiscountWhenSell || info.role === 'owner'){\n        setAnchorEl(anchorEl ? null : event.currentTarget);\n      }else{\n        openNotification('error', 'Bạn không có quyền nhập giảm giá', '')\n      }\n  };\n\n  let returnMoney =  cartData.paid_amount - (cartData.total_amount - cartData.discount - cartData.discountPro) \n\n  const totalQuantity = calculateTotalQuantity(cartData.cartItem)\n\n\n \n  const otherfee = store_setting?.vat\n  let otherFeeMoney = otherfee?.listCost ? otherfee?.listCost?.reduce((sum,fee)=>fee.type!==\"%\"? sum + Number(fee.value):sum , 0) :0;\n\n\n\n\n  console.log(\"cartData\",cartData)\n\n  // const getBestPromotion = ()=> {\n  //   let bestCondition = selectedPromotion.detailCondition.map((pro) =>{if (Number(cartData.total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n  //   bestCondition =bestCondition.filter(item => item !== null)[0]\n  //   return  bestCondition\n  // }\n  return (\n    <Box style={{ padding: 30, minHeight: \"80vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          {/* 1. BASIC INFO */}\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">{currentBranch.name}</Typography>\n            {/* <BranchSelect \n                            setSelectedBranch={setSelectedBranch}\n                            selectedBranch={selectedBranch}\n                        /> */}\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <div style={{ width: \"100%\" }}>\n          <SearchCustomer\n            handleClickOpen={handleClickOpen}\n            handleSearchCustomer={handleSearchCustomer}\n            customers={customers}\n            selectedCustomer={\n              currentCustomer\n              // currentCustomer ? currentCustomer : { name: \"\", phone: \"\" }\n            }\n            handleSearchBarSelect={handleSelectCustomer}\n            setAddCustomer={setAddCustomer}\n          />\n        </div>\n\n        {/* <AddCustomer open={open} handleClose={handleClose} /> */}\n        {open &&<AddCustomer \n        open={open} \n        handleClose={()=>{setOpen(false)}}  \n        onReload={props.reloadCustomers} \n        setAddCustomer={setAddCustomer}\n        isCart={true}\n        />}\n        {/* when change mode to menu product */}\n        {props.children}\n\n\n        {/* 2. PAYMENT INFO  */}\n        {/* {!mode ? ( */}\n         \n            {/* 2.1 Mode 1 */}\n           {!mode? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginBox}\n            >\n              <Typography variant=\"h5\">Tổng SL sản phẩm ({cartData.cartItem.length}) </Typography>\n              <Typography variant=\"body2\">\n                <ThousandFormat\n                  value={calculateTotalQuantity(cartData.cartItem)}\n                ></ThousandFormat>\n              </Typography>\n            </Grid>:null}\n\n          <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n              alignItems='center'\n            >\n              <div>\n                <ListItem style={{padding: 0,margin:0}}>\n                <Typography variant=\"h5\">{!canEnterDiscountWhenSell && mode ?`Tổng tiền (${calculateTotalQuantity(cartData.cartItem)})`:`Tổng tiền hàng`}</Typography>\n                {/* { filteredPromotion.length > 0   ? \n                <div onClick={()=>{setOpenDiscount(!openDiscount)}}>\n                    <img id=\"gift\" src={require('../../../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} />\n                </div>\n                :null} */}\n                { filteredPromotion.length  > 0  ? \n                <div onClick={()=>{setOpenDiscount(!openDiscount)}}>\n                    <img id=\"gift\" src={require('../../../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} />\n                </div>\n                :null}\n                \n                </ListItem>\n              \n              </div>\n              {openDiscount && <DiscountPopUp products={products}handleUpdateSelectedPromotion={handleUpdateSelectedPromotion} selectedPromotion={cartData.selectedPromotion} listGiftItem={cartData.listGiftItem}filteredPromotion={filteredPromotion} open={openDiscount} title=\"Khuyến mãi trên hóa đơn\" onClose={()=>{setOpenDiscount(!openDiscount)}} totalCartAmount={cartData.total_amount} handleUpdateBestDetailSelectedPromotion={handleUpdateBestDetailSelectedPromotion}/>}\n\n              \n       \n            <Typography variant=\"body2\"  style={!canEnterDiscountWhenSell && mode?{color: \"#2096f3\", fontWeight: 600,fontSize:18 }:{}} >\n                <VNDFormat value={cartData.total_amount} />\n              </Typography>\n            </Grid>\n            \n                 \n          {(canEnterDiscountWhenSell  && mode)|| !mode?\n          <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n               <div>\n                <ListItem style={{padding: 0,margin:0}}>\n                \n                {/* <Typography variant=\"h5\">Giảm giá {selectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({selectedPromotion.discountValue}%)</b>:\"\"}</Typography> */}\n                {/* <Typography variant=\"h5\">Giảm giá {getBestPromotion()?.type ===\"%\" ? <b style={{color:'red'}} >({getBestPromotion().discountValue}%)</b>:\"\"}</Typography>\n                { selectedPromotion?.discountKey === \"invoice\" ? \n                <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                :null} */}\n\n              <Typography variant=\"h5\">Giảm giá {cartData.bestDetailSelectedPromotion?.type ===\"%\" ? <b style={{color:'red'}} >({cartData.bestDetailSelectedPromotion?.discountValue}%)</b>:\"\"}</Typography>\n                { selectedPromotion?.discountKey === \"invoice\" ? \n                <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                :null}\n                <Popper  placement=\"left-start\" open={openDiscountDetail} anchorEl={anchorEl} onClose={()=>setAnchorEl(null)}   style={{zIndex:1000000}} >   \n                    <DiscountInputDetail handleUpdateDiscountDetail={handleUpdateDiscountDetail} cartData={cartData} setAnchorEl={setAnchorEl} />\n                </Popper>\n                </ListItem>\n              \n              </div>\n              <Box  onClick={handleClick} style={{ width: 90 ,color:'#616161',textAlign: \"right\"}}>\n                <VNDFormat value={Number(cartData.discount) + Number(cartData.discountPro)}/>\n                <Divider style={{ background: anchorEl?theme.customization.primaryColor[500]:'#616161' }} />\n              </Box>\n              {/* style={{color:anchorEl?theme.customization.primaryColor[500]:'#616161'}} */}\n              {/* <VNDInput\n              // disabled\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                size=\"small\"\n                // defaultValue={cartData.discount}\n                value={cartData.discount}\n                inputProps={{ style: { textAlign: \"right\"} }}\n                // onChange={(e) => handleUpdateDiscount(e.target.value)}\n                onClick={handleClick}\n              /> */}\n            </Grid>\n            { otherfee?.status ?\n            otherfee?.listCost?.length ?\n            otherfee?.listCost?.map((fee)=>{\n              console.log(\"fee\",fee)\n              if(fee.name.length >0)\n              return (\n                <Grid\n                container\n                direction=\"row\"\n                justifyContent=\"space-between\"\n                className={classes.marginRow}\n              >\n                <Typography variant=\"h5\" >{fee.name}</Typography>\n                <Typography variant=\"body2\" >\n                  <VNDFormat\n                    // style={{ color: \"#2096f3\",fontWeight: 600, }}\n                    // value={fee.type === \"%\"?  Number(fee.value)*(Number(cartData.total_amount) - Number(cartData.discount) - Number(cartData.discountPro)) / 100 : Number(cartData.total_amount) === 0? \"0\" :fee.value  }\n                    value={fee.type === \"%\"?  Number(fee.value)*(Number(cartData.total_amount) - Number(cartData.discount) - Number(cartData.discountPro)) / 100 :fee.value  }\n\n                  />\n                </Typography>\n              </Grid>\n              )\n            }):null\n            :null}\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\" >Tổng tiền</Typography>\n              <Typography variant=\"body2\" >\n                <VNDFormat\n                  style={{ color: \"#2096f3\",fontWeight: 600, }}\n                  value={Number(cartData.total_amount) !== 0 ?cartData.total_amount - cartData.discount -  cartData?.discountPro +  cartData.otherFee : cartData.total_amount - cartData.discount -  cartData?.discountPro  + otherFeeMoney   }\n                />\n              </Typography>\n            </Grid>\n            </>:null}\n           {isScore && currentCustomer? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tích điểm</Typography>\n              <Typography variant=\"body2\">\n                <ListItem style={{padding:0, margin:0}}>\n                <ThousandFormat\n                  // style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={cartData.scores}\n                />\n               {currentCustomer?.points? <Typography>/{currentCustomer.points + cartData.scores}</Typography> : null} \n               </ListItem>\n              </Typography>\n            </Grid>:null}\n\n            {/* {cartData.total_amount - cartData.discount  !== 0 || cartData.total_amount === 0 ?<Grid */}\n            {cartData.total_amount - cartData.discount  !== 0 ?<Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Khách thanh toán</Typography>\n              <VNDInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                // defaultPrice={(cartData.total_amount - cartData.discount).toString()}\n                // defaultValue={(cartData.total_amount - cartData.discount).toString()}\n                value={cartData.paid_amount}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n                onChange={(e) => handleUpdatePaidAmount(e.target.value)}\n              />\n            </Grid>:null}\n\n\n            {cartData.total_amount - cartData.discount  -  cartData?.discountPro   !== 0 ?\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\" style={returnMoney <0 ?{color:'red', fontWeight:500}:{}}>{returnMoney <0 ? 'Nợ' :'Tiền thối'}</Typography>\n              {/* <Input.ThousandSeperatedInput\n                                    id=\"standard-basic\" style={{ width: 90 }}\n                                    size=\"small\" inputProps={{ style: { textAlign: \"right\" } }}\n                                    value={Number(customerMoney) - cartData.paid_amount}\n                                /> */}\n              <Typography variant=\"body2\" style={returnMoney <0 ?{color:'red', fontWeight:500}:{}}>\n                \n                <VNDFormat\n                  value={\n                    cartData.paid_amount -\n                    (cartData.total_amount - cartData.discount  -  cartData?.discountPro + cartData.otherFee)\n                  }\n                />\n              </Typography>\n            </Grid>:null}\n\n           <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n              // className={classes.marginRow}\n              style={{marginTop:mode?-10:null}}\n            >\n              <FormControl component=\"fieldset\">\n                <RadioGroup\n                  aria-label=\"gender\"\n                  name=\"gender1\"\n                  value={cartData.payment_method}\n                  onChange={(e)=>handleUpdatePaymentMethod(e.target.value)}\n                >\n                  <Grid container direction=\"row\">\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"card\"\n                      control={<Radio  size=\"small\"/>}\n                      label=\"Thẻ\"\n                    />\n                    <FormControlLabel\n                      labelPlacement=\"start\"\n                      value=\"cash\"\n                      control={<Radio   size=\"small\"/>}\n                      label=\"Tiền mặt\"\n                    />\n                  </Grid>\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n\n            {/* <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n            >\n              <FormControlLabel\n                labelPlacement=\"start\"\n                control={\n                  <Checkbox checked={cartData.delivery} onChange={(e)=>handleCheckDelivery(e.target.checked)} />\n                }\n                label=\"Giao hàng\"\n              />\n            </Grid> */}\n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{ marginTop:!mode? 60:0 }}\n              onClick={handleConfirm}\n              disabled={props.disable}\n            >\n              Thanh toán\n            </Button>\n          {/* </>\n        ) : (\n          */}\n          {/* <>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n              style={{marginTop:-15}}\n            >\n              <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n              <Typography variant=\"body2\">500.000</Typography>\n            </Grid>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Giảm giá</Typography>\n              <Input.ThousandSeperatedInput\n                id=\"standard-basic\"\n                style={{ width: 90 }}\n                size=\"small\"\n                inputProps={{ style: { textAlign: \"right\" } }}\n              />\n            </Grid>\n            <Button\n              variant=\"contained\"\n              fullWidth\n              color=\"primary\"\n              style={{  }}\n              onClick={handleClickOpenPopUp}\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Grid item>Thanh toán  ( {calculateTotalQuantity(cartData.cartItem)} ) </Grid>\n                <Grid item>500.000 </Grid>\n              </Grid>\n            </Button>\n            <Dialog\n              open={openPopUp}\n              onClose={handleClosePopUp}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <CheckoutPopUp />\n            </Dialog>\n          </>\n        )} */}\n      </Grid>\n    </Box>\n  );\n};\n\nexport default CartSummary;\n\n// const CheckoutPopUp = (props) => {\n//   const { onClose, handleChangePayment, payment } = props;\n//   const theme = useTheme();\n//   const classes = useStyles(theme);\n//   return (\n//     <>\n//       <Box style={{ marginTop: 20, marginLeft: 15, marginBottom: 10 }}>\n//         <Typography className={classes.headerTitle} variant=\"h5\">\n//           Trả tiền NCC\n//         </Typography>\n//       </Box>\n//       <DialogContent>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Tổng tiền hàng</Typography>\n//           <Typography variant=\"body2\">500.000</Typography>\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\" style={{ paddingRight: 50 }}>\n//             Đã trả CNN\n//           </Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"space-between\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <Typography variant=\"h5\">Công nợ</Typography>\n//           <Input.ThousandSeperatedInput\n//             id=\"standard-basic\"\n//             style={{ width: 90 }}\n//             size=\"small\"\n//             inputProps={{ style: { textAlign: \"right\" } }}\n//           />\n//         </Grid>\n//         <Grid\n//           container\n//           direction=\"row\"\n//           justifyContent=\"flex-end\"\n//           alignItems=\"center\"\n//           className={classes.marginRow}\n//         >\n//           <FormControl component=\"fieldset\">\n//             <RadioGroup\n//               aria-label=\"gender\"\n//               name=\"gender1\"\n//               value={payment}\n//               onChange={handleChangePayment}\n//             >\n//               <Grid container direction=\"row\">\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"card\"\n//                   control={<Radio />}\n//                   label=\"Thẻ\"\n//                 />\n//                 <FormControlLabel\n//                   labelPlacement=\"start\"\n//                   value=\"cash\"\n//                   control={<Radio />}\n//                   label=\"Tiền mặt\"\n//                 />\n//               </Grid>\n//             </RadioGroup>\n//           </FormControl>\n//         </Grid>\n//       </DialogContent>\n//       <DialogActions>\n//         <Button\n//           variant=\"contained\"\n//           onClick={onClose}\n//           fullWidth\n//           color=\"primary\"\n//           style={{ marginTop: 40 }}\n//         >\n//           Thanh toán ()\n//         </Button>\n//       </DialogActions>\n//     </>\n//   );\n// };\n\n","import React, { useEffect, useState } from \"react\";\n//import style\nimport useStyles from \"../../../../components/TableCommon/style/mainViewStyle\";\n//impỏrt library\nimport {\n  Box,\n  TextField,\n  ListItem,\n  IconButton,\n  TableRow,\n  TableCell,\n  Tooltip,\n  Chip,\n  Button,\n  Typography,\n  Grid,\n} from \"@material-ui/core\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\n\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n//import project\nimport * as Input from \"../../../../components/TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../../../components/Button/ButtonQuantity\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\nimport DiscountPopUp from \"../DiscountPopup/DiscountPopup\";\nimport icon from \"../../../../assets/img/product/tch.jpeg\";\nimport SelectBatch from \"../../../../components/SelectBatch/SelectBatch\";\nimport { useSelector } from \"react-redux\";\n\nimport MoreInfo from \"../../../../components/MoreInfo/MoreInfo\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\n\nimport defaultProduct from \"../../../../assets/img/product/default-product.png\";\nimport setting from \"../../../../assets/constant/setting\";\n\nexport const CartRow = (props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const haveDiscount = true;\n  const info = useSelector((state) => state.info);\n  const branch = info.branch;\n  const branchs = info.store.branches\n  const {\n    row,\n    // branchs,\n    discountData,\n    handleDeleteItemCart,\n    handleChangeItemQuantity,\n    handleUpdateBatches,\n    handleChangeItemPrice,\n    mini,\n    imageType,\n    index,\n    typeShow,\n    showImage,\n    isGiftPromotion\n  } = props;\n  console.log(\"cart table row\", row)\n  const updateQuantity = (newQuantity) => {\n    handleChangeItemQuantity(row.uuid, newQuantity);\n  };\n  const [openDiscount, setOpenDiscount] = React.useState(false);\n  const handleOpenDiscount = () => {\n    setOpenDiscount(!openDiscount);\n  };\n\n  const [selectBatchOpen, setSelectBatchOpen] = useState(false);\n  const [selectedBatches, setSelectedBatches] = useState([]);\n\n  useEffect(() => {\n    if (row.batches?.length >= 1) {\n      setSelectedBatches([{ ...row.batches[0], additional_quantity: 0 }]);\n    }\n  }, []);\n\n  useEffect(() => {\n    if(!isGiftPromotion){\n      let total = 0;\n      selectedBatches.forEach((batch) => {\n        total += Number(batch.additional_quantity);\n      });\n      updateQuantity(total);\n      handleUpdateBatches(row.uuid, selectedBatches);\n    }\n  }, [selectedBatches]);\n\n  const handleSelectBatches = (batches) => {\n    const newBatches = [];\n    selectedBatches.forEach((selectedBatch) => {\n      const newBatch = batches.find(\n        (batch) => batch.batch_code === selectedBatch.batch_code\n      );\n      if (newBatch) {\n        newBatches.push({\n          ...selectedBatch,\n          additional_quantity:\n            Number(selectedBatch.additional_quantity) +\n            Number(newBatch.additional_quantity),\n        });\n      } else {\n        newBatches.push(selectedBatch);\n      }\n    });\n    batches.forEach((newBatch) => {\n      if (\n        !newBatches.find((batch) => newBatch.batch_code === batch.batch_code)\n      ) {\n        newBatches.push(newBatch);\n      }\n    });\n\n    setSelectedBatches(newBatches);\n  };\n\n  const store_setting = info.store.general_configuration\n    ? JSON.parse(info.store.general_configuration)\n    : setting;\n\n  const canFixPriceSell = store_setting?.canFixPriceSell;\n\n  const [show, setShow] = React.useState(false);\n\n  const findBranchQuantity = (id) => {\n    const rs = row.branch_inventories.find(\n      (x) => x.uuid === id\n    )?.quantity_available;\n    if (rs) {\n      return rs;\n    } else {\n      return 0;\n    }\n  };\n  function getCommon(array1, array2) {\n    return array1.filter(object1 => {\n      return array2.some(object2 => {\n        return object1.id === object2.id;\n      });\n    });\n  }\n\n  const getListOfPromotionOfProduct = (product) =>{\n    let satisfy =  discountData.map((pro)=>{\n      let promotionCondition = JSON.parse(pro.promotion_condition)\n      \n      let proSatisfy = promotionCondition.map((condition)=>{\n          console.log(\"allooooo\")\n          if(condition.isBuyCategory){\n            //\n            return false\n          }else{\n            // console.log(\"allooooo\",getCommon(condition.listBuyItem,product ) )\n            // console.log(\"condition.listBuyItem.filter((item)=>item.uuid === product.uuid).length > 0\",condition.listBuyItem.filter((item)=>item.uuid === product.uuid).length > 0)\n            const isSatisfied = condition.listBuyItem.filter((item)=>item.uuid === product.uuid)\n            console.log(\"isSatisfied\",isSatisfied.length > 0)\n            return isSatisfied.length > 0 \n          }\n        })\n        return proSatisfy.some(v => v === true)\n      \n    })\n    // arr.push({detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id})\n    // return satisfy.some(v => v === true) ? [{detailCondition:sortedRow, name:pro.name , discountKey:pro.discountKey,discountType:pro.discountType, id:pro.id}]: []\n    return satisfy.some(v => v === true)\n\n  }\n  var color = theme.customization.mode === \"Light\"? typeShow==='list'?'#000':null: null\n  return (\n    <>\n      <TableRow\n        hover\n        key={props.row.uuid}\n        onMouseOver={() => setShow(true)}\n        onMouseLeave={() => setShow(false)}\n        // style={{color:'#000'}}\n      >\n        {/* {mini ? null : <TableCell align=\"left\">{row.id + 1}</TableCell>} */}\n        {/* <TableCell align=\"left\" style={!mini?{}:{paddingLeft:0, paddingRight:!imageType?25:15}}>{imageType?'':`${row.id + 1}.`}</TableCell> */}\n        <TableCell align=\"left\" style={!mini?{}:{paddingLeft:0, paddingRight:!imageType?25:15}}>{imageType?'':`${index }.`}</TableCell>\n\n        {/* Sửa lại thành product_code */}\n        {mini ? null : <TableCell align=\"left\"  style={{ paddingRight: 20, }}>\n          {row.product_code}\n        </TableCell>}\n        {/* <TableCell align=\"left\" style={mini ? {maxWidth: 50}: { minWidth: 200 }}> */}\n        <TableCell align=\"left\" style={{ minWidth: 170 }}  padding={'none'}>\n          <ListItem\n            style={ {marginLeft:-10, marginTop: -10, marginBottom: -10, padding:0 }}\n            alignItems=\"center\"\n          >\n           {showImage?  <Box\n              component=\"img\"\n              sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15,marginTop:12, marginBottom:12  }}\n              src={\n                JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) ||\n                defaultProduct\n              }\n            />:null}\n            <Grid style={{paddingTop:12, paddingBottom:12,marginBottom:imageType?3:0}}>\n                <Typography style={!mini?{}:{fontWeight:imageType?600:null,color:color}}>{row.name}</Typography>\n                {imageType ?\n                 canFixPriceSell.status && canFixPriceSell.cart || info?.role === 'owner'? (\n                  <Input.ThousandSeperatedInput\n                    id=\"standard-basic\"\n                    // style={mini ? {maxWidth: 50} : { width: 72 }}\n                    style={{ width: 72 }}\n      \n                    size=\"small\"\n                    inputProps={{ style: { textAlign: \"right\"  } }}\n                    defaultPrice={row.unit_price}\n                    value={row.unit_price}\n                    onChange={(e) =>\n                      handleChangeItemPrice(props.row.uuid, e.target.value)\n                    }\n                  />\n                ) : (\n                  <Input.ThousandFormat value={row.unit_price}>\n                    {\" \"}\n                  </Input.ThousandFormat>\n                ):null}\n            </Grid>\n            {show && store_setting?.inventory.status && !mini? (\n              <MoreInfo>\n                 {branchs.length > 1?\n                 <>\n                    <ListItem>\n                      <Typography style={{ width: 180 }}></Typography>\n                      <Typography style={{ fontWeight: 700 }}>Tồn</Typography>\n                    </ListItem>\n                    {branchs.map((item) => {\n                      return (\n                        <ListItem>\n                          <ListItem style={{ width: 180, margin: 0, padding: 0 }}>\n                            <Typography\n                              style={{ fontWeight: 700, marginRight: 10 }}\n                            >\n                              {item.name}\n                            </Typography>\n                            {item.uuid === branch.uuid ? (\n                              <CheckCircleIcon fontSize=\"small\" color=\"primary\" />\n                            ) : null}\n                          </ListItem>\n                          <Grid justifyContent=\"flex-end\">\n                            <Typography>{findBranchQuantity(item.uuid)}</Typography>\n                          </Grid>\n                        </ListItem>\n                      );\n                    })}\n                    </>:\n                   <Typography  style={{fontWeight:700, color:'#000'}}>{`Tồn kho:\\u00a0\\u00a0\\u00a0  `} {findBranchQuantity(branchs[0].uuid)}</Typography>\n\n                  }\n                {/* {row.branch_inventories.map(item =>(\n                   <ListItem >\n                      <ListItem style={{width:280, margin:0, padding:0}}>\n                          <Typography style={{fontWeight:700, marginRight:10}}>{item.name}</Typography>\n                          {item.uuid === branch.uuid ? <CheckCircleIcon fontSize=\"small\" color='primary'/> :null} \n                      </ListItem>\n                      <Typography>{item.quantity_available}</Typography>\n                    </ListItem>\n                ))}   */}\n              </MoreInfo>\n            ) : null}\n            {/* {getListOfPromotionOfProduct(row) ? (\n              <img\n                id=\"gift\"\n                src={require(\"../../../../assets/img/icon/giftbox.png\").default}\n                style={{ height: 16, width: 16, marginLeft: 10, marginTop: -3 }}\n                onClick={() => setOpenDiscount(true)}\n              />\n            ) : null} */}\n            {false ? (\n              <img\n                id=\"gift\"\n                src={require(\"../../../../assets/img/icon/giftbox.png\").default}\n                style={{ height: 16, width: 16, marginLeft: 10, marginTop: -3 }}\n                onClick={() => setOpenDiscount(true)}\n              />\n            ) : null}\n          </ListItem>\n          {openDiscount && (\n            <DiscountPopUp\n              open={openDiscount}\n              title={`Khuyến mãi trên ${row.product_code} - ${row.name}`}\n              onClose={() => {\n                setOpenDiscount(false);\n              }}\n            />\n          )}\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.bar_code}</TableCell> */}\n       \n        {row.has_batches  || isGiftPromotion? (\n          <TableCell align=\"center\">\n            {row.quantity}\n          </TableCell>\n        ) : (\n          <TableCell align=\"center\"padding='none' >\n            <ButtonQuantity\n              // isMini={mini?true:false}\n              miniCart={mini}\n              quantity={row.quantity}\n              setQuantity={updateQuantity}\n              branch_quantity={row.branch_quantity}\n              isManageInventory={store_setting?.inventory.status}\n            />\n          </TableCell>\n         \n        )}\n\n      {imageType?null:\n      <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n          { !isGiftPromotion ?\n          canFixPriceSell.status && canFixPriceSell.cart ? (\n            <Input.ThousandSeperatedInput\n              id=\"standard-basic\"\n              // style={mini ? {maxWidth: 50} : { width: 72 }}\n              style={{ width: 72, marginLeft:-5 }}\n\n              size=\"small\"\n              inputProps={{ style: { textAlign: \"right\" } }}\n              defaultPrice={row.unit_price}\n              value={row.unit_price}\n              onChange={(e) =>\n                handleChangeItemPrice(props.row.uuid, e.target.value)\n              }\n            />\n          ) : (\n            <Input.ThousandFormat value={row.unit_price} style={{marginLeft:-5}}>\n              {\" \"}\n            </Input.ThousandFormat>\n          ):\n          <Box style={{marginTop:10}}>\n            <Input.ThousandFormat value={0} style={{marginLeft:-5, }}/><br/>\n            <Input.ThousandFormat  value={`-${row.unit_price}`} style={{marginLeft:-5,color:'red'}}/>\n          </Box>\n          \n          } \n        </TableCell>  }  \n        \n        <TableCell align=\"right\" className={classes.boldText} padding={mini ? \"none\" : \"normal\"}>\n          {!mini?<VNDFormat value={!isGiftPromotion?row.unit_price * row.quantity:0} style={{color:color}}/>:<Input.ThousandFormat value={row.unit_price * row.quantity} style={{paddingLeft:imageType? 0:20, color:color}}/>}\n        </TableCell>\n\n        {!isGiftPromotion?\n        <TableCell align=\"right\" padding={mini ? \"none\" : \"normal\"}>\n          <IconButton aria-label=\"expand row\" size=\"small\" style={{marginLeft:10}}>\n            <DeleteForeverTwoToneIcon\n              onClick={() => handleDeleteItemCart(row.uuid)}\n            />\n          </IconButton>\n        </TableCell>:null}\n      </TableRow>\n      {row.has_batches ? (\n        <TableRow>\n          <TableCell colSpan={1}></TableCell>\n          <TableCell colSpan={10}>\n            <div style={{ display: \"flex\", flexDirection: \"row\", gap: 10 }}>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                onClick={() => setSelectBatchOpen(true)}\n                \n              >\n                Chọn lô\n              </Button>\n              {selectedBatches.map((batch) => (\n                <Tooltip title={`Tồn kho - ${batch.quantity}`}>\n                  <Chip\n                    label={`${\n                      batch?.batch_code ? batch?.batch_code : \"Mới\"\n                    } - ${batch?.expiry_date ? batch?.expiry_date : \"\"} - ${\n                      batch.additional_quantity\n                    }`}\n                    key={batch.id}\n                    onDelete={() => {\n                      const newBatches = selectedBatches.filter(\n                        (selectedBatch) => selectedBatch.id !== batch.id\n                      );\n                      setSelectedBatches(newBatches);\n                    }}\n                    color={batch.is_new ? \"primary\" : \"secondary\"}\n                    deleteIcon={<DeleteOutline />}\n                    variant=\"outlined\"\n                  />\n                </Tooltip>\n              ))}\n              {selectBatchOpen && (\n                <SelectBatch\n                  handleSubmit={handleSelectBatches}\n                  row={row}\n                  handleClose={() => setSelectBatchOpen(false)}\n                />\n              )}\n            </div>\n          </TableCell>\n        </TableRow>\n      ) : null}\n    </>\n  );\n};\n\n\n// export const CartRowMini = ({ row }) => {\n//   const classes = useStyles();\n\n//   return (\n//     <>\n//       <TableRow hover key={row.id}>\n//         <TableCell align=\"left\">\n//           <ListItem\n//             style={{ marginLeft: -30, marginTop: -10, marginBottom: -10 }}\n//           >\n//             <Box\n//               component=\"img\"\n//               sx={{ height: 40, width: 40, borderRadius: 10, marginRight: 15 }}\n//               src={icon}\n//             />\n//             <Box direction=\"column\">\n//               <Typography\n//                 className={classes.boldText}\n//                 style={{\n//                   marginBottom: 3,\n//                   fontSize: 14.5,\n//                   width: 135,\n//                   textOverflow: \"ellipsis\",\n//                   overflow: \"hidden\",\n//                   whiteSpace: \"nowrap\",\n//                 }}\n//               >\n//                 {row.name}\n//               </Typography>\n//               {/* <Typography>{row.price}</Typography> */}\n//               <Input.ThousandSeperatedInput\n//                 id=\"standard-basic\"\n//                 style={{ width: 70 }}\n//                 size=\"small\"\n//                 defaultPrice={row.price}\n//               />\n//             </Box>\n//           </ListItem>\n//         </TableCell>\n\n//         <TableCell align=\"left\" padding=\"none\">\n//           <TextField\n//             variant=\"outlined\"\n//             defaultValue={row.quantity}\n//             style={{ width: 37, margin: 0 }}\n//             size=\"small\"\n//             inputProps={{\n//               style: { paddingLeft: 5, paddingRight: 5, textAlign: \"center\" },\n//             }}\n//           />\n//         </TableCell>\n\n//         <TableCell align=\"right\" className={classes.boldText}>\n//           700.000\n//         </TableCell>\n//         <TableCell align=\"left\">\n//           <IconButton\n//             aria-label=\"expand row\"\n//             size=\"small\"\n//             style={{ marginLeft: -25 }}\n//           >\n//             <DeleteForeverOutlinedIcon />\n//           </IconButton>\n//         </TableCell>\n//       </TableRow>\n//     </>\n//   );\n// };\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\nimport { grey } from \"@material-ui/core/colors\";\nimport moment from \"moment\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ReceiptPrinter } from \"../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport { CartBottom } from \"../../../components/Button/CartButton\";\nimport AddInventory from \"../../InventoryView/Inventory/AddInventory/AddInventory\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\n//import library\nimport {\n  Grid,\n  Card,\n  Box,\n  Table,\n  Tabs,\n  Tab,\n  TableContainer,\n  CardContent,\n  CardMedia,\n  CardActionArea,\n  FormControlLabel,\n  Switch,\n  Menu,\n  MenuItem,\n  ListItem,\n  IconButton,\n  TableBody,\n  Typography,\n  ButtonBase,\n  AvatarTypeMap,\n  Tooltip,\n  Avatar,\n  TableCell,\n  TableRow,\n  Button,\n  Divider\n} from \"@material-ui/core\";\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\n\nimport SearchBarCode from \"../../../components/SearchBar/SearchBarCode\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\n\n//import project\n//rieng\nimport CartSummary from \"../../../components/CheckoutComponent/CheckoutSummary/CartSummary/NewCartSummary\";\nimport { CartRow, CartRowMini } from \"./CartTableRow/CartTableRow\";\n//chung\nimport MenuProduct from \"../../../components/MenuProduct/MenuProduct\";\nimport ChangeCartBtn from \"../../../components/CheckoutComponent/ChangeCartBtn/ChangeCartBtn\";\nimport SearchProduct from \"../../../components/SearchBar/SearchProduct\";\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport {\n  getComparator,\n  stableSort,\n} from \"../../../components/TableCommon/util/sortUtil\";\n\nimport orderApi from \"../../../api/orderApi\";\n// update state\nimport update from \"immutability-helper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SnackBarGeneral from \"../../../components/SnackBar/SnackBarGeneral\";\nimport customerApi from \"../../../api/customerApi\";\n// FILE này xử lý state -> connect search bar, table, với summary lại + quản lý chọn cart\nimport { calculateTotalQuantity } from \"../../../components/TableCommon/util/sortUtil\";\nimport { CartMiniTableRow, VarianceProductMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../api/branchApi\";\nimport setting from \"../../../assets/constant/setting\";\nimport { infoActions } from \"../../../store/slice/infoSlice\";\nimport productApi from \"../../../api/productApi\";\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport promotionCouponApi from '../../../api/promotionCouponApi';\nimport { loadingActions } from \"../../../store/slice/loadingSlice\";\nimport ModalWrapperWithClose from \"../../../components/Modal/ModalWrapperWithClose\";\nimport { enableMapSet } from \"@reduxjs/toolkit/node_modules/immer\";\n\nconst Cart = () => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [selectedBranch, setSelectedBranch] = useState({});\n  const [disable, setDisable] = useState(false)\n\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const searchBarState = info.searchBarState;\n  const store_uuid = info.store.uuid;\n  const branch = info.branch;\n  const branch_uuid = info.branch.uuid;\n  const store_setting = info.store.general_configuration\n    ? JSON.parse(info.store.general_configuration)\n    : setting;\n\n  const defaultPaymentAmount = store_setting?.defaultPaymentAmount.status && store_setting?.defaultPaymentAmount.cart \n  console.log(\"store_setting\",store_setting)\n  console.log(\"defaultPaymentAmount\",defaultPaymentAmount)\n\n    const canEnterDiscountWhenSell = store_setting?.canEnterDiscountWhenSell?.status\n\n  const [discountData, setDiscountData] = useState([]);\n\n  const user_uuid = useSelector((state) => state.info.user.uuid);\n  const dispatch = useDispatch();\n  const [reloadProduct, setReloadProduct] = useState(false);\n\n  const loadCartLocalStorage = () => {\n    if (window.localStorage.getItem(\"cartListData\")) {\n      const data = JSON.parse(window.localStorage.getItem(\"cartListData\"));\n      if (data.user_uuid === user_uuid) {\n        return data.cartList;\n      }\n    }\n    return [\n      {\n        customer: null,\n        cartItem: [],\n        total_amount: \"0\",\n        paid_amount: \"0\",\n        discount: \"0\",\n        payment_method: \"cash\",\n        delivery: false,\n        scores: \"0\",\n        discountDetail:{value:'0', type:'VND' },\n        selectedPromotion:null,\n        bestDetailSelectedPromotion:null,\n        discountPro:0,\n        otherFee:0,\n        listGiftItem:[]\n      },\n    ];\n  };\n\n\n  const [cartList, setCartList] = React.useState(loadCartLocalStorage());\n  const [products, setProducts] = useState([]);\n  const [customers, setCustomers] = useState([]);\n\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"cartListData\",\n      JSON.stringify({ user_uuid: user_uuid, cartList: cartList })\n    );\n  }, [cartList]);\n\n\n\n\n  useEffect(() => {\n    if (products?.length) {\n      window.localStorage.setItem(\n        \"products\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          branch_uuid: branch_uuid, \n          data: products })\n      );\n    }\n  }, [products]);\n\n  useEffect(() => {\n    if (customers?.length) {\n      window.localStorage.setItem(\n        \"customers\",\n        JSON.stringify({ \n          store_uuid: store_uuid, \n          data: customers })\n      );\n    }\n  }, [customers]);\n\n  useEffect(() => {\n    if (window.localStorage.getItem(\"products\")) {\n      const products = JSON.parse(window.localStorage.getItem(\"products\"));\n      if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n        console.log(products.data)\n        setProducts(products.data);\n      }\n    }\n    if (window.localStorage.getItem(\"mode\")) {\n      const cartMode = JSON.parse(window.localStorage.getItem(\"mode\"));\n      if (cartMode.store_uuid === store_uuid ) {\n        setTypeShow(cartMode.typeShow)\n        setMode(cartMode.mode);\n        setShowImage(cartMode.showImage);\n        \n      }\n    }\n    if (window.localStorage.getItem(\"customers\")) {\n      const customers = JSON.parse(window.localStorage.getItem(\"customers\"));\n      if (customers.store_uuid === store_uuid ) {\n        setCustomers(customers.data);\n      }\n    }\n  }, [store_uuid, branch_uuid])\n\n\n  //// ----------II. FUNCTION\n  const otherfee = store_setting?.vat\n\n  let otherFeeMoney =  otherfee?.listCost? otherfee?.listCost?.reduce((sum,fee)=>fee.type!==\"%\"? sum + Number(fee.value):sum , 0) :0;\n\n\n  // 1.Cart\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const [addProduct, setAddProduct] = useState(false);\n\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Tạo hóa đơn thất bại\",\n  });\n\n  console.log(\"promotionpromotion\",cartList[selectedIndex].selectedPromotion)\n  console.log(\"promotionpromotion\",cartList[selectedIndex].bestDetailSelectedPromotion)\n\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n\n\n  const handleSearchCustomer = async (searchKey) => {\n    try {\n      const response = await customerApi.getCustomers(store_uuid, {\n        search_key: searchKey,\n      });\n      setCustomers(response.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const updateCustomerVouchers = async (customerUuid, vouchers) => {\n    try {\n      const response = await customerApi.updateCustomerVouchers(\n        customerUuid,\n        vouchers\n      );\n      dispatch(\n        statusAction.successfulStatus(\"Cập nhật voucher của khách thành công\")\n      );\n    } catch (err) {\n      console.log(err);\n      dispatch(statusAction.failedStatus(\"Cập nhật vouchers thất bại\"));\n    }\n  };\n\n  const loadProducts = async () => {\n    try {\n      const response = await productApi.searchBranchProduct(\n        store_uuid,\n        branch_uuid,\n        \"\"\n      );\n      setProducts(response.data)\n\n    } catch (err) {\n      console.log(err)\n    }\n    // dispatch(infoActions.setProducts(response.data));\n  };\n\n  useEffect(() => {\n    console.log(\"reload heer\")\n    loadProducts();\n  }, [reloadProduct])\n\n  useEffect(() => {\n    const loadCustomers = async () => {\n      try {\n        const response = await customerApi.getCustomers(store_uuid);\n        const customers = response.data.map((cust) => ({\n          ...cust,\n          vouchers: JSON.parse(cust.vouchers ? cust.vouchers : \"[]\"),\n        }));\n        setCustomers(customers);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    const loadPromotionCoupons = async () => {\n      const response = await promotionCouponApi.getActivePromotionVoucher(store_uuid)\n      console.log(\"response.promotions\",response.promotions)\n      setDiscountData(response.promotions);\n    } \n    if (store_uuid) {\n      loadCustomers();\n      loadPromotionCoupons()\n    }\n    if (store_uuid && branch_uuid) {\n      loadProducts();\n    }\n\n    //  loadingActions.finishLoad();\n\n    const intervalID = setInterval(() => {\n      if (store_uuid && branch_uuid) {\n        loadProducts();\n      }\n    }, 60000 * 5);\n\n    return () => {\n      clearInterval(intervalID)\n    }\n  }, [store_uuid, branch_uuid]);\n  const [reloadCustomers, setReloadCustomers] = useState(false);\n  useEffect(() => {\n    const loadingCustomer = async () => {\n      try {\n        const response = await customerApi.getCustomers(store_uuid);\n        setCustomers(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    if (store_uuid) {\n      loadingCustomer();\n    }\n  }, [reloadCustomers]);\n\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleChoose = (index) => {\n    setSelectedIndex(index);\n    handleClose();\n  };\n  const handleAdd = () => {\n    // ADD CART\n    setCartList([\n      ...cartList,\n      {\n        customer: null,\n        cartItem: [],\n        total_amount: \"0\",\n        paid_amount: \"0\",\n        payment_method: \"cash\",\n        discount: \"0\",\n        delivery: false,\n        scores: \"0\",\n        discountDetail:{value:'0', type:'VND' },\n        selectedPromotion:null,\n        bestDetailSelectedPromotion:null,\n        discountPro:0,\n        otherFee:0,\n        listGiftItem:[]\n\n      },\n    ]);\n    setSelectedIndex(cartList?.length);\n    handleClose();\n  };\n\n  const handleDeleteAllItem = (index) => {\n    const newCartList = [...cartList];\n\n    // newCartList[index].cartItem = [];\n     newCartList[index] ={\n      customer: null,\n      cartItem: [],\n      total_amount: \"0\",\n      paid_amount: \"0\",\n      payment_method: \"cash\",\n      discount: \"0\",\n      delivery: false,\n      scores: \"0\",\n      discountDetail:{value:'0', type:'VND' },\n      selectedPromotion:null,\n      bestDetailSelectedPromotion:null,\n      discountPro:0,\n      otherFee:0,\n      listGiftItem:[]\n\n    }\n\n    setCartList(newCartList)\n\n    handleClose();\n  }\n\n  const handleDelete = (index) => {\n    // DELETE CART\n    cartList.splice(index, 1);\n    if (cartList?.length === 0) {\n      setCartList([\n        {\n          customer: null,\n          cartItem: [],\n          total_amount: \"0\",\n          paid_amount: \"0\",\n          discount: \"0\",\n          payment_method: \"cash\",\n          delivery: false,\n          scores: \"0\",\n          discountDetail:{value:'0', type:'VND' },\n          selectedPromotion:null,\n          bestDetailSelectedPromotion:null,\n          discountPro:0,\n          otherFee:0,\n          listGiftItem:[]\n\n        },\n      ]);\n    } else {\n      setCartList(cartList);\n    }\n    if (selectedIndex === index) {\n      setSelectedIndex(0);\n    } else if (selectedIndex > index) {\n      setSelectedIndex(selectedIndex - 1);\n    }\n    \n    handleClose();\n  };\n  const updateCustomer = (value) => {\n    let newArr = [...cartList]; // copying the old datas array\n    newArr[selectedIndex].customer = value;\n    setCartList(newArr);\n  };\n\n  //2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(null);\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n\n  //mode\n  const [mode, setMode] = React.useState(false);\n  const [showImage, setShowImage] = React.useState(true);\n  const [typeShow, setTypeShow] = useState('list')\n  const handleChangeMode = (event) => {\n    setMode(event.target.checked);\n  };\n  useEffect(() => {\n    window.localStorage.setItem(\n      \"mode\",\n      JSON.stringify({store_uuid: store_uuid,  mode: mode, typeShow: typeShow , showImage:showImage})\n    );\n  }, [mode,typeShow,showImage]);\n\n  // handle search select item add to cart\n  const handleSearchBarSelect = (selectedOption, batchBarCode) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === selectedOption.uuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item.uuid === selectedOption.uuid\n    );\n    if (!item) {\n      let newCartItem = {\n        id: cartList[selectedIndex].cartItem?.length,\n        uuid: selectedOption.uuid,\n        quantity: selectedOption.has_batches ? 0 : 1,\n        product_code: selectedOption.product_code,\n        bar_code: selectedOption.bar_code,\n        unit_price: selectedOption.list_price,\n        img_urls: selectedOption.img_urls,\n        name: selectedOption.name,\n        branch_quantity: Number(selectedOption.branch_quantity),\n        has_batches: selectedOption.has_batches,\n        batches: selectedOption.batches,\n        branch_inventories: selectedOption.branch_inventories,\n      };\n\n      let newCartList = update(cartList, {\n        [selectedIndex]: { cartItem: { $push: [newCartItem] } },\n      });\n      setCartList(newCartList);\n      setIsUpdateTotalAmount(!isUpdateTotalAmount);\n      return;\n    }\n\n    if (!item.has_batches) {\n      handleChangeItemQuantity(\n        selectedOption.uuid,\n        cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n      );\n    } else {\n      if (\n        cartList[selectedIndex].cartItem[itemIndex].selectedBatches?.length ===\n        1\n      ) {\n        handleChangeItemQuantity(\n          selectedOption.uuid,\n          cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n        );\n        const newCartList = [...cartList];\n        newCartList[selectedIndex].cartItem[\n          itemIndex\n        ].selectedBatches[0].additional_quantity += 1;\n        setCartList(newCartList);\n\n      }\n      if(batchBarCode){\n        handleChangeItemQuantity(\n          selectedOption.uuid,\n          cartList[selectedIndex].cartItem[itemIndex].quantity + 1\n        );\n        const newCartList = [...cartList];\n        // newCartList[selectedIndex].cartItem[\n        //   itemIndex\n        // ].selectedBatches[0].additional_quantity += 1;\n      }\n    }\n  };\n  console.log(\"cartList[selectedIndex].cartItem\",cartList[selectedIndex].cartItem)\n\n  const handleDeleteItemCart = (itemUuid) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: { cartItem: { $splice: [[itemIndex, 1]] } },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleChangeItemQuantity = (itemUuid, newQuantity) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let item = cartList[selectedIndex].cartItem.find(\n      (item) => item.uuid === itemUuid\n    );\n    if(isNaN(newQuantity)){newQuantity = ''}\n    if (newQuantity === 0 && !item.has_batches) {\n      handleDeleteItemCart(itemUuid);\n      return;\n    }\n    if (newQuantity < 0){return } \n  \n    let newCartList = [...cartList];\n    newCartList[selectedIndex].cartItem[itemIndex].quantity = newQuantity;\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleUpdateBatches = (itemUuid, selectedBatches) => {\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n\n    if (itemIndex === -1) return;\n    const newCartList = [...cartList];\n    newCartList[selectedIndex].cartItem[itemIndex].selectedBatches =\n      selectedBatches;\n\n    setCartList(newCartList);\n  };\n\n  const handleChangeItemPrice = (itemUuid, newPrice) => {\n    if (newPrice < 0){return } \n\n    let itemIndex = cartList[selectedIndex].cartItem.findIndex(\n      (item) => item.uuid === itemUuid\n    );\n    let newCartList = update(cartList, {\n      [selectedIndex]: {\n        cartItem: { [itemIndex]: { unit_price: { $set: newPrice } } },\n      },\n    });\n    setCartList(newCartList);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleSelectCustomer = (selectedCustomer) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { customer: { $set: selectedCustomer } },\n    });\n    setCartList(newCartList);\n  };\n\n  console.log(\"HELLOO cartList[selectedIndex].selectedPromotion\",cartList[selectedIndex].selectedPromotion)\n  const handleUpdatePaidAmount = (amount) => {\n    if (amount < 0){return } \n    let newCartList = update(cartList, {\n      [selectedIndex]: { paid_amount: { $set: amount } },\n    });\n    setCartList(newCartList);\n  };\n  //PROMOTIONFUNC\n  const handleUpdateSelectedPromotion = (selectedPromotion, checkProduct=null) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { selectedPromotion: { $set: null }, bestDetailSelectedPromotion:{ $set: null },discountPro:{ $set: null },listGiftItem:{ $set: [] } },\n    });\n    if(!selectedPromotion){\n      setCartList(newCartList);\n      return\n    }\n    // setCartList(newCartList);\n    let bestDetailSelectedCondition = selectedPromotion?.detailCondition?.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n    bestDetailSelectedCondition =bestDetailSelectedCondition.filter(item => item !== null)[0]\n\n\n     newCartList = update(newCartList, {\n      [selectedIndex]: { selectedPromotion: { $set: selectedPromotion } ,bestDetailSelectedPromotion:{$set:bestDetailSelectedCondition}},\n    });\n    let discountPro = selectedPromotion.discountKey ===\"invoice\" && bestDetailSelectedCondition.type==='%' ? (Number(bestDetailSelectedCondition.discountValue) * Number(cartList[selectedIndex].total_amount)/100) : Number(bestDetailSelectedCondition.discountValue) ;\n \n\n    newCartList = update(newCartList, {\n      [selectedIndex]: {discountPro:{ $set: discountPro}},\n    });\n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n    let totalOtherFee = percentFee * (Number(cartList[selectedIndex].total_amount) - Number(discountPro)- Number(cartList[selectedIndex].discount) )/100 +  otherFeeMoney\n\n \n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        otherFee: { $set: totalOtherFee },\n      },\n    }) \n\n    if(selectedPromotion.discountType === \"sendGift\" ){\n      const listGift = checkProduct ?checkProduct.detail: bestDetailSelectedCondition.listGiftItem\n      let listGiftItem = listGift?.map((selectedOption)=>{\n        if(selectedOption.quantity >0 && !selectedOption.has_batches)\n        return { id: cartList[selectedIndex].cartItem?.length,\n          uuid: selectedOption.uuid,\n          quantity: selectedOption.has_batches ? 0 : selectedOption.quantity,\n          product_code: selectedOption.product_code,\n          bar_code: selectedOption.bar_code,\n          unit_price: selectedOption.list_price,\n          img_urls: selectedOption.img_urls,\n          name: selectedOption.name,\n          branch_quantity: Number(selectedOption.branch_quantity),\n          has_batches: selectedOption.has_batches,\n          batches: selectedOption.batches,\n          branch_inventories: selectedOption.branch_inventories,}\n      })\n      console.log(\"hello Gia Le\",listGiftItem)\n      listGiftItem= listGiftItem.filter((item)=> item)\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          listGiftItem: { $set: listGiftItem },\n        },\n      }) \n    }\n    \n    if(defaultPaymentAmount ){\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          paid_amount: { $set: Number(cartList[selectedIndex].total_amount) - Number(discountPro) -     Number(cartList[selectedIndex].discount)+ totalOtherFee },\n        },\n      }) \n    }\n    setCartList(newCartList);\n  };\n  const handleUpdateBestDetailSelectedPromotion = (bestDetailSelectedPromotion) => {\n    if(!bestDetailSelectedPromotion){return}\n    let newCartList = update(cartList, {\n      [selectedIndex]: { bestDetailSelectedPromotion: { $set: bestDetailSelectedPromotion } },\n    });\n    setCartList(newCartList);\n  };\n\n  const handleUpdatePaymentMethod = (method) => {\n    let newCartList = update(cartList, {\n      [selectedIndex]: { payment_method: { $set: method } },\n    });\n    setCartList(newCartList);\n  };\n  const handleUpdateDiscountDetail = (obj) => {\n\n    let discountUpdate =  obj.type === '%'?( (Number(obj.value) * Number(cartList[selectedIndex].total_amount)/100/100).toFixed() * 100).toString() : obj.value \n\n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n    let totalOtherFee = percentFee * (Number(cartList[selectedIndex].total_amount) - Number(discountUpdate))/100 +  otherFeeMoney\n\n\n    let newCartList = update(cartList, {\n      // [selectedIndex]: { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)).toString() }},\n      [selectedIndex]: defaultPaymentAmount? { discountDetail: { $set: obj } , discount:{ $set: discountUpdate },  otherFee: { $set:totalOtherFee },paid_amount:{ $set: (Number(cartList[selectedIndex].total_amount) -Number(discountUpdate)+ Number(totalOtherFee)).toString() }}:\n        { discountDetail: { $set: obj } , discount:{ $set: discountUpdate }, otherFee: { $set:totalOtherFee }} ,\n\n    });\n  \n    setCartList(newCartList);\n  };\n\n  const handleUpdateDiscount = (amount) => {\n    // // if (amount > cartList[selectedIndex].total_amount) {\n    // //   return;\n    // // }\n    // let newCartList = update(cartList, {\n\n    //   [selectedIndex]:defaultPaymentAmount? { discount: { $set: amount },paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) -Number(amount)).toString() }  }:\n    //   // [selectedIndex]:defaultPaymentAmount? { discount: { $set: amount }}:\n\n    //   { discount: { $set: amount } },\n\n    // });\n\n\n    // if( defaultPaymentAmount){\n    //   newCartList = update(newCartList, {\n    //     [selectedIndex]: {\n    //       // paid_amount: { $set: (Number(cartList[selectedIndex].total_amount) - Number(amount) + Number(totalOtherFee)).toString() },\n    //     },\n    //   }) };\n\n    // //\n\n    // if (store_setting?.customerScore.status) {\n    //   newCartList = update(newCartList, {\n    //     [selectedIndex]: {\n    //       scores: {\n    //         $set: parseInt(\n    //           (cartList[selectedIndex].total_amount - amount) /\n    //             store_setting?.customerScore.value\n    //         ),\n    //       },\n    //     },\n    //   });\n    // }\n\n\n    // setCartList(newCartList);\n  };\n\n  const handleCheckDelivery = (delivery) => {\n    let newCartList = update(cartList, {\n      // [selectedIndex]: { delivery: { $set: delivery } },\n    });\n\n    setCartList(newCartList);\n  };\n\n\n\n// PROMOTION\n  useEffect(() => {\n    if(cartList[selectedIndex]?.selectedPromotion && cartList[selectedIndex]?.bestDetailSelectedPromotion){\n      let bestCondition = cartList[selectedIndex]?.selectedPromotion?.detailCondition.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n      bestCondition = bestCondition.filter(item => item !== null)[0]\n      if(bestCondition?.totalCost !== cartList[selectedIndex]?.bestDetailSelectedPromotion?.totalCost){\n        let newCartList = update(cartList, {\n          [selectedIndex]: { selectedPromotion: { $set: null }, bestDetailSelectedPromotion:{ $set: null },discountPro:{ $set: null },listGiftItem:{ $set: [] } },\n        });\n        setCartList(newCartList);\n      }\n    }\n  }, [cartList[selectedIndex].total_amount]);\n\n\n  useEffect(() => {\n    if(cartList[selectedIndex].total_amount < cartList[selectedIndex].discount ){\n      let newCartList = update(cartList, {\n        [selectedIndex]: { discount: { $set: \"0\" }, discountDetail: { $set: {value:'0', type:'VND' }}, discountPro:{$set:\"0\"} } ,\n      });\n      setCartList(newCartList);\n    }\n\n  }, [cartList[selectedIndex].total_amount]);\n\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    cartList[selectedIndex].cartItem.forEach((item) => {\n      total += item.unit_price * item.quantity;\n    });\n\n    let newCartList = update(cartList, {\n      [selectedIndex]: { total_amount: { $set: total } },\n    });\n\n    // newCartList = update(newCartList, {\n    //   [selectedIndex]: {\n    //     paid_amount: { $set: total - cartList[selectedIndex].discount },\n    //   },\n    // }) ;\n    // \n\n    //\n    let discountPro = 0\n    if(cartList[selectedIndex]?.selectedPromotion){\n      let bestDetailSelectedCondition = cartList[selectedIndex]?.selectedPromotion?.detailCondition?.map((pro) =>{if (Number(cartList[selectedIndex].total_amount) >= Number(pro.totalCost)) {return pro}else{return null}})\n      bestDetailSelectedCondition =bestDetailSelectedCondition?.filter(item => item !== null)[0]\n      discountPro= cartList[selectedIndex]?.selectedPromotion?.discountKey ===\"invoice\" && bestDetailSelectedCondition?.type==='%' ? (Number(bestDetailSelectedCondition?.discountValue) * Number(total)/100) : Number(bestDetailSelectedCondition?.discountValue) ;\n\n    }\n   \n    let percentFee = otherfee?.listCost?.reduce((sum,fee)=>fee.type===\"%\"? sum + Number(fee.value):sum , 0);\n\n    let totalOtherFee = percentFee * (Number(total) - Number(cartList[selectedIndex].discount) - Number(discountPro))/100 +  otherFeeMoney\n\n\n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        otherFee: { $set:totalOtherFee },\n      },\n    });\n\n    if(discountPro!==0){\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          discountPro: { $set: discountPro },\n        },\n      }) \n    }\n\n\n    if( defaultPaymentAmount){\n    newCartList = update(newCartList, {\n      [selectedIndex]: {\n        paid_amount: { $set: total - cartList[selectedIndex].discount -discountPro  + totalOtherFee },\n      },\n    }) };\n    // \n    if (store_setting?.customerScore.status) {\n      newCartList = update(newCartList, {\n        [selectedIndex]: {\n          scores: {\n            $set: parseInt(\n              (total - cartList[selectedIndex].discount -discountPro+ totalOtherFee) /\n                store_setting?.customerScore.value\n            ),\n          },\n        },\n      });\n    }\n\n    // \n    \n    setCartList(newCartList);\n  };\n\n  const[code,setCode] =React.useState(\"\")\n  const [openPopUpWarning, setOpenPopUpWarning] = useState(false);\n  const handleCloseWarning = () =>{\n    setOpenPopUpWarning(false)\n  }\n\n  console.log(\"otherFeeeee\",cartList[selectedIndex]?.otherFee)\n  \n\n  const handleConfirm = async () => {\n    let cart = cartList[selectedIndex];\n\n    var emptyCart = cart.cartItem?.length === 0;\n    const printReceiptWhenSell = store_setting?.printReceiptWhenSell;\n    const canSellWhenNegativeQuantity = store_setting?.canSellWhenNegativeQuantity;\n    const alowDebt =  store_setting?.alowDebt;\n    // var correctQuantity = cart.cartItem.every(function (element, index) {\n    //   if (element.quantity > element.branch_quantity) return false;\n    //   else return true;\n    // });\n\n    var correctQuantity = store_setting?.inventory.status && !canSellWhenNegativeQuantity.status\n      ? cart.cartItem.every(function (element, index) {\n          if (element.quantity > element.branch_quantity) return false;\n          else return true;\n        })\n      : true;\n\n    var notExistNullQuantity =  cart.cartItem.every(function (element, index) {\n      if (element.quantity === '' || Number(element.quantity)===0) return false;\n      else return true;\n    })\n    var notExistZeroPrice =  cart.cartItem.every(function (element, index) {\n      if (Number(element.unit_price)  === 0) return false;\n      else return true;\n    })\n\n    if (emptyCart || !correctQuantity || !notExistNullQuantity|| (!alowDebt.status && Number(cart.paid_amount) < Number(cart.total_amount) - Number(cart.discount) )) {\n      setOpenSnack(true);\n      if (emptyCart) {\n        setSnackStatus({\n          style: \"error\",\n          message: \"Giỏ hàng trống\",\n        });\n      } else if ( !correctQuantity ) {\n        setSnackStatus({\n          style: \"error\",\n          message: \"Giỏ hàng bị vượt tồn kho\",\n        });\n      }else if(!notExistNullQuantity){\n        setSnackStatus({\n          style: \"error\",\n          message: \"Có sản phẩm chưa nhập số lượng\",\n        });\n      }else{\n        setSnackStatus({\n          style: \"error\",\n          message: \"Không cho phép khách hàng nợ\",\n        });\n      }\n    } \n\n    else if(!notExistZeroPrice || ( cart.paid_amount < cart.total_amount - cart.discount && !cart.customer)){\n        setOpenPopUpWarning(true)\n        return \n    }\n    else {\n      handleConfirmCallApi()\n\n\n      // let d = moment.now() / 1000;\n\n      // let orderTime = moment\n      //   .unix(d)\n      //   .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n      // let details = cart.cartItem.map((item) => ({ ...item, discount: \"0\" }));\n      // console.log(cart.paid_amount, cart.total_amount, cart.discount);\n      // let body = {\n      //   customer_uuid: cart.customer ? cart.customer.uuid : \"\",\n      //   total_amount: cart.total_amount.toString(),\n      //   payment_method: cart.payment_method,\n      //   paid_amount: Math.min(cart.paid_amount, Number(cart.total_amount) - Number(cart.discount)),\n      //   discount: cart.discount,\n      //   status:\n      //     cart.paid_amount < cart.total_amount - cart.discount\n      //       ? \"debt\"\n      //       : \"closed\",\n      //   details: details,\n      //   creation_date: orderTime,\n      //   paid_date: orderTime,\n      //   tax: \"0\",\n      //   shipping: \"0\",\n      //   delivery: cart.delivery,\n      //   is_customer_order: false,\n      //   points: cart.scores,\n      // };\n\n      // try {\n      //   let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n        \n      //   setSnackStatus({\n      //     style: \"success\",\n      //     message: \"Tạo hóa đơn thành công: \" + res.data.order.order_code,\n      //   });\n      //   setOpenSnack(true);\n      //   if (printReceiptWhenSell.status && printReceiptWhenSell.cart) {\n      //     setCode(res.data.order.order_code)\n      //     handlePrint();\n      //   }\n      //   handleDelete(selectedIndex);\n      // } catch (err) {\n      //   setSnackStatus({\n      //     style: \"error\",\n      //     message: \"Tạo hóa đơn thất bại!\",\n      //   });\n      //   setOpenSnack(true);\n      //   console.log(err);\n      // }\n      // loadProducts()\n    }\n  };\n  const handleConfirmCallApi  = async () => {\n    const printReceiptWhenSell = store_setting?.printReceiptWhenSell;\n    let cart = cartList[selectedIndex];\n    \n    let d = moment.now() / 1000;\n\n    let orderTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    let details = cart.cartItem.map((item) => ({ ...item, discount: \"0\" }));\n    console.log(cart.paid_amount, cart.total_amount, cart.discount);\n    let body = {\n      customer_uuid: cart.customer ? cart.customer.uuid : \"\",\n      total_amount: cart.total_amount.toString(),\n      payment_method: cart.payment_method,\n      paid_amount: Math.min(cart.paid_amount, Number(cart.total_amount) - Number(cart.discount)),\n      discount: cart.discount,\n      status:\n        cart.paid_amount < cart.total_amount - cart.discount\n          ? \"debt\"\n          : \"closed\",\n      details: details,\n      creation_date: orderTime,\n      paid_date: orderTime,\n      tax: \"0\",\n      shipping: \"0\",\n      delivery: cart.delivery,\n      is_customer_order: false,\n      points: cart.scores,\n      //\n      otherFee:cart.otherFee\n    };\n\n    try {\n      setDisable(true);\n      let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n      \n      setSnackStatus({\n        style: \"success\",\n        message: \"Tạo hóa đơn thành công: \" + res.data.order.order_code,\n      });\n      setOpenSnack(true);\n      if (printReceiptWhenSell.status && printReceiptWhenSell.cart) {\n        setCode(res.data.order.order_code)\n        handlePrint();\n      }\n      handleDeleteAllItem(selectedIndex);\n    } catch (err) {\n      setSnackStatus({\n        style: \"error\",\n        message: \"Tạo hóa đơn thất bại!\",\n      });\n      setOpenSnack(true);\n      console.log(err);\n    }\n    setDisable(false)\n    loadProducts()\n  }\n\n\n\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  //   }\n  // };\n  const [barcodeChecked, setBarcodeChecked] = useState(true);\n\n\n  console.log(\"cartList[selectedIndex].listGiftItem\",cartList[selectedIndex].listGiftItem)\n  return (\n    <>\n    <Grid  container   direction=\"row\" justifyContent=\"space-between\"  alignItems=\"center\"  spacing={2}>\n      {addProduct &&\n       <AddInventory\n        open={addProduct}\n        handleClose={() => {\n          setAddProduct(false)\n        }}\n        setReload={() => {\n          setReloadProduct(!reloadProduct)\n        }}\n      />}{\" \"}\n    \n    <SnackBarGeneral handleClose={handleCloseSnackBar} open={openSnack} status={snackStatus}  />\n     \n     \n     {/* 1. TABLE CARD (left) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?7:8}>\n        <Card className={classes.root}>\n          <Box style={{ padding: xsScreen ? 0 : 30,  minHeight: \"79vh\", paddingBottom: 0,}}  >\n            <Box style={{ height: xsScreen ? null : \"69vh\" }}>\n              {/* 1.1 TITLE + BTN CHANGE CART +  SEARCH */}\n              <Grid container direction=\"row\"  justifyContent=\"space-between\" alignItems=\"center\" style={{ marginTop: -10, marginBottom: 30 }}   >\n                <Grid>\n                  <ListItem>\n                    {/* 1.1.1 Title */}\n                    <Typography variant=\"h3\"> Bán hàng </Typography>\n                    <Typography variant=\"h3\"  style={{  marginLeft: 10,  color: theme.customization.primaryColor[500], }} >\n                      {\" \"}   # {selectedIndex + 1}\n                    </Typography>\n                    {/* 1.1.2. Btn Channge Cart */}\n                    <ChangeCartBtn\n                      selectedIndex={selectedIndex}\n                      anchorEl={anchorEl}\n                      cartList={cartList}\n                      handleClick={handleClick}\n                      handleClose={handleClose}\n                      handleChoose={handleChoose}\n                      handleDelete={handleDelete}\n                      handleAdd={handleAdd}\n                      isCart={true}\n                    />\n                  </ListItem>\n                </Grid>\n                <Grid>\n                <Grid container alignItems=\"center\">\n                  {!mode? \n                  <>\n                    <Grid item>\n                      <FormControlLabel   control={ <Switch  size=\"small\"  checked={searchBarState === 'barcode'}  onChange={(e, checked) => { dispatch(infoActions.setSearchBarState(checked ? 'barcode' : 'search'))  }} color=\"primary\"  />  } label={\"Dùng mã vạch\"}  />\n                    </Grid>\n                    <Grid item>\n                      {searchBarState === 'barcode' ? (\n                        <SearchBarCode  products={products} \n                          handleSearchBarSelect={handleSearchBarSelect}\n                        />\n                      ) : (\n                        <SearchProduct\n                          products={products} \n                          handleSearchBarSelect={handleSearchBarSelect}\n                          isCart={true}\n                        />\n                      )}\n                    </Grid>\n                  </>:\n                 <SearchProduct products={products} setProducts={setProducts} isFilter={true} />\n                  }\n                    {info.role === 'owner'?\n                    <Grid item>\n                      <ButtonBase\n                        sx={{ borderRadius: \"1px\" }}\n                        onClick={() => {\n                          setAddProduct(true);\n                        }}\n                        style={{ marginLeft: 10 }}\n                      >\n                        <Avatar\n                          variant=\"rounded\"\n                          className={classes.headerAvatar}\n                        >\n                          <Tooltip title=\"Thêm sản phẩm\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                          </Tooltip>\n                        </Avatar>\n                      </ButtonBase>\n                    </Grid>:null}\n                  </Grid>\n                </Grid>\n              </Grid>\n\n              {/* 1.2 TABLE */}\n              {!mode ? (\n                  <TableWrapper isCart={true} >\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.CartHeadCells}\n                      isCart={true}\n                    />\n                    <TableBody>\n                      { stableSort( cartList[selectedIndex].cartItem, getComparator(order, orderBy) )\n                      .map((row, index) => {\n                        return (\n                          <CartRow\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            index={cartList[selectedIndex].cartItem?.length - index}\n                            showImage={showImage}\n                          />\n                        );\n                      })}\n                    </TableBody>\n                  </TableWrapper>   \n \n              ) : (\n                //  Mode nha hang\n                <MenuProduct \n                  products={products} \n                  handleSearchBarSelect={handleSearchBarSelect}\n                  isCart={true}\n                  selectedItem={cartList[selectedIndex]?.cartItem}\n                  typeShow={typeShow}\n                  setTypeShow={setTypeShow}\n                  setProducts={setProducts}\n                  showImage={showImage}\n                  setShowImage={setShowImage}\n                />\n              )}\n            </Box>\n            {/* 1.3 CHANGE MODE  */}\n            \n            {/* <FormControlLabel control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",   margin: -20,  marginTop: 45, }} /> */}\n         {cartList[selectedIndex].listGiftItem?.length > 0?\n          <Box style={{ marginTop: -85, }}>\n            <Divider/>\n            <ListItem>\n              <Typography><b>Khuyến mãi hoá đơn</b></Typography>\n              <CardGiftcardIcon  style={{marginLeft:10, color:'red'}}/>\n              </ListItem>\n              <TableBody>\n                      { stableSort( cartList[selectedIndex].listGiftItem, getComparator(order, orderBy) )\n                      .map((row, index) => {\n                        return (\n                          <CartRow\n                            isPromotion={true}\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            // handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            index={cartList[selectedIndex].cartItem?.length - index}\n                            showImage={showImage}\n                            isGiftPromotion={true}\n                            index={index+1}\n                          />\n             \n                        );\n                      })}\n                      \n                    </TableBody>\n                    \n                    {/* <ListItem>\n                    <Typography style={{fontWeight:500,color:'#00b3ff'}}>Tặng 1 voucher HELLOWORLD</Typography>\n                    <div >\n                      <Box style={{backgroundColor:\"red\",color:\"#fff\",fontSize:12,fontWeight:500,borderRadius:5, paddingLeft:5,paddingRight:5, marginLeft:10}}>KM</Box>\n                </div>\n                </ListItem> */}\n            </Box>:null}\n\n          </Box>\n          <FormControlLabel control={<Switch  size=\"small\"  checked={mode} onChange={handleChangeMode} />}style={{ display: \"flex\",  justifyContent: \"flex-end\",  }} />\n\n        </Card>\n      </Grid>\n      \n      {/* 2.SUMMARY CARD (right) */}\n      <Grid item xs={12} sm={typeShow==='list' && mode?5:4} className={classes.root}>\n        <Card className={classes.root}>\n          <Box style={{ padding: 0, minHeight: \"82vh\" }}>\n            {/* {!mode ? ( */}\n              <CartSummary\n                products={products}\n                disable={disable}\n                setSelectedBranch={setSelectedBranch}\n                selectedBranch={selectedBranch}\n                cartData={cartList[selectedIndex]}\n                handleSelectCustomer={handleSelectCustomer}\n                handleSearchCustomer={handleSearchCustomer}\n                handleUpdateDiscount={handleUpdateDiscount}\n                handleUpdatePaidAmount={handleUpdatePaidAmount}\n                handleUpdatePaymentMethod={handleUpdatePaymentMethod}\n                handleCheckDelivery={handleCheckDelivery}\n                handleConfirm={handleConfirm}\n                currentCustomer={cartList[selectedIndex].customer}\n                currentBranch={branch}\n                mode={mode}\n                customers={customers}\n                reloadCustomers={() => setReloadCustomers(!reloadCustomers)}\n                //discount\n                discountData={discountData.filter(\n                  (discount) => discount.discountKey === \"invoice\"\n                )}\n                isScore={store_setting?.customerScore.status}\n                handleUpdateDiscountDetail={handleUpdateDiscountDetail}\n                handleUpdateSelectedPromotion={handleUpdateSelectedPromotion}\n                handleUpdateBestDetailSelectedPromotion={handleUpdateBestDetailSelectedPromotion}\n              >\n                {!mode ? null:\n                  <TableContainer  style={{ maxHeight: !canEnterDiscountWhenSell && mode ?\"44vh\":\"37vh\", height:!canEnterDiscountWhenSell && mode ?\"44vh\": \"37vh\",}} >\n                   <Table  size=\"small\">\n\n                    <TableBody>\n                      {stableSort( cartList[selectedIndex].cartItem, getComparator(order, orderBy) )\n                        .map((row, index) => {\n                        return (\n                          <CartRow\n                            key={`${row.uuid}_index`}\n                            row={row}\n                            handleUpdateBatches={handleUpdateBatches}\n                            handleDeleteItemCart={handleDeleteItemCart}\n                            handleChangeItemPrice={handleChangeItemPrice}\n                            handleChangeItemQuantity={handleChangeItemQuantity}\n                            discountData={discountData.filter(\n                              (discount) => discount.discountKey === \"product\"\n                            )}\n                            mini={true}\n                            imageType={typeShow==='image' && mode}\n                            index={cartList[selectedIndex].cartItem?.length - index}\n                            typeShow={typeShow}\n                            showImage={showImage}\n\n                          />\n                        );\n                      })}\n                    </TableBody>\n                    </Table>\n                  </TableContainer>     \n              }\n              </CartSummary>\n          </Box>\n        </Card>\n      </Grid>\n      <PopUpWarningZeroPrice  open={openPopUpWarning} handleClose={handleCloseWarning} handleConfirmCallApi={handleConfirmCallApi} isDebtWarning={ cartList[selectedIndex].paid_amount < cartList[selectedIndex].total_amount - cartList[selectedIndex].discount && !cartList[selectedIndex].customer} \n      existZeroPrice={!cartList[selectedIndex].cartItem.every(function (element, index) { if (Number(element.unit_price)  === 0) return false; else return true;})} />\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={cartList[selectedIndex]} code={code} type={store_setting?.printReceiptWhenSell.cartModal}/>\n        </div>\n      </div>\n    </Grid>\n              {/* <ReceiptPrinter cart={cartList[selectedIndex]} code={code} /> */}\n</>\n  );\n};\n\nexport default Cart;\n\n\nconst PopUpWarningZeroPrice = ({open,handleClose,handleConfirmCallApi, isDebtWarning,existZeroPrice}) =>{\n  const theme = useTheme();\n\n  return (\n    <ModalWrapperWithClose title={isDebtWarning?\"Hoá đơn nợ chưa có thông tin khách hàng\":\"Có sản phẩm đang có giá bán bằng 0\"} open={open} handleClose={handleClose}>\n      <Typography style={{ marginTop: 10, marginBottom: 10 }}>\n      {isDebtWarning?\"Bạn chưa nhập thông tin khách hàng. Hệ thống không theo dõi công nợ với khách lẻ.\" :\"Giỏ hàng đang có sản phẩm có giá bán bằng 0.\"}\n      </Typography>\n    {existZeroPrice && isDebtWarning?\n    <>\n      <Typography variant=\"h3\" style={{ marginTop: 10, marginBottom: 10 }}>\n        Có sản phẩm đang có giá bán bằng 0\n      </Typography>\n      <Typography style={{ marginTop: 10, marginBottom: 30 }}>\n         Giỏ hàng đang có sản phẩm có giá bán bằng 0\n      </Typography>\n      </>:null}\n\n\n      <Typography style={{ fontWeight: 600, color:theme.customization.primaryColor[500] }}>\n        Bạn có chắc chắn muốn tiếp tục thanh toán?\n      </Typography>\n\n      <Grid item xs={12}style={{  display: \"flex\",  flexDirection: \"row\", justifyContent: \"flex-end\", paddingTop: 20, }} >\n        <Button onClick={handleClose} variant=\"contained\" size=\"small\" style={{ marginRight: 20 }}color=\"secondary\" >\n          {\" \"} Huỷ{\" \"}\n        </Button>\n        <Button onClick={() => {handleConfirmCallApi(); handleClose()}} variant=\"contained\" size=\"small\" color=\"primary\" >\n          Xác nhận{\" \"}\n        </Button>\n      </Grid>\n    </ModalWrapperWithClose>\n  )\n}\n\n\n\n\n // Dien thoai\n//  cartList[selectedIndex].cartItem.map((row, index) => {\n//   return (\n//     <CartMiniTableRow\n//       row={row}\n//       handleDeleteItemCart={handleDeleteItemCart}\n//       handleChangeItemPrice={handleChangeItemPrice}\n//       handleChangeItemQuantity={handleChangeItemQuantity}\n//       discountData={discountData.filter(\n//         (discount) => discount.discountKey === \"product\"\n//       )}\n//       isCart={true}\n//     />\n//   );\n// })\n\n// {xsScreen ? (\n//   <CartBottom\n//     numberItem={\n//       calculateTotalQuantity(cartList[selectedIndex].cartItem)\n//         ? calculateTotalQuantity(cartList[selectedIndex].cartItem)\n//         : \"0\"\n//     }\n//   />\n// ) : null}\n\n/* <TableBody>\n  {cartList[selectedIndex].cartItem.map((row, index) => {\n    return <CartRowMini row={row} />;\n  })}\n</TableBody> */","import React from 'react'\nimport {\n  Drawer, TextField, Typography, Button, Grid, MenuItem, Select, InputLabel, FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useFormik } from 'formik';\nimport orderApi from '../../../../api/orderApi';\nimport { convertDateToString } from '../../../../utils';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n      padding: 15\n    },\n    textField: { marginBottom: 10 },\n    text: { marginBottom: 10, marginTop: 15 }\n  })\n);\nconst InvoiceFilter = (props) => {\n  const { handleToggleFilter, openFilter, setOrders, query, setQuery } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n  const formik = useFormik({\n    initialValues: query,\n    onSubmit: async values => {\n      // console.log(values)\n      // const res = await orderApi.searchOrder(store_uuid, branch_uuid, values)\n      handleToggleFilter()\n      setQuery(values)\n    },\n  });\n  React.useEffect(() =>{\n    formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n    formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n\n  },[])\n\n  return (\n    <Drawer\n      anchor=\"right\"\n      onClose={handleToggleFilter}\n      open={openFilter}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      className={classes.drawer}\n    >\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n      {/* Giao hàng, dia chi giao ???*/}\n      {/* tiền giảm ???*/}\n\n\n      {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\" className={classes.text} >Ngày bán:</Typography>\n      <TextField id=\"startDate\" label=\"Từ\" \n        type=\"date\" \n        name=\"startDate\"\n        // defaultValue={formik.values.startDate} \n        \n        variant=\"outlined\" size=\"small\" fullWidth \n        className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        // value={formik.values.startDate.length === 0 ? current :formik.values.startDate} \n        value={formik.values.startDate}  \n        onChange={formik.handleChange}\n      />\n      <TextField \n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n        // defaultValue={formik.values.endDate} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.endDate}  \n        // value={formik.values.endDate.length === 0 ? current :formik.values.endDate} \n        onChange={formik.handleChange}\n      />\n     \n\n      {/* 2.Tien from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Tiền hoá đơn:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minTotalAmount\"\n        value={formik.values.minTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n        required label=\"Đến\" variant=\"outlined\" \n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.maxTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n      {/* 3.Giảm giá from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Giảm giá:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" \n        name=\"minDiscount\" id=\"minDiscount\"\n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.minDiscount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" \n        id=\"maxDiscount\" name=\"maxDiscount\"\n        className={classes.textField}\n        value={formik.values.maxDiscount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n\n\n      {/* 4.Chi nhanh */}\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Trang thai */}\n      <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"status\"\n          name=\"status\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.status}\n        >\n          <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\n        </Select>\n      </FormControl>\n\n\n\n      {/* 5.Pttt */}\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"paymentMethod\" name=\"paymentMethod\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.paymentMethod}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"card\">Thẻ</MenuItem>\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n        </Select>\n      </FormControl>\n\n      {/* BUTTON */}\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={formik.handleSubmit}\n        style={{ marginTop: 30 }}>\n        Lọc\n      </Button>\n\n\n\n    </Drawer>\n  )\n}\n\nexport default InvoiceFilter\n\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\n\nimport { TableCell, TableRow } from \"@material-ui/core\";\nimport useRowStyles from \"../../../../components/TableCommon/style/rowStyle\";\n\nimport { FormatedStatus } from \"../../../../components/TableCommon/util/format\";\nimport InvoiceDetail from \"./InvoiceDetail/InvoiceDetail\";\nimport { VNDFormat } from \"../../../../components/TextField/NumberFormatCustom\";\n\nfunction InvoiceTableRow(props) {\n  const { row, handleOpenRow, openRow, onReload,hidenCollumn ,colorText} = props;\n  const theme = useTheme();\n\n  const classes = useRowStyles();\n\n  return (\n    <>\n      {/* ROW */}\n      <TableRow\n        onClick={() => handleOpenRow(row.uuid)}\n        key={row.uuid}\n        className={clsx(\n          classes.row,\n          openRow === row.uuid ? classes.rowClicked : null\n        )}\n        style={{color:colorText}}\n      >\n        <TableCell align=\"left\"  style={{color:colorText}}>{row.order_code}</TableCell>\n        <TableCell align=\"left\" className={colorText?null:classes.fontName} style={{color:colorText}}>\n          {/* {new Date(row.creation_date).toLocaleString()} */}\n          {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n        </TableCell>\n        <TableCell\n          align=\"left\"\n          style={{ minWidth: 150 }}\n          style={{color:colorText}}\n          // className={classes.fontName}\n        >\n          {row.customer_name}\n        </TableCell>\n        {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n        {/* <TableCell align=\"right\">\n          {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\n        </TableCell> */}\n        <TableCell align=\"right\" style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n        <TableCell align=\"right\" \n        style={{fontWeight:colorText ?null:500,color:colorText}}\n        // style={{color: theme.customization.mode === \"Light\"? '#000': null}}\n        >\n          {\" \"}\n          <VNDFormat value={Number(row.total_amount) - Number(row.discount)} />\n        </TableCell>\n        {hidenCollumn?.includes(\"debt\") ?null:\n        <TableCell align=\"center\" style={{color:colorText}}>\n          <FormatedStatus debt={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0 ? 1 : 0} />\n        </TableCell> }\n      </TableRow>\n\n      {/* DETAIL */}\n      <TableRow>\n        {/* colspan  => số cột trong collapse */}\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n          <InvoiceDetail parentProps={props} />\n        </TableCell>\n      </TableRow>\n    </>\n  );\n}\n\nexport default InvoiceTableRow;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {Modal} from 'antd'\nimport moment from \"moment\";\n\n//import api\n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n//import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n////import project\nimport InvoiceFilter from \"./InvoiceTool/InvoiceFilter\";\nimport InvoiceTableRow from \"./InvoiceTableRow/InvoiceTableRow\";\n//chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\n\nimport JSONdata from \"../../../assets/JsonData/invoice.json\";\nimport orderApi from \"../../../api/orderApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\n\nconst Invoice = () => {\n  // fetch data here\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const dispatch = useDispatch();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [orders, setOrders] = useState([]);\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0);\n  const [totalAmount, setTotalAmount] = useState(0);\n  // api\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n\n  /// search sort\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minDiscount: null,\n    maxDiscount:null,\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    status: '',\n    paymentMethod: '',\n    orderBy: 'orders.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  const [query, setQuery] = useState(initialQuery)\n\n  //// 2. Table\n  //collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // header sort\n  const [order, setOrder] = React.useState(\"asc\");\n  const [orderBy, setOrderBy] = React.useState(\"id\");\n  const handleDeleteAll = () => {\n    const deleteApi = async () => {\n      console.log(\"delete api called\")\n      try {\n        const res = await orderApi.deleteAll(store_uuid, branch_uuid);\n        dispatch(statusAction.successfulStatus(\"Xóa tất cả hóa đơn thành công\"));\n      } catch (err) {\n        dispatch(statusAction.failedStatus(\"Xóa tất cả hóa đơn thất bại\"));\n      }\n    }\n    Modal.confirm({\n      content: \"Bạn chắc chắn muốn xóa tất cả hóa đơn, hành động này không thể quay lại\",\n      onOk() {\n        deleteApi()\n        onReload()\n      },\n    });\n  }\n\n  //3. ToolBar\n  //3.2. filter\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n  const [reload, setReload] = useState(false);\n  const onReload = () => {\n    console.log(\"onReload called\")\n    setReload(!reload);\n  };\n  const handleRequestSort = (event, property) => {\n    //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await orderApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query,\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n        setOrders(response.data);\n        setTotalAmount(response.total_amount);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query, reload]);\n\n  const tableRef = React.createRef();\n\n\n  const getDataExport = async () => {\n    try {\n      const response = await orderApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus(\"Không thể lấy dữ liệu!\"));\n      console.log(error);\n    }\n  }\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        {/* 1. ADD POP UP */}\n        <Grid direction=\"column\" justifyContent=\"center\" alignItems=\"center\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Hoá đơn\n        </Typography>\n        {/* <Typography variant=\"body2\" style={{paddingLeft: 25}}>\n          <b style={{color:'#000'}}>{\"Số đơn: \"}</b>\n          <ThousandFormat value={totalRows}></ThousandFormat>\n          {\" - \"}\n          <b style={{color:'#000'}}>{\"Tổng: \"}</b>\n          <VNDFormat  value={totalAmount} />\n        </Typography> */}\n       \n        </Grid>\n\n        <Grid className={classes.btngroup1}>\n          <ButtonBase\n            sx={{ borderRadius: \"16px\" }}\n            onClick={() => {\n              dispatch(customizeAction.setSidebarOpen(false));\n              dispatch(customizeAction.setItemMenuOpen(1));\n            }}\n            component={Link}\n            to=\"/home/sales/cart\"\n          >\n            <Avatar variant=\"rounded\" className={classes.headerAvatar}>\n              <Tooltip title=\"Thêm hoá đơn\">\n                <AddIcon stroke={1.5} size=\"1.3rem\" />\n              </Tooltip>\n            </Avatar>\n          </ButtonBase>\n        </Grid>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT*/}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={orders}\n        handleDeleteAll={handleDeleteAll}\n        tableType={TableType.INVOICE}\n        textSearch={\"#, Khách, Người bán,...  \"} /*handlePrint={handlePrint}*/\n        handleToggleFilter={handleToggleFilter}\n        handlePrint={handlePrint}\n        getDataExport={getDataExport}\n        orderByOptions={[\n          { value: \"orders.created_at\", label: \"Ngày bán\" },\n          { value: \"total_amount\", label: \"Tổng tiền bán\" },\n        ]}\n        orderBy={query.orderBy}\n        setOrderBy={(value) => setQuery({ ...query, orderBy: value })}\n        sort={query.sort}\n        setSort={(value) => setQuery({ ...query, sort: value })}\n        searchKey={query.searchKey}\n        setSearchKey={(value) => setQuery({ ...query, searchKey: value })}\n        handleRemoveFilter={handleRemoveFilter}\n        columnsToKeep={[\n          { dbName: \"order_code\", displayName: \"Mã hoá đơn\" },\n          { dbName: \"customer_name\", displayName: \"Khách hàng\" },\n          { dbName: \"created_at\", displayName: \"Ngày bán\" },\n          { dbName: \"total_amount\", displayName: \"Tổng tiền hoá đơn\" },\n          { dbName: \"paid_amount\", displayName: \"Tiền khách đã trả\" },\n          { dbName: \"status\", displayName: \"Trạng thái\" },\n          { dbName: \"payment_method\", displayName: \"Phương thức thanh toán\" },\n          { dbName: \"created_user_type\", displayName: \"Tài khoản thực hiện\" },\n          { dbName: \"created_user_name\", displayName: \"Tên người thực hiện\" },\n        ]}\n      />\n      <InvoiceFilter\n        openFilter={openFilter}\n        setQuery={setQuery}\n        query={query}\n        handleToggleFilter={handleToggleFilter}\n        setOrders={setOrders}\n      />\n\n      {/* 3. TABLE */}\n      {!xsScreen ? (\n        <TableWrapper\n          pagingState={{ ...pagingState, total_rows: totalRows }}\n          setPagingState={setPagingState}\n          list={orders}\n          tableRef={tableRef}\n        >\n          <TableHeader\n            classes={classes}\n            order={order}\n            orderBy={orderBy}\n            onRequestSort={handleRequestSort}\n            headerData={HeadCells.InvoiceHeadCells}\n          />\n          <TableBody>\n          <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n            </TableRow>\n            {orders.map((row, index) => {\n              return (\n                <>\n                {/* <TableRow style={{backgroundColor:theme.customization.primaryColor[50]}}> */}\n                <InvoiceTableRow\n                  key={row.uuid}\n                  row={row}\n                  openRow={openRow}\n                  handleOpenRow={handleOpenRow}\n                  onReload={onReload}\n                  // hidenCollumn={[\"\"]}\n                />\n                </>\n              );\n            })}\n          </TableBody>\n        </TableWrapper>\n      ) : (\n        <>\n          <Box style={{ minHeight: \"50vh\" }}>\n            {orders.map((row, index) => {\n              return (\n                // <InvoiceTableRow\n                //   key={row.uuid}\n                //   row={row}\n                //   openRow={openRow}\n                //   handleOpenRow={handleOpenRow}\n                //   onReload={onReload}\n                // />\n                <BillMiniTableRow\n                  key={row.uuid}\n                  row={row}\n                  openRow={openRow}\n                  handleOpenRow={handleOpenRow}\n                  onReload={onReload}\n                  totalCost={row.total_amount}\n                  id={row.order_code}\n                  partnerName={row.customer_name}\n                  date={row.paid_date}\n                  typeBill={\"Hoá đơn\"}\n                />\n              );\n            })}\n          </Box>\n          <Pagination\n            pagingState={{ ...pagingState, total_rows: totalRows }}\n            setPagingState={setPagingState}\n            list={orders}\n          />\n        </>\n      )}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint orders={orders} classes={classes} query={query}  totalRows={totalRows}  totalAmount={totalAmount}/>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default Invoice;\n\nconst ComponentToPrint = ({ orders, classes,query ,totalRows,totalAmount }) => {\n  const firstDate = orders.slice(-1)[0] ?orders.slice(-1)[0].creation_date.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê hoá đơn */}\n          THỐNG KÊ HOÁ ĐƠN\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InvoiceHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {orders.map((row, index) => {\n            return  <InvoiceTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/> <TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              <TableCell/>\n            </TableRow>\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );\n};\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\nimport { useSelector } from 'react-redux';\nimport { useFormik } from 'formik';\nimport moment from 'moment'\nimport refundApi from '../../../../api/refundApi';\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst InvoiceReturnFilter = (props) => {\n  const {handleToggleFilter,openFilter, setRefunds} =props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const current =moment(new Date()).format(\"YYYY-MM-DD\")\n\n  const formik = useFormik({\n    initialValues: {\n      startDate: '',\n      endDate: '',\n      orderCode: '',\n      minTotalAmount: null,\n      maxTotalAmount: null,\n      status: 'debt',\n      paymentMethod: '',\n    },\n    onSubmit: async values => {\n      // const res = await refundApi.searchRefund(store_uuid, branch_uuid, values)\n      handleToggleFilter()\n      // setRefunds(res.data)\n    },\n  });\n  React.useEffect(() =>{\n    formik.values.startDate.length === 0 ? formik.setFieldValue(\"startDate\",current) : formik.setFieldValue(\"startDate\",formik.values.startDate);\n    formik.values.endDate.length === 0 ? formik.setFieldValue(\"endDate\",current) : formik.setFieldValue(\"endDate\",formik.values.startDate)\n\n  },[])\n\n  return (\n    <Drawer\n      anchor=\"right\"\n      onClose={handleToggleFilter}\n      open={openFilter}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n      className={classes.drawer}\n    >\n      {/* Nhan vien, khach hang?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n      {/* Giao hàng, dia chi giao ???*/}\n      {/* tiền giảm ???*/}\n\n\n      {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\" className={classes.text} >Mã hoá đơn:</Typography>\n      <TextField \n        id=\"orderCode\" label=\"Mã hoá đơn\" type=\"text\" name=\"orderCode\"\n        defaultValue={formik.values.orderCode} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.orderCode}  \n        onChange={formik.handleChange}\n      />\n\n      <Typography variant=\"h5\" className={classes.text} >Ngày tạo:</Typography>\n      <TextField id=\"startDate\" label=\"Từ\" \n        type=\"date\" \n        name=\"startDate\"\n        defaultValue={formik.values.startDate} \n        variant=\"outlined\" size=\"small\" fullWidth \n        className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.startDate} \n        onChange={formik.handleChange}\n      />\n      <TextField \n        id=\"endDate\" label=\"Đến\" type=\"date\" name=\"endDate\"\n        defaultValue={formik.values.endDate} \n        variant=\"outlined\" size=\"small\" \n        fullWidth className={classes.textField} \n        InputLabelProps={{ shrink: true }} \n        value={formik.values.endDate}  \n        onChange={formik.handleChange}\n      />\n     \n\n      {/* 2.Tien from-to*/}\n      <Typography variant=\"h5\" className={classes.text} >Tiền đơn trả:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        name=\"minTotalAmount\"\n        value={formik.values.minTotalAmount}\n        onChange={formik.handleChange}\n        // value={formik.values.minTotalAmount}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n      <VNDInput \n        id=\"maxTotalAmount\" name=\"maxTotalAmount\"\n        required label=\"Đến\" variant=\"outlined\" \n        fullWidth size=\"small\" className={classes.textField}\n        value={formik.values.maxTotalAmount}\n        onChange={formik.handleChange}\n      // onChange={(e) =>\n      //   setProductInfo({\n      //     ...productInfo,\n      //     importedPrice: e.target.value,\n      //   })\n      // }\n      />\n\n      \n\n\n\n      {/* 4.Chi nhanh */}\n      {/* <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Trang thai */}\n      {/* <Typography variant=\"h5\" className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"status\"\n          name=\"status\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.status}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"debt\">Còn nợ</MenuItem>\n          <MenuItem value=\"closed\">Trả đủ</MenuItem>\n        </Select>\n      </FormControl> */}\n\n\n\n      {/* 5.Pttt */}\n      <Typography variant=\"h5\" className={classes.text} >Hình thức trả:</Typography>\n      <FormControl\n        className={classes.formControl}\n        fullWidth\n        size=\"small\"\n        variant=\"outlined\"\n      >\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"paymentMethod\" name=\"paymentMethod\"\n          size=\"small\"\n          onChange={formik.handleChange}\n          // label=\" Chi nhánh\"\n          value={formik.values.paymentMethod}\n        >\n           <MenuItem value=\"\" ><em>Tất cả</em></MenuItem>\n          <MenuItem value=\"card\">Thẻ</MenuItem>\n          <MenuItem value=\"cash\">Tiền mặt</MenuItem>\n        </Select>\n      </FormControl>\n\n      {/* BUTTON */}\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={formik.handleSubmit}\n        style={{ marginTop: 30 }}>\n        Lọc\n      </Button>\n\n\n\n    </Drawer>\n  )\n}\n\nexport default InvoiceReturnFilter\n\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport { TableCell, TableRow } from '@material-ui/core';\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle';\n\nimport InvoiceReturnDetail from './InvoiceReturnDetail/InvoiceReturnDetail';\nimport { VNDFormat } from '../../../../components/TextField/NumberFormatCustom';\n\nfunction InvoiceReturnTableRow(props) {\n  const { row, handleOpenRow, openRow,colorText } = props;\n  const classes = useRowStyles();\n  return (\n    <>\n      {/* ROW */}\n      <TableRow\n        onClick={() => handleOpenRow(row.uuid)}\n        key={row.uuid}\n        className={clsx(classes.row, (openRow === row.uuid) ? classes.rowClicked : null)}\n        style={{color:colorText}}\n      >\n        <TableCell align=\"left\" style={{color:colorText}}>{row.refund_code}</TableCell>\n        {/* <TableCell align=\"left\" className={classes.fontName}>{row.created_at}</TableCell> */}\n        <TableCell align=\"left\" className={colorText?null:classes.fontName} style={{color:colorText}}>{row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n\n        <TableCell align=\"left\" style={{ minWidth: 100,color:colorText }} >{row.customer_name}</TableCell>\n        {/* <TableCell align=\"left\">{row.branch_name}</TableCell> */}\n        {/* <TableCell align=\"right\">{row.payment_method === 'cash' ? 'Tiền mặt' : 'Thẻ'}</TableCell> */}\n        <TableCell align=\"right\" style={{color:colorText}}>{row.total_quantity}</TableCell>\n\n        <TableCell align=\"right\" className={colorText?null:classes.fontName}style={{color:colorText}} ><VNDFormat value={row.total_amount}/></TableCell>\n        {/* <TableCell align=\"right\" ></TableCell>\n        <TableCell align=\"right\" ></TableCell> */}\n        \n      </TableRow>\n\n      {/* DETAIL */}\n      <TableRow>\n        {/* colspan  => số cột trong collapse */}\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>\n          <InvoiceReturnDetail parentProps={props}/>\n        </TableCell>\n\n      </TableRow>\n    </>\n  );\n}\n\nexport default InvoiceReturnTableRow;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n// import style\nimport {\n  Typography,\n  Card,\n  Button,\n  Divider,\n  Grid,\n  ButtonBase,\n  Avatar,\n  Tooltip,\n  TableBody,\n  Box,\n  TableRow,\n  TableCell\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n// import lib\nimport { useReactToPrint } from \"react-to-print\";\n// import api\n\n// import constant\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\n\n/// /import project\n// riêng\nimport InvoiceReturnFilter from \"./InvoiceReturnTool/InvoiceReturnFilter\";\nimport InvoiceReturnTableRow from \"./InvoiceReturnTableRow/InvoiceReturnTableRow\";\n// chung\nimport TableHeader from \"../../../components/TableCommon/TableHeader/TableHeader\";\nimport ToolBar from \"../../../components/TableCommon/ToolBar/ToolBar\";\nimport TableWrapper from \"../../../components/TableCommon/TableWrapper/TableWrapper\";\nimport refundApi from \"../../../api/refundApi\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\nimport {ThousandFormat, VNDFormat} from '../../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\n\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nfunction InvoiceReturn() {\n  // fetch data here\n  const invoiceReturnList = [];\n  const [refunds, setRefunds] = useState([]);\n  // api\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  /// / 2. Table\n\n  // collapse\n  const [openRow, setRowOpen] = React.useState(null);\n  const handleOpenRow = (row) => {\n    if (row !== openRow) {\n      setRowOpen(row);\n    } else {\n      setRowOpen(null);\n    }\n  };\n\n  // // header sort\n  // const [order, setOrder] = React.useState('asc');\n  // const [orderBy, setOrderBy] = React.useState('id');\n\n  const initialQuery = {\n    startDate: '',\n    endDate: '',\n    minDiscount: null,\n    maxDiscount: null,\n    minTotalAmount: null,\n    maxTotalAmount: null,\n    status: '',\n    paymentMethod: '',\n    orderBy: 'refunds.created_at',\n    sort: 'desc',\n    searchKey: '',\n  };\n\n  const handleRemoveFilter = () => {\n    setQuery(initialQuery)\n  }\n  \n\n  const handleRequestSort = (event, property) => {\n    /// / (gửi order vs orderBy lên api) -> fetch lại data để sort\n    // const isAsc = orderBy === property && order === 'asc';\n    // setOrder(isAsc ? 'desc' : 'asc');\n    // setOrderBy(property);\n  };\n\n  // 3. ToolBar\n  // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  // 3.1. search\n\n  // 3.2. filter\n  const [openFilter, setOpenFilter] = React.useState(false);\n  const handleToggleFilter = () => {\n    setOpenFilter(!openFilter);\n  };\n\n  // 3.3. loc cot\n\n  const [reload, setReload] = useState(false);\n\n  const [query, setQuery] = useState(initialQuery)\n  const [pagingState, setPagingState] = useState({\n    page: 0,\n    limit: 10,\n  });\n  const [totalRows, setTotalRows] = useState(0)\n  const [totalAmount, setTotalAmount] = useState(0);\n\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await refundApi.getAllOfBranch(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows)\n        setRefunds(response.data);\n        setTotalAmount(response.total_amount);\n\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid) {\n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, store_uuid, branch_uuid, query]);\n  const getDataExport = async () => {\n    try {\n      const response = await refundApi.getAllOfBranch(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus('Không thể lấy dữ liệu'))\n      console.log(error);\n    }\n  }\n  const tableRef = React.createRef();\n\n\n  return (\n    <Card className={classes.root}>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Đơn trả\n        </Typography>\n      </Grid>\n\n      <Divider />\n\n      {/* 2. SEARCH - FILTER - EXPORT */}\n      {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n      <ToolBar\n        dataTable={refunds}\n        tableType={TableType.INVOICE_RETURN}\n        textSearch=\"#,#hđ, Khách, Người trả,...  \" /* handlePrint={handlePrint} */\n        handlePrint={handlePrint}\n        handleToggleFilter={handleToggleFilter}\n\n        orderByOptions={[\n          {value: 'refunds.created_at', label: 'Ngày nhập'},\n          {value: 'refunds.total_amount', label: 'Tổng tiền tra'},\n        ]}\n        orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n        sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n        searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n        handleRemoveFilter={handleRemoveFilter}\n        getDataExport={getDataExport}\n        columnsToKeep = {[\n          {dbName:\"refund_code\",displayName:\"Mã đơn trả\"},\n          {dbName:\"creation_date\",displayName:\"Ngày nhập\"},\n          {dbName:\"customer_name\",displayName:\"Nhà cung cấp\"},\n          {dbName:\"total_amount\",displayName:\"Tổng tiền nhập\"}, \n          {dbName:\"paid_amount\",displayName:\"Tổng tiền đã thu\"}, \n          {dbName:\"branch_name\",displayName:\"Chi nhánh thực hiện\"},\n          {dbName:\"payment_method\",displayName:\"Phương thức thanh toán\"},\n          {dbName:\"created_user_type\",displayName:\"Tài khoản thực hiện\"},\n          {dbName:\"created_user_name\",displayName:\"Tên người thực hiện\"},\n        ]}\n      />\n      <InvoiceReturnFilter\n        openFilter={openFilter}\n        handleToggleFilter={handleToggleFilter}\n        setRefunds={setRefunds}\n      />\n      {/* 3. TABLE */}\n      {!xsScreen?<TableWrapper pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState} \n        list={refunds}\n        tableRef={tableRef}\n        >\n        <TableHeader\n          classes={classes}\n          // order={order}\n          // orderBy={orderBy}\n          onRequestSort={handleRequestSort}\n          headerData={HeadCells.InvoiceReturnHeadCells}\n        />\n        <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/><TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n        <TableBody>\n          {refunds.map((row, index) => (\n            <InvoiceReturnTableRow\n              key={row.uuid}\n              row={row}\n              openRow={openRow}\n              handleOpenRow={handleOpenRow}\n            />\n          ))}\n        </TableBody>\n      </TableWrapper>:\n          <>\n           <Box style={{minHeight:'50vh'}}>\n          {refunds.map((row, index) => (\n            // <InvoiceReturnTableRow\n            //   key={row.uuid}\n            //   row={row}\n            //   openRow={openRow}\n            //   handleOpenRow={handleOpenRow}\n            // />\n            <BillMiniTableRow key={row.uuid} row={row} openRow={openRow} handleOpenRow={handleOpenRow} \n          totalCost={row.total_amount}  id={row.refund_code} partnerName={row.customer_name} date={row.created_at} \n          typeBill={\"Đơn trả\"}/>\n\n          ))}\n          </Box>\n          <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}         list={refunds}/>\n    \n          </>\n          }\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ComponentToPrint refunds={refunds} classes={classes} query={query} totalRows={totalRows}  totalAmount={totalAmount}/>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\nexport default InvoiceReturn;\n\nconst ComponentToPrint = ({ refunds, classes , query,totalRows,totalAmount}) => {\n\n  const firstDate = refunds.slice(-1)[0] ?refunds.slice(-1)[0].created_at.split(\" \")[0].split('T')[0].split('-').reverse().join('/'):''\n  return (\n    <div style={{padding:10}}>\n      <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n      <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n        <Typography style={{  fontSize: 18, fontWeight: 600}} >\n          {/* Thống kê đơn trả */}\n          THỐNG KÊ ĐƠN TRẢ\n        </Typography>\n        <Typography  >\n          {/* Từ {initialQuery.startDate} - Ngày {initialQuery.endDate} */}\n          {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n        </Typography>\n        {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}\n        {query.status? <Typography  > {`Tình trạng đơn: ${query.status === \"debt\"?\"Nợ\":\"Trả đủ\"}`} </Typography>:null}\n        {query.paymentMethod? <Typography  > {`Phương thức thanh toán: ${query.paymentMethod === \"cash\"?\"Tiên mặt\":\"Thẻ\"}`} </Typography>:null}\n        {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền đơn từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n        {query.minDiscount || query.maxDiscount ? <Typography  > {`Đơn giảm giá từ: ${query.minDiscount?query.minDiscount:0}đ đến ${query.maxDiscount?query.maxDiscount:0}đ`} </Typography>:null}\n\n      </Box>\n      <div>\n      <TableWrapper  isReport={true} >\n        <TableHeader\n        color=\"#000\"\n          classes={classes}\n          headerData={HeadCells.InvoiceReturnHeadCells.filter(item => item.id !== \"debt\")}\n        />\n        <TableBody>\n          {refunds.map((row, index) => {\n            return  <InvoiceReturnTableRow colorText={\"#000\"} key={row.uuid} row={row} hidenCollumn={[\"debt\"]}/>\n            })}\n            <TableRow style={{backgroundColor:'#f5f5f5'}}>\n              <TableCell style={{color:'#000', fontWeight:600}}>Số đơn: <ThousandFormat value={totalRows}></ThousandFormat></TableCell>\n              <TableCell/> <TableCell/><TableCell/>\n              <TableCell align=\"right\"style={{color:'#000', fontWeight:600}}>Tổng: <VNDFormat value={totalAmount} ></VNDFormat></TableCell>\n              {/* <TableCell/> */}\n          </TableRow>\n        </TableBody>\n        </TableWrapper>\n      </div>\n    </div>\n  );\n};\n","import { Redirect, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport Cart from \"./Cart/Cart\";\nimport Invoice from \"./Invoice/Invoice\";\nimport InvoiceReturn from \"./InvoiceReturn/InvoiceReturn\";\nimport OrderProductList from \"../InventoryView/OrderProductList/OrderProductList\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst SalesView = (props) => {\n  const { path } = useRouteMatch();\n  const permissions = useSelector((state) => state.info.user.permissions);\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <Redirect\n          to={\n            permissions?.find((p) => p.name === \"sales\")\n              ? `${path}/cart`\n              : \"/home\"\n          }\n        />\n      </Route>\n      <Route exact path={`${path}/cart`} component={Cart} />\n      <Route path={`${path}/invoice`} component={Invoice} />\n      <Route path={`${path}/invoice-return`} component={InvoiceReturn} />\n      {/* <Route path={`${path}/order-list/order`} component={OrderProduct} /> */}\n      <Route path={`${path}/order-list`} component={OrderProductList} />\n    </Switch>\n  );\n};\n\nexport default SalesView;\n","import {withStyles} from \"@material-ui/core/styles\";\nimport {Menu,MenuItem,} from '@material-ui/core';\n\nexport const StyledMenu = withStyles({\n    paper: {\n      border: '1px solid #d3d4d5',\n    },\n  })((props) => (\n    <Menu\n      \n      elevation={0}\n      getContentAnchorEl={null}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      {...props}\n    />\n  ));\n  \nexport  const StyledMenuItem = withStyles((theme) => ({\n    root: {\n      '&:hover': {\n        backgroundColor: theme.palette.primary.main,\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n          color: theme.palette.common.white,\n        },\n      },\n    },\n  }))(MenuItem);","import { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default  makeStyles((theme) =>({\n    root: {\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      borderRadius:theme.customization.borderRadius,\n      color: '#000000',\n      boxShadow: \"none\",\n    },\n  \n    headerTitle:{\n      padding: '24px',\n      marginTop:-5,\n      marginBottom:-10,\n      fontSize: '1.125rem'\n    },\n\n    table:{\n      width:\"100%\",\n    },\n    button: {\n      margin: theme.spacing(1),\n      paddingRight:-10\n    },\n\n    headerAvatar: {\n      ...theme.typography.commonAvatar,\n      ...theme.typography.mediumAvatar,\n      transition: 'all .05s ease-in-out',\n      background:theme.palette.primary.main ,\n      '&:hover': {\n        background: theme.customization.primaryColor[400],\n      },\n\n    },\n    btngroup:{\n      marginRight:20,\n      marginTop:10\n    },\n    btngroup1:{\n      marginRight:20,\n      marginTop:10\n    },\n\n    visuallyHidden: {\n      border: 0,\n      clip: 'rect(0 0 0 0)',\n      height: 1,\n      margin: -1,\n      overflow: 'hidden',\n      padding: 0,\n      position: 'absolute',\n      top: 20,\n      width: 1,\n    },\n    icon: {\n      color:theme.customization.mode === 'Light' ?grey[700] :grey[50]\n  },\n    padding:{\n      marginLeft:24,\n      marginRight:24\n\n    },\n    tab: {\n      minWidth: 60,\n      width: 60, \n\n      color:theme.customization.primaryColor[200],\n      // fontSize:20,\n      // fontWeight:500\n  },\n  indicator:{\n    backgroundColor:theme.customization.primaryColor[200],\n  },\n  boldText:{\n    fontWeight:700,\n    \n  },\n  hoverCard:{\n    // backgroundColor:'#fff',\n    boxShadow:'0px 10px 20px rgba(0,0,0,0.1)',\n    \"&:hover\": {\n      // backgroundColor: theme.customization.primaryColor[50],\n      boxShadow:'0px 10px 10px rgba(0,0,0,0.2)',\n    }\n},\ncardRoot: {\n  width: 200,\n},\nmedia: {\n  height: 140,\n},\nappBar: {\n  position: 'relative',\n  backgroundColor:theme.customization.primaryColor[500],\n  height:60\n},\ntitle: {\n  marginLeft: theme.spacing(2),\n  flex: 1,\n},\n\n}));\n\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport {useTheme,withStyles} from \"@material-ui/core/styles\";\n\n// import library\nimport {TableHead,TableRow,TableCell,TableSortLabel} from '@material-ui/core';\nimport { grey} from '@material-ui/core/colors'\n\n\n\nconst StyledTableCell = withStyles((theme) => ({\n    head: {\n      backgroundColor: theme.customization.mode === \"Light\"? null: grey[800],\n      // color: theme.customization.mode === \"Light\"? null: grey[500],\n      color: theme.customization.mode === \"Light\"? null: grey[500],\n\n    },\n    \n}))(TableCell);\n\n  \nfunction TableHeader(props) {\n    const theme = useTheme();\n    const { classes, order, orderBy, onRequestSort,headerData,isCart,isCustomer,color } = props;\n    const createSortHandler = (property) => (event) => {\n      // onRequestSort(event, property);\n    };\n    \n    return (\n      <TableHead className={classes.headColor} >\n        <TableRow >\n            {headerData.map((headCell) => (\n            // <StyledTableCell\n            //     key={headCell.id}\n            //     align={headCell.align}\n            //     // sortDirection={orderBy === headCell.id ? order : false}\n            // >\n            //     <TableSortLabel\n            //     active={orderBy === headCell.id}\n            //     // direction={orderBy === headCell.id ? order : 'asc'}\n            //     onClick={createSortHandler(headCell.id)}\n            //     style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n            //     >\n            //     {headCell.label}\n            //     {/* {orderBy === headCell.id  ? (\n            //         <span className={classes.visuallyHidden}>\n            //         {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n            //         </span>\n            //     ) : null} */}\n            //     </TableSortLabel>\n            // </StyledTableCell>\n\n            <StyledTableCell\n              key={headCell.id}\n              align={headCell.align}\n              // sortDirection={orderBy === headCell.id ? order : false}\n              // style={{color:isCustomer?\"#000\":theme.themeText, fontSize:isCustomer?16:null}}\n              style={{color:isCustomer?\"#000\": theme.customization.mode === \"Light\"? color?color:null: grey[500], fontSize:isCustomer?16:null}}\n\n             >\n                  {headCell.label}\n            </StyledTableCell>\n              \n            ))}\n             {isCart?  <StyledTableCell/>: null}\n            \n        </TableRow>\n      </TableHead>\n        );\n    }\n\n\nexport default TableHeader","export default __webpack_public_path__ + \"static/media/no-results-1.27ba7507.png\";","import React from 'react'\nimport { makeStyles, useTheme,withStyles } from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\nimport {Table,TableContainer,FormControlLabel,Switch,Paper, TablePagination,Grid,Box,Typography,Divider} from '@material-ui/core';\nimport empltyImage from \"../../../assets/img/icon/empty-cart.png\"\nimport empltyImage2 from \"../../../assets/img/icon/no-results-1.png\"\nimport { Empty } from 'antd';\n\n\nimport { Pagination } from 'antd';\n\nconst TableWrapper = (props) => {\n    const {isCart, isReport, pagingState, setPagingState,list,tableRef} = props;\n\n    // console.log(\"pagingState\",pagingState)\n    const theme = useTheme();\n    // const classes = useStyles(theme);\n    // table\n    // const [dense, setDense] = React.useState(isReport?true:false);\n    const [dense, setDense] = React.useState(isCart ?false:true);\n\n\n    const handleChangeDense = (event) => {\n      setDense(event.target.checked);\n    };\n    React.useEffect(()=>{\n        tableRef?.current && tableRef?.current?.scrollIntoView();\n    },[list])\n\n    return (\n    <>\n        <StyledPaper style={{width: '100%', marginBottom: theme.spacing(2)}}>\n            {/* Chinh size tablw */}\n\n            {/* <TableContainer style={{maxHeight: '90vh',}}> */}\n            {/* <TableContainer style={{maxHeight: '84vh', minHeight:'60vh'}}> */}\n            <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}>\n\n                <Table\n                    ref={tableRef}\n                    aria-labelledby=\"tableTitle\"\n                    size={dense ? 'small' : 'medium'}\n                    // size={dense ? 'small' : 'small'}\n\n                    aria-label=\"enhanced table\"\n                    stickyHeader \n                >\n                    {props.children}\n\n                </Table>\n                \n            </TableContainer>\n            \n        </StyledPaper>\n\n            {/* Add page navigation here...  */}\n            {isCart || isReport? null :\n               \n                <Grid container justifyContent='flex-end' >     \n                        <FormControlLabel\n                            control={<Switch checked={dense} onChange={handleChangeDense} />}\n                            label=\"Thu nhỏ\"\n                            style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n                        />\n                        <Pagination\n                        style={{marginRight:40}}\n                            showSizeChanger\n                            total={pagingState?.total_rows}\n                            current={pagingState?.page +1}\n                            onChange={(newCurrent, newPageSize) => {\n                                const pageSizeChange = pagingState?.limit !== newPageSize;\n                                if (!pageSizeChange) {\n                                    setPagingState({ ...pagingState, page: newCurrent -1 })\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n                                } else {\n                                    setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n                                    // tableRef.current && tableRef.current.scrollIntoView();\n\n                                }\n                              }}\n                            />\n                        \n                </Grid>\n                \n            \n            }\n    </>\n    )\n}\n\nconst StyledPaper = withStyles((theme) => ({\n    root: {\n      boxShadow:\"none\",\n      background: theme.customization.mode === \"Light\"? null: grey[800],\n      color: theme.customization.mode === \"Light\"? null: grey[700]\n    },\n  }))(Paper);\n\nexport default TableWrapper\n\n\n\n// const Empty = ()  =>{\n//     return(\n//         <Box style={{height:'65vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n//             <Box>\n//                 <Box component=\"img\" sx={{ height: 150,  width: 150, marginBottom: 15, borderRadius: 2, color:'#b6b6b6' }} src={empltyImage2} />\n//                 <Typography variant=\"h3\">Giỏ hàng trống</Typography>\n//             </Box>\n//         </Box>\n\n\n//     )\n// }\n\n    // if(list){\n    //     // return <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\n    //     return (\n    //         <>\n    //         {/* <Divider /> */}\n    //     <Box style={{height:'67vh',display:'flex', alignItems:'center', justifyContent:'center'}}>\n    //     <Empty \n    //     // image=\"https://minimal-assets-api.vercel.app/assets/illustrations/illustration_empty_cart.svg\" \n    //     image={empltyImage2}\n    //     imageStyle={{ height: 150, }} \n    //         description={ <div style={{marginTop:20, marginLeft:-20}}>\n    //             <Typography variant='h3' >Giỏ hàng trống</Typography>\n    //             <Typography style={{color:'gray', marginTop:15}}>Chưa có sản phẩm nào trong giỏ hàng</Typography>\n    //         </div>}/>\n    //     </Box> </>)\n    // }\n\n    \n\n\n\n\n\n\n\n\n// PAGING NAVAGATION CŨ\n\n // <div style={{display: 'flex', flexDirection: 'row-reverse', gap: 10,marginTop:-20, marginRight:20, marginBottom:-10 }}>\n    //     <TablePagination\n    //         rowsPerPageOptions={[10, 25, 100]}\n    //         labelRowsPerPage={\"Số dòng\"}\n    //         component=\"div\"\n    //         count={pagingState?.total_rows}\n    //         rowsPerPage={pagingState?.limit}\n    //         page={pagingState?.page}\n    //         onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n    //         onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n\n\n    //     />\n        \n    //     <FormControlLabel\n    //         control={<Switch checked={dense} onChange={handleChangeDense} />}\n    //         label=\"Thu nhỏ\"\n    //         style={{ display: \"flex\", justifyContent: \"flex-end\", }}\n    //     />\n    // </div>","function descendingComparator(a, b, orderBy) {\n   if ( orderBy !== null){\n    if (b[orderBy] < a[orderBy]) {\n        return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n        return 1;\n    }\n    \n    } else{\n        if (b.id< a.id) {\n            return -1;\n        }\n        if (b.id > a.id) {\n            return 1;\n        }\n        return 0;\n    }\n    return 0;\n}\n// function descendingComparator(a, b, orderBy) {\n//     if (b.id< a.id) {\n//         return -1;\n//     }\n//     if (b.id > a.id) {\n//         return 1;\n//     }\n//     return 0;\n// }\nexport function getComparator(order, orderBy) {\n    return order === 'desc'\n      ? (a, b) => descendingComparator(a, b, orderBy)\n      : (a, b) => -descendingComparator(a, b, orderBy);\n  }\n  \nexport  function stableSort(array, comparator) {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n        const order = comparator(a[0], b[0]);\n        if (order !== 0) return order;\n        return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}\n\n\nexport function calculateTotalQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=Number(item.quantity) )\n    return value\n  }\n  export function calculateTotalReturnQuantity ( cartList ) {\n    var value= 0\n    cartList.map(item => value +=item.returnQuantity )\n    return value\n  }\n\n  ","import React from \"react\";\nimport {\n  Modal,\n  Box,\n  Paper,\n  Grid,\n  ListItem,\n  Typography,\n  IconButton,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { Button} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    padding: 20,\n    minWidth: \"100%\",\n  },\n  modal: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    display: \"flex\",\n  },\n}));\n\nexport default function ModalWrapperWithClose(props) {\n  const {title,open,handleClose,handleSubmit,name,size} = props\n  const classes = useStyles();\n  return ( \n    <React.Fragment>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        className={classes.modal}\n  \n\n      >\n        <React.Fragment>\n          <Paper>\n            <Box className={classes.container}>\n                <Box>   \n                  <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                      <Typography variant={size?size:\"h3\"} >{title}</Typography>\n                      <IconButton aria-label=\"close\" onClick={handleClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                      </IconButton>\n                </Grid>\n                </Box> \n              {props.children}\n      \n            </Box>\n          </Paper>\n            \n        </React.Fragment>\n      </Modal>\n    </React.Fragment>\n  );\n}\n","import axiosClient from \"./axiosClient\";\n\nconst customerApi = {\n  createCustomer: (storeUuid, body) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.post(url, body);\n  },\n  getCustomers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/customers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteCustomer: (storeUuid, customerUuid) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.delete(url);\n  },\n  updateCustomer: (storeUuid, customerUuid,body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}`;\n    return axiosClient.put(url,body);\n  },\n  payDebt: (storeUuid, customerUuid, body) => {\n    const url = `/stores/${storeUuid}/customers/${customerUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n  importCustomerJson : (storeUuid, json) => {\n    const url = `stores/${storeUuid}/customers/addCustomersByJson`;\n    return axiosClient.post(url, {\n      \"json_data\": json\n    });\n  },\n  updateCustomerVouchers: (storeUuid, customerUuid,vouchers) => {\n    const url = `stores/${storeUuid}/customer/${customerUuid}`;\n    return axiosClient.post(url, {\n      \"vouchers\": JSON.stringify(vouchers)\n    });\n  },\n  getCustomerDebts: (storeUuid, query) => {\n    const url = `stores/${storeUuid}/customerDebts`;\n    return axiosClient.get(url, {params: query});\n  },\n  getCustomerGroups: (storeUuid) => {\n    const url = `stores/${storeUuid}/customerGroups`;\n    return axiosClient.get(url);\n  },\n  updateCustomerGroup: (storeUuid, id, body) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.put(url, body);\n  },\n  createCustomerGroup: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/customerGroups/`;\n    return axiosClient.post(url, body);\n  },\n  deleteCustomerGroup: (storeUuid, id) => {\n    const url = `stores/${storeUuid}/customerGroups/${id}`;\n    return axiosClient.delete(url);\n  },\n};\nexport default customerApi;\n","import React from 'react'\nimport {Box,TextField,Avatar,Slide,Divider,ListItemSecondaryAction,Dialog,AppBar,Toolbar,Button,ListItem,IconButton,TableRow,TableCell,Typography, Grid} from '@material-ui/core'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport useStyles from \"../TableCommon/style/mainViewStyle\";\nimport icon from '../../assets/img/product/tch.jpeg';\nimport * as Input from '../TextField/NumberFormatCustom'\nimport DeleteForeverOutlinedIcon from '@material-ui/icons/DeleteForeverOutlined';\nimport InvoiceReturnDetail from \"../../views/SalesView/InvoiceReturn/InvoiceReturnTableRow/InvoiceReturnDetail/InvoiceReturnDetail\";\nimport InvoiceDetail from \"../../views/SalesView/Invoice/InvoiceTableRow/InvoiceDetail/InvoiceDetail\";\nimport InventoryOrderDetail from \"../../views/InventoryView/InventoryOrder/InventoryOrderTableRow/InventoryOrderDetail/InventoryOrderDetail\";\nimport InventoryReturnDetail from \"../../views/InventoryView/InventoryReturnOrder/InventoryReturnTableRow/InventoryReturnDetail/InventoryReturnDetail\";\nimport OrderProductListDetail from \"../../views/InventoryView/OrderProductList/OrderProductListTableRow/OrderProductListDetail/OrderProductListDetail\";\nimport CheckHistoryDetail from \"../../views/InventoryView/CheckHistory/CheckHistoryTableRow/CheckHistoryDetail/CheckHistoryDetail\"\nimport CustomerDetail from \"../../views/ManagerView/Customer/CustomerTableRow/CustomerDetail/CustomerDetail\"\nimport SupplierDetail from \"../../views/InventoryView/Supplier/SupplierTableRow/SupplierDetail/SupplierDetail\"\nimport EmployeeDetail from \"../../views/HRView/Employee/EmployeeTableRow/EmployeeDetail/EmployeeDetail\"\nimport DiscountDetail from '../../views/ManagerView/Setting/DiscountSetting/DiscountTableRow/DiscountDetail/DiscountDetail';\nimport VoucherDetail from '../../views/ManagerView/Setting/VoucherSetting/VoucherTableRow/VoucherDetail/VoucherDetail';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {ThousandFormat} from \"../TextField/NumberFormatCustom\"\nimport ava from '../../assets/img/product/lyimg.jpeg';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport InventoryDetail from '../../views/InventoryView/Inventory/InventoryTableRow/InventoryDetail/InventoryDetail';\nimport DiscountPopUp from \"../../views/SalesView/Cart/DiscountPopup/DiscountPopup\"\nimport ButtonQuantity from \"../../components/Button/ButtonQuantity\";\n\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\n\nexport const CartMiniTableRow = (props) =>{\n    const classes = useStyles(); \n    const haveDiscount = true;\n\n    const {row,discountData, handleDeleteItemCart,isManageInventory, handleChangeItemQuantity, isCart,handleChangeItemPrice} = props\n    const updateQuantity = (newQuantity) => {\n        handleChangeItemQuantity(row.uuid, newQuantity)\n      }\n\n    const [openDiscount, setOpenDiscount] = React.useState(false);\n    const handleOpenDiscount = () =>{\n      setOpenDiscount(!openDiscount)\n    }\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n    const canFixPriceSell= store_setting?.canFixPriceSell\n    const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.cart) :(canFixPriceSell.status && canFixPriceSell.import) \n    return (\n        <>\n         <ListItem  style={{ padding:10}}>   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n                        <div>\n                            <ListItem style={{margin:0,padding:0}} >    \n                                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                                {haveDiscount ? \n                                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                                :null}\n                                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n                            </ListItem  > \n                            <ListItem style={{margin:0,padding:0}} >    \n                            {activeFixPrice?\n                            <Input.ThousandSeperatedInput \n                                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                                inputProps={{style: { textAlign: \"right\" }}} \n                                defaultPrice={row.unit_price} \n                                value={row.unit_price} \n\n                                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>:\n                                <Input.ThousandFormat  value={row.unit_price} > </Input.ThousandFormat>}\n\n                                <Typography style={{marginLeft:10}}>x</Typography>\n                            </ListItem  > \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\nexport const BillMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {totalCost, id,partnerName ,date, typeBill } = props;\n    const{promotion_condition,dateAdvanceSetting, type} = props;\n    const classes = useStyles(); \n    const theme = useTheme();\n\n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n        <div style={{margin:10}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(typeBill === \"Khuyến mãi\"?row.id:row.uuid)}}  >\n            <Grid item>\n                <Typography style={{ fontWeight:500,marginTop:-5,fontSize:15, marginBottom:3}}>{id}</Typography>\n                <Typography style={{ fontSize:14}}>{partnerName}</Typography>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n                \n          {typeBill ===\"Voucher\"?<Typography style={{ fontSize:11, marginTop:-15, marginBottom:7}}> Ngày hết hạn:</Typography>:null}\n\n           <Typography style={{color:\"#6b6b6b\", fontSize:10, marginTop:-8, marginBottom:5,textAlign: 'right'}}>{date?.substring(0, 16)}</Typography>\n            \n            {typeBill === \"Khuyến mãi\"  ?<Typography style={{marginTop:10}} >{totalCost}  </Typography>:null}\n            {typeBill === \"Đơn đặt hàng\"  || typeBill === \"Voucher\"?<Typography style={{fontWeight:500, fontSize:17, color:\"orange\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill === \"Đơn kiểm kho\"?<Typography style={{fontWeight:500, fontSize:17, color:totalCost >=0?\"green\":\"red\",textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            {typeBill !== \"Đơn đặt hàng\" &&typeBill !== \"Đơn kiểm kho\" &&typeBill !== \"Voucher\" && typeBill !== \"Khuyến mãi\"? <Typography style={{fontWeight:500, fontSize:17, color:typeBill  === \"Hoá đơn\" || typeBill === \"Đơn nhập hàng\"?theme.customization.primaryColor[500]:theme.customization.secondaryColor[500],textAlign: 'right'}}><ThousandFormat value={totalCost}/></Typography> :null}\n            \n            \n            </Grid>\n        </Grid> \n        <Divider style={{marginTop:2}} />\n\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typeBill} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typeBill === \"Hoá đơn\"? <InvoiceDetail parentProps={props}  isMini={true} />:null}\n            {typeBill === \"Đơn trả\"? <InvoiceReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn nhập hàng\"? <InventoryOrderDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn trả hàng nhập\"? <InventoryReturnDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn đặt hàng nhập\"? <OrderProductListDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Đơn kiểm kho\"? <CheckHistoryDetail parentProps={props}  isMini={true}/>:null}\n            {/* {typeBill === \"Khuyến mãi\"? <DiscountDetail parentProps={props}  isMini={true} promotion_condition={promotion_condition} type={type}/>:null} */}\n            {typeBill === \"Voucher\"? <VoucherDetail parentProps={props}  isMini={true}/>:null}\n            {typeBill === \"Khuyến mãi\"?  <DiscountDetail isMini={true}parentProps={props} promotion_condition={promotion_condition}dateAdvanceSetting={dateAdvanceSetting} type={type} />       :null}\n\n        </Dialog>\n        </div>\n    )\n}\n\nexport const PartnerMiniTableRow = (props) =>{\n    const { row, handleOpenRow, openRow, onReload } = props;\n\n    const {img, id,name ,phone, score,typePartner } = props\n    const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    return (\n\n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                    {typePartner !== \"Nhà cung cấp\"?<Avatar alt=\"Remy Sharp\" src={img} style={{marginRight:20,}} className={classes.ava} />:null}\n                    <div>\n                        <Typography style={{marginBottom:2, marginTop:-5,marginBottom:3}}>{name}</Typography>\n                        <ListItem  style={{margin:0, padding:0}}>\n                            <PhoneIcon style={{width:10, height:10, marginRight:2, color:\"#8f8f8f\"}}/>\n                            <Typography style={{color:'#36afff', fontSize:12}}>{phone}</Typography>\n                        </ListItem>  \n                    </div>\n                </ListItem>  \n            </Grid>\n            <Grid item justifyContent=\"flex-end\" >\n            <Typography style={{marginTop:-5,fontSize:12,color:\"#474747\"}}>{id}</Typography>\n            {typePartner === \"Khách hàng\"?<Typography style={{fontWeight:500, fontSize:14,marginTop:8, color:\"green\",textAlign: 'right'}}>{score}</Typography> :null}\n\n            </Grid>\n        </Grid> \n\n        <Divider style={{marginTop:2}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n\n            {typePartner === \"Khách hàng\"? <CustomerDetail parentProps={props}  isMini={true} />:null}\n            {typePartner === \"Nhân viên\"? <EmployeeDetail parentProps={props}  isMini={true}/>:null}\n            {typePartner === \"Nhà cung cấp\"? <SupplierDetail parentProps={props}  isMini={true}/>:null}\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const ReturnCartMiniTableRow = ({ detail, handleProductPriceChange,isCart, handleItemQuantityChange }) =>{\nconst classes = useStyles();\n  const theme = useTheme();\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n    \n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  const activeFixPrice =  isCart?  (canFixPriceSell.status && canFixPriceSell.returnCart) :(canFixPriceSell.status && canFixPriceSell.returnImport) \n\n    return (\n        <>\n        <Typography style={{fontSize:16}} >{detail.product_code} - {detail.name} </Typography>\n        <ListItem style={{margin:0,padding:0}} >  \n            <Typography style={{color:\"#6b6b6b\", marginRight:10}} >Giá bán: </Typography>\n            <Input.VNDFormat style={{ width: 70 ,color:\"#6b6b6b\"}} value={detail.unit_price}/>  \n        </ListItem  > \n        <Typography style={{ marginBottom:-10, marginTop:10, color:\"red\"}} >Giá trả: </Typography>\n\n        <ListItem style={{margin:0,padding:0}} >  \n           {activeFixPrice? <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={detail.returnPrice} \n                value={detail.returnPrice}\n                onChange={e => handleChangePrice(e.target.value)}/>\n           : <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>\n            }\n                <ButtonQuantity quantity={detail.returnQuantity} limit={detail.quantity - detail.returned_quantity} setQuantity={handleChangeQuantity}  show={show} setShow={setShow} isReturn={true} isMini={true}/> \n        </ListItem  > \n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\nexport const ProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n    const haveDiscount = true;\n\n    const {row, handleOpenRow, openRow } = props\n    const {img, id,name ,list_price,standard_price,typePartner ,branch_quantity,min_reorder_quantity,isManageInventory} = props\n    // const classes = useStyles(); \n    const [open, setOpen] = React.useState(false);\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          onClick={()=>{handleClickOpen();handleOpenRow(row.uuid)}} \n          >\n            <Grid item xs={9}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={JSON.parse(row.img_urls)?.at(0) || defaultProduct}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{name}</Typography>\n                    <Typography style={{}}>Vốn: <ThousandFormat value={standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={3} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n               {isManageInventory?  <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(branch_quantity,min_reorder_quantity)}}>Tồn: <ThousandFormat value={branch_quantity}/></Typography>\n               : <Typography></Typography>}\n                <Typography style={{textAlign: 'right', }}>Bán: <ThousandFormat value={list_price}/></Typography>\n            </Grid>\n        </Grid> \n\n\n        <Divider style={{marginTop:3}} />\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n            <AppBar className={classes.appBar}>\n            <Toolbar>\n                <Typography variant=\"h3\" className={classes.title} style={{color:\"white\"}} >\n                    {typePartner} {\"#\"} {id}\n                </Typography>\n                <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n                </IconButton>\n            </Toolbar>\n            </AppBar>\n            <InventoryDetail parentProps={props}  openRow={openRow} isMini={true} />\n        </Dialog>\n        </div>\n    )\n}\n\n\nexport const CheckMiniTableRow = ({ detail, handleItemRealQuantityChange, handleDeleteItem }) =>{\n    const classes = useStyles();\n    const [show, setShow] = React.useState(\"none\");\n    useEffect(() => { }, [detail]);\n  \n    const onChangeRealQuantity = (newQuantity) => {\n      handleItemRealQuantityChange(detail.id, newQuantity);\n    };\n \n    return (\n        <>\n        <ListItem  >   \n                <ListItem  style={{margin:0, padding:0}}>    \n                        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={detail.img_url} />\n                        <div>\n                            <Typography style={{fontSize:15, marginBottom:10}} >detail.name</Typography>\n                           \n                            <Typography style={{marginLeft:10}}>detail.branch_quantity</Typography> \n                            {/* <ThousandFormat  value={detail.branch_quantity} /> */}\n                        \n                        </div>\n                    </ListItem  >  \n                    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n                         <ButtonQuantity quantity={100} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/> \n                        {/* <ButtonQuantity quantity={detail.real_quantity} setQuantity={onChangeRealQuantity}  show={show} setShow={setShow} limit={detail.quantity} isReturn={false} isMini={true}/>  */}\n                    </ListItemSecondaryAction>\n                \n                </ListItem  >  \n\n                {/* <ThousandFormat  value={Number(detail.real_quantity) - Number(detail.branch_quantity)} /> */}\n                {/* <VNDFormat value={(Number(detail.real_quantity) - Number(detail.branch_quantity)) *\n          detail.standard_price} /> */}\n         <Divider style={{marginTop:7}}/>\n        \n\n        </>\n    )\n}\n\n\n\n\n\n\nexport const VarianceProductMiniTableRow = (props) =>{\n    const classes = useStyles();\n    const theme = useTheme(); \n   \n\n    const {variance,onClick} = props\n\n\n    function returnColor(current,min) {\n        if(current >= min) {return \"green\"}\n        else if (current <= 0) {return \"red\"}\n        else{return \"orange\"}\n    }\n    \n    return (\n  \n        <div style={{margin:15,}}>\n        <Grid  container direction=\"row\" justifyContent=\"space-between\" \n          \n          >\n            <Grid item xs={8}>\n                <ListItem  style={{marginLeft:2, padding:0}}>\n                 <Box\n                    component=\"img\"\n                    sx={{ height: 45, width: 45, borderRadius: 10, marginRight: 15 }}\n                    src={variance.img_url}\n                    />                   \n                     <Grid  container direction=\"column\"justifyContent=\"space-between\" >\n                    <Typography style={{marginTop:-7, marginBottom:10}}>{variance.name}</Typography>\n                    <Typography style={{}}>Giá vốn: <ThousandFormat value={variance.standard_price}/></Typography>\n                    </Grid>\n                </ListItem>  \n            </Grid>\n            <Grid item xs={4} container direction=\"column\"justifyContent=\"space-between\" alignItems=\"flex-end\" >\n                <Typography style={{marginTop:-5, textAlign: 'right',color:returnColor(variance.branch_quantity,variance.min_reorder_quantity)}}>Tồn: <ThousandFormat value={variance.branch_quantity}/></Typography>\n                <Typography style={{textAlign: 'right', }}>Giá bán: <ThousandFormat value={variance.list_price}/></Typography>\n            </Grid>\n        </Grid> \n        <Box style={{display:'flex',justifyContent:'right'}}>\n        <Button style={{marginTop:10, }} size=\"small\" color=\"primary\" variant=\"outlined\"\n        onClick={onClick}>Chi tiết</Button>\n        </Box>\n\n        <Divider style={{marginTop:3}} />\n       \n        </div>\n    )\n}\n{/* <ListItem  style={{ padding:10}}>   \n<ListItem  style={{margin:0, padding:0}}>    \n        <Box component=\"img\" sx={{ height: 55, width: 55,  borderRadius:10,marginRight:20   }}src={row.img_url} />\n        <div>\n            <ListItem style={{margin:0,padding:0}} >    \n                <Typography style={{fontSize:15, marginBottom:10}} >{row.name} </Typography>\n                {haveDiscount ? \n                <img id=\"gift\" src={require('../../assets/img/icon/giftbox.png').default} style={{height:16,width:16, marginLeft:10, marginTop:-3}} onClick={()=>setOpenDiscount(true)}/>\n                :null}\n                {openDiscount && <DiscountPopUp open={openDiscount} title={`Khuyến mãi trên ${row.product_code} - ${row.name}`} onClose={()=>{setOpenDiscount(false)}}/>}\n            </ListItem  > \n            <ListItem style={{margin:0,padding:0}} >    \n            <Input.ThousandSeperatedInput \n                id=\"standard-basic\" style={{maxWidth:70 }} size=\"small\" \n                inputProps={{style: { textAlign: \"right\" }}} \n                defaultPrice={row.unit_price} \n                value={row.unit_price} \n\n                onChange={e => handleChangeItemPrice(props.row.uuid, e.target.value)}/>\n                <Typography style={{marginLeft:10}}>x</Typography>\n            </ListItem  > \n        </div>\n    </ListItem  >  \n    <ListItemSecondaryAction style={{marginTop:20, marginRight:-20}}>\n        <ButtonQuantity quantity={row.quantity} setQuantity={updateQuantity}  branch_quantity={row.branch_quantity} isMini={true}/> \n    </ListItemSecondaryAction>\n\n</ListItem  >  \n<Divider style={{marginTop:7}}/> */}","// -----------HEADER TABLE\n\n//  ID phải trùng tên ATTRIBUTE THÌ MỚI SORT ĐC\n\nexport const InventoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"center\", disablePadding: false, label: \"Sản phẩm\" },\n  // { id: \"bar_code\", align: \"center\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"category\", align: \"left\", disablePadding: false, label: \"Danh mục\" },\n  { id: \"price\", align: \"right\", disablePadding: false, label: \"Giá bán\" },\n  {\n    id: \"import_price\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Giá vốn\",\n  },\n  {\n    id: \"quantity\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Tình trạng\",\n  },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Tồn kho\" },\n  { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Điểm đặt hàng lại\" },\n  // { id: \"inventory\", align: \"center\", disablePadding: false, label: \"Số lượng đặt hàng lại\" },\n];\nexport const InventoryOrderHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày nhập\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  { id: \"debt\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InventoryReturnOrderHeadCells = [\n  // them cột tình trạng\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Nhà cung cấp\",\n  },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n\n  // { id: \"import_id\", align: \"left\", disablePadding: false, label: \"#Đơn nhập\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\n\nexport const SupplierHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên NCC\" },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  // { id: \"email\", align: \"left\", disablePadding: false, label: \"Email\" },\n  // { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  {\n    id: \"total_cost\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền nhập\",\n  },\n  {\n    id: \"debt\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Nợ NCC\",\n  },\n  { id: \"debtStatus\", align: \"center\", disablePadding: false, label: \"\" },\n];\n\nexport const InvoiceHeadCells = [\n  // thêm cột Tiền hàng, Giảm giá, (tiền còn thiếu)\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày bán\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng tiền\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\nexport const InvoiceReturnHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày trả\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  // {\n  //   id: \"payment\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Hình thức trả\",\n  // },\n  {\n    id: \"total_quantity\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Số lượng\",\n  },\n  {\n    id: \"total\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền trả\",\n  },\n  // { id: \"invoid_id\", align: \"left\", disablePadding: false, label: \"#Hoá đơn\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const EmployeeHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"email\", align: \"left\", disablePadding: true, label: \"Email\" },\n  // { id: \"role\", align: \"left\", disablePadding: true, label: \"Chức năng\" },\n  // { id: \"branch\", align: \"left\", disablePadding: true, label: \"Chi nhánh\" },\n  { id: \"function\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n];\n\nexport const CustomerHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  // { id: 'img', align: false, disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Khách hàng\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"score\", align: \"right\", disablePadding: true, label: \"Tích điểm\" },\n  { id: \"total\", align: \"right\", disablePadding: true, label: \"Tổng tiền mua\" },\n  { id: \"debt\", align: \"right\", disablePadding: true, label: \"Tổng nợ\" },\n  { id: \"debtStatus\", align: \"center\", disablePadding: true, label: \"\" },\n];\n\nexport const CartHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  // { id: \"price\", align: \"right\", disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Đơn giá\" },\n\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const ImportHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"product_code\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  // { id: \"bar_code\", align: \"left\", disablePadding: true, label: \"Mã vạch\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"price\", align: \"center\", disablePadding: true, label: \"Giá nhập\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const CartReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá bán\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const ImportReturnHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Giá nhập\" },\n  {\n    id: \"return_price\",\n    align: \"right\",\n    disablePadding: true,\n    label: \"Giá trả\",\n  },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\n\nexport const OrderHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"price\", align: \"right\", disablePadding: true, label: \"Khoảng giá\" },\n  { id: \"quantity\", align: \"center\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", align: \"right\", disablePadding: true, label: \"Thành tiền\" },\n];\nexport const CheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  // { id: 'id', align: 'left', disablePadding: true, label: '#' },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Sản phẩm\" },\n  { id: \"quantity\", align: \"right\", disablePadding: true, label: \"Tồn kho\" },\n  {\n    id: \"real-quantity\",\n    align: \"center\",\n    disablePadding: true,\n    label: \"SL thực tế\",\n  },\n  { id: \"balance\", align: \"right\", disablePadding: true, label: \"Lệch\" },\n];\n\nexport const OrderListHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  {\n    id: \"supplier\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Khách hàng\",\n  },\n  { id: \"phone\", align: \"left\", disablePadding: false, label: \"Số điện thoại\" },\n  { id: \"address\", align: \"left\", disablePadding: false, label: \"Địa chỉ\" },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Khoảng tiền\" },\n  { id: \"status\", align: \"center\", disablePadding: false, label: \"Trạng thái\" },\n  // {\n  //   id: \"employee\",\n  //   align: \"left\",\n  //   disablePadding: false,\n  //   label: \"Người thực hiện\",\n  // },\n];\nexport const CheckHistoryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày kiểm\" },\n  // { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"inventory\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng SL lệch\",\n  },\n  {\n    id: \"substract\",\n    align: \"right\",\n    disablePadding: false,\n    label: \"Tổng tiền lệch\",\n  },\n  // { id: \"status\", align: \"left\", disablePadding: false, label: \"Chức vụ\" },\n  {\n    id: \"employee\",\n    align: \"center\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const DeliveryHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày đặt\" },\n  { id: \"customer\", align: \"left\", disablePadding: false, label: \"Khách hàng\" },\n  { id: \"branch\", align: \"left\", disablePadding: false, label: \"Chi nhánh\" },\n  {\n    id: \"payment\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Hình thức trả\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Tổng hoá đơn\" },\n  { id: \"debt\", align: \"left\", disablePadding: false, label: \"Trạng thái\" },\n  {\n    id: \"employee\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"Người thực hiện\",\n  },\n];\n\nexport const EmployeeScheduleHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Nhân viên\" },\n  { id: \"phone\", align: \"left\", disablePadding: true, label: \"Số điện thoại\" },\n  { id: \"status\", align: \"center\", disablePadding: true, label: \"Chấm công\" },\n];\n\nexport const InventoryCheckHeadCells = [\n  { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\n  { id: \"inventory\", align: \"left\", disablePadding: false, label: \"Tồn kho\" },\n  { id: \"real\", align: \"left\", disablePadding: false, label: \"Thực tế\" },\n  {\n    id: \"diffQuantity\",\n    align: \"left\",\n    disablePadding: false,\n    label: \"SL lệch\",\n  },\n  { id: \"total\", align: \"right\", disablePadding: false, label: \"Giá trị lệch\" },\n];\n\nexport const VoucherHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  { id: \"name\", align: \"left\", disablePadding: true, label: \"Tên voucher\" },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: true, label: \"Số lượng\" },\n  { id: \"value\", align: \"left\", disablePadding: true, label: \"Mệnh giá\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const DiscountHeadCells = [\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"#\" },\n  {\n    id: \"name\",\n    align: \"left\",\n    disablePadding: true,\n    label: \"Tên chương trình\",\n  },\n  { id: \"fromDate\", align: \"left\", disablePadding: true, label: \"Từ ngày\" },\n  { id: \"toDate\", align: \"left\", disablePadding: true, label: \"Đến ngày\" },\n  { id: \"type\", align: \"left\", disablePadding: true, label: \"Hình thức\" },\n  { id: \"status\", align: \"left\", disablePadding: true, label: \"Trạng thái\" },\n];\n\nexport const TransferInventoryHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên sản phẩm\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"Số lượng\" },\n  { id: \"from\", align: \"left\", disablePadding: false, label: \"Từ\" },\n  { id: \"to\", align: \"left\", disablePadding: false, label: \"Đến\" },\n  { id: \"user\", align: \"left\", disablePadding: false, label: \"Ngừoi thực hiện\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n];\n\nexport const CashbookHeadCells = [\n  // { id: \"stt\", align: \"left\", disablePadding: true, label: \"Stt\" },\n  { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã\" },\n  { id: \"date\", align: \"left\", disablePadding: false, label: \"Ngày\" },\n  { id: \"quantity\", align: \"left\", disablePadding: false, label: \"Giá trị\" },\n  { id: \"user_type\", align: \"left\", disablePadding: false, label: \"Đối tác\" },\n  { id: \"user_name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n  { id: \"type\", align: \"left\", disablePadding: false, label: \"Loại thu chi\" },\n];","// ------------TABLE TYPE\n\n// Sales\nexport const INVOICE = \"Hoá_đơn\";\nexport const INVOICE_RETURN = \"Đơn_trả\";\nexport const CUSTOMER_ORDER = \"Đơn_đặt_hàng\";\n\n// inventory\nexport const INVENTORY = \"Sản_phẩm\";\nexport const INVENTORY_ORDER = \"Đơn_nhập_hàng\";\nexport const INVENTORY_RETURN = \"Đơn_trả_hàng_nhập\";\nexport const SUPPLIER = \"Nhà_cung_cấp\";\nexport const CHECK_LIST = \"Đơn_kiểm_kho\";\nexport const ORDER_LIST = \"Đơn_đặt_hàng\";\nexport const TRANSFER_INVENTORY = \"Đơn_chuyển_kho\";\n\n// HR\nexport const EMPLOYEE = \"Nhân_viên\";\n\n//Manager\nexport const CUSTOMER = \"Khách_hàng\";\n\n\n\n//CART\nexport const CART = \"Giỏ_hàng\";\nexport const IMPORT = \"Nhập hàng\";\nexport const CART_RETURN = \"Trả_hàng\";\nexport const IMPORT_RETURN = \"Trả_hàng_nhập\";\n\n","import { Chip, Box, Avatar } from \"@material-ui/core\";\n\nexport const FormatedStatus = (props) => {\n  if (props.debt === 0) {\n    return (\n      <Chip\n        label=\"Trả đủ\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn nợ\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\nexport const FormatedProductStatus = (props) => {\n  if (Number(props.quantity) <= 0) {\n    return (\n      <Chip\n        label=\"Hết hàng\"\n        color=\"#ff007d\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff007d\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= Number(props.lowStock)) {\n    return (\n      <Chip\n        label=\"Sắp hết\"\n        color=\"#ffc02b\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ffc02b\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  } else if (Number(props.quantity) >= Number(props.overStock)) {\n    return (\n      <Chip\n        label=\"Vượt tối đa\"\n        color=\"white\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"red\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n       \n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Còn hàng\"\n        color=\"#00ded7\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#00ded7\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Trả đủ\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n\nexport const FormatedProductStatusReport = (props) => {\n  if (Number(props.quantity) === 0) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ff007d\",\n        }}\n      ></Box>\n    );\n    //Gia tri low stock ??\n  } else if (Number(props.quantity) <= props.lowStock) {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#ffc02b\",\n        }}\n      ></Box>\n    );\n  } else {\n    return (\n      <Box\n        style={{\n          width: 20,\n          height: 20,\n          borderRadius: 20,\n          backgroundColor: \"#00ded7\",\n        }}\n      ></Box>\n    );\n  }\n};\n\nexport const FormatedStatusOrder = (props) => {\n  switch (props.status) {\n    case \"new\":\n      return (\n        <Chip\n          label=\"Chờ chấp nhận\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n    case \"confirmed\":\n      return (\n        <Chip\n          label=\"Chờ giao\"\n          color=\"#ffc02b\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ffc02b\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ giao\"}{\" \"}\n        </Chip>\n      );\n    case \"cancelled\":\n      return (\n        <Chip\n          label=\"Đã hủy\"\n          color=\"#00ded7\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#00ded7\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Đã hủy\"}{\" \"}\n        </Chip>\n      );\n    case \"paid\":\n      return (\n        <Chip\n          label=\"Hoàn thành\"\n          color=\"#76ff03\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#76ff03\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Hoàn thành\"}{\" \"}\n        </Chip>\n      );\n    default:\n      return (\n        <Chip\n          label=\"Chờ xử lý\"\n          color=\"#ff007d\"\n          variant=\"outlined\"\n          style={{\n            backgroundColor: \"#ff007d\",\n            fontWeight: 500,\n            marginLeft: -10,\n            height: 28,\n          }}\n        >\n          {\"Chờ chấp nhận\"}{\" \"}\n        </Chip>\n      );\n  }\n};\n\nexport const FormatedStatusCheck = (props) => {\n  if (props.status === 0) {\n    return (\n      <Chip\n        label=\"Cân bằng\"\n        color=\"#76ff03\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#76ff03\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Cân bằng\"}{\" \"}\n      </Chip>\n    );\n  } else {\n    return (\n      <Chip\n        label=\"Không cân bằng\"\n        color=\"#ff3d00\"\n        variant=\"outlined\"\n        style={{\n          backgroundColor: \"#ff3d00\",\n          fontWeight: 500,\n          marginLeft: -10,\n          height: 28,\n        }}\n      >\n        {\"Không cân bằng\"}{\" \"}\n      </Chip>\n    );\n  }\n};\n","import React from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\nimport { useSelector } from \"react-redux\";\nimport TableHeader  from '../../components/TableCommon/TableHeader/TableHeader'\nimport TableWrapper from '../../components/TableCommon/TableWrapper/TableWrapper'\nimport {ThousandFormat} from '../../components/TextField/NumberFormatCustom'\nimport moment from \"moment\";\nimport setting from \"../../assets/constant/setting\"\nimport {Docso} from \"../../utils\"\nimport  clsx from \"clsx\"\n//import library\nimport {\n    Grid,\n    Card,\n    Box,\n    Tabs,\n    Tab,\n    TableContainer,\n    CardContent,\n    CardMedia,\n    CardActionArea,\n    FormControlLabel,\n    Switch,\n    Menu,\n    MenuItem,\n    ListItem,\n    IconButton,\n    TableBody,\n    Typography,\n    Table,\n    TableHead,\n    TableRow,TableCell,Divider\n  } from \"@material-ui/core\";\n  import ReactQuill, {Quill} from 'react-quill';\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        flexGrow: 1,\n        textAlign: \"center\",\n        // fontSize: \"13.5px\",\n        // fontSize: \"12em\",\n        fontWeight: 700,\n        marginTop:10,\n        color: \"#000\",\n    },\n    centerQR:{\n        flexGrow: 1,\n        textAlign: \"center\",\n       \n    },\n    center:{\n        flexGrow: 1,\n        textAlign: \"center\",\n        color: \"#000\",\n        fontSize:\"10px\",\n        // fontSize: \"10em\",\n    },\n    right:{\n        flexGrow: 1,\n        textAlign: \"right\",\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n    },\n    text:{\n        color: \"#000\",\n        fontSize: \"10px\",\n        // fontSize: \"10em\",\n        // textAlign: \"center\",\n    },\n    Largetext:{\n      color: \"#000\",\n      fontSize: \"12px\",\n    },\n    media: {\n      // height: '10%',\n      // // width: '10%'\n      // height: 50,\n      // width:50\n    },\n    weight:{\n      fontWeight:600\n    },\n    root: {\n      maxWidth: 10,\n      \n    },\n    divider: {\n      // Theme Color, or use css color in quote\n      background: '#000',\n  },\n}));\nlet d = moment.now() / 1000;\n\nlet orderTime = moment\n.unix(d)\n.format(\"DD/MM/YYYY HH:mm\", { trim: false });\n\nlet orderDate = moment\n.unix(d)\n.format(\"DD/MM/YYYY\", { trim: false });\n\n// CON THIEU LINK WEB + LOGO + MA HOA DON\nvar QRCode = require('qrcode.react');\n\n\nexport const NomalReceiptPrinter = ({cart, date,code, type}) => {\n    const info = useSelector((state) => state.info);\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n    const store = info.store.store_configuration? JSON.parse(info.store.store_configuration): null\n\n//     const web_link = store_setting.status ? info.store.web_page:null\n//     var link = web_link ? web_link : store? store.custom_web : null ;\n//     var logo  = store? store.img_url :null ;\n\n    var link = info.store.web_page ? \"https://cuahangcuatoi.net/#/store/\" + info.store.web_page : \"\";\n    var logo  = store_setting?.img_url ;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const item = cart.cartItem? cart.cartItem :cart.details\n\n    return (\n        <div style={{paddingLeft: -10}} >\n            {/* Logo */}\n           {logo? \n            <div className={classes.centerQR} style={{marginBottom:5}}  >\n              <img src={logo} style={{height:50}}/>\n            </div>:null}\n              \n           {/* In đơn cũ thì ko lấy store?? */}\n           {/* {\n             cart.branch ?\n             <>\n             <Typography className={classes.center}>Địa chỉ: {cart.branch.address}, {cart.branch.ward} , {cart.branch.district}</Typography>\n            <Typography className={classes.center}>Điện thoại: {cart.branch.phone}</Typography>\n             </>:\n            //  get current branch\n            <>\n             <Typography className={classes.center}>Địa chỉ: {info.store.district}, P. {info.store.ward} ,Q. {info.store.district}, {info.store.province}</Typography>\n             <Typography className={classes.center}>Điện thoại: {info.store.phone}</Typography>\n            </>\n           } */}\n            \n\n            {/*  */}\n            <Typography className={classes.title} style={{fontSize: \"13.5px\"}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n            <Typography className={classes.center}>Mã HĐ: {code}</Typography>\n            <Typography className={classes.center} style={{marginBottom:10}}>Ngày: {date? date: orderTime}</Typography>\n           \n            <Box style={{marginBottom:5}}>\n              <Typography className={classes.text} >Thu ngân: {cart.created_by_user? cart.created_by_user.name: info.user.name}</Typography>\n              <Typography className={classes.text} >Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n            </Box>\n            {/* List */}\n              \n            {type ==='large'?\n            <>\n              <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Đơn giá</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL</Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={4}>\n                          <   Typography className={classes.text} >{row.name}</Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.unit_price}/></Typography>\n                            </Grid>\n                            <Grid item xs={2}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity}/></Typography>\n                            </Grid>\n                            <Grid item xs={3}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                    );\n                })} \n                </>:\n\n                <>\n                 <Divider classes={{root: classes.divider}}/>\n                    <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={7}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                        </Grid>\n                        <Grid item xs={5}>\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>T.Tiền</Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                \n                    {item.map((row, index) => {\n                    return (\n                        <>\n                          <Grid container direction=\"row\" justifyContent=\"space-between\">\n                            <Grid item xs={7}>\n                              <Typography className={classes.text} >{row.name}</Typography>\n                              <ListItem style={{padding:0, margin:0}}>\n                             <Typography className={classes.text} ><ThousandFormat value={row.quantity}/> x <ThousandFormat value={row.unit_price}/></Typography>\n                              </ListItem>\n                            </Grid>\n                            <Grid item xs={5}>\n                            <Typography className={classes.text} style={{textAlign: \"center\"}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                            </Grid>\n                        </Grid>\n                        <Divider classes={{root: classes.divider}}/>\n                        </>\n                     );\n                  })} \n\n                </>}\n              \n\n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:10}}>\n              <Grid item xs={5}>\n                {Number(cart.discount) > 0 || Number(cart.otherFee) >0?\n                  <>\n                  <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                  <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\n                  </>\n                :null}\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Khách đưa:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền thối:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                {Number(cart.discount) > 0 || Number(cart.otherFee) >0?\n                  <>\n                    <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                    <Typography >\n                      <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\n                    </Typography>\n                 </>\n                :null}\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount +cart.otherFee }/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount + cart.otherFee)} /></Typography>\n\n              </Grid>\n            </Grid>\n            {store_setting.printReceiptWhenSell.contentNote?\n            <Box>\n            <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n\n            <Typography className={classes.center}> --------------------------</Typography>\n            {link? \n            <>\n                <Typography className={classes.center}> Mở camera và quét mã để truy cập trang web</Typography>\n                <div className={classes.centerQR} style={{marginBottom:10, marginTop:10 }}>\n                   {/* <QRCode value={link}  style={{height:\"50%\", width:\"50%\"}}/> */}\n                   <QRCode value={link}  size={65}/>\n                </div> \n                </>\n            : null}\n            <Typography className={classes.center}>Cảm ơn và hẹn gặp lại !</Typography> \n        </div>\n    )\n}\n\nexport const ReceiptPrinter = ({cart, date,code,type}) => {\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  var link = store_setting?.custom_web;\n  var logo  = store_setting?.img_url ;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n  // console.log(\"typetypetype\",type)\n  if(type !== 'other'){\n    return <NomalReceiptPrinter cart={cart} date={date} code={code} type={type}/>\n  }\n \n  return (\n      <div style={{padding:30, }} >\n          {/* Logo */}\n          {/* <Typography className={classes.title} style={{fontSize: \"18px\", marginBottom:-2}}>HOÁ ĐƠN BÁN HÀNG</Typography>\n          <Typography className={classes.center} style={{ fontSize: \"12px\", marginBottom:15}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography> */}\n          <Grid container justifyContent='space-between'  alignItems='center' style={{marginBottom:15}}>\n              \n              <Grid>\n              <Typography className={classes.title} style={{fontSize: \"18px\"}}>PHIẾU XUẤT KHO</Typography>\n              <Typography className={classes.center} style={{ fontSize: \"12px\"}}>Ngày: {date? date: orderDate} - Mã HĐ: {code}</Typography>\n              </Grid>\n              <Grid >\n              <Typography className={classes.Largetext} style={{marginTop:10}}> <b>Khách hàng:</b> {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography> \n              <Typography className={classes.Largetext} ><strong>Điện thoại:</strong> {cart.customer?.phone} </Typography> \n              </Grid>\n          </Grid>\n\n          {/* <Box style={{marginBottom:10}}>\n            <Grid container>\n              <Grid item xs={7}><Typography className={classes.Largetext} style={{fontWeight:500}}>Khách hàng: {cart.customer? cart.customer?.name :\"Khách lẻ\"} </Typography>  </Grid>\n              <Grid item xs={5}><Typography className={classes.Largetext} style={{fontWeight:500}}>Điện thoại: {cart.customer?.phone} </Typography>  </Grid>\n            </Grid>\n            <Typography className={classes.Largetext} style={{fontWeight:500}}>Địa chỉ: {cart.customer?.address } </Typography> \n          </Box> */}\n          {/* List */}\n            <Divider classes={{root: classes.divider}}/>\n              <ListItem  style={{margin:0, padding:0,}}>\n                  <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{marginTop:3, marginBottom:3}} >STT</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Tên hàng hoá, dịch vụ</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn vị</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Số lượng</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Đơn giá</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n                  <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                        <Typography className={clsx(classes.Largetext,classes.weight)} style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3}}>Thành tiền</Typography>\n                        <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                  </ListItem>\n              </ListItem>\n            <Divider classes={{root: classes.divider}}/>      \n                {item.map((row, index) => {\n                  return (\n                    <>\n                    <ListItem  style={{margin:0, padding:0,}}>\n                        <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:400}} >\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                              <Typography className={clsx(classes.Largetext)}style={{marginTop:2, marginBottom:2}} >{index +1}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width:2100 }}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"left\",marginTop:2, marginBottom:2, paddingLeft:4}}>{row.name}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between',width: 620 }}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}>{row.quantity_per_unit ?row.quantity_per_unit :\"Cái\"}</Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:2, marginBottom:2}}><ThousandFormat value={ row.quantity}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 750}}>\n                              <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"right\", marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={ row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                        <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 950}}>\n                              <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:2, marginBottom:2, paddingRight:4}}><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                              <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n                        </ListItem>\n                  </ListItem>\n                   <Divider classes={{root: classes.divider}}/>  \n                   \n                  </>\n                  );\n              })} \n            {/* <Divider classes={{root: classes.divider}}/>   */}\n          <ListItem  style={{margin:0, padding:0,}}>    \n            <ListItem style={{margin:0, padding:0, justifyContent:'space-between' , width:3120}} >\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                  <Typography className={clsx(classes.Largetext,)}style={{marginTop:3, marginBottom:3, fontWeight:600}} >TỔNG CỘNG</Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem />\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 650}}>\n                  <Typography className={clsx(classes.Largetext)}style={{flexGrow:1,textAlign: \"center\",marginTop:3, marginBottom:3, fontWeight:600}}><ThousandFormat value={ item?.reduce((sum,a) => sum + Number(a.quantity),0)}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n            <ListItem style={{margin:0, padding:0,justifyContent:'space-between', width: 1700}}>\n                  <Typography className={clsx(classes.Largetext)} style={{flexGrow:1,textAlign: \"right\",marginTop:3, marginBottom:3, paddingRight:4, fontWeight:600}}><ThousandFormat value={cart.total_amount}/></Typography>\n                  <Divider orientation=\"vertical\" classes={{root: classes.divider}} flexItem/>\n            </ListItem>\n        </ListItem>\n        <Divider classes={{root: classes.divider}}/>  \n        <ListItem  style={{margin:0, padding:0,justifyContent:'space-between' , }}> \n            <ListItem  style={{margin:0, padding:0,}}> \n                <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n                <Typography className={clsx(classes.Largetext)} style={{fontWeight:600,marginTop:2, marginBottom:2,marginLeft:5}}>Viết bằng chữ:</Typography>\n                <Typography className={clsx(classes.Largetext)} style={{marginTop:2, marginBottom:2,marginLeft:5, fontStyle:'italic'}}> {new Docso().doc(Number(cart.total_amount))} đồng./.</Typography>\n            </ListItem> \n            <Divider orientation=\"vertical\" classes={{root: classes.divider}}  flexItem/>\n\n        </ListItem> \n        <Divider classes={{root: classes.divider}}/>  \n        \n      {store_setting.printReceiptWhenSell.contentNote?\n      <Box>\n      <ReactQuill theme=\"bubble\"  value={store_setting.printReceiptWhenSell.contentNote}style={{color:\"#000\", fontSize:'8px',height:75}} readOnly={true} /></Box>:null}\n\n      <div>\n          <Grid container justifyContent='space-around' style={{marginTop:20}}>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người mua hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người giao hàng </Typography>  </Grid>\n            <Grid item xs={4}><Typography className={classes.Largetext} style={{fontWeight:500,textAlign: \"center\",}}>Người bán hàng </Typography>  </Grid>\n          </Grid>\n        </div> \n      </div>\n  )\n\n}\n\nexport const ImportReceiptPrinter = ({cart, date}) => {\n  const info = useSelector((state) => state.info);\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const item = cart.cartItem? cart.cartItem :cart.details\n    return (\n          <div >\n\n          {/*  */}\n          <Typography className={classes.title} >PHIẾU NHẬP HÀNG</Typography>\n          <Typography className={classes.center}>Mã phiếu: {}</Typography>\n          <Typography className={classes.center} style={{marginBottom:25}}>Thời gian: {date? date: orderTime}</Typography>\n        \n          \n          <Typography className={classes.text} >Chi nhánh nhập: {cart.branch ? cart.branch.name :info.branch.name}</Typography>\n          <Typography className={classes.text} >Người tạo: {cart.created_by_user ? cart.created_by_user.name :info.user.name}</Typography>\n          <Typography className={classes.text} style={{marginBottom:10}}>Nhà cung cấp: {cart.supplier?.name} </Typography>\n        \n          {/* List */}\n      \n          <Divider classes={{root: classes.divider}}/>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >STT</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Mã hàng</Typography>\n                  </Grid>\n                  <Grid item xs={4}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Sản phẩm</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >Đơn giá</Typography>\n                  </Grid>\n                  <Grid item xs={1}>\n                  <Typography className={clsx(classes.text,classes.weight)} >SL</Typography>\n                  </Grid>\n                  <Grid item xs={2}>\n                  <Typography className={clsx(classes.text,classes.weight)} >T.Tiền</Typography>\n                  </Grid>\n              </Grid>\n              <Divider classes={{root: classes.divider}}/>      \n\n         \n                  {item.map((row, index) => {\n                  return (\n                      <>\n                     \n                      <Grid container direction=\"row\" justifyContent=\"space-between\">\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{index+1}</Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.bar_code}</Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                        <Typography className={clsx(classes.text,classes.weight)} >{row.name}</Typography>\n                        </Grid>\n                       \n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.unit_price}/></Typography>\n                        </Grid>\n                        <Grid item xs={1}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity}/></Typography>\n                        </Grid>\n                        <Grid item xs={2}>\n                        <Typography className={clsx(classes.text,classes.weight)} ><ThousandFormat value={row.quantity * row.unit_price}/></Typography>\n                        </Grid>\n                    </Grid>\n                    <Divider classes={{root: classes.divider}}/>      \n                      </>\n                  );\n              })}\n            \n            <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}>\n              <Grid item xs={5}>\n                <Typography className={clsx(classes.text,classes.weight)}> Tổng tiền hàng:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> Giảm giá:{\" \"}</Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tổng cộng:{\" \"} \n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Tiền trả NCC:{\" \"}\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>\n                Còn lại:{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography className={clsx(classes.text,classes.weight)}>   <ThousandFormat value={cart.total_amount} /></Typography>\n                <Typography >\n                  <ThousandFormat className={clsx(classes.text,classes.weight)} value={cart.discount} />\n                </Typography>\n                <Typography className={clsx(classes.text,classes.weight)}>  <ThousandFormat value={cart.total_amount - cart.discount}/></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}> <ThousandFormat value={cart.paid_amount} /></Typography>\n                <Typography className={clsx(classes.text,classes.weight)}><ThousandFormat value={cart.paid_amount - (cart.total_amount- cart.discount)} /></Typography>\n\n              </Grid>\n            </Grid>   \n\n        <Grid container direction=\"row\" justifyContent=\"space-around\">\n              <Typography className={clsx(classes.text,classes.weight)}>\n                  Nhà cung cấp\n              </Typography>\n \n            <Typography className={clsx(classes.text,classes.weight)}>\n                  Người lập phiếu\n              </Typography>\n          </Grid>\n      </div>\n    )\n}\n\n","import React, { useEffect } from 'react'\nimport {Grid,Card,Box,Tooltip,TextField,ListItem,Divider,IconButton,TableRow,TableCell,TableBody,Typography} from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport {withStyles} from \"@material-ui/core/styles\";\n\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport clsx from \"clsx\";\nimport WarningIcon from '@material-ui/icons/Warning';\nconst ButtonQuantity = (props) =>{\n    const classes = useStyles();\n    const {quantity,setQuantity, limit, isReturn,branch_quantity,isMini,miniCart,isCustomer,isManageInventory, mini} = props;\n    const [show, setShow] = React.useState('none');\n  \n    const handleIncrement = () => {\n      //them cai nay\n       if (limit && Number(limit) === 0){\n        setQuantity(quantity)\n        return\n      }\n\n      else if(limit) {\n        if(quantity >= Number(limit)) {\n          setQuantity(quantity)\n          return\n        } \n      } \n     \n      setQuantity(quantity+ 1);\n    };\n  \n    const handleDecrement = () => {\n      if(quantity >=1){setQuantity(quantity- 1);}\n    };\n\n    \n    const handleShow = () => {\n      setShow('block');\n    };\n    const handleClose = () => {\n      setShow('none');\n    };\n  \n    const HtmlTooltip = withStyles((theme) => ({\n      tooltip: {\n        backgroundColor: '#9f9fa1',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(12),\n        border: '1px solid #dadde9',\n      },\n    }))(Tooltip);\n\n    var error_quantity = quantity > branch_quantity;\n\n    const handleQuantity = (e) =>{\n\n      //  if (!isNaN(e.target.value) && e.target.value >0){\n      //   setQuantity(parseInt(e.target.value))\n      // } \n     setQuantity(parseInt(e.target.value))\n    }\n   \n    return(\n    <ListItem onMouseOver={handleShow} onMouseOut={handleClose} style={isMini ||miniCart? {padding:0,paddingTop:5,paddingBottom:5, margin:0} : {}} > \n\n        {error_quantity && isMini && isManageInventory?\n            <HtmlTooltip title={ <React.Fragment>\n                <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>   <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n                </React.Fragment> } >\n              <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n          </HtmlTooltip>:null}\n\n          {/* margin:isMini?0:null, padding:isMini?0:null */}\n         {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity && isManageInventory ? \"red\":null,margin:isMini?0:null, padding:isMini?0:null,}} aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleDecrement} >\n            <RemoveIcon fontSize=\"inherit\" />\n          </IconButton> :null}\n             \n           <TextField  variant={isMini || miniCart? \"outlined\" : \"standard\"} id=\"standard-basic\" style={{width:isMini||miniCart?35 + (quantity).toString().length*10-10:35,minWidth:45,padding:0, marginLeft:isCustomer || isMini?20:null,marginRight:isCustomer|| isMini?20:null}} className={clsx(classes.textfieldClass,(show === 'none'||miniCart) ? classes.padding : null)}  size=\"small\" inputProps={{style: { textAlign: isMini?\"center\": \"right\", color: error_quantity  && isManageInventory  ? \"red\":null, fontWeight:error_quantity  && isManageInventory ? 600:null,\n              backgroundColor:error_quantity  && isManageInventory ?\"#ffe8e8\":null, height:miniCart?12:null\n            }}} \n          value={quantity} onChange={handleQuantity}/>\n     \n           \n          {isReturn ? `/${limit}`: null}\n          {!miniCart? <IconButton style={{ display: isMini?true:show ,color: error_quantity  && isManageInventory  ? \"red\":null ,margin:isMini?0:null, padding:isMini?0:null,} } aria-label=\"delete\" className={classes.margin} size=\"small\" onClick={handleIncrement}>\n            <AddIcon fontSize=\"inherit\" />\n          </IconButton>:null}\n\n\n\n{/* Error  */}\n          {error_quantity && !isMini  && isManageInventory  && !miniCart?\n     \n        <HtmlTooltip\n        title={\n          <React.Fragment>\n            <Typography color=\"inherit\"><b>Vượt tồn kho</b> </Typography>\n            <u>{\"Tồn kho:\"}</u> <b>{branch_quantity}</b> \n           \n          </React.Fragment>\n        }\n      >\n         <WarningIcon fontSize=\"small\"  style={{fill: \"red\"}}/> \n      </HtmlTooltip>\n         \n          \n          :null}\n\n    </ListItem>  \n    )\n  }\n\nexport default ButtonQuantity\n","import axiosClient from \"./axiosClient\";\n\nconst orderApi = {\n  addOrder: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/addOrder`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/orders`;\n    return axiosClient.get(url, {});\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  getOrder: (storeUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/orders/${orderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders`;\n    return axiosClient.get(url, { params: query });\n  },\n  editOrderApi: (storeUuid, branchUuid, orderUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.put(url, body);\n  },\n  deleteOrder: (storeUuid, branchUuid, orderUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/${orderUuid}`;\n    return axiosClient.delete(url);\n  },\n  deleteAll: (storeUuid, branchUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/orders/deleteAll`;\n    return axiosClient.delete(url);\n  },\n\n  // api for customer order\n  searchCustomerOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders`;\n    return axiosClient.get(url, { params: query });\n  },\n  processCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/process`;\n    return axiosClient.get(url);\n  },\n  confirmCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/confirm`;\n    return axiosClient.post(url, body);\n  },\n  cancleCustomerOrder: (storeUuid, branchUuid, customerOrderId) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/cancel`;\n    return axiosClient.post(url);\n  },\n  paymentCustomerOrder: (storeUuid, branchUuid, customerOrderId, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/payment`;\n    return axiosClient.post(url, body);\n  },\n  updateCustomerOrder: (storeUuid, branchUuid, customerOrderId, newDetails) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/customerOrders/${customerOrderId}/updateDetails`;\n    return axiosClient.post(url, {\n      details: JSON.stringify(newDetails),\n    });\n  },\n};\nexport default orderApi;\n","import { Button, notification, Space } from \"antd\";\n\nconst openNotification = (type, message, description) => {\n  notification[type]({\n    message: message,\n    description: description,\n    placement: \"bottomRight\",\n    // placement: \"topRight\",\n    // style:{marginTop:60}\n    // style:{backgroundColor:'#4BB04F',  fontWeight:500}\n\n  });\n};\nexport default openNotification;\n","import axiosClient from \"./axiosClient\";\nconst supplierApi = {\n  createSupplier: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/suppliers`;\n    return axiosClient.post(url, body, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n  },\n  getSuppliers: (storeUuid, query) => {\n    const url = `/stores/${storeUuid}/suppliers`;\n    return axiosClient.get(url, {params: query});\n  },\n  getSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.get(url);\n  },\n  deleteSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.delete(url);\n  },\n  inactiveSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"inactive\" });\n  },\n  activeSupplier: (storeUuid, supplierUuid) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.put(url, { status: \"active\" });\n  },\n  updateSupplier: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}`;\n    return axiosClient.post(url, body);\n  },\n  payDebt: (storeUuid, supplierUuid, body) => {\n    const url = `/stores/${storeUuid}/suppliers/${supplierUuid}/payDebt`;\n    return axiosClient.put(url,body);\n  },\n};\nexport default supplierApi;\n","import React, { useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\n\n//import project\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport { grey } from \"@material-ui/core/colors\";\n\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nconst ImportReturnSummary = ({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  let _value = null;\n  useEffect(() => {}, [data]);\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch?.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n              Trả đơn nhập\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.purchase_order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.supplier?.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\"> Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})</Typography>\n          <Typography variant=\"body2\">{calculateTotalReturnQuantity(data.details)}</Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">NCC đã trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng nhập\n        </Button>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default ImportReturnSummary;\n","import React, { useEffect } from \"react\";\nimport {\n  Card,\n  ListItem,\n  DialogContent,\n  Box,\n  Grid,\n  TableBody,\n  Typography,\n  TableCell,\n  TableRow,\n  IconButton,\n  TextField,\n} from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport * as _ from \"lodash\";\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport update from \"immutability-helper\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport moment from \"moment\";\nimport ImportReturnSummary from \"../../CheckoutComponent/CheckoutSummary/ImportReturnSummary/ImportReturnSummary\";\n\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n// import library\nimport * as HeadCells from \"../../../assets/constant/tableHead\";\nimport * as TableType from \"../../../assets/constant/tableType\";\nimport SearchProduct from \"../../SearchBar/SearchProduct\";\nimport TableHeader from \"../../TableCommon/TableHeader/TableHeader\";\nimport TableWrapper from \"../../TableCommon/TableWrapper/TableWrapper\";\nimport * as Input from \"../../TextField/NumberFormatCustom\";\nimport ButtonQuantity from \"../../Button/ButtonQuantity\";\nimport purchaseReturnApi from \"../../../api/purchaseReturnApi\";\n\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport { ReturnCartMiniTableRow } from \"../../../components/MiniTableRow/MiniTableRow\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InventoryReturnPopUp(props) {\n  const { purchaseOrder, classes, handleCloseReturn, reload, reloadDetail } =\n    props;\n  const theme = useTheme();\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  // 2. Table sort\n  const [order, setOrder] = React.useState(\"desc\");\n  const [orderBy, setOrderBy] = React.useState(\"stt\");\n  const handleRequestSort = (event, property) => {\n    const isAsc = orderBy === property && order === \"asc\";\n    setOrder(isAsc ? \"desc\" : \"asc\");\n    setOrderBy(property);\n  };\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [purchaseReturn, setPurchaseReturn] = React.useState({\n    purchase_order_code: purchaseOrder.purchase_order_code,\n    purchase_order_id: purchaseOrder.id,\n    branch: purchaseOrder.branch,\n    supplier: purchaseOrder.supplier,\n    supplier_id: purchaseOrder.supplier_id,\n    branch_id: purchaseOrder.branch_id,\n    total_amount: 0,\n    details: purchaseOrder.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      purchase_order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: \"cash\",\n    paid_amount: \"0\",\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = _.cloneDeep(purchaseReturn);\n\n    newPurchaseReturn.details[itemIndex].selectedBatches = newBatches;\n    newPurchaseReturn.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Trả hàng thất bại\",\n  });\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    purchaseReturn.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    const newPurchaseReturn = update(purchaseReturn, {\n      total_amount: { $set: total },\n      paid_amount: { $set: total },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    if (newQuantity === 0) {\n      handleDeleteItem(itemId);\n      return;\n    }\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = purchaseReturn.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newPurchaseReturn = update(purchaseReturn, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      paid_amount: { $set: paidAmount },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newPurchaseReturn = update(purchaseReturn, {\n      payment_method: { $set: paymentMethod },\n    });\n    setPurchaseReturn(newPurchaseReturn);\n  };\n\n  const dispatch = useDispatch();\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const export_date = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n    const body = {\n      purchase_order_uuid: purchaseOrder.uuid,\n      supplier_id: purchaseReturn.supplier_id,\n      total_amount: purchaseReturn.total_amount.toString(),\n      payment_method: purchaseReturn.payment_method,\n      paid_amount: purchaseReturn.paid_amount.toString(),\n      status:\n        purchaseReturn.paid_amount >= purchaseReturn.total_amount\n          ? \"closed\"\n          : \"debt\",\n      details: purchaseReturn.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        purchase_order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        purchase_order_batches: detail.purchase_order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      export_date,\n    };\n\n    try {\n      const res = await purchaseReturnApi.removeInventory(\n        store_uuid,\n        purchaseOrder.branch.uuid,\n        body\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Trả hàng thành công: ${res.data.purchase_return_code}`\n        )\n      );\n      reload();\n      reloadDetail();\n      handleCloseReturn();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Trả hàng thất bại!\"));\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  return (\n    <>\n      <Grid\n        container\n        direction=\"row\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n      >\n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 20 }}>\n            Trả hàng nhập\n          </Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={handleCloseReturn}\n        >\n          <CloseIcon />\n        </IconButton>\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          spacing={2}\n        >\n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n                {/* JSON data attribute phải giongso table head id */}\n\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n                {!xsScreen ? (\n                  <TableWrapper isCart>\n                    <TableHeader\n                      classes={classes}\n                      order={order}\n                      orderBy={orderBy}\n                      onRequestSort={handleRequestSort}\n                      headerData={HeadCells.ImportReturnHeadCells}\n                    />\n                    <TableBody>\n                      {purchaseReturn.details.map((detail, index) => (\n                        <ImportReturnTableRow\n                          handleProductPriceChange={handleProductPriceChange}\n                          handleItemQuantityChange={handleItemQuantityChange}\n                          handleChangeBatches={handleChangeBatches}\n                          detail={detail}\n                        />\n                      ))}\n                    </TableBody>\n                  </TableWrapper>\n                ) : (\n                  purchaseReturn.details.map((detail, index) => (\n                    <ReturnCartMiniTableRow\n                      handleProductPriceChange={handleProductPriceChange}\n                      handleItemQuantityChange={handleItemQuantityChange}\n                      detail={detail}\n                      isCart={false}\n                    />\n                  ))\n                )}\n              </Box>\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <ImportReturnSummary\n                data={purchaseReturn}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n    </>\n  );\n}\n\nexport default InventoryReturnPopUp;\nfunction ImportReturnTableRow({\n  detail,\n  handleProductPriceChange,\n  handleItemQuantityChange,\n  handleChangeBatches,\n}) {\n  const classes = useStyles();\n  const [show, setShow] = React.useState(\"none\");\n  useEffect(() => {}, [detail]);\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>\n        {detail.product_code}\n      </TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      {/* <TableCell align=\"left\">{detail.bar_code}</TableCell> */}\n      <TableCell align=\"right\">\n        {\" \"}\n        <Input.ThousandFormat value={detail.unit_price} />\n      </TableCell>\n      <TableCell align=\"right\">\n      {canFixPriceSell.status && canFixPriceSell.returnCart?\n        <Input.ThousandSeperatedInput\n          id=\"standard-basic\"\n          style={{ width: 70 }}\n          size=\"small\"\n          inputProps={{ style: { textAlign: \"right\" } }}\n          defaultPrice={detail.returnPrice}\n          onChange={(e) => handleChangePrice(e.target.value)}\n        />:\n        <Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n      </TableCell>\n\n      <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n      <TableCell align=\"right\" className={classes.boldText}>\n        <Input.VNDFormat\n          value={Number(detail.returnQuantity) * Number(detail.returnPrice)}\n        />\n      </TableCell>\n    </TableRow>\n  );\n}\n","import { makeStyles, useTheme,withStyles ,} from \"@material-ui/core/styles\";\nimport { grey} from '@material-ui/core/colors'\n\nexport default makeStyles((theme)=>({\n  root: {\n    '& > *': {\n      borderBottom: 'unset',\n    },\n  },\n  rowClicked:{\n    //backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n    backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    \n  },\n  row:{\n    '&:hover': {\n      // backgroundColor: theme.customization.mode === \"Light\" ? theme.palette.secondary.light : theme.palette.secondary.main ,\n      backgroundColor: theme.customization.mode === \"Light\" ?grey[200] : grey[700] ,\n    },\n  },\n  large: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  fontName:{\n    fontWeight: 450,\n  }\n}));","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import project\nimport {\n  CardHeader,\n  Tooltip,\n  TextField,\n  IconButton,\n  InputAdornment,\n  Box,\n  Button,\n  Typography,\n  MenuItem,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select\n} from \"@material-ui/core\";\n\n// import - icon\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport ViewColumnTwoToneIcon from \"@material-ui/icons/ViewColumnTwoTone\";\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport SearchTwoToneIcon from \"@material-ui/icons/SearchTwoTone\";\nimport barcodeIcon from \"../../../assets/img/icon/barcode_grey.png\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport NoteAddTwoToneIcon from \"@material-ui/icons/NoteAddTwoTone\";\n// import third party\nimport xlsx from \"xlsx\";\nimport SimpleModal from \"../../Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../Modal/ModalWrapperWithClose\";\nimport { applyMiddleware } from \"@reduxjs/toolkit\";\nimport { DeleteForever } from \"@material-ui/icons\";\nimport DeleteForeverOutlined from \"@material-ui/icons/DeleteForeverOutlined\";\n// import SimpleModal from \"../../Modal/ModalWrapper\";\n\n//--thu vien nay bij loi font\n// import jsPDF from 'jspdf'\n// import 'jspdf-autotable'\nconst cell = [\"A1\", \"B1\", \"C1\", \"D1\", \"E1\", \"F1\", \"G1\", \"H1\", \"I1\", \"J1\", \"K1\",];\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    icon: {\n      color: theme.customization.mode === \"Light\" ? grey[700] : grey[50],\n    },\n    toolbar: {\n      justifyContent: \"left\",\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 10,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    search: {\n      borderRadius: theme.customization.borderRadius,\n      height: 40,\n      marginLeft: 10,\n      marginTop: 0,\n      //\n      width: 260,\n      backgroundColor:\n        theme.customization.mode === \"Light\" ? grey[50] : grey[700],\n    },\n    actions: {\n      marginTop: 0,\n    },\n  })\n);\nconst exportExcel = (dataTable, tableType, columnsToKeep = []) => {\n  try {\n    const newData = []\n    dataTable.map((row) => {\n      let rowRs = {}\n      columnsToKeep.map((cl) => {\n        rowRs = { ...rowRs, [cl.displayName]: row[cl.dbName] }\n      })\n      newData.push(rowRs)\n    })\n    const workSheet = xlsx.utils.json_to_sheet(newData);\n    const workBook = xlsx.utils.book_new();\n\n    xlsx.utils.book_append_sheet(workBook, workSheet, tableType);\n    //Buffer\n    //let buf=XLSX.write(workBook,{bookType:\"xlsx\",type:\"buffer\"})\n    //Binary string\n    xlsx.write(workBook, { bookType: \"xlsx\", type: \"binary\" });\n    //Download\n    xlsx.writeFile(workBook, `${tableType}.xlsx`);\n  } catch (err) {\n    console.log(err)\n  }\n};\n\nconst ToolBar = (props) => {\n  const {\n    dataTable,\n    tableType,\n    handlePrint,\n    textSearch,\n    handleToggleFilter,\n    hasImport,\n    importByJSON,\n    excel_head,\n    excel_data,\n    excel_name,\n    columnsToKeep,\n    searchKey, setSearchKey,\n    orderByOptions, orderBy, setOrderBy,\n    handleRemoveFilter,\n    sort, setSort,\n    isOnlySearch,\n    getDataExport,\n    customizable,\n    handleDeleteAll,\n    extra,\n  } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [openImport, setOpenImport] = useState(false);\n  const [custom, setCustom] = useState(true)\n  const [customCl, setCustomCl] = useState({\n    name: \"Sản phẩm\",\n    bar_code: \"Mã vạch\",\n    category_id: \"Danh mục\",\n    list_price: \"Giá bán\",\n    standard_price: \"Giá vốn\",\n    quantity_per_unit: \"Đơn vị\",\n    quantity: \"Tồn kho\",\n    min_reorder_quantity: \"Tồn nhỏ nhất\",\n    max_order: \"Tồn lớn nhất\",\n    img_urls: \"Hình ảnh\",\n    has_batches: \"Lô\",\n    description: \"Miêu tả\"\n  })\n  // const [json, setJson] = useState(null);\n\n  const readUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    if (e.target.files) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        // debugger\n        const data = e.target.result;\n        const workbook = xlsx.read(data, { type: \"array\" });\n        const sheetName = workbook.SheetNames[0];\n        const worksheet = workbook.Sheets[sheetName];\n        const myJson = xlsx.utils.sheet_to_json(worksheet)\n        try {\n          const json = myJson.map((product) => ({\n            name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n            list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n            standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n            category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n            bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n            quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n            min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n            description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n            has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n            max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n            img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n            quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n          }))\n          setJsonData(json);\n        } catch (err) {\n          console.log(err)\n        }\n      };\n      reader.readAsArrayBuffer(e.target.files[0]);\n    }\n  };\n  const [excel, setExcel] = useState([])\n  const readCustomerUploadFile = (e, setJsonData) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          const json = excelLines.map((line) => ({\n            name: line[\"Tên khách hàng\"],\n            phone: line[\"Số điện thoại\"],\n            address: line[\"Địa chỉ\"],\n            email: line[\"Email\"],\n            payment_info: line[\"Thông tin thanh toán\"],\n            points: line[\"Tích điểm\"],\n            total_payment: line[\"Tổng tiền mua\"],\n            debt: line[\"Còn nợ\"],\n          }))\n          setJsonData(json);\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  };\n  const handleImport = () => {\n    setOpenImport(false);\n    if (custom && customizable) {\n      console.log(\"customCl\",customCl)\n      setListCl([])\n      const json = excel.map((product) =>\n      \n       {\n        console.log(\"customCl.img_urls\",product[customCl.img_urls])\n\n         return ({\n        name: product[customCl.name]?.toString()? product[customCl.name]?.toString(): \"\",\n        list_price: product[customCl.list_price]?.toString()? product[customCl.list_price]?.toString(): \"\",\n        standard_price: product[customCl.standard_price]?.toString()?product[customCl.standard_price]?.toString() : \"\",\n        category_name: product[customCl.category_id]?.toString()? product[customCl.category_id]?.toString(): \"\",\n        bar_code: product[customCl.bar_code]?.toString()?product[customCl.bar_code]?.toString() : \"\",\n        quantity_per_unit: product[customCl.quantity_per_unit]?.toString()?product[customCl.quantity_per_unit]?.toString() : \"\",\n        min_reorder_quantity: product[customCl.min_reorder_quantity]?.toString() ?  product[customCl.min_reorder_quantity]?.toString() : \"\",\n        description: product[customCl.description]?.toString() ? product[customCl.description]?.toString(): \"\",\n        has_batches: product[customCl.has_batches]?.toString() ? product[customCl.has_batches]?.toString() : 0,\n        max_order: product[customCl.max_order]?.toString() ? product[customCl.max_order]?.toString() : \"\",\n        // img_urls: product[customCl.img_urls]?.toString().split(\",\") ? product[customCl.img_urls]?.toString().split(\",\") : \"\",\n        img_urls: product[customCl.img_urls] ? product[customCl.img_urls] : \"\",\n\n        quantity: product[customCl.quantity]?.toString() ? product[customCl.quantity]?.toString()  : \"0\"\n      })})\n      importByJSON(json);\n    } else {\n      importByJSON(jsonData);\n    }\n  };\n  const [jsonData, setJsonData] = useState([]);\n\n  const [listCl, setListCl] = useState([]);\n\n  useEffect(() => {\n    setListCl([])\n  }, [openImport])\n\n  const readCustomizedProduct = (e) => {\n    e.preventDefault();\n    try {\n      if (e.target.files) {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const data = e.target.result;\n          const workbook = xlsx.read(data, { type: \"array\" });\n          const sheetName = workbook.SheetNames[0];\n          const worksheet = workbook.Sheets[sheetName];\n          const excelLines = xlsx.utils.sheet_to_json(worksheet)\n          setExcel(excelLines)\n          setListCl(Object.keys(excelLines[0]))\n        };\n        reader.readAsArrayBuffer(e.target.files[0]);\n      }\n    } catch(err) {\n      console.log(err)\n    }\n    \n  };\n  return (\n\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\">\n        <Grid item>\n          <Grid container direction=\"row\">\n            <Tooltip title=\"Nhấn Enter để tìm kiếm\">\n              <TextField\n                style={{ marginTop: 12, marginLeft: 10 }}\n                variant=\"outlined\"\n                onKeyUp={(e) => {\n                  if (e.key === \"Enter\" || e.target.value === \"\") {\n                    setSearchKey(e.target.value)\n                  }\n                }\n                }\n                placeholder={textSearch} /*placeholder='Tìm kiếm ...'*/\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchTwoToneIcon className={classes.icon} />\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23 }}\n                        src={barcodeIcon}\n                      />\n                    </InputAdornment>\n                  ),\n                  className: classes.search,\n                }}\n              />\n            </Tooltip>\n            {!isOnlySearch &&\n\n              <div style={{ marginLeft: 30, display: 'flex', flexDirection: 'row', gap: 10 }}>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Sắp xếp theo\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"orderBy\"\n                    value={orderBy}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setOrderBy(e.target.value)}\n                  >\n                    {orderByOptions?.map(o => <MenuItem value={o.value}>{o.label}</MenuItem>)}\n                  </Select>\n                </FormControl>\n                <FormControl>\n                  <InputLabel variant=\"standard\" htmlFor=\"uncontrolled-native\">\n                    Thứ tự\n                  </InputLabel>\n                  <Select\n                    autoWidth={true}\n                    labelId=\"sort\"\n                    value={sort}\n                    label=\"Sap xep theo\"\n                    onChange={(e) => setSort(e.target.value)}\n                  >\n                    <MenuItem value=\"asc\">Tăng dần</MenuItem>\n                    <MenuItem value=\"desc\">Giảm dần</MenuItem>\n                  </Select>\n                </FormControl>\n                <Button onClick={handleRemoveFilter}>\n                  Bỏ lọc\n                </Button>\n              </div>\n            }\n            {extra ? extra : null}\n          </Grid>\n        </Grid>\n        \n        <Grid item>\n          <Box className={classes.actions}>\n            <Tooltip\n              title=\"Nhập excel\"\n              style={{ display: hasImport ? null : \"none\" }}\n            >\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => setOpenImport(true)}\n              >\n                <NoteAddTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"Xuất excel\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={async () => {\n                  if (getDataExport) {\n                    const dataTableFull = await getDataExport();\n                    exportExcel(dataTableFull, tableType, columnsToKeep);\n                  } else {\n                    exportExcel(dataTable, tableType, columnsToKeep);\n                  }\n                }}\n              >\n                <GetAppTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            {/* {handleDeleteAll ? <Tooltip\n              title=\"Xóa tất cả hóa đơn\"\n            >\n              <IconButton\n                aria-label=\"deletealll \"\n                onClick={() => handleDeleteAll()}\n              >\n                <DeleteForeverOutlined className={classes.icon} />\n              </IconButton>\n            </Tooltip>: null} */}\n\n            <Tooltip title=\"In danh sách\">\n              <IconButton\n                aria-label=\"filter list\"\n                onClick={() => {\n                  handlePrint();\n                }}\n              >\n                <PrintTwoToneIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n            {/* <Tooltip title=\"Chọn cột\">\n            <IconButton aria-label=\"filter list\">\n              <ViewColumnTwoToneIcon className={classes.icon} />\n            </IconButton>\n          </Tooltip> */}\n            {!isOnlySearch &&\n              <Tooltip title=\"Lọc\">\n                <IconButton aria-label=\"filter list\" onClick={handleToggleFilter}>\n                  <FilterListTwoToneIcon className={classes.icon} />\n                </IconButton>\n              </Tooltip>\n            }\n\n            \n\n          </Box>\n        </Grid>\n      </Grid>\n\n      {openImport && <ModalWrapperWithClose\n        open={openImport}\n        handleClose={() => setOpenImport(false)}\n        title=\"Nhập dữ liệu từ file excel\"\n      >\n\n        {customizable ?\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name, columnsToKeep.filter(cl => cl.dbName != \"product_code\"));\n              }}\n            >\n              Excel mẫu\n            </a> hoặc <a style={{ color: \"blue\", cursor: \"pointer\" }}> tùy chỉnh </a>\n            )\n          </Typography> :\n          <Typography style={{ marginBottom: 15 }}>\n            (Tải về file mẫu:\n            <a\n              style={{ color: \"blue\", cursor: \"pointer\" }}\n              onClick={() => {\n                exportExcel(excel_data, excel_name,  columnsToKeep.filter(cl => cl.dbName != \"total_payment\" && cl.dbName !=\"debt\"));\n              }}\n            >\n              Excel mẫu\n            </a>\n            )\n          </Typography>\n        }\n\n\n        {\n          custom && listCl.length > 0 && excel && customizable &&\n          <Grid container spacing={2} style={{ marginBottom: 15, width: 600, maxWidth: \"90vw\" }} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\n\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tên sản phẩm</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.name} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, name: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá bán</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.list_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, list_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Giá vốn</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" required value={customCl.standard_price} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, standard_price: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Danh mục</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.category_id} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, category_id: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>            \n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mã vạch</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.bar_code} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, bar_code: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Đơn vị</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity_per_unit} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, quantity_per_unit: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn nhỏ nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.min_reorder_quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, min_reorder_quantity: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn lớn nhất</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.max_order} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, max_order: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Hình ảnh (url1, url2,...)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.img_urls} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => setCustomCl({ ...customCl, img_urls: e.target.value })}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Mô tả</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.description} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, description: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Tồn kho</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.quantity} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, quantity: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n            <Grid item sm={6} xs={12}>\n              <Box flexDirection=\"row\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography><b>Lô (Có hoặc không)</b></Typography>\n                <TextField label=\"Tên tùy chỉnh\" value={customCl.has_batches} style={{ minWidth: 150, maxWidth: \"80%\" }} size=\"small\" select variant=\"outlined\" SelectProps={{ native: true }} onChange={(e) => { setCustomCl({ ...customCl, has_batches: e.target.value }) }}>\n                  <option value=\"\" />\n                  {listCl.map((cl) => (\n                    <option key={cl} value={cl}>\n                      {cl}\n                    </option>\n                  ))}\n                </TextField>\n              </Box>\n            </Grid>\n          </Grid>\n        }\n        {custom  && customizable?\n          <form>\n            <label htmlFor=\"upload\">Chọn file <strong>của bạn</strong>: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => { readCustomizedProduct(e) }}\n            />\n          </form>\n          :\n          <form>\n            <label htmlFor=\"upload\">Chọn file: </label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"upload\"\n              onChange={(e) => {\n                if (customizable) {\n                  readUploadFile(e, setJsonData);\n                } else {\n                  readCustomerUploadFile(e, setJsonData);\n                }\n              }}\n            />\n          </form>\n        }\n\n        <Button\n          style={{ marginTop: 40 }}\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          onClick={handleImport}\n        >\n          Nhập\n        </Button>\n      </ModalWrapperWithClose>}\n    </>\n\n  );\n};\n\nexport default ToolBar;\n\nconst studentData = [\n  {\n    id: 1,\n    name: \"Quần dài\",\n    category: \"Thực phẩm\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 2,\n    name: \"Quần đùi\",\n    category: \"Bánh kẹo\",\n    price: 220,\n    import_price: 130,\n  },\n  {\n    id: 3,\n    name: \"Áo dài\",\n    category: \"Đồ dùng\",\n    price: 250,\n    import_price: 120,\n  },\n  {\n    id: 4,\n    name: \"Bánh\",\n    category: \"Quần áo\",\n    price: 520,\n    import_price: 102,\n  },\n  {\n    id: 5,\n    name: \"Kẹo\",\n    category: \"Quần áo\",\n    price: 220,\n    import_price: 100,\n  },\n  {\n    id: 6,\n    name: \"Khăn giấy\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 7,\n    name: \"Quần dài\",\n    category: \"Quần áo\",\n    price: 200,\n    import_price: 100,\n  },\n  {\n    id: 8,\n    name: \"Túi xách\",\n    category: \"Quần áo\",\n    price: 150,\n    import_price: 350,\n  },\n  {\n    id: 9,\n    name: \"Laptop\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 10,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 152,\n  },\n  {\n    id: 11,\n    name: \"Máy tính cầm ta\",\n    category: \"Quần áo\",\n    price: 223,\n    import_price: 152,\n  },\n  {\n    id: 12,\n    name: \"Tập vở\",\n    category: \"Quần áo\",\n    price: 203,\n    import_price: 154,\n  },\n  {\n    id: 13,\n    name: \"Máy tính\",\n    category: \"Quần áo\",\n    price: 1223,\n    import_price: 354,\n  },\n];\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseOrderApi = {\n  addInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/addInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseOrder: (storeUuid, purchaseOrderUuid) => {\n    const url = `stores/${storeUuid}/purchase-orders/${purchaseOrderUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseOrder: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/`;\n    return axiosClient.get(url, { params: query });\n  },\n  editPurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.put(url, body)\n  },\n  deletePurchaseOrder: (storeUuid, branchUuid, purchaseOrdersUuid) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-orders/${purchaseOrdersUuid}`;\n    return axiosClient.delete(url)\n  },\n  updateDetail: (storeUuid, branchUuid, detail) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-order-details/${detail.id}`;\n    return axiosClient.put(url, detail);\n  }\n};\nexport default purchaseOrderApi;\n","export default __webpack_public_path__ + \"static/media/tch.cc1a031b.jpeg\";","import axiosClient from './axiosClient';\n\nconst refundApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/refunds/`;\n    return axiosClient.get(url, {});\n  },\n  getRefund: (storeUuid, refundUuid) => {\n    const url = `stores/${storeUuid}/refunds/${refundUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchRefund: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/refunds/`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default refundApi;\n","import axiosClient from \"./axiosClient\";\n\nconst purchaseReturnApi = {\n  removeInventory: (storeUuid, branchUuid, body) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns/removeInventory`;\n    return axiosClient.post(url, body);\n  },\n  getAllOfBranch: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  },\n  getAllOfStore: (storeUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns`;\n    return axiosClient.get(url, {});\n  },\n  getPurchaseReturn: (storeUuid, purchaseReturnUuid) => {\n    const url = `stores/${storeUuid}/purchase-returns/${purchaseReturnUuid}`;\n    return axiosClient.get(url, {});\n  },\n  searchPurchaseReturn: (storeUuid, branchUuid, query) => {\n    const url = `stores/${storeUuid}/branches/${branchUuid}/purchase-returns`;\n    return axiosClient.get(url, {params: query});\n  }\n};\nexport default purchaseReturnApi;\n","import React from 'react'\n\nconst CategorySelect = (props) => {\n    const {categoryList} =  props \n    return (\n        categoryList.map((category) => <MyOption category={category} currentLevel={0} />)\n\n    )\n}\n\nexport default CategorySelect\n\nconst MyOption = (props) => {\n    const { category, currentLevel } = props\n    let padding = \"\"\n    for (let i = 0; i < currentLevel; i++) {\n        padding += \"\\u00a0\\u00a0\\u00a0\\u00a0\"\n    }\n    try {\n        return (\n            [\n                <option key={category.key} value={category.uuid} >\n                    {padding + category.name}\n                </option>,\n                ...category.children?.map((subCategory) => <MyOption category={subCategory} currentLevel={currentLevel + 1} />)\n            ]\n        )\n    } catch (error) {\n        console.log(category)\n        return []\n    }\n}","import React from 'react'\nimport {Table,TableContainer,Box,Grid,FormControlLabel,Switch,Paper, TablePagination,Typography} from '@material-ui/core';\nimport { Pagination } from 'antd';\n\nconst Paginations = ({ pagingState, setPagingState, list}) => {\n\n  React.useEffect(()=>{\n    window.scrollTo(0, 0);\n  },[list])\n\n\n\n  return (\n    <TablePagination\n        // style={{marginTop:-25,marginBottom:60, marginLeft:-5}}\n        rowsPerPageOptions={[10, 25, 100]}\n        rowsPerPage={10}\n        labelRowsPerPage={\"Dòng\"}\n        component=\"div\"\n        count={pagingState?.total_rows}\n        rowsPerPage={pagingState?.limit}\n        page={pagingState?.page}\n        onPageChange={(e, page) => setPagingState({ ...pagingState, page: page })}\n        onRowsPerPageChange={(e) => setPagingState({ ...pagingState, page: 0, limit: +e.target.value })}\n    />\n    // <Box style={{width:500}}>\n    // <Pagination\n\n    //       style={{minWidth:500}}\n    //         size=\"small\"\n    //         total={pagingState?.total_rows}\n    //         current={pagingState?.page +1}\n    //         onChange={(newCurrent, newPageSize) => {\n    //             const pageSizeChange = pagingState?.limit !== newPageSize;\n    //             if (!pageSizeChange) {\n    //                 setPagingState({ ...pagingState, page: newCurrent -1 })\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n    //             } else {\n    //                 setPagingState({ ...pagingState, page: 0, limit: newPageSize})\n    //                 // tableRef.current && tableRef.current.scrollIntoView();\n\n    //             }\n    //           }}\n    //           showSizeChanger={true}\n    //         />\n  // </Box>\n  )\n}\n\nexport default Paginations","import React from 'react'\nimport MuiAlert from '@material-ui/lab/Alert';\nimport {Snackbar} from '@material-ui/core';\n\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\nconst SnackBarGeneral = (props) => {\n    const {open,status, handleClose} =props;\n    return (\n        <Snackbar\n        anchorOrigin={{ vertical: 'top',horizontal:  'right' }}\n        open={open}\n        onClose={handleClose}\n        autoHideDuration={2000} \n      >\n        <Alert severity={status.style} onClose={handleClose}>\n            {status.message}\n        </Alert> \n      </Snackbar>\n    )\n}\n\nexport default SnackBarGeneral\n","import { Box, Button, Grid, Typography } from \"@material-ui/core\";\nimport { useFormik } from \"formik\";\nimport React, { useState } from \"react\";\nimport VNDInput, { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport ModalWrapper from \"./ModalWrapper\";\nimport * as Yup from \"yup\";\nimport purchaseOrderApi from \"../../api/purchaseOrderApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\nconst PayRemaining = (props) => {\n  const { open, editApiCall, reloadDetail } = props;\n  const handleClose = () => {\n    props.handleClose();\n    formik.resetForm();\n  };\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: { pay: props.debt },\n    validationSchema: Yup.object({\n      pay: Yup.number()\n        .required(\"Vui lòng nhập số tiền\")\n        .lessThan(props.debt + 1, \"Tiền trả phải ít hơn nợ\")\n        .moreThan(0, \"Tiền trả phải lớn hơn 0\"),\n    }),\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  const handleSubmit = async () => {\n    handleClose();\n    try {\n      const response = await editApiCall(store_uuid, branch_uuid, props.uuid, {\n        paid_amount: Number(formik.values.pay) + props.paid,\n        status: formik.values.pay === props.debt ? \"closed\" : \"debt\",\n      });\n      dispatch(statusAction.successfulStatus(\"Trả thêm tiền thành công\"));\n      props.onReload();\n\n      reloadDetail();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Trả thêm tiền thất bại\"));\n    }\n  };\n  return (\n    <ModalWrapper open={open} handleClose={handleClose} title=\"Trả thêm\">\n      {props.title}\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 400, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Đã trả</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.paid} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn nợ</Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">\n            <VNDFormat value={props.debt} />\n          </Typography>\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Trả lần này</Typography>\n        </Grid>\n        <Grid item xs={9}>\n          <VNDInput\n            name=\"pay\"\n            size=\"small\"\n            label=\"Số tiền muốn trả\"\n            value={formik.values.pay}\n            error={formik.errors.pay && formik.touched.pay}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            helperText={formik.touched.pay ? formik.errors.pay : null}\n          />\n        </Grid>\n        <Grid item xs={3}>\n          <Typography variant=\"h5\">Còn lại</Typography>\n        </Grid>\n        <Grid item xs={4}>\n          <Typography variant=\"h5\">\n            {\" \"}\n            <VNDFormat value={props.debt - formik.values.pay} />\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleClose}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n              onClick={handleSubmit}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default PayRemaining;\n","export default __webpack_public_path__ + \"static/media/empty-cart.f70a0162.png\";","import React from 'react'\nimport {\n\n    DialogContent,\n    DialogTitle,\n    Typography,\n\n    Dialog,\n  } from \"@material-ui/core\";\nconst DialogWrapper = (props) => {\n\n    const {handleClose, title,open} = props\n  return (\n    <Dialog  open={open} onClose={handleClose} maxWidth={'md'} >\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography style={{paddingTop: '24px', marginTop:-15, marginBottom:-10, }}  variant=\"h2\">\n         {title}\n        </Typography>\n\n      </DialogTitle>\n\n      <DialogContent>\n          {props.children}\n      </DialogContent>\n    \n    </Dialog>\n  )\n}\n\nexport default DialogWrapper","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Avatar,\n  Card,\n  Box,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  Radio,\n  ListItem\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AddIcon from \"@material-ui/icons/Add\";\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport * as Input from \"../../../TextField/NumberFormatCustom\";\nimport VNDInput from \"../../../TextField/NumberFormatCustom\";\nimport ava from \"../../../../assets/img/product/lyimg.jpeg\";\nimport {calculateTotalReturnQuantity} from \"../../../TableCommon/util/sortUtil\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport setting from \"../../../../assets/constant/setting\"\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    marginBox: {\n      marginTop: 30,\n    },\n    marginRow: {\n      marginTop: 5,\n    },\n    hidden: {\n      display: \"none\",\n    },\n    ava: {\n      width: 30,\n      height: 30,\n    },\n  })\n);\nfunction InvoiceReturnSummary({\n  data,\n  handlePaidAmountChange,\n  handlePaymentMethodChange,\n  handleConfirm,\n}) {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  console.log(\"dataaaaa\",data)\n\n  useEffect(() => {}, [data]);\n\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n\n  return (\n    <Box style={{ padding: 30, minHeight: \"75vh\" }}>\n      <Grid container direction=\"column\" alignItems=\"flex-start\" spacing={3}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\">\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"column\"\n            alignItems=\"flex-start\"\n          >\n            <Typography variant=\"h5\">Chi nhánh</Typography>\n            <Typography variant=\"body2\">\n              {/* current branch */}\n              {data.branch.name}\n            </Typography>\n          </Grid>\n\n          <Grid item xs={4} container direction=\"column\" alignItems=\"flex-end\">\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleDateString(\"es-US\")}\n            </Typography>\n            <Typography variant=\"body2\">\n              {/* current date */}\n              {new Date().toLocaleTimeString()}\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          className={classes.marginBox}\n          style={{ marginBottom: 20 }}\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n        >\n          <Grid\n            item\n            xs={8}\n            container\n            direction=\"row\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h3\" style={{ marginRight: 10 }}>\n              Trả hoá đơn\n            </Typography>\n            <Typography\n              variant=\"h3\"\n              style={{ color: theme.customization.primaryColor[500] }}\n            >\n              #{data.order_code}\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={4}\n            container\n            direction=\"row\"\n            justifyContent=\"flex-end\"\n            className={classes.marginBox}\n            alignItems=\"center\"\n          >\n            <Typography variant=\"h5\">{data.customer.name}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginBox}\n        >\n          <Typography variant=\"h5\">\n            {/* Số lượng sản phẩm trả */}\n            Tổng SL sản phẩm trả ({data.details.filter((item) => item.returnQuantity !== 0).length})\n          </Typography>\n          <Typography variant=\"body2\">\n          <Input.ThousandFormat value={calculateTotalReturnQuantity(data.details)} />\n          </Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền gốc</Typography>\n          <Typography variant=\"body2\"> <Input.VNDFormat value={data.order_total_amount} /></Typography>\n        </Grid>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Tổng tiền trả</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.total_amount} /></Typography>\n        </Grid>\n\n        {store_setting?.customerScore.status && data.customer.name !== \"Khách lẻ\"? <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"space-between\"\n              className={classes.marginRow}\n            >\n              <Typography variant=\"h5\">Tích điểm</Typography>\n              <Typography variant=\"body2\">\n                <ListItem style={{padding:0, margin:0}}>\n                <Input.ThousandFormat\n                  // style={{ color: \"#2096f3\", fontWeight: 500 }}\n                  value={-data.scores}\n                />\n               {data.customer?.points? <Typography>/{data.customer.points}</Typography> : null} \n               </ListItem>\n              </Typography>\n            </Grid>:null}\n\n\n        {/*\n                <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Phí trả hàng\n                    </Typography>\n                    <Input.ThousandSeperatedInput id=\"standard-basic\" style={{width:90 }} size=\"small\" inputProps={{style: { textAlign: \"right\" }}}  />\n                </Grid> */}\n\n        {/* <Grid container direction=\"row\" justifyContent=\"space-between\"className={classes.marginRow}>\n                    <Typography variant=\"h5\">\n                        Tổng đơn trả\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        400.000\n                    </Typography>\n                </Grid> */}\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <Typography variant=\"h5\">Đã trả khách</Typography>\n          <Typography variant=\"body2\"><Input.VNDFormat value={data.paid_amount} /></Typography>\n          {/* <VNDInput\n            id=\"standard-basic\"\n            style={{ width: 90 }}\n            size=\"small\"\n            inputProps={{ style: { textAlign: \"right\" } }}\n            value={data.paid_amount}\n            onChange={(e) => {return;}}\n          /> */}\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"flex-end\"\n          alignItems=\"center\"\n          className={classes.marginRow}\n        >\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              name=\"gender1\"\n              value={data.payment_method}\n              onChange={(e) => handlePaymentMethodChange(e.target.value)}\n            >\n              <Grid container direction=\"row\">\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"card\"\n                  control={<Radio />}\n                  label=\"Thẻ\"\n                />\n                <FormControlLabel\n                  labelPlacement=\"start\"\n                  value=\"cash\"\n                  control={<Radio />}\n                  label=\"Tiền mặt\"\n                />\n              </Grid>\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n\n        \n\n        <Button\n          variant=\"contained\"\n          fullWidth\n          color=\"primary\"\n          style={{ marginTop: 40 }}\n          onClick={handleConfirm}\n          disabled={data.total_amount === 0}\n        >\n          Trả hàng\n        </Button>\n      </Grid>\n    </Box>\n  );\n}\n\nexport default InvoiceReturnSummary;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3aAAAN2gFLGPbrAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAEJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhihLswAAABV0Uk5TAAUGCxEWGxwgISg8SF5weZCbtrjYjtqLCgAAA55JREFUeNrt1FFPglAYgGFBHAL9/9/ZWrOMhG7CtnP26WFqF/U8V+3jg8Ps1c0GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4rKrPRoflUpdOfix3zW/Xj6j333+cjvFrdOlkHMPlbZvulExyu106+fgMl9ttOjme7rzTVeml92nF++R39fHkrBnCANohDmBYEcB+WZ7iANrsNcbncLnr0p2SSW7IAmhewuWnOgv79c47QxX+L0reJ79ruDA5n/5PfukICEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACEAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAB4qCa+NM3xteXSVHDEXLCcnzUXPHBeM7nwnJJDp+r68o07U33T++R3zQXPqfpsdPC1+LN6HwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPy6L03NV0bW8W9jAAAAAElFTkSuQmCC\"","import {\n  Button,\n  FormControl,\n  Grid,\n  InputLabel,\n  Select,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\"\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport { TreeSelect } from 'antd';\n\n\nconst AddCategory = (props) => {\n  const [categoryList, setCategoryList] = useState([]);\n  const [categoryInfo, setCategoryInfo] = useState({\n    name: \"\",\n    parent_category_uuid: \"\",\n  });\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  useEffect(() => {\n    const fetchAllCategory = async () => {\n      try {\n        const response = await productApi.getAllCategory(store_uuid);\n        const response_1 = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response_1.data);\n      } catch (error) { }\n    };\n    fetchAllCategory();\n  }, [props.reset]);\n\n\n\n  const dispatch = useDispatch();\n  const handleAddCategory = async () => {\n    handleCloseAndReset()\n    try {\n      const response = await productApi.addCategory(store_uuid, categoryInfo);\n      props.onReset()\n      dispatch(statusAction.successfulStatus(\"Tạo danh mục thành công\"));\n\n\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo danh mục thất bại\"));\n    }\n  };\n  const handleCloseAndReset = () => {\n    props.handleClose()\n    setCategoryInfo({\n      name: \"\",\n      parent_category_uuid: \"\",\n    })\n  }\n  console.log(\"categoryInfo\",categoryInfo)\n  return (\n    <ModalWrapper {...props}>\n      <Typography variant=\"h4\" gutterBottom>\n        Thêm danh mục mới\n      </Typography>\n      <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Tên danh mục\"\n            variant=\"outlined\"\n            size=\"small\"\n            required\n            fullWidth\n            onChange={(e) =>\n              setCategoryInfo({ ...categoryInfo, name: e.target.value })\n            }\n          />\n        </Grid>\n        <Grid item xs={12}>\n          {/* <FormControl size=\"small\" variant=\"outlined\" fullWidth>\n            <InputLabel htmlFor=\"category\">Danh mục cha</InputLabel>\n            <Select\n              native\n              label=\"Danh mục cha\"\n              id=\"category\"\n              value={categoryInfo.uuid}\n              onChange={(e) =>\n                setCategoryInfo({\n                  ...categoryInfo,\n                  parent_category_uuid: e.target.value,\n                })\n              }\n            >\n              <option aria-label=\"None\" value=\"\" />\n              <CategorySelect categoryList={categoryList}/>\n              \n            </Select>\n          </FormControl> */}\n            <TreeSelect\n            placeholder=\"Danh mục cha\"\n                  id=\"category\"\n                  name=\"category\"  \n                  style={{ width: '100%'}}   \n                  dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                  treeData={categoryList}\n                  value={categoryInfo.uuid}\n                  onChange={(val)=>\n                    setCategoryInfo({\n                    ...categoryInfo,\n                    parent_category_uuid: val,\n                  })}\n                  treeDefaultExpandAll\n                  \n                />\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          {\" \"}\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            style={{ marginRight: 20 }}\n            onClick={props.handleClose}\n            size=\"small\"\n          >\n            Hủy\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            size=\"small\"\n            onClick={handleAddCategory}\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Grid>\n    </ModalWrapper>\n  );\n};\n\nexport default AddCategory;\n\n","import React, {useState,useEffect} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport CheckIcon from '@material-ui/icons/Check';\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\"\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {getAllProductInCategoryParent} from \"../../../../utils\"\nimport { ThousandSeperatedInput } from '../../../../components/TextField/NumberFormatCustom';\nimport productApi from \"../../../../api/productApi\";\nimport {useSelector,useDispatch} from 'react-redux'\n\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst DiscountPopup = ({open,onClose,title,filteredPromotion,handleUpdateSelectedPromotion,selectedPromotion,listGiftItem,totalCartAmount,handleUpdateBestDetailSelectedPromotion,products}) => {\n    console.log(\"selectedPromotion\",filteredPromotion)\n    const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const [value, setValue] = React.useState(selectedPromotion?selectedPromotion.id.toString():null);\n  console.log(\"value\",value)\n  console.log(\"selectedPromotionselectedPromotion\",selectedPromotion)\n  const [promotion, setPromotion] =  React.useState(selectedPromotion? selectedPromotion:null);\n//   const [check, setCheck] =  React.useState(selectedPromotion?selectedPromotion.listGiftItem:[]);\n\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:selectedPromotion.listGiftItem}:{idPro:null, detail:[]});\n// const [check, setCheck] =  React.useState(selectedPromotion?{idPro:selectedPromotion.id,detail:listGiftItem?listGiftItem:[]}:{idPro:null, detail:[]});\nconst [check, setCheck] =  React.useState({idPro:null, detail:[]});\n\n// selectedPromotion.listGiftItem\n  function getColorSelected (selectedData,itemUuid  ){\n    if(!selectedData){return}\n    return selectedData.some(function(e) {return e.uuid.includes(itemUuid); }) ?  theme.customization.primaryColor[50]:null \n  }\n  const handleChange = (promotion) => {\n\n    if(Number(promotion.id) === Number(value)){\n        setValue(null);\n        setPromotion(null)\n    }else{\n        setValue(promotion.id.toString());\n        setPromotion(promotion)\n    }\n  };\n\n  console.log(\"check\",check)\n  const getBestDetailSelectedCondition = (promotion) =>{\n    if(promotion){\n        let bestDetailSelectedCondition = promotion?.detailCondition?.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n        bestDetailSelectedCondition =bestDetailSelectedCondition? bestDetailSelectedCondition.filter(item => item !== null)[0]:null\n        return bestDetailSelectedCondition\n    }\n  }\n  const [categoryList,setCategoryList] = useState(null)\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        console.log(\"response.data\",response.data)\n\n        // productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, []);\n\n  const getListItem = (bestDetailSelectedCondition) => {\n    if(!bestDetailSelectedCondition.isGiftCategory){\n        return bestDetailSelectedCondition.listGiftItem\n    }else{\n        // products,categories,categoryId\n        console.log(\"bestDetailSelectedCondition.listGiftCategory\",bestDetailSelectedCondition.listGiftCategory)\n        return getAllProductInCategoryParent(products,categoryList,bestDetailSelectedCondition.listGiftCategory[0])\n    }\n  \n  }\n  const handleCheck = (value, idPro) =>{\n    return setCheck({idPro:idPro, detail:value.map((item)=> {return {...item, quantity:1}})})\n  }\n\n  const handleChangeGiftQuantity = (idPro,product, newQuantity) => {\n    const itemIndex = check.detail.findIndex(\n        (item) => item.uuid === product.uuid\n      );\n      const newCheck = {...check};\n      newCheck.detail[itemIndex].quantity = newQuantity;\n      console.log(\"newCheck\",newCheck)\n      setCheck(newCheck)\n  }\n    return (\n        // <Dialog open={open} handleClose={onClose} title={title}>\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"md\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            {title}\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n                <Grid  container direction=\"row\" justifyContent=\"\" style={{marginBottom:8}}>\n                    <Grid item style={{width:10,marginRight:30}} >                      \n                    </Grid>\n                    <Grid item style={{width:250,marginRight:30}} >\n                        <Typography className={clsx(classes.text,classes.weight)} >Chương trình khuyến mãi</Typography>\n                    </Grid>\n                    <Grid item style={{width:250, marginRight:30}}>\n                        <Typography className={clsx(classes.text,classes.weight)} >Hình thức khuyến mãi</Typography>\n                    </Grid>\n                </Grid>\n                <Divider style={{marginBottom:8}} />\n                {/* // */}\n                <FormControl component=\"fieldset\">\n                    <RadioGroup value={value} >\n                        {filteredPromotion?.map((pro) => {\n                            let bestCondition = pro.detailCondition.map((pro) =>{if (Number(totalCartAmount) >= Number(pro.totalCost)) {return pro}else{return null}})\n                            bestCondition =bestCondition.filter(item => item !== null)[0]\n                            let bestDetailSelectedCondition = getBestDetailSelectedCondition(pro)\n                            return (\n                                <Grid  key={pro.id} container direction=\"row\" justifyContent=\"\">\n                                        <Grid item style={{width:10,marginRight:30}} >\n                                            <FormControlLabel value={pro.id.toString()} control={<Radio  size=\"small\" onClick={()=>handleChange(pro)}/>}  />\n                                            {/* <FormControlLabel value={promotion} control={<Radio  size=\"small\" onClick={()=>handleChange(promotion)}/>}  /> */}\n\n                                        </Grid>\n                                        <Grid item style={{width:250,marginRight:30,marginTop:10, color:\"#383737\"}} >\n                                            <Typography >{pro.name}</Typography>\n                                        </Grid>\n                                        <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                            <Typography  >{pro.discountKey ===\"invoice\" ? \"Hoá đơn\" : \"Sản phẩm\"} - {getDiscountType(pro.discountKey,pro.discountType)}</Typography>\n                                            <Typography  style={{fontSize:12}}>{pro.discountType ===\"sendGift\" ? `(${bestDetailSelectedCondition.numberGiftItem} sản phẩm)`:null }</Typography>\n                                        </Grid>\n                                        {pro.discountType ===\"discountInvoice\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                <Typography  >Giảm giá <b style={{color:'#00b3ff', fontWeight:600}}>{bestDetailSelectedCondition.discountValue.toLocaleString()} {bestDetailSelectedCondition.type}</b> {\"\\u00a0\\u00a0\"}(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ) </Typography>\n                                            </Grid>\n                                        :null }\n                                         {pro.discountType ===\"sendGift\"?\n                                            <Grid item style={{width:250, marginRight:30,marginTop:10,color:\"#383737\"}}>\n                                                {Number(bestDetailSelectedCondition.numberGiftItem) === 1 &&  !bestDetailSelectedCondition.isGiftCategory && bestDetailSelectedCondition.listGiftItem.length === 1 ? \n                                                    <Typography><b > Tặng sản phẩm </b> <b style={{color:'#00b3ff', fontWeight:500}}>{bestDetailSelectedCondition.listGiftItem[0].product_code}-{bestDetailSelectedCondition.listGiftItem[0].name}</b></Typography>\n                                                    :\n                                                    <>\n                                                    <Typography style={{marginBottom:5}}><b > Tặng sản phẩm </b> </Typography>\n                                                    <Select multiple  variant=\"outlined\" fullWidth   id=\"branches\"  name=\"branches\" size=\"small\"\n                                                        onChange={(e)=>handleCheck(e.target.value,pro.id)}\n                                                        value={check.detail}\n                                                                renderValue={(selected) => \n                                                                    selected?.map((item) => {\n                                                                        return getListItem(bestDetailSelectedCondition).find( (product) => product.uuid === item.uuid)?.name;\n                                                                    }).join(\", \")\n                                                                }\n                                                                placeholder=\"Sản phẩm\"\n                                                                style={{width:200, marginLeft:20, height:50}}\n                                                            >\n                                                            {getListItem(bestDetailSelectedCondition)?.map((item) => (\n                                                                <MenuItem key={item.uuid} value={item} \n                                                                style={{backgroundColor:getColorSelected(check.detail, item.uuid) }} \n                                                                > \n                                                                <Grid container justifyContent='space-between'>\n                                                                    {item.name}\n                                                                    {getColorSelected(check.detail, item.uuid)? <CheckIcon color='primary'/> :null}\n                                                                </Grid >\n                                                                </MenuItem>\n                                                            ))}\n                                                    </Select>\n                                                    { check.idPro === pro.id ?\n                                                     check.detail.map((item)=>{\n                                                        return (\n                                                            <ListItem>\n                                                                <Typography>{item.product_code} - {item.name}</Typography>\n                                                                <ThousandSeperatedInput value={item.quantity} onChange={(e)=>handleChangeGiftQuantity(pro.id,item,e.target.value)}/>\n                                                            </ListItem>\n                                                        )\n                                                    }) :null }\n                                      \n                                                    \n                                                    </>\n                                                }\n\n                                                <Typography  >(Hoá đơn từ {bestDetailSelectedCondition.totalCost.toLocaleString()} đ )</Typography>\n\n                                               \n                                            </Grid>\n                                        :null }\n                                    </Grid>      \n                            )})}\n                    <Divider />\n                </RadioGroup>\n            </FormControl> \n                \n            </DialogContent>\n            <DialogActions>\n        <Button\n          onClick={onClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          onClick={()=>{handleUpdateBestDetailSelectedPromotion(getBestDetailSelectedCondition(promotion));handleUpdateSelectedPromotion(promotion, check);onClose()}}\n        >\n          Áp dụng\n        </Button>\n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default DiscountPopup\n\nfunction getDiscountType (discountKey, discountType){\n\n    if(discountKey === \"invoice\"){\n        if(discountType ===\"sendGift\"){return \"Tặng hàng\"}\n        else if (discountType ===\"sendVoucher\"){ return \"Tặng voucher\"}\n        else{ return \"Giảm giá hoá đơn\"}\n    }else{\n        if(discountType ===\"sendGift\"){return \"Mua hàng tặng hàng\"}\n        else{return \"Giá bán theo số lượng mua\"}\n    }\n}","export default __webpack_public_path__ + \"static/media/giftbox.a742d657.png\";","import {\n  Box,\n  Button,\n  Grid,\n  TextField,\n  Typography,\n  Select,\n  MenuItem,\n  Chip,\n  InputLabel,\n  FormControl,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport VNDInput, {\n  VNDFormat,\n} from \"../../../../../components/TextField/NumberFormatCustom\";\nimport ModalWrapper from \"../../../../../components/Modal/ModalWrapper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport orderApi from \"../../../../../api/orderApi\";\nimport openNotification from \"../../../../../components/StatusPopup/StatusPopup\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst OrderModal = ({ handleClose, customerOrder, isOpen }) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branch = info.branch;\n  const dispatch = useDispatch();\n\n  const [inventoryInfo, setInventoryInfo] = useState([]);\n\n  const [order, setOrder] = useState({});\n\n  useEffect(async () => {\n    try {\n      if (store_uuid && branch_uuid) {\n        const res = await orderApi.processCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          customerOrder.id\n        );\n\n        const inventoryInfo = res.data;\n        const details = JSON.parse(\n          customerOrder.details ? customerOrder.details : \"[]\"\n        )?.map((detail) => ({\n          orderredQuantity: detail.quantity,\n          branchInventory: getBranchInventory(detail.id, inventoryInfo),\n          batches: getBatches(detail.id, inventoryInfo),\n          selectedBatches: [],\n          name: detail.name,\n          product_code: detail.product_code,\n          unit_price: detail.list_price,\n          id: detail.id,\n          uuid: detail.uuid,\n          discount: 0,\n          has_batches: detail.has_batches,\n          quantity: detail.has_batches\n            ? 0\n            : Math.min(\n                detail.quantity,\n                getBranchInventory(detail.id, inventoryInfo)\n              ),\n        }));\n\n        const newOrder = {\n          new_customer: {\n            name: customerOrder.name,\n            phone: customerOrder.phone,\n            address: customerOrder.address,\n            ward: customerOrder.ward,\n            province: customerOrder.province,\n            district: customerOrder.district,\n          },\n          details: details,\n          discount: 0,\n          description: \"\",\n          total_amount: _.sumBy(\n            details,\n            (detail) => detail.quantity * detail.unit_price\n          ),\n          status: \"debt\",\n        };\n\n        setOrder(newOrder);\n      }\n    } catch (err) {\n      console.log(err);\n      openNotification(\"error\", \"Không thể lấy dữ liệu tồn kho\");\n    }\n  }, []);\n\n  const handleConfirm = async () => {\n    let d = moment.now() / 1000;\n    let orderTime = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n    let body = {\n      ...order,\n      discount: order.discount.toString(),\n      paid_amount: 0,\n      payment_method: \"cash\",\n      creation_date: orderTime,\n      paid_date: \"\",\n      tax: \"0\",\n      shipping: \"0\",\n      is_customer_order: true,\n      new_customer: JSON.stringify(order.new_customer),\n    };\n\n    try {\n      \n      handleClose();\n      let res = await orderApi.addOrder(store_uuid, branch.uuid, body);\n      let updateCustomerOrderRes = await orderApi.confirmCustomerOrder(\n        store_uuid,\n        branch.uuid,\n        customerOrder.id,\n        {\n          order_code: res.data.order.order_code,\n          order_id: res.data.order.id,\n        }\n      );\n      dispatch(\n        statusAction.successfulStatus(\n          `Tạo hóa đơn thành công ${res.data.order.order_code}`\n        )\n      );\n    } catch (err) {\n      dispatch(statusAction.failedStatus(`Tạo hóa đơn thất bại`));\n      console.log(err);\n    }\n  };\n  const getBranchInventory = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    const branchInventory = product?.branch_inventories.find(\n      (branchInventory) => branchInventory.branch_id === branch.id\n    );\n    return branchInventory?.quantity_available;\n  };\n\n  const getBatches = (productId, inventoryInfo) => {\n    const product = inventoryInfo.find(\n      (inventory) => inventory.id === productId\n    );\n    return product?.batches;\n  };\n\n  const handleSelectBatch = (e, detailIndex) => {\n    const batch = e.target.value;\n    if (\n      order.details[detailIndex].selectedBatches.find(\n        (selectedBatch) => selectedBatch.batch_code === batch.batch_code\n      )\n    ) {\n      return;\n    }\n    const newSelectedBatches = [...order.details[detailIndex].selectedBatches];\n    newSelectedBatches.push({ ...batch, additional_quantity: 0 });\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches = newSelectedBatches;\n    setOrder(newOrder);\n  };\n\n  const handleChangeBatchQuantity = (e, detailIndex, selectedBatchIndex) => {\n    const value = Number(e.target.value);\n    if (\n      value >\n        order.details[detailIndex].selectedBatches[selectedBatchIndex]\n          .quantity ||\n      value < 0\n    ) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].selectedBatches[\n      selectedBatchIndex\n    ].additional_quantity = value;\n    newOrder.details[detailIndex].quantity = _.sumBy(\n      newOrder.details[detailIndex].selectedBatches,\n      \"additional_quantity\"\n    );\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const handleChangeDetailQuantity = (e, detailIndex) => {\n    const value = Number(e.target.value);\n    if (value > order.details[detailIndex].branchInventory || value < 0) {\n      return;\n    }\n    const newOrder = { ...order };\n    newOrder.details[detailIndex].quantity = value;\n    newOrder.total_amount = _.sumBy(\n      newOrder.details,\n      (detail) => detail.quantity * detail.unit_price\n    );\n    setOrder(newOrder);\n  };\n\n  const renderQuantityInput = (detail, detailIndex) => {\n    if (detail?.has_batches) {\n      return (\n        <>\n          <Typography>Tổng: {detail.quantity}</Typography>\n          <FormControl variant=\"standard\">\n            <InputLabel id=\"batch-label\">Lô</InputLabel>\n            <Select\n              labelId=\"batch-label\"\n              autoWidth\n              labelWidth={100}\n              fullWidth\n              onChange={(e) => handleSelectBatch(e, detailIndex)}\n            >\n              {detail.batches.map((batch) => (\n                <MenuItem value={batch} key={batch.code}>{`${\n                  batch.batch_code\n                }(${batch.expiry_date ? batch.expiry_date : \"\"})-${\n                  batch.quantity\n                }`}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {detail.selectedBatches.map((batch, selectedBatchIndex) => (\n            <div\n              style={{\n                marginTop: 5,\n                marginBottom: 5,\n                display: \"flex\",\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                gap: 5,\n                backgroundColor: \"#eee\",\n              }}\n            >\n              <Typography>{`${batch.batch_code}${\n                batch.expiry_date ? \"(\" + batch.expiry_date + \")\" : \"\"\n              }`}</Typography>\n              <TextField\n                type=\"number\"\n                size=\"small\"\n                style={{ width: 30 }}\n                value={batch.additional_quantity}\n                onChange={(e) =>\n                  handleChangeBatchQuantity(e, detailIndex, selectedBatchIndex)\n                }\n              />\n              <Typography>{`/${batch.quantity}`}</Typography>\n            </div>\n          ))}\n        </>\n      );\n    } else {\n      return (\n        <TextField\n          type=\"number\"\n          size=\"small\"\n          style={{ width: 30 }}\n          value={Math.min(detail.quantity, detail.branchInventory)}\n          onChange={(e) => handleChangeDetailQuantity(e, detailIndex)}\n        />\n      );\n    }\n  };\n\n  const isOrderEmpty = () => {\n    return order.details?.every((detail) => detail.quantity === 0);\n  };\n\n  const handleCancelOrder = async () => {\n    handleClose();\n    try {\n      const res = await orderApi.cancleCustomerOrder(store_uuid, branch_uuid, customerOrder.id);\n      dispatch(statusAction.successfulStatus(\"Hủy đơn đặt thành công\"));\n    } catch (err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Hủy đơn đặt thất bại\"))\n    }\n  }\n\n  return (\n    <ModalWrapperWithClose open={isOpen} handleClose={handleClose} title=\"Đơn đặt\">\n      <Typography variant=\"h3\">{customerOrder.customer_order_code}</Typography>\n      <Grid\n        container\n        spacing={2}\n        style={{ maxWidth: \"100%\", width: 800, marginTop: 15 }}\n        flexDirection=\"row\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={12} container spacing={2}>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Typography>Tên khách: {customerOrder.name}</Typography>\n              <Typography>Số điện thoại: {customerOrder.phone}</Typography>\n              <Typography>Địa chỉ: {customerOrder.address}</Typography>\n            </Box>\n          </Grid>\n          <Grid item xs={6}>\n            <Box\n              display=\"flex\"\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n            >\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tạm tính</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Giảm giá</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                  onChange={(e) =>\n                    setOrder({ ...order, discount: Number(e.target.value) })\n                  }\n                />\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"space-between\">\n                <Typography variant=\"h5\">Tổng hóa đơn</Typography>\n                <VNDInput\n                  id=\"standard-basic\"\n                  style={{ width: 90 }}\n                  size=\"small\"\n                  value={order.total_amount - order.discount}\n                  inputProps={{ style: { textAlign: \"right\" } }}\n                />\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n        <TableContainer component={Paper}>\n          <Table aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell align=\"right\">Sản phẩm</TableCell>\n                <TableCell align=\"right\">SL đặt</TableCell>\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">SL bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                <TableCell align=\"right\">Trạng thái</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {order.details?.map((detail, detailIndex) => (\n                <TableRow key={detail.product_code}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell align=\"right\">{detail.name}</TableCell>\n                  <TableCell align=\"right\">{detail.orderredQuantity}</TableCell>\n                  <TableCell align=\"right\">{detail.branchInventory}</TableCell>\n                  <TableCell align=\"right\">{detail.unit_price}</TableCell>\n                  <TableCell align=\"right\">\n                    {renderQuantityInput(detail, detailIndex)}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <VNDFormat value={detail.quantity * detail.unit_price} />{\" \"}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {detail.quantity < detail.orderredQuantity ? (\n                      <Typography style={{ color: \"red\" }}>Không đủ</Typography>\n                    ) : (\n                      <Typography style={{ color: \"green\" }}>Đủ</Typography>\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        <Grid item xs={12}>\n          <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              onClick={handleCancelOrder}\n            >\n              Hủy\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 20 }}\n              color=\"primary\"\n              onClick={handleConfirm}\n              disabled={isOrderEmpty()}\n            >\n              Xác nhận\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </ModalWrapperWithClose>\n  );\n};\n\nexport default OrderModal;\n","import React, {useState, useEffect} from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport { VNDFormat,ThousandFormat } from '../../../../../components/TextField/NumberFormatCustom';\n\nimport { grey} from '@material-ui/core/colors'\nimport OrderModal from './OrderModal';\nimport orderApi from '../../../../../api/orderApi';\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport moment from 'moment';\nimport { useDispatch, useSelector } from 'react-redux';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\nconst getOrderStatus = (status) =>{\n  if(status === \"new\") {return \"Chờ chấp nhận\"}\n  if(status===\"cancelled\") {return \"Đã hủy\"}\n  if(status===\"confirmed\") {return \"Chờ giao\"}\n  if(status===\"paid\") {return \"Hoàn thành\"}\n}\nconst OrderProductListDetail = (props) => {\n    const {row,openRow, reload }= props.parentProps;\n    const {isMini}= props.parentProps;\n\n    const [isOrderModalOpen, setIsOrderModalOpen] = useState(false);\n\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branch = info.branch;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n\n    const handleCloseReturn = () => {\n      setOpen(false);\n    };\n\n    const dispatch = useDispatch();\n\n    const handlePayment = async () => {\n      let d = moment.now() / 1000;\n      let paid_date = moment\n        .unix(d)\n        .format(\"YYYY-MM-DD HH:mm:ss\", { trim: false });\n\n      try {\n        const res = await orderApi.paymentCustomerOrder(store_uuid, branch_uuid, row.id , {paid_date: paid_date})\n        reload();\n        dispatch(statusAction.successfulStatus('Thanh toán thành công'))\n      }catch(err) {\n        console.log(err);\n        dispatch(statusAction.failedStatus('Thanh toán thất bại'))\n      }\n    }\n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse in={openRow === row.id} timeout=\"auto\" unmountOnExit>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn đặt\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.customer_order_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày đặt{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tên khách\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.name}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Số điện thoại\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.phone}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                 { getOrderStatus(row.status)}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Địa chỉ{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.address}{`, `}{row.ward} {`, `}{row.district}{`, `}{row.city}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={6} sm={6} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>    \n                        </Grid>\n                        <Grid item  sm={4} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.branch} </Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                <TableCell align=\"right\">Số lượng</TableCell>\n                <TableCell align=\"right\">Giá bán</TableCell>\n                <TableCell align=\"right\">Thành tiền</TableCell>\n                {/* <TableCell align=\"right\">Đã nhập</TableCell>\n                     <TableCell align=\"right\">Trạng thái</TableCell> */}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {JSON.parse(row.details ? row.details : \"[]\").map(\n                (historyRow) => (\n                  <TableRow key={historyRow.product_id}>\n                    <TableCell component=\"th\" scope=\"row\">\n                      {historyRow.product_code}\n                    </TableCell>\n                    <TableCell>{historyRow.name}</TableCell>\n                    <TableCell align=\"right\">\n                      <ThousandFormat value={historyRow.quantity} />\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <VNDFormat value={historyRow.list_price} />\n                    </TableCell>\n                    <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                      <VNDFormat\n                        value={historyRow.quantity * historyRow.list_price}\n                      />\n                    </TableCell>\n                    {/* <TableCell align=\"right\"><ThousandFormat value={0} /></TableCell>\n                       <TableCell align=\"right\">Đã nhập đủ</TableCell> */}\n                  </TableRow>\n                )\n              )}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={JSON.parse(row.details).} /> </Typography>\n                        </Grid>\n                    </Grid> */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng số mặt hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={\n                        JSON.parse(row.details ? row.details : \"[]\").length\n                      }\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Khoảng tiền hàng\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Giảm giá\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={6} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Cần thu\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat value={row.total_amount - row.discount} />{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n                        <Grid item xs={6}sm={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số mặt hàng đã nhập đủ</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">2/4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n              {/* \n                    <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả NCC</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n                        </Grid>\n                    </Grid> */}\n            </Grid>\n          </Box>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n            {currentUser === row.employee ? (\n              <>\n                {\" \"}\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                >\n                  Xoá\n                </Button>{\" \"}\n              </>\n            ) : null}\n\n            <Button disabled={row.status !== 'new'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => setIsOrderModalOpen(true)}>\n              Xử lý đơn đặt\n            </Button>\n            \n            <Button disabled={row.status !== 'confirmed'} variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={handlePayment}>\n              Thanh toán\n            </Button>\n\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn đặt\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid>\n\n          {isOrderModalOpen && <OrderModal customerOrder={row} handleClose={() => {setIsOrderModalOpen(false); reload()}} isOpen={isOrderModalOpen}/>}\n\n          <Dialog\n            fullWidth={true}\n            maxWidth=\"lg\"\n            open={open}\n            onClose={handleCloseReturn}\n            aria-labelledby=\"form-dialog-title\"\n          >\n            <InventoryReturnPopUp\n              handleCloseReturn={handleCloseReturn}\n              row={row}\n              classes={classes}\n            />\n          </Dialog>\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default OrderProductListDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\n\n//import library\nimport {Box,Grid,Collapse,Divider,ListItem,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\nimport clsx from \"clsx\"\nimport { ThousandFormat, VNDFormat } from '../../../../../../components/TextField/NumberFormatCustom';\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  weight: {\n    fontWeight: 500,\n    color: \"#000\",\n    fontSize: 14,\n  },\n  tag:{\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 24,\n    margin: 2,\n    lineHeight: 22,\n    backgroundColor: \"#fafafa\",\n    border: \"1px solid #e8e8e8\",\n    borderRadius: 2,\n    boxSizing: \"contentBox\",\n    padding: \"0 4px 0 10px\",\n    outline: 0,\n    \n  },\n  span:{\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst DiscountDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n    const {promotion_condition,dateAdvanceSetting,type,isMini} = props;\n\n    const rowsInvoice  = props.promotion_condition;\n    console.log(\"rowsInvoice\",props.promotion_condition)\n    // const rowsInvoice = props.promotion_condition;\n\n    \n    // const discountKey= promotion_condition?.discountKey;// invoice, product\n    // const discountType = promotion_condition?.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n    const discountKey= row.discountKey;// invoice, product\n    const discountType = row.discountType; //discountInvoice , sendGift, sendVoucher,priceByQuantity\n\n\n    // CALL APII (đổi thanhd api)\n\n\n\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const isActive =  (startDay, endDay) =>{\n      const current   = new Date() \n      // return (startDay !== \"0000-00-00\" ?new Date(startDay) <= current : true) && ( endDay !== \"0000-00-00\" ?current <= new Date(endDay) :true)\n      return (startDay   ?new Date(startDay) <= current : true) && ( endDay  ?current <= new Date(endDay) :true)\n\n    }\n    return (\n        <Collapse in={ isMini ? true :openRow === row.id } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={12} sm={6}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.promotion_code} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khuyến mãi </Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={4} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Hình thức</Typography>    \n                          </Grid>\n                          <Grid item  >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{type}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n\n\n                <Grid item xs={12} sm={6}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item  >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status ==='active' && isActive(row.start_date,row.end_date)? \"Hoạt động\" : 'Chưa hoạt động' }</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                      \n                        <Grid item xs={3} sm={2} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.start_date ? `Từ ${row.start_date?.split('-').reverse().join('/')}` : null}  {row.end_date ? `-  Đến ${row.end_date?.split('-').reverse().join('/')}` :\"(Không giới hạn)\"}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    {/* Thay TRUE thành nếu list theo thứ ngày tháng,.. ko empty thì show */}\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo tháng</Typography>    \n                        </Grid>\n                        <Grid item>\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byMonth?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo ngày</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDay?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4}>\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo thứ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byDate?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {dateAdvanceSetting.byMonth?.length !== 0 ?\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={4} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Theo giờ</Typography>    \n                        </Grid>\n                        <Grid item sm={4} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{dateAdvanceSetting.byTime?.toString()}</Typography>\n                        </Grid>\n                    </Grid> : null\n                    }\n                    {row.customer_birth?\n                      <Typography style={{fontWeight:500, color:\"red\"}}> * Áp dụng vào ngày sinh nhật của khách hàng *</Typography> : null\n                    }\n                    \n                  </Grid>\n               \n              </Grid>\n          \n          \n          \n          {/* Header */}\n         <div style={{backgroundColor:theme.customization.primaryColor[50], height:35, marginTop:20,paddingTop:10, paddingLeft:15, marginLeft:10, marginRight:10}}>\n          <Grid  container direction=\"row\" justifyContent=\"\">\n              {/* col 1 */}\n              {discountKey ===\"invoice\"?\n              <Grid item style={{width:150, marginRight:30}}>\n                <Typography className={clsx(classes.text,classes.weight)} >Tổng tiền hàng</Typography>\n              </Grid>:null\n              }\n              {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType==\"priceByQuantity\" ?\n              <>\n              <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL mua</Typography>\n              </Grid>\n              <Grid item style={{ marginRight:190}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng mua</Typography>\n              </Grid>\n               </>:null\n              }\n               { discountType ===\"discountInvoice\"?\n                  <Grid item >\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Giá trị khuyến mãi</Typography>\n                </Grid>:null\n                }\n                {['sendGift','sendVoucher'].includes(discountType) ?\n                  <Grid item style={{width:50, marginRight:50}}>\n                  <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SL tặng</Typography>\n              </Grid>:null\n                }\n                {discountType ===\"sendGift\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>SP/nhóm hàng tặng</Typography>\n                    </Grid> :null\n               }\n               {discountType ===\"sendVoucher\"?\n                    <Grid item >\n                        <Typography className={clsx(classes.text,classes.weight)} style={{textAlign: \"center\"}}>Voucher</Typography>\n                    </Grid> :null\n               }\n            </Grid>\n          </div>\n\n          {rowsInvoice?.map((discountRow, index) => {\n              return (\n                  <>\n                  <div style={{paddingLeft:15, marginLeft:10, marginRight:10}}>\n                  <Grid container direction=\"row\" justifyContent=\"\">\n                      {/* col 1 */}\n                      {discountKey ===\"invoice\"?\n                      <Grid item  container direction=\"row\" alignItems=\"center\" style={{width:130,marginRight:52, height:40}} >\n                          <Grid item> <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> Từ </Typography> </Grid> \n                          <Grid item> <VNDFormat style={{marginRight:10, color:\"#000\", fontSize:13}} value= {discountRow.totalCost}> </VNDFormat> </Grid> \n                      </Grid>:null\n                      }\n                      {discountKey ===\"product\" && discountType ===\"sendGift\" || discountType ==='priceByQuantity'?\n                      <>\n                      <Grid item style={{width:80,height:40, marginTop:10}} >\n                          <Typography style={{marginRight:10, color:\"#000\", fontSize:13}}> {discountRow.numberBuyItem} </Typography> \n                      </Grid>\n                      <Grid item style={{ marginTop:6, width:360,}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listBuyItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name} </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                            \n                        </Grid> \n                      </>\n                      :null }\n                      {\n                        discountType ==='priceByQuantity'? \n                        <>\n                          <Grid item style={{width:70,marginRight:50, height:40, marginTop:10}} >\n                            <Typography style={{color:\"#000\", fontWeight:500,fontSize:14}}> {discountRow.typeDiscountItem === \"price\" ? \"Giá bán:\" : \"Giảm giá\"}   </Typography>\n                          </Grid>\n                        </>\n                        :null\n                      }\n                      {/* col 2 */}\n                      {discountType ===\"discountInvoice\"  || discountType ==='priceByQuantity'?\n                      <Grid item >\n                        <Grid item  container direction=\"row\" alignItems=\"center\" style={{height:40}}>\n                          <Grid item> <ThousandFormat style={{color:\"#000\", fontSize:13, marginRight:5}} value={discountRow.discountValue}>  </ThousandFormat> </Grid> \n                          <Grid item> <Typography style={{color:\"#000\", fontSize:13}}>   {discountRow.type}  </Typography> </Grid> \n                        </Grid>\n                      </Grid>\n                      :null\n                      }\n                    {/* col 3 */}\n                    {['sendGift','sendVoucher'].includes(discountType) ?\n                    <Grid item style={{width:50,marginRight:30, height:4, marginTop:10}} >\n                        <Typography style={{color:\"#000\", fontSize:13}}>{discountRow.numberGiftItem}  </Typography>\n                    </Grid>:null\n                    }\n                    {discountType ===\"sendGift\"?\n                          <Grid item style={{ marginTop:6}} >\n                              <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.product_code} - {tag.name}  </span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid>  :null\n                    }\n                    {discountType ===\"sendVoucher\"?\n    \n                          <Grid item style={{ marginTop:10}} >\n                            <div style={{width:280,display: 'flex',flexWrap: \"wrap\"}}>\n                               {discountRow.listGiftItem.map((tag) =>{\n                                  return(\n                                      <div className={classes.tag}>\n                                        <span className={classes.span}>{tag.name}</span> \n                                    </div>\n                                  )                \n                                })}\n                              </div>\n                          </Grid> :null\n                    }\n                  \n                      \n                </Grid>\n                </div>\n                \n                <Divider classes={{root: classes.divider}} style={{marginLeft:10, marginRight:10}}/>\n                  </>\n\n\n            );\n          })}\n          \n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent=\"flex-end\" style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default DiscountDetail\n","import React , { useRef}from 'react';\nimport { useTheme, makeStyles, createStyles } from '@material-ui/core/styles';\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {VNDFormat,ThousandFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n// import library\nimport {\n  Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,Chip\n} from '@material-ui/core';\n\n// import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n// import project\nimport { grey } from '@material-ui/core/colors';\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton';\nimport { useSelector } from 'react-redux';\nimport refundApi from '../../../../../api/refundApi';\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) => createStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle: {\n    fontSize: '1.125rem',\n  },\n  typo: {\n    marginBottom: 20,\n  },\n  background: {\n    background: theme.customization.mode === 'Light' ? theme.customization.primaryColor[50] : grey[700],\n  },\n\n}));\n\nfunction InvoiceReturnDetail(props) {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  //  tam thoi\n  const currentUser = 'Minh Tri';\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  \n  const [refund, setRefund] = React.useState({\n    branch: null,\n    details: []\n  })\n\n  React.useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await refundApi.getRefund(store_uuid, row.uuid);\n        setRefund(res.data);\n      } catch (error) {\n        setRefund({\n          branch: null,\n          details: []\n        });\n      }\n    }\n    if (openRow === row.uuid) {\n      loadData();\n\n    }\n  }\n  , [props.parentProps.openRow]);\n\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  console.log(\"refund\",refund)\n\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã đơn trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.refund_code}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã hoá đơn</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{refund.order?.order_code}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Ngày trả </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.created_at}\n                  {' '} */}\n                  {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Khách hàng</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.customer?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Người thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.created_by_user?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tình trạng</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{`Cần trả ${(row.total_amount - row.paid_amount).toString()}`}</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat value={row.total_amount} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Chi nhánh thực hiện</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {refund.branch?.name}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={5} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phương thức thanh toán</Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n\n          </Grid>\n\n        </Grid>\n\n        <Typography variant=\"h4\" gutterBottom component=\"div\" style={{ marginTop: 30 }}>\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Ma SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n\n            </TableRow>\n          </TableHead>\n          <TableBody>\n\n            {refund.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                \n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>\n                  {detail.bar_code}\n                </TableCell> */}\n                <TableCell align=\"right\">\n                  <ThousandFormat value={detail.quantity} />\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                <VNDFormat value={detail.unit_price} />\n                </TableCell>\n               \n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box className={classes.background} style={{ padding: 10, borderRadius: theme.customization.borderRadius, marginTop: 10 }}>\n          <Grid container direction=\"column\">\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng SL sản phẩm ({refund.details?.length})</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat \n                  value={calculateTotalQuantity(refund.details)}\n                /></Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                <VNDFormat value={row.total_amount} />\n                  {' '}\n                </Typography>\n              </Grid>\n            </Grid>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả hàng</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng đơn trả</Typography>\n              </Grid>\n              <Grid item xs={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">100</Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={5} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Đã trả khách</Typography>\n              </Grid>\n              <Grid item xs={2}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.paid_amount}</Typography>\n              </Grid>\n            </Grid> */}\n\n          </Grid>\n        </Box>\n\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"}style={{ marginTop: 20 }}>\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee\n            ? (\n              <>\n                {' '}\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Sửa</Button>\n                <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }}>Xoá</Button>\n                {' '}\n\n              </>\n            )\n            : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n\n        </Grid>\n\n      </Box>\n\n         {/* 3. Receipt */}\n         <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={refund} date={row.created_at} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n}\n\nexport default InvoiceReturnDetail;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ImportReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\nimport {currentDate} from \"../../../../../utils\"\n//import library \nimport {\n  Dialog,\n  Tooltip,\n  Chip,\n  Card,\n  DialogContent,\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InventoryReturnPopUp from \"../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp\";\n\nimport { grey } from \"@material-ui/core/colors\";\n\n// api\nimport purchaseOrderApi from \"../../../../../api/purchaseOrderApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nconst InventoryOrderDetail = (props) => {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n  //  tam thoi\n\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = purchaseOrderApi.deletePurchaseOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa đơn nhập thành công\"));\n      props.parentProps.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa đơn nhập thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [purchaseOrder, setPurchaseOrder] = useState({\n    branch: null,\n    details: [],\n  });\n\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseOrderApi.getPurchaseOrder(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseOrder(res.data);\n      } catch (error) {\n        setPurchaseOrder({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n\n  const updateDetail = async (detail) => {\n    if(store_uuid && branch_uuid) {\n      try {\n        const response = await purchaseOrderApi.updateDetail(store_uuid, branch_uuid, {...detail, posted_to_inventory: 1, date_received: currentDate()});\n        props.parentProps.onReload();\n        setReload(!reload)\n        statusAction.successfulStatus(\"Nhập thành công\");\n      } catch(err) {\n        statusAction.failedStatus(\"Nhập thất bại\")\n      }\n    } \n  }\n\n  useEffect(() => {}, [purchaseOrder]);\n  const debtAmount =\n    Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount);\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return purchaseOrderApi.editPurchaseOrder(\n      store_uuid,\n      branch_uuid,\n      uuid,\n      body\n    );\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        reloadDetail={() => setReload(!reload)}\n        onReload={props.parentProps.onReload}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Trả nợ đơn nhập hàng <i>{row.purchase_order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={ true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date\n                    ?.split(\" \")[0]\n                    .split(\"-\")\n                    .reverse()\n                    .join(\"/\")\n                    .concat(\n                      \"\\u00a0\\u00a0\" +\n                        row.creation_date?.split(\" \")[1].substr(0, 5)\n                    )}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.created_by_user\n                    ? purchaseOrder.created_by_user.name\n                    : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={3}>\n                <Box>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {debtAmount > 0 ? \"Còn nợ \" : \"Trả đủ\"}\n                    {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                  </Typography>\n                </Box>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat\n                    value={row.total_amount - row.discount}\n                  ></VNDFormat>{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseOrder.branch ? purchaseOrder.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Đổi trả</TableCell>\n              <TableCell align=\"right\">Giá nhập</TableCell>\n              <TableCell align=\"left\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseOrder.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat\n                    value={Number(detail.quantity) * Number(detail.unit_price)}\n                  />\n                  {!row.is_imported && !detail.posted_to_inventory ? <Button variant=\"contained\" color=\"primary\" size=\"small\" style={{ marginLeft: 15, height: 30 }} onClick={() => updateDetail(detail)}>\n            Nhập\n          </Button>: null}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n\n\n                        <Grid item xs={2} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>    \n                        </Grid>\n                        <Grid item xs={2} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n                        </Grid>\n                    </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseOrder.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseOrder.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={purchaseOrder.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền nhập\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography\n                  variant=\"body1\"\n                  gutterBottom\n                  component=\"div\"\n                  style={{\n                    fontWeight: 500,\n                    color: theme.customization.primaryColor[500],\n                  }}\n                >\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Đã trả NCC\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n          {/* {info.user?.uuid?.includes(purchaseOrder?.created_by_user?.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              style={{ marginLeft: 15}}\n              // onClick={handleDelete}\n            >\n              Xóa đơn nhập\n          </Button> :null} */}\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n            style={{ marginLeft: 15 }}\n            onClick={handleDelete}\n          >\n            Xóa đơn nhập\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={handleClickOpen}\n            disabled={\n              Number(row.total_amount) -\n                Number(row.discount) -\n                Number(row.paid_amount) >\n              0\n            }\n          >\n            Trả hàng\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In đơn nhập\n          </Button>\n\n          {!row.is_imported ? <Button variant=\"contained\" color=\"secondary\"size=\"small\" style={{ marginLeft: 15 }} onClick={() => handlePrint()}>\n            Nhập hàng\n          </Button> : null}\n{/* \n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n\n        {/* 3. Receipt */}\n        <div style={{ display: \"none\" }}>\n          <div ref={componentRef}>\n            <ImportReceiptPrinter\n              cart={purchaseOrder}\n              date={row.creation_date}\n            />\n          </div>\n        </div>\n\n        {/* Tra hang */}\n\n        <Dialog\n          fullWidth={true}\n          maxWidth=\"lg\"\n          open={open}\n          onClose={handleCloseReturn}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <InventoryReturnPopUp\n            handleCloseReturn={handleCloseReturn}\n            purchaseOrder={purchaseOrder}\n            classes={classes}\n            reload={props.parentProps.onReload}\n            reloadDetail={() => setReload(!reload)}\n          />\n        </Dialog>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryOrderDetail;\n\nconst headCells = [\n  { id: \"stt\", numeric: false, disablePadding: true, label: \"Stt\" },\n  { id: \"id\", numeric: false, disablePadding: true, label: \"#\" },\n  { id: \"name\", numeric: false, disablePadding: true, label: \"Tên\" },\n  { id: \"price\", numeric: true, disablePadding: true, label: \"Đơn giá\" },\n  { id: \"quantity\", numeric: true, disablePadding: true, label: \"Số lượng\" },\n  { id: \"protein1\", numeric: true, disablePadding: true, label: \"Thành tiền\" },\n];\n","import React, { useRef,useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {ReceiptPrinter} from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {calculateTotalQuantity} from \"../../../../../components/TableCommon/util/sortUtil\"\n\n\n//import library\nimport {\n  Box,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  Chip,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\n\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector } from \"react-redux\";\nimport purchaseReturnApi from \"../../../../../api/purchaseReturnApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\n// dơn trả giá trả có khác ko ???\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n  })\n);\n\nconst InventoryReturnDetail = (props) => {\n  const { row, openRow ,} = props.parentProps;\n  //  tam thoi\n  const currentUser = \"Minh Tri\";\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [purchaseReturn, setPurchaseReturn] = useState({\n    branch: null,\n    details: [],\n  });\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await purchaseReturnApi.getPurchaseReturn(\n          store_uuid,\n          row.uuid\n        );\n        setPurchaseReturn(res.data);\n      } catch (error) {\n        setPurchaseReturn({\n          branch: null,\n          details: [],\n        });\n      }\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow]);\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n\n  \n\n\n  return (\n    <Collapse in={props.isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã trả hàng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.purchase_return_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã đơn nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.purchase_order\n                    ? purchaseReturn.purchase_order.purchase_order_code\n                    : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7}sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày trả{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Nhà cung cấp\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.supplier ? purchaseReturn.supplier.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.created_by_user\n                    ? purchaseReturn.created_by_user.name\n                    : \"\" }\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12}sm={5}>\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  Cần thu{\" \"}\n                  <VNDFormat value={row.total_amount - row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả </Typography>\n\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {purchaseReturn.branch ? purchaseReturn.branch.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item   sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              {/* thêm cột giá trả */}\n              <TableCell>#</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              <TableCell align=\"right\">Số lượng</TableCell>\n              <TableCell align=\"right\">Giá trả</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {purchaseReturn.details.map((detail) => (\n              <TableRow key={detail.product_code}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                <TableCell align=\"right\">\n                  {detail.quantity}\n                  <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).filter(batch => batch.returned_quantity !== 0).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">4 </Typography>\n              </Grid>\n            </Grid> */}\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({purchaseReturn.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(purchaseReturn.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.total_amount} </Typography>\n              </Grid>\n            </Grid> */}\n\n            {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n              <Grid item xs={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Phí trả</Typography>\n              </Grid>\n              <Grid item xs={2} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">200</Typography>\n              </Grid>\n            </Grid> */}\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n\n              <Grid item xs={7} sm={2} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền trả</Typography>\n\n              </Grid>\n              <Grid item  xs={3} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\"  style={{fontWeight:500, color:theme.customization.primaryColor[500]}}> \n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={ \"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  NCC đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={3}sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={()=> handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In đơn trả hàng nhập\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n\n       {/* 3. Receipt */}\n       <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={purchaseReturn} date={row.creation_date} />\n        </div>\n      </div>\n\n\n    </Collapse>\n  );\n};\n\nexport default InventoryReturnDetail;\n","import React, { useEffect } from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Tooltip, Chip, Dialog,Card,DialogContent,Box,Grid,TableHead,TableBody,Typography,Table,TableCell,TableRow,Collapse,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PrintTwoToneIcon from '@material-ui/icons/PrintTwoTone';\nimport GetAppTwoToneIcon from '@material-ui/icons/GetAppTwoTone';\n\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../components/Button/MenuButton'\nimport InventoryReturnPopUp from '../../../../../components/PopUpReturn/InventoryReturnPopUp/InventoryReturnPopUp';\nimport {ThousandFormat, VNDFormat} from \"../../../../../components/TextField/NumberFormatCustom\"\n\n\nimport { grey} from '@material-ui/core/colors'\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  },\n  card: {\n    background: theme.customization.mode === \"Light\"? null: grey[800],\n    borderRadius:theme.customization.borderRadius,\n    color: '#000000',\n    borderWidth:2,\n  },\n  background:{\n    background: theme.customization.mode === \"Light\"? theme.customization.primaryColor[50]: grey[700]\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n\n}));\n\n\nconst CheckHistoryDetail = (props) => {\n    const {row, openRow }= props.parentProps;\n    const {isMini}= props;\n    \n  //  tam thoi\n    const currentUser = \"Minh Tri\";\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    //calculate\n    const moneyDif = row.details\n    ?.map((detail) => detail.quantity * detail.unit_price)\n    .reduce((total, ele) => total + ele, 0)\n\n \n    return (\n      // <Collapse in={ openRow === row.id } timeout=\"auto\" unmountOnExit>\n      <Collapse\n        in={isMini ? true : openRow === row.uuid}\n        timeout=\"auto\"\n        unmountOnExit\n      >\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.product_name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={5}>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Mã đơn kiểm\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.inventory_check_code}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Ngày kiểm{\" \"}\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {/* {row.created_at}{\" \"} */}\n                    {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }\n\n                  </Typography>\n                </Grid>\n              </Grid>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tồn kho\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    SL thực tế\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.details.sum}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n            <Grid item xs={12} sm={5}>\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Trạng thái\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    Không cân bằng\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.tongSLthucte - row.tongtonkho}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Chi nhánh thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.branch_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                <Grid item xs={5} sm={6}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Người thực hiện\n                  </Typography>\n                </Grid>\n                <Grid item sm={4}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.user_name}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Typography\n            variant=\"h4\"\n            gutterBottom\n            component=\"div\"\n            style={{ marginTop: 30 }}\n          >\n            Danh sách sản phẩm\n          </Typography>\n          <Table size=\"small\" aria-label=\"purchases\">\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell>Sản phẩm</TableCell>\n                {/* <TableCell>Mã vạch</TableCell> */}\n                <TableCell align=\"right\">Tồn kho</TableCell>\n                <TableCell align=\"right\">SL thực tế</TableCell>\n                <TableCell align=\"right\">Lệch</TableCell>\n                <TableCell align=\"right\">Giá trị</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {row.details?.map((detail) => (\n                <TableRow key={detail.product_id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {detail.product_code}\n                  </TableCell>\n                  <TableCell>{detail.product_name}</TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat value={detail.branch_inventory} />\n\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              label={`${checked_batch.batch_code}-${checked_batch.quantity}`}\n                              size=\"small\"\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <ThousandFormat\n                      value={\n                        Number(detail.branch_inventory) +\n                        Number(detail.quantity)\n                      }\n                    />\n                    <div>\n                      {JSON.parse(detail.batches)?.filter((batch) => batch.is_checked)\n                        .map((checked_batch) => (\n                          <div>\n                          <Tooltip\n                            title={`${\n                              checked_batch.position ? checked_batch.position : \"\"\n                            }-${\n                              checked_batch.expiry_date\n                                ? checked_batch.expiry_date\n                                : \"\"\n                            }`}\n                          >\n                            <Chip\n                              size=\"small\"\n                              label={`${checked_batch.batch_code}-${checked_batch.checked_quantity}`}\n                            ></Chip>\n                          </Tooltip>\n                        </div>\n                        ))}\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <ThousandFormat value={detail.quantity} />\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                    <VNDFormat value={detail.quantity * detail.unit_price} />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <Box\n            className={classes.background}\n            style={{\n              padding: 10,\n              borderRadius: theme.customization.borderRadius,\n              marginTop: 10,\n            }}\n          >\n            <Grid container direction=\"column\">\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng SL lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <ThousandFormat\n                      value={row.details\n                        ?.map((detail) => detail.quantity)\n                        .reduce((total, ele) => total + ele, 0)}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n                <Grid item xs={5} sm={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng tiền lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={3} sm={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    <VNDFormat\n                      style={{\n                        fontWeight: 700,\n                        color: moneyDif > 0 ? \"green\" : \"red\",\n                      }}\n                      value={moneyDif}\n                    />\n                  </Typography>\n                </Grid>\n              </Grid>\n\n              {/* <Grid container direction=\"row\" justifyContent=\"flex-end\">\n                <Grid item xs={2}>\n                  <Typography variant=\"h5\" gutterBottom component=\"div\">\n                    Tổng lệch\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <Typography variant=\"body1\" gutterBottom component=\"div\">\n                    {row.total}{\" \"}\n                  </Typography>\n                </Grid>\n              </Grid> */}\n            </Grid>\n          </Box>\n\n          {/* <Grid\n            container\n            direction=\"row\"\n            justifyContent={\"flex-end\"}\n            style={{ marginTop: 20 }}\n          >\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n              size=\"small\"\n              style={{ marginLeft: 10 }}\n            >\n              <MoreVertIcon />\n            </IconButton>\n\n            <StyledMenu\n              id=\"customized-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <PrintTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"In đơn nhập\" />\n              </StyledMenuItem>\n\n              <StyledMenuItem>\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <GetAppTwoToneIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Xuất excel\" />\n              </StyledMenuItem>\n            </StyledMenu>\n          </Grid> */}\n        </Box>\n      </Collapse>\n    );\n}\n\nexport default CheckHistoryDetail\n\nconst headCells = [\n  { id: 'stt', numeric: false, disablePadding: true, label: 'Stt' },\n  { id: 'id', numeric: false, disablePadding: true, label: '#' },\n  { id: 'name', numeric: false, disablePadding: true, label: 'Tên' },\n  { id: 'price', numeric: true, disablePadding: true, label: 'Đơn giá' },\n  { id: 'quantity', numeric: true, disablePadding: true, label: 'Số lượng' },\n  { id: 'protein1', numeric: true, disablePadding: true, label: 'Thành tiền' },]\n;\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQIAHAAcAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wgARCAEAAQADASIAAhEBAxEB/8QAGwABAAEFAQAAAAAAAAAAAAAAAAYCAwQFBwH/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAwQFAQIG/9oADAMBAAIQAxAAAAHqgAAADEjU8Us1EPov1d/ga9ahvWvEvj27ZGwz9Ai9zPb81rqzdLQ+S0LWWIJQAAAABid5kRfVYOtRqpL1YAAAAABVSJHKOaZtGz0FiZeTeDnQABid5bg6xt5oWYgAAAAAAAAL84gF+tN0diZeJohzoFEC2sc16AXqwAB5Go/e30eqZ925bIJruRhO+c/HsCb5Ni/s5gd4ABnT3mkjo2ZWMi+xMuHzxaOk3swAAanz61epMfSDz6AAA2EtgWwtV5g890qIACqkdDy4fMMHTt84mEMv1Qv1gAEPmECp2aBn3QAABlcYo6ku7hkz1KAWIAAK+j81mdCzq9BsNfahCXwAA5/0Dn9G2bnTZ9wPXABnc7c65ibHMtc3ifdIjN453Puf9A3MwL1QABv9BsIveLZ98l8AAAOf9B02dd6TD5m+c1+QavudFmHh2b2K71ApveVZQj9AcL6Bp9z9Pj+DRpAAL1n0eXrIAABsN1pd18xu5QzrETg3VtFdhlgpTAcanLe3Yc8UpsXS7rS6NfXj6fCAAe+XjK1+/wBBF7CXwAB7n69FJNFNXxv0IcCl2pTUA4Keo7gePsvngljAAbDX7+L3tIZ0rnFWagX6wAAEmzo1JfldwKNnz2xV31d8t0l8c8sHOjV6tgD6rDAAATOH9HoWbkPmGJQtc8VU72YAAA3ui9glmbQ735fb9pqV5qagPNFYhv6L3z6jECeIAAVG8mGJl4OmEEsUjnS4Fr0MEXqwAt9XMXHomV9Y5J13LuaX2in5Tdu+W6jdcn61yL6vCy8rVV6lPZLdyEHACR6qe0bNYyL4DEy3ec3sz+D7ebYKbUVGB7TYB6JzBq4PfVNXiyX5bY0m0vxoQauj6nHCfx7n6+ry2amquXvZxVmuZZiaIc6AAxMt3nPtL1iGbNGJKqdasAAAAAAKi9usuZ5NnHyzGvBzoAAAAGDEJ6sxcgt9e0OnV5+k+suw6tkWJvHj2+Y7abOH3GLk83tKaES/OZloK0oAAH//xAAkEAACAgEFAQEBAAMBAAAAAAACAwEEAAUREiAwEBNABhQhMf/aAAgBAQABBQLyMxXDNSUOHqbZwrjyyWsn7DTjBuPHA1NsYvUlFgGLI/ifYWiH6kw8IpKfISkZRqTAxFhb49jKAG1qMzkzMz7RMxNXUZjAKDHzsvBAWbJ2C/irWTrlWeDw8bdka4NYTT/kUwlHUsjYDvZeKFNYTT/mUwlHWeL1dTKAG2+bDfB9pasZeaWEwy+Qw4yLToz/AHH4bmHlaeSO9R812gUGPTVbG5d5naLV2S8URxT4aVY2L7bd+CJnee92z+k+NWySZAoMe8TtNR37o+as7m7vqLeCvOpYlJx/2O+ku4OxhwtZFJF3vHzs+mmt5B3EpEln+i9WPjW8Dnc/E67QT8pnws+Gknyrawe7/wCHT6pW7H5BKtT0kk/I/wCT4aOez75crfjqNBlM+1Oq22yjUCmn5qekw3yoFxtundviYwY3NDAsfp9pOf8AnxNR7sqaHOJUCQ9Uzs2fGvozmD9IRLIWA+FjRnLHwjJ8KY7n9/yGwxKallld3S3ZZZd/j1hjkfbg7H3jHRs3vTLY/t2qu2mroq0u6WtFW51Kquon7cLc+6Y3bfHjb8AtFEeh2SmPCgPK3rAbP8RncekztkTv1Kdh8dHDd+rByreNM+SPsTv9mdulw+KPHSQ41mBDFkMiXhUb+bPsxxmDjJOMiOU/bbf0Z4CMkSw/Neasng7xp2N+nGM4x0t2NvLSU83fLaf3RMbT4ot8cGeQ9CmBF9vl5RG81E/gj7qtfYvAm5JTOAEAjlOcs5ZynCCDRBTGC3x0qvuXQxgxtomu3qZccIpL6ov0SUbT8GN5aX5p+CUjgFy7VETYaAwA9bKBepqyUf0y49dEtQS3q54QyOCMliFcM1u1Ar6AXKPqlk06yBQrvbrDYBqyUeFO0TO89BKQKnqwFAMBkGwFxc1YBgiky6RO0jO8YpZNOpWGuHjZQDws1jrk2d5/gVO01qx2CrIBAeZjBjd0koyYkZ9oiSmlpJTgDAD7WaibMWdJaGGJAXkAkZVtJaeVqia0fxMWDYdpCDxmjujDoWgwktHNs2wUtLAoWjxejunE6QgMWsFR5f/EACURAAEDAwQCAwEBAAAAAAAAAAECAxEABCAQEiExE0EwUWEicf/aAAgBAwEBPwHBbqUd0q6UeqLiz71Dix7pN0od0h1K+syY5NOXBPCfhbuCOFUDPIwJjk066Vn8+Np0oP5QM8jW4ck7Rghsr6pDCU6bQaCEj1Su8LdyDtOjq9iZwSncYpKQkQMXmd3IxaXvTNXSpVGFsOSc307VYWquYpwyo4WvuiI17ptG0Utr2mrr1g2YWMbNJVMUUhXdFn6rwUlAT1reJKYn4bCPFxotCiqRqhCgqTpfx4ucXBCzg26tvlBzcdW5ys4NiVirpMKnG0d8jf8AmkfVR96Xbvjb/wBxtU8zTqN6YxZdLSpFNPodH86uvpaH9U88XVScWkbExpcNwdwxtOzUCoFXfYxt25O46kTwadaKD+YNr2GaaueOKdueOacXvM4NNFZ/KAjgYETwactyOU/C3bk8qoCOBmtpK+6VakdUW1j1pFBtZ9Um1J7pDSUdY//EACYRAAEDAgUEAwEAAAAAAAAAAAECAwQAERASICExBRMiUTJBYTD/2gAIAQIBAT8B0NRlu8UiAkfI3pLDaeBVgKtelMNq5FLgJPxNqdjLa51pSVGwpiEE7r5/i/CCt0c0pJSbHQlJUbCo8cMj9/nIjh4ftKSUmxxhMZRnPOhx1LY3pclaqvQWocGitR5NJ4GiaxmGcc4Rmu6u2hasicxpays3Olh/L4q40yWu0u1QEWSVe9Ew+IGm+EVeZGiei6Qr1TCcrYGib9UlQULjEm25p97uHamZP0uoX3ofTmbIobaJ60oy5qQ4pHFCYfsUZnoUt1S+cYC0rzZdB3ob6OqZu/vg06hKLHF11Cm7DDpebv7aDtTCszYOh1ht4WcF6IttpAvtTTDbIsgW0Pqytk1AXdJT609QY7Tx9HT09juvD0NM9dkhPuozvaXfTJjpkIyqqRFcjnyGMeK5IPjUaOmOjKnTJd7q74Qn8wyHnHmg37rqo8U49KHiqi36rjGa/lGQc4pUUm4qPIDw/cEpthIYD6MpqRCUg+QtUeEpZ8Reo7AYRlGCk3wkSAyP2lKKjc6EqKTcVFmpUbObH+MqalJs3uaUoqNzrZluM/E7U31NB+YtSZLS+FUCDxRIHNKktI5VTnU0D4C9PS3HvkdtP//EADAQAAECAwYEBwACAwEAAAAAAAEAAhEhMAMSIjFBURAgUoEEEzJAYXGhI7EzQmKR/9oACAEBAAY/AqUXuDftYIvWBrWqdoe0lN7j34ye4d1K0Peaxta5Y4sUWODvr2eN09lCyFwfqi4kn5pxaSD8KFqL4/VgdPavecYBXbCQ6lEzNeIkVdt5jqV5piKkX9husWWg9nhy1CizuKU5uOQRc8xPtQ5hgVKThmKF53YboveZn24ewzCvN7jbmLnSAV45aCjDN2wWHCFicT34Se4d1/kK9f4sT3FMJ2oXhlqEHNmDy+S3IeqhEq7ZSbvRYPij5Lsj6eRz9dFE50LjPQP2lDNmyDmmIoRGaa/XXiLMZN/uhdGbqk/Qc1KgbM5O/vg5x0EUXHM0HfEqpszm3KgHDMJrhqIq71GiTuaTLVzD5b8jxZ/5Ru9JTW9I9kGD0/7HYLyi0eXCEEbTw8XWeo1HAGi5vUFafcKU52Rydz3LIfZ0CuMz1dvxNp4aDbTVuhpWf3BPO5pFrwC06FXvDOuHpOSxWLobtnx/jsnnso+KfD/lquWTQ1vxWYdjSjauFn8ZnkxNB+1JjR2oRs3C0+Mj7Inbks2WZLb8YkJr2OOcxvyue9xzkNlaMtCXXIQJ5Ad6LxsaBG/JctOxGiD32htITAhDlL2Whs4zIhFXLPuTryAbUGDcq0+40cQjVwiFGz+4pruoUgaZNJzukK90mkPiVM/MqV7qKc06iCLTmKM/SeSI4xPJL0iiGjMprRoIcBaDJ390rj89KNxmetI2hyb/AHxczXRQOdKFpMboOGR5S45BQs5DelAZprNdeTzm5H1UcKmgzpbDlLOpsFJYqPnOyHp5S10wVdOWh558Wu6hFEcQE53SI8Zc90ZalBrZAc113YoseJjk+eXyHHE30/SiM1MKQUTmvIacTvV9cvzyBjBMq63uaE5OGRRa8QPCPMHNMCEG+Jwu6tFge130Vje1v2UW+GxO6tEXOMSeaPANYIlSm45mlB/Y7LFloVD2MFhy1Kgzud6l1wiEX+GxDpUCIGvACJQf4nCOlXWiAr/yNnuM1GxPmDbVQeC07GnBgLjsFG2PljbVfxtnuc/ZwtGhw+VgLrP9WB7XfinYu7TWKzeO3HDZvPZSsXd5LG9rf1Yy60/FCzaGj4p//8QAJxABAAEDAgYDAQEBAQAAAAAAAREAITEwUSBBYXGBoRCR8EDRseH/2gAIAQEAAT8h0o4rqirWG6EFYkPtrFP8cq9zzpVytCmFr1fOs0/xzrEh9NWsN1JKjiuqf4/HIbrUwDdzRu9c1OmXOuaiogG7innkdk11gjytTvdmXtTJVMrrklQwlRvZmTvQwT4TUlVdw5pNXBw4P45q5eXDUqrmXJpTP2XU/Z9fyx9n3Uz9F6DK843FTsPV/PGw91ErTjccSUQpWllg22jRlU1HKXSz917FqTFevhVivJelP/L/ACsEm02pcuTOgMuO28UlEKR4b08zqdtAEQAytMrvM53RjZGDc0b08zoduAOwBu0zpKZXQd00pKk8/Z2qfk89BjSAyNB2ANn5mBv6CGfl+NSJXYG3WkAqRuOhMDb+GINqM7KS6HSNvxqzh5nZoM7CSUWBFSOLeLwfjR6lDpEgdj+ZByWXnRnm3i8P5rY32v4/ilfBekZUsmWio15eX/U+H0RnR2N9p+ak+3otpI4LP/N68YmTu4OtBL6u2V8x7yMH+LpSff2WrqYvvSswUQkaRfLH7ZKRZmwh6pFQkPwmX3nYfeKehB5/LQ8K5azoYvulKuiRmuEfZwekFNPSx0BoMY7kGiKEaEKaAu9vfglJnmUEW911+U2Ozw9elNjsVKDPMoZt64BN7++gJQrqYnvQF3t4L6yGcpVPOODT134Z5xwaem1X1ss5S4BN79DoYnuoPv7L6MCDrw6sKDry6MH29F62N9p+NLrcDwxMTUTEcPS4XS2N9r+ajiXm8P40opzvcAYPyGTwRTna0p5l5vB+axBtQnYSHRtK5LwNyGlZtQsXpuQ8FpXJNEnZSCiwIvhEDf0gAayy34FMlAYOAitdkctKIG38g7gWzTOEBhNJgT/YKFDN4d+FQYvLtTBn+w6TGEpgKDuBbvBankdDvoKBKwVyB5azJahdYPoUUdtdtNEZiE+xWZJXIHkoRJGTQtTyOp34QohQlLLjvvHEI3dqQlfIl4H7FK5kflTMrQt4X6HyhKoRs7cQywb7RQUQoDiZWnOw1Gw93BG6qVWXPBvPHVTZf/dLQxS0M1uv/mt546OAKMma7Y4J2Hqolec7joRP0XUfZ9/AuqZlzwtSVInKu0xC7/KnhHQanhHQK7zELP8AaakqVefCxJmhMfE/Z9VE/ZelCq5hzSKmXhw1bWD+G+sNRUwcuCoVXcudQsE+RplDkW3O29OXBZEhNcy5LAErTKHIFu99qGCPAa9oe20PNToPCoqKeRDpimnkS1Gg8qloe+8vP8fTtwmpJY6MPdY2+t1ZQfrlXsEZSjIlCcC16BG1hB+udY2+l1QSx1Yeq6duEaf/2gAMAwEAAgADAAAAEPPPPNzzffTT+/PPPPPOtXvvvvvvrvfvPPPp/vvvvvvvvvmvvPLfvvv4MI8/fvvnfL3vvuIwQQQYvvvrn1/vvqwQQQRwdPvvq1fvvqggQRralvvvqffvvovD3b//ANL777337777/T//AI/++++9V+++e2/++/6u+++pX++++/8A1af/AP7776vvb777jqxzbX777rfzn77pQ5646jT77Xzz7vyTzmhTXxjzb7zzy6nTzzzzzzhV7zzzzzx1fHXnG+3zzzz/xAAlEQEAAQMEAQQDAQAAAAAAAAABEQAgMRAhQVHBYXGhsTCR8dH/2gAIAQMBAT8Qs2Zb9ViMVnVSrmhTFY1VgM1sy36vAybVxqfP4edT5oDJtYBcH5dNAJg166PuxuKZIl9aANinOCtwB+qhOLOun70mRnixjPNGrQBz/dsSs81AdbJ+paC40OU5sgfep962eHzSKHUFQVlMtf5leXxZPPWllmxYmceaMgUPKgctYJqsTGfFgwzSQxZt+Us+/wDI04Aa8ANN/wApI9/5NgSxUc9bFdhQySaBNJGiwS0ruLI561Ad7QA52PjR50OegEOdh5tkfWpkZ4t/bs7qZLfrmhTFKuamy365r9Gzq2JWedOun7tYJ7VJvUG9MU97euj71AuC3R49GwUnzRkFB808+3QCYLAMG1c6nz+HjU+aAwbX7sN+6yWazqpEzQnFY1VmsVuw37t//8QAJxEBAAEDAQcFAQEAAAAAAAAAAREAITEgEEFRkcHR4WFxgaGx8DD/2gAIAQIBAT8Q0XIwcXFX5lyO9YZ5T+0YBSMisM8o/KvzLmd6uRk4mNYA5Wou/wAG471jXmpu3wbntSA4TQAOVqet1l6H+c9LDD0aQHCbbP3Y9DzomHLTNmD070pZWsgHzQ0I/NTvZjRZ+zPqeNkC8F32rG0U3FIc+l2J2eNGakThue1TrlfR50KcS/mlBAudiROS2iNcr6fNe0x930dXpQBZNoGSCk4Ix3ru3el+euj2mfq9CAaDEoz0pGXFEqaOrTd+0xKcddAglKA6L3dgj2jvOx6d/wB2nDv+bLXdhn2jvGhQWvaY+raCAQf2c0iVu0ogb6iDD/Zzo9pn7tU65X0+dKMjeHznk9NkVGxGRvX4xzeumNcr6PNQLw2fas6FnxPBqEWtyYf7hthBtvXB/cKGfM8XRipE4LHtsu/Zj1PG0FQURejQGL9PNMlmiWxTQOLdfFE3oiodt37s+h52gHhKjrYZOpQSwUB9djG05Hg0tkXHI0NkXHcURvOV4uwD60kWajpdYOrSB5XQAeEo4/qbnt+UM3Naxdp4/qbjv+UgeV12qTgbnj4q3suZ3rHXOP2somsoisdc5/Kt7Lkd6tUHAWPPzp//xAApEAEAAQIEBgEFAQEAAAAAAAABEQAhMUFRYSAwcYGhsZEQQMHR8PHh/9oACAEBAAE/EOVv2kZdNaaQ3PyTfxU4auRLvY8Uu3bKPoKRVB1ntrFB1awQdGkxQNJ6aXOjR9DUYauBbvc8U0Jufki/it+0jDrp9nLCGT4Ky6sFZACnc74H9esXATE93l4OAmI7lZACjY74P9epYSSfBWfUk54WZlcBSZnBS+Bl1b9KUiEolXd56kQlEI7NJmcEP4mfUv1oLMyuR5l33eBttvVwdXX+rv8AZ3B1df4u9Wfd4O+2/KsyAwN1q6FIF+CNAyPtUC/BGiZlWZAJG61NTkXlHF30OmrU1qdhkGgfbtaZ2GY6jVpRxd9Dpo8Qj0lZBU538jZufJbTPfTq4Hum0bsjPcvxFMK26zQlIo6leP5fmh4T0HsUFC+x0ARhin4YUvqzBzQieROd/I2ZlQjwhZjwuV7iHY7MevTkFiaUQBrWBIQW6Oh5puy48gARLJIsXR5Lte6j3O7Hr14EhCSdm4fvoNLOaRiri8awS4UzESFHGZ9NPnlHZw3W+7R0waGIGQf2PIWcUDETBoIQMjZOP76J9biwzHNY/BHnkPGkyTI4/OHzzCaK49Zv7oQggDIjnyLCwzPIYfJPj6Yx2N4MKmRO2qsvIW+l+hm8zzWkTEM3l2ffIiRO2iMlYU+NpJirJB0dx8+XJdtlQ7s8ozyLBKukOixJOJh9Wm47Os9o9uTdIeDuHnwqAmZCaJL4Psh3JRiwY93A3etGQY3SEgI7FQcGcCf4viZzj9HMxL4PJkJxAapJ4aXHn0h+HKt0IMs+j2y40JghtNUvxi0dOETqnQ0Mvl+svrmxTqZeB2x5Vx49I/lUt/tk8oOiQgGiNA6S9+Xb2J7VGFtp6zKO8U5UFkSE+hUTgK7rgfNYj4yStsE7T1rCvWUS6riu7fnQ3+mDW4ivIBUAlcAoFkZRDokDpM9OAWCtn2ogLZueDkAujKKGxKPSZ0mkRRITEeRsIjWwinIPEQEHVg+HghaGZEGw5T6Vhdi8ZFwznhxqwsiRYMoqFIZkwbjnHtwHiAGBoxfJyNxEKlv9MjkOHECW5geXgVFlGYST8n/KiTOoQsG5s0twzJnEJWLcXaXoUWcZhJfwcDhzBlu4ng5EN/tgVYePSH5cgURGEwSixEwT8jzXxFxD8DSqqsrivIsPPpH8KgIwDul/Dyhg4fOE8KAkGd8KRFgyvjwmjg52J5UhGANkt4KXSDp7D58OUSTfexh4jgWQmMfqsBE4cBBN87mPieVZIeHsHnyrGOxtJjUyJy0Rh5JWtC7gOT/a8D29mNKCxrpNBY10isO2Q14CedK5gub/AGnJiROWqsFYU+N4In6WFhiOQx+SPPKgf3m4NHfgbkZ2tTcjO9+CY3adg0N/XKuLDE81h8E+PqkIGTsnD9dFpZzSMRMTlQxmwb9TX31qL1YZYbcMTqy8BUsZsvA2099OUs4oGKuBQQhJGzcf10Dgcr3AOx3YdevIdCDNoyZH8YUl2TL4oDmICbH4oWMPWh5+dLyPzSsIOlM6aAGx+aS7Jl8UbED+MKNCTM5Dve6D3OzDr04RHpKzGpjv5CzM+K7ruArsEBgfVpJnxsP5oG4UP1BuRBTSw+nRH8fXuEDg1Z1nFcUx38hZuVCPCFkHFbUbMvrdNSmtM7DJNR4DjL4BpvTtVWK8DARPI410Nxns7UN6CQzgP3SRfuW+aCL3Qt80N6KQRgP3RATHA4Vwd1jsb8BtUGCUcTBiGu/A1pnYZroFX1G7L63TQ5FmQGAutHUpAvwRqOZ9MpDA1aQOVwmN8vCjOhChtfbqF146UMb8/WNLC/P3jQhSkW26DdeOtON8vKnPhQOBWchiaP0QL8EarkVZkAkLrQ0OVZ93gbbbVcHVl/i7VfT9v2N9P21cHVl/q7Vd93gb7bcwLMwORpmRX5NHBs3600r5MjRHntK+TI0AomRT5NDBsX6UFmYHAc+AsBH/AFB0ZKXPN5QZ0bPZ7Vjx4WHZ5eHHhadil3zeEOdCx3e1QEiI/wCIOhB9nplwcOk4UwtcDxN3mptL4CW7MnmmG35w9zSqJmXvCm4c3IrxeE0qCbl6wpgv+cPcVFrfESXYg80wNcTxN3mtcuDl1jHl/wD/2Q==\"","import React from 'react'\nimport {useTheme, makeStyles,createStyles} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {Box,Grid,Collapse,Typography,Button,ListItemIcon,ListItemText,IconButton} from '@material-ui/core';\n\n//import icon\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\n//import image\nimport avaUpload from '../../../../../../assets/img/product/lyimg.jpeg';\n\n//import project \nimport {StyledMenu,StyledMenuItem} from '../../../../../../components/Button/MenuButton'\n\nimport customerApi from '../../../../../../api/customerApi';\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles((theme) =>\ncreateStyles({\n  root: {\n    '& .MuiTextField-root': {\n      marginTop: theme.spacing(2),\n    },\n  },\n  headerTitle:{\n    fontSize: '1.125rem'\n  },\n  typo:{\n    marginBottom:20\n  }\n\n}));\n\nconst UploadImage  = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120, \n        borderRadius:120,\n        marginLeft:15,\n\n      }}\n      src={avaUpload}\n    />\n    \n  )\n}\nconst VoucherDetail = (props) => {\n    const {row,openRow }= props.parentProps;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    const info = useSelector(state => state.info)\n    const store_uuid = info.store.uuid\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    return (\n        <Collapse in={ openRow === row.uuid } timeout=\"auto\" unmountOnExit>\n             <Box margin={1}>\n                <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n                 {row.name}\n               </Typography>\n\n              <Grid  container direction=\"row\" justifyContent=\"flex-start\">\n                  \n                <Grid item xs={12} sm={4}>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\" > \n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Mã voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.uuid} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={5} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Tên voucher </Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n                        </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Mệnh giá</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n                          </Grid>\n                      </Grid>\n                      <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                          <Grid item xs={3} sm={5} >\n                            <Typography variant=\"h5\" gutterBottom component=\"div\">Số lượng</Typography>    \n                          </Grid>\n                          <Grid item xs={6} >\n                            <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n                          </Grid>\n                      </Grid>\n                      \n                  </Grid>\n                <Grid item xs={12} sm={4}>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Thời gian</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">3.000.000</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                        <Grid item xs={3} sm={6} >\n                          <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>    \n                        </Grid>\n                        <Grid item xs={6} >\n                          <Typography variant=\"body1\" gutterBottom component=\"div\">500.000</Typography>\n                        </Grid>\n                    </Grid>\n                    \n                  </Grid>\n               \n              </Grid>\n\n              {/* Button */}\n              <Grid container direction=\"row\" justifyContent={\"flex-end\" } style={{marginTop:20}}> \n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Sửa</Button>\n                          <Button variant=\"contained\" size=\"small\" style={{marginLeft:15}}>Xoá</Button>\n                          \n                          <IconButton\n                            aria-label=\"more\"\n                            aria-controls=\"long-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            size=\"small\"\n                            style={{marginLeft:10}}\n\n                          >\n                            <MoreVertIcon />\n                          </IconButton>\n                          \n                          <StyledMenu\n                            id=\"customized-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                            \n                           \n                          >\n                            <StyledMenuItem>\n                              <ListItemIcon style={{marginRight:-15}}>\n                                <HighlightOffTwoToneIcon fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary=\"Ngừng hoạt động\" />\n                            </StyledMenuItem>\n\n                          </StyledMenu>\n\n\n                      </Grid>\n\n             </Box>\n           </Collapse>\n    )\n}\n\nexport default VoucherDetail\n","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n}));\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput , { ThousandSeperatedInput }from \"../../../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"../../../Category/Category\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../../../api/productApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport CategorySelect from \"../../../../../../components/Category/CategorySelect\";\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst UpdateInventory = (props) => {\n  const dispatch = useDispatch();\n  const { handleClose, open,isManageInventory } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  useEffect(()=>{\n    const displayList = JSON.parse(props.productInfo.img_urls ? props.productInfo.img_urls : \"[]\").map((img) => ({link:img,isUrl: true}))\n    setDisplay(displayList)\n  },[props.productInfo.images])\n  const addImageHandler = (e) => {\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n  };\n  const productFormik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      name: props.productInfo.name,\n      barcode: props.productInfo.bar_code ? props.productInfo.bar_code : '',\n      importedPrice: props.productInfo.standard_price || 0,\n      salesPrice: props.productInfo.list_price || 0,\n      category: props.productInfo.category.uuid || \"Mặc định\",\n      unit: props.productInfo.quantity_per_unit || '',\n      re_order_point: props.productInfo.min_reorder_quantity || 0,\n      product_code: props.productInfo.product_code || '',\n      max_order:props.productInfo.max_order || '',\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number().required(\"Nhập giá vốn\").moreThan(-1, \"Giá vốn không được âm\"),\n      salesPrice: Yup.number().required(\"Nhập giá bán\").moreThan(-1, \"Giá bán không được âm\"),\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(-1, \"Số lượng đặt hàng lại không được âm\"),\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n    }),\n  })\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const updateProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\"list_price\", productFormik.values.salesPrice.toString());\n      bodyFormData.append(\"standard_price\",productFormik.values.importedPrice.toString());\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\"product_code\", productFormik.values.product_code.toString());\n      bodyFormData.append(\"quantity_per_unit\", productFormik.values.unit.toString());\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      const img_url = display.reduce((prev,cur) =>{\n        if(cur.isUrl){\n          return prev.concat(cur.link,\",\")\n        }\n        return prev\n      },\"\")\n      bodyFormData.append(\"img_urls\", img_url);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n      const response = await productApi.updateProduct(\n        store_uuid,\n        props.productInfo.uuid,\n        bodyFormData\n      );\n      dispatch(statusAction.successfulStatus(\"Sửa sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error)\n      dispatch(statusAction.failedStatus(\"Sửa thất bại\"));\n    }\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, props.productInfo]);\n  \n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm()\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (!displayImage.isUrl) {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <AddCategory open={openAddCategory} handleClose={handleCloseCategory} />\n      <Box className={classes.root}>\n        <Typography\n          className={classes.headerTitle}\n          variant=\"h5\"\n          gutterBottom\n          style={{ marginBottom: 20 }}\n        >\n          Chỉnh sửa sản phẩm\n        </Typography>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            />\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n\n            <Box className={`${classes.box} ${classes.margin}`}>\n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                <InputLabel htmlFor=\"category\">Danh mục</InputLabel>\n                <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select>\n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              value={productFormik.values.salesPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) > Number(productFormik.values.salesPrice) ?<Typography variant='h6' style={{color:'red'}}> Giá vốn đang lớn hơn giá bán !!</Typography>:null} */}\n\n           {isManageInventory?\n           <>\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n             <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 3 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <Button\n              onClick={handleCloseAndReset}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              style={{ marginRight: 20 }}\n            >\n              Huỷ\n            </Button>\n            <Button\n              onClick={() => {\n                updateProductHandler();\n              }}\n              variant=\"contained\"\n              size=\"small\"\n              color=\"primary\"\n              disabled = {!(productFormik.isValid ) }\n            >\n              Sửa\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </Dialog>\n  );\n};\n\nexport default UpdateInventory;\n","import React, {useState} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst BranchInventoryPopUp = ({open,onClose, branchs,branch_inventories,setReload,batches,has_batches,row }) => {\n    const theme = useTheme();\n  const classes = useStyles(theme);\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  console.log(\"branch_inventories\",branch_inventories)\n  const findBranchQuantity = (id) => {\n    // if(!branch_inventories){return -1}\n    const rs = branch_inventories?.find(x => x.uuid === id)?.quantity_available\n    if(rs){return rs.toLocaleString() }\n    else{ return 0}\n  }\n  const [openModal, setOpenModal] = useState(null)\n  const dispatch = useDispatch();\n    const generateInitial = () =>{\n        let arr = []\n         batches.map(item => arr.push({batch_code: item.batch_code , quantity: 0, expiry_date: item.expiry_date, position: item.position} ))\n        return arr\n    }\n    const [valueQuantity,setValueQuantity] = useState(!has_batches?0:generateInitial())\n  const confirmTransferQuantity = async () => {  \n    //CALL API HERE\n    //   openModal : branch chuyển tới\n\n    //   valueQuantity: SL chuyển \n    //( + nếu là lô thì là array object [{batch_code:\"L0001\", quantity:\"2\"}])\n     //( + nếu ko là lô thì là số \n\n    const body = {\n        to_id: openModal.id,\n        value_quantity: has_batches ? _.sumBy(valueQuantity, 'quantity') : valueQuantity,\n        batches: JSON.stringify(Array.isArray(valueQuantity) ? valueQuantity.filter(batch => batch.quantity) : []),\n        has_batches: has_batches,\n        product_id: row.id,\n        to_name: openModal.name,\n        created_user_id: info.user.id,\n        created_user_name: info.user.name,\n        created_user_type: info.role,\n    }\n    try {\n        const res = await productApi.transferInventory(store_uuid, branch_uuid, body);\n        dispatch(statusAction.successfulStatus('Chuyển tồn kho thành công!'))\n    } catch (err) {\n        console.log(err)\n        dispatch(statusAction.failedStatus('Chuyển tồn kho thất bại'))\n    }\n\n    setOpenModal(null)\n    onClose()\n    setReload()\n  }\n  const currenBranchInventory = findBranchQuantity(branch_uuid)\n var totalQuantity = 0;\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"xs\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            Chi tiết tồn kho\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n               \n                  {batches?.length !== 0 ? \n                  <>\n                  <Grid container  style={{ marginBottom:10}}>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Mã lô </Grid>\n                        <Grid item xs={4} style={{color:'#000', fontWeight:500}}> Ngày hết hạn </Grid>\n                        <Grid item xs={3} style={{color:'#000', fontWeight:500}}> Vị trí </Grid>\n                        <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn kho </Grid>\n                    </Grid>\n\n                    {batches?.map((batch) => (\n                        <Grid container  spacing={2}>\n                                <Grid item xs={3}> {batch?.batch_code} </Grid>\n                                <Grid item xs={4}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                                <Grid item xs={3}> {batch?.position} </Grid>\n                                <Grid item xs={2}> {batch?.quantity} </Grid>\n                        </Grid>\n                     )) } \n                      <Divider style={{margin:20}} />\n                    </>\n                     :null}\n              \n               \n                <Grid container style={{marginBottom:10}}>\n                    <Grid item xs={7}> </Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}> Tồn </Grid>\n                    <Grid item xs={3}> </Grid>\n                </Grid>\n                {branchs.map((item=>{ \n                const quantity  = findBranchQuantity(item.uuid)\n                totalQuantity = totalQuantity +Number(quantity) \n                    return (\n                    <Grid container>\n                        <Grid item xs={7} style={{color:'#000', fontWeight:500, marginBottom:25}}>\n                            {item.name}\n                        {item.uuid === branch_uuid ? <CheckCircleIcon style={{marginLeft:10}}fontSize=\"small\" color='primary'/> :null} </Grid>\n\n                        {/* <Grid item xs={2}>{findBranchQuantity(item.uuid)}</Grid> */}\n                        <Grid item xs={2}>{quantity}</Grid>\n\n                       <Grid item xs={3}> {item.uuid !== branch_uuid ? <Button color='primary' variant='contained'size='small'style={{textTransform:'none'}} onClick={()=>setOpenModal(item)}>Chuyển</Button>:null}</Grid>\n                    </Grid>\n                )}))}\n                <Divider />\n                <Grid container>\n                    <Grid item xs={7} ></Grid>\n                    <Grid item xs={2} style={{color:'#000', fontWeight:500}}>Tổng: {totalQuantity}</Grid>\n                    <Grid item xs={3}> </Grid>\n                </Grid>\n\n\n\n                {openModal?<ModalWrapperWithClose size='h4' title={<ListItem><Typography variant='h4'>Chuyển tồn kho đến </Typography><Typography variant='h4' style={{marginLeft:5,color:theme.customization.primaryColor[500]}}>{openModal.name} </Typography>  </ListItem>}open={openModal !== null}handleClose={()=>setOpenModal(null)}>\n                        \n                {!has_batches?\n                        <>\n                        <Typography variant='h5'>Số lượng </Typography>\n                        <ListItem>\n                            <ThousandSeperatedInput value={valueQuantity} onChange={(e)=>{setValueQuantity(e.target.value)}}/>\n                            <Typography style={{fontWeight:500}}> / {currenBranchInventory}</Typography>\n                        </ListItem>\n                        {valueQuantity > Number(currenBranchInventory)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                    </>:\n                    batches.map((batch) => {\n                        let newValueQuantity = [...valueQuantity]\n                        let index = newValueQuantity.findIndex(item=>item.batch_code ===  batch?.batch_code)\n                      \n                     return(\n                        <Grid container  spacing={3} alignItems='center' style={{margin:2}}>\n                            <Grid item xs={3}> {batch?.batch_code} </Grid>\n                            <Grid item xs={3}> {batch?.expiry_date?.substring(0, 10)} </Grid>\n                            <Grid container item xs={4}  alignItems='center'>  \n                                    <Grid item xs={6}>\n                                        <ThousandSeperatedInput \n                                        value={newValueQuantity[index]?.quantity} \n                                            onChange={(e)=>{\n                                              \n                                                newValueQuantity[index].quantity= Number(e.target.value)\n                                                setValueQuantity(newValueQuantity)                                          \n                                            }}\n                                            />\n                                    </Grid>\n                                    <Grid item xs={6}> <Typography style={{fontWeight:500}}> / {batch?.quantity}</Typography></Grid>\n                                    {newValueQuantity[index]?.quantity > Number(batch?.quantity)? <Typography variant='h6' style={{color:'red'}}>Số lượng chuyển vượt tồn kho</Typography>:null}\n                            </Grid>\n                        </Grid>\n                     )})  \n                    \n                    }\n                        <Button disabled={valueQuantity > Number(currenBranchInventory) || valueQuantity === 0} onClick={()=>{confirmTransferQuantity()}}  variant=\"contained\" size=\"small\"  color=\"secondary\" style={{marginTop:20}}>\n                            Xác nhận \n                        </Button>\n\n                    </ModalWrapperWithClose>:null}\n\n            </DialogContent>\n            <DialogActions>\n        <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n            Huỷ \n        </Button>\n       \n      </DialogActions>\n  \n              \n        </Dialog>\n    )\n}\n\nexport default BranchInventoryPopUp\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\";\nimport DialogWrapper from \"../../../../../components/Modal/DialogWrapper\";\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst VarianceModal = (props) => {\n  const { row ,branchs,setReload,batches,has_batches,isManageInventory} = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const dispatch = useDispatch();\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleCloseUpdate = (status) => {\n    if (status) {\n      props.parentProps.setReload(true);\n    }\n    setIsOpenUpdate(false);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  console.log(\"rowwww\",row)\n  console.log(\"productDetail\",productDetail)\n  \n  // useEffect(() => {\n  //   const fetchProduct = async () => {\n  //     try {\n  //       const response = await productApi.getProduct(store_uuid, row.uuid, {\n  //         branch_uuid: branch_uuid,\n  //       });\n  //       setProductDetail(response.data);\n  //     } catch (err) {\n  //       console.log(err);\n  //     }\n  //   };\n\n  //   fetchProduct();\n  // }, [store_uuid]);\n    \n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchProduct();\n  }, []);\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\n\n  console.log(\"row.branch_inventories\",productDetail.branch_inventories)\n\n  return (\n    // <ModalWrapperWithClose\n    // handleClose={() => props.handleClose(false)}\n    // title={\"Chi tiết biến thể\"}\n    // open={props.open}\n    // >\n    <DialogWrapper\n      handleClose={() => props.handleClose(false)}\n      title={\"Chi tiết biến thể\"}\n      open={props.open}\n    >\n      <div style={{ width: 800 }}>\n        <Box margin={1}>\n          <Typography\n            variant=\"h3\"\n            gutterBottom\n            component=\"div\"\n            className={classes.typo}\n          >\n            {row.name}\n          </Typography>\n\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n            <Grid item xs={12} sm={4}>\n              <Box\n                sx={{\n                  height: 170,\n                  width: 170,\n                  borderRadius: 2,\n                  marginLeft: 15,\n                }}\n              >\n                <Carousel showThumbs={false}>\n                  {JSON.parse(\n                    productDetail.img_urls ? productDetail.img_urls : \"[]\"\n                  )?.map((url) => (\n                    <img\n                      key={url}\n                      src={url}\n                      height={xsScreen ? \"100\" : \"170\"}\n                      width={xsScreen ? \"100\" : \"170\"}\n                      // height= \"170\"\n                      // width= \"170\"\n                    />\n                  ))}\n                </Carousel>\n              </Box>\n            </Grid>\n\n            <Grid container direction=\"column\" item xs={8}>\n              <Grid container direction=\"row\">\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tên sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã sản phẩm\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.product_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Mã vạch\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.bar_code}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Danh mục\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.category.name}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Đơn vị\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {productDetail.quantity_per_unit}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá bán\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat value={productDetail.list_price}></VNDFormat>\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Giá vốn\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        <VNDFormat\n                          value={productDetail.standard_price}\n                        ></VNDFormat>{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    {isManageInventory? \n                    <>\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        Tồn kho\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={2}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.branch_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                    {branchs.length >1?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={productDetail.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={setReload}\n                    batches={batches}\n                    has_batches={productDetail.has_batches}\n                   />\n                   \n                   :null}\n                 \n                  </Grid>\n                  {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {productDetail.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {productDetail.notification_period} ngày</Typography>:null}\n\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL đặt hàng lại\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.min_reorder_quantity}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n\n                  <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                    <Grid item xs={3} sm={6}>\n                      <Typography variant=\"h5\" gutterBottom component=\"div\">\n                        SL nhập hàng tối đa\n                      </Typography>\n                    </Grid>\n                    <Grid item sm={6}>\n                      <Typography variant=\"body1\" gutterBottom component=\"div\">\n                        {row.max_order}{\" \"}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                    </>:null}\n                </Grid>\n              </Grid>\n\n              {JSON.parse(row.attribute_value ? row.attribute_value : \"[]\").map(\n                (attVal) => (\n                  <Grid container direction=\"row\">\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          marginRight: 10,\n                          borderRadius: 5,\n                        }}\n                      >\n                        {attVal.name}\n                      </div>\n                    </Grid>\n                    <Grid item xs={3} sm={6}>\n                      <div\n                        style={{\n                          border: \"2px solid #eee\",\n                          textAlign: \"center\",\n                          padding: \"5px 0\",\n                          borderRadius: 5,\n                        }}\n                      >\n                        <strong>{attVal.value}</strong>\n                      </div>\n                    </Grid>\n                  </Grid>\n                )\n              )}\n\n              <Grid\n                container\n                direction=\"row\"\n                justifyContent={xsScreen ? null : \"flex-end\"}\n                style={{ marginTop: 20 }}\n              >\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setIsOpenUpdate(true);\n                  }}\n                >\n                  Sửa\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ marginLeft: 15 }}\n                  onClick={() => {\n                    setDeleteConfirm(true);\n                  }}\n                >\n                  Xoá\n                </Button>\n\n                <IconButton\n                  aria-label=\"more\"\n                  aria-controls=\"long-menu\"\n                  aria-haspopup=\"true\"\n                  onClick={handleClick}\n                  size=\"small\"\n                  style={{ marginLeft: 10 }}\n                >\n                  <MoreVertIcon />\n                </IconButton>\n\n                <StyledMenu\n                  id=\"customized-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <InboxIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"In mã tem\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <HighlightOffTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Ngừng kinh doanh\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <LocalOfferTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử giá\" />\n                  </StyledMenuItem>\n\n                  <StyledMenuItem>\n                    <ListItemIcon style={{ marginRight: -15 }}>\n                      <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Lịch sử kiểm kê\" />\n                  </StyledMenuItem>\n                </StyledMenu>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n      </div>\n      {isOpenUpdate && <UpdateInventory\n        open={isOpenUpdate}\n        handleClose={handleCloseUpdate}\n        productInfo={productDetail}\n        setReload={() => {\n          props.setReload();\n          props.handleClose()\n        }}\n      />}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={handleCloseDelete}\n        handleConfirm={handleConfirmDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n    </DialogWrapper>\n    /* </ModalWrapperWithClose> */\n  );\n};\n\nexport default VarianceModal;\n","import React, {useState,useEffect,useRef} from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    TextField,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Typography,\n    Grid,\n    Avatar,\n    Dialog,\n    FormControl,\n    InputLabel,\n    Select,\n    MenuItem,\n    Card,\n    FormControlLabel,\n    Checkbox,\n    Divider,\n    ButtonBase,\n    Tooltip,\n    CardHeader,\n    Input,\n    Chip,\n    IconButton,\n    FormLabel,\n    RadioGroup,\n    Radio,\n    Box,\n    ListItem\n  } from \"@material-ui/core\";\nimport clsx  from \"clsx\"\nimport _ from 'lodash'\n\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { batch, useDispatch, useSelector } from \"react-redux\";\nimport ModalWrapperWithClose from \"../../../../../components/Modal/ModalWrapperWithClose\"\nimport { ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\nimport productApi from '../../../../../api/productApi'\nimport { statusAction } from '../../../../../store/slice/statusSlice';\nimport barcocde1 from \"../../../../../assets/img/barcode/1.jpeg\"\nimport barcocde2 from \"../../../../../assets/img/barcode/2.jpeg\"\nimport barcocde3 from \"../../../../../assets/img/barcode/3.jpeg\"\nimport { useReactToPrint } from \"react-to-print\";\nimport Barcode from 'react-barcode';\nimport { returnStatement } from '@babel/types';\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n    weight:{\n        fontWeight:500,\n        color: \"#000\",\n        fontSize: 14,\n    },\n    headerTitle: {\n        fontSize: \"1.125rem\",\n      },\n\n})\n);\nconst PrintBarcodePopUp = ({open,onClose, row }) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n   \n\n    const [quantity , setQuantity] = useState(0)\n    const [codeType , setCodeType] = useState(\"code\")\n    const [printStoreName , setPrintStoreName] = useState(\"yes\")\n    const [printBatch , setPrintBatch] = useState(row.has_batch === 0?\"no\" :\"yes\")\n    const [col , setCol] = useState(null)\n    const [batchCode , setBatchCode] = useState(row.batches[0].batch_code)\n\n    const [openPrintBarcode,setOpenPrintBarcode] =  useState(row.batches[0].batch_code)\n\n      // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  const handleChooseBarCode = (col) => {\n    setCol(col)\n\n  }\n  useEffect (()=>{\n    if(col){handlePrint()}\n  },[col])\n\n\n    return (\n        <Dialog open={open} onClose={onClose} aria-labelledby=\"form-dialog-title\" maxWidth=\"sm\" fullWidth={true}>\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <DialogTitle id=\"form-dialog-title\">\n                        <Typography className={classes.headerTitle} variant=\"h3\" >\n                            In mã tem\n                        </Typography>\n                    </DialogTitle>\n\n                    <IconButton aria-label=\"close\"   onClick={onClose}>\n                        <CloseIcon  fontSize=\"small\" />\n                    </IconButton>\n            </Grid>\n           \n            <DialogContent>\n                <Grid container  >\n                    <Grid item  xs={4}>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Số lượng in:</Typography>\n                        {/* <TextField value={quantity} onChange={(e)=>setQuantity(e.target.value)}/> */}\n                        <ThousandSeperatedInput style={{width:100}}value={quantity} onChange={(e)=>setQuantity(e.target.value)}/>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã in:</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={codeType} onChange={(e)=>setCodeType(e.target.value)} >\n                            <MenuItem value={\"code\"}>Mã hàng</MenuItem>\n                            {row.product_code ?<MenuItem value={\"barcode\"}>Mã vạch</MenuItem>:null}\n                            </Select>\n                        </FormControl>\n                        <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Tên cửa hàng</Typography>\n                        <FormControl className={classes.formControl}>\n                            <Select value={printStoreName} onChange={(e)=>setPrintStoreName(e.target.value)} >\n                            <MenuItem value={\"yes\"}>In tên cửa hàng</MenuItem>\n                            <MenuItem value={\"no\"}>Không in tên cửa hàng</MenuItem>\n                            </Select>\n                        </FormControl>\n                        {!row.has_batch? \n                            <>\n                         <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>In lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={printBatch} onChange={(e)=>setPrintBatch(e.target.value)} >\n                                <MenuItem value={\"yes\"}>In mã lô</MenuItem>\n                                <MenuItem value={\"nno\"}>Không in mã lô</MenuItem>\n                                </Select>\n                            </FormControl>\n                            {printBatch.includes(\"yes\") ? \n                            <>\n                            <Typography style={{color:'#000',fontSize:15, fontWeight:500, marginTop:25}}>Mã lô</Typography>\n                            <FormControl className={classes.formControl}>\n                                <Select value={batchCode} onChange={(e)=>setBatchCode(e.target.value)} >\n                                { row.batches.map((batch)=>{\n                                    return(\n                                         <MenuItem value={batch.batch_code}>{batch.batch_code}</MenuItem>\n                                    )\n                                }) }\n                                </Select>\n                            </FormControl>\n                            </>\n                            :null}\n                            </>:null    \n                    }\n                    </Grid>\n                    <Grid item container xs={8} spacing={3}>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde3} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 3 nhãn (Khổ giấy in nhãn 104x22mm / 4.2x0.9 inch)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(4)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde2} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 2 nhãn (Khổ giấy in nhãn 72x22mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(6)}  variant=\"contained\" size=\"small\"  color=\"primary\" style={{marginTop:20}}  >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n            \n                        </Grid>\n                        <Grid item container>\n                            <Grid item xs={5}><Box component=\"img\" sx={{  height: 100,  width: 100, marginLeft: 7,  marginRight: 7, borderRadius: 2, }}  src={barcocde1} /></Grid>\n                            <Grid item xs={7}>\n                                <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>Mẫu giấy cuộn 1 nhãn  (Khổ giấy in nhãn 50x30mm)  </Typography>\n                                <Button  onClick={()=>handleChooseBarCode(12)}  variant=\"contained\" size=\"small\"  color=\"primary\"  style={{marginTop:20}} >\n                                    Xem bản in \n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n                <div style={{ display: \"none\" }}>\n                    <div ref={componentRef}>\n                        <ComponentToPrint row={row} quantity={quantity} codeType={codeType} printStoreName={printStoreName} printBatch={printBatch} col={col} batchCode={batchCode}/>\n                    </div>\n                </div>\n\n            </DialogContent>\n            <DialogActions>\n            <Button  onClick={onClose}  variant=\"contained\" size=\"small\"  color=\"secondary\" >\n                Huỷ \n            </Button>\n          \n            </DialogActions>    \n        </Dialog>\n    )\n}\n\nexport default PrintBarcodePopUp\nconst ComponentToPrint = ({ row ,quantity,codeType,printStoreName,printBatch,col,batchCode}) => {\n    const info = useSelector((state) => state.info);\n    const BarCodeModel = () =>{\n        return (\n        <Box style={{ textAlign:'center'}}>\n            {printStoreName.includes(\"yes\") ? <Typography style={{color:'#000',fontSize:15, fontWeight:500}}>{info.store.name}</Typography>:\"\"}\n            {printBatch.includes(\"no\")? <Barcode value={codeType ===\"code\" ?row.product_code:row.bar_code } />\n            : <Barcode value={codeType ===\"code\" ?row.product_code.concat(\"_\"+ batchCode):row.bar_code.concat(\"_\"+ batchCode) } />}\n        </Box>\n        )\n    }\n    return (\n        <Grid container>\n            {[1,2,3].map(()=> {\n                return(\n                    <Grid container item xs={col} justifyContent=\"center\">\n                        <BarCodeModel />\n                    </Grid>    \n                )\n            })}\n\n        </Grid>\n       \n     \n    );\n  };\n  ","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\nimport LocalOfferTwoToneIcon from \"@material-ui/icons/LocalOfferTwoTone\";\nimport VerifiedUserTwoToneIcon from \"@material-ui/icons/VerifiedUserTwoTone\";\n//import image\nimport avaUpload from \"../../../../../assets/img/product/img.jpeg\";\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport productApi from \"../../../../../api/productApi\";\n// carousel for images\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport { Carousel } from \"react-responsive-carousel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UpdateInventory from \"./UpdateInventory/UpdateInventory\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport { ThousandFormat, VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport { TableCell, TableRow, Avatar, ListItem, Chip } from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport { FormatedProductStatus } from \"../../../../../components/TableCommon/util/format\";\nimport VarianceModal from \"./VarianceModal\";\nimport { VarianceProductMiniTableRow } from \"../../../../../components/MiniTableRow/MiniTableRow\";\nimport branchApi from \"../../../../../api/branchApi\";\n\nimport defaultProduct from \"../../../../../assets/img/product/default-product.png\"\nimport BranchInventoryPopUp from \"./BranchInventoryPopUp\";\nimport PrintBarcodePopUp from \"./PrintBarcodePopUp\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 170,\n        width: 170,\n        borderRadius: 2,\n        marginLeft: 15,\n      }}\n      src={avaUpload}\n    />\n  );\n};\nconst InventoryDetail = (props) => {\n  const { row, openRow, setReload ,isManageInventory} = props.parentProps;\n  const { isMini } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [thisReload, setThisReload] = useState(false);\n  const dispatch = useDispatch();\n\n\n  const [productDetail, setProductDetail] = useState({\n    name: \"\",\n    bar_code: \"\",\n    category: { name: \"\" },\n    images: [],\n    suppliers: [],\n  });\n\n  const [isOpenUpdate, setIsOpenUpdate] = useState(false);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const [deleteConfirm, setDeleteConfirm] = useState(false);\n  const handleCloseDelete = () => {\n    setDeleteConfirm(false);\n  };\n  const handleConfirmDelete = async () => {\n    handleCloseDelete();\n    try {\n      const response = await productApi.deleteProduct(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      setReload();\n      // console.log(response);\n    } catch (error) {\n      // console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const branchs = info.store.branches\n \n  // const [branchs, setBranchs] = useState(info.branchsOfStore);\n\n  const [isOpenVarianceDetailModal, setIsOpenVariaceDetailModal] =\n    useState(false);\n  const [selectedVariance, setSelectedVariance] = useState({});\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.getProduct(store_uuid, row.uuid, {\n          branch_uuid: branch_uuid,\n        });\n        setProductDetail(response.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    if (openRow === row.uuid) {\n      fetchProduct();\n    }\n  }, [store_uuid, openRow, thisReload]);\n  const handleCloseUpdate = (status) => {\n    setIsOpenUpdate(false);\n  };\n\n\nconst [openPrintBarcode,setOpenPrintBarcode] =  useState(false)\n\n  const [openDetailInventory ,setOpenDetailInventory] =  useState(false)\nconsole.log(\"productDetail.img_urls\",productDetail)\n\nlet  imageList =row.img_urls ? JSON.parse(row.img_urls):null\nimageList = Array.isArray(imageList)? imageList :[imageList]\n// || defaultProduct\n  return row.has_variance ? (\n    <>\n      {openRow === row.uuid &&\n        productDetail.variations?.map((variance) => {\n          return !xsScreen ? (\n            <>\n              <TableRow>\n                <TableCell align=\"left\">{\"               \"}</TableCell>\n                <TableCell align=\"left\">{variance.product_code}</TableCell>\n                <TableCell align=\"left\" style={{ minWidth: 200 }}>\n                  <ListItem\n                    style={{\n                      marginLeft: -30,\n                      marginTop: -10,\n                      marginBottom: -10,\n                    }}\n                  >\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 50,\n                        width: 50,\n                        borderRadius: 10,\n                        marginRight: 15,\n                      }}\n                      src={JSON.parse(row.img_urls ? row.img_urls : \"[]\").at(0) || defaultProduct}\n                    />\n                    <Typography className={classes.fontName}>\n                      {variance.name}\n                    </Typography>\n                  </ListItem>\n                </TableCell>\n\n\n                <TableCell align=\"left\">{variance.category?.name}</TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.list_price} />\n                </TableCell>\n                <TableCell align=\"right\">\n                  <VNDFormat value={variance.standard_price} />\n                </TableCell>\n                <TableCell align=\"center\">\n                  <FormatedProductStatus\n                    quantity={variance.branch_quantity}\n                    lowStock={variance.min_reorder_quantity}\n                  />\n                </TableCell>\n                <TableCell align=\"right\" className={classes.fontName}>\n                  {variance.branch_quantity}\n                </TableCell>\n                <TableCell\n                  onClick={() => {\n                    setIsOpenVariaceDetailModal(true);\n                    setSelectedVariance(variance);\n                  }}\n                >\n                  <Button size=\"small\" color=\"primary\" variant=\"outlined\" >\n                    Chi tiết\n                  </Button>\n                </TableCell>\n              </TableRow>\n            </>\n          ) : (\n            <VarianceProductMiniTableRow\n              key={row.uuid}\n              variance={variance}\n              onClick={() => {\n                setIsOpenVariaceDetailModal(true);\n                setSelectedVariance(variance);\n              }}\n            />\n          );\n        })}\n      {isOpenVarianceDetailModal && (\n        <VarianceModal\n          open={isOpenVarianceDetailModal}\n          parentProps={props.parentProps}\n          row={selectedVariance}\n          handleClose={() => setIsOpenVariaceDetailModal(false)}\n          branchs={branchs}\n          // handleBranchQuantity={()=>{setOpenDetailInventory(true); console.log(\"helllllooo\")}}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n         batches={row.batches}\n         has_batches={row.has_batches}\n         isManageInventory={isManageInventory}\n        />\n      )}\n    </>\n  ) : (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      {isOpenUpdate && (\n        <UpdateInventory\n          handleClose={handleCloseUpdate}\n          open={isOpenUpdate}\n          productInfo={productDetail}\n          setReload={() => {\n            setReload();\n            setThisReload(!thisReload);\n          }}\n          isManageInventory={isManageInventory}\n        />\n      )}\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleConfirm={handleConfirmDelete}\n        handleClose={handleCloseDelete}\n        message={\n          <Typography>\n            Xóa vĩnh viễn sản phẩm <b>{productDetail.name} ?</b>\n          </Typography>\n        }\n      />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={4}>\n      \n           {imageList.at(0) ?\n            <Box\n              sx={{\n                // height: 170,\n                // width: 170,\n                height: xsScreen ? 100 : 170,\n                width: xsScreen ? 100 : 170,\n                borderRadius: 2,\n                marginLeft: 15,\n                marginBottom: xsScreen ? 10 : 0,\n              }}\n            >\n              <Carousel showThumbs={false}>\n                { \n                imageList?.map((url) => (\n                  <img\n                    key={url}\n                    src={url}\n                    height={xsScreen ? \"100\" : \"170\"}\n                    width={xsScreen ? \"100\" : \"170\"}\n                    // height= \"170\"\n                    // width= \"170\"\n                  />\n                ))}\n              </Carousel>\n            </Box>:\n              <Box\n                    component=\"img\"\n                    sx={{\n                    height: xsScreen ? 100 : 170,\n                    width: xsScreen ? 100 : 170,\n                    marginLeft: 7,\n                    marginRight: 7,\n                    borderRadius: 20,\n                    }}\n                    src={defaultProduct}\n                    style={{marginBottom:20}}\n                />}\n          </Grid>\n\n          <Grid container direction=\"column\" item xs={12} sm={8}>\n            <Grid container direction=\"row\">\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tên sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã sản phẩm\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.product_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Mã vạch\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.bar_code}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Danh mục\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.category.name}{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Đơn vị\n                    </Typography>\n                  </Grid>\n                  <Grid ListItemText sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {productDetail.quantity_per_unit}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá bán\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat value={productDetail.list_price}></VNDFormat>\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Giá vốn\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n                    <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      <VNDFormat\n                        value={productDetail.standard_price}\n                      ></VNDFormat>{\" \"}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                {isManageInventory?\n                <>\n                <Grid container direction=\"row\" justifyContent=\"flex-start\" alignItems='center'>\n                  <Grid item xs={4} sm={4}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      Tồn kho\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={2}>\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.branch_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.branch_quantity} />\n                  </Grid>\n                  {branchs.length >1 || row.has_batches?\n                   <Grid item sm={4} style={{marginTop:-5, marginBottom:5}}>\n                      <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetailInventory(true)}> Chi tiết</Button>\n                  </Grid>:null}\n                  {openDetailInventory?\n                  <BranchInventoryPopUp \n                    branch_inventories={row.branch_inventories}branchs={branchs}open={openDetailInventory}\n                    onClose={()=>setOpenDetailInventory(false)}\n                    setReload={() => {\n                      setReload();\n                      setThisReload(!thisReload);\n                     }}\n                     batches={row.batches}\n                     has_batches={row.has_batches}\n                     row={row}\n                   />\n                   \n                   :null}\n                </Grid>\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500]}}>* Sản phẩm quản lý theo lô *</Typography>:null}\n                {row.has_batches ? <Typography variant='h6' style={{color:theme.customization.primaryColor[500], marginBottom:10}}>Thông báo hết HSD trước {row.notification_period} ngày</Typography>:null}\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={6}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL đặt hàng lại\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={6}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.min_reorder_quantity}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.min_reorder_quantity} />\n\n                  </Grid>\n                </Grid>\n\n                <Grid container direction=\"row\" justifyContent=\"flex-start\">\n                  <Grid item xs={4} sm={7}>\n                    <Typography variant=\"h5\" gutterBottom component=\"div\">\n                      SL nhập hàng tối đa\n                    </Typography>\n                  </Grid>\n                  <Grid item sm={5}>\n\n                    {/* <Typography variant=\"body1\" gutterBottom component=\"div\">\n                      {row.max_order}{\" \"}\n                    </Typography> */}\n                    <ThousandFormat value={row.max_order} />\n\n                  </Grid>\n                </Grid>\n                </>:null\n                }\n              </Grid>\n            </Grid>\n\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent={\"flex-end\"}\n              style={{ marginTop: 20 }}\n            >\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setIsOpenUpdate(true);\n                }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n                onClick={() => {\n                  setDeleteConfirm(true);\n                }}\n              >\n                Xoá\n              </Button>\n\n              {openPrintBarcode?\n                  <PrintBarcodePopUp\n                    open={openPrintBarcode}\n                    onClose={()=>setOpenPrintBarcode(false)}\n                    row={row}\n                   />\n                   \n                   :null}\n\n              <IconButton\n                aria-label=\"more\"\n                aria-controls=\"long-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleClick}\n                size=\"small\"\n                style={{ marginLeft: 10 }}\n              >\n                <MoreVertIcon />\n              </IconButton>\n\n              <StyledMenu\n                id=\"customized-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                <StyledMenuItem onClick={() => { setOpenPrintBarcode(true) }}>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <InboxIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"In mã tem\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <HighlightOffTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Ngừng kinh doanh\" />\n                </StyledMenuItem>\n\n                {/* <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <LocalOfferTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử giá\" />\n                </StyledMenuItem>\n\n                <StyledMenuItem>\n                  <ListItemIcon style={{ marginRight: -15 }}>\n                    <VerifiedUserTwoToneIcon fontSize=\"small\" />\n                  </ListItemIcon>\n                  <ListItemText primary=\"Lịch sử kiểm kê\" />\n                </StyledMenuItem> */}\n              </StyledMenu>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default InventoryDetail;\n","import {\n    Button,\n    FormControl,\n    Grid,\n    InputLabel,\n    Select,\n    TextField,\n    Typography,\n} from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport ModalWrapper from \"../../../components/Modal/ModalWrapper\";\nimport productApi from \"../../../api/productApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport ConfirmPopUp from \"../../ConfirmPopUp/ConfirmPopUp\";\n\nconst UpdateCategory = (props) => {\n    const [categoryInfo, setCategoryInfo] = useState({\n        name: \"\",\n        parent_category_uuid: \"\",\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch = useDispatch();\n    useEffect(() => {\n        setCategoryInfo(props.category);\n    }, [props.category]);\n    const [isDelete, setIsDelete] = useState(false);\n    const handleUpdateCategory = async () => {\n        handleCloseAndReset();\n        try {\n            await productApi.editCategory(\n                store_uuid,\n                props.category.uuid,\n                categoryInfo\n            );\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Cập nhật danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Cập nhật danh mục thất bại\"));\n        }\n    };\n    const handleDeleteCategory = async () => {\n        handleCloseAndReset();\n        if (props.category.children.length > 0) {\n            dispatch(\n                statusAction.failedStatus(\n                    \"Không thể xóa danh mục do có danh mục con, hãy xóa danh mục con trước\"\n                )\n            );\n            return;\n        }\n        try {\n            await productApi.deleteCategory(store_uuid,props.category.uuid);\n            props.onReset();\n            dispatch(statusAction.successfulStatus(\"Xóa danh mục thành công\"));\n        } catch (error) {\n            console.log(error);\n            dispatch(statusAction.failedStatus(\"Xóa danh mục thất bại\"));\n        }\n    };\n    const handleCloseAndReset = () => {\n        props.handleClose();\n        setCategoryInfo(props.category);\n    };\n    return (\n        <ModalWrapper {...props}>\n            <Typography variant=\"h4\" gutterBottom>\n                Cập nhật danh mục\n            </Typography>\n            <ConfirmPopUp\n                open={isDelete}\n                handleConfirm={handleDeleteCategory}\n                handleClose={() => setIsDelete(false)}\n                message={\n                    <Typography>\n                        Xóa vĩnh viễn danh mục <b>{props.category.name} ?</b>\n                    </Typography>\n                }\n            />\n            <Grid container spacing={2} style={{ marginTop: 10, maxWidth: 300 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        label=\"Tên danh mục\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        required\n                        fullWidth\n                        value={categoryInfo?.name}\n                        onChange={(e) =>\n                            setCategoryInfo({ ...categoryInfo, name: e.target.value })\n                        }\n                    />\n                </Grid>\n                <Grid\n                    item\n                    xs={12}\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        justifyContent: \"flex-end\",\n                    }}\n                >\n                    {\" \"}\n                    <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        size=\"small\"\n                        style={{ marginRight: 20 }}\n                        onClick={() => {\n                            setIsDelete(true);\n                        }}\n                    >\n                        Xóa danh mục\n                    </Button>\n                    <Button\n                    color=\"primary\"\n                        variant=\"contained\"\n                        onClick={handleUpdateCategory}\n                        size=\"small\"\n                    >\n                        Lưu thay đổi\n                    </Button>\n                </Grid>\n            </Grid>\n        </ModalWrapper>\n    );\n};\n\nexport default UpdateCategory;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from \"react-redux\";\nimport productApi from \"../../../api/productApi\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Box, Button, Typography } from \"@material-ui/core\";\nimport zIndex from \"@material-ui/core/styles/zIndex\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport UpdateCategory from \"./UpdateCategory\";\n\nconst useStyles = makeStyles((theme) => ({\n  nested: {\n    paddingLeft: theme.spacing(2),\n  },\n}));\n\nexport default function RootCategory(props) {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [subCategories, setSubCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getSubCategory(\n          store_uuid,\n          props.category.uuid\n        );\n        setSubCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if(!props.useNestedApi){\n      fetchCategoryList();\n    }else{\n      setSubCategories()\n    }\n  }, [store_uuid, props.category.uuid, props.reset]);\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n    handleClose()\n  };\n  const [update, setUpdate] = useState(false)\n  const handleOpenEdit = () => setUpdate(true)\n  const handleClose = () => setUpdate(false)\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={props.fromRoot ? classes.root : classes.nested}\n    >\n      <UpdateCategory onReset={props.onReset} open={update} handleClose={handleClose} category={props.category}/>\n      <ListItem >\n        <ListItemText\n          primary={\n            <Tooltip  title=\"Cập nhật\">\n              <Button style={{display:\"flex\",flexDirection:\"row\",justifyContent:\"flex-start\", textDecoration:\"none\",textTransform:\"none\"}} fullWidth onClick={handleOpenEdit}>\n                <ListItemIcon>\n                  <CategoryIcon/>\n                </ListItemIcon>\n                {props.category.name}\n              </Button>\n            </Tooltip>\n          }\n        />\n        {props.category.children.length === 0 ? null : open ? (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandLess />{\" \"}\n          </IconButton>\n        ) : (\n          <IconButton size=\"small\" onClick={handleClick} >\n            {\" \"}\n            <ExpandMore button />{\" \"}\n          </IconButton>\n        )}\n      </ListItem>\n      <Collapse in={open} unmountOnExit>\n        {subCategories.map((category) => (\n          <RootCategory key={category.uuid} category={category} onReset={props.onReset} reset={props.reset}/>\n        ))}\n      </Collapse>\n    </List>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport RootCategory from \"./List/RootCategory\";\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from \"react-redux\";\nimport { Box } from \"@material-ui/core\";\n\nconst CategoryTree = (props) => {\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [parentCategories, setParentCategories] = useState([]);\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const categories = await productApi.getParentCategory(store_uuid);\n        setParentCategories(categories.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid,props.reset]);\n  return (\n    <Box {...props}>\n      {parentCategories.map((category) => (\n        <RootCategory key={category.uuid} category={category} reset={props.reset} onReset={props.onReset} fromRoot={true}/>\n      ))}\n    </Box>\n  );\n};\n\nexport default CategoryTree;\n","import React, { useState } from \"react\";\n\n//import library\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\n\n// import icon\nimport AddIcon from \"@material-ui/icons/Add\";\nimport AddCategory from \"../AddInventory/AddCategory\";\n// import project\nimport CategoryTree from \"../../../../components/Category/CategoryTree\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Modal from \"../../../../components/Modal/ModalWrapper\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    categoryPopup: {\n      maxHeight: \"80vh\", \n      overflowY: \"scroll\",\n      margin: -20,\n    }\n  })\n);\n\nconst Category = (props) => {\n  const { handleClose, open } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  // loại lương\n  const [openAddCategory, setOpenAddCategory] = React.useState(false);\n  const handleCloseCategory = () => {\n    setOpenAddCategory(false);\n  };\n  const [reset, setReset] = useState(true)\n  const onReset = () => {\n    setReset(reset => !reset)\n  }\n\n\n\n\n  return (\n    <Modal open={open} handleClose={handleClose}>\n      <AddCategory onReset={onReset} open={openAddCategory} handleClose={handleCloseCategory} reset={reset} />\n      <Box className={classes.categoryPopup}>\n        <Box\n          flexDirection=\"row\"\n          display=\"flex\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{padding:20}}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Danh mục\n          </Typography>\n\n          <IconButton\n            aria-label=\"add\"\n            color=\"primary\"\n            onClick={() => {\n              setOpenAddCategory(true);\n            }}\n          >\n            <AddIcon />\n          </IconButton>\n        </Box>\n        <CategoryTree style={{ width: 500, maxWith: \"80%\" }} reset={reset} onReset={onReset} />\n      </Box>\n    </Modal>\n  );\n};\n\nexport default Category;\n","import React, { useEffect } from 'react';\nimport {\n  Dialog, TextField, Card, ListItem, DialogContent, Box, Grid, TableHead, TableBody, Typography, Table, TableCell, TableRow, Collapse, Button, ListItemIcon, ListItemText, IconButton,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSelector, useDispatch } from 'react-redux';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport useStyles from '../../TableCommon/style/mainViewStyle';\nimport { useTheme } from \"@material-ui/core/styles\";\n\n// import library\n\nimport InvoiceReturnSummary from '../../CheckoutComponent/CheckoutSummary/InvoiceReturnSummary/InvoiceReturnSummary';\n\nimport * as HeadCells from '../../../assets/constant/tableHead';\nimport * as TableType from '../../../assets/constant/tableType';\nimport SearchProduct from '../../SearchBar/SearchProduct';\nimport TableHeader from '../../TableCommon/TableHeader/TableHeader';\nimport TableWrapper from '../../TableCommon/TableWrapper/TableWrapper';\nimport { getComparator, stableSort } from '../../TableCommon/util/sortUtil';\nimport * as Input from '../../TextField/NumberFormatCustom';\nimport ButtonQuantity from '../../Button/ButtonQuantity';\nimport refundApi from '../../../api/refundApi';\nimport SnackBarGeneral from '../../SnackBar/SnackBarGeneral';\nimport {statusAction} from '../../../store/slice/statusSlice';\nimport {ReturnCartMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport _ from 'lodash';\nimport setting from \"../../../assets/constant/setting\"\n\nfunction InvoiceReturnPopUp(props) {\n  const { order, classes, handleCloseReturn , reload, reloadDetail } = props;\n  const theme = useTheme();\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const dispatch = useDispatch();\n  // 2. Table sort\n  // const [order, setOrder] = React.useState('desc');\n  // const [orderBy, setOrderBy] = React.useState('stt');\n  // const handleRequestSort = (event, property) => {\n  //     const isAsc = orderBy === property && order === 'asc';\n  //     setOrder(isAsc ? 'desc' : 'asc');\n  //     setOrderBy(property);\n  // };\n\n  const [isUpdateTotalAmount, setIsUpdateTotalAmount] = React.useState(false);\n  const [refund, setRefund] = React.useState({\n    order_code: order.order_code,\n    order_id: order.id,\n    branch: order.branch,\n    customer: order.customer,\n    customer_id: order.customer_id,\n    branch_id: order.branch_id,\n    order_total_amount: order.total_amount,\n    total_amount: 0,\n    details: order.details.map((detail) => ({\n      ...detail,\n      // returnQuantity: detail.quantity,\n      returnQuantity: 0,\n      returnPrice: detail.unit_price,\n      selectedBatches: JSON.parse(detail.batches)?.map((batch) => ({\n        ...batch,\n        max_return_quantity:\n          batch.additional_quantity - batch.returned_quantity,\n        returned_quantity: 0,\n      })),\n      order_batches: JSON.parse(detail.batches),\n    })),\n    payment_method: 'cash',\n    paid_amount: '0',\n    scores:'0'\n  });\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: 'error',\n    message: 'Trả hàng thất bại',\n  });\n\n  const handleChangeBatches = (itemId, newBatches) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId\n    );\n    const newRefund = _.cloneDeep(refund);\n\n    // console.log(newBatches);\n    newRefund.details[itemIndex].selectedBatches = newBatches;\n    newRefund.details[itemIndex].returnQuantity = _.sumBy(\n      newBatches,\n      \"returned_quantity\"\n    );\n    // console.log(newRefund);\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  useEffect(() => {\n    updateTotalAmount();\n  }, [isUpdateTotalAmount]);\n\n  const updateTotalAmount = () => {\n    let total = 0;\n    refund.details.forEach((item) => {\n      total += item.returnPrice * item.returnQuantity;\n    });\n\n    let newRefund = update(refund, {\n      total_amount: { $set: total },\n      // paid_amount:{ $set: total.toString() },\n      paid_amount: { $set: total },\n      scores: { $set:  store_setting?.customerScore.status  ? parseInt((total)/store_setting?.customerScore.value)  :'0'},\n      \n    });\n    // newRefund = update(refund, {\n    //   paid_amount:{ $set: total },\n      \n    // });\n    \n\n    setRefund(newRefund);\n    \n  };\n\n  const handleDeleteItem = (itemId) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: { $splice: [[itemIndex, 1]] },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleItemQuantityChange = (itemId, newQuantity) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnQuantity: { $set: newQuantity },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handleProductPriceChange = (itemId, newPrice) => {\n    const itemIndex = refund.details.findIndex(\n      (item) => item.id === itemId,\n    );\n    const newRefund = update(refund, {\n      details: {\n        [itemIndex]: {\n          returnPrice: { $set: newPrice },\n        },\n      },\n    });\n    setRefund(newRefund);\n    setIsUpdateTotalAmount(!isUpdateTotalAmount);\n  };\n\n  const handlePaidAmountChange = (paidAmount) => {\n    const newRefund = update(refund, { paid_amount: { $set: paidAmount } });\n    setRefund(newRefund);\n  };\n\n  const handlePaymentMethodChange = (paymentMethod) => {\n    const newRefund = update(refund, { payment_method: { $set: paymentMethod } });\n    setRefund(newRefund);\n  };\n\n  const handleConfirm = async () => {\n    const d = moment.now() / 1000;\n\n    const import_date = moment.unix(d).format('YYYY-MM-DD HH:mm:ss', { trim: false });\n\n    const body = {\n      order_uuid: order.uuid,\n      customer_id: refund.customer_id,\n      total_amount: refund.total_amount.toString(),\n      payment_method: refund.payment_method,\n      paid_amount: refund.paid_amount,\n      points:refund.scores,\n      status:\n      refund.paid_amount >= refund.total_amount\n        ? 'closed'\n        : 'debt',\n      details: refund.details.map((detail) => ({\n        product_id: detail.product_id,\n        quantity: detail.returnQuantity,\n        unit_price: detail.returnPrice,\n        order_detail_id: detail.id,\n        selectedBatches: detail.selectedBatches.map((batch) =>\n          _.omit(batch, [\"additional_quantity\", \"max_return_quantity\"])\n        ),\n        order_batches: detail.order_batches.map((batch) => {\n          const newBatch = {\n            ...batch,\n            returned_quantity:\n              batch.returned_quantity +\n              detail.selectedBatches.find(\n                (selectedBatch) => selectedBatch.id === batch.id\n              ).returned_quantity,\n          };\n          return newBatch;\n        }),\n      })),\n      import_date,\n     \n    };\n\n    try {\n      const res = await refundApi.removeInventory(\n        store_uuid,\n        refund.branch.uuid,\n        body,\n      );\n      dispatch(statusAction.successfulStatus(`Trả hàng thành công: ${res.data.refund_code}`))\n      reload();\n      reloadDetail();\n      handleCloseReturn()\n    } catch (err) {\n      dispatch(statusAction.failedStatus('Trả hàng thất bại!'))\n      setOpenSnack(true);\n      console.log(err);\n    }\n  };\n  const handleCloseSnackBar = (event, reason) => {\n    setOpenSnack(false);\n  };\n\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  return (\n    <>\n      <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n       \n        <ListItem style={{ paddingTop: 20, marginBottom: -20, marginLeft: 25 }}>\n          <Typography variant=\"h3\" style={{ marginRight: 30 }}>Trả hàng</Typography>\n\n          {/* Search nayf chir search những sản phẩm trong hoá đơn thôi -> đổi lại thanh search khác sau */}\n          {/* <SearchProduct /> */}\n        </ListItem>\n\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleCloseReturn}>\n          <CloseIcon />\n        </IconButton>\n\n      </Grid>\n\n      <DialogContent style={{ marginTop: 25 }}>\n        <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" spacing={2}>\n         \n          <Grid item xs={12} sm={8}>\n            <Card className={classes.card}>\n              <Box style={{ padding: 30, minHeight: '75vh' }}>\n                {/* JSON data attribute phải giongso table head id */}\n                {/* <ListItem headCells={HeadCells.CartReturnHeadCells}  cartData={row.list} tableType={TableType.CART_RETURN} /> */}\n               {!xsScreen ? ( <TableWrapper isCart>\n                  <TableHeader\n                    classes={classes}\n                                    // order={order}\n                                    // orderBy={orderBy}\n                                    // onRequestSort={handleRequestSort}\n                    headerData={HeadCells.CartReturnHeadCells}\n                  />\n                  <TableBody>\n                    {/* {\n                                    stableSort(row.list, getComparator(order, orderBy))\n                                        .map((row, index) => {\n                                        return (\n                                            <CartReturnTableRow row={row}/>\n                                        );})\n                                } */}\n\n                    {refund.details.map((detail, index) => (\n                      <CartReturnTableRow\n                        handleProductPriceChange={handleProductPriceChange}\n                        handleItemQuantityChange={handleItemQuantityChange}\n                        detail={detail}\n                        handleChangeBatches={handleChangeBatches}\n                      />\n                    \n                    ))}\n                  </TableBody>\n                </TableWrapper>):\n                refund.details.map((detail, index) => (\n                  // <CartReturnTableRow\n                  //   handleProductPriceChange={handleProductPriceChange}\n                  //   handleItemQuantityChange={handleItemQuantityChange}\n                  //   detail={detail}\n                  // />\n                  <ReturnCartMiniTableRow\n                    detail={detail}\n                    handleProductPriceChange={handleProductPriceChange}\n                    handleItemQuantityChange={handleItemQuantityChange}\n                    isCart={true}\n                  />\n\n                ))\n              }\n              </Box>\n            </Card>\n          </Grid>\n          <Grid item xs={12} sm={4} className={classes.card}>\n            <Card className={classes.card}>\n              <InvoiceReturnSummary\n                data={refund}\n                handlePaidAmountChange={handlePaidAmountChange}\n                handlePaymentMethodChange={handlePaymentMethodChange}\n                handleConfirm={handleConfirm}\n              />\n            </Card>\n          </Grid>\n        </Grid>\n      </DialogContent>\n\n    </>\n  );\n}\n\nexport default InvoiceReturnPopUp;\n\nfunction CartReturnTableRow({ detail, handleProductPriceChange, handleItemQuantityChange, handleChangeBatches }) {\n  const classes = useStyles();\n  const theme = useTheme();\n\n\n\n  const [show, setShow] = React.useState('none');\n  useEffect(() => {}, [detail]);\n\n  const handleChangeQuantity = (newQuantity) => {\n    handleItemQuantityChange(detail.id, newQuantity);\n  };\n\n  const handleChangePrice = (newPrice) => {\n    handleProductPriceChange(detail.id, newPrice);\n  };\n  const info = useSelector((state) => state.info);\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\n  const canFixPriceSell= store_setting?.canFixPriceSell\n\n  return (\n    <TableRow hover key={detail.id}>\n      <TableCell align=\"left\" style={{ width: 5 }}>{detail.product_code}</TableCell>\n      {/* <TableCell align=\"left\">{row.id}</TableCell> */}\n      <TableCell align=\"left\">{detail.name}</TableCell>\n      <TableCell align=\"right\"><Input.ThousandFormat style={{ width: 70 }} value={detail.unit_price}/></TableCell>\n      <TableCell align=\"right\">\n      { canFixPriceSell.status && canFixPriceSell.returnImport?\n        <Input.ThousandSeperatedInput id=\"standard-basic\" style={{ width: 70 }} size=\"small\" inputProps={{ style: { textAlign: 'right' } }} defaultPrice={detail.returnPrice} onChange={(e) => handleChangePrice(e.target.value)} />\n     :<Input.ThousandFormat  value={detail.returnPrice} > </Input.ThousandFormat>}\n     \n        </TableCell>\n\n      {/* <TableCell align=\"left\" padding=\"none\">\n        <ButtonQuantity\n          quantity={detail.returnQuantity}\n          limit={detail.quantity - detail.returned_quantity}\n          setQuantity={handleChangeQuantity}\n          show={show}\n          setShow={setShow}\n          isReturn={true}\n        />\n      </TableCell> */}\n            <TableCell align=\"left\" padding=\"none\">\n        {detail.selectedBatches.length ? (\n          detail.selectedBatches.map((batch, index) => (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                gap: 5,\n                marginBottom: 5,\n                alignItems: \"center\",\n                border: \"1px solid #eee\",\n                justifyContent: \"space-around\",\n              }}\n            >\n              <div>\n                {`${batch.batch_code} ${\n                  batch?.expiry_date\n                    ? \"-\" + batch?.expiry_date.substring(0, 10)\n                    : \"\"\n                }: `}\n              </div>\n              <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <TextField\n                  type=\"number\"\n                  size=\"small\"\n                  style={{ width: 30 }}\n                  value={batch.returned_quantity}\n                  onChange={(e) => {\n                    const value = Number(e.target.value);\n\n                    if (value > batch.max_return_quantity || value < 0) {\n                      return;\n                    } else {\n                      const newSelectedBatches = [...detail.selectedBatches];\n                      newSelectedBatches[index].returned_quantity = value;\n                      handleChangeBatches(detail.id, newSelectedBatches);\n                    }\n                  }}\n                ></TextField>\n                <div>{`/${batch.max_return_quantity}`}</div>\n              </div>\n            </div>\n          ))\n        ) : (\n          <ButtonQuantity\n            quantity={detail.returnQuantity}\n            setQuantity={handleChangeQuantity}\n            show={show}\n            setShow={setShow}\n            limit={detail.quantity - detail.returned_quantity}\n            isReturn={true}\n          />\n        )}\n      </TableCell>\n\n\n      <TableCell align=\"right\" className={classes.boldText}>\n     < Input.VNDFormat value={Number(detail.returnQuantity) * Number(detail.returnPrice)} />\n      </TableCell>\n\n    </TableRow>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useReactToPrint } from \"react-to-print\";\nimport { ReceiptPrinter } from \"../../../../../components/ReceiptPrinter/ReceiptPrinter\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { calculateTotalQuantity } from \"../../../../../components/TableCommon/util/sortUtil\";\n// import library\nimport {\n  Dialog,\n  Card,\n  DialogContent,\n  Box,\n  Tooltip,\n  Chip,\n  Grid,\n  TableHead,\n  TableBody,\n  Typography,\n  Table,\n  TableCell,\n  TableRow,\n  Collapse,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\n// import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport PrintTwoToneIcon from \"@material-ui/icons/PrintTwoTone\";\nimport GetAppTwoToneIcon from \"@material-ui/icons/GetAppTwoTone\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// import project\nimport { grey } from \"@material-ui/core/colors\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport InvoiceReturnPopUp from \"../../../../../components/PopUpReturn/InvoiceReturnPopUp/InvoiceReturnPopUp\";\n\nimport orderApi from \"../../../../../api/orderApi\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\nimport PayRemaining from \"../../../../../components/Modal/PayRemaining\";\nimport invoiceApi from \"../../../../../api/invoiceApi\";\nimport setting from \"../../../../../assets/constant/setting\"\nimport {statusAction} from '../../../../../store/slice/statusSlice'\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    card: {\n      background: theme.customization.mode === \"Light\" ? null : grey[800],\n      borderRadius: theme.customization.borderRadius,\n      color: \"#000000\",\n      borderWidth: 2,\n    },\n    background: {\n      background:\n        theme.customization.mode === \"Light\"\n          ? theme.customization.primaryColor[50]\n          : grey[700],\n    },\n    visuallyHidden: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: 1,\n      margin: -1,\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      top: 20,\n      width: 1,\n    },\n  })\n);\n\nfunction InvoiceDetail(props) {\n  const { row, openRow, onReload } = props.parentProps;\n  const { isMini } = props;\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch()\n\n \n  //  tam thoi\n\n\n  const theme = useTheme();\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles(theme);\n  const [reload, setReload] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleCloseReturn = () => {\n    setOpen(false);\n  };\n\n  const handleDelete = () => {\n    try {\n      const res = orderApi.deleteOrder(store_uuid, branch_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa hóa đơn thành công\"));\n      onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Xóa hóa đơn thất bại\"));\n      console.log(err)\n    }\n  }\n\n  const [order, setOrder] = useState({\n    customer: { name: \"\" },\n    created_by_user: { name: \"\" },\n    branch: null,\n    details: [],\n  });\n\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const res = await orderApi.getOrder(store_uuid, row.uuid);\n        // console.log(res.data)\n        console.log(\"res\",res.data)\n        setOrder(res.data);\n      } catch (error) {\n        setOrder({\n          customer: { name: \"\" },\n          created_by_user: { name: \"\" },\n          branch: null,\n          details: [],\n        });\n      }\n\n      // },\n      //   [props.parentProps.openRow],\n      // );\n    };\n    if (openRow === row.uuid) {\n      loadData();\n    }\n  }, [props.parentProps.openRow, reload]);\n  const debtAmount = order.total_amount - order.discount - order.paid_amount;\n  const [openPayRemaining, setOpenPayRemaining] = useState(false);\n  const editInventoryOrderApiCall = async (\n    store_uuid,\n    branch_uuid,\n    uuid,\n    body\n  ) => {\n    return orderApi.editOrderApi(store_uuid, branch_uuid, uuid, body);\n  };\n\n  //print\n\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n\n\n  function getDifferenceInDays(date1, date2) {\n    const diffInMs = Math.abs(date2 - date1);\n    return diffInMs / (1000 * 60 * 60 * 24);\n  }\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n  const type = store_setting?.printReceiptWhenSell.cartModal;\n\n  const returnLimit = store_setting?.returnLimit\n\n\n  // const haveReturnQuantity = order.details.ex(()=>returned_quantity)\n  var haveReturnQuantity =   order.details.every(function (element, index) {\n    if ( Number(element.returned_quantity) === 0) return false;\n    else return true;\n  })\n\n\n  return (\n    <Collapse\n      in={isMini ? true : openRow === row.uuid}\n      timeout=\"auto\"\n      unmountOnExit\n    >\n      <PayRemaining\n        onReload={props.parentProps.onReload}\n        reloadDetail={() => setReload(!reload)}\n        uuid={row.uuid}\n        debt={debtAmount}\n        paid={Number(row.paid_amount)}\n        title={\n          <Typography variant=\"h4\">\n            Thu thêm hóa đơn <i>{row.order_code}</i>\n          </Typography>\n        }\n        open={openPayRemaining}\n        handleClose={() => setOpenPayRemaining(false)}\n        editApiCall={editInventoryOrderApiCall}\n      />\n      {/* <Collapse in={true } timeout=\"auto\" unmountOnExit> */}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.order_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày bán{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* {row.creation_date}{\" \"} */}\n                  {row.creation_date?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.creation_date?.split(\" \")[1].substr(0, 5)) }\n\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách hàng\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.customer ? order.customer.name : \"\"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Người bán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.created_by_user ? order.created_by_user.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs={12} sm={7}>\n            <Grid\n              container\n              direction=\"row\"\n              justifyContent=\"flex-start\"\n              alignItems=\"center\"\n            >\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item xs={3} sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {/* Cần thu <VNDFormat value={debtAmount} /> */}\n                  {debtAmount > 0 ? \"Cần thu thêm \" : \"Trả đủ\"}\n                  {debtAmount > 0 ? <VNDFormat value={debtAmount} /> : null}\n                </Typography>\n              </Grid>\n              <Grid item xs={2}>\n                {debtAmount > 0 ? (\n                  <Button\n                    color=\"primary\"\n                    size=\"small\"\n                    variant=\"contained\"\n                    onClick={() => setOpenPayRemaining(true)}\n                  >\n                    Trả tiếp\n                  </Button>\n                ) : null}\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={order.total_amount - order.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh thực hiện\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {order.branch ? order.branch.name : \"\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={4}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Phương thức thanh toán\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_method === \"cash\" ? \"Tiền mặt\" : \"Thẻ\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Typography\n          variant=\"h4\"\n          gutterBottom\n          component=\"div\"\n          style={{ marginTop: 30 }}\n        >\n          Danh sách sản phẩm\n        </Typography>\n        <Table size=\"small\" aria-label=\"purchases\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Mã SP</TableCell>\n              <TableCell>Sản phẩm</TableCell>\n              {/* <TableCell>Mã vạch</TableCell> */}\n              <TableCell align=\"right\">Số lượng</TableCell>\n              {haveReturnQuantity ?<TableCell align=\"right\">Đổi trả</TableCell>:null}\n              <TableCell align=\"right\">Giá bán</TableCell>\n              <TableCell align=\"right\">Thành tiền</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {order.details.map((detail) => (\n              <TableRow key={detail.product_id}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {detail.product_code}\n                </TableCell>\n                <TableCell>{detail.name}</TableCell>\n                {/* <TableCell>{detail.bar_code}</TableCell> */}\n                <TableCell align=\"right\">\n                  <div>\n                    {detail.quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              }) - ${batch.additional_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>\n                {/* <TableCell align=\"right\">{detail.returned_quantity}</TableCell> */}\n                {haveReturnQuantity?\n                 <TableCell align=\"right\">\n                  <div>\n                    {detail.returned_quantity}\n                    <div>\n                      {detail.batches\n                        ? JSON.parse(detail.batches).map((batch) => (\n                            <Chip\n                              size=\"small\"\n                              label={`${\n                                batch?.batch_code ? batch?.batch_code : \"Mới\"\n                              }(${\n                                batch?.expiry_date\n                                  ? batch?.expiry_date.substring(0, 10)\n                                  : \"\"\n                              })-${batch.returned_quantity}`}\n                              key={batch.id}\n                              color={batch.is_new ? \"primary\" : \"secondary\"}\n                              variant=\"outlined\"\n                            />\n                          ))\n                        : null}\n                    </div>\n                  </div>\n                </TableCell>:null}\n                <TableCell align=\"right\">\n                  <VNDFormat value={detail.unit_price} />\n                </TableCell>\n                <TableCell align=\"right\" style={{ fontWeight: 700 }}>\n                  <VNDFormat value={detail.quantity * detail.unit_price} />\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <Box\n          className={classes.background}\n          style={{\n            padding: 10,\n            borderRadius: theme.customization.borderRadius,\n            marginTop: 10,\n          }}\n        >\n          <Grid container direction=\"column\">\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                {/* <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng số lượng</Typography> */}\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng SL sản phẩm ({order.details.length})\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {calculateTotalQuantity(order.details)}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tiền hàng\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.total_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Giảm giá\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền hoá đơn\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\" style={{fontWeight:500, color:theme.customization.primaryColor[500]}}>\n                  <VNDFormat value={row.total_amount - row.discount} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent={\"flex-end\"}>\n              <Grid item xs={7} sm={2}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Khách đã trả\n                </Typography>\n              </Grid>\n              <Grid item xs={2} sm={2}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={row.paid_amount} />\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Grid\n          container\n          direction=\"row\"\n          // justifyContent=\"flex-end\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          {/* Chỉ có nhân viên thực hiện nhập đơn đó  mới có thể xoá sửa */}\n          {/* {currentUser === row.employee ? (\n            <>\n              {\" \"}\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Sửa\n              </Button>\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                style={{ marginLeft: 15 }}\n              >\n                Xoá\n              </Button>{\" \"}\n            </>\n          ) : null} */}\n        \n          {info.user.uuid?.includes(order?.created_by_user.uuid) ||  info.role?.includes(\"owner\") ?\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              // disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n              style={{ marginLeft: 15}}\n              onClick={handleDelete}\n            >\n              Xóa hóa đơn\n          </Button> :null}\n\n          {returnLimit.status === false || returnLimit.status === true && (getDifferenceInDays(new Date(),new Date(row.creation_date)) < returnLimit.day) ?\n              <Button\n                variant=\"contained\"\n                size=\"small\"\n                disabled={Number(row.total_amount) - Number(row.discount) - Number(row.paid_amount) > 0}\n                style={{ marginLeft: 15 }}\n                onClick={handleClickOpen}\n              >\n                Trả hàng\n            </Button>\n          :null}\n           <Button variant=\"contained\" color=\"primary\"size=\"small\" style={{ marginLeft: 15 }} startIcon={<PrintTwoToneIcon fontSize=\"small\" />} onClick={() => handlePrint()}>\n            In hoá đơn\n          </Button>\n\n          {/* <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton> */}\n         \n\n          {/* <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={() => handlePrint()}>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <PrintTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"In hoá đơn\" />\n            </StyledMenuItem>\n\n            <StyledMenuItem>\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <GetAppTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xuất excel\" />\n            </StyledMenuItem>\n          </StyledMenu> */}\n        </Grid>\n      </Box>\n      {/* \n      <Dialog fullWidth maxWidth=\"lg\" open={open} onClose={handleCloseReturn} aria-labelledby=\"form-dialog-title\">\n        <InvoiceReturnPopUp handleCloseReturn={handleCloseReturn} order={order} classes={classes} /> */}\n\n      {/* 3. Receipt */}\n      <div style={{ display: \"none\" }}>\n        <div ref={componentRef}>\n          <ReceiptPrinter cart={order} date={row.creation_date?.split(\" \")[0].split('-').reverse().join('/')} code={row.order_code} type={type}/>\n        </div>\n      </div>\n\n      {/* Tra hang */}\n\n      <Dialog\n        fullWidth\n        maxWidth=\"lg\"\n        open={open}\n        onClose={handleCloseReturn}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <InvoiceReturnPopUp\n          handleCloseReturn={handleCloseReturn}\n          order={order}\n          classes={classes}\n          reloadDetail={() => setReload(!reload)}\n          reload={onReload}\n        />\n      </Dialog>\n    </Collapse>\n  );\n}\n\nexport default InvoiceDetail;\n","import React, {useEffect,useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import library\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Avatar,\n  Dialog,\n  FormHelperText\n} from \"@material-ui/core\";\n\n//import project\nimport customerApi from \"../../../../../../api/customerApi\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    ava: {\n      width: theme.spacing(7),\n      height: theme.spacing(7),\n    },\n    textField: {\n      width: \"100%\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateCustomer = (props) => {\n  const { handleClose, open, onReload } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [phoneExist, setPhoneExist] = React.useState(false);\n  const [clicked, setClicked] =useState(false)\n\n\n  const customerFormik = useFormik({\n    initialValues: {\n      name: props.customerDetail?.name || \"\",\n      email: props.customerDetail?.email || \"\",\n      phone: props.customerDetail?.phone || \"\",\n      address: props.customerDetail?.address || \"\",\n      paymentInfo: props.customerDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n  })\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  // const handleCloseAndReset =() =>{\n  //   // handleClose()\n  //   onReload()\n  //   customerFormik.resetForm()\n  // } \n  useEffect(() =>{\n    if(phoneExist) {setPhoneExist(false)}\n  },[customerFormik.values.phone])\n\n  const dispatch = useDispatch()\n  return (\n \n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Chỉnh sửa khách hàng\n        </Typography>\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-around\"\n            spacing={3}\n          >\n            <Grid item xs={7}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Tên khách hàng\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                required\n                name = \"name\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.name}\n                error={customerFormik.touched.name && customerFormik.errors.name}\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                required\n                id=\"outlined-basic\"\n                label=\"Số điện thoại\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"phone\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.phone}\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\n                onBlur={customerFormik.handleBlur}\n              />\n               { phoneExist && (\n                <FormHelperText error>Số điện thoại đã được sử dụng</FormHelperText>\n              )}\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Địa chỉ\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name= \"address\"\n                // required\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.address}\n                error={customerFormik.touched.address && customerFormik.errors.address}\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n            <Grid item xs={5}>\n              <TextField\n                id=\"date\"\n                label=\"Thông tin thanh toán\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.textField}\n                name = \"paymentInfo\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.paymentInfo}\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Email\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name = \"email\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.email}\n                error={customerFormik.touched.email && customerFormik.errors.email}\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={handleClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          onClick={async () => {\n            setClicked(true)\n            let body = {\n              name: customerFormik.values.name,\n              email: customerFormik.values.email,\n              phone: customerFormik.values.phone,\n              address: customerFormik.values.address,\n              payment_info: customerFormik.values.paymentInfo,\n            };\n\n            try {\n              const response = await customerApi.updateCustomer(store_uuid, props.customerDetail.uuid, body)\n              handleClose()\n              // handleCloseAndReset()\n              dispatch(statusAction.successfulStatus(\"Sửa thông tin khách hàng thành công\"));\n              onReload()\n              \n            } catch (err) {\n              // dispatch(statusAction.failedStatus(\"Sửa thông tin khách hàng thất bại\"));\n              setPhoneExist(true)\n              setClicked(false)\n            }\n\n          }}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled = {!(customerFormik.isValid  )|| clicked}\n        >\n          Lưu thay đổi\n        </Button>\n      </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default UpdateCustomer;\n","import { Box, Button, Collapse, Grid, IconButton, InputAdornment, ListItem, ListItemIcon, ListItemText, TextField, Typography } from '@material-ui/core';\nimport React, {useState} from 'react'\nimport { StyledMenu, StyledMenuItem } from '../../../../../components/Button/MenuButton'\nimport VNDInput, { ThousandFormat, ThousandSeperatedInput, VNDFormat } from '../../../../../components/TextField/NumberFormatCustom';\nimport { createStyles, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\nimport { Tag } from 'antd';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport UpdateCustomer from \"../CustomerDetail/UpdateCustomer/UpdateCustomer\"\nimport avaUpload from '../../../../../assets/img/ava/avaa.jpeg';\nimport customerApi from \"../../../../../api/customerApi\";\nimport moment from 'moment'\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\n\n\n\n//import icon\n\n\n\n\n//import image\n// import avaUpload from '../../../../../assets/img/product/lyimg.jpeg';\n\n\n//import project \n\n\n\n\n\n\n// import CustomerDebtDetail from \"./CustomerDebtDetail\"\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      '& .MuiTextField-root': {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: '1.125rem'\n    },\n    typo: {\n      marginBottom: 20\n    }\n\n  }));\n\nconst UploadImage = () => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n\n      }}\n      src={avaUpload}\n    />\n\n  )\n}\nconst CustomerDetail = (props) => {\n\n  const { row, openRow } = props.parentProps;\n\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editItem, setEditItem] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const dispatch = useDispatch();\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n\n  const handleDeleteCustomer = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await customerApi.deleteCustomer(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.onReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await customerApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n          date: moment(new Date()).format(\"YYYY-MM-DD\")\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.onReload();\n      }\n    } catch(err) {\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n\n// const [openDetaiDebt,setOpenDetaiDebt] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteCustomer}\n        message={\n          <Typography>\n            Xóa vĩnh viễn khách hàng <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Thu nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n          {/* <VNDInput\n          size=\"small\"\n          value={paidAmount}\n          onChange={(e) => {\n            const amount = Number(e.target.value);\n            if (amount < 0 || amount > row.debt) return;\n            setPaidAmount(e.target.value);\n          }}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              {\" \"}\n              / <VNDFormat value={row.debt} />\n            </InputAdornment>\n          }\n        /> */}\n        <ListItem>\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editItem &&<UpdateCustomer customerDetail={row} open={editItem} onReload={props.parentProps.onReload} handleClose={() => { setEditItem(false) }} />}\n      <Box margin={1}>\n        <Typography variant=\"h3\" gutterBottom component=\"div\" className={classes.typo}>\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={3}>\n            <UploadImage />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\" >\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Mã khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.customer_code} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tên khách hàng </Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.name} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Số điện thoại</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.phone}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Thông tin thanh toán</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.payment_info}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Địa chỉ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.address} </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Email</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.email} </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n\n          <Grid item xs={12} sm={4}>\n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Trạng thái</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\">{row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tích điểm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><ThousandFormat value={row.points} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Tổng tiền mua</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.total_payment} /></Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Còn nợ</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                <Typography variant=\"body1\" gutterBottom component=\"div\"><VNDFormat  value={row.debt} /> </Typography>\n              </Grid>\n              {/* {row.debt > 0?\n              <Grid item sm={3} >\n                  <Button size='small' variant='contained'color='primary' style={{textTransform:'none'}} onClick={()=>setOpenDetaiDebt(true)}> Chi tiết</Button>            \n                </Grid>:null}\n                {openDetaiDebt?\n                <CustomerDebtDetail  \n                open={openDetaiDebt} \n                 onClose={()=>setOpenDetaiDebt(false)}\n                 setReload={() => {\n                  // setReload();\n                  // setThisReload(!thisReload);\n                  \n                 }}\n                 />:null} */}\n              </Grid>\n\n              <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6} >\n                <Typography variant=\"h5\" gutterBottom component=\"div\">Nhóm</Typography>\n              </Grid>\n              <Grid item sm={6} >\n                {row.groups?.map(g => <Tag color=\"magenta\" >{g}</Tag>)}\n              </Grid>\n\n            </Grid>\n            </Grid>\n              \n            \n\n        </Grid>\n\n        {/* Button */}\n        <Grid container direction=\"row\" justifyContent={\"flex-end\"} style={{ marginTop: 20 }}>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setEditItem(true) }}>Sửa</Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={() => { setDeleteConfirm(true) }}>Xoá</Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {   \n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await customerApi.updateCustomer(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              \n              props.parentProps.onReload();\n  \n            }}\n            \n            >\n              <ListItemIcon style={{ marginRight: -15 }} >\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n\n          </StyledMenu>\n\n\n        </Grid>\n\n      </Box>\n    </Collapse>\n  )\n\n}\n\nexport default CustomerDetail\n","import React, { useState, useEffect } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport supplierApi from \"../../../../../../api/supplierApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Dialog,\n  Box,\n  Paper,\n  IconButton,\n  Tooltip,\n} from \"@material-ui/core\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport avaUpload from \"../../../../../../assets/img/product/default-product.png\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { statusAction } from \"../../../../../../store/slice/statusSlice\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {},\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst UpdateSupplier = (props) => {\n  const { handleClose, open, supplierDetail } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n\n  const supplierFormik = useFormik({\n    initialValues: {\n      name: supplierDetail?.name || \"\",\n      email: supplierDetail?.email || \"\",\n      phone: supplierDetail?.phone || \"\",\n      address: supplierDetail?.address || \"\",\n      company: supplierDetail?.company || \"\",\n      paymentInfo: supplierDetail?.payment_info || \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên nhà cung cấp\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\"),\n        // .required(\"Nhập số điện thoại\").matches(/^\\d+$/),\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n      email: Yup.string().email(\"Email không chính xác\")\n    }),\n    enableReinitialize: true\n  })\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const dispatch = useDispatch();\n  const handleUpdateSupplier = async () => {\n    handleClose()\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", supplierFormik.values.name.toString());\n      bodyFormData.append(\"email\", supplierFormik.values.email.toString());\n      bodyFormData.append(\"phone\", supplierFormik.values.phone.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.paymentInfo.toString());\n      bodyFormData.append(\"payment_info\", supplierFormik.values.company.toString());\n      bodyFormData.append(\"address\", supplierFormik.values.address.toString());\n      await supplierApi.updateSupplier(store_uuid, supplierDetail.uuid, bodyFormData)\n      dispatch(statusAction.successfulStatus(\"Sửa nhà cung cấp thành công\"));\n      props.onReload();\n    } catch (err) {\n      dispatch(statusAction.failedStatus(\"Sửa nhà cung cấp thất bại\"));\n      console.log(err);\n    }\n  };\n  const handleCloseAndReset =() =>{\n\n    supplierFormik.resetForm()\n  }\n  return (\n    <SimpleModal\n      open={open}\n      handleClose={()=>{handleClose();handleCloseAndReset();}}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <Box style={{ width: 550, maxWidth: \"100%\" }}>\n        <Typography className={classes.headerTitle} variant=\"h5\" gutterBottom>\n          Chỉnh sửa nhà cung cấp\n        </Typography>\n        <Grid container spacing={2} style={{ marginTop: 10 }}>\n          <Grid item xs={12}>\n            <TextField\n              required\n              id=\"outlined-basic\"\n              label=\"Tên nhà cung cấp\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.name}\n              error={supplierFormik.touched.name && supplierFormik.errors.name}\n              helperText={supplierFormik.touched.name ? supplierFormik.errors.name : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              // required\n              id=\"outlined-basic\"\n              label=\"Địa chỉ\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"address\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.address}\n              error={supplierFormik.touched.address && supplierFormik.errors.address}\n              helperText={supplierFormik.touched.address ? supplierFormik.errors.address : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Số điện thoại\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              // required\n              name=\"phone\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.phone}\n              error={supplierFormik.touched.phone && supplierFormik.errors.phone}\n              helperText={supplierFormik.touched.phone ? supplierFormik.errors.phone : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Email\"\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              name=\"email\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.email}\n              error={supplierFormik.touched.email && supplierFormik.errors.email}\n              helperText={supplierFormik.touched.email ? supplierFormik.errors.email : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Tên công ty\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"company\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.company}\n              error={supplierFormik.touched.company && supplierFormik.errors.company}\n              helperText={supplierFormik.touched.company ? supplierFormik.errors.company : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Thông tin thanh toán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"paymentInfo\"\n              onChange={supplierFormik.handleChange}\n              value={supplierFormik.values.paymentInfo}\n              error={supplierFormik.touched.paymentInfo && supplierFormik.errors.paymentInfo}\n              helperText={supplierFormik.touched.paymentInfo ? supplierFormik.errors.paymentInfo : null}\n              onBlur={supplierFormik.handleBlur}\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n            marginTop: 20,\n          }}\n        >\n          <Button\n           onClick={()=>{handleClose();handleCloseAndReset();}}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n          >\n            Huỷ\n          </Button>\n          <Button\n            style={{ marginLeft: 10 }}\n            onClick={handleUpdateSupplier}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={!supplierFormik.isValid}\n          >\n            Lưu thay đổi\n          </Button>\n        </Grid>\n      </Box>\n    </SimpleModal>\n  );\n};\n\nexport default UpdateSupplier;\n","import React, {useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  ListItem,\n  IconButton,\n} from \"@material-ui/core\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport supplierApi from \"../../../../../api/supplierApi\";\nimport ConfirmPopUp from \"../../../../../components/ConfirmPopUp/ConfirmPopUp\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\";\nimport UpdateSupplier from \"./UpdateSupplier/UpdateSupplier\";\nimport { VNDFormat, ThousandFormat, ThousandSeperatedInput } from '../../../../../components/TextField/NumberFormatCustom';\n\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst SupplierDetail = (props) => {\n  const { row, openRow } = props.parentProps;\n  const { isMini } = props;\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [deleteConfirm, setDeleteConfirm] = React.useState(false);\n  const [openPayDebt, setOpenPayDebt] = React.useState(false);\n  const [editSupplier,setEditSupplier] = React.useState(false);\n  const dispatch = useDispatch();\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleDeleteSupplier = async () => {\n    setDeleteConfirm(false)\n    try {\n      const response = await supplierApi.deleteSupplier(store_uuid, row.uuid);\n      dispatch(statusAction.successfulStatus(\"Xóa thành công\"));\n      props.parentProps.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Xóa thất bại\"));\n    }\n  };\n\n  const [paidAmount, setPaidAmount] = useState(0)\n  const payDebt = async () => {\n    try {\n      if (store_uuid) {\n        setOpenPayDebt(false);\n        const res = await supplierApi.payDebt(store_uuid, row.uuid, {\n          paid_amount: paidAmount,\n          created_user_type: info.role,\n          created_user_name: info.user.name,\n          created_user_id: info.user.id,\n        });\n        dispatch(statusAction.successfulStatus(\"Thanh toán nợ thành công\"));\n        setPaidAmount(0)\n        props.parentProps.setReload();\n      }\n    } catch(err) {\n      console.log(err)\n      dispatch(statusAction.failedStatus(\"Thanh toán nợ thất bại\"));\n    }\n  }\n  return (\n    <Collapse in={isMini?true:openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      <ConfirmPopUp\n        open={deleteConfirm}\n        handleClose={() => {\n          setDeleteConfirm(false);\n        }}\n        handleConfirm={handleDeleteSupplier}\n        message={\n          <Typography>\n            Xóa vĩnh viễn nhà cung cấp <b>{row.name} ?</b>\n          </Typography>\n        }\n      />\n      {openPayDebt && <ConfirmPopUp\n        open={openPayDebt}\n        handleClose={() => {\n          setOpenPayDebt(false);\n        }}\n        handleConfirm={payDebt}\n        message={\n          <>\n          <Typography variant=\"h3\" style={{marginBottom:15}}>Trả nợ <b style={{color:theme.customization.primaryColor[500]}}>{row.name}</b></Typography>\n        <ListItem >\n            <ThousandSeperatedInput  \n            style={{marginRight:10}}\n            value={paidAmount}\n            onChange={(e) => {\n              const amount = Number(e.target.value);\n              if (amount < 0 || amount > row.debt) return;\n              setPaidAmount(e.target.value);\n            }}\n            />\n              / <VNDFormat value={row.debt} style={{color:'#000', fontWeight:500}} />\n         </ListItem>\n          </>\n        }\n      />}\n      {editSupplier &&<UpdateSupplier supplierDetail={row} open={editSupplier} handleClose = {() => setEditSupplier(false)} onReload= {props.parentProps.setReload}/>}\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12} sm={6}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item  xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.supplier_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhà cung cấp{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.phone}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.address}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item  sm={3}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n              \n          <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === \"active\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tổng tiền đã nhập\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat  value={row.total_payment} />\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Còn nợ\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                <VNDFormat  value={row.debt} /> \n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Thông tin thanh toán\n                </Typography>\n              </Grid>\n              <Grid item  sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.payment_info}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Công ty\n                </Typography>\n              </Grid>\n              <Grid item sm={4}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.company}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick = {() => setEditSupplier(true)}>\n            Sửa\n          </Button>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setDeleteConfirm(true);\n            }}\n          >\n            Xoá\n          </Button>\n          {row.debt > 0 ? <Button variant=\"contained\" size=\"small\" color=\"primary\" style={{ marginLeft: 15 }} onClick={() => { setOpenPayDebt(true) }}>Thu nợ</Button> : null}\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n           \n          >\n            <StyledMenuItem\n             onClick={async () => {\n              handleClose()\n              if (row.status === \"inactive\") {\n                try {     \n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid ,{...row, status:'active'} )\n                  dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                } catch (err) {\n                  console.log(err)\n                  dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n                }\n              } else if (row.status === \"active\") {\n                try {\n                  const response = await supplierApi.updateSupplier(store_uuid, row.uuid,{...row, status:'inactive'})\n                  dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                } catch (err) {\n                  dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n                }\n              }\n              props.parentProps.setReload();\n            }}\n            >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary={row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"} />\n            </StyledMenuItem>\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default SupplierDetail;\n","import { Typography, Grid, TextField,Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport SimpleModal from \"../../../../../../components/Modal/ModalWrapper\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useSelector,useDispatch } from \"react-redux\";\nimport {statusAction} from \"../../../../../../store/slice/statusSlice\"\nimport userApi from \"../../../../../../api/userApi\"\n\nconst ChangeEmployeePwd = (props) => {\n    const { open, handleClose, employeeDetail } = { ...props };\n    const formik = useFormik({\n        enableReinitialize: true,\n        initialValues: {\n            owner_password:\"\",\n            password: \"\",\n            confirm_password: \"\",\n        },\n        validationSchema: Yup.object({\n            owner_password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            password: Yup.string()\n                .required(\"Nhập mật khẩu\")\n                .min(6, \"Mật khẩu phải có ít nhất 6 ký tự\"),\n            confirm_password: Yup.string()\n                .required(\"Nhập lại mật khẩu\")\n                .oneOf([Yup.ref(\"password\"), null], \"Mật khẩu không khớp\"),\n        }),\n    });\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const dispatch= useDispatch()\n    const handleChangePassword = async () => {  \n        closeModalAndResetData()\n        try{\n            const response = userApi.owenerChangePassword(store_uuid,employeeDetail.uuid,{\n                owner_password:formik.values.owner_password,\n                employee_password: formik.values.password\n            })\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thành công\"))\n        }catch(error){\n            dispatch(statusAction.successfulStatus(\"Đổi mật khẩu thất bại\"))\n        }\n    }\n    const closeModalAndResetData = () => {\n        formik.resetForm()\n        handleClose()\n    }\n    return (\n        <SimpleModal open={open} handleClose={closeModalAndResetData}>\n            <Typography variant=\"h4\" gutterBottom>\n                Đổi mật khẩu\n            </Typography>\n\n            <Grid container spacing={2} style={{ maxWidth: 600, marginTop: 10 }}>\n                <Grid item xs={12}>\n                    <TextField\n                        variant=\"filled\"\n                        fullWidth\n                        label=\"Tên nhân viên\"\n                        value={employeeDetail.name}\n                        disabled\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"owner_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu chủ cửa hàng\"\n                        onChange={formik.handleChange}\n                        value={formik.values.owner_password}\n                        error={formik.touched.owner_password && formik.errors.owner_password}\n                        helperText={formik.touched.owner_password ? formik.errors.owner_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Mật khẩu mới\"\n                        onChange={formik.handleChange}\n                        value={formik.values.password}\n                        error={formik.touched.password && formik.errors.password}\n                        helperText={formik.touched.password ? formik.errors.password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        type=\"password\"\n                        name=\"confirm_password\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        label=\"Nhập lại mật khẩu\"\n                        onChange={formik.handleChange}\n                        value={formik.values.confirm_password}\n                        error={formik.touched.confirm_password && formik.errors.confirm_password}\n                        helperText={formik.touched.confirm_password ? formik.errors.confirm_password : null}\n                        onBlur={formik.handleBlur}\n                    />\n                </Grid>\n            </Grid>\n            <Grid\n                item\n                xs={12}\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"flex-end\",\n                    paddingTop: 20,\n                }}\n            >\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    style={{ marginRight: 20 }}\n                    onClick={closeModalAndResetData}\n                >\n                    Hủy\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    color=\"primary\"\n                    onClick={handleChangePassword}\n                    style={{ marginRight: 20 }}\n                    disabled={!(formik.isValid && Object.keys(formik.touched).length > 0)}\n                >\n                    Sửa\n                </Button>\n            </Grid>\n        </SimpleModal>\n    );\n};\n\nexport default ChangeEmployeePwd;\n","import React, { useEffect, useState } from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport LockIcon from '@material-ui/icons/Lock';\n\n//import library\nimport {\n  Box,\n  Grid,\n  Collapse,\n  Typography,\n  Button,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n} from \"@material-ui/core\";\nimport Chip from \"@mui/material/Chip\";\n\n//import icon\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport HighlightOffTwoToneIcon from \"@material-ui/icons/HighlightOffTwoTone\";\n\n//import image\nimport avaUpload from \"../../../../../assets/img/product/lyimg.jpeg\";\nimport { statusAction } from \"../../../../../store/slice/statusSlice\"\n\n//import project\nimport {\n  StyledMenu,\n  StyledMenuItem,\n} from \"../../../../../components/Button/MenuButton\";\nimport employeeApi from \"../../../../../api/employeeApi\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport EditEmployee from \"../../AddEmployee/EditEmployee\";\nimport ChangeEmployeePwd from \"./ChangeEmployeePwd/ChangeEmployeePwd\";\nimport { VNDFormat } from \"../../../../../components/TextField/NumberFormatCustom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    typo: {\n      marginBottom: 20,\n    },\n  })\n);\n\nconst UploadImage = ({ src }) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 120,\n        width: 120,\n        borderRadius: 120,\n        marginLeft: 15,\n      }}\n      src={src}\n    />\n  );\n};\n\nconst permissionsMapping = {\n  \"manage-employees\": \"Nhân sự\",\n  \"manage-orders\": \"Bán hàng\",\n  \"manage-purchase-orders\": \"Đặt hàng\",\n  \"manage-purchase-returns\": \"Nhập hàng\",\n};\n\nconst salaryTypeMapping = {\n  fix: \"Lương cứng\",\n  \"per-shift\": \"Lương theo ca\",\n};\n\nconst EmployeeDetail = (props) => {\n  const { row, openRow, handleReload } = props.parentProps;\n  const { isMini } = props;\n\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\"));\n\n  const [openEdit, setOpenEdit] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [employeeDetail, setEmployeeDetail] = React.useState({\n    uuid: \"\",\n    name: \"\",\n    user_name: \"\",\n    date_of_birth: \"\",\n    id_card_num: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    permissions: [],\n    salary_type: \"\",\n    salary: \"\",\n    branches: []\n  });\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const [reload, setReload] = useState(false)\n  useEffect(() => {\n    const fetchEmp = async () => {\n      try {\n        const response = await employeeApi.getEmployee(store_uuid, row.uuid);\n        setEmployeeDetail(response.data);\n      } catch (err) {\n        setEmployeeDetail({\n          uuid: \"\",\n          name: \"\",\n          user_name: \"\",\n          date_of_birth: \"\",\n          id_card_num: \"\",\n          phone: \"\",\n          email: \"\",\n          address: \"\",\n          permissions: [],\n          salary_type: \"\",\n          salary: \"\",\n          branches: []\n        });\n      }\n    };\n    if (openRow === row.uuid && store_uuid) {\n      fetchEmp();\n    }\n  }, [openRow,reload]);\n  const [changePwd, setChangePwd] = useState(false)\n  return (\n    <Collapse in={isMini ? true : openRow === row.uuid} timeout=\"auto\" unmountOnExit>\n      {openEdit && (<EditEmployee\n        handleClose={(status) => {\n          if (status === \"Success\") {\n            dispatch(statusAction.successfulStatus(\"Chỉnh sửa thành công\"))\n            setReload(!reload)\n          } else if (status === \"Failed\") {\n            dispatch(statusAction.failedStatus(\"Chỉnh sửa thất bại\"))\n          }\n          setOpenEdit(false);\n          handleReload();\n        }}\n        open={openEdit}\n        employee={employeeDetail}\n      />)}\n      <ChangeEmployeePwd open={changePwd} handleClose={() => setChangePwd(false)} employeeDetail={employeeDetail} />\n      <Box margin={1}>\n        <Typography\n          variant=\"h3\"\n          gutterBottom\n          component=\"div\"\n          className={classes.typo}\n        >\n          {row.name}\n        </Typography>\n\n        <Grid container direction=\"row\" justifyContent=\"flex-start\">\n          <Grid item xs={12}sm={3} >\n            <UploadImage src={employeeDetail.img_url} />\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mã nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.employee_code}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên nhân viên{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Tên đăng nhập{\" \"}\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.user_name}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Ngày sinh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.date_of_birth}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  CMND\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.id_card_num}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Số điện thoại\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.phone}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Email\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.email}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={5}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Địa chỉ\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.address}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} sm={4}>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chức năng\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.permissions.map((permission) => (\n                    <Chip label={permission.description} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Chi nhánh\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {employeeDetail.branches?.map((branch) => (\n                    <Chip label={branch.name} />\n                  ))}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Loại lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {salaryTypeMapping[employeeDetail.salary_type]}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Mức lương\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  <VNDFormat value={employeeDetail.salary}/>\n                </Typography>\n              </Grid>\n            </Grid>\n\n            <Grid container direction=\"row\" justifyContent=\"flex-start\">\n              <Grid item xs={7} sm={6}>\n                <Typography variant=\"h5\" gutterBottom component=\"div\">\n                  Trạng thái\n                </Typography>\n              </Grid>\n              <Grid item sm={6}>\n                <Typography variant=\"body1\" gutterBottom component=\"div\">\n                  {row.status === 'active' ? \"Kích hoạt\" :\"Ngưng hoạt động\"}{\" \"}\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n        </Grid>\n\n        {/* Button */}\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent={\"flex-end\"}\n          style={{ marginTop: 20 }}\n        >\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            style={{ marginLeft: 15 }}\n            onClick={() => {\n              setOpenEdit(true);\n            }}\n          >\n            Sửa\n          </Button>\n          <Button variant=\"contained\" size=\"small\" style={{ marginLeft: 15 }} onClick={async () => {\n            if (row.status === \"inactive\") {\n              try {\n                const response = await employeeApi.activeEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Kích hoạt thành công\"))\n                handleReload()\n              } catch (err) {\n                console.log(err)\n                dispatch(statusAction.failedStatus(\"Kích hoạt thất bại\"))\n              }\n            } else if (row.status === \"active\") {\n              try {\n                const response = await employeeApi.inactiveEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Ngưng hoạt động thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Ngưng hoạt động thất bại\"))\n              }\n            }\n\n          }}>\n            {row.status === \"inactive\" ? \"Kích hoạt\" : \"Ngưng hoạt động\"}\n          </Button>\n\n          <IconButton\n            aria-label=\"more\"\n            aria-controls=\"long-menu\"\n            aria-haspopup=\"true\"\n            onClick={handleClick}\n            size=\"small\"\n            style={{ marginLeft: 10 }}\n          >\n            <MoreVertIcon />\n          </IconButton>\n\n          <StyledMenu\n            id=\"customized-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n          >\n            <StyledMenuItem onClick={async () => {\n              try {\n                const response = await employeeApi.deleteEmployee(store_uuid, employeeDetail.uuid)\n                dispatch(statusAction.successfulStatus(\"Xoá nhân viên thành công\"))\n                handleReload()\n              } catch (err) {\n                dispatch(statusAction.failedStatus(\"Xoá nhân viên thất bại\"))\n              }\n            }} >\n              <ListItemIcon style={{ marginRight: -15 }}>\n                <HighlightOffTwoToneIcon fontSize=\"small\" />\n              </ListItemIcon>\n              <ListItemText primary=\"Xoá\" />\n            </StyledMenuItem>\n\n            {info.role === \"owner\" &&\n              <StyledMenuItem onClick={() => setChangePwd(true)} >\n                <ListItemIcon style={{ marginRight: -15 }}>\n                  <LockIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Mật khẩu\" />\n              </StyledMenuItem>}\n\n          </StyledMenu>\n        </Grid>\n      </Box>\n    </Collapse>\n  );\n};\n\nexport default EmployeeDetail;\n","import React from 'react'\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\n\nimport InfoTwoToneIcon from '@material-ui/icons/InfoTwoTone';\nimport {Typography,Tooltip} from '@material-ui/core';\n\nconst HtmlTooltip = withStyles((theme) => ({\n    tooltip: {\n      backgroundColor: '#6b6b6b',\n      // color: 'rgba(0, 0, 0, 0.87)',\n      color: '#fff',\n      // maxWidth: 220,\n      fontSize: theme.typography.pxToRem(12),\n      border: '1px solid #000',\n    },\n  }))(Tooltip);\n\nconst MoreInfo = (props) => {\n  const {title, content} = props\n    return (\n        <div> \n            <HtmlTooltip\n                arrow\n                title={\n                <React.Fragment>\n                    {/* <Typography color=\"inherit\">Tooltip with HTML</Typography>\n                    <em>{\"And here's\"}</em> <b>{'some'}</b> <u>{'amazing content'}</u>.{' '}\n                    {\"It's very engaging. Right?\"} */}\n                    {props.children}\n                </React.Fragment>\n                }\n            >\n              <InfoTwoToneIcon fontSize=\"small\" />\n            </HtmlTooltip>\n        </div>\n    )\n}\n\nexport default MoreInfo\n","import React ,{useEffect,useState}from 'react'\nimport {Typography,Divider,Card,Grid,Paper,InputAdornment,Box,TextField,Button,InputLabel,MenuItem,FormControl,Select,ListItem,ListItemIcon,ListItemText} from '@material-ui/core';\n\nimport { TreeSelect,Tree } from 'antd';\nimport productApi from \"../../api/productApi\";\nimport { useSelector } from 'react-redux'\n\nconst CategorySelect = ({data,saveData,setData, isNotSelect,setOpenFilter}) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const branches = info.store.branches \n    const [categoryId, setCategoryId] = useState('all');\n\n    const [categoryList, setCategoryList] = useState([]);\n    const [allProduct, setAllProduct] =  useState([]);\n    // useEffect(()=>{\n    //   if ( window.localStorage.getItem(\"products\")) {\n    //     const products = JSON.parse(window.localStorage.getItem(\"products\"));\n    //     if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n    //       setAllProduct(products.data);\n    //     }\n    //   }\n    // },[])\n\n\n    const recursiveSearchTree = (category) => {\n        const findedCategory=category.find(e => e.uuid === categoryId);\n        if(findedCategory){return findedCategory}\n        for(let i = 0; i< category.length ; i++){\n          if(category[i].children.length > 0){return recursiveSearchTree(category[i].children)}\n        } \n      };\n      const getAllChild  =(cat) => {\n        if(!cat){return}\n        if(cat.children.length === 0){return cat.uuid}\n        return cat.children.map((child)=>{\n          return getAllChild(child)\n        })\n      }\n      const filterCategory = () =>{\n        if(categoryId === 'all') {\n          setData(saveData)\n            // setData(allProduct)\n        }else{\n          let cat =  recursiveSearchTree(categoryList)\n          let allChild = cat?.children?.length !== 0? getAllChild(cat) : []\n          allChild =  [].concat.apply([], allChild)\n          let allCat =  allChild ?[... allChild, cat?.uuid]: allChild\n         //   setData(saveData.filter(data =>  allCat?.includes(data.category_uuid ) ))\n        //  let newAllProduct = [...allProduct]\n        //  newAllProduct = newAllProduct.filter(data =>  allCat?.includes(isNotSelect?data.category.uuid:data.category_uuid ))\n        // setData(newAllProduct)\n        // var newProductData = [...allProduct]\n        // newProductData = setData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid ))\n        setData(saveData.filter(data  =>  allCat?.includes(isNotSelect?data.category?.uuid:data.category_uuid )))\n\n        }\n      }\n    \n    const fetchAllCategory = async () => {\n        try {\n            const response = await productApi.getNestedCategory(store_uuid);\n            setCategoryList(response.data);\n        } catch (error) { }\n    };\n\n    useEffect(()=>{\n        if (store_uuid && branch_uuid &&saveData) {fetchAllCategory()}\n        },[])\n\n    useEffect(()=>{\n        if(categoryList&& data &&saveData.length !==0) {\n            filterCategory()\n            // if(isNotSelect && categoryId) {setOpenFilter(false)}\n        }\n        \n        },[categoryId])\n\n    const [selectedNodeUuid,setSelectedNodeUuid] = useState(null)\n    const onSelect = (selectedKeys, info) => {\n        if(info.node.uuid){\n            setCategoryId(info.node.uuid)\n        }else{\n            setCategoryId('all')\n        }\n        // setCategoryId(info.node.uuid)\n        setOpenFilter(false)\n    };\n    console.log(\"selectedNodeUuid\",selectedNodeUuid)\n\n if(isNotSelect){\n     return (\n         <>\n        <Tree\n        // showLine={true}\n        // showIcon={true}\n        // defaultExpandedKeys={['0-0-0']}\n        // onSelect={(selectedKeys, info)=>console.log(info.node.uuid)}\n        onSelect={onSelect}\n        // onChange={(val)=>setCategoryId(val )}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n      /> \n      {/* <Button variant=\"contained\"  onClick={()=>{setCategoryId(selectedNodeUuid);}}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n\n      </>\n     )\n }       \n  return (\n    <TreeSelect\n        style={{ width: 220}}   \n        dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n        treeData={[{ title:'Tất cả danh mục',value:'all'},...categoryList]}\n        value={categoryId}\n        onChange={(val)=>setCategoryId(val )}\n        treeDefaultExpandAll\n        placeholder=\"Danh mục\"\n        \n    />\n  )\n}\n\nexport default CategorySelect","import React, {useState,useEffect} from 'react'\nimport icon from '../../assets/img/product/tch.jpeg';\nimport InventoryList from '../../assets/JsonData/inventory.json';\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../components/TableCommon/style/mainViewStyle\";\nimport { useSelector } from 'react-redux';\n//import library \nimport {Grid,Card,Box,Table,TableCell,Modal,Tooltip,Dialog,Tabs,Tab,TableRow,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography, Button} from '@material-ui/core'\nimport { VNDFormat } from \"../TextField/NumberFormatCustom\";\nimport defaultProduct from \"../../assets/img/product/default-product.png\"\nimport setting from \"../../assets/constant/setting\"\nimport TableHeader from \"../TableCommon/TableHeader/TableHeader\" \nimport TableWrapper from \"../TableCommon/TableWrapper/TableWrapper\" \nimport ListIcon from '@material-ui/icons/List';\nimport ImageTwoToneIcon from '@material-ui/icons/ImageTwoTone';\nimport ListAltTwoToneIcon from '@material-ui/icons/ListAltTwoTone';\nimport ListAltOutlinedIcon from '@material-ui/icons/ListAltOutlined';\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\nimport FilterListTwoToneIcon from \"@material-ui/icons/FilterListTwoTone\";\nimport clsx from \"clsx\"\nimport { TreeSelect } from 'antd';\nimport CategorySelect from \"../Select/CategorySelect\"\nimport { grey } from \"@material-ui/core/colors\";\nimport BrokenImageTwoToneIcon from '@material-ui/icons/BrokenImageTwoTone';\nimport WallpaperTwoToneIcon from '@material-ui/icons/WallpaperTwoTone';\nconst MenuProduct = ({products, setProducts, handleSearchBarSelect, isCart, selectedItem,typeShow,setTypeShow,isCheck,showImage,setShowImage}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    const InventoryHeadCells = [\n      { id: \"id\", align: \"left\", disablePadding: true, label: \"Mã SP\" },\n      { id: \"name\", align: \"left\", disablePadding: false, label: \"Tên\" },\n      { id: \"price\", align: \"right\", disablePadding: false, label: isCart? \"Giá bán\":'Giá vốn' },\n      { id: \"inventory\", align: \"right\", disablePadding: false, label: \"Tồn kho\" },\n      { id: \"\", align: \"right\", disablePadding: false, label: \"\" },\n    ];\n    const [categoryList, setCategoryList] = useState([]);\n    const [categoryId, setCategoryId] = useState('all');\n    // redux\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting;\n\n    // const [typeShow, setTypeShow] = useState('list')\n    const [allProduct, setAllProduct] =  useState([]);\n    useEffect(()=>{\n      if ( window.localStorage.getItem(\"products\")) {\n        const products = JSON.parse(window.localStorage.getItem(\"products\"));\n        if (products.store_uuid === store_uuid && products.branch_uuid === branch_uuid ) {\n          setAllProduct(products.data);\n        }\n      }\n    },[])\n\n    const selectedItemUuid =selectedItem.length ===0?[]: selectedItem.map((item)=>item.uuid)\n    const findItem = (item)=>{\n     const findedItem =  selectedItem.find(row => item.uuid === row.uuid)\n     if(isCheck){return findedItem?.real_quantity}\n     return findedItem?.quantity\n    // return findedItem?.real_quantity\n    // console.log(\"findedItem\",findedItem)\n    }\n\n    const [openFilter, setOpenFilter] = useState(false)\n    const [filter, setFilter] = useState(null)\n    const renderListOption = () => {\n      const color = theme.customization.mode === \"Light\"  ? '#000' : '#fff'\n      return (\n        <>\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}} >\n        <Table size={'small'} stickyHeader >\n            <TableHeader\n                classes={classes}\n                headerData={store_setting?.inventory.status ?InventoryHeadCells: InventoryHeadCells.filter(item => item.id !== \"inventory\")}\n                color={color}\n              />\n              <TableBody>\n                {products.map((row, index) => {\n                  let findedItem= findItem(row)\n                  return (\n                  <TableRow key={row.uuid}  onClick={() => handleSearchBarSelect(row)} style={{color:color,backgroundColor:selectedItemUuid.includes(row.uuid) &&( theme.customization.mode === \"Light\"  ? theme.customization.primaryColor[50] : grey[700])}}>\n                    <TableCell align=\"left\" style={{color:color}}> {row.product_code} </TableCell>\n                      <TableCell align=\"left\"  >\n                        <ListItem style={{ marginLeft: -30, marginTop: -10, marginBottom: -10, }}  >\n                         {showImage? <Box component=\"img\" sx={{ height: 35, width: 35, borderRadius: 10, marginRight: 15 }} src={JSON.parse(row.img_urls)?.at(0) || defaultProduct} />:null}\n                          <Typography className={classes.fontName} style={{color:color}}>{row.name}</Typography>\n                        </ListItem>\n                    </TableCell>\n                    <TableCell align=\"right\" > <VNDFormat value={isCart? row.list_price : row.standard_price } style={{color:color}} /> </TableCell>\n                      {store_setting?.inventory.status ? <TableCell align=\"right\" className={classes.fontName} style={{fontWeight:500,color:color}}> {row.branch_quantity}  </TableCell> : null}\n                      <TableCell align=\"right\" style={{color:theme.customization.secondaryColor[500], fontWeight:600}}>{findedItem? `x ${findItem(row)}`:''}</TableCell>\n                  </TableRow>\n                ); })}\n              </TableBody>\n          </Table>\n          </TableContainer>\n        </>\n      );\n    };\n\n    const renderImageOption = () => {\n      return (\n        <TableContainer style={{maxHeight: '64vh', minHeight:'60vh'}}>\n        <Grid container spacing={2} >\n        {products.map((item, index) => {\n            let findedItem= findItem(item)\n            return(\n              <Grid item>\n              <Card  className={clsx(classes.hoverCard,classes.item,classes.colorCard)} style={{ width:120, borderRadius:7,backgroundColor: theme.customization.mode === \"Light\"  ? null: grey[700]}} >\n                <CardActionArea  onClick={() => handleSearchBarSelect(item)}>\n                {showImage?<CardMedia\n                        style={{height:120, margin:5, marginBottom:-5, borderRadius:7}}\n                        image={JSON.parse(item.img_urls ? item.img_urls : \"[]\").length  ? JSON.parse(item.img_urls ? item.img_urls : \"[]\").at(0) : defaultProduct}\n                     />:null}\n                    <CardContent style={{margin:-5}}>\n                        <Typography gutterBottom  style={{color:'#000', fontWeight:500, fontSize:Number(12)}}> {item.name} </Typography>\n                        <Grid container alignItem='center'justifyContent='space-between'>\n                        <Typography   className={classes.alignCenter} style={{color:'#000', fontWeight:'#000', fontSize:Number(12)}} >\n                            {item.list_price.toLocaleString()} đ\n                        </Typography>\n                        <Typography style={{color:theme.customization.secondaryColor[500], fontWeight:600, marginTop:-2}} >{findedItem? `x ${findItem(item)}`:''} </Typography>\n                        </Grid>\n                    </CardContent>   \n              </CardActionArea>\n          </Card>\n          </Grid> \n          )})}\n          \n          \n        </Grid>\n        </TableContainer>\n      );\n    };\n    \n\n    return (\n          <div style={{marginTop:-25}}>\n           {/* <Tooltip title=\"Dạng danh sách\"> <ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')} style={{marginRight:5}}/> </Tooltip> */}\n           <Tooltip title=\"Dạng danh sách\" aria-label=\"add\"><ListAltTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('list')}  style={{marginRight:5}} /></Tooltip>\n           <Tooltip title=\"Dạng hình ảnh\" aria-label=\"add\"><ImageTwoToneIcon fontSize=\"small\" onClick={()=>setTypeShow('image')}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Lọc\" aria-label=\"add\"><FilterListTwoToneIcon  fontSize=\"small\"onClick={()=>setOpenFilter(true)}  style={{marginRight:5}}/></Tooltip>\n           <Tooltip title=\"Hiển thị hình\" aria-label=\"add\"><WallpaperTwoToneIcon fontSize=\"small\"  onClick={()=>setShowImage(!showImage)} /></Tooltip>\n            \n             {typeShow === 'list'&& renderListOption()}\n             {typeShow === 'image'&& renderImageOption()}\n             <Dialog open={openFilter} onClose={()=>setOpenFilter(false)} >\n                  <Box style={{ marginTop: 10,  marginBottom: 10,padding:10 }}>\n          \n                    <Typography variant=\"h5\" style={{fontSize:18, marginBottom:20, paddingRight:100}}>\n                      Chọn danh mục\n                    </Typography>\n        \n                    <CategorySelect data={products} saveData={allProduct} setData={setProducts} isNotSelect={true} setOpenFilter={setOpenFilter}/>\n                    {/* <Button variant=\"contained\"  onClick={()=>setOpenFilter(false)}fullWidth color=\"primary\"  style={{ marginTop: 40 }} > Chọn</Button> */}\n                  </Box>\n            \n             </Dialog>\n          </div>\n \n    )\n}\n\nexport default MenuProduct\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// const categoryBig = ['Quần áo', 'Bánh kẹo', 'Đồ dùng', 'Điện thoại', 'Máy tính']\n\n\n   // //tab menu\n    // const [value, setValue] = React.useState(0);\n    // const handleChange = (event, newValue) => {\n    //     setValue(newValue);\n    // }; \n/* <Tabs style={{marginBottom:10, marginLeft:-20}}  variant=\"scrollable\" scrollButtons=\"auto\" indicatorColor=\"secondary\" textColor=\"secondary\"value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n  {categoryBig.map((item)=>{\n  return(\n      <Tab label={item} style={{ minWidth: 100,textTransform: 'none'}} />          \n      )\n  })}\n</Tabs> */","import React from \"react\";\nimport { Fab, IconButton, Tooltip, ButtonBase, Badge } from \"@material-ui/core\";\nimport { makeStyles, createStyles, styled } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport { IconSettings } from \"@tabler/icons\";\nimport ShoppingCartTwoToneIcon from \"@material-ui/icons/ShoppingCartTwoTone\";\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    btn: {\n      position: \"fixed\",\n      top: 200,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n\n    btnBottom: {\n      position: \"fixed\",\n      top: 100,\n      right: 0,\n      zIndex: 1050,\n      boxShadow: \"0px 12px 14px 0px #ffe57f4d\",\n      backgroundColor: \"#ffe57f\",\n      borderRadius: \"10px 0px 0px 10px\",\n      \"&:hover\": {\n        backgroundColor: \"#ffcf10\",\n      },\n      height: 60,\n      width: 60,\n    },\n  })\n);\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n  \"& .MuiBadge-badge\": {\n    border: `3px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\",\n  },\n}));\nconst CartButton = (props) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const {number} = props\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      aria-label=\"add\"\n      className={classes.btn}\n      component={Link}\n      to={`/store/${props.storeInfo?.web_page}/cart`}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }}>\n        <StyledBadge color=\"error\" badgeContent={number}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport const CartBottom = ({numberItem}) => {\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  return (\n    // <Tooltip title=\"Giỏ hàng\">\n    <Fab\n      className={classes.btnBottom} \n      onClick={()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:\"smooth\"})}\n    >\n      <ButtonBase size=\"large\" style={{ margin: 10 }} >\n        <StyledBadge color=\"error\" badgeContent={numberItem}>\n          <ShoppingCartTwoToneIcon />\n        </StyledBadge>\n      </ButtonBase>\n    </Fab>\n    /* </Tooltip> */\n  );\n};\n\nexport default CartButton;\n","import axiosClient from \"./axiosClient\";\nimport moment from \"moment\";\nconst promotionCouponApi = {\n  createPromotion: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/createPromotion`;\n    return axiosClient.post(url, body);\n  },\n\n  createVoucher: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/createVoucher`;\n    return axiosClient.post(url, body);\n  },\n  updatePromotion: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/updatePromotion`;\n    return axiosClient.put(url, body);\n  },\n  updateVoucher: (storeUuid, body) => {\n    const url = `stores/${storeUuid}/updatePromotion`;\n    return axiosClient.put(url, body);\n  },\n  getActivePromotionVoucher: (storeUuid) => {\n    let d = moment.now() / 1000;\n\n    let currentDate = moment\n      .unix(d)\n      .format(\"YYYY-MM-DD\", { trim: false });\n    const url = `stores/${storeUuid}/getActivePromotionVoucher`;\n    return axiosClient.get(url, {\n      params: {\n        date: currentDate,\n      },\n    });\n  },\n  getAllPromotions: (storeUuid,query) => {\n    const url = `stores/${storeUuid}/getAllPromotions`;\n    return axiosClient.get(url, {\n      params: query,\n    });\n  },\n  getAllVouchers: (storeUuid,query) => {\n    const url = `stores/${storeUuid}/getAllVouchers`;\n    return axiosClient.get(url, {\n      params: query,\n    });\n  },\n};\nexport default promotionCouponApi;\n","import React from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useStyles from \"../../TableCommon/style/mainViewStyle\";\n\n//import library \nimport {Grid,Card,Box,Tabs,Tab,TableContainer,CardContent,CardMedia,CardActionArea,FormControlLabel,Switch,Menu,MenuItem,ListItem,IconButton,TableBody,Typography} from '@material-ui/core'\n\nimport AddIcon from '@material-ui/icons/Add';\nimport SwapVertTwoToneIcon from '@material-ui/icons/SwapVertTwoTone';\nimport HighlightOffTwoToneIcon from '@material-ui/icons/HighlightOffTwoTone';\n\nconst ChangeCartBtn = (props) => {\n    const {selectedIndex,anchorEl,cartList,handleClick,handleClose,handleChoose,handleDelete,handleAdd, isCart} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    let hardText = isCart ? \"Khách lẻ\" :\"Nhà cung cấp lẻ\";\n\n    const getTitle = (cart) => {\n        if (isCart) {\n            return cart.customer === null ? hardText : cart.customer.name\n        } else {\n            return cart.supplier === null  ? hardText: cart.supplier.name\n        }\n    }\n\n    return (\n        <>\n\n        {cartList.length === 1 ?\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <AddIcon fontSize=\"inherit\" onClick={handleAdd} />\n            </IconButton>:\n            <IconButton  size=\"small\" style={{marginLeft:25,color:'#000000', backgroundColor:theme.customization.primaryColor[100]}}>\n                <SwapVertTwoToneIcon fontSize=\"inherit\"  onClick={handleClick}/>\n            </IconButton>\n        }\n            <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            \n        >\n            {cartList.map((cart, index) => (\n                <MenuItem\n                    key={index}\n                    selected={index === selectedIndex}\n                >\n                    <Grid container direction=\"row\" justifyContent=\"space-between\"spacing={1}>\n                        <Grid container item onMouseDown={()=>handleChoose(index)} item xs={10}  >\n                            <Box style={{marginRight:10}}>#{index + 1}</Box>\n                            {getTitle(cart)}         \n                        </Grid>\n                \n                        <Grid container xs={2} item>\n                            <IconButton  size=\"small\" style={{color:'#000000'}}>\n                                <HighlightOffTwoToneIcon fontSize=\"inherit\" onClick={()=>handleDelete(index )} />\n                            </IconButton>\n                        </Grid>\n                    </Grid>\n                    \n                </MenuItem>\n                ))}\n\n            <MenuItem onClick={handleAdd}><Box style={{marginRight:10, fontSize:20}}>+</Box>Tạo giỏ mới</MenuItem>\n        </Menu> \n        </>\n    )\n}\n\nexport default ChangeCartBtn\n","import { renderToString } from 'react-dom/server'\n\nconst CustomerRegisterEmail = (header, footer, customer, store) => {\n    \n    return renderToString(\n        <>\n        {header}\n        <div>\n            Xin chào <strong>{customer.name}</strong>, \n        </div>\n        <div>\n            Email này được gửi từ {store.name},<br/>\n            Chúc mừng bạn đã trở thành khách hàng thân thiết của cửa hàng chúng tôi.<br/>\n            Đây là mã khách hàng của bạn <strong>{customer.customer_code}</strong>, sử dụng mã này để tích điểm nhé!\n            \n            <br/>\n            Thông tin của bạn:\n            <ul>\n                <li>Tên: {customer.name}</li>\n                <li>Số điện thoại: {customer.phone}</li>\n                <li>Thông tin thanh toán: {customer.payment_info}</li>\n            </ul>\n        </div>\n        {footer}\n        </>\n    )\n}\n\nexport default CustomerRegisterEmail;","import {\n    InputAdornment,\n    Box\n} from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { grey } from \"@material-ui/core/colors\";\nimport barcodeIcon from \"../../assets/img/icon/barcode_grey.png\";\nimport productApi from \"../../api/productApi\";\nimport { CustomTextField } from \"./SearchProduct\"\nimport { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { statusAction } from \"../../store/slice/statusSlice\";\n\nconst SearchBarCode = (props) => {\n    const info = useSelector((state) => state.info);\n    const store_uuid = info.store.uuid;\n    const branch_uuid = info.branch.uuid;\n    const products = info.products;\n\n\n    const [barcode,setBarcode] = useState(\"\")\n\n    const dispatch = useDispatch();\n    const onEnter = async (e) =>{\n        // if(e.key === \"Enter\" && barcode != \"\"){\n        //     try {\n        //         const response = await productApi.searchBranchProduct(\n        //             store_uuid,\n        //             branch_uuid,\n        //             barcode\n        //           );\n        //           if (response.data.length > 0){\n        //             props.handleSearchBarSelect(response.data[0]);\n        //             setBarcode(\"\")\n        //             dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n        //           }\n        //     } catch (error) {\n        //         console.log(error)\n        //         dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n        //     }\n        // }\n        if (e.key === \"Enter\" && barcode != \"\") {\n          const product = props.products.find(\n            (product) => product.bar_code === barcode\n          );\n          if (product) {\n            props.handleSearchBarSelect(product);\n            setBarcode(\"\");\n            dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n          } else {\n            dispatch(statusAction.failedStatus(\"Không tìm thấy sản phẩm\"));\n          }\n          if (barcode.includes(\"_\")){\n              let list = barcode.split(\"_\")\n              let product = props.products.find(\n                (product) => product.product_code.includes(list[0])\n              )\n              if (product) {\n                props.handleSearchBarSelect(product,list[1]);\n                setBarcode(\"\");\n                dispatch(statusAction.successfulStatus(\"Đã thêm 1 sản phẩm\"));\n              }\n            }\n        }\n    }\n    return <CustomTextField\n        fullWidth\n        placeholder=\"Quét mã vạch\"\n        variant=\"outlined\"\n        size=\"small\"\n        autoFocus\n        onKeyPress={onEnter}\n        onChange = {(e) => setBarcode(e.target.value)}\n        value = {barcode}\n        InputProps={{\n            startAdornment: (\n                <InputAdornment position=\"start\">\n                    <SearchIcon style={{ color: grey[500] }} />\n                </InputAdornment>\n            ),\n            endAdornment: (\n                <InputAdornment position=\"end\">\n                    <Box\n                        component=\"img\"\n                        sx={{ height: 23, width: 23, marginRight: 10 }}\n                        src={barcodeIcon}\n                    />\n                </InputAdornment>\n            ),\n            style: {\n                width: 300,\n                padding: \"3px\",\n                margin: \"0px\"\n            },\n        }}\n    />\n}\nexport default SearchBarCode;","import { makeStyles } from \"@material-ui/core\";\nexport default makeStyles((theme) => ({\n  margin: {\n    marginTop: theme.spacing(2),\n  },\n  headerTitle: {\n    fontSize: \"1.125rem\",\n  },\n  root: {\n    padding: 20,\n  },\n  box: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  attrCard:{\n    margin:\"5px 0px 25px 0px\", \n    boxShadow: \"none\",border: '1px solid' , borderColor:\"#c9c9c9\"\n  },\n  attrHead:{\n    backgroundColor:\"#E4E4E4\", height:40, color:\"#000\"\n  },\n  rooot: {\n    '& .MuiFormLabel-root.Mui-disabled': {\n      color: 'red',\n    },\n  },\n}));\n","/* eslint-disable no-use-before-define */\nimport React, { useRef, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Box, Button, Grid, InputAdornment, Typography } from \"@material-ui/core\";\nimport productApi from \"../../api/productApi\";\nimport { useEffect } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nexport default function SearchWithAutoComplete(props) {\n  const {\n    searchApiCall,\n    onSelect,\n    renderInput,\n    renderOption,\n    getOptionLabel,\n    value,\n    nextRef,\n    handleDefaultSelect\n  } = props;\n  const [options, setOptions] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  const loadingData = async (e, searchKey) => {\n    setSearchValue(searchKey);\n  };\n\n\n  useEffect(() => {\n    const fetchData = async (searchKey = searchValue) => {\n      if (searchKey !== \"\") {\n        try {\n          const key = searchKey.slice(0, searchKey.indexOf(\"(\"))\n          const response = await searchApiCall(key);\n          setOptions(response.data);\n          onSelect(response.data[0])\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    };\n    const timer = setTimeout(() => fetchData(), 500);\n    return () => clearTimeout(timer);\n  }, [searchValue]);\n  return (\n    <Autocomplete\n      options={options}\n      freeSolo\n      getOptionLabel={getOptionLabel}\n      renderOption={renderOption}\n      onInputChange={loadingData}\n      autoSelect\n      getOptionSelected={(option, value) => option.bar_code === value.bar_code}\n      onChange={(e, value) => onSelect(value)}\n      size=\"small\"\n      renderInput={renderInput}\n\n    />\n  );\n}\n","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Downshift from \"downshift\";\n\nconst useStyles = makeStyles(theme => ({\n  chip: {\n    margin: theme.spacing(0.5, 0.25)\n  }\n}));\n\nexport default function TagsInput({ ...props }) {\n  const classes = useStyles();\n\n  const { selectedItem, setSelectedItem, selectedTags, placeholder, tags, ...other } = props;\n  const [inputValue, setInputValue] = React.useState(\"\");\n  // const [selectedItem, setSelectedItem] = React.useState([]);\n\n  useEffect(() => {\n    setSelectedItem(tags);\n  }, [tags]);\n\n  useEffect(() => {\n    selectedTags(selectedItem);\n  }, [selectedItem, selectedTags]);\n  \n\n\n  function handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      const newSelectedItem = [...selectedItem];\n      const duplicatedValues = newSelectedItem.indexOf(\n        event.target.value.trim()\n      );\n\n      if (duplicatedValues !== -1) {\n        setInputValue(\"\");\n        return;\n      }\n      if (!event.target.value.replace(/\\s/g, \"\").length) return;\n\n      newSelectedItem.push(event.target.value.trim());\n      setSelectedItem(newSelectedItem);\n      setInputValue(\"\");\n    }\n    if (\n      selectedItem.length &&\n      !inputValue.length &&\n      event.key === \"Backspace\"\n    ) {\n      setSelectedItem(selectedItem.slice(0, selectedItem.length - 1));\n    }\n  }\n  function handleChange(item) {\n    let newSelectedItem = [...selectedItem];\n    if (newSelectedItem.indexOf(item) === -1) {\n      newSelectedItem = [...newSelectedItem, item];\n    }\n    setInputValue(\"\");\n    setSelectedItem(newSelectedItem);\n  }\n\n  const handleDelete = item => () => {\n    const newSelectedItem = [...selectedItem];\n    newSelectedItem.splice(newSelectedItem.indexOf(item), 1);\n    setSelectedItem(newSelectedItem);\n  };\n\n  function handleInputChange(event) {\n    setInputValue(event.target.value);\n  }\n  return (\n    <React.Fragment>\n      <Downshift\n        id=\"downshift-multiple\"\n        inputValue={inputValue}\n        onChange={handleChange}\n        selectedItem={selectedItem}\n      >\n        {({ getInputProps }) => {\n          const { onBlur, onChange, onFocus, ...inputProps } = getInputProps({\n            onKeyDown: handleKeyDown,\n            placeholder\n          });\n          return (\n            <div>\n              <TextField\n                InputProps={{\n                  startAdornment: selectedItem.map(item => (\n                    <Chip\n                      key={item}\n                      tabIndex={-1}\n                      label={item}\n                      className={classes.chip}\n                      onDelete={handleDelete(item)}\n                    />\n                  )),\n                  onBlur,\n                  onChange: event => {\n                    handleInputChange(event);\n                    onChange(event);\n                  },\n                  onFocus\n                }}\n                {...other}\n                {...inputProps}\n              />\n            </div>\n          );\n        }}\n      </Downshift>\n    </React.Fragment>\n  );\n}\nTagsInput.defaultProps = {\n  tags: []\n};\nTagsInput.propTypes = {\n  selectedTags: PropTypes.func.isRequired,\n  tags: PropTypes.arrayOf(PropTypes.string)\n};\n","import React, { useEffect, useState } from 'react'\nimport TagsInput from \"../../../../components/TextField/TagsInput\"\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport EditTwoToneIcon from '@material-ui/icons/EditTwoTone';\nimport SimpleModal from \"../../../../components/Modal/ModalWrapper\";\n\nimport ModalWrapperWithClose from \"../../../../components/Modal/ModalWrapperWithClose\";\n\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\nimport AddIcon from '@material-ui/icons/Add';\nimport {Button,TextField, Grid, FormControl, Select,MenuItem,Typography, ListItem} from \"@material-ui/core\";\nimport RemoveIcon from '@material-ui/icons/Remove';\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\n\n\nconst AddAttribute = ({ attributeList, datas, setDatas, setRelatedList, list_price, standard_price }) => {\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n\n    function generateList   ()  {\n        let newArr = [...datas];\n\n        var mySet  = [];\n        for (let i = 0; i < newArr.length ; i++){\n            if(mySet.length === 0 ){\n                mySet= newArr[i].items\n              \n            }\n            else{\n                var _set = [];\n                for (let j = 0; j < mySet.length ; j++ ){\n                    for (let k = 0; k < newArr[i].items.length ; k++ ){\n                        _set.push(mySet[j].concat( ` -  `,newArr[i].items[k]))\n                        // _set.push({name:mySet[j].concat( ' - ',newArr[i].items[k]), attList:[]})\n\n                    }\n                }\n                if(_set.length !== 0) {mySet = _set}\n\n            }\n         }\n        return mySet\n      }\n\n      useEffect (() =>{\n        var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n        generateList().map(e =>list.push({name:e,product_code:\"\",quantity:0, bar_code: \"\",standard_price:standard_price?standard_price:0, list_price :list_price?list_price:0}))\n\n        setRelatedList(list)\n    \n\n      },[datas])\n\n    const updateFieldChanged = (index, attr) => {\n        let newArr = [...datas];\n        newArr[index].key = attr;\n        setDatas(newArr);\n\n    }\n    const updateValueChanged = (index,value)=>{\n        let newArr = [...datas];\n        newArr[index].items = value;\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const deleteAttr = (key) => {\n        let newArr = [...datas];\n        // newArr = newArr.filter(row => row.key !== key)\n        newArr = newArr.filter(row => row.id !== key)\n        setDatas(newArr);\n        // var list = []\n        // generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n        // setRelatedList(list)\n    }\n\n    const addAttrRow = () => {\n        let newArr = [...datas];\n        newArr.push({ id:new Date(), key: \"unset\", items: []})\n        setDatas(newArr);\n    //     var list = []\n    //     generateList().map(e =>list.push({name:e,product_code:\"\", bar_code: \"\",standard_price:0, list_price :0}))\n    //     setRelatedList(list)\n    }\n\n    return (\n        <div style={{ marginBottom: 10 }}>\n            {datas.map((data, index) => {\n                return (\n                    <AttributeRow attributeList={attributeList} index={index} data={data} datas={datas} updateFieldChanged={updateFieldChanged} deleteAttr={deleteAttr}  updateValueChanged={updateValueChanged}/>\n                )\n            })}\n            <Button variant=\"outlined\" size=\"small\" color=\"primary\" style={{ marginLeft: 20, marginTop: 10, textTransform: \"none\" }}\n                startIcon={<AddIcon />}\n                onClick={() => addAttrRow()}>\n                Thêm thuộc tính\n            </Button>\n\n            \n        </div>\n    )\n}\n\nexport default AddAttribute\n\n\nconst AttributeRow = ({ attributeList, data, datas, updateFieldChanged, index, deleteAttr, setDatas ,updateValueChanged}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    const [inputAttr, setInputAttr] =  useState(false)\n\n\n    //  popup\n  const [openPopupAddAttr, setOpenPopupAddAttr] = useState(false);\n  const [isEditPopUp, setIsEditPopUp] = useState(false);\n\n\n    const [value, setValue] = React.useState([]);\n\n\n    const handleChangeAttr = (event) => {\n        var valid = true;\n        datas.map((row)=>{if(row.key === event.target.value){valid = false}    })\n\n        if (valid){\n            updateFieldChanged(index, event.target.value)   \n        } else{}\n    };\n\n    const [selectedItem, setSelectedItem] = React.useState([]);\n\n    function handleSelecetedTags(items) {\n        setValue(items);\n    }\n\n    useEffect(() => {\n        updateValueChanged(index, value)  \n    }, [value]);\n\n    return (\n        <Grid container className={classes.row} alignItems=\"center\">\n            <Grid container item xs={11} alignItems=\"center\" >\n               {!inputAttr? <FormControl className={classes.formControl}>\n                    <Select value={data.key} onChange={handleChangeAttr}  >\n                        <MenuItem value=\"unset\" selected disabled hidden>Chọn thuộc tính...</MenuItem>\n                        {attributeList.map((attr) => {\n                            return (<MenuItem value={attr.name}>{attr.name}</MenuItem>)\n                        })}\n                        {/* <MenuItem   hidden>\n                            <AddIcon fontSize=\"small\"style={{marginRight:5, marginLeft:-5}}/>\n                            <Typography style={{color:\"#000\", fontSize:12}} onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(false)}}>Tạo thuộc tính mới</Typography>\n                        </MenuItem> */}\n                    </Select>\n\n                </FormControl>:\n                <TextField\n                style={{width:230}}\n                        value={data.key}\n                        onChange={handleChangeAttr}\n                />\n                                /* <EditTwoToneIcon style={{ marginRight: 60 }}  onClick={()=>{setOpenPopupAddAttr(true); setIsEditPopUp(true)}}/> */\n                    }\n                {inputAttr === false ?\n                <AddIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(true); updateFieldChanged(index, '')    }} />:    \n                <RemoveIcon style={{ marginRight: 60 }}  onClick={()=>{setInputAttr(false);updateFieldChanged(index, '')  }} />\n                }\n                <TagsInput style={{ minWidth: 270 }} selectedTags={handleSelecetedTags} selectedItem={selectedItem} setSelectedItem={setSelectedItem} placeholder=\"Nhấn giá trị và enter\"\n                />\n            </Grid>\n\n            <Grid container item xs={1} >\n                {/* <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.key) }} /> */}\n                <DeleteForeverTwoToneIcon onClick={() => { deleteAttr(data.id) }} />\n            </Grid>\n\n            <ModalWrapperWithClose     \n                open={openPopupAddAttr}\n                handleClose={() => setOpenPopupAddAttr(false)}\n                title={isEditPopUp? \"Sửa thuộc tính\" :\"Thêm thuộc tính\"}\n            >\n                 <Grid container alignItems=\"center\" style={{margin:\"20px 10px 30px 10px\"}}>\n                    <Typography style={{marginRight:40, color:\"#000\", fontWeight:500}}>Tên thuộc tính:  </Typography> \n                    <TextField />\n                 </Grid>\n                 {isEditPopUp?\n                    //  Edit, Delete\n                    // null\n                    <div style={{flexGrow: 1,textAlign: \"right\"}}>\n                        <Button size=\"small\" variant=\"contained\" color=\"secondary\">Xoá</Button>\n                        <Button size=\"small\" variant=\"contained\" color=\"primary\" style={{marginLeft:10}}>Sửa</Button>\n                    </div>\n                    :\n                    // add\n                    <Button style={{flexGrow: 1,textAlign: \"center\"}} variant=\"contained\" color=\"primary\">Thêm</Button>               \n                }       \n            </ModalWrapperWithClose>\n\n        </Grid>\n    )\n}\n","import React, {useEffect} from 'react'\nimport { useTheme, makeStyles, styled } from \"@material-ui/core/styles\";\n\nimport {Button, Grid, TextField,FormControl,TableRow,TableCell,Divider,TableBody, Select,MenuItem, Typography} from \"@material-ui/core\";\nimport clsx from \"clsx\"\nimport {ThousandFormat, ThousandSeperatedInput} from '../../../../components/TextField/NumberFormatCustom'\nimport TableWrapper from '../../../../components/TableCommon/TableWrapper/TableWrapper'\nimport TableHeader  from '../../../../components/TableCommon/TableHeader/TableHeader'\nimport DeleteForeverTwoToneIcon from '@material-ui/icons/DeleteForeverTwoTone';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        marginRight: 10,\n        minWidth: 220,\n    },\n    row: {\n        margin: \"15px 20px 10px 20px\",\n    }\n\n}));\n\nconst RelaltedItemList = ({relatedList, setRelatedList , list_price,standard_price,isManageInventory}) => {\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0, attribute_values}\n\n\n\n\n\n    const handleDelete = (index)=> {\n        var newArr = [...relatedList];\n        newArr = newArr.filter(row => row.name !== index)\n        setRelatedList(newArr)\n    }\n\n    const handleChangeProperties = (index, property, newValue) => {\n        const newArr = relatedList.map(row => {\n            if (row.name === index) {\n                const newRow = {...row}\n                newRow[property] = newValue;\n                return newRow;\n            } else {\n                return row\n            }\n        })\n        setRelatedList(newArr);\n    }\n\n    return (\n        <div>\n           <TableWrapper isCart={true}>\n                <TableHeader\n                    classes={classes}\n                    headerData={isManageInventory? CustomerHeadCells :CustomerHeadCells.filter(i => i.id !== \"quantity\")\n                    }\n                />\n                <TableBody>\n                {relatedList.map((row, index) => {\n                    return (\n\n                      <TableRow>\n                        <TableCell align=\"center\" style={{color:'#000', fontWeight:500}}>{row.name}</TableCell>\n                        {/* <TableCell align=\"center\">\n                          <TextField\n                            value={row.product_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"product_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                        </TableCell> */}\n                        <TableCell align=\"center\">\n                          <TextField\n                            value={row.bar_code}\n                            onChange={(e) =>\n                              handleChangeProperties(\n                                row.name,\n                                \"bar_code\",\n                                e.target.value\n                              )\n                            }\n                          />\n                          \n                        </TableCell>\n                       {isManageInventory?\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.quantity}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"quantity\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>:null}\n\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.standard_price}\n                            onChange={(e) =>{\n                              handleChangeProperties(\n                                row.name,\n                                \"standard_price\",\n                                Math.abs(e.target.value)\n                              )}\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <ThousandSeperatedInput\n                            value={row.list_price}\n                            onChange={(e) => {\n                                handleChangeProperties(\n                                  row.name,\n                                  \"list_price\",\n                                  Math.abs( e.target.value)\n                                )\n                            }\n                            }\n                          />\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          <DeleteForeverTwoToneIcon\n                            onClick={() => handleDelete(row.name)}\n                          />\n                        </TableCell>\n                      </TableRow>\n\n                    );\n                })}\n                </TableBody>\n            </TableWrapper>\n            \n          \n        </div>\n        \n    )\n}\n\nexport default RelaltedItemList\n\n\nconst CustomerHeadCells = [\n    { id: 'name', align: 'center', disablePadding: true, label: 'Tên' },\n    // { id: 'product_code', align: 'center', disablePadding: true, label: 'Mã hàng' }, \n    { id: 'bar_code', align: 'center', disablePadding: true, label: 'Mã vạch' }, \n    { id: 'quantity', align: 'center', disablePadding: true, label: 'Tồn kho ban đầu' },  \n    { id: 'standard_price', align: 'center', disablePadding: true, label: 'Giá vốn' },\n    { id: 'unit_price', align: 'center', disablePadding: true, label: 'Giá bán' },\n    { id: 'action', align: 'center', disablePadding: true, label: '' },\n];\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\n//import library\nimport {\n  Button,\n  TextField,\n  Typography,\n  Grid,\n  Box,\n  InputAdornment,\n  FormControl,\n  InputLabel,\n  Select,\n  IconButton,\n  Tooltip,\n  Dialog,\n  FormControlLabel,\n  Switch,\n  Collapse,\n  Paper,\n  Card,\n  CardHeader,\n  Checkbox,\n  ListItem\n} from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\n//import project\nimport VNDInput, {\n  ThousandSeperatedInput,\n} from \"../../../../components/TextField/NumberFormatCustom\";\n// import img\nimport avaUpload from \"../../../../assets/img/product/default-product.png\";\nimport barcodeIcon from \"../../../../assets/img/icon/barcode1.png\";\nimport AddCategory from \"./AddCategory\";\nimport useStyles from \"./styles\";\nimport productApi from \"../../../../api/productApi\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SearchWithAutoComplete from \"../../../../components/SearchBar/SearchWithAutoComplete\";\nimport { urltoFile } from \"../../../../api/helper\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport { infoActions } from \"../../../../store/slice/infoSlice\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { FormatedImage } from \"../../../../components/SearchBar/SearchProduct\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport clsx from \"clsx\";\nimport TagsInput from \"../../../../components/TextField/TagsInput\";\nimport AddAttribute from \"./AddAttribute\";\nimport RelaltedItemList from \"./RelaltedItemList\";\nimport SnackBarGeneral from \"../../../../components/SnackBar/SnackBarGeneral\";\nimport CategorySelect from \"../../../../components/Category/CategorySelect\";\nimport setting from \"../../../../assets/constant/setting\"\nimport ReactQuill, {Quill} from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport ImageResize from 'quill-image-resize-module-react';\n// import Tree from \"../../../../components/Select/Tree\"\nimport { TreeSelect } from 'antd';\nimport { StepBackwardOutlined } from \"@ant-design/icons\";\nimport { DownCircleTwoTone } from '@ant-design/icons'\n\n\nimport 'antd/dist/antd.css';\n// import \"../../../../index.css\"\nconst { SHOW_PARENT } = TreeSelect;\n\nQuill.register('modules/imageResize', ImageResize);\n\n\nconst UploadImages = (img) => {\n  return (\n    <Box\n      component=\"img\"\n      sx={{\n        height: 70,\n        width: 70,\n        marginLeft: 7,\n        marginRight: 7,\n        borderRadius: 2,\n      }}\n      src={avaUpload}\n    />\n  );\n};\n\nconst AddInventory = (props) => {\n  const { handleClose, open } = props;\n  const [openAddCategory, setOpenAddCategory] = useState(false);\n  const handleCloseCategory = () => setOpenAddCategory(false);\n  const [categoryList, setCategoryList] = useState([]);\n\n  const [images, setImages] = useState([]);\n  const [display, setDisplay] = useState([]);\n  const [imageURL, setImageURL] = useState(\"\");\n  const addImageHandler = (e) => {\n   try{\n    console.log(e.target.files[0]);\n    console.log(URL.createObjectURL(e.target.files[0]));\n    setImages([...images, e.target.files[0]]);\n    setDisplay([\n      ...display,\n      {\n        index: images.length,\n        link: URL.createObjectURL(e.target.files[0]),\n        isUrl: false,\n      },\n    ]);\n   }catch(err) {\n     console.log(err)\n   }\n  };\n\n  const [description, setDescription] = useState('');\n\n  const productFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      barcode: \"\",\n      importedPrice: 0,\n      salesPrice: 0,\n      category: \"\",\n      unit: \"\",\n      re_order_point: 0,\n      product_code: \"\",\n      has_batches: false,\n      quantity:0,\n      max_order:999999999,\n      description:\"\",\n      notification_period:7,\n\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên sản phẩm \"),\n      importedPrice: Yup.number()\n        // .moreThan(0, \"Giá vốn phải lớn hơn không\"),\n        .moreThan(-1, \"Giá vốn không được âm\"),\n\n      salesPrice: Yup.number()\n        .moreThan(-1, \"Giá bán phải lớn hơn không\"),\n\n      re_order_point: Yup.number(\"Phải là một số\").moreThan(\n        -1,\n        \"Số lượng đặt hàng lại không được âm\"\n      ),\n\n      quantity: Yup.number().moreThan(-1, \"Tồn kho ban đầu không được âm\"),\n\n      max_order: Yup.number().moreThan(-1, \"Số lượng nhập hàng tối đa không được âm\"),\n      notification_period: Yup.number().moreThan(-1, \"Số ngày không được âm\"),\n    }),\n  });\n\n  const [openSnack, setOpenSnack] = React.useState(false);\n  const [snackStatus, setSnackStatus] = React.useState({\n    style: \"error\",\n    message: \"Tên thuộc tính trống\",\n  });\n\n  // redux\n  const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n  const dispatch = useDispatch();\n  // dispatch(infoActions.setStore({...info.store, general_configuration: \"{\\\"inventory\\\":{\\\"status\\\":true},\\\"recommendedProduct\\\":{\\\"status\\\":true},\\\"variation\\\":{\\\"status\\\":true},\\\"expiryDate\\\":{\\\"status\\\":true},\\\"customerScore\\\":{\\\"status\\\":false,\\\"value\\\":10000,\\\"exceptDiscountProduct\\\":false,\\\"exceptDiscountInvoice\\\":false,\\\"exceptVoucher\\\":false},\\\"email\\\":{\\\"status\\\":false,\\\"emailAddress\\\":\\\"\\\",\\\"password\\\":\\\"\\\"},\\\"notifyDebt\\\":{\\\"status\\\":true,\\\"checkDebtAmount\\\":true,\\\"debtAmount\\\":\\\"500000\\\",\\\"checkNumberOfDay\\\":false,\\\"numberOfDay\\\":\\\"15\\\",\\\"typeDebtDay\\\":\\\"firstDebt\\\",\\\"canNotContinueBuy\\\":false,\\\"canNotContinueDebt\\\":false},\\\"returnLimit\\\":{\\\"status\\\":false,\\\"day\\\":7},\\\"canFixPriceSell\\\":{\\\"status\\\":false,\\\"cart\\\":false,\\\"import\\\":true,\\\"returnCart\\\":true,\\\"returnImport\\\":true},\\\"printReceiptWhenSell\\\":{\\\"status\\\":true,\\\"cart\\\":true,\\\"import\\\":false,\\\"returnCart\\\":false,\\\"returnImport\\\":false,\\\"order\\\":false,\\\"checkInventroy\\\":false},\\\"discount\\\":{\\\"status\\\":true,\\\"applyMultiple\\\":false,\\\"applyOnline\\\":true},\\\"voucher\\\":{\\\"status\\\":true},\\\"delivery\\\":{\\\"status\\\":true},\\\"vat\\\":{\\\"status\\\":false,\\\"listCost\\\":[{\\\"key\\\":\\\"1\\\",\\\"costName\\\":\\\"\\\",\\\"value\\\":0,\\\"type\\\":\\\"%\\\"}]},\\\"orderLowStock\\\":{\\\"status\\\":true,\\\"choiceQuantity\\\":\\\"select\\\",\\\"selectQuantity\\\":\\\"latest\\\",\\\"inputQuantity\\\":10,\\\"selectSuplier\\\":\\\"latest\\\"},\\\"autoApplyDiscount\\\":{\\\"status\\\":true}}\"}));\n\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const addProductHandler = async () => {\n    handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit ? productFormik.values.unit.toString() :\"Cái\"\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"quantity\",\n        productFormik.values.quantity\n          ? productFormik.values.quantity.toString()\n          : 0\n      );\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(datas)\n      );\n      bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.createProduct(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      props.setReload();\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [reset, setReset] = useState(true);\n  const onReset = () => {\n    setReset((reset) => !reset);\n  };\n  useEffect(() => {\n    const fetchCategoryList = async () => {\n      try {\n        const response = await productApi.getNestedCategory(store_uuid);\n        setCategoryList(response.data);\n        productFormik.setFieldValue(\"category\", response.data[0].uuid);\n      } catch (error) {\n        console.log(error);\n        return [];\n      }\n    };\n    fetchCategoryList();\n  }, [store_uuid, reset]);\n\n  const selectSampleProductHandler = (product) => {\n    if (product && product.name) {\n      try {\n        productFormik.setFieldValue(\"name\", product.name, true);\n        productFormik.setFieldValue(\"barcode\", product.bar_code, true);\n        clearAllImages();\n        setDisplay([{ link: product.img_url, isUrl: true }]);\n        setImages([]);\n        setImageURL(product.img_url);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const searchSampleProductHandler = async (searchKey) => {\n    return productApi.searchDefaultProducts(searchKey, 1);\n  };\n  const handleCloseAndReset = () => {\n    handleClose();\n    productFormik.resetForm();\n    clearAllImages();\n  };\n  const clearAllImages = () => {\n    setDisplay([]);\n    setImages([]);\n    setImageURL(\"\");\n  };\n  const clearImage = (displayImage) => {\n    setDisplay(display.filter((img) => img != displayImage));\n    if (displayImage.isUrl) {\n      setImageURL(\"\");\n    } else {\n      setImages(images.filter((image, index) => index !== displayImage.index));\n    }\n  };\n  const renderNameInput = (params) => {\n    return (\n      <TextField\n        {...params}\n        required\n        label=\"Tìm kiếm sp mẫu bằng tên hoặc mã vạch\"\n        variant=\"outlined\"\n        fullWidth\n        autoFocus\n        size=\"small\"\n        InputProps={{\n          ...params.InputProps,\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon />\n            </InputAdornment>\n          ),\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Box\n                component=\"img\"\n                sx={{ height: 23, width: 23, marginRight: -30 }}\n                src={barcodeIcon}\n              />\n            </InputAdornment>\n          ),\n          onKeyDown: (e) => {\n            if (e.key.toLowerCase() === \"arrowdown\") {\n              onFocus(salesPriceRef);\n            }\n          },\n        }}\n      />\n    );\n  };\n  const renderOptionTest = (option) => {\n    return (\n      <Grid fullWidth container direction=\"row\">\n        <Grid item xs={3}>\n          <FormatedImage url={option.img_url} />\n        </Grid>\n        <Grid item xs={9} container direction=\"column\">\n          <Typography variant=\"h5\">{option.name}</Typography>\n          <Typography variant=\"body2\">{option.bar_code}</Typography>\n        </Grid>\n      </Grid>\n    );\n  };\n  const getOptionLabel = (option) => {\n    if (option.name) {\n      return option.name + \" \" + \"(\" + option.bar_code + \")\";\n    }\n    return option;\n  };\n  const salesPriceRef = useRef();\n  const onFocus = (ref) => {\n    ref.current.focus();\n  };\n\n  //ATTRIBUTE\n  // api get all attribute\n  const attributeList = [\n    { id: \"1\", name: \"MÀU\" },\n    { id: \"2\", name: \"KÍCH THƯỚC\" },\n    { id: \"3\", name: \"CHẤT LIỆU\" },\n    { id: \"4\", name: \"VỊ\" },\n    { id: \"5\", name: \"BỘ NHỚ\" },\n  ];\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n  const [expandedDescription, setExpandedDescription] = React.useState(false);\n  const handleExpandedDescription = () => {\n    setExpandedDescription(!expandedDescription);\n  };\n  //Lô, HSD\n  const [outOfDate, setOutOfDate] = React.useState(\"false\");\n\n  // Attr\n  const [datas, setDatas] = useState([{ key: \"unset\", items: [] }]);\n\n  // {name:e,product_code:\"\", bar_code: \"\",standard_price:0, unit_price :0}\n  const [relatedList, setRelatedList] = useState([]);\n  // const [attrOfProduct, setAttrOfProduct] = useState([]);\n\n  // console.log(\"relatedList\",relatedList)\n\n  const handleAddProductWithVariation = async () => {\n    if (relatedList.length !== 0) {\n      // var isValid = datas.map(item => item.key === 'unset'?  false  )\n      for (let i = 0; i < datas.length; i++) {\n        if (datas[i].key === \"unset\") {\n          setOpenSnack(true);\n          setSnackStatus({ style: \"error\", message: \"Tên thuộc tính trống\" });\n          return;\n        }\n      }\n    }\n    // handleCloseAndReset();\n    try {\n      var bodyFormData = new FormData();\n      bodyFormData.append(\"name\", productFormik.values.name.toString());\n      bodyFormData.append(\n        \"list_price\",\n        productFormik.values.salesPrice.toString()\n      );\n      bodyFormData.append(\n        \"standard_price\",\n        productFormik.values.importedPrice.toString()\n      );\n      bodyFormData.append(\"bar_code\", productFormik.values.barcode.toString());\n      bodyFormData.append(\n        \"product_code\",\n        productFormik.values.product_code.toString()\n      );\n      bodyFormData.append(\n        \"quantity_per_unit\",\n        productFormik.values.unit.toString()\n      );\n      bodyFormData.append(\n        \"min_reorder_quantity\",\n        productFormik.values.re_order_point.toString()\n      );\n\n      bodyFormData.append(\n        \"max_order\",\n        productFormik.values.max_order.toString()\n      );\n\n      bodyFormData.append(\n        \"category_uuid\",\n        productFormik.values.category.toString()\n      );\n      bodyFormData.append(\n        \"has_batches\",\n        Number(productFormik.values.has_batches)\n      );\n      bodyFormData.append(\n        \"description\",\n        productFormik.values.description.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n       bodyFormData.append(\n        \"notification_period\",\n        productFormik.values.notification_period.toString()\n        // JSON.stringify(productFormik.values.description)\n      );\n\n      \n      bodyFormData.append(\"branch_uuid\", branch_uuid);\n      bodyFormData.append(\"quantity\", 0);\n      for (var i = 0; i < relatedList.length; i++) {\n        const values = relatedList[i].name.split(\"-\");\n        const attributeValues = [];\n        const attrOfProduct = datas.map((item) => item.key);\n        attrOfProduct.forEach((att, index) => {\n          if (values[index])\n            attributeValues.push({\n              // name: att.name,\n              name: att,\n              value: values[index],\n            });\n        });\n        bodyFormData.append(\n          \"variations[]\",\n          JSON.stringify({\n            ...relatedList[i],\n            attribute_value: JSON.stringify(attributeValues),\n          })\n        );\n      }\n      bodyFormData.append(\n        \"attribute_value\",\n        JSON.stringify(datas)\n      );\n\n      bodyFormData.append(\"img_url\", imageURL);\n\n      images.forEach((image) => bodyFormData.append(\"images[]\", image));\n\n      await productApi.addProductWithVaration(store_uuid, bodyFormData);\n      dispatch(statusAction.successfulStatus(\"Tạo sản phẩm thành công\"));\n      // handleClose();\n      props.setReload(true);\n    } catch (error) {\n      console.log(error);\n      dispatch(statusAction.failedStatus(\"Tạo sản phẩm thất bại\"));\n    }\n  };\n\n  const [value, setValue] = useState(null)\n\n  const store_setting = info.store.general_configuration? JSON.parse(info.store.general_configuration): setting\n\nreturn (\n    <Dialog\n      open={open}\n      onClose={handleCloseAndReset}\n      aria-labelledby=\"form-dialog-title\"\n      maxWidth=\"md\"\n    >\n     \n      \n      <Box className={classes.root}>\n        <AddCategory\n          open={openAddCategory}\n          handleClose={handleCloseCategory}\n          onReset={onReset}\n        />\n        <SnackBarGeneral\n          handleClose={() => setOpenSnack(false)}\n          open={openSnack}\n          status={snackStatus}\n        />\n        <Box\n          display=\"flex\"\n          flexDirection=\"row\"\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{ marginBottom: 20 }}\n        >\n          <Typography className={classes.headerTitle} variant=\"h5\">\n            Thêm sản phẩm\n          </Typography>\n          <Box style={{ width: \"70%\" }}>\n            {store_setting?.recommendedProduct\n              .status ? (\n              <SearchWithAutoComplete\n                handleDefaultSelect={selectSampleProductHandler}\n                onSelect={selectSampleProductHandler}\n                searchApiCall={searchSampleProductHandler}\n                renderInput={renderNameInput}\n                getOptionLabel={getOptionLabel}\n                renderOption={renderOptionTest}\n                filterOptions={(options, state) => options}\n              />\n            ) : null}\n          </Box>\n        </Box>\n        <Grid\n          container\n          direction=\"row\"\n          justifyContent=\"space-around\"\n          spacing={2}\n        >\n          <Grid item sm={7} xs={12}>\n            <TextField\n              required\n              label=\"Tên sản phẩm\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"name\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.name}\n              error={productFormik.touched.name && productFormik.errors.name}\n              helperText={\n                productFormik.touched.name ? productFormik.errors.name : null\n              }\n              onBlur={productFormik.handleBlur}\n              type=\"text\"\n            \n            />\n            {/* <TextField\n              label=\"Mã sản phẩm (tự động)\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"product_code\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.product_code}\n            /> */}\n            <TextField\n              label=\"Mã vạch\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"barcode\"\n              onKeyDown={(e) => {}}\n              onChange={productFormik.handleChange}\n              value={productFormik.values.barcode}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <Box\n                      component=\"img\"\n                      sx={{ height: 25, width: 25 }}\n                      src={barcodeIcon}\n                    />\n                  </InputAdornment>\n                ),\n              }}\n              className={classes.margin}\n            />\n            <TextField\n              label=\"Đơn vị\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"unit\"\n              onChange={productFormik.handleChange}\n              value={productFormik.values.unit}\n            />\n            <Box className={`${classes.box} ${classes.margin}`}>\n             \n              <FormControl required size=\"small\" variant=\"outlined\" fullWidth>\n                {/* <InputLabel htmlFor=\"category\">Danh mục</InputLabel> */}\n                {/* <Select\n                  native\n                  label=\"Danh mục\"\n                  id=\"category\"\n                  name=\"category\"\n                  value={productFormik.values.category}\n                  onChange={productFormik.handleChange}\n                  onBlur={productFormik.handleBlur}\n                >\n                  <CategorySelect categoryList={categoryList}/>\n                </Select> */}\n                <TreeSelect\n                      id=\"category\"\n                      name=\"category\"  \n                      style={{ width: '100%'}}   \n                      dropdownStyle={{ maxHeight: 400, overflow: 'auto',zIndex:100000000  }}\n                      treeData={categoryList}\n                      value={productFormik.values.category}\n                      onChange={(val)=>productFormik.setFieldValue(\"category\",val )}\n                      treeDefaultExpandAll\n                      onBlur={productFormik.handleBlur}\n                      \n                    />\n                    \n              </FormControl>\n              <Tooltip title=\"Thêm danh mục\">\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: 5 }}\n                  onClick={() => setOpenAddCategory(true)}\n                >\n                  <AddIcon color=\"primary\" />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Grid>\n          <Grid item sm={5} xs={12}>\n            <VNDInput\n              required\n              label=\"Giá bán\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"salesPrice\"\n              inputRef={salesPriceRef}\n              value={productFormik.values.salesPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"salesPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.list_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.salesPrice &&\n                productFormik.errors.salesPrice\n              }\n              helperText={\n                productFormik.touched.salesPrice\n                  ? productFormik.errors.salesPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <VNDInput\n              required\n              label=\"Giá vốn\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              name=\"importedPrice\"\n              value={productFormik.values.importedPrice}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"importedPrice\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.standard_price = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.importedPrice &&\n                productFormik.errors.importedPrice\n              }\n              helperText={\n                productFormik.touched.importedPrice\n                  ? productFormik.errors.importedPrice\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n              className={classes.margin}\n            />\n            {/* {Number(productFormik.values.importedPrice) >\n            Number(productFormik.values.salesPrice) ? (\n              <Typography variant=\"h6\" style={{ color: \"red\" }}>\n                {\" \"}\n                Giá vốn đang lớn hơn giá bán !!\n              </Typography>\n            ) : null} */}\n            {store_setting?.inventory.status ?\n            <>\n            <ThousandSeperatedInput\n              label=\"Tồn kho ban đầu\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"quantity\"\n              value={productFormik.values.quantity}\n              // onChange={productFormik.handleChange}\n              onChange={(e) => {\n                // productFormik.handleChange\n                productFormik.setFieldValue(\"quantity\", e.target.value);\n                if (relatedList.length !== 0) {\n                  var list = [...relatedList];\n                  list = relatedList.map(\n                    (i) => (i.quantity = e.target.value)\n                  );\n                  // list = relatedList.map(e =>({name:e,product_code:\"\", bar_code: \"\",standard_price:productFormik.values.importedPrice, list_price :value}))\n                  // setRelatedList(list)\n                }\n              }}\n              error={\n                productFormik.touched.quantity && productFormik.errors.quantity\n              }\n              helperText={\n                productFormik.touched.quantity\n                  ? productFormik.errors.quantity\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n\n            <ThousandSeperatedInput\n              label=\"Số lượng đặt hàng lại\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"re_order_point\"\n              value={productFormik.values.re_order_point}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.re_order_point &&\n                productFormik.errors.re_order_point\n              }\n              helperText={\n                productFormik.touched.re_order_point\n                  ? productFormik.errors.re_order_point\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            <ThousandSeperatedInput\n              label=\"Số lượng nhập hàng tối đa\"\n              variant=\"outlined\"\n              fullWidth\n              size=\"small\"\n              className={classes.margin}\n              name=\"max_order\"\n              value={productFormik.values.max_order}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.max_order &&\n                productFormik.errors.max_order\n              }\n              helperText={\n                productFormik.touched.max_order\n                  ? productFormik.errors.max_order\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n            />\n            </>:null}\n          </Grid>\n        </Grid>\n        <Grid container spacing={2}>\n          <Grid item xs>\n            <Box\n              display=\"flex\"\n              flexDirection=\"row\"\n              alignItems=\"center\"\n              style={{ marginTop: 10, marginBottom:20 }}\n            >\n              {display.map((img) => (\n                <Tooltip title=\"Xóa tất cả hình ảnh\">\n                  <Button size=\"small\" onClick={() => clearImage(img)}>\n                    <Box\n                      component=\"img\"\n                      sx={{\n                        height: 70,\n                        width: 70,\n                        marginLeft: 7,\n                        marginRight: 7,\n                        borderRadius: 2,\n                      }}\n                      src={img.link}\n                    />\n                  </Button>\n                </Tooltip>\n              ))}\n              {display.length === 0 ? <UploadImages /> : null}\n              <IconButton\n                disabled={display.length > 5 ? true : false}\n                color=\"primary\"\n                size=\"medium\"\n                component=\"label\"\n              >\n                <input type=\"file\" hidden onChange={addImageHandler} />\n                <AddIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n        </Grid>\n        {/* {store_setting?.expiryDate.status  ? ( */}\n\n        {store_setting?.expiryDate.status  &&store_setting?.inventory.status ? (\n          // <div style={{ flexGrow: 1, textAlign: \"right\" , alignItems:'center'}}>\n             <Grid container alignItems=\"center\" justifyContent='flex-end'>\n            {productFormik.values.has_batches?\n            < >\n             <Typography>Thông báo trước khi hết HSD </Typography>\n             <ThousandSeperatedInput\n            //  label=\"Thông báo trước khi hết HSD\"\n              // variant=\"outlined\"\n              // fullWidth\n              size=\"small\"\n             style={{marginRight:10}}\n              name=\"notification_period\"\n              value={productFormik.values.notification_period}\n              onChange={productFormik.handleChange}\n              error={\n                productFormik.touched.notification_period &&\n                productFormik.errors.notification_period\n              }\n              helperText={\n                productFormik.touched.notification_period\n                  ? productFormik.errors.notification_period\n                  : null\n              }\n              onBlur={productFormik.handleBlur}\n             />\n            <Typography style={{marginRight:10}}>ngày </Typography>\n          </>\n        \n             :null\n\n        }\n        \n            <FormControlLabel\n              control={\n                <Checkbox\n                  //checked={outOfDate}\n                  name=\"has_batches\"\n                  checked={productFormik.values.has_batches}\n                  onChange={productFormik.handleChange}\n                  //onChange={(event) => setOutOfDate(event.target.checked)}\n                />\n              }\n              label=\"Lô, hạn sử dụng\"\n            />\n   </Grid>\n          /* </div> */\n        ) : null}\n\n        {store_setting?.variation.status ? (\n          <>\n            <Card className={classes.attrCard} >\n              <CardHeader\n                onClick={handleExpandClick}\n                action={\n                  <IconButton\n                    size=\"small\"\n                    className={clsx(classes.expand, {\n                      [classes.expandOpen]: expanded,\n                    })}\n                    onClick={handleExpandClick}\n                    aria-expanded={expanded}\n                  >\n                    <ExpandMoreIcon />\n                  </IconButton>\n                }\n                title=\"Thuộc tính\"\n                className={classes.attrHead}\n              />\n              <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                <AddAttribute\n                  attributeList={attributeList}\n                  datas={datas}\n                  setDatas={setDatas}\n                  setRelatedList={setRelatedList}\n                  list_price={productFormik.values.salesPrice}\n                  standard_price={productFormik.values.importedPrice}\n                  // attrOfProduct={attrOfProduct}\n                  // setAttrOfProduct={setAttrOfProduct}\n                />\n              </Collapse>\n            </Card>\n            {/* GENERATE LIST */}\n            {relatedList.length > 0 ? (\n              <Card className={classes.attrCard}>\n                <CardHeader\n                  title=\"Danh sách hàng cùng loại\"\n                  className={classes.attrHead}\n                />\n                {/*  !!!! Handle value phần này */}\n                <RelaltedItemList\n                  relatedList={relatedList}\n                  setRelatedList={setRelatedList}\n                  isManageInventory = {store_setting?.inventory.status}\n                />\n              </Card>\n            ) : null}\n          </>\n\n        ) : null}\n\n\n      {/* MÔ TẢ */}\n      <Card className={classes.attrCard}>\n          <CardHeader\n            onClick={handleExpandedDescription}\n            action={ <IconButton size=\"small\" className={clsx(classes.expand, {  [classes.expandOpen]: expandedDescription, })}  onClick={handleExpandedDescription} aria-expanded={expanded} >  <ExpandMoreIcon /> </IconButton> }\n            title=\"Mô tả\"\n            className={classes.attrHead}\n          />\n          <Collapse in={expandedDescription} timeout=\"auto\" unmountOnExit style={{padding:0}}>\n              <ReactQuill theme=\"snow\" name=\"description\"value={productFormik.values.description} onChange={(val) => productFormik.setFieldValue(\"description\",val)}  modules={modules} formats={formats}  placeholder={'Write something...'} />\n          </Collapse>\n\n\n        </Card>\n        {/* <div>\n        <Tree />\n        </div> */}\n\n        {/* Button */}\n        <Grid\n          item\n          xs={12}\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <Button\n            onClick={handleCloseAndReset}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"secondary\"\n            style={{ marginRight: 20 }}\n          >\n            Huỷ\n          </Button>\n          <Button\n            onClick={() => {\n              if (relatedList.length) {\n                handleAddProductWithVariation();\n              } else {\n                addProductHandler();\n              }\n            }}\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n            disabled={\n              !(\n                productFormik.isValid \n                // &&\n                // Object.keys(productFormik.touched).length > 0\n              ) ||\n              Number(productFormik.values.importedPrice) >\n                Number(productFormik.values.salesPrice)\n            }\n          >\n            Thêm\n          </Button>\n        </Grid>\n      </Box>\n     \n    </Dialog>\n  \n  );\n};\n\nexport default AddInventory;\n\n\nconst modules = {\n  toolbar: [\n    [{ 'header': '1'}, {'header': '2'}, { 'font': [] }],\n    [{size: []}],\n    [{ align: '' }, { align: 'center' }, { align: 'right' }, { align: 'justify' }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [{'color':[]}],\n    [{'background':[]}],\n    [{'list': 'ordered'}, {'list': 'bullet'}, \n     {'indent': '-1'}, {'indent': '+1'}],\n    ['link', 'image', 'video'],\n    ['clean'],\n    \n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  },\n  imageResize: {\n    parchment: Quill.import('parchment'),\n    modules: ['Resize', 'DisplaySize','Toolbar']\n }\n}\n\n\nconst formats = [\n  'header', 'font', 'size',\n  'bold', 'italic', 'underline', 'strike', 'blockquote',\n  'list', 'bullet', 'indent',\n  'link', 'image', 'video','color','background'\n]\n\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z\"\n}), 'CardGiftcard');\n\nexports.default = _default;","import React, {useEffect,useState} from \"react\";\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\n\n//import library\nimport {\n  Button,\n  TextField,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Typography,\n  Grid,\n  Avatar,\n  Dialog,\n  FormHelperText\n} from \"@material-ui/core\";\n\n//import project\nimport customerApi from \"../../../../api/customerApi\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { statusAction } from \"../../../../store/slice/statusSlice\";\nimport storeApi from \"../../../../api/storeApi\";\nimport CustomerRegisterEmail from \"../../../../components/Email/CustomerRegisterEmail\";\nimport Fuse from 'fuse.js'\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiTextField-root\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    headerTitle: {\n      fontSize: \"1.125rem\",\n    },\n    ava: {\n      width: theme.spacing(7),\n      height: theme.spacing(7),\n    },\n    textField: {\n      width: \"100%\",\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\n\nconst AddCustomer = (props) => {\n  const { handleClose, open, onReload } = props;\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const [phoneExist, setPhoneExist] = React.useState(false);\n  const [clicked, setClicked] =useState(false)\n\n  const customerFormik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\",\n      paymentInfo:\"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required(\"Nhập tên khách hàng\"),\n      phone: Yup.string()\n        .length(10, \"Số điện thoại không chính xác\")\n        .matches(/^\\d+$/),\n      email: Yup.string().email(\"Email không chính xác\")\n      // address: Yup.string().required(\"Nhập địa chỉ nhà cung cấp\"),\n    }),\n  })\n\n  const info = useSelector(state => state.info)\n  const store_uuid = info.store.uuid\n\n  // const handleCloseAndReset =() =>{\n  //   onReload()\n  //   // handleClose()\n  //   customerFormik.resetForm()\n  // } \n \n  useEffect(() =>{\n    if(phoneExist) {setPhoneExist(false)}\n  },[customerFormik.values.phone])\n\n  const dispatch = useDispatch()\n  return (\n \n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">\n        <Typography className={classes.headerTitle} variant=\"h5\">\n          Thêm khách hàng\n        </Typography>\n      </DialogTitle>\n\n      <DialogContent>\n        <div className={classes.root}>\n\n          <Grid\n            container\n            direction=\"row\"\n            justifyContent=\"space-around\"\n            spacing={3}\n          >\n            <Grid item sm={7}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Tên khách hàng\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                required\n                name = \"name\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.name}\n                error={customerFormik.touched.name && customerFormik.errors.name}\n                helperText={customerFormik.touched.name ? customerFormik.errors.name : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Số điện thoại\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name=\"phone\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.phone}\n                error={customerFormik.touched.phone && customerFormik.errors.phone}\n                helperText={customerFormik.touched.phone ? customerFormik.errors.phone : null}\n                onBlur={customerFormik.handleBlur}\n              />\n               { phoneExist && (\n                <FormHelperText error>Số điện thoại đã được sử dụng</FormHelperText>\n              )}\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Địa chỉ\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name= \"address\"\n                // required\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.address}\n                error={customerFormik.touched.address && customerFormik.errors.address}\n                helperText={customerFormik.touched.address ? customerFormik.errors.address : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n            <Grid item sm={5}>\n              \n              <TextField\n                id=\"outlined-basic\"\n                label=\"Email\"\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                name = \"email\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.email}\n                error={customerFormik.touched.email && customerFormik.errors.email}\n                helperText={customerFormik.touched.email ? customerFormik.errors.email : null}\n                onBlur={customerFormik.handleBlur}\n              />\n              <TextField\n                id=\"date\"\n                label=\"Thông tin thanh toán\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.textField}\n                name = \"paymentInfo\"\n                onChange={customerFormik.handleChange}\n                value={customerFormik.values.paymentInfo}\n                error={customerFormik.touched.paymentInfo && customerFormik.errors.paymentInfo}\n                helperText={customerFormik.touched.paymentInfo ? customerFormik.errors.paymentInfo : null}\n                onBlur={customerFormik.handleBlur}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </DialogContent>\n\n      <DialogActions>\n        <Button\n          onClick={ handleClose}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"secondary\"\n        >\n          Huỷ\n        </Button>\n        <Button\n          onClick={async () => {   \n            // handleClose()  \n            setClicked(true)\n            let body = {\n              name: customerFormik.values.name,\n              email: customerFormik.values.email,\n              phone: customerFormik.values.phone,\n              address: customerFormik.values.address,\n              payment_info: customerFormik.values.paymentInfo,\n            };\n\n            try {\n              const response = await customerApi.createCustomer(store_uuid, body);\n              if (customerFormik.values.email) {\n                const customer = response.data;\n                if (customer) {\n                  const emailRes = await storeApi.sendEmail(\n                    store_uuid, customer.email, customer.name, \"Chúc mừng khách hàng mới\", CustomerRegisterEmail(\"\", \"\", customer, info.store) )\n                }\n              }\n              handleClose()  \n              dispatch(statusAction.successfulStatus(\"Tạo khách hàng thành công\"));\n              // handleCloseAndReset()\n             \n              props.onReload()\n              \n              // props.handleSelectCustomer(response.data)\n              if(props.isCart){\n                props.setAddCustomer(response.data)\n              }\n              \n            } catch (err) {\n              // dispatch(statusAction.failedStatus(\"Số điện thoại đã được sử dụng\"));\n              setPhoneExist(true)\n              setClicked(false)\n              console.log(err)\n            }\n\n          }}\n          variant=\"contained\"\n          size=\"small\"\n          color=\"primary\"\n          disabled = {!(customerFormik.isValid\n            //  && Object.keys(customerFormik.touched).length > 0\n             ) \n             || clicked}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n      </Dialog>\n  );\n};\n\nexport default AddCustomer;\n","import React from 'react'\nimport { useTheme, makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport {\n  Grid,\n  Box,\n  Typography,\n  DialogActions,\n  DialogContent,\n  Button,\n  Dialog,\n  FormControlLabel,\n  Checkbox,\n  FormControl,\n  RadioGroup,\n  Radio,\n  ListItem,\n  Paper,\n  ButtonBase,\n  Avatar,\n  Popover\n} from \"@material-ui/core\";\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport * as Input from \"./NumberFormatCustom\";\nimport {\n  VNDFormat,\n  ThousandFormat,\n} from \"../TextField/NumberFormatCustom\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    popup: { borderColor: theme.customization.primaryColor[500], padding: 5, paddingLeft:12, boxShadow: \"0px 5px 10px 0px rgba(0, 0, 0, 0.5)\" }\n  })\n);\n\nconst DiscountInputDetail = ({handleUpdateDiscountDetail,cartData,setAnchorEl}) =>{\n    const theme = useTheme();\n    const classes = useStyles(theme);\n    \n    const handleChangeValue = (e) =>{\n      // if(e.target.value < 0){e.target.value = 0}\n      console.log(\"e.target.value.includes('-') \",!e.target.value )\n\n      // if(!e.target.value){e.target.value = 0; return; }\n      if(e.target.value < 0 || e.target.value.includes('-') ){return}\n\n      else if(cartData.discountDetail?.type === \"%\"){\n        if(Number(e.target.value) > 100){ \n          handleUpdateDiscountDetail({value:'100', type:'%'})\n        }\n        else{  \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value, type:'%'})\n        }\n      }\n      else{\n        if(Number(e.target.value) > Number(cartData.total_amount)){ \n          handleUpdateDiscountDetail({value: cartData.total_amount, type:'VND'})\n        }\n        else{ \n          handleUpdateDiscountDetail({value:!e.target.value?\"0\": e.target.value.toString(), type:'VND'})\n  \n        }\n      }\n    }\n    const handleChangeType = (type) =>{\n      if(type === \"%\") {\n        handleUpdateDiscountDetail({type:'%',value:(Number(cartData.discountDetail?.value) / Number(cartData.total_amount)*100).toFixed(2).toString()})\n      }else{\n        handleUpdateDiscountDetail({type:'VND',value:((Number(cartData.discountDetail?.value) *Number(cartData.total_amount)/100 / 100).toFixed() * 100).toString()})\n      }\n    }\n  \n    return(\n      <ClickAwayListener onClickAway={()=>setAnchorEl(null)}>\n        <Paper  variant=\"outlined\" className={classes.popup}  >\n           <Grid  container alignItems='center' spacing={2} >\n                  <Grid item><Typography variant=\"h5\" >Giảm giá </Typography></Grid>\n                  <Grid item>\n                  <ListItem>\n                    <Input.ThousandSeperatedInput style={{color:\"#000\", marginRight:10, width:90}} \n                     value={cartData.discountDetail?.value}\n                     onChange={handleChangeValue}\n                    /> \n                    <Grid item style={{ marginRight:5}}> \n                        <ButtonBase sx={{ borderRadius: '16px', }} \n                            onClick={()=>handleChangeType(\"VND\")}\n                            // onClick={handleChangeMoneyTypeToVND}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"VND\"?  theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >VND</Typography>\n                          </Avatar>     \n                      </ButtonBase>\n                      </Grid> \n                      <Grid item> \n                        <ButtonBase sx={{ borderRadius: '16px' }} \n                            onClick={()=>handleChangeType(\"%\")}\n                            // onClick={handleChangeMoneyTypeToPercent}\n                          >\n                          <Avatar variant=\"rounded\"   style={{width: theme.spacing(4),height: theme.spacing(3), background:cartData.discountDetail?.type ===\"%\"?theme.palette.primary.main :null,}} >\n                              <Typography  style={{fontSize:13, fontWeight:500}} >%</Typography>\n                          </Avatar>    \n                      </ButtonBase>\n                    </Grid> \n                    </ListItem> \n                  </Grid>\n               </Grid>\n\n               <Grid  container alignItems='center' justifyContent=\"space-between\"spacing={3} >\n                    <Grid item><Typography variant=\"h5\" >Khuyến mãi</Typography></Grid>\n                    <Grid item>{<VNDFormat value={cartData.discountPro} style={{marginRight:20, }}/>}</Grid>\n               </Grid>\n  \n      </Paper>\n      </ClickAwayListener>\n    )\n  }\n\nexport default DiscountInputDetail","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useState } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { Typography } from \"@material-ui/core\";\nimport * as _ from \"lodash\";\n\nexport default function SelectBatch({ handleSubmit, handleClose, row, isInventoryCheck }) {\n  const [selectedBatches, setSelectedBatches] = useState([]);\n  return (\n    <Dialog open={true}>\n      {/* <DialogTitle\n        style={{ fontSize: 16, paddingRight:30 }}\n      >{`Chọn lô của ${row.product_code} - ${row.name}`}</DialogTitle> */}\n      <Typography style={{ fontSize: 16,fontWeight:600, marginTop:15, marginLeft:15, paddingRight:30 }}>{`Chọn lô của ${row.product_code} - ${row.name}`}</Typography>\n\n      <DialogContent>\n        <Autocomplete\n          options={row.batches}\n          getOptionLabel={(batch) =>\n            `${batch?.batch_code} - ${\n              batch?.expiry_date ? batch?.expiry_date : \"\"\n            } - Tồn kho: ${batch?.quantity}`\n          }\n          renderInput={(params) => (\n            <TextField {...params} label=\"Tìm mã lô\" variant=\"standard\" />\n          )}\n          onChange={(e, value) => {\n            if (value) {\n              setSelectedBatches(\n                _.uniqBy(\n                  [\n                    ...selectedBatches,\n                    ...[{ ...value, additional_quantity: 0, is_new: false }],\n                  ],\n                  \"batch_code\"\n                )\n              );\n            }\n          }}\n        />\n        <div style={{ marginTop: 20 }}>\n          {selectedBatches.map((batch) => {\n            return (\n              <div\n                key={batch?.batch_code}\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  gap: 10,\n                  border: \"2px solid #eee\",\n                  borderRadius: 5,\n                  marginBottom: 10,\n                  alignItems: \"center\",\n                  width: 500,\n                  justifyContent: \"space-between\",\n                  padding: 10,\n                }}\n              >\n                <Typography variant=\"h5\">{`${batch?.batch_code} - ${\n                  batch?.expiry_date ? batch?.expiry_date : \"\"\n                } - Tồn kho: ${batch?.quantity}`}</Typography>\n                <TextField\n                  type=\"number\"\n                  style={{ width: 100 }}\n                  value={batch.additional_quantity}\n                  onChange={(e) => {\n                    if (Number(e.target.value) < 0) return;\n                    const newSelectedList = selectedBatches.map(\n                      (selectedBatch) => {\n                        if (selectedBatch.batch_code === batch.batch_code) {\n                          return {\n                            ...selectedBatch,\n                            additional_quantity: Number(e.target.value),\n                          };\n                        } else {\n                          return selectedBatch;\n                        }\n                      }\n                    );\n                    setSelectedBatches(newSelectedList);\n                  }}\n                ></TextField>\n              </div>\n            );\n          })}\n        </div>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"secondary\" size=\"small\"variant=\"contained\" onClick={handleClose}>\n          Hủy\n        </Button>\n        <Button\n          color=\"primary\"\n          size=\"small\"variant=\"contained\"\n          onClick={() => {\n            if (!isInventoryCheck) {\n              const nonZeroBatch = selectedBatches.filter(\n                (batch) => batch.additional_quantity\n              );\n              handleSubmit(nonZeroBatch);\n            } else {\n              handleSubmit(selectedBatches);\n            }\n            handleClose();\n          }}\n        >\n          Thêm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react'\nimport {\n  Drawer,TextField, Typography,Button,Grid,MenuItem,Select,InputLabel,FormControl\n} from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport { useTheme } from \"@material-ui/styles\";\nimport VNDInput from '../../../../components/TextField/NumberFormatCustom'\n\nconst drawerWidth = 300;\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    \n    drawerPaper: {\n      width: drawerWidth,\n      padding:15\n    },\n    textField:{marginBottom:10},\n    text:{marginBottom:10,marginTop:15}\n  })\n);\nconst OrderProductListFilter = (props) => {\n    const {handleToggleFilter,openFilter} =props;\n\n    const theme = useTheme();\n    const classes = useStyles(theme);\n\n    return (\n    <Drawer\n        anchor=\"right\"\n        onClose={handleToggleFilter}\n        open={openFilter}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        className={classes.drawer}\n      >\n         {/* Nhan vien, NCC?? search ở đây hay chỗ kia -> search sđt ,mã , tên,...*/}\n         {/* 1.Ngay from-to */}\n      <Typography variant=\"h5\"className={classes.text} >Ngày đặt:</Typography>\n      <TextField id=\"date\" label=\"Từ\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n       <TextField id=\"date\" label=\"Đến\" type=\"date\"  defaultValue=\"\"  variant=\"outlined\" size=\"small\" fullWidth className={classes.textField} InputLabelProps={{ shrink: true }} // value={dateOfBirth} // onChange={(event) => setDateOfBirth(event.target.value)}\n      />\n      {/* 2,Khoảng tiền from-to*/}\n      <Typography variant=\"h5\"className={classes.text} >Tiền đơn nhập:</Typography>\n      <VNDInput required label=\"Từ\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n        //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n      <VNDInput required label=\"Đến\" variant=\"outlined\" fullWidth size=\"small\" className={classes.textField}\n      //  value={productInfo.importedPrice}\n        // onChange={(e) =>\n        //   setProductInfo({\n        //     ...productInfo,\n        //     importedPrice: e.target.value,\n        //   })\n        // }\n      />\n       {/* 3.Chi nhanh */}\n       <Typography variant=\"h5\"className={classes.text} >Chi nhánh:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Chi nhánh trung tâm</MenuItem>\n        <MenuItem value=\"q1\">Chi nhánh quận 1</MenuItem>\n      </Select>\n      </FormControl>\n\n      {/* 4. Trang thai */}\n      <Typography variant=\"h5\"className={classes.text} >Trạng thái:</Typography>\n      <FormControl\n          className={classes.formControl}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        >\n      <Select\n        labelId=\"demo-simple-select-outlined-label\"\n        id=\"demo-simple-select-outlined\"\n        size=\"small\"\n        // onChange={(event) => { setGender(event.target.value) }}\n        // label=\" Chi nhánh\"\n        // value={gender}\n      >\n        <MenuItem value=\"trungtam\">Còn nợ</MenuItem>\n        <MenuItem value=\"q1\">Trả đủ</MenuItem>\n      </Select>\n      </FormControl>\n\n        {/* BUTTON */}\n        <Button variant=\"contained\"  color=\"primary\" style={{marginTop:30}}>\n           Lọc\n      </Button>\n\n\n          \n    </Drawer>\n    )\n}\n\nexport default OrderProductListFilter\n\n","import React from 'react'\nimport useRowStyles from '../../../../components/TableCommon/style/rowStyle'\nimport clsx from \"clsx\";\nimport { VNDFormat,ThounsandFormat } from '../../../../components/TextField/NumberFormatCustom';\nimport {TableCell,TableRow} from '@material-ui/core';\n\nimport {FormatedStatusOrder} from '../../../../components/TableCommon/util/format'\nimport OrderProductListDetail from './OrderProductListDetail/OrderProductListDetail'\nimport { Typography } from '@mui/material';\n\nconst OrderProductListTableRow = (props) => {\n    const { row, handleOpenRow,openRow, reload,colorText,isReport} = props;\n    const classes = useRowStyles();\n\n    console.log(\"rowrowrowrow\",row)\n    return (\n        <>\n        {/* ROW */}\n            <TableRow\n            onClick={() => handleOpenRow(row.id)}   \n            key={row.id}\n            className={ clsx(classes.row,(openRow === row.id) ? classes.rowClicked : null)}\n            >\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.customer_order_code}</TableCell>\n                {/* <TableCell align=\"left\"className={classes.fontName}>{row.created_at}</TableCell> */}\n                <TableCell align=\"left\"className={colorText?null:classes.fontName}  style={{color:colorText}}> {row.created_at?.split(\" \")[0].split('-').reverse().join('/').concat(\"\\u00a0\\u00a0\"+ row.created_at?.split(\" \")[1].substr(0, 5)) }</TableCell>\n                <TableCell align=\"left\"className={colorText?null:classes.fontName} style={{color:colorText}}>{row.name}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.phone}</TableCell>\n                <TableCell align=\"left\"  style={{color:colorText}}>{row.address}{`, `}{row.ward}{`, `}{row.district}{`, `}{row.city}</TableCell>\n                <TableCell align=\"right\" className={colorText?null:classes.fontName}  style={{color:colorText}}><VNDFormat value={row.total_amount} /></TableCell>\n                {isReport?null:<TableCell align=\"center\">\n                        <FormatedStatusOrder status={row.status}/>:\n                </TableCell>}\n                {/* <TableCell align=\"left\">{row.address}</TableCell> */}\n            </TableRow>\n\n        {/* DETAIL */}\n            <TableRow>\n              {/* colspan  => số cột trong collapse */}\n              <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={8}>           \n                    <OrderProductListDetail parentProps={props} openRow={openRow} reload={reload}/>       \n              </TableCell>\n       \n            </TableRow>\n        </>\n    )\n}\n\nexport default OrderProductListTableRow\n","import React, {useState, useEffect,useRef} from 'react'\nimport {useTheme} from \"@material-ui/core/styles\";\n//import style\nimport useStyles from \"../../../components/TableCommon/style/mainViewStyle\";\n//import lib\nimport {Typography,Card,Divider ,Grid,ButtonBase,Avatar,Tooltip,TableBody,Box} from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useReactToPrint } from \"react-to-print\";\n\n//import api \n\n// import redux\nimport { customizeAction } from \"../../../store/slice/customizeSlice\";\nimport { useDispatch,useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\n\n//import constant\nimport * as HeadCells from '../../../assets/constant/tableHead'\nimport *  as TableType from '../../../assets/constant/tableType'\n\n////import project\nimport OrderProductListFilter from './OrderProductListTool/OrderProductListFilter'\n\nimport OrderProductListTableRow from './OrderProductListTableRow/OrderProductListTableRow'\n//chung\nimport TableHeader  from '../../../components/TableCommon/TableHeader/TableHeader'\nimport ToolBar from '../../../components/TableCommon/ToolBar/ToolBar'\nimport TableWrapper from '../../../components/TableCommon/TableWrapper/TableWrapper'\n\nimport JSONdata from '../../../assets/JsonData/inventoryOrder.json'\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {BillMiniTableRow} from \"../../../components/MiniTableRow/MiniTableRow\"\n\nimport Pagination from \"../../../components/TableCommon/TableWrapper/Pagination\"\n\nimport orderApi from '../../../api/orderApi';\nimport { statusAction } from \"../../../store/slice/statusSlice\";\nimport moment from \"moment\";\n\n\nconst OrderProductList = () => {\n   // fetch data here\n   const orderProductList = JSONdata;\n  \n\n   const theme = useTheme();\n   const classes = useStyles(theme);\n   const dispatch = useDispatch();\n   const xsScreen = useMediaQuery(theme.breakpoints.down(\"xs\")) ;\n  \n\n\n   //// 2. Table\n   //collapse\n   const [openRow, setRowOpen] = React.useState(null);\n   const handleOpenRow = (row) => {\n       if (row !==  openRow){setRowOpen(row);}\n       else{setRowOpen(null)}  \n   };\n\n   // header sort \n   const [order, setOrder] = React.useState('asc');\n   const [orderBy, setOrderBy] = React.useState('id');\n   \n   const handleRequestSort = (event, property) => {\n     //// (gửi order vs orderBy lên api) -> fetch lại data để sort\n     // const isAsc = orderBy === property && order === 'asc';\n     // setOrder(isAsc ? 'desc' : 'asc');\n     // setOrderBy(property);\n   };\n\n\n    //3. ToolBar\n     // toolbar\n  const componentRef = useRef();\n  const handlePrint = useReactToPrint({\n      content: () => componentRef.current,\n  });\n    //3.1. search\n\n    //3.2. filter\n    const [openFilter, setOpenFilter] = React.useState(false);\n    const handleToggleFilter = () => {\n      setOpenFilter(!openFilter);\n    };\n\n    //3.3. loc cot\n\n\n\n\n    // fileter\n    const [customerOrders, setCustomerOrders] = useState([])\n    const initialQuery = {\n      startDate: '',\n      endDate: '',\n      minTotalAmount: 0,\n      maxTotalAmount: 0,\n      status: '',\n      orderBy: 'customer_orders.created_at',\n      sort: 'desc',\n      searchKey: '',\n    };\n    const handleRemoveFilter = () => {\n      setQuery(initialQuery)\n    }\n    const [query, setQuery] = useState(initialQuery)\n    const [reload, setReload] = React.useState(false);\n    const [pagingState, setPagingState] = useState({\n      page: 0,\n      limit: 10,\n    });\n    const [totalRows, setTotalRows] = useState(0)\n    const onReload = () => {\n      setReload(!reload);\n    };\n    const info = useSelector((state) => state.info);\n  const store_uuid = info.store.uuid;\n  const branch_uuid = info.branch.uuid;\n\n  useEffect(() => {\n    setPagingState({ ...pagingState, page: 0 });\n  }, [reload, store_uuid, branch_uuid, query]);\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const response = await orderApi.searchCustomerOrder(\n          store_uuid,\n          branch_uuid,\n          {\n            page: pagingState.page,\n            limit: pagingState.limit,\n            ...query\n          }\n        );\n        // setPagingState({ ...pagingState, total_rows: response.total_rows });\n        setTotalRows(response.total_rows);\n        setCustomerOrders(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    if (store_uuid && branch_uuid ) {\n      \n      loadData();\n    }\n  }, [pagingState.page, pagingState.limit, branch_uuid, query, reload]);\n\n  const tableRef = React.createRef();\n\n  const getDataExport = async () => {\n    try {\n      const response = await orderApi.searchCustomerOrder(\n        store_uuid,\n        branch_uuid,\n        query,\n      );\n      return response.data;\n    } catch (error) {\n      dispatch(statusAction.failedStatus(\"Không thể lấy dữ liệu!\"));\n      console.log(error);\n    }\n  }\n\n  return (\n    <Card className={classes.root} >\n          <Grid \n            container\n            direction=\"row\"\n            justifyContent=\"space-between\"  \n          > \n              {/* 1. ADD POP UP */}\n                <Typography className={classes.headerTitle} variant=\"h5\">\n                    Đơn đặt hàng\n                </Typography>\n\n                <Grid className={classes.btngroup1} >\n                    <ButtonBase \n                        sx={{ borderRadius: '16px' }} \n                        onClick={()=>{dispatch(customizeAction.setSidebarOpen(false));}}\n                        component={Link}\n                        to='/home/inventory/order-list/order' \n                        >\n                        <Avatar variant=\"rounded\" className={classes.headerAvatar}  >\n                            <Tooltip title=\"Đặt hàng\">\n                            <AddIcon stroke={1.5} size=\"1.3rem\" />\n                            </Tooltip>\n                        </Avatar>\n                    </ButtonBase>\n            </Grid>\n          </Grid>\n    \n          <Divider />\n\n          {/* 2. SEARCH - FILTER - EXPORT*/}\n          {/* SAU NÀY SỬA LẠI TRUYỀN DATA SAU KHI FILTER, SORT, LỌC CỘT VÀO */}\n          {/* <ToolBar  dataTable={inventoryOrderList} tableType={TableType.INVENTORY_ORDER} /*handlePrint={handlePrint}*/ }\n          <ToolBar  dataTable={orderProductList} tableType={TableType.ORDER_LIST}  textSearch={'#, NCC, Nguoi đặt,...'}\n           handleToggleFilter={handleToggleFilter}  handlePrint={handlePrint}\n\n           orderByOptions={[\n            {value: 'customer_orders.created_at', label: 'Ngày tạo'},\n            {value: 'total_amount', label: 'Tổng tiền'},\n          ]}\n          orderBy={query.orderBy} setOrderBy={(value) => setQuery({...query, orderBy: value})}\n          sort={query.sort} setSort={(value) => setQuery({...query, sort:value})}\n          searchKey={query.searchKey} setSearchKey={(value) => setQuery({...query, searchKey: value})}\n          handleRemoveFilter={handleRemoveFilter}\n          getDataExport={getDataExport}\n          columnsToKeep = {[\n            {dbName:\"customer_order_code\",displayName:\"Mã đơn đặt\"},\n            {dbName:\"name\",displayName:\"Tên khách\"},\n            {dbName:\"phone\",displayName:\"Số điện thoại\"},\n            {dbName:\"total_amount\",displayName:\"Tổng tiền\"}, \n            {dbName:\"status\",displayName:\"Trạng thái\"}, \n            {dbName:\"description\",displayName:\"Ghi chú\"},\n          ]}\n           \n           /> \n\n          {/* <OrderProductListFilter openFilter={openFilter} handleToggleFilter={handleToggleFilter}/> */}\n\n\n\n          {/* 3. TABLE */}\n          {!xsScreen?<TableWrapper\n           pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           tableRef={tableRef}\n\n          >\n              <TableHeader\n                classes={classes}\n                order={order}\n                orderBy={orderBy}\n                onRequestSort={handleRequestSort}\n                headerData={HeadCells.OrderListHeadCells}\n              />\n              <TableBody>\n                {customerOrders.map((row, index) => {\n                  console.log(\"row\",row)\n                    return (\n                      <OrderProductListTableRow key={row.id} row={row}  openRow={openRow}  handleOpenRow={handleOpenRow} reload={onReload}/>\n         \n                    );\n                })}\n              </TableBody>\n          </TableWrapper>:\n         <>\n          <Box style={{minHeight:'50vh'}}>\n         { orderProductList.map((row, index) => {\n            return (\n              <BillMiniTableRow key={row.id} row={row} openRow={openRow} handleOpenRow={handleOpenRow}  \n              //onReload={onReload} \n              totalCost={10000}  id={\"OR00001\"} partnerName={\"THAY THẾ\"} date={\"22/12/2008\"} \n              typeBill={\"Đơn đặt hàng nhập\"} />\n            );\n          })}\n          </Box>\n          <Pagination pagingState={{...pagingState, total_rows: totalRows}} setPagingState={setPagingState}\n           list={customerOrders}\n           />\n    \n          </>}\n          <div  style={{display:'none'}} >\n            <div ref={componentRef}  >\n            <ComponentToPrint  customerOrders={customerOrders} classes={classes}/>\n            </div>\n        \n          </div>\n     \n      </Card>\n  )\n}\n\nexport default OrderProductList\n\nconst ComponentToPrint = ({customerOrders,classes}) =>{\n  return (\n  <div style={{padding:10}}>\n  <Typography style={{color:'#000'}}>Ngày lập:  {moment(new Date()).format(\"DD/MM/YYYY HH:mm\")}</Typography>\n  <Box style={{ margin: 10,flexGrow: 1,  textAlign: \"center\" ,color: \"#000\"}}>\n    <Typography style={{  fontSize: 18, fontWeight: 600}} >\n      {/* Thống kê đơn đặt hàng */}\n      THỐNG KÊ ĐƠN ĐẬT HÀNG\n    </Typography>\n    {/* <Typography  >\n      {`Từ ngày: ${query.startDate ? ` ${query.startDate.split('-').reverse().join('/')}` :firstDate} - Đến ngày: ${query.endDate? query.endDate.split('-').reverse().join('/') : moment(new Date()).format('DD/MM/YYYY')}`}\n    </Typography> */}\n    {/* {query.minTotalAmount || query.maxTotalAmount ? <Typography  > {`Tổng tiền lệch từ: ${query.minTotalAmount?query.minTotalAmount:0}đ đến ${query.maxTotalAmount?query.maxTotalAmount:0}đ`} </Typography>:null}\n    {query.searchKey ? <Typography  > {`Tìm kiếm theo: ${query.searchKey}`} </Typography>:null}  */}\n\n  </Box>\n  <div>\n  <TableWrapper  isReport={true} >\n    <TableHeader\n    color=\"#000\"\n      classes={classes}\n      headerData={HeadCells.OrderListHeadCells.filter(item => item.id !== \"status\")}\n    />\n    <TableBody>\n      {customerOrders.map((row, index) => {\n        return  <OrderProductListTableRow colorText={\"#000\"} key={row.uuid} row={row} isReport={true}/>\n        })}\n    </TableBody>\n    </TableWrapper>\n  </div>\n</div>\n  )\n}"],"sourceRoot":""}